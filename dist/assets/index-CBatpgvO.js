var _ee=Object.defineProperty;var bM=e=>{throw TypeError(e)};var Nee=(e,t,n)=>t in e?_ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ht=(e,t,n)=>Nee(e,typeof t!="symbol"?t+"":t,n),T_=(e,t,n)=>t.has(e)||bM("Cannot "+n);var le=(e,t,n)=>(T_(e,t,"read from private field"),n?n.call(e):t.get(e)),lt=(e,t,n)=>t.has(e)?bM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qe=(e,t,n,r)=>(T_(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),kt=(e,t,n)=>(T_(e,t,"access private method"),n);var ax=(e,t,n,r)=>({set _(a){qe(e,t,a,n)},get _(){return le(e,t,r)}});function See(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var V6={exports:{}},iw={},W6={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=Symbol.for("react.element"),Cee=Symbol.for("react.portal"),kee=Symbol.for("react.fragment"),Eee=Symbol.for("react.strict_mode"),Pee=Symbol.for("react.profiler"),Aee=Symbol.for("react.provider"),Tee=Symbol.for("react.context"),Oee=Symbol.for("react.forward_ref"),Mee=Symbol.for("react.suspense"),Dee=Symbol.for("react.memo"),Iee=Symbol.for("react.lazy"),wM=Symbol.iterator;function Ree(e){return e===null||typeof e!="object"?null:(e=wM&&e[wM]||e["@@iterator"],typeof e=="function"?e:null)}var H6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G6=Object.assign,Y6={};function vf(e,t,n){this.props=e,this.context=t,this.refs=Y6,this.updater=n||H6}vf.prototype.isReactComponent={};vf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K6(){}K6.prototype=vf.prototype;function I2(e,t,n){this.props=e,this.context=t,this.refs=Y6,this.updater=n||H6}var R2=I2.prototype=new K6;R2.constructor=I2;G6(R2,vf.prototype);R2.isPureReactComponent=!0;var jM=Array.isArray,J6=Object.prototype.hasOwnProperty,$2={current:null},X6={key:!0,ref:!0,__self:!0,__source:!0};function Q6(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)J6.call(t,r)&&!X6.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Qg,type:e,key:i,ref:o,props:a,_owner:$2.current}}function $ee(e,t){return{$$typeof:Qg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qg}function Lee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _M=/\/+/g;function O_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lee(""+e.key):t.toString(36)}function by(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qg:case Cee:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+O_(o,0):r,jM(a)?(n="",e!=null&&(n=e.replace(_M,"$&/")+"/"),by(a,t,n,"",function(u){return u})):a!=null&&(L2(a)&&(a=$ee(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_M,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",jM(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+O_(i,l);o+=by(i,t,n,c,a)}else if(c=Ree(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+O_(i,l++),o+=by(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ix(e,t,n){if(e==null)return e;var r=[],a=0;return by(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Fee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var us={current:null},wy={transition:null},Bee={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:wy,ReactCurrentOwner:$2};function Z6(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:ix,forEach:function(e,t,n){ix(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ix(e,function(){t++}),t},toArray:function(e){return ix(e,function(t){return t})||[]},only:function(e){if(!L2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=vf;_t.Fragment=kee;_t.Profiler=Pee;_t.PureComponent=I2;_t.StrictMode=Eee;_t.Suspense=Mee;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bee;_t.act=Z6;_t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=G6({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)J6.call(t,c)&&!X6.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Qg,type:e.type,key:a,ref:i,props:r,_owner:o}};_t.createContext=function(e){return e={$$typeof:Tee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Aee,_context:e},e.Consumer=e};_t.createElement=Q6;_t.createFactory=function(e){var t=Q6.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:Oee,render:e}};_t.isValidElement=L2;_t.lazy=function(e){return{$$typeof:Iee,_payload:{_status:-1,_result:e},_init:Fee}};_t.memo=function(e,t){return{$$typeof:Dee,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=wy.transition;wy.transition={};try{e()}finally{wy.transition=t}};_t.unstable_act=Z6;_t.useCallback=function(e,t){return us.current.useCallback(e,t)};_t.useContext=function(e){return us.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return us.current.useDeferredValue(e)};_t.useEffect=function(e,t){return us.current.useEffect(e,t)};_t.useId=function(){return us.current.useId()};_t.useImperativeHandle=function(e,t,n){return us.current.useImperativeHandle(e,t,n)};_t.useInsertionEffect=function(e,t){return us.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return us.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return us.current.useMemo(e,t)};_t.useReducer=function(e,t,n){return us.current.useReducer(e,t,n)};_t.useRef=function(e){return us.current.useRef(e)};_t.useState=function(e){return us.current.useState(e)};_t.useSyncExternalStore=function(e,t,n){return us.current.useSyncExternalStore(e,t,n)};_t.useTransition=function(){return us.current.useTransition()};_t.version="18.3.1";W6.exports=_t;var g=W6.exports;const X=Qt(g),F2=See({__proto__:null,default:X},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uee=g,zee=Symbol.for("react.element"),qee=Symbol.for("react.fragment"),Vee=Object.prototype.hasOwnProperty,Wee=Uee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hee={key:!0,ref:!0,__self:!0,__source:!0};function e8(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Vee.call(t,r)&&!Hee.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:zee,type:e,key:i,ref:o,props:a,_owner:Wee.current}}iw.Fragment=qee;iw.jsx=e8;iw.jsxs=e8;V6.exports=iw;var s=V6.exports,t8={exports:{}},ua={},n8={exports:{}},r8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var D=R.length;R.push(F);e:for(;0<D;){var H=D-1>>>1,z=R[H];if(0<a(z,F))R[H]=F,R[D]=z,D=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],D=R.pop();if(D!==F){R[0]=D;e:for(var H=0,z=R.length,_=z>>>1;H<_;){var O=2*(H+1)-1,T=R[O],q=O+1,W=R[q];if(0>a(T,D))q<z&&0>a(W,T)?(R[H]=W,R[q]=D,H=q):(R[H]=T,R[O]=D,H=O);else if(q<z&&0>a(W,D))R[H]=W,R[q]=D,H=q;else break e}}return F}function a(R,F){var D=R.sortIndex-F.sortIndex;return D!==0?D:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=R)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(R){if(p=!1,w(R),!v)if(n(c)!==null)v=!0,M(N);else{var F=n(u);F!==null&&$(j,F.startTime-R)}}function N(R,F){v=!1,p&&(p=!1,y(k),k=-1),m=!0;var D=f;try{for(w(F),h=n(c);h!==null&&(!(h.expirationTime>F)||R&&!P());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var z=H(h.expirationTime<=F);F=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&r(c),w(F)}else r(c);h=n(c)}if(h!==null)var _=!0;else{var O=n(u);O!==null&&$(j,O.startTime-F),_=!1}return _}finally{h=null,f=D,m=!1}}var S=!1,C=null,k=-1,E=5,A=-1;function P(){return!(e.unstable_now()-A<E)}function B(){if(C!==null){var R=e.unstable_now();A=R;var F=!0;try{F=C(!0,R)}finally{F?U():(S=!1,C=null)}}else S=!1}var U;if(typeof b=="function")U=function(){b(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=B,U=function(){L.postMessage(null)}}else U=function(){x(B,0)};function M(R){C=R,S||(S=!0,U())}function $(R,F){k=x(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,M(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var D=f;f=F;try{return R()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=f;f=R;try{return F()}finally{f=D}},e.unstable_scheduleCallback=function(R,F,D){var H=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,R){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,R={id:d++,callback:F,priorityLevel:R,startTime:D,expirationTime:z,sortIndex:-1},D>H?(R.sortIndex=D,t(u,R),n(c)===null&&R===n(u)&&(p?(y(k),k=-1):p=!0,$(j,D-H))):(R.sortIndex=z,t(c,R),v||m||(v=!0,M(N))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var F=f;return function(){var D=f;f=F;try{return R.apply(this,arguments)}finally{f=D}}}})(r8);n8.exports=r8;var Gee=n8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yee=g,ia=Gee;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s8=new Set,Pp={};function Fu(e,t){jh(e,t),jh(e+"Capture",t)}function jh(e,t){for(Pp[e]=t,e=0;e<t.length;e++)s8.add(t[e])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sS=Object.prototype.hasOwnProperty,Kee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NM={},SM={};function Jee(e){return sS.call(SM,e)?!0:sS.call(NM,e)?!1:Kee.test(e)?SM[e]=!0:(NM[e]=!0,!1)}function Xee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qee(e,t,n,r){if(t===null||typeof t>"u"||Xee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ds(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kr[e]=new ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kr[t]=new ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kr[e]=new ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kr[e]=new ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kr[e]=new ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kr[e]=new ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kr[e]=new ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kr[e]=new ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kr[e]=new ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var B2=/[\-:]([a-z])/g;function U2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B2,U2);kr[t]=new ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B2,U2);kr[t]=new ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B2,U2);kr[t]=new ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kr[e]=new ds(e,1,!1,e.toLowerCase(),null,!1,!1)});kr.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kr[e]=new ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function z2(e,t,n,r){var a=kr.hasOwnProperty(t)?kr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qee(t,n,a,r)&&(n=null),r||a===null?Jee(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bo=Yee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ox=Symbol.for("react.element"),jd=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),aS=Symbol.for("react.profiler"),a8=Symbol.for("react.provider"),i8=Symbol.for("react.context"),V2=Symbol.for("react.forward_ref"),iS=Symbol.for("react.suspense"),oS=Symbol.for("react.suspense_list"),W2=Symbol.for("react.memo"),cl=Symbol.for("react.lazy"),o8=Symbol.for("react.offscreen"),CM=Symbol.iterator;function lm(e){return e===null||typeof e!="object"?null:(e=CM&&e[CM]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,M_;function Fm(e){if(M_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M_=t&&t[1]||""}return`
`+M_+e}var D_=!1;function I_(e,t){if(!e||D_)return"";D_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{D_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fm(e):""}function Zee(e){switch(e.tag){case 5:return Fm(e.type);case 16:return Fm("Lazy");case 13:return Fm("Suspense");case 19:return Fm("SuspenseList");case 0:case 2:case 15:return e=I_(e.type,!1),e;case 11:return e=I_(e.type.render,!1),e;case 1:return e=I_(e.type,!0),e;default:return""}}function lS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _d:return"Fragment";case jd:return"Portal";case aS:return"Profiler";case q2:return"StrictMode";case iS:return"Suspense";case oS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i8:return(e.displayName||"Context")+".Consumer";case a8:return(e._context.displayName||"Context")+".Provider";case V2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W2:return t=e.displayName||null,t!==null?t:lS(e.type)||"Memo";case cl:t=e._payload,e=e._init;try{return lS(e(t))}catch{}}return null}function ete(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lS(t);case 8:return t===q2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tte(e){var t=l8(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lx(e){e._valueTracker||(e._valueTracker=tte(e))}function c8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=l8(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cS(e,t){var n=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kM(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u8(e,t){t=t.checked,t!=null&&z2(e,"checked",t,!1)}function uS(e,t){u8(e,t);var n=Wl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dS(e,t.type,n):t.hasOwnProperty("defaultValue")&&dS(e,t.type,Wl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EM(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dS(e,t,n){(t!=="number"||Jy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bm=Array.isArray;function $d(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function hS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function PM(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Oe(92));if(Bm(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wl(n)}}function d8(e,t){var n=Wl(t.value),r=Wl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cx,f8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cx=cx||document.createElement("div"),cx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ap(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nte=["Webkit","ms","Moz","O"];Object.keys(Qm).forEach(function(e){nte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qm[t]=Qm[e]})});function m8(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qm.hasOwnProperty(e)&&Qm[e]?(""+t).trim():t+"px"}function p8(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=m8(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var rte=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mS(e,t){if(t){if(rte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function pS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gS=null;function H2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vS=null,Ld=null,Fd=null;function TM(e){if(e=tv(e)){if(typeof vS!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=dw(t),vS(e.stateNode,e.type,t))}}function g8(e){Ld?Fd?Fd.push(e):Fd=[e]:Ld=e}function v8(){if(Ld){var e=Ld,t=Fd;if(Fd=Ld=null,TM(e),t)for(e=0;e<t.length;e++)TM(t[e])}}function x8(e,t){return e(t)}function y8(){}var R_=!1;function b8(e,t,n){if(R_)return e(t,n);R_=!0;try{return x8(e,t,n)}finally{R_=!1,(Ld!==null||Fd!==null)&&(y8(),v8())}}function Tp(e,t){var n=e.stateNode;if(n===null)return null;var r=dw(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Oe(231,t,typeof n));return n}var xS=!1;if(Po)try{var cm={};Object.defineProperty(cm,"passive",{get:function(){xS=!0}}),window.addEventListener("test",cm,cm),window.removeEventListener("test",cm,cm)}catch{xS=!1}function ste(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Zm=!1,Xy=null,Qy=!1,yS=null,ate={onError:function(e){Zm=!0,Xy=e}};function ite(e,t,n,r,a,i,o,l,c){Zm=!1,Xy=null,ste.apply(ate,arguments)}function ote(e,t,n,r,a,i,o,l,c){if(ite.apply(this,arguments),Zm){if(Zm){var u=Xy;Zm=!1,Xy=null}else throw Error(Oe(198));Qy||(Qy=!0,yS=u)}}function Bu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OM(e){if(Bu(e)!==e)throw Error(Oe(188))}function lte(e){var t=e.alternate;if(!t){if(t=Bu(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return OM(a),e;if(i===r)return OM(a),t;i=i.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?e:t}function j8(e){return e=lte(e),e!==null?_8(e):null}function _8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_8(e);if(t!==null)return t;e=e.sibling}return null}var N8=ia.unstable_scheduleCallback,MM=ia.unstable_cancelCallback,cte=ia.unstable_shouldYield,ute=ia.unstable_requestPaint,Vn=ia.unstable_now,dte=ia.unstable_getCurrentPriorityLevel,G2=ia.unstable_ImmediatePriority,S8=ia.unstable_UserBlockingPriority,Zy=ia.unstable_NormalPriority,hte=ia.unstable_LowPriority,C8=ia.unstable_IdlePriority,ow=null,zi=null;function fte(e){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(ow,e,void 0,(e.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:gte,mte=Math.log,pte=Math.LN2;function gte(e){return e>>>=0,e===0?32:31-(mte(e)/pte|0)|0}var ux=64,dx=4194304;function Um(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eb(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Um(l):(i&=o,i!==0&&(r=Um(i)))}else o=n&~a,o!==0?r=Um(o):i!==0&&(r=Um(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-li(t),a=1<<n,r|=e[n],t&=~a;return r}function vte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xte(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-li(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=vte(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function bS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k8(){var e=ux;return ux<<=1,!(ux&4194240)&&(ux=64),e}function $_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-li(t),e[t]=n}function yte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-li(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Y2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-li(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var rn=0;function E8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var P8,K2,A8,T8,O8,wS=!1,hx=[],Ol=null,Ml=null,Dl=null,Op=new Map,Mp=new Map,pl=[],bte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DM(e,t){switch(e){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":Op.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(t.pointerId)}}function um(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=tv(t),t!==null&&K2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wte(e,t,n,r,a){switch(t){case"focusin":return Ol=um(Ol,e,t,n,r,a),!0;case"dragenter":return Ml=um(Ml,e,t,n,r,a),!0;case"mouseover":return Dl=um(Dl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Op.set(i,um(Op.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Mp.set(i,um(Mp.get(i)||null,e,t,n,r,a)),!0}return!1}function M8(e){var t=$c(e.target);if(t!==null){var n=Bu(t);if(n!==null){if(t=n.tag,t===13){if(t=w8(n),t!==null){e.blockedOn=t,O8(e.priority,function(){A8(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);gS=r,n.target.dispatchEvent(r),gS=null}else return t=tv(n),t!==null&&K2(t),e.blockedOn=n,!1;t.shift()}return!0}function IM(e,t,n){jy(e)&&n.delete(t)}function jte(){wS=!1,Ol!==null&&jy(Ol)&&(Ol=null),Ml!==null&&jy(Ml)&&(Ml=null),Dl!==null&&jy(Dl)&&(Dl=null),Op.forEach(IM),Mp.forEach(IM)}function dm(e,t){e.blockedOn===t&&(e.blockedOn=null,wS||(wS=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,jte)))}function Dp(e){function t(a){return dm(a,e)}if(0<hx.length){dm(hx[0],e);for(var n=1;n<hx.length;n++){var r=hx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ol!==null&&dm(Ol,e),Ml!==null&&dm(Ml,e),Dl!==null&&dm(Dl,e),Op.forEach(t),Mp.forEach(t),n=0;n<pl.length;n++)r=pl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pl.length&&(n=pl[0],n.blockedOn===null);)M8(n),n.blockedOn===null&&pl.shift()}var Bd=Bo.ReactCurrentBatchConfig,tb=!0;function _te(e,t,n,r){var a=rn,i=Bd.transition;Bd.transition=null;try{rn=1,J2(e,t,n,r)}finally{rn=a,Bd.transition=i}}function Nte(e,t,n,r){var a=rn,i=Bd.transition;Bd.transition=null;try{rn=4,J2(e,t,n,r)}finally{rn=a,Bd.transition=i}}function J2(e,t,n,r){if(tb){var a=jS(e,t,n,r);if(a===null)G_(e,t,r,nb,n),DM(e,r);else if(wte(a,e,t,n,r))r.stopPropagation();else if(DM(e,r),t&4&&-1<bte.indexOf(e)){for(;a!==null;){var i=tv(a);if(i!==null&&P8(i),i=jS(e,t,n,r),i===null&&G_(e,t,r,nb,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else G_(e,t,r,null,n)}}var nb=null;function jS(e,t,n,r){if(nb=null,e=H2(r),e=$c(e),e!==null)if(t=Bu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=w8(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nb=e,null}function D8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dte()){case G2:return 1;case S8:return 4;case Zy:case hte:return 16;case C8:return 536870912;default:return 16}default:return 16}}var kl=null,X2=null,_y=null;function I8(){if(_y)return _y;var e,t=X2,n=t.length,r,a="value"in kl?kl.value:kl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return _y=a.slice(e,1<r?1-r:void 0)}function Ny(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fx(){return!0}function RM(){return!1}function da(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fx:RM,this.isPropagationStopped=RM,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fx)},persist:function(){},isPersistent:fx}),t}var xf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q2=da(xf),ev=Mn({},xf,{view:0,detail:0}),Ste=da(ev),L_,F_,hm,lw=Mn({},ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hm&&(hm&&e.type==="mousemove"?(L_=e.screenX-hm.screenX,F_=e.screenY-hm.screenY):F_=L_=0,hm=e),L_)},movementY:function(e){return"movementY"in e?e.movementY:F_}}),$M=da(lw),Cte=Mn({},lw,{dataTransfer:0}),kte=da(Cte),Ete=Mn({},ev,{relatedTarget:0}),B_=da(Ete),Pte=Mn({},xf,{animationName:0,elapsedTime:0,pseudoElement:0}),Ate=da(Pte),Tte=Mn({},xf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ote=da(Tte),Mte=Mn({},xf,{data:0}),LM=da(Mte),Dte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ite={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $te(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rte[e])?!!t[e]:!1}function Z2(){return $te}var Lte=Mn({},ev,{key:function(e){if(e.key){var t=Dte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ny(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ite[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z2,charCode:function(e){return e.type==="keypress"?Ny(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ny(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fte=da(Lte),Bte=Mn({},lw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FM=da(Bte),Ute=Mn({},ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z2}),zte=da(Ute),qte=Mn({},xf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vte=da(qte),Wte=Mn({},lw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hte=da(Wte),Gte=[9,13,27,32],eP=Po&&"CompositionEvent"in window,ep=null;Po&&"documentMode"in document&&(ep=document.documentMode);var Yte=Po&&"TextEvent"in window&&!ep,R8=Po&&(!eP||ep&&8<ep&&11>=ep),BM=" ",UM=!1;function $8(e,t){switch(e){case"keyup":return Gte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nd=!1;function Kte(e,t){switch(e){case"compositionend":return L8(t);case"keypress":return t.which!==32?null:(UM=!0,BM);case"textInput":return e=t.data,e===BM&&UM?null:e;default:return null}}function Jte(e,t){if(Nd)return e==="compositionend"||!eP&&$8(e,t)?(e=I8(),_y=X2=kl=null,Nd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R8&&t.locale!=="ko"?null:t.data;default:return null}}var Xte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xte[e.type]:t==="textarea"}function F8(e,t,n,r){g8(r),t=rb(t,"onChange"),0<t.length&&(n=new Q2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tp=null,Ip=null;function Qte(e){J8(e,0)}function cw(e){var t=kd(e);if(c8(t))return e}function Zte(e,t){if(e==="change")return t}var B8=!1;if(Po){var U_;if(Po){var z_="oninput"in document;if(!z_){var qM=document.createElement("div");qM.setAttribute("oninput","return;"),z_=typeof qM.oninput=="function"}U_=z_}else U_=!1;B8=U_&&(!document.documentMode||9<document.documentMode)}function VM(){tp&&(tp.detachEvent("onpropertychange",U8),Ip=tp=null)}function U8(e){if(e.propertyName==="value"&&cw(Ip)){var t=[];F8(t,Ip,e,H2(e)),b8(Qte,t)}}function ene(e,t,n){e==="focusin"?(VM(),tp=t,Ip=n,tp.attachEvent("onpropertychange",U8)):e==="focusout"&&VM()}function tne(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cw(Ip)}function nne(e,t){if(e==="click")return cw(t)}function rne(e,t){if(e==="input"||e==="change")return cw(t)}function sne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hi=typeof Object.is=="function"?Object.is:sne;function Rp(e,t){if(hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!sS.call(t,a)||!hi(e[a],t[a]))return!1}return!0}function WM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HM(e,t){var n=WM(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WM(n)}}function z8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function q8(){for(var e=window,t=Jy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jy(e.document)}return t}function tP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ane(e){var t=q8(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&z8(n.ownerDocument.documentElement,n)){if(r!==null&&tP(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=HM(n,i);var o=HM(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ine=Po&&"documentMode"in document&&11>=document.documentMode,Sd=null,_S=null,np=null,NS=!1;function GM(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;NS||Sd==null||Sd!==Jy(r)||(r=Sd,"selectionStart"in r&&tP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),np&&Rp(np,r)||(np=r,r=rb(_S,"onSelect"),0<r.length&&(t=new Q2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sd)))}function mx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cd={animationend:mx("Animation","AnimationEnd"),animationiteration:mx("Animation","AnimationIteration"),animationstart:mx("Animation","AnimationStart"),transitionend:mx("Transition","TransitionEnd")},q_={},V8={};Po&&(V8=document.createElement("div").style,"AnimationEvent"in window||(delete Cd.animationend.animation,delete Cd.animationiteration.animation,delete Cd.animationstart.animation),"TransitionEvent"in window||delete Cd.transitionend.transition);function uw(e){if(q_[e])return q_[e];if(!Cd[e])return e;var t=Cd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in V8)return q_[e]=t[n];return e}var W8=uw("animationend"),H8=uw("animationiteration"),G8=uw("animationstart"),Y8=uw("transitionend"),K8=new Map,YM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nc(e,t){K8.set(e,t),Fu(t,[e])}for(var V_=0;V_<YM.length;V_++){var W_=YM[V_],one=W_.toLowerCase(),lne=W_[0].toUpperCase()+W_.slice(1);nc(one,"on"+lne)}nc(W8,"onAnimationEnd");nc(H8,"onAnimationIteration");nc(G8,"onAnimationStart");nc("dblclick","onDoubleClick");nc("focusin","onFocus");nc("focusout","onBlur");nc(Y8,"onTransitionEnd");jh("onMouseEnter",["mouseout","mouseover"]);jh("onMouseLeave",["mouseout","mouseover"]);jh("onPointerEnter",["pointerout","pointerover"]);jh("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cne=new Set("cancel close invalid load scroll toggle".split(" ").concat(zm));function KM(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ote(r,t,void 0,e),e.currentTarget=null}function J8(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;KM(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;KM(a,l,u),i=c}}}if(Qy)throw e=yS,Qy=!1,yS=null,e}function bn(e,t){var n=t[PS];n===void 0&&(n=t[PS]=new Set);var r=e+"__bubble";n.has(r)||(X8(t,e,2,!1),n.add(r))}function H_(e,t,n){var r=0;t&&(r|=4),X8(n,e,r,t)}var px="_reactListening"+Math.random().toString(36).slice(2);function $p(e){if(!e[px]){e[px]=!0,s8.forEach(function(n){n!=="selectionchange"&&(cne.has(n)||H_(n,!1,e),H_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[px]||(t[px]=!0,H_("selectionchange",!1,t))}}function X8(e,t,n,r){switch(D8(t)){case 1:var a=_te;break;case 4:a=Nte;break;default:a=J2}n=a.bind(null,t,n,e),a=void 0,!xS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function G_(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=$c(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}b8(function(){var u=i,d=H2(n),h=[];e:{var f=K8.get(e);if(f!==void 0){var m=Q2,v=e;switch(e){case"keypress":if(Ny(n)===0)break e;case"keydown":case"keyup":m=Fte;break;case"focusin":v="focus",m=B_;break;case"focusout":v="blur",m=B_;break;case"beforeblur":case"afterblur":m=B_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$M;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zte;break;case W8:case H8:case G8:m=Ate;break;case Y8:m=Vte;break;case"scroll":m=Ste;break;case"wheel":m=Hte;break;case"copy":case"cut":case"paste":m=Ote;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=FM}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=Tp(b,y),j!=null&&p.push(Lp(b,j,w)))),x)break;b=b.return}0<p.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==gS&&(v=n.relatedTarget||n.fromElement)&&($c(v)||v[Ao]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?$c(v):null,v!==null&&(x=Bu(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=$M,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=FM,j="onPointerLeave",y="onPointerEnter",b="pointer"),x=m==null?f:kd(m),w=v==null?f:kd(v),f=new p(j,b+"leave",m,n,d),f.target=x,f.relatedTarget=w,j=null,$c(d)===u&&(p=new p(y,b+"enter",v,n,d),p.target=w,p.relatedTarget=x,j=p),x=j,m&&v)t:{for(p=m,y=v,b=0,w=p;w;w=ed(w))b++;for(w=0,j=y;j;j=ed(j))w++;for(;0<b-w;)p=ed(p),b--;for(;0<w-b;)y=ed(y),w--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=ed(p),y=ed(y)}p=null}else p=null;m!==null&&JM(h,f,m,p,!1),v!==null&&x!==null&&JM(h,x,v,p,!0)}}e:{if(f=u?kd(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=Zte;else if(zM(f))if(B8)N=rne;else{N=tne;var S=ene}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=nne);if(N&&(N=N(e,u))){F8(h,N,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&dS(f,"number",f.value)}switch(S=u?kd(u):window,e){case"focusin":(zM(S)||S.contentEditable==="true")&&(Sd=S,_S=u,np=null);break;case"focusout":np=_S=Sd=null;break;case"mousedown":NS=!0;break;case"contextmenu":case"mouseup":case"dragend":NS=!1,GM(h,n,d);break;case"selectionchange":if(ine)break;case"keydown":case"keyup":GM(h,n,d)}var C;if(eP)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Nd?$8(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(R8&&n.locale!=="ko"&&(Nd||k!=="onCompositionStart"?k==="onCompositionEnd"&&Nd&&(C=I8()):(kl=d,X2="value"in kl?kl.value:kl.textContent,Nd=!0)),S=rb(u,k),0<S.length&&(k=new LM(k,e,null,n,d),h.push({event:k,listeners:S}),C?k.data=C:(C=L8(n),C!==null&&(k.data=C)))),(C=Yte?Kte(e,n):Jte(e,n))&&(u=rb(u,"onBeforeInput"),0<u.length&&(d=new LM("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}J8(h,t)})}function Lp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rb(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Tp(e,n),i!=null&&r.unshift(Lp(e,i,a)),i=Tp(e,t),i!=null&&r.push(Lp(e,i,a))),e=e.return}return r}function ed(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JM(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Tp(n,i),c!=null&&o.unshift(Lp(n,c,l))):a||(c=Tp(n,i),c!=null&&o.push(Lp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var une=/\r\n?/g,dne=/\u0000|\uFFFD/g;function XM(e){return(typeof e=="string"?e:""+e).replace(une,`
`).replace(dne,"")}function gx(e,t,n){if(t=XM(t),XM(e)!==t&&n)throw Error(Oe(425))}function sb(){}var SS=null,CS=null;function kS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ES=typeof setTimeout=="function"?setTimeout:void 0,hne=typeof clearTimeout=="function"?clearTimeout:void 0,QM=typeof Promise=="function"?Promise:void 0,fne=typeof queueMicrotask=="function"?queueMicrotask:typeof QM<"u"?function(e){return QM.resolve(null).then(e).catch(mne)}:ES;function mne(e){setTimeout(function(){throw e})}function Y_(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Dp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Dp(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yf=Math.random().toString(36).slice(2),$i="__reactFiber$"+yf,Fp="__reactProps$"+yf,Ao="__reactContainer$"+yf,PS="__reactEvents$"+yf,pne="__reactListeners$"+yf,gne="__reactHandles$"+yf;function $c(e){var t=e[$i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ao]||n[$i]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ZM(e);e!==null;){if(n=e[$i])return n;e=ZM(e)}return t}e=n,n=e.parentNode}return null}function tv(e){return e=e[$i]||e[Ao],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function dw(e){return e[Fp]||null}var AS=[],Ed=-1;function rc(e){return{current:e}}function Nn(e){0>Ed||(e.current=AS[Ed],AS[Ed]=null,Ed--)}function gn(e,t){Ed++,AS[Ed]=e.current,e.current=t}var Hl={},Yr=rc(Hl),Ss=rc(!1),fu=Hl;function _h(e,t){var n=e.type.contextTypes;if(!n)return Hl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cs(e){return e=e.childContextTypes,e!=null}function ab(){Nn(Ss),Nn(Yr)}function eD(e,t,n){if(Yr.current!==Hl)throw Error(Oe(168));gn(Yr,t),gn(Ss,n)}function Q8(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Oe(108,ete(e)||"Unknown",a));return Mn({},n,r)}function ib(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hl,fu=Yr.current,gn(Yr,e),gn(Ss,Ss.current),!0}function tD(e,t,n){var r=e.stateNode;if(!r)throw Error(Oe(169));n?(e=Q8(e,t,fu),r.__reactInternalMemoizedMergedChildContext=e,Nn(Ss),Nn(Yr),gn(Yr,e)):Nn(Ss),gn(Ss,n)}var po=null,hw=!1,K_=!1;function Z8(e){po===null?po=[e]:po.push(e)}function vne(e){hw=!0,Z8(e)}function sc(){if(!K_&&po!==null){K_=!0;var e=0,t=rn;try{var n=po;for(rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}po=null,hw=!1}catch(a){throw po!==null&&(po=po.slice(e+1)),N8(G2,sc),a}finally{rn=t,K_=!1}}return null}var Pd=[],Ad=0,ob=null,lb=0,wa=[],ja=0,mu=null,go=1,vo="";function kc(e,t){Pd[Ad++]=lb,Pd[Ad++]=ob,ob=e,lb=t}function eB(e,t,n){wa[ja++]=go,wa[ja++]=vo,wa[ja++]=mu,mu=e;var r=go;e=vo;var a=32-li(r)-1;r&=~(1<<a),n+=1;var i=32-li(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,go=1<<32-li(t)+a|n<<a|r,vo=i+e}else go=1<<i|n<<a|r,vo=e}function nP(e){e.return!==null&&(kc(e,1),eB(e,1,0))}function rP(e){for(;e===ob;)ob=Pd[--Ad],Pd[Ad]=null,lb=Pd[--Ad],Pd[Ad]=null;for(;e===mu;)mu=wa[--ja],wa[ja]=null,vo=wa[--ja],wa[ja]=null,go=wa[--ja],wa[ja]=null}var ra=null,ea=null,Sn=!1,ri=null;function tB(e,t){var n=Sa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nD(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ra=e,ea=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ra=e,ea=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mu!==null?{id:go,overflow:vo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ra=e,ea=null,!0):!1;default:return!1}}function TS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function OS(e){if(Sn){var t=ea;if(t){var n=t;if(!nD(e,t)){if(TS(e))throw Error(Oe(418));t=Il(n.nextSibling);var r=ra;t&&nD(e,t)?tB(r,n):(e.flags=e.flags&-4097|2,Sn=!1,ra=e)}}else{if(TS(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,Sn=!1,ra=e}}}function rD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ra=e}function vx(e){if(e!==ra)return!1;if(!Sn)return rD(e),Sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kS(e.type,e.memoizedProps)),t&&(t=ea)){if(TS(e))throw nB(),Error(Oe(418));for(;t;)tB(e,t),t=Il(t.nextSibling)}if(rD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ea=Il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ea=null}}else ea=ra?Il(e.stateNode.nextSibling):null;return!0}function nB(){for(var e=ea;e;)e=Il(e.nextSibling)}function Nh(){ea=ra=null,Sn=!1}function sP(e){ri===null?ri=[e]:ri.push(e)}var xne=Bo.ReactCurrentBatchConfig;function fm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,e))}return e}function xx(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sD(e){var t=e._init;return t(e._payload)}function rB(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Fl(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,j){return b===null||b.tag!==6?(b=n1(w,y.mode,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,j){var N=w.type;return N===_d?d(y,b,w.props.children,j,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cl&&sD(N)===b.type)?(j=a(b,w.props),j.ref=fm(y,b,w),j.return=y,j):(j=Ty(w.type,w.key,w.props,null,y.mode,j),j.ref=fm(y,b,w),j.return=y,j)}function u(y,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=r1(w,y.mode,j),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,j,N){return b===null||b.tag!==7?(b=su(w,y.mode,j,N),b.return=y,b):(b=a(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=n1(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ox:return w=Ty(b.type,b.key,b.props,null,y.mode,w),w.ref=fm(y,null,b),w.return=y,w;case jd:return b=r1(b,y.mode,w),b.return=y,b;case cl:var j=b._init;return h(y,j(b._payload),w)}if(Bm(b)||lm(b))return b=su(b,y.mode,w,null),b.return=y,b;xx(y,b)}return null}function f(y,b,w,j){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ox:return w.key===N?c(y,b,w,j):null;case jd:return w.key===N?u(y,b,w,j):null;case cl:return N=w._init,f(y,b,N(w._payload),j)}if(Bm(w)||lm(w))return N!==null?null:d(y,b,w,j,null);xx(y,w)}return null}function m(y,b,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(b,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ox:return y=y.get(j.key===null?w:j.key)||null,c(b,y,j,N);case jd:return y=y.get(j.key===null?w:j.key)||null,u(b,y,j,N);case cl:var S=j._init;return m(y,b,w,S(j._payload),N)}if(Bm(j)||lm(j))return y=y.get(w)||null,d(b,y,j,N,null);xx(b,j)}return null}function v(y,b,w,j){for(var N=null,S=null,C=b,k=b=0,E=null;C!==null&&k<w.length;k++){C.index>k?(E=C,C=null):E=C.sibling;var A=f(y,C,w[k],j);if(A===null){C===null&&(C=E);break}e&&C&&A.alternate===null&&t(y,C),b=i(A,b,k),S===null?N=A:S.sibling=A,S=A,C=E}if(k===w.length)return n(y,C),Sn&&kc(y,k),N;if(C===null){for(;k<w.length;k++)C=h(y,w[k],j),C!==null&&(b=i(C,b,k),S===null?N=C:S.sibling=C,S=C);return Sn&&kc(y,k),N}for(C=r(y,C);k<w.length;k++)E=m(C,y,k,w[k],j),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?k:E.key),b=i(E,b,k),S===null?N=E:S.sibling=E,S=E);return e&&C.forEach(function(P){return t(y,P)}),Sn&&kc(y,k),N}function p(y,b,w,j){var N=lm(w);if(typeof N!="function")throw Error(Oe(150));if(w=N.call(w),w==null)throw Error(Oe(151));for(var S=N=null,C=b,k=b=0,E=null,A=w.next();C!==null&&!A.done;k++,A=w.next()){C.index>k?(E=C,C=null):E=C.sibling;var P=f(y,C,A.value,j);if(P===null){C===null&&(C=E);break}e&&C&&P.alternate===null&&t(y,C),b=i(P,b,k),S===null?N=P:S.sibling=P,S=P,C=E}if(A.done)return n(y,C),Sn&&kc(y,k),N;if(C===null){for(;!A.done;k++,A=w.next())A=h(y,A.value,j),A!==null&&(b=i(A,b,k),S===null?N=A:S.sibling=A,S=A);return Sn&&kc(y,k),N}for(C=r(y,C);!A.done;k++,A=w.next())A=m(C,y,k,A.value,j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),b=i(A,b,k),S===null?N=A:S.sibling=A,S=A);return e&&C.forEach(function(B){return t(y,B)}),Sn&&kc(y,k),N}function x(y,b,w,j){if(typeof w=="object"&&w!==null&&w.type===_d&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ox:e:{for(var N=w.key,S=b;S!==null;){if(S.key===N){if(N=w.type,N===_d){if(S.tag===7){n(y,S.sibling),b=a(S,w.props.children),b.return=y,y=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cl&&sD(N)===S.type){n(y,S.sibling),b=a(S,w.props),b.ref=fm(y,S,w),b.return=y,y=b;break e}n(y,S);break}else t(y,S);S=S.sibling}w.type===_d?(b=su(w.props.children,y.mode,j,w.key),b.return=y,y=b):(j=Ty(w.type,w.key,w.props,null,y.mode,j),j.ref=fm(y,b,w),j.return=y,y=j)}return o(y);case jd:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=r1(w,y.mode,j),b.return=y,y=b}return o(y);case cl:return S=w._init,x(y,b,S(w._payload),j)}if(Bm(w))return v(y,b,w,j);if(lm(w))return p(y,b,w,j);xx(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=a(b,w),b.return=y,y=b):(n(y,b),b=n1(w,y.mode,j),b.return=y,y=b),o(y)):n(y,b)}return x}var Sh=rB(!0),sB=rB(!1),cb=rc(null),ub=null,Td=null,aP=null;function iP(){aP=Td=ub=null}function oP(e){var t=cb.current;Nn(cb),e._currentValue=t}function MS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ud(e,t){ub=e,aP=Td=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(js=!0),e.firstContext=null)}function Da(e){var t=e._currentValue;if(aP!==e)if(e={context:e,memoizedValue:t,next:null},Td===null){if(ub===null)throw Error(Oe(308));Td=e,ub.dependencies={lanes:0,firstContext:e}}else Td=Td.next=e;return t}var Lc=null;function lP(e){Lc===null?Lc=[e]:Lc.push(e)}function aB(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,lP(t)):(n.next=a.next,a.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ul=!1;function cP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Rt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,To(e,n)}return a=r.interleaved,a===null?(t.next=t,lP(r)):(t.next=a.next,a.next=t),r.interleaved=t,To(e,n)}function Sy(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Y2(e,n)}}function aD(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function db(e,t,n,r){var a=e.updateQueue;ul=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(f=t,m=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Mn({},h,f);break e;case 2:ul=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);gu|=o,e.lanes=o,e.memoizedState=h}}function iD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Oe(191,a));a.call(r)}}}var nv={},qi=rc(nv),Bp=rc(nv),Up=rc(nv);function Fc(e){if(e===nv)throw Error(Oe(174));return e}function uP(e,t){switch(gn(Up,t),gn(Bp,e),gn(qi,nv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fS(t,e)}Nn(qi),gn(qi,t)}function Ch(){Nn(qi),Nn(Bp),Nn(Up)}function oB(e){Fc(Up.current);var t=Fc(qi.current),n=fS(t,e.type);t!==n&&(gn(Bp,e),gn(qi,n))}function dP(e){Bp.current===e&&(Nn(qi),Nn(Bp))}var Pn=rc(0);function hb(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var J_=[];function hP(){for(var e=0;e<J_.length;e++)J_[e]._workInProgressVersionPrimary=null;J_.length=0}var Cy=Bo.ReactCurrentDispatcher,X_=Bo.ReactCurrentBatchConfig,pu=0,Tn=null,rr=null,dr=null,fb=!1,rp=!1,zp=0,yne=0;function Tr(){throw Error(Oe(321))}function fP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hi(e[n],t[n]))return!1;return!0}function mP(e,t,n,r,a,i){if(pu=i,Tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cy.current=e===null||e.memoizedState===null?_ne:Nne,e=n(r,a),rp){i=0;do{if(rp=!1,zp=0,25<=i)throw Error(Oe(301));i+=1,dr=rr=null,t.updateQueue=null,Cy.current=Sne,e=n(r,a)}while(rp)}if(Cy.current=mb,t=rr!==null&&rr.next!==null,pu=0,dr=rr=Tn=null,fb=!1,t)throw Error(Oe(300));return e}function pP(){var e=zp!==0;return zp=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Tn.memoizedState=dr=e:dr=dr.next=e,dr}function Ia(){if(rr===null){var e=Tn.alternate;e=e!==null?e.memoizedState:null}else e=rr.next;var t=dr===null?Tn.memoizedState:dr.next;if(t!==null)dr=t,rr=e;else{if(e===null)throw Error(Oe(310));rr=e,e={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},dr===null?Tn.memoizedState=dr=e:dr=dr.next=e}return dr}function qp(e,t){return typeof t=="function"?t(e):t}function Q_(e){var t=Ia(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=rr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((pu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Tn.lanes|=d,gu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,hi(r,t.memoizedState)||(js=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Tn.lanes|=i,gu|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Z_(e){var t=Ia(),n=t.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);hi(i,t.memoizedState)||(js=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function lB(){}function cB(e,t){var n=Tn,r=Ia(),a=t(),i=!hi(r.memoizedState,a);if(i&&(r.memoizedState=a,js=!0),r=r.queue,gP(hB.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,Vp(9,dB.bind(null,n,r,a,t),void 0,null),mr===null)throw Error(Oe(349));pu&30||uB(n,t,a)}return a}function uB(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dB(e,t,n,r){t.value=n,t.getSnapshot=r,fB(t)&&mB(e)}function hB(e,t,n){return n(function(){fB(t)&&mB(e)})}function fB(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hi(e,n)}catch{return!0}}function mB(e){var t=To(e,1);t!==null&&ci(t,e,1,-1)}function oD(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:e},t.queue=e,e=e.dispatch=jne.bind(null,Tn,e),[t.memoizedState,e]}function Vp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Tn.updateQueue,t===null?(t={lastEffect:null,stores:null},Tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pB(){return Ia().memoizedState}function ky(e,t,n,r){var a=Ei();Tn.flags|=e,a.memoizedState=Vp(1|t,n,void 0,r===void 0?null:r)}function fw(e,t,n,r){var a=Ia();r=r===void 0?null:r;var i=void 0;if(rr!==null){var o=rr.memoizedState;if(i=o.destroy,r!==null&&fP(r,o.deps)){a.memoizedState=Vp(t,n,i,r);return}}Tn.flags|=e,a.memoizedState=Vp(1|t,n,i,r)}function lD(e,t){return ky(8390656,8,e,t)}function gP(e,t){return fw(2048,8,e,t)}function gB(e,t){return fw(4,2,e,t)}function vB(e,t){return fw(4,4,e,t)}function xB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yB(e,t,n){return n=n!=null?n.concat([e]):null,fw(4,4,xB.bind(null,t,e),n)}function vP(){}function bB(e,t){var n=Ia();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wB(e,t){var n=Ia();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jB(e,t,n){return pu&21?(hi(n,t)||(n=k8(),Tn.lanes|=n,gu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=n)}function bne(e,t){var n=rn;rn=n!==0&&4>n?n:4,e(!0);var r=X_.transition;X_.transition={};try{e(!1),t()}finally{rn=n,X_.transition=r}}function _B(){return Ia().memoizedState}function wne(e,t,n){var r=Ll(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NB(e))SB(t,n);else if(n=aB(e,t,n,r),n!==null){var a=os();ci(n,e,r,a),CB(n,t,r)}}function jne(e,t,n){var r=Ll(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NB(e))SB(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,hi(l,o)){var c=t.interleaved;c===null?(a.next=a,lP(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=aB(e,t,a,r),n!==null&&(a=os(),ci(n,e,r,a),CB(n,t,r))}}function NB(e){var t=e.alternate;return e===Tn||t!==null&&t===Tn}function SB(e,t){rp=fb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CB(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Y2(e,n)}}var mb={readContext:Da,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},_ne={readContext:Da,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:Da,useEffect:lD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ky(4194308,4,xB.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ky(4194308,4,e,t)},useInsertionEffect:function(e,t){return ky(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wne.bind(null,Tn,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:oD,useDebugValue:vP,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=oD(!1),t=e[0];return e=bne.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Tn,a=Ei();if(Sn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=t(),mr===null)throw Error(Oe(349));pu&30||uB(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,lD(hB.bind(null,r,i,e),[e]),r.flags|=2048,Vp(9,dB.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ei(),t=mr.identifierPrefix;if(Sn){var n=vo,r=go;n=(r&~(1<<32-li(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nne={readContext:Da,useCallback:bB,useContext:Da,useEffect:gP,useImperativeHandle:yB,useInsertionEffect:gB,useLayoutEffect:vB,useMemo:wB,useReducer:Q_,useRef:pB,useState:function(){return Q_(qp)},useDebugValue:vP,useDeferredValue:function(e){var t=Ia();return jB(t,rr.memoizedState,e)},useTransition:function(){var e=Q_(qp)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:lB,useSyncExternalStore:cB,useId:_B,unstable_isNewReconciler:!1},Sne={readContext:Da,useCallback:bB,useContext:Da,useEffect:gP,useImperativeHandle:yB,useInsertionEffect:gB,useLayoutEffect:vB,useMemo:wB,useReducer:Z_,useRef:pB,useState:function(){return Z_(qp)},useDebugValue:vP,useDeferredValue:function(e){var t=Ia();return rr===null?t.memoizedState=e:jB(t,rr.memoizedState,e)},useTransition:function(){var e=Z_(qp)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:lB,useSyncExternalStore:cB,useId:_B,unstable_isNewReconciler:!1};function Ja(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function DS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mw={isMounted:function(e){return(e=e._reactInternals)?Bu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=os(),a=Ll(e),i=_o(r,a);i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(ci(t,e,a,r),Sy(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=os(),a=Ll(e),i=_o(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(ci(t,e,a,r),Sy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=os(),r=Ll(e),a=_o(n,r);a.tag=2,t!=null&&(a.callback=t),t=Rl(e,a,r),t!==null&&(ci(t,e,r,n),Sy(t,e,r))}};function cD(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rp(n,r)||!Rp(a,i):!0}function kB(e,t,n){var r=!1,a=Hl,i=t.contextType;return typeof i=="object"&&i!==null?i=Da(i):(a=Cs(t)?fu:Yr.current,r=t.contextTypes,i=(r=r!=null)?_h(e,a):Hl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mw,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function uD(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mw.enqueueReplaceState(t,t.state,null)}function IS(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},cP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Da(i):(i=Cs(t)?fu:Yr.current,a.context=_h(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(DS(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&mw.enqueueReplaceState(a,a.state,null),db(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function kh(e,t){try{var n="",r=t;do n+=Zee(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function e1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function RS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cne=typeof WeakMap=="function"?WeakMap:Map;function EB(e,t,n){n=_o(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gb||(gb=!0,HS=r),RS(e,t)},n}function PB(e,t,n){n=_o(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){RS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){RS(e,t),typeof r!="function"&&($l===null?$l=new Set([this]):$l.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function dD(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cne;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Bne.bind(null,e,t,n),t.then(e,e))}function hD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fD(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_o(-1,1),t.tag=2,Rl(n,t,1))),n.lanes|=1),e)}var kne=Bo.ReactCurrentOwner,js=!1;function ns(e,t,n,r){t.child=e===null?sB(t,null,n,r):Sh(t,e.child,n,r)}function mD(e,t,n,r,a){n=n.render;var i=t.ref;return Ud(t,a),r=mP(e,t,n,r,i,a),n=pP(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oo(e,t,a)):(Sn&&n&&nP(t),t.flags|=1,ns(e,t,r,a),t.child)}function pD(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!SP(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,AB(e,t,i,r,a)):(e=Ty(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rp,n(o,r)&&e.ref===t.ref)return Oo(e,t,a)}return t.flags|=1,e=Fl(i,r),e.ref=t.ref,e.return=t,t.child=e}function AB(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Rp(i,r)&&e.ref===t.ref)if(js=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(js=!0);else return t.lanes=e.lanes,Oo(e,t,a)}return $S(e,t,n,r,a)}function TB(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(Md,Ks),Ks|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gn(Md,Ks),Ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gn(Md,Ks),Ks|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,gn(Md,Ks),Ks|=r;return ns(e,t,a,n),t.child}function OB(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $S(e,t,n,r,a){var i=Cs(n)?fu:Yr.current;return i=_h(t,i),Ud(t,a),n=mP(e,t,n,r,i,a),r=pP(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oo(e,t,a)):(Sn&&r&&nP(t),t.flags|=1,ns(e,t,n,a),t.child)}function gD(e,t,n,r,a){if(Cs(n)){var i=!0;ib(t)}else i=!1;if(Ud(t,a),t.stateNode===null)Ey(e,t),kB(t,n,r),IS(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Da(u):(u=Cs(n)?fu:Yr.current,u=_h(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&uD(t,o,r,u),ul=!1;var f=t.memoizedState;o.state=f,db(t,r,o,a),c=t.memoizedState,l!==r||f!==c||Ss.current||ul?(typeof d=="function"&&(DS(t,n,d,r),c=t.memoizedState),(l=ul||cD(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,iB(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ja(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Da(c):(c=Cs(n)?fu:Yr.current,c=_h(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&uD(t,o,r,c),ul=!1,f=t.memoizedState,o.state=f,db(t,r,o,a);var v=t.memoizedState;l!==h||f!==v||Ss.current||ul?(typeof m=="function"&&(DS(t,n,m,r),v=t.memoizedState),(u=ul||cD(t,n,u,r,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return LS(e,t,n,r,i,a)}function LS(e,t,n,r,a,i){OB(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&tD(t,n,!1),Oo(e,t,i);r=t.stateNode,kne.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Sh(t,e.child,null,i),t.child=Sh(t,null,l,i)):ns(e,t,l,i),t.memoizedState=r.state,a&&tD(t,n,!0),t.child}function MB(e){var t=e.stateNode;t.pendingContext?eD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eD(e,t.context,!1),uP(e,t.containerInfo)}function vD(e,t,n,r,a){return Nh(),sP(a),t.flags|=256,ns(e,t,n,r),t.child}var FS={dehydrated:null,treeContext:null,retryLane:0};function BS(e){return{baseLanes:e,cachePool:null,transitions:null}}function DB(e,t,n){var r=t.pendingProps,a=Pn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),gn(Pn,a&1),e===null)return OS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vw(o,r,0,null),e=su(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=BS(n),t.memoizedState=FS,e):xP(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Ene(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Fl(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Fl(l,i):(i=su(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?BS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=FS,r}return i=e.child,e=i.sibling,r=Fl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xP(e,t){return t=vw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yx(e,t,n,r){return r!==null&&sP(r),Sh(t,e.child,null,n),e=xP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ene(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=e1(Error(Oe(422))),yx(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=vw({mode:"visible",children:r.children},a,0,null),i=su(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Sh(t,e.child,null,o),t.child.memoizedState=BS(o),t.memoizedState=FS,i);if(!(t.mode&1))return yx(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Oe(419)),r=e1(i,r,void 0),yx(e,t,o,r)}if(l=(o&e.childLanes)!==0,js||l){if(r=mr,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,To(e,a),ci(r,e,a,-1))}return NP(),r=e1(Error(Oe(421))),yx(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Une.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ea=Il(a.nextSibling),ra=t,Sn=!0,ri=null,e!==null&&(wa[ja++]=go,wa[ja++]=vo,wa[ja++]=mu,go=e.id,vo=e.overflow,mu=t),t=xP(t,r.children),t.flags|=4096,t)}function xD(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),MS(e.return,t,n)}function t1(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function IB(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ns(e,t,r.children,n),r=Pn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xD(e,n,t);else if(e.tag===19)xD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(gn(Pn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&hb(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),t1(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hb(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}t1(t,!0,n,null,i);break;case"together":t1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ey(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,n=Fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pne(e,t,n){switch(t.tag){case 3:MB(t),Nh();break;case 5:oB(t);break;case 1:Cs(t.type)&&ib(t);break;case 4:uP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;gn(cb,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(gn(Pn,Pn.current&1),t.flags|=128,null):n&t.child.childLanes?DB(e,t,n):(gn(Pn,Pn.current&1),e=Oo(e,t,n),e!==null?e.sibling:null);gn(Pn,Pn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return IB(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),gn(Pn,Pn.current),r)break;return null;case 22:case 23:return t.lanes=0,TB(e,t,n)}return Oo(e,t,n)}var RB,US,$B,LB;RB=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};US=function(){};$B=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Fc(qi.current);var i=null;switch(n){case"input":a=cS(e,a),r=cS(e,r),i=[];break;case"select":a=Mn({},a,{value:void 0}),r=Mn({},r,{value:void 0}),i=[];break;case"textarea":a=hS(e,a),r=hS(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sb)}mS(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&bn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};LB=function(e,t,n,r){n!==r&&(t.flags|=4)};function mm(e,t){if(!Sn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Or(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ane(e,t,n){var r=t.pendingProps;switch(rP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(t),null;case 1:return Cs(t.type)&&ab(),Or(t),null;case 3:return r=t.stateNode,Ch(),Nn(Ss),Nn(Yr),hP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ri!==null&&(KS(ri),ri=null))),US(e,t),Or(t),null;case 5:dP(t);var a=Fc(Up.current);if(n=t.type,e!==null&&t.stateNode!=null)$B(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return Or(t),null}if(e=Fc(qi.current),vx(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$i]=t,r[Fp]=i,e=(t.mode&1)!==0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(a=0;a<zm.length;a++)bn(zm[a],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":kM(r,i),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},bn("invalid",r);break;case"textarea":PM(r,i),bn("invalid",r)}mS(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gx(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gx(r.textContent,l,e),a=["children",""+l]):Pp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&bn("scroll",r)}switch(n){case"input":lx(r),EM(r,i,!0);break;case"textarea":lx(r),AM(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sb)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h8(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$i]=t,e[Fp]=r,RB(e,t,!1,!1),t.stateNode=e;e:{switch(o=pS(n,r),n){case"dialog":bn("cancel",e),bn("close",e),a=r;break;case"iframe":case"object":case"embed":bn("load",e),a=r;break;case"video":case"audio":for(a=0;a<zm.length;a++)bn(zm[a],e);a=r;break;case"source":bn("error",e),a=r;break;case"img":case"image":case"link":bn("error",e),bn("load",e),a=r;break;case"details":bn("toggle",e),a=r;break;case"input":kM(e,r),a=cS(e,r),bn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Mn({},r,{value:void 0}),bn("invalid",e);break;case"textarea":PM(e,r),a=hS(e,r),bn("invalid",e);break;default:a=r}mS(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?p8(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&f8(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ap(e,c):typeof c=="number"&&Ap(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&bn("scroll",e):c!=null&&z2(e,i,c,o))}switch(n){case"input":lx(e),EM(e,r,!1);break;case"textarea":lx(e),AM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?$d(e,!!r.multiple,i,!1):r.defaultValue!=null&&$d(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Or(t),null;case 6:if(e&&t.stateNode!=null)LB(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(n=Fc(Up.current),Fc(qi.current),vx(t)){if(r=t.stateNode,n=t.memoizedProps,r[$i]=t,(i=r.nodeValue!==n)&&(e=ra,e!==null))switch(e.tag){case 3:gx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gx(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$i]=t,t.stateNode=r}return Or(t),null;case 13:if(Nn(Pn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sn&&ea!==null&&t.mode&1&&!(t.flags&128))nB(),Nh(),t.flags|=98560,i=!1;else if(i=vx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[$i]=t}else Nh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Or(t),i=!1}else ri!==null&&(KS(ri),ri=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pn.current&1?ar===0&&(ar=3):NP())),t.updateQueue!==null&&(t.flags|=4),Or(t),null);case 4:return Ch(),US(e,t),e===null&&$p(t.stateNode.containerInfo),Or(t),null;case 10:return oP(t.type._context),Or(t),null;case 17:return Cs(t.type)&&ab(),Or(t),null;case 19:if(Nn(Pn),i=t.memoizedState,i===null)return Or(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)mm(i,!1);else{if(ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hb(e),o!==null){for(t.flags|=128,mm(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gn(Pn,Pn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vn()>Eh&&(t.flags|=128,r=!0,mm(i,!1),t.lanes=4194304)}else{if(!r)if(e=hb(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),mm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Sn)return Or(t),null}else 2*Vn()-i.renderingStartTime>Eh&&n!==1073741824&&(t.flags|=128,r=!0,mm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vn(),t.sibling=null,n=Pn.current,gn(Pn,r?n&1|2:n&1),t):(Or(t),null);case 22:case 23:return _P(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ks&1073741824&&(Or(t),t.subtreeFlags&6&&(t.flags|=8192)):Or(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function Tne(e,t){switch(rP(t),t.tag){case 1:return Cs(t.type)&&ab(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ch(),Nn(Ss),Nn(Yr),hP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dP(t),null;case 13:if(Nn(Pn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));Nh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nn(Pn),null;case 4:return Ch(),null;case 10:return oP(t.type._context),null;case 22:case 23:return _P(),null;case 24:return null;default:return null}}var bx=!1,$r=!1,One=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Od(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fn(e,t,r)}else n.current=null}function zS(e,t,n){try{n()}catch(r){Fn(e,t,r)}}var yD=!1;function Mne(e,t){if(SS=tb,e=q8(),tP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(CS={focusedElem:e,selectionRange:n},tb=!1,Ue=t;Ue!==null;)if(t=Ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ue=e;else for(;Ue!==null;){t=Ue;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,x=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ja(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(j){Fn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ue=e;break}Ue=t.return}return v=yD,yD=!1,v}function sp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&zS(t,n,i)}a=a.next}while(a!==r)}}function pw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FB(e){var t=e.alternate;t!==null&&(e.alternate=null,FB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$i],delete t[Fp],delete t[PS],delete t[pne],delete t[gne])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BB(e){return e.tag===5||e.tag===3||e.tag===4}function bD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function VS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sb));else if(r!==4&&(e=e.child,e!==null))for(VS(e,t,n),e=e.sibling;e!==null;)VS(e,t,n),e=e.sibling}function WS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(WS(e,t,n),e=e.sibling;e!==null;)WS(e,t,n),e=e.sibling}var _r=null,Qa=!1;function Ko(e,t,n){for(n=n.child;n!==null;)UB(e,t,n),n=n.sibling}function UB(e,t,n){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(ow,n)}catch{}switch(n.tag){case 5:$r||Od(n,t);case 6:var r=_r,a=Qa;_r=null,Ko(e,t,n),_r=r,Qa=a,_r!==null&&(Qa?(e=_r,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_r.removeChild(n.stateNode));break;case 18:_r!==null&&(Qa?(e=_r,n=n.stateNode,e.nodeType===8?Y_(e.parentNode,n):e.nodeType===1&&Y_(e,n),Dp(e)):Y_(_r,n.stateNode));break;case 4:r=_r,a=Qa,_r=n.stateNode.containerInfo,Qa=!0,Ko(e,t,n),_r=r,Qa=a;break;case 0:case 11:case 14:case 15:if(!$r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zS(n,t,o),a=a.next}while(a!==r)}Ko(e,t,n);break;case 1:if(!$r&&(Od(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Fn(n,t,l)}Ko(e,t,n);break;case 21:Ko(e,t,n);break;case 22:n.mode&1?($r=(r=$r)||n.memoizedState!==null,Ko(e,t,n),$r=r):Ko(e,t,n);break;default:Ko(e,t,n)}}function wD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new One),t.forEach(function(r){var a=zne.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Va(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_r=l.stateNode,Qa=!1;break e;case 3:_r=l.stateNode.containerInfo,Qa=!0;break e;case 4:_r=l.stateNode.containerInfo,Qa=!0;break e}l=l.return}if(_r===null)throw Error(Oe(160));UB(i,o,a),_r=null,Qa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Fn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zB(t,e),t=t.sibling}function zB(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Va(t,e),Ci(e),r&4){try{sp(3,e,e.return),pw(3,e)}catch(p){Fn(e,e.return,p)}try{sp(5,e,e.return)}catch(p){Fn(e,e.return,p)}}break;case 1:Va(t,e),Ci(e),r&512&&n!==null&&Od(n,n.return);break;case 5:if(Va(t,e),Ci(e),r&512&&n!==null&&Od(n,n.return),e.flags&32){var a=e.stateNode;try{Ap(a,"")}catch(p){Fn(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&u8(a,i),pS(l,o);var u=pS(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?p8(a,h):d==="dangerouslySetInnerHTML"?f8(a,h):d==="children"?Ap(a,h):z2(a,d,h,u)}switch(l){case"input":uS(a,i);break;case"textarea":d8(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$d(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?$d(a,!!i.multiple,i.defaultValue,!0):$d(a,!!i.multiple,i.multiple?[]:"",!1))}a[Fp]=i}catch(p){Fn(e,e.return,p)}}break;case 6:if(Va(t,e),Ci(e),r&4){if(e.stateNode===null)throw Error(Oe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Fn(e,e.return,p)}}break;case 3:if(Va(t,e),Ci(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dp(t.containerInfo)}catch(p){Fn(e,e.return,p)}break;case 4:Va(t,e),Ci(e);break;case 13:Va(t,e),Ci(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(wP=Vn())),r&4&&wD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($r=(u=$r)||d,Va(t,e),$r=u):Va(t,e),Ci(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ue=e,d=e.child;d!==null;){for(h=Ue=d;Ue!==null;){switch(f=Ue,m=f.child,f.tag){case 0:case 11:case 14:case 15:sp(4,f,f.return);break;case 1:Od(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Fn(r,n,p)}}break;case 5:Od(f,f.return);break;case 22:if(f.memoizedState!==null){_D(h);continue}}m!==null?(m.return=f,Ue=m):_D(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=m8("display",o))}catch(p){Fn(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Fn(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Va(t,e),Ci(e),r&4&&wD(e);break;case 21:break;default:Va(t,e),Ci(e)}}function Ci(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BB(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ap(a,""),r.flags&=-33);var i=bD(e);WS(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bD(e);VS(e,l,o);break;default:throw Error(Oe(161))}}catch(c){Fn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dne(e,t,n){Ue=e,qB(e)}function qB(e,t,n){for(var r=(e.mode&1)!==0;Ue!==null;){var a=Ue,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||bx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||$r;l=bx;var u=$r;if(bx=o,($r=c)&&!u)for(Ue=a;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?ND(a):c!==null?(c.return=o,Ue=c):ND(a);for(;i!==null;)Ue=i,qB(i),i=i.sibling;Ue=a,bx=l,$r=u}jD(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ue=i):jD(e)}}function jD(e){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$r||pw(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$r)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ja(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iD(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iD(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}$r||t.flags&512&&qS(t)}catch(f){Fn(t,t.return,f)}}if(t===e){Ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function _D(e){for(;Ue!==null;){var t=Ue;if(t===e){Ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ue=n;break}Ue=t.return}}function ND(e){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pw(4,t)}catch(c){Fn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Fn(t,a,c)}}var i=t.return;try{qS(t)}catch(c){Fn(t,i,c)}break;case 5:var o=t.return;try{qS(t)}catch(c){Fn(t,o,c)}}}catch(c){Fn(t,t.return,c)}if(t===e){Ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ue=l;break}Ue=t.return}}var Ine=Math.ceil,pb=Bo.ReactCurrentDispatcher,yP=Bo.ReactCurrentOwner,Ea=Bo.ReactCurrentBatchConfig,Rt=0,mr=null,Zn=null,Cr=0,Ks=0,Md=rc(0),ar=0,Wp=null,gu=0,gw=0,bP=0,ap=null,bs=null,wP=0,Eh=1/0,uo=null,gb=!1,HS=null,$l=null,wx=!1,El=null,vb=0,ip=0,GS=null,Py=-1,Ay=0;function os(){return Rt&6?Vn():Py!==-1?Py:Py=Vn()}function Ll(e){return e.mode&1?Rt&2&&Cr!==0?Cr&-Cr:xne.transition!==null?(Ay===0&&(Ay=k8()),Ay):(e=rn,e!==0||(e=window.event,e=e===void 0?16:D8(e.type)),e):1}function ci(e,t,n,r){if(50<ip)throw ip=0,GS=null,Error(Oe(185));Zg(e,n,r),(!(Rt&2)||e!==mr)&&(e===mr&&(!(Rt&2)&&(gw|=n),ar===4&&gl(e,Cr)),ks(e,r),n===1&&Rt===0&&!(t.mode&1)&&(Eh=Vn()+500,hw&&sc()))}function ks(e,t){var n=e.callbackNode;xte(e,t);var r=eb(e,e===mr?Cr:0);if(r===0)n!==null&&MM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&MM(n),t===1)e.tag===0?vne(SD.bind(null,e)):Z8(SD.bind(null,e)),fne(function(){!(Rt&6)&&sc()}),n=null;else{switch(E8(r)){case 1:n=G2;break;case 4:n=S8;break;case 16:n=Zy;break;case 536870912:n=C8;break;default:n=Zy}n=XB(n,VB.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VB(e,t){if(Py=-1,Ay=0,Rt&6)throw Error(Oe(327));var n=e.callbackNode;if(zd()&&e.callbackNode!==n)return null;var r=eb(e,e===mr?Cr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xb(e,r);else{t=r;var a=Rt;Rt|=2;var i=HB();(mr!==e||Cr!==t)&&(uo=null,Eh=Vn()+500,ru(e,t));do try{Lne();break}catch(l){WB(e,l)}while(!0);iP(),pb.current=i,Rt=a,Zn!==null?t=0:(mr=null,Cr=0,t=ar)}if(t!==0){if(t===2&&(a=bS(e),a!==0&&(r=a,t=YS(e,a))),t===1)throw n=Wp,ru(e,0),gl(e,r),ks(e,Vn()),n;if(t===6)gl(e,r);else{if(a=e.current.alternate,!(r&30)&&!Rne(a)&&(t=xb(e,r),t===2&&(i=bS(e),i!==0&&(r=i,t=YS(e,i))),t===1))throw n=Wp,ru(e,0),gl(e,r),ks(e,Vn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:Ec(e,bs,uo);break;case 3:if(gl(e,r),(r&130023424)===r&&(t=wP+500-Vn(),10<t)){if(eb(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){os(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ES(Ec.bind(null,e,bs,uo),t);break}Ec(e,bs,uo);break;case 4:if(gl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-li(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ine(r/1960))-r,10<r){e.timeoutHandle=ES(Ec.bind(null,e,bs,uo),r);break}Ec(e,bs,uo);break;case 5:Ec(e,bs,uo);break;default:throw Error(Oe(329))}}}return ks(e,Vn()),e.callbackNode===n?VB.bind(null,e):null}function YS(e,t){var n=ap;return e.current.memoizedState.isDehydrated&&(ru(e,t).flags|=256),e=xb(e,t),e!==2&&(t=bs,bs=n,t!==null&&KS(t)),e}function KS(e){bs===null?bs=e:bs.push.apply(bs,e)}function Rne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!hi(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gl(e,t){for(t&=~bP,t&=~gw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-li(t),r=1<<n;e[n]=-1,t&=~r}}function SD(e){if(Rt&6)throw Error(Oe(327));zd();var t=eb(e,0);if(!(t&1))return ks(e,Vn()),null;var n=xb(e,t);if(e.tag!==0&&n===2){var r=bS(e);r!==0&&(t=r,n=YS(e,r))}if(n===1)throw n=Wp,ru(e,0),gl(e,t),ks(e,Vn()),n;if(n===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,bs,uo),ks(e,Vn()),null}function jP(e,t){var n=Rt;Rt|=1;try{return e(t)}finally{Rt=n,Rt===0&&(Eh=Vn()+500,hw&&sc())}}function vu(e){El!==null&&El.tag===0&&!(Rt&6)&&zd();var t=Rt;Rt|=1;var n=Ea.transition,r=rn;try{if(Ea.transition=null,rn=1,e)return e()}finally{rn=r,Ea.transition=n,Rt=t,!(Rt&6)&&sc()}}function _P(){Ks=Md.current,Nn(Md)}function ru(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hne(n)),Zn!==null)for(n=Zn.return;n!==null;){var r=n;switch(rP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ab();break;case 3:Ch(),Nn(Ss),Nn(Yr),hP();break;case 5:dP(r);break;case 4:Ch();break;case 13:Nn(Pn);break;case 19:Nn(Pn);break;case 10:oP(r.type._context);break;case 22:case 23:_P()}n=n.return}if(mr=e,Zn=e=Fl(e.current,null),Cr=Ks=t,ar=0,Wp=null,bP=gw=gu=0,bs=ap=null,Lc!==null){for(t=0;t<Lc.length;t++)if(n=Lc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Lc=null}return e}function WB(e,t){do{var n=Zn;try{if(iP(),Cy.current=mb,fb){for(var r=Tn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}fb=!1}if(pu=0,dr=rr=Tn=null,rp=!1,zp=0,yP.current=null,n===null||n.return===null){ar=1,Wp=t,Zn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Cr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hD(o);if(m!==null){m.flags&=-257,fD(m,o,l,i,t),m.mode&1&&dD(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){dD(i,u,t),NP();break e}c=Error(Oe(426))}}else if(Sn&&l.mode&1){var x=hD(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),fD(x,o,l,i,t),sP(kh(c,l));break e}}i=c=kh(c,l),ar!==4&&(ar=2),ap===null?ap=[i]:ap.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=EB(i,c,t);aD(i,y);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($l===null||!$l.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=PB(i,l,t);aD(i,j);break e}}i=i.return}while(i!==null)}YB(n)}catch(N){t=N,Zn===n&&n!==null&&(Zn=n=n.return);continue}break}while(!0)}function HB(){var e=pb.current;return pb.current=mb,e===null?mb:e}function NP(){(ar===0||ar===3||ar===2)&&(ar=4),mr===null||!(gu&268435455)&&!(gw&268435455)||gl(mr,Cr)}function xb(e,t){var n=Rt;Rt|=2;var r=HB();(mr!==e||Cr!==t)&&(uo=null,ru(e,t));do try{$ne();break}catch(a){WB(e,a)}while(!0);if(iP(),Rt=n,pb.current=r,Zn!==null)throw Error(Oe(261));return mr=null,Cr=0,ar}function $ne(){for(;Zn!==null;)GB(Zn)}function Lne(){for(;Zn!==null&&!cte();)GB(Zn)}function GB(e){var t=JB(e.alternate,e,Ks);e.memoizedProps=e.pendingProps,t===null?YB(e):Zn=t,yP.current=null}function YB(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tne(n,t),n!==null){n.flags&=32767,Zn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ar=6,Zn=null;return}}else if(n=Ane(n,t,Ks),n!==null){Zn=n;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);ar===0&&(ar=5)}function Ec(e,t,n){var r=rn,a=Ea.transition;try{Ea.transition=null,rn=1,Fne(e,t,n,r)}finally{Ea.transition=a,rn=r}return null}function Fne(e,t,n,r){do zd();while(El!==null);if(Rt&6)throw Error(Oe(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yte(e,i),e===mr&&(Zn=mr=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wx||(wx=!0,XB(Zy,function(){return zd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ea.transition,Ea.transition=null;var o=rn;rn=1;var l=Rt;Rt|=4,yP.current=null,Mne(e,n),zB(n,e),ane(CS),tb=!!SS,CS=SS=null,e.current=n,Dne(n),ute(),Rt=l,rn=o,Ea.transition=i}else e.current=n;if(wx&&(wx=!1,El=e,vb=a),i=e.pendingLanes,i===0&&($l=null),fte(n.stateNode),ks(e,Vn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(gb)throw gb=!1,e=HS,HS=null,e;return vb&1&&e.tag!==0&&zd(),i=e.pendingLanes,i&1?e===GS?ip++:(ip=0,GS=e):ip=0,sc(),null}function zd(){if(El!==null){var e=E8(vb),t=Ea.transition,n=rn;try{if(Ea.transition=null,rn=16>e?16:e,El===null)var r=!1;else{if(e=El,El=null,vb=0,Rt&6)throw Error(Oe(331));var a=Rt;for(Rt|=4,Ue=e.current;Ue!==null;){var i=Ue,o=i.child;if(Ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ue=u;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:sp(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ue=h;else for(;Ue!==null;){d=Ue;var f=d.sibling,m=d.return;if(FB(d),d===u){Ue=null;break}if(f!==null){f.return=m,Ue=f;break}Ue=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ue=o;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sp(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ue=y;break e}Ue=i.return}}var b=e.current;for(Ue=b;Ue!==null;){o=Ue;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ue=w;else e:for(o=b;Ue!==null;){if(l=Ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:pw(9,l)}}catch(N){Fn(l,l.return,N)}if(l===o){Ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ue=j;break e}Ue=l.return}}if(Rt=a,sc(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(ow,e)}catch{}r=!0}return r}finally{rn=n,Ea.transition=t}}return!1}function CD(e,t,n){t=kh(n,t),t=EB(e,t,1),e=Rl(e,t,1),t=os(),e!==null&&(Zg(e,1,t),ks(e,t))}function Fn(e,t,n){if(e.tag===3)CD(e,e,n);else for(;t!==null;){if(t.tag===3){CD(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($l===null||!$l.has(r))){e=kh(n,e),e=PB(t,e,1),t=Rl(t,e,1),e=os(),t!==null&&(Zg(t,1,e),ks(t,e));break}}t=t.return}}function Bne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=os(),e.pingedLanes|=e.suspendedLanes&n,mr===e&&(Cr&n)===n&&(ar===4||ar===3&&(Cr&130023424)===Cr&&500>Vn()-wP?ru(e,0):bP|=n),ks(e,t)}function KB(e,t){t===0&&(e.mode&1?(t=dx,dx<<=1,!(dx&130023424)&&(dx=4194304)):t=1);var n=os();e=To(e,t),e!==null&&(Zg(e,t,n),ks(e,n))}function Une(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),KB(e,n)}function zne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),KB(e,n)}var JB;JB=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)js=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return js=!1,Pne(e,t,n);js=!!(e.flags&131072)}else js=!1,Sn&&t.flags&1048576&&eB(t,lb,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ey(e,t),e=t.pendingProps;var a=_h(t,Yr.current);Ud(t,n),a=mP(null,t,r,e,a,n);var i=pP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cs(r)?(i=!0,ib(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cP(t),a.updater=mw,t.stateNode=a,a._reactInternals=t,IS(t,r,e,n),t=LS(null,t,r,!0,i,n)):(t.tag=0,Sn&&i&&nP(t),ns(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ey(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Vne(r),e=Ja(r,e),a){case 0:t=$S(null,t,r,e,n);break e;case 1:t=gD(null,t,r,e,n);break e;case 11:t=mD(null,t,r,e,n);break e;case 14:t=pD(null,t,r,Ja(r.type,e),n);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ja(r,a),$S(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ja(r,a),gD(e,t,r,a,n);case 3:e:{if(MB(t),e===null)throw Error(Oe(387));r=t.pendingProps,i=t.memoizedState,a=i.element,iB(e,t),db(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=kh(Error(Oe(423)),t),t=vD(e,t,r,n,a);break e}else if(r!==a){a=kh(Error(Oe(424)),t),t=vD(e,t,r,n,a);break e}else for(ea=Il(t.stateNode.containerInfo.firstChild),ra=t,Sn=!0,ri=null,n=sB(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nh(),r===a){t=Oo(e,t,n);break e}ns(e,t,r,n)}t=t.child}return t;case 5:return oB(t),e===null&&OS(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,kS(r,a)?o=null:i!==null&&kS(r,i)&&(t.flags|=32),OB(e,t),ns(e,t,o,n),t.child;case 6:return e===null&&OS(t),null;case 13:return DB(e,t,n);case 4:return uP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sh(t,null,r,n):ns(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ja(r,a),mD(e,t,r,a,n);case 7:return ns(e,t,t.pendingProps,n),t.child;case 8:return ns(e,t,t.pendingProps.children,n),t.child;case 12:return ns(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,gn(cb,r._currentValue),r._currentValue=o,i!==null)if(hi(i.value,o)){if(i.children===a.children&&!Ss.current){t=Oo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_o(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),MS(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Oe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),MS(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ns(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ud(t,n),a=Da(a),r=r(a),t.flags|=1,ns(e,t,r,n),t.child;case 14:return r=t.type,a=Ja(r,t.pendingProps),a=Ja(r.type,a),pD(e,t,r,a,n);case 15:return AB(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ja(r,a),Ey(e,t),t.tag=1,Cs(r)?(e=!0,ib(t)):e=!1,Ud(t,n),kB(t,r,a),IS(t,r,a,n),LS(null,t,r,!0,e,n);case 19:return IB(e,t,n);case 22:return TB(e,t,n)}throw Error(Oe(156,t.tag))};function XB(e,t){return N8(e,t)}function qne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(e,t,n,r){return new qne(e,t,n,r)}function SP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vne(e){if(typeof e=="function")return SP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V2)return 11;if(e===W2)return 14}return 2}function Fl(e,t){var n=e.alternate;return n===null?(n=Sa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ty(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")SP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _d:return su(n.children,a,i,t);case q2:o=8,a|=8;break;case aS:return e=Sa(12,n,t,a|2),e.elementType=aS,e.lanes=i,e;case iS:return e=Sa(13,n,t,a),e.elementType=iS,e.lanes=i,e;case oS:return e=Sa(19,n,t,a),e.elementType=oS,e.lanes=i,e;case o8:return vw(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a8:o=10;break e;case i8:o=9;break e;case V2:o=11;break e;case W2:o=14;break e;case cl:o=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=Sa(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function su(e,t,n,r){return e=Sa(7,e,r,t),e.lanes=n,e}function vw(e,t,n,r){return e=Sa(22,e,r,t),e.elementType=o8,e.lanes=n,e.stateNode={isHidden:!1},e}function n1(e,t,n){return e=Sa(6,e,null,t),e.lanes=n,e}function r1(e,t,n){return t=Sa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wne(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$_(0),this.expirationTimes=$_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$_(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function CP(e,t,n,r,a,i,o,l,c){return e=new Wne(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cP(i),e}function Hne(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QB(e){if(!e)return Hl;e=e._reactInternals;e:{if(Bu(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var n=e.type;if(Cs(n))return Q8(e,n,t)}return t}function ZB(e,t,n,r,a,i,o,l,c){return e=CP(n,r,!0,e,a,i,o,l,c),e.context=QB(null),n=e.current,r=os(),a=Ll(n),i=_o(r,a),i.callback=t??null,Rl(n,i,a),e.current.lanes=a,Zg(e,a,r),ks(e,r),e}function xw(e,t,n,r){var a=t.current,i=os(),o=Ll(a);return n=QB(n),t.context===null?t.context=n:t.pendingContext=n,t=_o(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rl(a,t,o),e!==null&&(ci(e,a,o,i),Sy(e,a,o)),o}function yb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kP(e,t){kD(e,t),(e=e.alternate)&&kD(e,t)}function Gne(){return null}var eU=typeof reportError=="function"?reportError:function(e){console.error(e)};function EP(e){this._internalRoot=e}yw.prototype.render=EP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));xw(e,t,null,null)};yw.prototype.unmount=EP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vu(function(){xw(null,e,null,null)}),t[Ao]=null}};function yw(e){this._internalRoot=e}yw.prototype.unstable_scheduleHydration=function(e){if(e){var t=T8();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pl.length&&t!==0&&t<pl[n].priority;n++);pl.splice(n,0,e),n===0&&M8(e)}};function PP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ED(){}function Yne(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=yb(o);i.call(u)}}var o=ZB(t,r,e,0,null,!1,!1,"",ED);return e._reactRootContainer=o,e[Ao]=o.current,$p(e.nodeType===8?e.parentNode:e),vu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=yb(c);l.call(u)}}var c=CP(e,0,!1,null,null,!1,!1,"",ED);return e._reactRootContainer=c,e[Ao]=c.current,$p(e.nodeType===8?e.parentNode:e),vu(function(){xw(t,c,n,r)}),c}function ww(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=yb(o);l.call(c)}}xw(t,o,e,a)}else o=Yne(n,t,e,a,r);return yb(o)}P8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Um(t.pendingLanes);n!==0&&(Y2(t,n|1),ks(t,Vn()),!(Rt&6)&&(Eh=Vn()+500,sc()))}break;case 13:vu(function(){var r=To(e,1);if(r!==null){var a=os();ci(r,e,1,a)}}),kP(e,1)}};K2=function(e){if(e.tag===13){var t=To(e,134217728);if(t!==null){var n=os();ci(t,e,134217728,n)}kP(e,134217728)}};A8=function(e){if(e.tag===13){var t=Ll(e),n=To(e,t);if(n!==null){var r=os();ci(n,e,t,r)}kP(e,t)}};T8=function(){return rn};O8=function(e,t){var n=rn;try{return rn=e,t()}finally{rn=n}};vS=function(e,t,n){switch(t){case"input":if(uS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=dw(r);if(!a)throw Error(Oe(90));c8(r),uS(r,a)}}}break;case"textarea":d8(e,n);break;case"select":t=n.value,t!=null&&$d(e,!!n.multiple,t,!1)}};x8=jP;y8=vu;var Kne={usingClientEntryPoint:!1,Events:[tv,kd,dw,g8,v8,jP]},pm={findFiberByHostInstance:$c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jne={bundleType:pm.bundleType,version:pm.version,rendererPackageName:pm.rendererPackageName,rendererConfig:pm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j8(e),e===null?null:e.stateNode},findFiberByHostInstance:pm.findFiberByHostInstance||Gne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jx.isDisabled&&jx.supportsFiber)try{ow=jx.inject(Jne),zi=jx}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kne;ua.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PP(t))throw Error(Oe(200));return Hne(e,t,null,n)};ua.createRoot=function(e,t){if(!PP(e))throw Error(Oe(299));var n=!1,r="",a=eU;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=CP(e,1,!1,null,null,n,!1,r,a),e[Ao]=t.current,$p(e.nodeType===8?e.parentNode:e),new EP(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=j8(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return vu(e)};ua.hydrate=function(e,t,n){if(!bw(t))throw Error(Oe(200));return ww(null,e,t,!0,n)};ua.hydrateRoot=function(e,t,n){if(!PP(e))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=eU;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ZB(t,null,e,1,n??null,a,!1,i,o),e[Ao]=t.current,$p(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new yw(t)};ua.render=function(e,t,n){if(!bw(t))throw Error(Oe(200));return ww(null,e,t,!1,n)};ua.unmountComponentAtNode=function(e){if(!bw(e))throw Error(Oe(40));return e._reactRootContainer?(vu(function(){ww(null,null,e,!1,function(){e._reactRootContainer=null,e[Ao]=null})}),!0):!1};ua.unstable_batchedUpdates=jP;ua.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bw(n))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return ww(e,t,n,!1,r)};ua.version="18.3.1-next-f1338f8080-20240426";function tU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tU)}catch(e){console.error(e)}}tU(),t8.exports=ua;var _s=t8.exports;const AP=Qt(_s);var nU,PD=_s;nU=PD.createRoot,PD.hydrateRoot;const Xne=1,Qne=1e6;let s1=0;function Zne(){return s1=(s1+1)%Number.MAX_SAFE_INTEGER,s1.toString()}const a1=new Map,AD=e=>{if(a1.has(e))return;const t=setTimeout(()=>{a1.delete(e),op({type:"REMOVE_TOAST",toastId:e})},Qne);a1.set(e,t)},ere=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Xne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?AD(n):e.toasts.forEach(r=>{AD(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Oy=[];let My={toasts:[]};function op(e){My=ere(My,e),Oy.forEach(t=>{t(My)})}function De({...e}){const t=Zne(),n=a=>op({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>op({type:"DISMISS_TOAST",toastId:t});return op({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function En(){const[e,t]=g.useState(My);return g.useEffect(()=>(Oy.push(t),()=>{const n=Oy.indexOf(t);n>-1&&Oy.splice(n,1)}),[e]),{...e,toast:De,dismiss:n=>op({type:"DISMISS_TOAST",toastId:n})}}function Ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function tre(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jw(...e){return t=>e.forEach(n=>tre(n,t))}function et(...e){return g.useCallback(jw(...e),e)}function nre(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...v}=h,p=(f==null?void 0:f[e][c])||l,x=g.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,v=g.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,rre(a,...t)]}function rre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var $s=g.forwardRef((e,t)=>{const{children:n,...r}=e,a=g.Children.toArray(n),i=a.find(sre);if(i){const o=i.props.children,l=a.map(c=>c===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:c);return s.jsx(JS,{...r,ref:t,children:g.isValidElement(o)?g.cloneElement(o,void 0,l):null})}return s.jsx(JS,{...r,ref:t,children:n})});$s.displayName="Slot";var JS=g.forwardRef((e,t)=>{const{children:n,...r}=e;if(g.isValidElement(n)){const a=ire(n);return g.cloneElement(n,{...are(r,n.props),ref:t?jw(t,a):a})}return g.Children.count(n)>1?g.Children.only(null):null});JS.displayName="SlotClone";var TP=({children:e})=>s.jsx(s.Fragment,{children:e});function sre(e){return g.isValidElement(e)&&e.type===TP}function are(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function ire(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bf(e){const t=e+"CollectionProvider",[n,r]=nre(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:p}=m,x=X.useRef(null),y=X.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:y,collectionRef:x,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=X.forwardRef((m,v)=>{const{scope:p,children:x}=m,y=i(l,p),b=et(v,y.collectionRef);return s.jsx($s,{ref:b,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=X.forwardRef((m,v)=>{const{scope:p,children:x,...y}=m,b=X.useRef(null),w=et(v,b),j=i(u,p);return X.useEffect(()=>(j.itemMap.set(b,{ref:b,...y}),()=>void j.itemMap.delete(b))),s.jsx($s,{[d]:"",ref:w,children:x})});h.displayName=u;function f(m){const v=i(e+"CollectionConsumer",m);return X.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function ore(e,t){const n=g.createContext(t),r=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Er(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:m,...v}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,x=g.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,v=g.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,lre(a,...t)]}function lre(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var cre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=cre.reduce((e,t)=>{const n=g.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?$s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function OP(e,t){e&&_s.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ure(e,t=globalThis==null?void 0:globalThis.document){const n=An(e);g.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var dre="DismissableLayer",XS="dismissableLayer.update",hre="dismissableLayer.pointerDownOutside",fre="dismissableLayer.focusOutside",TD,rU=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(rU),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),v=et(t,C=>h(C)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=pre(C=>{const k=C.target,E=[...u.branches].some(A=>A.contains(k));!j||E||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),S=gre(C=>{const k=C.target;[...u.branches].some(A=>A.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return ure(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(TD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=TD)}},[d,f,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OD())},[d,u]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(XS,C),()=>document.removeEventListener(XS,C)},[]),s.jsx(Be.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,N.onPointerDownCapture)})});Uu.displayName=dre;var mre="DismissableLayerBranch",sU=g.forwardRef((e,t)=>{const n=g.useContext(rU),r=g.useRef(null),a=et(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Be.div,{...e,ref:a})});sU.displayName=mre;function pre(e,t=globalThis==null?void 0:globalThis.document){const n=An(e),r=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){aU(hre,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function gre(e,t=globalThis==null?void 0:globalThis.document){const n=An(e),r=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!r.current&&aU(fre,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OD(){const e=new CustomEvent(XS);document.dispatchEvent(e)}function aU(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?OP(a,i):a.dispatchEvent(i)}var vre=Uu,xre=sU,gr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},yre="Portal",wf=g.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=g.useState(!1);gr(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?AP.createPortal(s.jsx(Be.div,{...r,ref:t}),o):null});wf.displayName=yre;function bre(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var tr=e=>{const{present:t,children:n}=e,r=wre(t),a=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=et(r.ref,jre(a));return typeof n=="function"||r.isPresent?g.cloneElement(a,{ref:i}):null};tr.displayName="Presence";function wre(e){const[t,n]=g.useState(),r=g.useRef({}),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=bre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=_x(r.current);i.current=l==="mounted"?u:"none"},[l]),gr(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=_x(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),gr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=_x(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=_x(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function _x(e){return(e==null?void 0:e.animationName)||"none"}function jre(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Kr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=_re({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=An(n),c=g.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function _re({defaultProp:e,onChange:t}){const n=g.useState(e),[r]=n,a=g.useRef(r),i=An(t);return g.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Nre="VisuallyHidden",rv=g.forwardRef((e,t)=>s.jsx(Be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));rv.displayName=Nre;var Sre=rv,MP="ToastProvider",[DP,Cre,kre]=bf("Toast"),[iU,jQe]=Er("Toast",[kre]),[Ere,_w]=iU(MP),oU=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${MP}\`. Expected non-empty \`string\`.`),s.jsx(DP.Provider,{scope:t,children:s.jsx(Ere,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};oU.displayName=MP;var lU="ToastViewport",Pre=["F8"],QS="toast.viewportPause",ZS="toast.viewportResume",cU=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Pre,label:a="Notifications ({hotkey})",...i}=e,o=_w(lU,n),l=Cre(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=et(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;g.useEffect(()=>{const x=y=>{var w;r.length!==0&&r.every(j=>y[j]||y.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),g.useEffect(()=>{const x=c.current,y=h.current;if(v&&x&&y){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(QS);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(ZS);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!x.contains(S.relatedTarget)&&w()},N=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",j),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:x})=>{const b=l().map(w=>{const j=w.ref.current,N=[j,...zre(j)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return g.useEffect(()=>{const x=h.current;if(x){const y=b=>{var N,S,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const k=document.activeElement,E=b.shiftKey;if(b.target===x&&E){(N=u.current)==null||N.focus();return}const B=p({tabbingDirection:E?"backwards":"forwards"}),U=B.findIndex(I=>I===k);i1(B.slice(U+1))?b.preventDefault():E?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),s.jsxs(xre,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(eC,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});i1(x)}}),s.jsx(DP.Slot,{scope:n,children:s.jsx(Be.ol,{tabIndex:-1,...i,ref:f})}),v&&s.jsx(eC,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});i1(x)}})]})});cU.displayName=lU;var uU="ToastFocusProxy",eC=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=_w(uU,n);return s.jsx(rv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});eC.displayName=uU;var Nw="Toast",Are="toast.swipeStart",Tre="toast.swipeMove",Ore="toast.swipeCancel",Mre="toast.swipeEnd",dU=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Kr({prop:r,defaultProp:a,onChange:i});return s.jsx(tr,{present:n||l,children:s.jsx(Rre,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:An(e.onPause),onResume:An(e.onResume),onSwipeStart:Ae(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ae(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});dU.displayName=Nw;var[Dre,Ire]=iU(Nw,{onClose(){}}),Rre=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=e,p=_w(Nw,n),[x,y]=g.useState(null),b=et(t,I=>y(I)),w=g.useRef(null),j=g.useRef(null),N=a||p.duration,S=g.useRef(0),C=g.useRef(N),k=g.useRef(0),{onToastAdd:E,onToastRemove:A}=p,P=An(()=>{var L;(x==null?void 0:x.contains(document.activeElement))&&((L=p.viewport)==null||L.focus()),o()}),B=g.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(P,I))},[P]);g.useEffect(()=>{const I=p.viewport;if(I){const L=()=>{B(C.current),u==null||u()},M=()=>{const $=new Date().getTime()-S.current;C.current=C.current-$,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(QS,M),I.addEventListener(ZS,L),()=>{I.removeEventListener(QS,M),I.removeEventListener(ZS,L)}}},[p.viewport,N,c,u,B]),g.useEffect(()=>{i&&!p.isClosePausedRef.current&&B(N)},[i,N,p.isClosePausedRef,B]),g.useEffect(()=>(E(),()=>A()),[E,A]);const U=g.useMemo(()=>x?xU(x):null,[x]);return p.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx($re,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(Dre,{scope:n,onClose:P,children:_s.createPortal(s.jsx(DP.ItemSlot,{scope:n,children:s.jsx(vre,{asChild:!0,onEscapeKeyDown:Ae(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ae(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Ae(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ae(e.onPointerMove,I=>{if(!w.current)return;const L=I.clientX-w.current.x,M=I.clientY-w.current.y,$=!!j.current,R=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=R?F(0,L):0,H=R?0:F(0,M),z=I.pointerType==="touch"?10:2,_={x:D,y:H},O={originalEvent:I,delta:_};$?(j.current=_,Nx(Tre,h,O,{discrete:!1})):MD(_,p.swipeDirection,z)?(j.current=_,Nx(Are,d,O,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(L)>z||Math.abs(M)>z)&&(w.current=null)}),onPointerUp:Ae(e.onPointerUp,I=>{const L=j.current,M=I.target;if(M.hasPointerCapture(I.pointerId)&&M.releasePointerCapture(I.pointerId),j.current=null,w.current=null,L){const $=I.currentTarget,R={originalEvent:I,delta:L};MD(L,p.swipeDirection,p.swipeThreshold)?Nx(Mre,m,R,{discrete:!0}):Nx(Ore,f,R,{discrete:!0}),$.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),$re=e=>{const{__scopeToast:t,children:n,...r}=e,a=_w(Nw,t),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return Bre(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(wf,{asChild:!0,children:s.jsx(rv,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},Lre="ToastTitle",hU=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});hU.displayName=Lre;var Fre="ToastDescription",fU=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});fU.displayName=Fre;var mU="ToastAction",pU=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(vU,{altText:n,asChild:!0,children:s.jsx(IP,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mU}\`. Expected non-empty \`string\`.`),null)});pU.displayName=mU;var gU="ToastClose",IP=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Ire(gU,n);return s.jsx(vU,{asChild:!0,children:s.jsx(Be.button,{type:"button",...r,ref:t,onClick:Ae(e.onClick,a.onClose)})})});IP.displayName=gU;var vU=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function xU(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Ure(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...xU(r))}}),t}function Nx(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?OP(a,i):a.dispatchEvent(i)}var MD=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function Bre(e=()=>{}){const t=An(e);gr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Ure(e){return e.nodeType===e.ELEMENT_NODE}function zre(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function i1(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var qre=oU,yU=cU,bU=dU,wU=hU,jU=fU,_U=pU,NU=IP;function SU(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=SU(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=SU(e))&&(r&&(r+=" "),r+=t);return r}const DD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ID=Mt,jf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ID(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=DD(d)||DD(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,h,f]:u},[]);return ID(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CU=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Wre,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:CU("lucide",a),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const n=g.forwardRef(({className:r,...a},i)=>g.createElement(Hre,{ref:i,iconNode:t,className:CU(`lucide-${Vre(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Ce("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Ce("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=Ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=Ce("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ce("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ce("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=Ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=Ce("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Ce("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=Ce("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=Ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=Ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=Ce("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Ce("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=Ce("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=Ce("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=Ce("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=Ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Ce("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=Ce("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=Ce("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=Ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=Ce("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=Ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Ce("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ce("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Ce("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ce("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Ce("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=Ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=Ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Ce("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=Ce("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=Ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=Ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Ce("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=Ce("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=Ce("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=Ce("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=Ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=Ce("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Ce("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=Ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=Ce("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=Ce("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Ce("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=Ce("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ce("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Ce("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=Ce("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Ce("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=Ce("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=Ce("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),HP="-",Cse=e=>{const t=Ese(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(HP);return l[0]===""&&l.length!==1&&l.shift(),RU(l,t)||kse(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},RU=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?RU(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(HP);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},VD=/^\[(.+)\]$/,kse=e=>{if(VD.test(e)){const t=VD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Ese=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Ase(Object.entries(e.classGroups),n).forEach(([i,o])=>{aC(o,r,i,t)}),r},aC=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:WD(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(Pse(a)){aC(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{aC(o,WD(t,i),n,r)})})},WD=(e,t)=>{let n=e;return t.split(HP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Pse=e=>e.isThemeGetter,Ase=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,Tse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},$U="!",Ose=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===a&&(r||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith($U),v=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Mse=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Dse=e=>({cache:Tse(e.cacheSize),parseClassName:Ose(e),...Cse(e)}),Ise=/\s+/,Rse=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Ise);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let v=!!m,p=r(v?f.substring(0,m):f);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=Mse(d).join(":"),y=h?x+$U:x,b=y+p;if(i.includes(b))continue;i.push(b);const w=a(p,v);for(let j=0;j<w.length;++j){const N=w[j];i.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function $se(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=LU(t))&&(r&&(r+=" "),r+=n);return r}const LU=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=LU(e[r]))&&(n&&(n+=" "),n+=t);return n};function Lse(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=Dse(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Rse(c,n);return a(c,d),d}return function(){return i($se.apply(null,arguments))}}const yn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},FU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fse=/^\d+\/\d+$/,Bse=new Set(["px","full","screen"]),Use=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=e=>Vd(e)||Bse.has(e)||Fse.test(e),Xo=e=>_f(e,"length",Zse),Vd=e=>!!e&&!Number.isNaN(Number(e)),l1=e=>_f(e,"number",Vd),gm=e=>!!e&&Number.isInteger(Number(e)),Hse=e=>e.endsWith("%")&&Vd(e.slice(0,-1)),pt=e=>FU.test(e),Qo=e=>Use.test(e),Gse=new Set(["length","size","percentage"]),Yse=e=>_f(e,Gse,BU),Kse=e=>_f(e,"position",BU),Jse=new Set(["image","url"]),Xse=e=>_f(e,Jse,tae),Qse=e=>_f(e,"",eae),vm=()=>!0,_f=(e,t,n)=>{const r=FU.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Zse=e=>zse.test(e)&&!qse.test(e),BU=()=>!1,eae=e=>Vse.test(e),tae=e=>Wse.test(e),nae=()=>{const e=yn("colors"),t=yn("spacing"),n=yn("blur"),r=yn("brightness"),a=yn("borderColor"),i=yn("borderRadius"),o=yn("borderSpacing"),l=yn("borderWidth"),c=yn("contrast"),u=yn("grayscale"),d=yn("hueRotate"),h=yn("invert"),f=yn("gap"),m=yn("gradientColorStops"),v=yn("gradientColorStopPositions"),p=yn("inset"),x=yn("margin"),y=yn("opacity"),b=yn("padding"),w=yn("saturate"),j=yn("scale"),N=yn("sepia"),S=yn("skew"),C=yn("space"),k=yn("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",pt,t],B=()=>[pt,t],U=()=>["",so,Xo],I=()=>["auto",Vd,pt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",pt],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Vd,pt];return{cacheSize:500,separator:":",theme:{colors:[vm],spacing:[so,Xo],blur:["none","",Qo,pt],brightness:H(),borderColor:[e],borderRadius:["none","","full",Qo,pt],borderSpacing:B(),borderWidth:U(),contrast:H(),grayscale:F(),hueRotate:H(),invert:F(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[Hse,Xo],inset:P(),margin:P(),opacity:H(),padding:B(),saturate:H(),scale:H(),sepia:F(),skew:H(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[Qo]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),pt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gm,pt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",gm,pt]}],"grid-cols":[{"grid-cols":[vm]}],"col-start-end":[{col:["auto",{span:["full",gm,pt]},pt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[vm]}],"row-start-end":[{row:["auto",{span:[gm,pt]},pt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,t]}],"min-w":[{"min-w":[pt,t,"min","max","fit"]}],"max-w":[{"max-w":[pt,t,"none","full","min","max","fit","prose",{screen:[Qo]},Qo]}],h:[{h:[pt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qo,Xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",l1]}],"font-family":[{font:[vm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",Vd,l1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",so,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",so,Xo]}],"underline-offset":[{"underline-offset":["auto",so,pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),Kse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[so,pt]}],"outline-w":[{outline:[so,Xo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[so,Xo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qo,Qse]}],"shadow-color":[{shadow:[vm]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qo,pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[gm,pt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[so,Xo,l1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rae=Lse(nae);function ye(...e){return rae(Mt(e))}const sae=qre,UU=g.forwardRef(({className:e,...t},n)=>s.jsx(yU,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));UU.displayName=yU.displayName;const aae=jf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zU=g.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(bU,{ref:r,className:ye(aae({variant:t}),e),...n}));zU.displayName=bU.displayName;const iae=g.forwardRef(({className:e,...t},n)=>s.jsx(_U,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));iae.displayName=_U.displayName;const qU=g.forwardRef(({className:e,...t},n)=>s.jsx(NU,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Qi,{className:"h-4 w-4"})}));qU.displayName=NU.displayName;const VU=g.forwardRef(({className:e,...t},n)=>s.jsx(wU,{ref:n,className:ye("text-sm font-semibold",e),...t}));VU.displayName=wU.displayName;const WU=g.forwardRef(({className:e,...t},n)=>s.jsx(jU,{ref:n,className:ye("text-sm opacity-90",e),...t}));WU.displayName=jU.displayName;function oae(){const{toasts:e}=En();return s.jsxs(sae,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(zU,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(VU,{children:n}),r&&s.jsx(WU,{children:r})]}),a,s.jsx(qU,{})]},t)}),s.jsx(UU,{})]})}var HD=["light","dark"],lae="(prefers-color-scheme: dark)",cae=g.createContext(void 0),uae={setTheme:e=>{},themes:[]},GP=()=>{var e;return(e=g.useContext(cae))!=null?e:uae};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?HD.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,p=!1,x=!0)=>{let y=o?o[v]:v,b=p?v+"|| ''":`'${y}'`,w="";return a&&x&&!p&&HD.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),n==="class"?p||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${lae}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var dae=e=>{switch(e){case"success":return mae;case"info":return gae;case"warning":return pae;case"error":return vae;default:return null}},hae=Array(12).fill(0),fae=({visible:e})=>X.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},X.createElement("div",{className:"sonner-spinner"},hae.map((t,n)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mae=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pae=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gae=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vae=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xae=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},iC=1,yae=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:iC++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let a=t instanceof Promise?t:t(),i=r!==void 0;return a.then(async o=>{if(wae(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||iC++;return this.create({jsx:t(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Ys=new yae,bae=(e,t)=>{let n=(t==null?void 0:t.id)||iC++;return Ys.addToast({title:e,...t,id:n}),n},wae=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jae=bae,_ae=()=>Ys.toasts,pe=Object.assign(jae,{success:Ys.success,info:Ys.info,warning:Ys.warning,error:Ys.error,custom:Ys.custom,message:Ys.message,promise:Ys.promise,dismiss:Ys.dismiss,loading:Ys.loading},{getHistory:_ae});function Nae(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Nae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sx(e){return e.label!==void 0}var Sae=3,Cae="32px",kae=4e3,Eae=356,Pae=14,Aae=20,Tae=200;function Oae(...e){return e.filter(Boolean).join(" ")}var Mae=e=>{var t,n,r,a,i,o,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:v,setHeights:p,visibleToasts:x,heights:y,index:b,toasts:w,expanded:j,removeToast:N,defaultRichColors:S,closeButton:C,style:k,cancelButtonStyle:E,actionButtonStyle:A,className:P="",descriptionClassName:B="",duration:U,position:I,gap:L,loadingIcon:M,expandByDefault:$,classNames:R,icons:F,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:H,cn:z}=e,[_,O]=X.useState(!1),[T,q]=X.useState(!1),[W,K]=X.useState(!1),[G,V]=X.useState(!1),[se,re]=X.useState(0),[je,be]=X.useState(0),ce=X.useRef(null),Z=X.useRef(null),ge=b===0,ke=b+1<=x,me=f.type,Ne=f.dismissible!==!1,oe=f.className||"",de=f.descriptionClassName||"",Pe=X.useMemo(()=>y.findIndex(Ye=>Ye.toastId===f.id)||0,[y,f.id]),Ie=X.useMemo(()=>{var Ye;return(Ye=f.closeButton)!=null?Ye:C},[f.closeButton,C]),nt=X.useMemo(()=>f.duration||U||kae,[f.duration,U]),Q=X.useRef(0),fe=X.useRef(0),Te=X.useRef(0),$e=X.useRef(null),[Xe,Yt]=I.split("-"),Gn=X.useMemo(()=>y.reduce((Ye,qt,Kt)=>Kt>=Pe?Ye:Ye+qt.height,0),[y,Pe]),Yn=xae(),zt=f.invert||h,lr=me==="loading";fe.current=X.useMemo(()=>Pe*L+Gn,[Pe,Gn]),X.useEffect(()=>{O(!0)},[]),X.useLayoutEffect(()=>{if(!_)return;let Ye=Z.current,qt=Ye.style.height;Ye.style.height="auto";let Kt=Ye.getBoundingClientRect().height;Ye.style.height=qt,be(Kt),p(ps=>ps.find(Ct=>Ct.toastId===f.id)?ps.map(Ct=>Ct.toastId===f.id?{...Ct,height:Kt}:Ct):[{toastId:f.id,height:Kt,position:f.position},...ps])},[_,f.title,f.description,p,f.id]);let Zt=X.useCallback(()=>{q(!0),re(fe.current),p(Ye=>Ye.filter(qt=>qt.toastId!==f.id)),setTimeout(()=>{N(f)},Tae)},[f,N,p,fe]);X.useEffect(()=>{if(f.promise&&me==="loading"||f.duration===1/0||f.type==="loading")return;let Ye,qt=nt;return j||v||H&&Yn?(()=>{if(Te.current<Q.current){let Kt=new Date().getTime()-Q.current;qt=qt-Kt}Te.current=new Date().getTime()})():qt!==1/0&&(Q.current=new Date().getTime(),Ye=setTimeout(()=>{var Kt;(Kt=f.onAutoClose)==null||Kt.call(f,f),Zt()},qt)),()=>clearTimeout(Ye)},[j,v,$,f,nt,Zt,f.promise,me,H,Yn]),X.useEffect(()=>{let Ye=Z.current;if(Ye){let qt=Ye.getBoundingClientRect().height;return be(qt),p(Kt=>[{toastId:f.id,height:qt,position:f.position},...Kt]),()=>p(Kt=>Kt.filter(ps=>ps.toastId!==f.id))}},[p,f.id]),X.useEffect(()=>{f.delete&&Zt()},[Zt,f.delete]);function yt(){return F!=null&&F.loading?X.createElement("div",{className:"sonner-loader","data-visible":me==="loading"},F.loading):M?X.createElement("div",{className:"sonner-loader","data-visible":me==="loading"},M):X.createElement(fae,{visible:me==="loading"})}return X.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Z,className:z(P,oe,R==null?void 0:R.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[me],(n=f==null?void 0:f.classNames)==null?void 0:n[me]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":_,"data-promise":!!f.promise,"data-removed":T,"data-visible":ke,"data-y-position":Xe,"data-x-position":Yt,"data-index":b,"data-front":ge,"data-swiping":W,"data-dismissible":Ne,"data-type":me,"data-invert":zt,"data-swipe-out":G,"data-expanded":!!(j||$&&_),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${T?se:fe.current}px`,"--initial-height":$?"auto":`${je}px`,...k,...f.style},onPointerDown:Ye=>{lr||!Ne||(ce.current=new Date,re(fe.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(K(!0),$e.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,qt,Kt,ps;if(G||!Ne)return;$e.current=null;let Ct=Number(((Ye=Z.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Kn=new Date().getTime()-((qt=ce.current)==null?void 0:qt.getTime()),xr=Math.abs(Ct)/Kn;if(Math.abs(Ct)>=Aae||xr>.11){re(fe.current),(Kt=f.onDismiss)==null||Kt.call(f,f),Zt(),V(!0);return}(ps=Z.current)==null||ps.style.setProperty("--swipe-amount","0px"),K(!1)},onPointerMove:Ye=>{var qt;if(!$e.current||!Ne)return;let Kt=Ye.clientY-$e.current.y,ps=Ye.clientX-$e.current.x,Ct=(Xe==="top"?Math.min:Math.max)(0,Kt),Kn=Ye.pointerType==="touch"?10:2;Math.abs(Ct)>Kn?(qt=Z.current)==null||qt.style.setProperty("--swipe-amount",`${Kt}px`):Math.abs(ps)>Kn&&($e.current=null)}},Ie&&!f.jsx?X.createElement("button",{"aria-label":D,"data-disabled":lr,"data-close-button":!0,onClick:lr||!Ne?()=>{}:()=>{var Ye;Zt(),(Ye=f.onDismiss)==null||Ye.call(f,f)},className:z(R==null?void 0:R.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||X.isValidElement(f.title)?f.jsx||f.title:X.createElement(X.Fragment,null,me||f.icon||f.promise?X.createElement("div",{"data-icon":"",className:z(R==null?void 0:R.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||yt():null,f.type!=="loading"?f.icon||(F==null?void 0:F[me])||dae(me):null):null,X.createElement("div",{"data-content":"",className:z(R==null?void 0:R.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},X.createElement("div",{"data-title":"",className:z(R==null?void 0:R.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?X.createElement("div",{"data-description":"",className:z(B,de,R==null?void 0:R.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),X.isValidElement(f.cancel)?f.cancel:f.cancel&&Sx(f.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:Ye=>{var qt,Kt;Sx(f.cancel)&&Ne&&((Kt=(qt=f.cancel).onClick)==null||Kt.call(qt,Ye),Zt())},className:z(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,X.isValidElement(f.action)?f.action:f.action&&Sx(f.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:Ye=>{var qt,Kt;Sx(f.action)&&(Ye.defaultPrevented||((Kt=(qt=f.action).onClick)==null||Kt.call(qt,Ye),Zt()))},className:z(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function GD(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Dae=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=Sae,toastOptions:m,dir:v=GD(),gap:p=Pae,loadingIcon:x,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:j=Oae}=e,[N,S]=X.useState([]),C=X.useMemo(()=>Array.from(new Set([n].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,n]),[k,E]=X.useState([]),[A,P]=X.useState(!1),[B,U]=X.useState(!1),[I,L]=X.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=X.useRef(null),$=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=X.useRef(null),F=X.useRef(!1),D=X.useCallback(H=>{var z;(z=N.find(_=>_.id===H.id))!=null&&z.delete||Ys.dismiss(H.id),S(_=>_.filter(({id:O})=>O!==H.id))},[N]);return X.useEffect(()=>Ys.subscribe(H=>{if(H.dismiss){S(z=>z.map(_=>_.id===H.id?{..._,delete:!0}:_));return}setTimeout(()=>{AP.flushSync(()=>{S(z=>{let _=z.findIndex(O=>O.id===H.id);return _!==-1?[...z.slice(0,_),{...z[_],...H},...z.slice(_+1)]:[H,...z]})})})}),[]),X.useEffect(()=>{if(c!=="system"){L(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{L(H?"dark":"light")})},[c]),X.useEffect(()=>{N.length<=1&&P(!1)},[N]),X.useEffect(()=>{let H=z=>{var _,O;r.every(T=>z[T]||z.code===T)&&(P(!0),(_=M.current)==null||_.focus()),z.code==="Escape"&&(document.activeElement===M.current||(O=M.current)!=null&&O.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),X.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,F.current=!1)}},[M.current]),N.length?X.createElement("section",{"aria-label":`${b} ${$}`,tabIndex:-1},C.map((H,z)=>{var _;let[O,T]=H.split("-");return X.createElement("ol",{key:H,dir:v==="auto"?GD():v,tabIndex:-1,ref:M,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":O,"data-x-position":T,style:{"--front-toast-height":`${((_=k[0])==null?void 0:_.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Cae,"--width":`${Eae}px`,"--gap":`${p}px`,...h},onBlur:q=>{F.current&&!q.currentTarget.contains(q.relatedTarget)&&(F.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||F.current||(F.current=!0,R.current=q.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{B||P(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(q=>!q.position&&z===0||q.position===H).map((q,W)=>{var K,G;return X.createElement(Mae,{key:q.id,icons:y,index:W,toast:q,defaultRichColors:u,duration:(K=m==null?void 0:m.duration)!=null?K:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:f,closeButton:(G=m==null?void 0:m.closeButton)!=null?G:i,interacting:B,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:D,toasts:N.filter(V=>V.position==q.position),heights:k.filter(V=>V.position==q.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:w,cn:j})}))})):null};const Iae=({...e})=>{const{theme:t="system"}=GP();return s.jsx(Dae,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Rae=F2.useId||(()=>{}),$ae=0;function Ts(e){const[t,n]=g.useState(Rae());return gr(()=>{n(r=>r??String($ae++))},[e]),t?`radix-${t}`:""}const Lae=["top","right","bottom","left"],Yl=Math.min,Xs=Math.max,wb=Math.round,Cx=Math.floor,Kl=e=>({x:e,y:e}),Fae={left:"right",right:"left",bottom:"top",top:"bottom"},Bae={start:"end",end:"start"};function oC(e,t,n){return Xs(e,Yl(t,n))}function Do(e,t){return typeof e=="function"?e(t):e}function Io(e){return e.split("-")[0]}function Nf(e){return e.split("-")[1]}function YP(e){return e==="x"?"y":"x"}function KP(e){return e==="y"?"height":"width"}function Jl(e){return["top","bottom"].includes(Io(e))?"y":"x"}function JP(e){return YP(Jl(e))}function Uae(e,t,n){n===void 0&&(n=!1);const r=Nf(e),a=JP(e),i=KP(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=jb(o)),[o,jb(o)]}function zae(e){const t=jb(e);return[lC(e),t,lC(t)]}function lC(e){return e.replace(/start|end/g,t=>Bae[t])}function qae(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function Vae(e,t,n,r){const a=Nf(e);let i=qae(Io(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(lC)))),i}function jb(e){return e.replace(/left|right|bottom|top/g,t=>Fae[t])}function Wae(e){return{top:0,right:0,bottom:0,left:0,...e}}function HU(e){return typeof e!="number"?Wae(e):{top:e,right:e,bottom:e,left:e}}function _b(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function YD(e,t,n){let{reference:r,floating:a}=e;const i=Jl(t),o=JP(t),l=KP(o),c=Io(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Nf(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const Hae=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=YD(u,r,c),f=r,m={},v=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:b,y:w,data:j,reset:N}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,h=w??h,m={...m,[x]:{...m[x],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:h}=YD(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function Jp(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Do(t,e),v=HU(m),x=l[f?h==="floating"?"reference":"floating":h],y=_b(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=_b(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-N.top+v.top)/j.y,bottom:(N.bottom-y.bottom+v.bottom)/j.y,left:(y.left-N.left+v.left)/j.x,right:(N.right-y.right+v.right)/j.x}}const Gae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Do(e,t)||{};if(u==null)return{};const h=HU(d),f={x:n,y:r},m=JP(a),v=KP(m),p=await o.getDimensions(u),x=m==="y",y=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[m]-f[m]-i.floating[v],N=f[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||i.floating[v]);const k=j/2-N/2,E=C/2-p[v]/2-1,A=Yl(h[y],E),P=Yl(h[b],E),B=A,U=C-p[v]-P,I=C/2-p[v]/2+k,L=oC(B,I,U),M=!c.arrow&&Nf(a)!=null&&I!==L&&i.reference[v]/2-(I<B?A:P)-p[v]/2<0,$=M?I<B?I-B:I-U:0;return{[m]:f[m]+$,data:{[m]:L,centerOffset:I-L-$,...M&&{alignmentOffset:$}},reset:M}}}),Yae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=Do(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Io(a),b=Jl(l),w=Io(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(w||!p?[jb(l)]:zae(l)),S=v!=="none";!f&&S&&N.push(...Vae(l,p,v,j));const C=[l,...N],k=await Jp(t,x),E=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(k[y]),h){const I=Uae(a,o,j);E.push(k[I[0]],k[I[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(I=>I<=0)){var P,B;const I=(((P=i.flip)==null?void 0:P.index)||0)+1,L=C[I];if(L)return{data:{index:I,overflows:A},reset:{placement:L}};let M=(B=A.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:B.placement;if(!M)switch(m){case"bestFit":{var U;const $=(U=A.filter(R=>{if(S){const F=Jl(R.placement);return F===b||F==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((R,F)=>R[1]-F[1])[0])==null?void 0:U[0];$&&(M=$);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function KD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function JD(e){return Lae.some(t=>e[t]>=0)}const Kae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Do(e,t);switch(r){case"referenceHidden":{const i=await Jp(t,{...a,elementContext:"reference"}),o=KD(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JD(o)}}}case"escaped":{const i=await Jp(t,{...a,altBoundary:!0}),o=KD(i,n.floating);return{data:{escapedOffsets:o,escaped:JD(o)}}}default:return{}}}}};async function Jae(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Io(n),l=Nf(n),c=Jl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=Do(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Xae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Jae(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Qae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...c}=Do(e,t),u={x:n,y:r},d=await Jp(t,c),h=Jl(Io(a)),f=YP(h);let m=u[f],v=u[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+d[x],w=m-d[y];m=oC(b,m,w)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=v+d[x],w=v-d[y];v=oC(b,v,w)}const p=l.fn({...t,[f]:m,[h]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},Zae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Do(e,t),d={x:n,y:r},h=Jl(a),f=YP(h);let m=d[f],v=d[h];const p=Do(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",j=i.reference[f]-i.floating[w]+x.mainAxis,N=i.reference[f]+i.reference[w]-x.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var y,b;const w=f==="y"?"width":"height",j=["top","left"].includes(Io(a)),N=i.reference[h]-i.floating[w]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:x.crossAxis),S=i.reference[h]+i.reference[w]+(j?0:((b=o.offset)==null?void 0:b[h])||0)-(j?x.crossAxis:0);v<N?v=N:v>S&&(v=S)}return{[f]:m,[h]:v}}}},eie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Do(e,t),d=await Jp(t,u),h=Io(a),f=Nf(a),m=Jl(a)==="y",{width:v,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=v-d.left-d.right,j=Yl(p-d[x],b),N=Yl(v-d[y],w),S=!t.middlewareData.shift;let C=j,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),S&&!f){const A=Xs(d.left,0),P=Xs(d.right,0),B=Xs(d.top,0),U=Xs(d.bottom,0);m?k=v-2*(A!==0||P!==0?A+P:Xs(d.left,d.right)):C=p-2*(B!==0||U!==0?B+U:Xs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const E=await o.getDimensions(l.floating);return v!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function kw(){return typeof window<"u"}function Sf(e){return GU(e)?(e.nodeName||"").toLowerCase():"#document"}function aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zi(e){var t;return(t=(GU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function GU(e){return kw()?e instanceof Node||e instanceof aa(e).Node:!1}function fi(e){return kw()?e instanceof Element||e instanceof aa(e).Element:!1}function Yi(e){return kw()?e instanceof HTMLElement||e instanceof aa(e).HTMLElement:!1}function XD(e){return!kw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof aa(e).ShadowRoot}function sv(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=mi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function tie(e){return["table","td","th"].includes(Sf(e))}function Ew(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function XP(e){const t=QP(),n=fi(e)?mi(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nie(e){let t=Xl(e);for(;Yi(t)&&!Ah(t);){if(XP(t))return t;if(Ew(t))return null;t=Xl(t)}return null}function QP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ah(e){return["html","body","#document"].includes(Sf(e))}function mi(e){return aa(e).getComputedStyle(e)}function Pw(e){return fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xl(e){if(Sf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XD(e)&&e.host||Zi(e);return XD(t)?t.host:t}function YU(e){const t=Xl(e);return Ah(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yi(t)&&sv(t)?t:YU(t)}function Xp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=YU(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=aa(a);if(i){const l=cC(o);return t.concat(o,o.visualViewport||[],sv(a)?a:[],l&&n?Xp(l):[])}return t.concat(a,Xp(a,[],n))}function cC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KU(e){const t=mi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Yi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=wb(n)!==i||wb(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function ZP(e){return fi(e)?e:e.contextElement}function Wd(e){const t=ZP(e);if(!Yi(t))return Kl(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=KU(t);let o=(i?wb(n.width):n.width)/r,l=(i?wb(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rie=Kl(0);function JU(e){const t=aa(e);return!QP()||!t.visualViewport?rie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sie(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==aa(e)?!1:t}function yu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=ZP(e);let o=Kl(1);t&&(r?fi(r)&&(o=Wd(r)):o=Wd(e));const l=sie(i,n,r)?JU(i):Kl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=aa(i),m=r&&fi(r)?aa(r):r;let v=f,p=cC(v);for(;p&&r&&m!==v;){const x=Wd(p),y=p.getBoundingClientRect(),b=mi(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*x.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=w,u+=j,v=aa(p),p=cC(v)}}return _b({width:d,height:h,x:c,y:u})}function aie(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Zi(r),l=t?Ew(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Kl(1);const d=Kl(0),h=Yi(r);if((h||!h&&!i)&&((Sf(r)!=="body"||sv(o))&&(c=Pw(r)),Yi(r))){const f=yu(r);u=Wd(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function iie(e){return Array.from(e.getClientRects())}function uC(e,t){const n=Pw(e).scrollLeft;return t?t.left+n:yu(Zi(e)).left+n}function oie(e){const t=Zi(e),n=Pw(e),r=e.ownerDocument.body,a=Xs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Xs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+uC(e);const l=-n.scrollTop;return mi(r).direction==="rtl"&&(o+=Xs(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function lie(e,t){const n=aa(e),r=Zi(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=QP();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function cie(e,t){const n=yu(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Yi(e)?Wd(e):Kl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function QD(e,t,n){let r;if(t==="viewport")r=lie(e,n);else if(t==="document")r=oie(Zi(e));else if(fi(t))r=cie(t,n);else{const a=JU(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return _b(r)}function XU(e,t){const n=Xl(e);return n===t||!fi(n)||Ah(n)?!1:mi(n).position==="fixed"||XU(n,t)}function uie(e,t){const n=t.get(e);if(n)return n;let r=Xp(e,[],!1).filter(l=>fi(l)&&Sf(l)!=="body"),a=null;const i=mi(e).position==="fixed";let o=i?Xl(e):e;for(;fi(o)&&!Ah(o);){const l=mi(o),c=XP(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||sv(o)&&!c&&XU(e,o))?r=r.filter(d=>d!==o):a=l,o=Xl(o)}return t.set(e,r),r}function die(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Ew(t)?[]:uie(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=QD(t,d,a);return u.top=Xs(h.top,u.top),u.right=Yl(h.right,u.right),u.bottom=Yl(h.bottom,u.bottom),u.left=Xs(h.left,u.left),u},QD(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hie(e){const{width:t,height:n}=KU(e);return{width:t,height:n}}function fie(e,t,n){const r=Yi(t),a=Zi(t),i=n==="fixed",o=yu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Kl(0);if(r||!r&&!i)if((Sf(t)!=="body"||sv(a))&&(l=Pw(t)),r){const m=yu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=uC(a));let u=0,d=0;if(a&&!r&&!i){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-uC(a,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function c1(e){return mi(e).position==="static"}function ZD(e,t){if(!Yi(e)||mi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zi(e)===n&&(n=n.ownerDocument.body),n}function QU(e,t){const n=aa(e);if(Ew(e))return n;if(!Yi(e)){let a=Xl(e);for(;a&&!Ah(a);){if(fi(a)&&!c1(a))return a;a=Xl(a)}return n}let r=ZD(e,t);for(;r&&tie(r)&&c1(r);)r=ZD(r,t);return r&&Ah(r)&&c1(r)&&!XP(r)?n:r||nie(e)||n}const mie=async function(e){const t=this.getOffsetParent||QU,n=this.getDimensions,r=await n(e.floating);return{reference:fie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pie(e){return mi(e).direction==="rtl"}const gie={convertOffsetParentRelativeRectToViewportRelativeRect:aie,getDocumentElement:Zi,getClippingRect:die,getOffsetParent:QU,getElementRects:mie,getClientRects:iie,getDimensions:hie,getScale:Wd,isElement:fi,isRTL:pie};function vie(e,t){let n=null,r;const a=Zi(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const m=Cx(d),v=Cx(a.clientWidth-(u+h)),p=Cx(a.clientHeight-(d+f)),x=Cx(u),b={rootMargin:-m+"px "+-v+"px "+-p+"px "+-x+"px",threshold:Xs(0,Yl(1,c))||1};let w=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return o(!0),i}function xie(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ZP(e),d=a||i?[...u?Xp(u):[],...Xp(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&l?vie(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?yu(e):null;c&&x();function x(){const y=yu(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&n(),p=y,v=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const yie=Xae,bie=Qae,wie=Yae,jie=eie,_ie=Kae,eI=Gae,Nie=Zae,Sie=(e,t,n)=>{const r=new Map,a={platform:gie,...n},i={...a.platform,_c:r};return Hae(e,t,{...a,platform:i})};var Dy=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Nb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Nb(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Nb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ZU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tI(e,t){const n=ZU(e);return Math.round(t*n)/n}function u1(e){const t=g.useRef(e);return Dy(()=>{t.current=e}),t}function Cie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(r);Nb(f,r)||m(r);const[v,p]=g.useState(null),[x,y]=g.useState(null),b=g.useCallback(R=>{R!==S.current&&(S.current=R,p(R))},[]),w=g.useCallback(R=>{R!==C.current&&(C.current=R,y(R))},[]),j=i||v,N=o||x,S=g.useRef(null),C=g.useRef(null),k=g.useRef(d),E=c!=null,A=u1(c),P=u1(a),B=u1(u),U=g.useCallback(()=>{if(!S.current||!C.current)return;const R={placement:t,strategy:n,middleware:f};P.current&&(R.platform=P.current),Sie(S.current,C.current,R).then(F=>{const D={...F,isPositioned:B.current!==!1};I.current&&!Nb(k.current,D)&&(k.current=D,_s.flushSync(()=>{h(D)}))})},[f,t,n,P,B]);Dy(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const I=g.useRef(!1);Dy(()=>(I.current=!0,()=>{I.current=!1}),[]),Dy(()=>{if(j&&(S.current=j),N&&(C.current=N),j&&N){if(A.current)return A.current(j,N,U);U()}},[j,N,U,A,E]);const L=g.useMemo(()=>({reference:S,floating:C,setReference:b,setFloating:w}),[b,w]),M=g.useMemo(()=>({reference:j,floating:N}),[j,N]),$=g.useMemo(()=>{const R={position:n,left:0,top:0};if(!M.floating)return R;const F=tI(M.floating,d.x),D=tI(M.floating,d.y);return l?{...R,transform:"translate("+F+"px, "+D+"px)",...ZU(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:D}},[n,l,M.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:U,refs:L,elements:M,floatingStyles:$}),[d,U,L,M,$])}const kie=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eI({element:r.current,padding:a}).fn(n):{}:r?eI({element:r,padding:a}).fn(n):{}}}},Eie=(e,t)=>({...yie(e),options:[e,t]}),Pie=(e,t)=>({...bie(e),options:[e,t]}),Aie=(e,t)=>({...Nie(e),options:[e,t]}),Tie=(e,t)=>({...wie(e),options:[e,t]}),Oie=(e,t)=>({...jie(e),options:[e,t]}),Mie=(e,t)=>({..._ie(e),options:[e,t]}),Die=(e,t)=>({...kie(e),options:[e,t]});var Iie="Arrow",ez=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Be.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});ez.displayName=Iie;var Rie=ez;function $ie(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...v}=h,p=(f==null?void 0:f[e][c])||l,x=g.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,v=g.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Lie(a,...t)]}function Lie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function av(e){const[t,n]=g.useState(void 0);return gr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var eA="Popper",[tz,oc]=$ie(eA),[Fie,nz]=tz(eA),rz=e=>{const{__scopePopper:t,children:n}=e,[r,a]=g.useState(null);return s.jsx(Fie,{scope:t,anchor:r,onAnchorChange:a,children:n})};rz.displayName=eA;var sz="PopperAnchor",az=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=nz(sz,n),o=g.useRef(null),l=et(t,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Be.div,{...a,ref:l})});az.displayName=sz;var tA="PopperContent",[Bie,Uie]=tz(tA),iz=g.forwardRef((e,t)=>{var W,K,G,V,se,re;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,x=nz(tA,n),[y,b]=g.useState(null),w=et(t,je=>b(je)),[j,N]=g.useState(null),S=av(j),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,E=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],B=P.length>0,U={padding:A,boundary:P.filter(qie),altBoundary:B},{refs:I,floatingStyles:L,placement:M,isPositioned:$,middlewareData:R}=Cie({strategy:"fixed",placement:E,whileElementsMounted:(...je)=>xie(...je,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Eie({mainAxis:a+k,alignmentAxis:o}),c&&Pie({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Aie():void 0,...U}),c&&Tie({...U}),Oie({...U,apply:({elements:je,rects:be,availableWidth:ce,availableHeight:Z})=>{const{width:ge,height:ke}=be.reference,me=je.floating.style;me.setProperty("--radix-popper-available-width",`${ce}px`),me.setProperty("--radix-popper-available-height",`${Z}px`),me.setProperty("--radix-popper-anchor-width",`${ge}px`),me.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),j&&Die({element:j,padding:l}),Vie({arrowWidth:C,arrowHeight:k}),f&&Mie({strategy:"referenceHidden",...U})]}),[F,D]=cz(M),H=An(v);gr(()=>{$&&(H==null||H())},[$,H]);const z=(W=R.arrow)==null?void 0:W.x,_=(K=R.arrow)==null?void 0:K.y,O=((G=R.arrow)==null?void 0:G.centerOffset)!==0,[T,q]=g.useState();return gr(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:$?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:T,"--radix-popper-transform-origin":[(V=R.transformOrigin)==null?void 0:V.x,(se=R.transformOrigin)==null?void 0:se.y].join(" "),...((re=R.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Bie,{scope:n,placedSide:F,onArrowChange:N,arrowX:z,arrowY:_,shouldHideArrow:O,children:s.jsx(Be.div,{"data-side":F,"data-align":D,...p,ref:w,style:{...p.style,animation:$?void 0:"none"}})})})});iz.displayName=tA;var oz="PopperArrow",zie={top:"bottom",right:"left",bottom:"top",left:"right"},lz=g.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Uie(oz,r),o=zie[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Rie,{...a,ref:n,style:{...a.style,display:"block"}})})});lz.displayName=oz;function qie(e){return e!==null}var Vie=e=>({name:"transformOrigin",options:e,fn(t){var x,y,b;const{placement:n,rects:r,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=cz(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?h:`${f}px`,p=`${-c}px`):u==="top"?(v=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:v,y:p}}}});function cz(e){const[t,n="center"]=e.split("-");return[t,n]}var Aw=rz,iv=az,Tw=iz,Ow=lz,[Mw,NQe]=Er("Tooltip",[oc]),Dw=oc(),uz="TooltipProvider",Wie=700,dC="tooltip.open",[Hie,nA]=Mw(uz),dz=e=>{const{__scopeTooltip:t,delayDuration:n=Wie,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=g.useState(!0),c=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(Hie,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:g.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};dz.displayName=uz;var Iw="Tooltip",[Gie,Rw]=Mw(Iw),hz=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=nA(Iw,e.__scopeTooltip),u=Dw(t),[d,h]=g.useState(null),f=Ts(),m=g.useRef(0),v=o??c.disableHoverableContent,p=l??c.delayDuration,x=g.useRef(!1),[y=!1,b]=Kr({prop:r,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(dC))):c.onClose(),i==null||i(C)}}),w=g.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),j=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,b(!0)},[b]),N=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),S=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,b(!0),m.current=0},p)},[p,b]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(Aw,{...u,children:s.jsx(Gie,{scope:t,contentId:f,open:y,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayed?S():j()},[c.isOpenDelayed,S,j]),onTriggerLeave:g.useCallback(()=>{v?N():(window.clearTimeout(m.current),m.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:n})})};hz.displayName=Iw;var hC="TooltipTrigger",fz=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Rw(hC,n),i=nA(hC,n),o=Dw(n),l=g.useRef(null),c=et(t,l,a.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(iv,{asChild:!0,...o,children:s.jsx(Be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:Ae(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ae(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ae(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ae(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ae(e.onBlur,a.onClose),onClick:Ae(e.onClick,a.onClose)})})});fz.displayName=hC;var Yie="TooltipPortal",[SQe,Kie]=Mw(Yie,{forceMount:void 0}),Th="TooltipContent",mz=g.forwardRef((e,t)=>{const n=Kie(Th,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Rw(Th,e.__scopeTooltip);return s.jsx(tr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(pz,{side:a,...i,ref:t}):s.jsx(Jie,{side:a,...i,ref:t})})}),Jie=g.forwardRef((e,t)=>{const n=Rw(Th,e.__scopeTooltip),r=nA(Th,e.__scopeTooltip),a=g.useRef(null),i=et(t,a),[o,l]=g.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=g.useCallback(()=>{l(null),h(!1)},[h]),m=g.useCallback((v,p)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},b=eoe(y,x.getBoundingClientRect()),w=toe(y,b),j=noe(p.getBoundingClientRect()),N=soe([...w,...j]);l(N),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const v=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),g.useEffect(()=>{if(o){const v=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!roe(y,o);b?f():w&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,f]),s.jsx(pz,{...e,ref:i})}),[Xie,Qie]=Mw(Iw,{isInside:!1}),pz=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Rw(Th,n),u=Dw(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(dC,d),()=>document.removeEventListener(dC,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(Tw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(TP,{children:r}),s.jsx(Xie,{scope:n,isInside:!0,children:s.jsx(Sre,{id:c.contentId,role:"tooltip",children:a||r})})]})})});mz.displayName=Th;var gz="TooltipArrow",Zie=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Dw(n);return Qie(gz,n).isInside?null:s.jsx(Ow,{...a,...r,ref:t})});Zie.displayName=gz;function eoe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function toe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function noe(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function roe(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function soe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),aoe(t)}function aoe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var ioe=dz,ooe=hz,loe=fz,vz=mz;const xz=ioe,coe=ooe,uoe=loe,yz=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(vz,{ref:r,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));yz.displayName=vz.displayName;var ov=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bu=typeof window>"u"||"Deno"in globalThis;function ya(){}function doe(e,t){return typeof e=="function"?e(t):e}function fC(e){return typeof e=="number"&&e>=0&&e!==1/0}function bz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hd(e,t){return typeof e=="function"?e(t):e}function si(e,t){return typeof e=="function"?e(t):e}function nI(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==rA(o,t.options))return!1}else if(!Zp(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function rI(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Qp(t.options.mutationKey)!==Qp(i))return!1}else if(!Zp(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function rA(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qp)(e)}function Qp(e){return JSON.stringify(e,(t,n)=>pC(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Zp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Zp(e[n],t[n])):!1}function wz(e,t){if(e===t)return e;const n=sI(e)&&sI(t);if(n||pC(e)&&pC(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=wz(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function mC(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function sI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pC(e){if(!aI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!aI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aI(e){return Object.prototype.toString.call(e)==="[object Object]"}function hoe(e){return new Promise(t=>{setTimeout(t,e)})}function gC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wz(e,t):t}function foe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function moe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var sA=Symbol();function jz(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Jc,bl,ch,D6,poe=(D6=class extends ov{constructor(){super();lt(this,Jc);lt(this,bl);lt(this,ch);qe(this,ch,t=>{if(!bu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,bl)||this.setEventListener(le(this,ch))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,bl))==null||t.call(this),qe(this,bl,void 0))}setEventListener(t){var n;qe(this,ch,t),(n=le(this,bl))==null||n.call(this),qe(this,bl,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){le(this,Jc)!==t&&(qe(this,Jc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof le(this,Jc)=="boolean"?le(this,Jc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Jc=new WeakMap,bl=new WeakMap,ch=new WeakMap,D6),aA=new poe,uh,wl,dh,I6,goe=(I6=class extends ov{constructor(){super();lt(this,uh,!0);lt(this,wl);lt(this,dh);qe(this,dh,t=>{if(!bu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){le(this,wl)||this.setEventListener(le(this,dh))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,wl))==null||t.call(this),qe(this,wl,void 0))}setEventListener(t){var n;qe(this,dh,t),(n=le(this,wl))==null||n.call(this),qe(this,wl,t(this.setOnline.bind(this)))}setOnline(t){le(this,uh)!==t&&(qe(this,uh,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return le(this,uh)}},uh=new WeakMap,wl=new WeakMap,dh=new WeakMap,I6),Sb=new goe;function vC(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function voe(e){return Math.min(1e3*2**e,3e4)}function _z(e){return(e??"online")==="online"?Sb.isOnline():!0}var Nz=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function d1(e){return e instanceof Nz}function Sz(e){let t=!1,n=0,r=!1,a;const i=vC(),o=p=>{var x;r||(f(new Nz(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>aA.isFocused()&&(e.networkMode==="always"||Sb.isOnline())&&e.canRun(),d=()=>_z(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var x;a=y=>{(r||u())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var S;if(r)return;const b=e.retry??(bu?0:3),w=e.retryDelay??voe,j=typeof w=="function"?w(n,y):w,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(t||!N){f(y);return}n++,(S=e.onFail)==null||S.call(e,n,y),hoe(j).then(()=>u()?void 0:m()).then(()=>{t?f(y):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),i)}}function xoe(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Nr=xoe(),Xc,R6,Cz=(R6=class{constructor(){lt(this,Xc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fC(this.gcTime)&&qe(this,Xc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bu?1/0:5*60*1e3))}clearGcTimeout(){le(this,Xc)&&(clearTimeout(le(this,Xc)),qe(this,Xc,void 0))}},Xc=new WeakMap,R6),hh,fh,xa,Dr,Yg,Qc,Xa,oo,$6,yoe=($6=class extends Cz{constructor(t){super();lt(this,Xa);lt(this,hh);lt(this,fh);lt(this,xa);lt(this,Dr);lt(this,Yg);lt(this,Qc);qe(this,Qc,!1),qe(this,Yg,t.defaultOptions),this.setOptions(t.options),this.observers=[],qe(this,xa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qe(this,hh,boe(this.options)),this.state=t.state??le(this,hh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,Dr))==null?void 0:t.promise}setOptions(t){this.options={...le(this,Yg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,xa).remove(this)}setData(t,n){const r=gC(this.state.data,t,this.options);return kt(this,Xa,oo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){kt(this,Xa,oo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=le(this,Dr))==null?void 0:r.promise;return(a=le(this,Dr))==null||a.cancel(t),n?n.then(ya).catch(ya):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,hh))}isActive(){return this.observers.some(t=>si(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!bz(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,Dr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,Dr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,xa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(le(this,Dr)&&(le(this,Qc)?le(this,Dr).cancel({revert:!0}):le(this,Dr).cancelRetry()),this.scheduleGc()),le(this,xa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kt(this,Xa,oo).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,Dr))return le(this,Dr).continueRetry(),le(this,Dr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(qe(this,Qc,!0),r.signal)})},i=()=>{const h=jz(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),qe(this,Qc,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),qe(this,fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&kt(this,Xa,oo).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,v,p;d1(h)&&h.silent||kt(this,Xa,oo).call(this,{type:"error",error:h}),d1(h)||((m=(f=le(this,xa).config).onError)==null||m.call(f,h,this),(p=(v=le(this,xa).config).onSettled)==null||p.call(v,this.state.data,h,this)),this.scheduleGc()};return qe(this,Dr,Sz({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,v,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(m=(f=le(this,xa).config).onSuccess)==null||m.call(f,h,this),(p=(v=le(this,xa).config).onSettled)==null||p.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{kt(this,Xa,oo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{kt(this,Xa,oo).call(this,{type:"pause"})},onContinue:()=>{kt(this,Xa,oo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),le(this,Dr).start()}},hh=new WeakMap,fh=new WeakMap,xa=new WeakMap,Dr=new WeakMap,Yg=new WeakMap,Qc=new WeakMap,Xa=new WeakSet,oo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kz(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return d1(a)&&a.revert&&le(this,fh)?{...le(this,fh),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),le(this,xa).notify({query:this,type:"updated",action:t})})},$6);function kz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_z(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function boe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,L6,woe=(L6=class extends ov{constructor(t={}){super();lt(this,Oi);this.config=t,qe(this,Oi,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??rA(a,n);let o=this.get(i);return o||(o=new yoe({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){le(this,Oi).has(t.queryHash)||(le(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=le(this,Oi).get(t.queryHash);n&&(t.destroy(),n===t&&le(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,Oi).get(t)}getAll(){return[...le(this,Oi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>nI(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>nI(t,r)):n}notify(t){Nr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,L6),Mi,es,Zc,Di,rl,F6,joe=(F6=class extends Cz{constructor(t){super();lt(this,Di);lt(this,Mi);lt(this,es);lt(this,Zc);this.mutationId=t.mutationId,qe(this,es,t.mutationCache),qe(this,Mi,[]),this.state=t.state||_oe(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,Mi).includes(t)||(le(this,Mi).push(t),this.clearGcTimeout(),le(this,es).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qe(this,Mi,le(this,Mi).filter(n=>n!==t)),this.scheduleGc(),le(this,es).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,Mi).length||(this.state.status==="pending"?this.scheduleGc():le(this,es).remove(this))}continue(){var t;return((t=le(this,Zc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,h,f,m,v,p,x,y,b,w,j,N,S,C;qe(this,Zc,Sz({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{kt(this,Di,rl).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{kt(this,Di,rl).call(this,{type:"pause"})},onContinue:()=>{kt(this,Di,rl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,es).canRun(this)}));const n=this.state.status==="pending",r=!le(this,Zc).canStart();try{if(!n){kt(this,Di,rl).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=le(this,es).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&kt(this,Di,rl).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const k=await le(this,Zc).start();return await((u=(c=le(this,es).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,t,this.state.context)),await((m=(f=le(this,es).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,k,null,t,this.state.context)),kt(this,Di,rl).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(x=le(this,es).config).onError)==null?void 0:y.call(x,k,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,k,t,this.state.context)),await((N=(j=le(this,es).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,k,t,this.state.context)),k}finally{kt(this,Di,rl).call(this,{type:"error",error:k})}}finally{le(this,es).runNext(this)}}},Mi=new WeakMap,es=new WeakMap,Zc=new WeakMap,Di=new WeakSet,rl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Nr.batch(()=>{le(this,Mi).forEach(r=>{r.onMutationUpdate(t)}),le(this,es).notify({mutation:this,type:"updated",action:t})})},F6);function _oe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gs,Kg,B6,Noe=(B6=class extends ov{constructor(t={}){super();lt(this,Gs);lt(this,Kg);this.config=t,qe(this,Gs,new Map),qe(this,Kg,Date.now())}build(t,n,r){const a=new joe({mutationCache:this,mutationId:++ax(this,Kg)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=kx(t),r=le(this,Gs).get(n)??[];r.push(t),le(this,Gs).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kx(t);if(le(this,Gs).has(n)){const a=(r=le(this,Gs).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?le(this,Gs).delete(n):le(this,Gs).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=le(this,Gs).get(kx(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=le(this,Gs).get(kx(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...le(this,Gs).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rI(n,r))}findAll(t={}){return this.getAll().filter(n=>rI(t,n))}notify(t){Nr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Nr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ya))))}},Gs=new WeakMap,Kg=new WeakMap,B6);function kx(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function iI(e){return{onFetch:(t,n)=>{var d,h,f,m,v;const r=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=jz(t.options,t.fetchOptions),b=async(w,j,N)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};x(S);const C=await y(S),{maxPages:k}=t.options,E=N?moe:foe;return{pages:E(w.pages,C,k),pageParams:E(w.pageParams,j,k)}};if(a&&i.length){const w=a==="backward",j=w?Soe:oI,N={pages:i,pageParams:o},S=j(r,N);l=await b(N,S,w)}else{const w=e??i.length;do{const j=c===0?o[0]??r.initialPageParam:oI(r,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function oI(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Soe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ln,jl,_l,mh,ph,Nl,gh,vh,U6,Coe=(U6=class{constructor(e={}){lt(this,Ln);lt(this,jl);lt(this,_l);lt(this,mh);lt(this,ph);lt(this,Nl);lt(this,gh);lt(this,vh);qe(this,Ln,e.queryCache||new woe),qe(this,jl,e.mutationCache||new Noe),qe(this,_l,e.defaultOptions||{}),qe(this,mh,new Map),qe(this,ph,new Map),qe(this,Nl,0)}mount(){ax(this,Nl)._++,le(this,Nl)===1&&(qe(this,gh,aA.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Ln).onFocus())})),qe(this,vh,Sb.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Ln).onOnline())})))}unmount(){var e,t;ax(this,Nl)._--,le(this,Nl)===0&&((e=le(this,gh))==null||e.call(this),qe(this,gh,void 0),(t=le(this,vh))==null||t.call(this),qe(this,vh,void 0))}isFetching(e){return le(this,Ln).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,jl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,Ln).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=le(this,Ln).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Hd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return le(this,Ln).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=le(this,Ln).get(r.queryHash),i=a==null?void 0:a.state.data,o=doe(t,i);if(o!==void 0)return le(this,Ln).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Nr.batch(()=>le(this,Ln).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,Ln).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=le(this,Ln);Nr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=le(this,Ln),r={type:"active",...e};return Nr.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Nr.batch(()=>le(this,Ln).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(ya).catch(ya)}invalidateQueries(e={},t={}){return Nr.batch(()=>{if(le(this,Ln).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Nr.batch(()=>le(this,Ln).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(ya)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ya)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=le(this,Ln).build(this,t);return n.isStaleByTime(Hd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ya).catch(ya)}fetchInfiniteQuery(e){return e.behavior=iI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ya).catch(ya)}ensureInfiniteQueryData(e){return e.behavior=iI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sb.isOnline()?le(this,jl).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Ln)}getMutationCache(){return le(this,jl)}getDefaultOptions(){return le(this,_l)}setDefaultOptions(e){qe(this,_l,e)}setQueryDefaults(e,t){le(this,mh).set(Qp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,mh).values()];let n={};return t.forEach(r=>{Zp(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){le(this,ph).set(Qp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,ph).values()];let n={};return t.forEach(r=>{Zp(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,_l).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===sA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,_l).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,Ln).clear(),le(this,jl).clear()}},Ln=new WeakMap,jl=new WeakMap,_l=new WeakMap,mh=new WeakMap,ph=new WeakMap,Nl=new WeakMap,gh=new WeakMap,vh=new WeakMap,U6),xs,Pt,Jg,ts,eu,xh,Sl,Ii,Xg,yh,bh,tu,nu,Cl,wh,Xt,qm,xC,yC,bC,wC,jC,_C,NC,Ez,z6,koe=(z6=class extends ov{constructor(t,n){super();lt(this,Xt);lt(this,xs);lt(this,Pt);lt(this,Jg);lt(this,ts);lt(this,eu);lt(this,xh);lt(this,Sl);lt(this,Ii);lt(this,Xg);lt(this,yh);lt(this,bh);lt(this,tu);lt(this,nu);lt(this,Cl);lt(this,wh,new Set);this.options=n,qe(this,xs,t),qe(this,Ii,null),qe(this,Sl,vC()),this.options.experimental_prefetchInRender||le(this,Sl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(le(this,Pt).addObserver(this),lI(le(this,Pt),this.options)?kt(this,Xt,qm).call(this):this.updateResult(),kt(this,Xt,wC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return SC(le(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return SC(le(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,kt(this,Xt,jC).call(this),kt(this,Xt,_C).call(this),le(this,Pt).removeObserver(this)}setOptions(t,n){const r=this.options,a=le(this,Pt);if(this.options=le(this,xs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof si(this.options.enabled,le(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");kt(this,Xt,NC).call(this),le(this,Pt).setOptions(this.options),r._defaulted&&!mC(this.options,r)&&le(this,xs).getQueryCache().notify({type:"observerOptionsUpdated",query:le(this,Pt),observer:this});const i=this.hasListeners();i&&cI(le(this,Pt),a,this.options,r)&&kt(this,Xt,qm).call(this),this.updateResult(n),i&&(le(this,Pt)!==a||si(this.options.enabled,le(this,Pt))!==si(r.enabled,le(this,Pt))||Hd(this.options.staleTime,le(this,Pt))!==Hd(r.staleTime,le(this,Pt)))&&kt(this,Xt,xC).call(this);const o=kt(this,Xt,yC).call(this);i&&(le(this,Pt)!==a||si(this.options.enabled,le(this,Pt))!==si(r.enabled,le(this,Pt))||o!==le(this,Cl))&&kt(this,Xt,bC).call(this,o)}getOptimisticResult(t){const n=le(this,xs).getQueryCache().build(le(this,xs),t),r=this.createResult(n,t);return Poe(this,r)&&(qe(this,ts,r),qe(this,xh,this.options),qe(this,eu,le(this,Pt).state)),r}getCurrentResult(){return le(this,ts)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){le(this,wh).add(t)}getCurrentQuery(){return le(this,Pt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=le(this,xs).defaultQueryOptions(t),r=le(this,xs).getQueryCache().build(le(this,xs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return kt(this,Xt,qm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),le(this,ts)))}createResult(t,n){var k;const r=le(this,Pt),a=this.options,i=le(this,ts),o=le(this,eu),l=le(this,xh),u=t!==r?t.state:le(this,Jg),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const E=this.hasListeners(),A=!E&&lI(t,n),P=E&&cI(t,r,n,a);(A||P)&&(h={...h,...kz(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:x}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===le(this,Xg))m=le(this,yh);else try{qe(this,Xg,n.select),m=n.select(h.data),m=gC(i==null?void 0:i.data,m,n),qe(this,yh,m),qe(this,Ii,null)}catch(E){qe(this,Ii,E)}else m=h.data;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((k=le(this,bh))==null?void 0:k.state.data,le(this,bh)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),qe(this,Ii,null)}catch(A){qe(this,Ii,A)}E!==void 0&&(x="success",m=gC(i==null?void 0:i.data,E,n),f=!0)}le(this,Ii)&&(v=le(this,Ii),m=le(this,yh),p=Date.now(),x="error");const y=h.fetchStatus==="fetching",b=x==="pending",w=x==="error",j=b&&y,N=m!==void 0,C={status:x,fetchStatus:h.fetchStatus,isPending:b,isSuccess:x==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:iA(t,n),refetch:this.refetch,promise:le(this,Sl)};if(this.options.experimental_prefetchInRender){const E=B=>{C.status==="error"?B.reject(C.error):C.data!==void 0&&B.resolve(C.data)},A=()=>{const B=qe(this,Sl,C.promise=vC());E(B)},P=le(this,Sl);switch(P.status){case"pending":t.queryHash===r.queryHash&&E(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&A();break}}return C}updateResult(t){const n=le(this,ts),r=this.createResult(le(this,Pt),this.options);if(qe(this,eu,le(this,Pt).state),qe(this,xh,this.options),le(this,eu).data!==void 0&&qe(this,bh,le(this,Pt)),mC(r,n))return;qe(this,ts,r);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!le(this,wh).size)return!0;const c=new Set(l??le(this,wh));return this.options.throwOnError&&c.add("error"),Object.keys(le(this,ts)).some(u=>{const d=u;return le(this,ts)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),kt(this,Xt,Ez).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&kt(this,Xt,wC).call(this)}},xs=new WeakMap,Pt=new WeakMap,Jg=new WeakMap,ts=new WeakMap,eu=new WeakMap,xh=new WeakMap,Sl=new WeakMap,Ii=new WeakMap,Xg=new WeakMap,yh=new WeakMap,bh=new WeakMap,tu=new WeakMap,nu=new WeakMap,Cl=new WeakMap,wh=new WeakMap,Xt=new WeakSet,qm=function(t){kt(this,Xt,NC).call(this);let n=le(this,Pt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ya)),n},xC=function(){kt(this,Xt,jC).call(this);const t=Hd(this.options.staleTime,le(this,Pt));if(bu||le(this,ts).isStale||!fC(t))return;const r=bz(le(this,ts).dataUpdatedAt,t)+1;qe(this,tu,setTimeout(()=>{le(this,ts).isStale||this.updateResult()},r))},yC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(le(this,Pt)):this.options.refetchInterval)??!1},bC=function(t){kt(this,Xt,_C).call(this),qe(this,Cl,t),!(bu||si(this.options.enabled,le(this,Pt))===!1||!fC(le(this,Cl))||le(this,Cl)===0)&&qe(this,nu,setInterval(()=>{(this.options.refetchIntervalInBackground||aA.isFocused())&&kt(this,Xt,qm).call(this)},le(this,Cl)))},wC=function(){kt(this,Xt,xC).call(this),kt(this,Xt,bC).call(this,kt(this,Xt,yC).call(this))},jC=function(){le(this,tu)&&(clearTimeout(le(this,tu)),qe(this,tu,void 0))},_C=function(){le(this,nu)&&(clearInterval(le(this,nu)),qe(this,nu,void 0))},NC=function(){const t=le(this,xs).getQueryCache().build(le(this,xs),this.options);if(t===le(this,Pt))return;const n=le(this,Pt);qe(this,Pt,t),qe(this,Jg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ez=function(t){Nr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(le(this,ts))}),le(this,xs).getQueryCache().notify({query:le(this,Pt),type:"observerResultsUpdated"})})},z6);function Eoe(e,t){return si(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lI(e,t){return Eoe(e,t)||e.state.data!==void 0&&SC(e,t,t.refetchOnMount)}function SC(e,t,n){if(si(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&iA(e,t)}return!1}function cI(e,t,n,r){return(e!==t||si(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&iA(e,n)}function iA(e,t){return si(t.enabled,e)!==!1&&e.isStaleByTime(Hd(t.staleTime,e))}function Poe(e,t){return!mC(e.getCurrentResult(),t)}var Pz=g.createContext(void 0),Aoe=e=>{const t=g.useContext(Pz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Toe=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Pz.Provider,{value:e,children:t})),Az=g.createContext(!1),Ooe=()=>g.useContext(Az);Az.Provider;function Moe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Doe=g.createContext(Moe()),Ioe=()=>g.useContext(Doe);function Roe(e,t){return typeof e=="function"?e(...t):!!e}function $oe(){}var Loe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Foe=e=>{g.useEffect(()=>{e.clearReset()},[e])},Boe=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Roe(n,[e.error,r]),Uoe=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},zoe=(e,t)=>e.isLoading&&e.isFetching&&!t,qoe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uI=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Voe(e,t,n){var d,h,f,m,v;const r=Aoe(),a=Ooe(),i=Ioe(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",Uoe(o),Loe(o,i),Foe(i);const l=!r.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(g.useSyncExternalStore(g.useCallback(p=>{const x=a?()=>{}:c.subscribe(Nr.batchCalls(p));return c.updateResult(),x},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),qoe(o,u))throw uI(o,c,i);if(Boe({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,u),o.experimental_prefetchInRender&&!bu&&zoe(u,a)){const p=l?uI(o,c,i):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;p==null||p.catch($oe).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Woe(e,t){return Voe(e,koe)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eg.apply(this,arguments)}var Pl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pl||(Pl={}));const dI="popstate";function Hoe(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return CC("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Cb(a)}return Yoe(t,n,null,e)}function On(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tz(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Goe(){return Math.random().toString(36).substr(2,8)}function hI(e,t){return{usr:e.state,key:e.key,idx:t}}function CC(e,t,n,r){return n===void 0&&(n=null),eg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cf(t):t,{state:n,key:t&&t.key||r||Goe()})}function Cb(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Yoe(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=Pl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(eg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pl.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:y})}function f(x,y){l=Pl.Push;let b=CC(p.location,x,y);u=d()+1;let w=hI(b,u),j=p.createHref(b);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,y){l=Pl.Replace;let b=CC(p.location,x,y);u=d();let w=hI(b,u),j=p.createHref(b);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function v(x){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:Cb(x);return b=b.replace(/ $/,"%20"),On(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dI,h),c=x,()=>{a.removeEventListener(dI,h),c=null}},createHref(x){return t(a,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var fI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fI||(fI={}));function Koe(e,t,n){return n===void 0&&(n="/"),Joe(e,t,n,!1)}function Joe(e,t,n,r){let a=typeof t=="string"?Cf(t):t,i=Oh(a.pathname||"/",n);if(i==null)return null;let o=Oz(e);Xoe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=lle(i);l=ile(o[c],u,r)}return l}function Oz(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(On(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Bl([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(On(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Oz(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:sle(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Mz(i.path))a(i,o,c)}),t}function Mz(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Mz(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xoe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ale(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qoe=/^:[\w-]+$/,Zoe=3,ele=2,tle=1,nle=10,rle=-2,mI=e=>e==="*";function sle(e,t){let n=e.split("/"),r=n.length;return n.some(mI)&&(r+=rle),t&&(r+=ele),n.filter(a=>!mI(a)).reduce((a,i)=>a+(Qoe.test(i)?Zoe:i===""?tle:nle),r)}function ale(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function ile(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=kb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=kb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Bl([i,h.pathname]),pathnameBase:hle(Bl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Bl([i,h.pathnameBase]))}return o}function kb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ole(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function ole(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tz(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function lle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tz(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Oh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function cle(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Cf(e):e;return{pathname:n?n.startsWith("/")?n:ule(n,t):t,search:fle(r),hash:mle(a)}}function ule(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function h1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dle(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oA(e,t){let n=dle(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lA(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Cf(e):(a=eg({},e),On(!a.pathname||!a.pathname.includes("?"),h1("?","pathname","search",a)),On(!a.pathname||!a.pathname.includes("#"),h1("#","pathname","hash",a)),On(!a.search||!a.search.includes("#"),h1("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=cle(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Bl=e=>e.join("/").replace(/\/\/+/g,"/"),hle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ple(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dz=["post","put","patch","delete"];new Set(Dz);const gle=["get",...Dz];new Set(gle);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(this,arguments)}const $w=g.createContext(null),Iz=g.createContext(null),Uo=g.createContext(null),Lw=g.createContext(null),eo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Rz=g.createContext(null);function vle(e,t){let{relative:n}=t===void 0?{}:t;kf()||On(!1);let{basename:r,navigator:a}=g.useContext(Uo),{hash:i,pathname:o,search:l}=Fw(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Bl([r,o])),a.createHref({pathname:c,search:l,hash:i})}function kf(){return g.useContext(Lw)!=null}function bi(){return kf()||On(!1),g.useContext(Lw).location}function $z(e){g.useContext(Uo).static||g.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=g.useContext(eo);return e?Ole():xle()}function xle(){kf()||On(!1);let e=g.useContext($w),{basename:t,future:n,navigator:r}=g.useContext(Uo),{matches:a}=g.useContext(eo),{pathname:i}=bi(),o=JSON.stringify(oA(a,n.v7_relativeSplatPath)),l=g.useRef(!1);return $z(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=lA(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Bl([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const yle=g.createContext(null);function ble(e){let t=g.useContext(eo).outlet;return t&&g.createElement(yle.Provider,{value:e},t)}function lv(){let{matches:e}=g.useContext(eo),t=e[e.length-1];return t?t.params:{}}function Fw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(Uo),{matches:a}=g.useContext(eo),{pathname:i}=bi(),o=JSON.stringify(oA(a,r.v7_relativeSplatPath));return g.useMemo(()=>lA(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function wle(e,t){return jle(e,t)}function jle(e,t,n,r){kf()||On(!1);let{navigator:a}=g.useContext(Uo),{matches:i}=g.useContext(eo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bi(),d;if(t){var h;let x=typeof t=="string"?Cf(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||On(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Koe(e,{pathname:m}),p=kle(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Bl([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Bl([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?g.createElement(Lw.Provider,{value:{location:tg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pl.Pop}},p):p}function _le(){let e=Tle(),t=ple(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:a},n):null,null)}const Nle=g.createElement(_le,null);class Sle extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(eo.Provider,{value:this.props.routeContext},g.createElement(Rz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cle(e){let{routeContext:t,match:n,children:r}=e,a=g.useContext($w);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(eo.Provider,{value:t},r)}function kle(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||On(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,v=!1,p=null,x=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Nle,c&&(u<0&&f===0?(v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=p:v?w=x:h.route.Component?w=g.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,g.createElement(Cle,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(Sle,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Lz=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lz||{}),Eb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Eb||{});function Ele(e){let t=g.useContext($w);return t||On(!1),t}function Ple(e){let t=g.useContext(Iz);return t||On(!1),t}function Ale(e){let t=g.useContext(eo);return t||On(!1),t}function Fz(e){let t=Ale(),n=t.matches[t.matches.length-1];return n.route.id||On(!1),n.route.id}function Tle(){var e;let t=g.useContext(Rz),n=Ple(Eb.UseRouteError),r=Fz(Eb.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ole(){let{router:e}=Ele(Lz.UseNavigateStable),t=Fz(Eb.UseNavigateStable),n=g.useRef(!1);return $z(()=>{n.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,tg({fromRouteId:t},i)))},[e,t])}function Os(e){let{to:t,replace:n,state:r,relative:a}=e;kf()||On(!1);let{future:i,static:o}=g.useContext(Uo),{matches:l}=g.useContext(eo),{pathname:c}=bi(),u=Ar(),d=lA(t,oA(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function Mle(e){return ble(e.context)}function tt(e){On(!1)}function Dle(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Pl.Pop,navigator:i,static:o=!1,future:l}=e;kf()&&On(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:tg({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Cf(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,p=g.useMemo(()=>{let x=Oh(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:v},navigationType:a}},[c,d,h,f,m,v,a]);return p==null?null:g.createElement(Uo.Provider,{value:u},g.createElement(Lw.Provider,{children:n,value:p}))}function Ile(e){let{children:t,location:n}=e;return wle(kC(t),n)}new Promise(()=>{});function kC(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,a)=>{if(!g.isValidElement(r))return;let i=[...t,a];if(r.type===g.Fragment){n.push.apply(n,kC(r.props.children,i));return}r.type!==tt&&On(!1),!r.props.index||!r.props.children||On(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kC(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(this,arguments)}function Bz(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Rle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $le(e,t){return e.button===0&&(!t||t==="_self")&&!Rle(e)}function EC(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Lle(e,t){let n=EC(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const Fle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ble=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ule="6";try{window.__reactRouterVersion=Ule}catch{}const zle=g.createContext({isTransitioning:!1}),qle="startTransition",pI=F2[qle];function Vle(e){let{basename:t,children:n,future:r,window:a}=e,i=g.useRef();i.current==null&&(i.current=Hoe({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&pI?pI(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(Dle,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Wle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=g.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=Bz(t,Fle),{basename:m}=g.useContext(Uo),v,p=!1;if(typeof u=="string"&&Hle.test(u)&&(v=u,Wle))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=Oh(j.pathname,m);j.origin===w.origin&&N!=null?u=N+j.search+j.hash:p=!0}catch{}let x=vle(u,{relative:a}),y=Yle(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function b(w){r&&r(w),w.defaultPrevented||y(w)}return g.createElement("a",Pb({},f,{href:v||x,onClick:p||i?r:b,ref:n,target:c}))}),PC=g.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Bz(t,Ble),f=Fw(c,{relative:h.relative}),m=bi(),v=g.useContext(Iz),{navigator:p,basename:x}=g.useContext(Uo),y=v!=null&&Jle(f)&&u===!0,b=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=m.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&x&&(j=Oh(j,x)||j);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=w===b||!o&&w.startsWith(b)&&w.charAt(N)==="/",C=j!=null&&(j===b||!o&&j.startsWith(b)&&j.charAt(b.length)==="/"),k={isActive:S,isPending:C,isTransitioning:y},E=S?r:void 0,A;typeof i=="function"?A=i(k):A=[i,S?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(k):l;return g.createElement(Je,Pb({},h,{"aria-current":E,className:A,ref:n,style:P,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var AC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(AC||(AC={}));var gI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gI||(gI={}));function Gle(e){let t=g.useContext($w);return t||On(!1),t}function Yle(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ar(),u=bi(),d=Fw(e,{relative:o});return g.useCallback(h=>{if($le(h,n)){h.preventDefault();let f=r!==void 0?r:Cb(u)===Cb(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function Kle(e){let t=g.useRef(EC(e)),n=g.useRef(!1),r=bi(),a=g.useMemo(()=>Lle(r.search,n.current?null:t.current),[r.search]),i=Ar(),o=g.useCallback((l,c)=>{const u=EC(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function Jle(e,t){t===void 0&&(t={});let n=g.useContext(zle);n==null&&On(!1);let{basename:r}=Gle(AC.useViewTransitionState),a=Fw(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Oh(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Oh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kb(a.pathname,o)!=null||kb(a.pathname,i)!=null}const Xle="modulepreload",Qle=function(e){return"/"+e},vI={},cv=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=Qle(c),c in vI)return;vI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Xle,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Zle=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cv(async()=>{const{default:r}=await Promise.resolve().then(()=>Ef);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class cA extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ece extends cA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xI extends cA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yI extends cA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var TC;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(TC||(TC={}));var tce=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class nce{constructor(t,{headers:n={},customFetch:r,region:a=TC.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=Zle(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return tce(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new ece(p)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new xI(h);if(!h.ok)throw new yI(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield h.json():m==="application/octet-stream"?v=yield h.blob():m==="text/event-stream"?v=h:m==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof yI||a instanceof xI?a.context:void 0}}})}}var ws={},uA={},Bw={},uv={},Uw={},zw={},rce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mh=rce();const sce=Mh.fetch,Uz=Mh.fetch.bind(Mh),zz=Mh.Headers,ace=Mh.Request,ice=Mh.Response,Ef=Object.freeze(Object.defineProperty({__proto__:null,Headers:zz,Request:ace,Response:ice,default:Uz,fetch:sce},Symbol.toStringTag,{value:"Module"})),oce=q6(Ef);var qw={};Object.defineProperty(qw,"__esModule",{value:!0});let lce=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qw.default=lce;var qz=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zw,"__esModule",{value:!0});const cce=qz(oce),uce=qz(qw);let dce=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=cce.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&p===""?(f=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new uce.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};zw.default=dce;var hce=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uw,"__esModule",{value:!0});const fce=hce(zw);let mce=class extends fce.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Uw.default=mce;var pce=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uv,"__esModule",{value:!0});const gce=pce(Uw);let vce=class extends gce.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};uv.default=vce;var xce=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bw,"__esModule",{value:!0});const xm=xce(uv);let yce=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new xm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xm.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new xm.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new xm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bw.default=yce;var Vw={},Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.version=void 0;Ww.version="0.0.0-automated";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.DEFAULT_HEADERS=void 0;const bce=Ww;Vw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bce.version}`};var Vz=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uA,"__esModule",{value:!0});const wce=Vz(Bw),jce=Vz(uv),_ce=Vw;let Nce=class Wz{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},_ce.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new wce.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Wz(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||a?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new jce.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};uA.default=Nce;var Pf=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});ws.PostgrestError=ws.PostgrestBuilder=ws.PostgrestTransformBuilder=ws.PostgrestFilterBuilder=ws.PostgrestQueryBuilder=ws.PostgrestClient=void 0;const Hz=Pf(uA);ws.PostgrestClient=Hz.default;const Gz=Pf(Bw);ws.PostgrestQueryBuilder=Gz.default;const Yz=Pf(uv);ws.PostgrestFilterBuilder=Yz.default;const Kz=Pf(Uw);ws.PostgrestTransformBuilder=Kz.default;const Jz=Pf(zw);ws.PostgrestBuilder=Jz.default;const Xz=Pf(qw);ws.PostgrestError=Xz.default;var Sce=ws.default={PostgrestClient:Hz.default,PostgrestQueryBuilder:Gz.default,PostgrestFilterBuilder:Yz.default,PostgrestTransformBuilder:Kz.default,PostgrestBuilder:Jz.default,PostgrestError:Xz.default};const{PostgrestClient:Cce,PostgrestQueryBuilder:TQe,PostgrestFilterBuilder:OQe,PostgrestTransformBuilder:MQe,PostgrestBuilder:DQe,PostgrestError:IQe}=Sce;function kce(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ece=kce(),Pce="2.11.15",Ace=`realtime-js/${Pce}`,Tce="1.0.0",Qz=1e4,Oce=1e3;var cp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cp||(cp={}));var Mr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mr||(Mr={}));var Za;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Za||(Za={}));var OC;(function(e){e.websocket="websocket"})(OC||(OC={}));var Dc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Dc||(Dc={}));class Mce{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Zz{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(hn||(hn={}));const bI=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Dce(o,e,t,a),i),{})},Dce=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?eq(i,o):MC(o)},eq=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Lce(t,n)}switch(e){case hn.bool:return Ice(t);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return Rce(t);case hn.json:case hn.jsonb:return $ce(t);case hn.timestamp:return Fce(t);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return MC(t);default:return MC(t)}},MC=e=>e,Ice=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$ce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Lce=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>eq(t,l))}return e},Fce=e=>typeof e=="string"?e.replace(" ","T"):e,tq=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class f1{constructor(t,n,r={},a=Qz){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wI||(wI={}));class up{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=up.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=up.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=up.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),v=d.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jI||(jI={}));var _I;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_I||(_I={}));var ho;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ho||(ho={}));class dA{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new f1(this,Za.join,this.params,this.timeout),this.rejoinTimer=new Zz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Za.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new up(this),this.broadcastEndpointURL=tq(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ho.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ho.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ho.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let p=0;p<m;p++){const x=f[p],{filter:{event:y,schema:b,table:w,filter:j}}=x,N=d&&d[p];if(N&&N.event===y&&N.schema===b&&N.table===w&&N.filter===j)v.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=Mr.errored,t==null||t(ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ho.SUBSCRIBED);return}}).receive("error",d=>{this.state=Mr.errored,t==null||t(ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Za.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new f1(this,Za.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new f1(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Za;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,p,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,p,x,y,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(v=m.filter)===null||v===void 0?void 0:v.event;return j&&((p=n.ids)===null||p===void 0?void 0:p.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(b=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:p,table:x,commit_timestamp:y,type:b,errors:w}=v;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Mr.closed}_isJoined(){return this.state===Mr.joined}_isJoining(){return this.state===Mr.joining}_isLeaving(){return this.state===Mr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&dA.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Za.close,{},t)}_onError(t){this._on(Za.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=bI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=bI(t.columns,t.old_record)),n}}const NI=()=>{},Bce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uce{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qz,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=NI,this.ref=0,this.logger=NI,this.conn=null,this.sendBuffer=[],this.serializer=new Mce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>cv(async()=>{const{default:c}=await Promise.resolve().then(()=>Ef);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${OC.websocket}`,this.httpEndpoint=tq(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ece),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Tce}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cp.connecting:return Dc.Connecting;case cp.open:return Dc.Open;case cp.closing:return Dc.Closing;default:return Dc.Closed}}isConnected(){return this.connectionState()===Dc.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new dA(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Ace};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Za.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Oce,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Za.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Bce],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class hA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zce extends hA{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class DC extends hA{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var qce=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const nq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cv(async()=>{const{default:r}=await Promise.resolve().then(()=>Ef);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Vce=()=>qce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cv(()=>Promise.resolve().then(()=>Ef),void 0)).Response:Response}),IC=e=>{if(Array.isArray(e))return e.map(n=>IC(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=IC(r)}),t};var zu=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const m1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wce=(e,t,n)=>zu(void 0,void 0,void 0,function*(){const r=yield Vce();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new zce(m1(a),e.status||500))}).catch(a=>{t(new DC(m1(a),a))}):t(new DC(m1(e),e))}),Hce=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function dv(e,t,n,r,a,i){return zu(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Hce(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Wce(c,l,r))})})}function Ab(e,t,n,r){return zu(this,void 0,void 0,function*(){return dv(e,"GET",t,n,r)})}function dl(e,t,n,r,a){return zu(this,void 0,void 0,function*(){return dv(e,"POST",t,r,a,n)})}function Gce(e,t,n,r,a){return zu(this,void 0,void 0,function*(){return dv(e,"PUT",t,r,a,n)})}function Yce(e,t,n,r){return zu(this,void 0,void 0,function*(){return dv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rq(e,t,n,r,a){return zu(this,void 0,void 0,function*(){return dv(e,"DELETE",t,r,a,n)})}var gs=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Kce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},SI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jce{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=nq(a)}uploadOrUpdate(t,n,r,a){return gs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},SI),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(cr(i))return{data:null,error:i};throw i}})}upload(t,n,r){return gs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return gs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:SI.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return gs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield dl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new hA("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}update(t,n,r){return gs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return gs(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}copy(t,n,r){return gs(this,void 0,void 0,function*(){try{return{data:{path:(yield dl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return gs(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield dl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return gs(this,void 0,void 0,function*(){try{const a=yield dl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}download(t,n){return gs(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ab(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(cr(l))return{data:null,error:l};throw l}})}info(t){return gs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ab(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:IC(r),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}exists(t){return gs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Yce(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(cr(r)&&r instanceof DC){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return gs(this,void 0,void 0,function*(){try{return{data:yield rq(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}list(t,n,r){return gs(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kce),n),{prefix:t||""});return{data:yield dl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Xce="2.7.1",Qce={"X-Client-Info":`storage-js/${Xce}`};var td=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Zce{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Qce),n),this.fetch=nq(r)}listBuckets(){return td(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}getBucket(t){return td(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return td(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return td(this,void 0,void 0,function*(){try{return{data:yield Gce(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return td(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return td(this,void 0,void 0,function*(){try{return{data:yield rq(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}}class eue extends Zce{constructor(t,n={},r){super(t,n,r)}from(t){return new Jce(this.url,this.headers,t,this.fetch)}}const tue="2.51.0";let Vm="";typeof Deno<"u"?Vm="deno":typeof document<"u"?Vm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vm="react-native":Vm="node";const nue={"X-Client-Info":`supabase-js-${Vm}/${tue}`},rue={headers:nue},sue={schema:"public"},aue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iue={};var oue=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const lue=e=>{let t;return e?t=e:typeof fetch>"u"?t=Uz:t=fetch,(...n)=>t(...n)},cue=()=>typeof Headers>"u"?zz:Headers,uue=(e,t,n)=>{const r=lue(n),a=cue();return(i,o)=>oue(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var due=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function hue(e){return e.endsWith("/")?e:e+"/"}function fue(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>due(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const sq="2.71.0",yd=30*1e3,RC=3,p1=RC*yd,mue="http://localhost:9999",pue="supabase.auth.token",gue={"X-Client-Info":`gotrue-js/${sq}`},$C="X-Supabase-Api-Version",aq={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xue=10*60*1e3;class fA extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yue extends fA{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bue(e){return ft(e)&&e.name==="AuthApiError"}class iq extends fA{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class lc extends fA{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class sl extends lc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wue(e){return ft(e)&&e.name==="AuthSessionMissingError"}class Ex extends lc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Px extends lc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ax extends lc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jue(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class CI extends lc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class LC extends lc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function g1(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class kI extends lc{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class FC extends lc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),EI=` 	
\r=`.split(""),_ue=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<EI.length;t+=1)e[EI[t].charCodeAt(0)]=-2;for(let t=0;t<Tb.length;t+=1)e[Tb[t].charCodeAt(0)]=t;return e})();function PI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tb[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tb[r]),t.queuedBits-=6}}function oq(e,t,n){const r=_ue[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function AI(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Cue(o,r,n)};for(let o=0;o<e.length;o+=1)oq(e.charCodeAt(o),a,i);return t.join("")}function Nue(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sue(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Nue(r,t)}}function Cue(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function kue(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)oq(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Eue(e){const t=[];return Sue(e,n=>t.push(n)),new Uint8Array(t)}function Pue(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>PI(a,n,r)),PI(null,n,r),t.join("")}function Aue(e){return Math.round(Date.now()/1e3)+e}function Tue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ga=()=>typeof window<"u"&&typeof document<"u",bc={tested:!1,writable:!1},lq=()=>{if(!Ga())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bc.tested)return bc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bc.tested=!0,bc.writable=!0}catch{bc.tested=!0,bc.writable=!1}return bc.writable};function Oue(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const cq=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cv(async()=>{const{default:r}=await Promise.resolve().then(()=>Ef);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Mue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},wc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zo=async(e,t)=>{await e.removeItem(t)};class Hw{constructor(){this.promise=new Hw.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hw.promiseConstructor=Promise;function v1(e){const t=e.split(".");if(t.length!==3)throw new FC("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vue.test(t[r]))throw new FC("JWT not in base64url format");return{header:JSON.parse(AI(t[0])),payload:JSON.parse(AI(t[1])),signature:kue(t[2]),raw:{header:t[0],payload:t[1]}}}async function Due(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Iue(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Rue(e){return("0"+e.toString(16)).substr(-2)}function $ue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Rue).join("")}async function Lue(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Fue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Lue(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nd(e,t,n=!1){const r=$ue();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await bd(e,`${t}-code-verifier`,a);const i=await Fue(r);return[i,r===i?"plain":"s256"]}const Bue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uue(e){const t=e.headers.get($C);if(!t||!t.match(Bue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function que(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rd(e){if(!Vue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function x1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Wue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Pc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hue=[502,503,504];async function TI(e){var t;if(!Mue(e))throw new LC(Pc(e),0);if(Hue.includes(e.status))throw new LC(Pc(e),e.status);let n;try{n=await e.json()}catch(i){throw new iq(Pc(i),i)}let r;const a=Uue(e);if(a&&a.getTime()>=aq["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kI(Pc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new sl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new kI(Pc(n),e.status,n.weak_password.reasons);throw new yue(Pc(n),e.status||500,r)}const Gue=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function wt(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[$C]||(i[$C]=aq["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Yue(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Yue(e,t,n,r,a,i){const o=Gue(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new LC(Pc(c),0)}if(l.ok||await TI(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await TI(c)}}function lo(e){var t;let n=null;Que(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Aue(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function OI(e){const t=lo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kue(e){return{data:e,error:null}}function Jue(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=Wue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Xue(e){return e}function Que(e){return e.access_token&&e.refresh_token&&e.expires_in}const y1=["global","local","others"];var Zue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class ede{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=cq(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=y1[0]){if(y1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y1.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vl})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Zue(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Jue,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ft(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vl})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Xue});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ft(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){rd(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vl})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){rd(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vl})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){rd(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vl})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){rd(t.userId);try{const{data:n,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteFactor(t){rd(t.userId),rd(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}}function MI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function tde(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sd={debug:!!(globalThis&&lq()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uq extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nde extends uq{}async function rde(e,t,n){sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),sd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw sd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nde(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}tde();const sde={url:mue,storageKey:pue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function DI(e,t,n){return await n()}const ad={};class ng{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ng.nextInstanceID,ng.nextInstanceID+=1,this.instanceID>0&&Ga()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},sde),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new ede({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cq(a.fetch),this.lock=a.lock||DI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ga()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rde:this.lock=DI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lq()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=MI(this.memoryStorage)),Ga()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ad[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ad[this.storageKey]=Object.assign(Object.assign({},ad[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ad[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ad[this.storageKey]=Object.assign(Object.assign({},ad[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sq}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Oue(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ga()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jue(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ft(n)?{error:n}:{error:new iq("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:lo}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await nd(this.storage,this.storageKey)),i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:lo})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:lo})}else throw new Px("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:OI})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:OI})}else throw new Px("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ex}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:b,options:w}=t;let j;if(Ga())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:y}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Pue(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:lo});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Ex}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(ft(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await wc(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:lo});if(await Zo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ex}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ft(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lo}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ex}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await nd(this.storage,this.storageKey));const{error:h}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Px("You must provide either an email or phone number.")}catch(l){if(ft(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:lo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ft(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nd(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kue})}catch(i){if(ft(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new sl;const{error:a}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Px("You must provide either an email or phone number and a type")}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await wc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<p1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await wc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=x1()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vl}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sl}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:vl})})}catch(n){if(ft(n))return wue(n)&&(await this._removeSession(),await Zo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new sl;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await nd(this.storage,this.storageKey));const{data:u,error:d}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:vl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sl;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=v1(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ft(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new sl;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ga())throw new Ax("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ax(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new CI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ax("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new CI("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Ax("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=yd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ft(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await wc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Tue(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await nd(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ft(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ga()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ft(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Iue(async a=>(a>0&&await Due(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lo})),(a,i)=>{const o=200*Math.pow(2,a);return i&&g1(i)&&Date.now()+o-r<yd})}catch(r){if(this._debug(n,"error",r),ft(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ga()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await wc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await wc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await bd(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:x1()}else if(a&&!a.user&&!a.user){const o=await wc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Zo(this.storage,this.storageKey+"-user"),await bd(this.storage,this.storageKey,a)):a.user=x1()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<p1;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${p1}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),g1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new sl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Hw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new sl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ft(i)){const o={session:null,error:i};return g1(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await bd(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await bd(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await bd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Zo(this.storage,this.storageKey),await Zo(this.storage,this.storageKey+"-code-verifier"),await Zo(this.storage,this.storageKey+"-user"),this.userStorage&&await Zo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ga()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/yd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${yd}ms, refresh threshold is ${RC} ticks`),a<=RC&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uq)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ga()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await nd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ft(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ft(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=v1(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+xue>a)return r;const{data:i,error:o}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=v1(r);n!=null&&n.allowExpired||zue(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=que(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Eue(`${l}.${c}`)))throw new FC("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}}ng.nextInstanceID=0;const ade=ng;class ide extends ade{constructor(t){super(t)}}var ode=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class lde{constructor(t,n,r){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=hue(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:sue,realtime:iue,auth:Object.assign(Object.assign({},aue),{storageKey:u}),global:rue},h=fue(r??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=uue(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Cce(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new nce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eue(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ode(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ide({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Uce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cde=(e,t,n)=>new lde(e,t,n),ude="https://nzqzmvsrsfynatxojuil.supabase.co",dde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",Y=cde(ude,dde,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function dq(e,t){return function(){return e.apply(t,arguments)}}const{toString:hde}=Object.prototype,{getPrototypeOf:mA}=Object,{iterator:Gw,toStringTag:hq}=Symbol,Yw=(e=>t=>{const n=hde.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wi=e=>(e=e.toLowerCase(),t=>Yw(t)===e),Kw=e=>t=>typeof t===e,{isArray:Af}=Array,Dh=Kw("undefined");function hv(e){return e!==null&&!Dh(e)&&e.constructor!==null&&!Dh(e.constructor)&&Ms(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fq=wi("ArrayBuffer");function fde(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fq(e.buffer),t}const mde=Kw("string"),Ms=Kw("function"),mq=Kw("number"),fv=e=>e!==null&&typeof e=="object",pde=e=>e===!0||e===!1,Iy=e=>{if(Yw(e)!=="object")return!1;const t=mA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hq in e)&&!(Gw in e)},gde=e=>{if(!fv(e)||hv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},vde=wi("Date"),xde=wi("File"),yde=wi("Blob"),bde=wi("FileList"),wde=e=>fv(e)&&Ms(e.pipe),jde=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ms(e.append)&&((t=Yw(e))==="formdata"||t==="object"&&Ms(e.toString)&&e.toString()==="[object FormData]"))},_de=wi("URLSearchParams"),[Nde,Sde,Cde,kde]=["ReadableStream","Request","Response","Headers"].map(wi),Ede=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Af(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(hv(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function pq(e,t){if(hv(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Uc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gq=e=>!Dh(e)&&e!==Uc;function BC(){const{caseless:e,skipUndefined:t}=gq(this)&&this||{},n={},r=(a,i)=>{const o=e&&pq(n,i)||i;Iy(n[o])&&Iy(a)?n[o]=BC(n[o],a):Iy(a)?n[o]=BC({},a):Af(a)?n[o]=a.slice():(!t||!Dh(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&mv(arguments[a],r);return n}const Pde=(e,t,n,{allOwnKeys:r}={})=>(mv(t,(a,i)=>{n&&Ms(a)?e[i]=dq(a,n):e[i]=a},{allOwnKeys:r}),e),Ade=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tde=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ode=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&mA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Mde=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Dde=e=>{if(!e)return null;if(Af(e))return e;let t=e.length;if(!mq(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ide=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mA(Uint8Array)),Rde=(e,t)=>{const r=(e&&e[Gw]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},$de=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Lde=wi("HTMLFormElement"),Fde=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),II=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Bde=wi("RegExp"),vq=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};mv(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},Ude=e=>{vq(e,(t,n)=>{if(Ms(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ms(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zde=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Af(e)?r(e):r(String(e).split(t)),n},qde=()=>{},Vde=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Wde(e){return!!(e&&Ms(e.append)&&e[hq]==="FormData"&&e[Gw])}const Hde=e=>{const t=new Array(10),n=(r,a)=>{if(fv(r)){if(t.indexOf(r)>=0)return;if(hv(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Af(r)?[]:{};return mv(r,(o,l)=>{const c=n(o,a+1);!Dh(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},Gde=wi("AsyncFunction"),Yde=e=>e&&(fv(e)||Ms(e))&&Ms(e.then)&&Ms(e.catch),xq=((e,t)=>e?setImmediate:t?((n,r)=>(Uc.addEventListener("message",({source:a,data:i})=>{a===Uc&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Uc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ms(Uc.postMessage)),Kde=typeof queueMicrotask<"u"?queueMicrotask.bind(Uc):typeof process<"u"&&process.nextTick||xq,Jde=e=>e!=null&&Ms(e[Gw]),ve={isArray:Af,isArrayBuffer:fq,isBuffer:hv,isFormData:jde,isArrayBufferView:fde,isString:mde,isNumber:mq,isBoolean:pde,isObject:fv,isPlainObject:Iy,isEmptyObject:gde,isReadableStream:Nde,isRequest:Sde,isResponse:Cde,isHeaders:kde,isUndefined:Dh,isDate:vde,isFile:xde,isBlob:yde,isRegExp:Bde,isFunction:Ms,isStream:wde,isURLSearchParams:_de,isTypedArray:Ide,isFileList:bde,forEach:mv,merge:BC,extend:Pde,trim:Ede,stripBOM:Ade,inherits:Tde,toFlatObject:Ode,kindOf:Yw,kindOfTest:wi,endsWith:Mde,toArray:Dde,forEachEntry:Rde,matchAll:$de,isHTMLForm:Lde,hasOwnProperty:II,hasOwnProp:II,reduceDescriptors:vq,freezeMethods:Ude,toObjectSet:zde,toCamelCase:Fde,noop:qde,toFiniteNumber:Vde,findKey:pq,global:Uc,isContextDefined:gq,isSpecCompliantForm:Wde,toJSONObject:Hde,isAsyncFn:Gde,isThenable:Yde,setImmediate:xq,asap:Kde,isIterable:Jde};function mt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const yq=mt.prototype,bq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bq[e]={value:e}});Object.defineProperties(mt,bq);Object.defineProperty(yq,"isAxiosError",{value:!0});mt.from=(e,t,n,r,a,i)=>{const o=Object.create(yq);ve.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return mt.call(o,l,c,n,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Xde=null;function UC(e){return ve.isPlainObject(e)||ve.isArray(e)}function wq(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function RI(e,t,n){return e?e.concat(t).map(function(a,i){return a=wq(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function Qde(e){return ve.isArray(e)&&!e.some(UC)}const Zde=ve.toFlatObject(ve,{},null,function(t){return/^is[A-Z]/.test(t)});function Jw(e,t,n){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!ve.isUndefined(x[p])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ve.isDate(v))return v.toISOString();if(ve.isBoolean(v))return v.toString();if(!c&&ve.isBlob(v))throw new mt("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(v)||ve.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,x){let y=v;if(v&&!x&&typeof v=="object"){if(ve.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(ve.isArray(v)&&Qde(v)||(ve.isFileList(v)||ve.endsWith(p,"[]"))&&(y=ve.toArray(v)))return p=wq(p),y.forEach(function(w,j){!(ve.isUndefined(w)||w===null)&&t.append(o===!0?RI([p],j,i):o===null?p:p+"[]",u(w))}),!1}return UC(v)?!0:(t.append(RI(x,p,i),u(v)),!1)}const h=[],f=Object.assign(Zde,{defaultVisitor:d,convertValue:u,isVisitable:UC});function m(v,p){if(!ve.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(v),ve.forEach(v,function(y,b){(!(ve.isUndefined(y)||y===null)&&a.call(t,y,ve.isString(b)?b.trim():b,p,f))===!0&&m(y,p?p.concat(b):[b])}),h.pop()}}if(!ve.isObject(e))throw new TypeError("data must be an object");return m(e),t}function $I(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function pA(e,t){this._pairs=[],e&&Jw(e,this,t)}const jq=pA.prototype;jq.append=function(t,n){this._pairs.push([t,n])};jq.toString=function(t){const n=t?function(r){return t.call(this,r,$I)}:$I;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ehe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _q(e,t,n){if(!t)return e;const r=n&&n.encode||ehe;ve.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=ve.isURLSearchParams(t)?t.toString():new pA(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class LI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ve.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Nq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},the=typeof URLSearchParams<"u"?URLSearchParams:pA,nhe=typeof FormData<"u"?FormData:null,rhe=typeof Blob<"u"?Blob:null,she={isBrowser:!0,classes:{URLSearchParams:the,FormData:nhe,Blob:rhe},protocols:["http","https","file","blob","url","data"]},gA=typeof window<"u"&&typeof document<"u",zC=typeof navigator=="object"&&navigator||void 0,ahe=gA&&(!zC||["ReactNative","NativeScript","NS"].indexOf(zC.product)<0),ihe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ohe=gA&&window.location.href||"http://localhost",lhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gA,hasStandardBrowserEnv:ahe,hasStandardBrowserWebWorkerEnv:ihe,navigator:zC,origin:ohe},Symbol.toStringTag,{value:"Module"})),qr={...lhe,...she};function che(e,t){return Jw(e,new qr.classes.URLSearchParams,{visitor:function(n,r,a,i){return qr.isNode&&ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function uhe(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dhe(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Sq(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&ve.isArray(a)?a.length:o,c?(ve.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!ve.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&ve.isArray(a[o])&&(a[o]=dhe(a[o])),!l)}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const n={};return ve.forEachEntry(e,(r,a)=>{t(uhe(r),a,n,0)}),n}return null}function hhe(e,t,n){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const pv={transitional:Nq,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=ve.isObject(t);if(i&&ve.isHTMLForm(t)&&(t=new FormData(t)),ve.isFormData(t))return a?JSON.stringify(Sq(t)):t;if(ve.isArrayBuffer(t)||ve.isBuffer(t)||ve.isStream(t)||ve.isFile(t)||ve.isBlob(t)||ve.isReadableStream(t))return t;if(ve.isArrayBufferView(t))return t.buffer;if(ve.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return che(t,this.formSerializer).toString();if((l=ve.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),hhe(t)):t}],transformResponse:[function(t){const n=this.transitional||pv.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(t)||ve.isReadableStream(t))return t;if(t&&ve.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?mt.from(l,mt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qr.classes.FormData,Blob:qr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],e=>{pv.headers[e]={}});const fhe=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mhe=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&fhe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},FI=Symbol("internals");function ym(e){return e&&String(e).trim().toLowerCase()}function Ry(e){return e===!1||e==null?e:ve.isArray(e)?e.map(Ry):String(e)}function phe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ghe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function b1(e,t,n,r,a){if(ve.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!ve.isString(t)){if(ve.isString(r))return t.indexOf(r)!==-1;if(ve.isRegExp(r))return r.test(t)}}function vhe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function xhe(e,t){const n=ve.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class Ds{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const d=ym(c);if(!d)throw new Error("header name must be a non-empty string");const h=ve.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=Ry(l))}const o=(l,c)=>ve.forEach(l,(u,d)=>i(u,d,c));if(ve.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(ve.isString(t)&&(t=t.trim())&&!ghe(t))o(mhe(t),n);else if(ve.isObject(t)&&ve.isIterable(t)){let l={},c,u;for(const d of t){if(!ve.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ve.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ym(t),t){const r=ve.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return phe(a);if(ve.isFunction(n))return n.call(this,a,r);if(ve.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ym(t),t){const r=ve.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||b1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=ym(o),o){const l=ve.findKey(r,o);l&&(!n||b1(r,r[l],l,n))&&(delete r[l],a=!0)}}return ve.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||b1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return ve.forEach(this,(a,i)=>{const o=ve.findKey(r,i);if(o){n[o]=Ry(a),delete n[i];return}const l=t?vhe(i):String(i).trim();l!==i&&delete n[i],n[l]=Ry(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ve.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[FI]=this[FI]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=ym(o);r[l]||(xhe(a,o),r[l]=!0)}return ve.isArray(t)?t.forEach(i):i(t),this}}Ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(Ds.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ve.freezeMethods(Ds);function w1(e,t){const n=this||pv,r=t||n,a=Ds.from(r.headers);let i=r.data;return ve.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Cq(e){return!!(e&&e.__CANCEL__)}function Tf(e,t,n){mt.call(this,e??"canceled",mt.ERR_CANCELED,t,n),this.name="CanceledError"}ve.inherits(Tf,mt,{__CANCEL__:!0});function kq(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new mt("Request failed with status code "+n.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yhe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bhe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[a]=c,r[a]=u;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function whe(e,t){let n=0,r=1e3/t,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const Ob=(e,t,n=3)=>{let r=0;const a=bhe(50,250);return whe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},BI=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},UI=e=>(...t)=>ve.asap(()=>e(...t)),jhe=qr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qr.origin),qr.navigator&&/(msie|trident)/i.test(qr.navigator.userAgent)):()=>!0,_he=qr.hasStandardBrowserEnv?{write(e,t,n,r,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ve.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),ve.isString(r)&&l.push(`path=${r}`),ve.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),ve.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Nhe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function She(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Eq(e,t,n){let r=!Nhe(t);return e&&(r||n==!1)?She(e,t):t}const zI=e=>e instanceof Ds?{...e}:e;function wu(e,t){t=t||{};const n={};function r(u,d,h,f){return ve.isPlainObject(u)&&ve.isPlainObject(d)?ve.merge.call({caseless:f},u,d):ve.isPlainObject(d)?ve.merge({},d):ve.isArray(d)?d.slice():d}function a(u,d,h,f){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!ve.isUndefined(d))return r(void 0,d)}function o(u,d){if(ve.isUndefined(d)){if(!ve.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(zI(u),zI(d),h,!0)};return ve.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||a,f=h(e[d],t[d],d);ve.isUndefined(f)&&h!==l||(n[d]=f)}),n}const Pq=e=>{const t=wu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ds.from(o),t.url=_q(Eq(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ve.isFormData(n)){if(qr.hasStandardBrowserEnv||qr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ve.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(qr.hasStandardBrowserEnv&&(r&&ve.isFunction(r)&&(r=r(t)),r||r!==!1&&jhe(t.url))){const c=a&&i&&_he.read(i);c&&o.set(a,c)}return t},Che=typeof XMLHttpRequest<"u",khe=Che&&function(e){return new Promise(function(n,r){const a=Pq(e);let i=a.data;const o=Ds.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,f,m,v;function p(){m&&m(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function y(){if(!x)return;const w=Ds.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};kq(function(C){n(C),p()},function(C){r(C),p()},N),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(r(new mt("Request aborted",mt.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const N=j&&j.message?j.message:"Network Error",S=new mt(N,mt.ERR_NETWORK,e,x);S.event=j||null,r(S),x=null},x.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||Nq;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new mt(j,N.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&ve.forEach(o.toJSON(),function(j,N){x.setRequestHeader(N,j)}),ve.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([f,v]=Ob(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,m]=Ob(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{x&&(r(!w||w.type?new Tf(null,e,x):w),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=yhe(a.url);if(b&&qr.protocols.indexOf(b)===-1){r(new mt("Unsupported protocol "+b+":",mt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},Ehe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof mt?d:new Tf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new mt(`timeout ${t} of ms exceeded`,mt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>ve.asap(l),c}},Phe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},Ahe=async function*(e,t){for await(const n of The(e))yield*Phe(n,t)},The=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},qI=(e,t,n,r)=>{const a=Ahe(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},VI=64*1024,{isFunction:Tx}=ve,Ohe=(({Request:e,Response:t})=>({Request:e,Response:t}))(ve.global),{ReadableStream:WI,TextEncoder:HI}=ve.global,GI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Mhe=e=>{e=ve.merge.call({skipUndefined:!0},Ohe,e);const{fetch:t,Request:n,Response:r}=e,a=t?Tx(t):typeof fetch=="function",i=Tx(n),o=Tx(r);if(!a)return!1;const l=a&&Tx(WI),c=a&&(typeof HI=="function"?(v=>p=>v.encode(p))(new HI):async v=>new Uint8Array(await new n(v).arrayBuffer())),u=i&&l&&GI(()=>{let v=!1;const p=new n(qr.origin,{body:new WI,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!p}),d=o&&l&&GI(()=>ve.isReadableStream(new r("").body)),h={stream:d&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(p,x)=>{let y=p&&p[v];if(y)return y.call(p);throw new mt(`Response type '${v}' is not supported`,mt.ERR_NOT_SUPPORT,x)})});const f=async v=>{if(v==null)return 0;if(ve.isBlob(v))return v.size;if(ve.isSpecCompliantForm(v))return(await new n(qr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(v)||ve.isArrayBuffer(v))return v.byteLength;if(ve.isURLSearchParams(v)&&(v=v+""),ve.isString(v))return(await c(v)).byteLength},m=async(v,p)=>{const x=ve.toFiniteNumber(v.getContentLength());return x??f(p)};return async v=>{let{url:p,method:x,data:y,signal:b,cancelToken:w,timeout:j,onDownloadProgress:N,onUploadProgress:S,responseType:C,headers:k,withCredentials:E="same-origin",fetchOptions:A}=Pq(v),P=t||fetch;C=C?(C+"").toLowerCase():"text";let B=Ehe([b,w&&w.toAbortSignal()],j),U=null;const I=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let L;try{if(S&&u&&x!=="get"&&x!=="head"&&(L=await m(k,y))!==0){let H=new n(p,{method:"POST",body:y,duplex:"half"}),z;if(ve.isFormData(y)&&(z=H.headers.get("content-type"))&&k.setContentType(z),H.body){const[_,O]=BI(L,Ob(UI(S)));y=qI(H.body,VI,_,O)}}ve.isString(E)||(E=E?"include":"omit");const M=i&&"credentials"in n.prototype,$={...A,signal:B,method:x.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:M?E:void 0};U=i&&new n(p,$);let R=await(i?P(U,A):P(p,$));const F=d&&(C==="stream"||C==="response");if(d&&(N||F&&I)){const H={};["status","statusText","headers"].forEach(T=>{H[T]=R[T]});const z=ve.toFiniteNumber(R.headers.get("content-length")),[_,O]=N&&BI(z,Ob(UI(N),!0))||[];R=new r(qI(R.body,VI,_,()=>{O&&O(),I&&I()}),H)}C=C||"text";let D=await h[ve.findKey(h,C)||"text"](R,v);return!F&&I&&I(),await new Promise((H,z)=>{kq(H,z,{data:D,headers:Ds.from(R.headers),status:R.status,statusText:R.statusText,config:v,request:U})})}catch(M){throw I&&I(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,v,U),{cause:M.cause||M}):mt.from(M,M&&M.code,v,U)}}},Dhe=new Map,Aq=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let o=i.length,l=o,c,u,d=Dhe;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Mhe(t)),d=u;return u};Aq();const vA={http:Xde,xhr:khe,fetch:{get:Aq}};ve.forEach(vA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const YI=e=>`- ${e}`,Ihe=e=>ve.isFunction(e)||e===null||e===!1;function Rhe(e,t){e=ve.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(a=r,!Ihe(r)&&(a=vA[(l=String(r)).toLowerCase()],a===void 0))throw new mt(`Unknown adapter '${l}'`);if(a&&(ve.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(YI).join(`
`):" "+YI(o[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Tq={getAdapter:Rhe,adapters:vA};function j1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tf(null,e)}function KI(e){return j1(e),e.headers=Ds.from(e.headers),e.data=w1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tq.getAdapter(e.adapter||pv.adapter,e)(e).then(function(r){return j1(e),r.data=w1.call(e,e.transformResponse,r),r.headers=Ds.from(r.headers),r},function(r){return Cq(r)||(j1(e),r&&r.response&&(r.response.data=w1.call(e,e.transformResponse,r.response),r.response.headers=Ds.from(r.response.headers))),Promise.reject(r)})}const Oq="1.13.2",Xw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const JI={};Xw.transitional=function(t,n,r){function a(i,o){return"[Axios v"+Oq+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new mt(a(o," has been removed"+(n?" in "+n:"")),mt.ERR_DEPRECATED);return n&&!JI[o]&&(JI[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Xw.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function $he(e,t,n){if(typeof e!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new mt("option "+i+" must be "+c,mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new mt("Unknown option "+i,mt.ERR_BAD_OPTION)}}const $y={assertOptions:$he,validators:Xw},ki=$y.validators;class iu{constructor(t){this.defaults=t||{},this.interceptors={request:new LI,response:new LI}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wu(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&$y.assertOptions(r,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),a!=null&&(ve.isFunction(a)?n.paramsSerializer={serialize:a}:$y.assertOptions(a,{encode:ki.function,serialize:ki.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$y.assertOptions(n,{baseUrl:ki.spelling("baseURL"),withXsrfToken:ki.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&ve.merge(i.common,i[n.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Ds.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,h=0,f;if(!c){const v=[KI.bind(this),void 0];for(v.unshift(...l),v.push(...u),f=v.length,d=Promise.resolve(n);h<f;)d=d.then(v[h++],v[h++]);return d}f=l.length;let m=n;for(;h<f;){const v=l[h++],p=l[h++];try{m=v(m)}catch(x){p.call(this,x);break}}try{d=KI.call(this,m)}catch(v){return Promise.reject(v)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=wu(this.defaults,t);const n=Eq(t.baseURL,t.url,t.allowAbsoluteUrls);return _q(n,t.params,t.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(t){iu.prototype[t]=function(n,r){return this.request(wu(r||{},{method:t,url:n,data:(r||{}).data}))}});ve.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(wu(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}iu.prototype[t]=n(),iu.prototype[t+"Form"]=n(!0)});class xA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Tf(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new xA(function(a){t=a}),cancel:t}}}function Lhe(e){return function(n){return e.apply(null,n)}}function Fhe(e){return ve.isObject(e)&&e.isAxiosError===!0}const qC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(qC).forEach(([e,t])=>{qC[t]=e});function Mq(e){const t=new iu(e),n=dq(iu.prototype.request,t);return ve.extend(n,iu.prototype,t,{allOwnKeys:!0}),ve.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Mq(wu(e,a))},n}const Hn=Mq(pv);Hn.Axios=iu;Hn.CanceledError=Tf;Hn.CancelToken=xA;Hn.isCancel=Cq;Hn.VERSION=Oq;Hn.toFormData=Jw;Hn.AxiosError=mt;Hn.Cancel=Hn.CanceledError;Hn.all=function(t){return Promise.all(t)};Hn.spread=Lhe;Hn.isAxiosError=Fhe;Hn.mergeConfig=wu;Hn.AxiosHeaders=Ds;Hn.formToJSON=e=>Sq(ve.isHTMLForm(e)?new FormData(e):e);Hn.getAdapter=Tq.getAdapter;Hn.HttpStatusCode=qC;Hn.default=Hn;const Bhe="https://api.voxtro.io";class Uhe{constructor(){ht(this,"client");this.client=Hn.create({baseURL:Bhe,headers:{"Content-Type":"application/json"},timeout:3e4}),this.client.interceptors.request.use(async t=>{try{const{data:{session:n}}=await Y.auth.getSession();n!=null&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error getting session:",n)}return t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var r,a,i;((r=t.response)==null?void 0:r.status)===401&&(console.error("Authentication error - redirecting to login"),window.location.href="/auth");const n=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.detail)||t.message||"An unexpected error occurred";return Promise.reject(new Error(n))})}async get(t,n){return(await this.client.get(t,{params:n})).data}async post(t,n){return(await this.client.post(t,n)).data}async patch(t,n){return(await this.client.patch(t,n)).data}async delete(t){return(await this.client.delete(t)).data}async put(t,n){return(await this.client.put(t,n)).data}}const bt=new Uhe;async function zhe(e){return bt.post("/api/chat/message",e)}async function XI(e){return bt.post("/api/chat/crawl",e)}async function dp(){return bt.post("/api/voice/sync")}async function qhe(e,t){return bt.patch(`/api/voice/${e}`,t)}async function Vhe(e,t){return bt.post("/api/voice/validate",{api_key:e,public_key:t||null})}async function Whe(){return bt.get("/api/voice/token")}async function Hhe(e){return bt.post("/api/whatsapp/validate-elevenlabs",{api_key:e})}async function VC(){return bt.post("/api/whatsapp/sync")}async function Ghe(e,t){return bt.patch(`/api/whatsapp/${e}`,t)}async function Yhe(e){return bt.get(`/api/whatsapp/${e}`)}async function Khe(e){return bt.post(`/api/whatsapp/${e}/fetch-conversations`)}async function Dq(e){return bt.post("/api/notifications/email",e)}async function Jhe(e){return bt.post("/api/notifications/contact",e)}async function Xhe(e){return bt.post("/api/notifications/ticket-reply",e)}async function Qhe(e){return bt.post("/api/notifications/admin-ticket",e)}async function Zhe(e){return bt.post("/api/customers",e)}async function efe(e){return bt.post(`/api/customers/send-login-link?email=${encodeURIComponent(e)}`)}async function tfe(e){return bt.post("/api/customers/portal/tickets",e)}async function Mb(){return bt.get("/api/customers/portal/leads")}async function nfe(){return bt.get("/api/customers/portal/analytics")}async function rfe(){return bt.post("/api/customers/portal/sync-whatsapp-conversations")}async function sfe(){return bt.post("/api/customers/portal/sync-voice-calls")}async function afe(){return bt.get("/api/customers/portal/chatbot-conversations")}async function ife(){return bt.get("/api/customers/portal/voice-call-logs")}async function ofe(){return bt.get("/api/customers/portal/whatsapp-conversation-logs")}const lfe="https://nzqzmvsrsfynatxojuil.supabase.co",cfe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",Ly={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"};async function Iq(e){try{console.log("[Branding API] Fetching branding for email:",e);const t=`${lfe}/functions/v1/get-customer-branding`;console.log("[Branding API] URL:",t);const n=await Hn.get(t,{params:{email:e},headers:{Authorization:`Bearer ${cfe}`,"Content-Type":"application/json"},timeout:1e4});return console.log("[Branding API] Response:",n.data),n.data}catch(t){return console.error("[Branding API] Error fetching branding:",t),Ly}}async function ufe(){return bt.get("/api/domains")}async function dfe(e){return bt.post("/api/domains",{domain:e})}async function hfe(){return bt.post("/api/domains/verify")}async function ffe(){return bt.delete("/api/domains")}async function mfe(e){try{const t=e.toLowerCase().trim().replace(/\/$/,""),{data:n,error:r}=await Y.rpc("get_branding_by_domain",{p_domain:t});if(r||!n||n.length===0)return{found:!1};const a=n[0];return{found:!0,user_id:a.user_id,branding:{logo_url:a.logo_url,primary_color:a.primary_color||"#f97316",secondary_color:a.secondary_color||"#ea580c"}}}catch(t){return console.error("Error getting branding by domain:",t),{found:!1}}}function pfe(){const e=window.location.hostname;return!e.includes("voxtro.io")&&!e.includes("vercel.app")&&!e.includes("localhost")&&!e.includes("127.0.0.1")}function gfe(){return window.location.hostname}const QI="voxtro_last_vapi_sync",ZI="voxtro_last_whatsapp_sync",vfe=24*60*60*1e3,Rq=g.createContext(void 0);function xfe({children:e}){const[t,n]=g.useState(null),[r,a]=g.useState(null),[i,o]=g.useState(!0),l=g.useRef(!1),c=p=>{const x=localStorage.getItem(p);if(!x)return!0;const y=parseInt(x,10);return Date.now()-y>vfe},u=async()=>{if(!l.current){l.current=!0;try{c(QI)&&(console.log("Starting automatic VAPI sync..."),await dp(),localStorage.setItem(QI,Date.now().toString()),console.log("VAPI sync completed successfully")),c(ZI)&&(console.log("Starting automatic WhatsApp sync..."),await VC(),localStorage.setItem(ZI,Date.now().toString()),console.log("WhatsApp sync completed successfully"))}catch(p){console.error("Agent auto-sync error:",p)}finally{l.current=!1}}};g.useEffect(()=>{const{data:{subscription:p}}=Y.auth.onAuthStateChange((x,y)=>{console.log("Auth state change:",x,"session exists:",!!y),a(y),n((y==null?void 0:y.user)??null),o(!1),x==="SIGNED_IN"&&(y!=null&&y.user)&&setTimeout(()=>{u()},1e3)});return Y.auth.getSession().then(({data:{session:x}})=>{console.log("Initial session check:",!!x),a(x),n((x==null?void 0:x.user)??null),o(!1),x!=null&&x.user&&setTimeout(()=>u(),2e3)}),()=>p.unsubscribe()},[]);const d=async(p,x,y)=>{const b=`${window.location.origin}/`,{error:w}=await Y.auth.signUp({email:p,password:x,options:{emailRedirectTo:b,data:{full_name:y}}});return{error:w}},h=async(p,x)=>{const{error:y}=await Y.auth.signInWithPassword({email:p,password:x});return{error:y}},f=async p=>{const{error:x}=await Y.auth.signInWithOAuth({provider:p,options:{redirectTo:`${window.location.origin}/auth`}});return{error:x}},m=async()=>{var p,x;console.log("Starting sign out process...");try{a(null),n(null),localStorage.removeItem("sb-nzqzmvsrsfynatxojuil-auth-token");const{error:y}=await Y.auth.signOut();if(console.log("Sign out response:",{error:y}),y){if((p=y.message)!=null&&p.includes("Auth session missing")){console.log("Session already missing, clearing local state");return}throw console.error("Sign out error:",y),y}console.log("Sign out successful")}catch(y){if((x=y==null?void 0:y.message)!=null&&x.includes("Auth session missing")){console.log("Handling missing session in catch block");return}throw console.error("Sign out catch block:",y),y}},v=async p=>{const x=`${window.location.origin}/auth`,{error:y}=await Y.auth.resetPasswordForEmail(p,{redirectTo:x});return{error:y}};return s.jsx(Rq.Provider,{value:{user:t,session:r,loading:i,signUp:d,signIn:h,signInWithProvider:f,signOut:m,resetPassword:v},children:e})}function Ut(){const e=g.useContext(Rq);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const $q=g.createContext(void 0);function yfe({children:e}){const[t,n]=g.useState(null),[r,a]=g.useState(!0);g.useEffect(()=>{i()},[]);const i=async()=>{var d,h,f;try{console.log("Checking customer session...");const{data:{session:m}}=await Y.auth.getSession();if(console.log("Session found:",!!m,"User:",(d=m==null?void 0:m.user)==null?void 0:d.email),(f=(h=m==null?void 0:m.user)==null?void 0:h.user_metadata)!=null&&f.is_customer){console.log("User is a customer, fetching profile...");const v=m.user.email;let{data:p,error:x}=await Y.from("customers").select("*").eq("email",v).maybeSingle();if(x||!p){console.log("Direct query failed, trying RPC function...");const{data:y,error:b}=await Y.rpc("verify_customer_for_signin",{p_email:v});!b&&(y!=null&&y[0])&&(p=y[0],x=null)}console.log("Customer profile fetch result:",p,x),!x&&p?(console.log("Setting customer data:",p),n(p)):(console.log("No customer data found or error occurred, clearing session"),await Y.auth.signOut())}else console.log("User is not a customer or no session")}catch(m){console.error("Error checking customer session:",m)}finally{a(!1)}},o=async(d,h)=>{var f,m,v;console.log("Customer sign in attempt for:",d);try{const{data:p,error:x}=await Y.rpc("verify_customer_for_signin",{p_email:d}),y=(p==null?void 0:p[0])||null;if(console.log("Customer lookup result:",y?"found":"not found",x),x||!y)return{error:{message:"Customer not found or access denied"}};console.log("Attempting auth sign in...");const{data:b,error:w}=await Y.auth.signInWithPassword({email:d,password:h});return console.log("Auth sign in result:",b.user?"success":"failed",w),w?{error:{message:"Invalid email or password"}}:(console.log("User metadata:",(f=b.user)==null?void 0:f.user_metadata),(v=(m=b.user)==null?void 0:m.user_metadata)!=null&&v.is_customer?(console.log("Customer sign in successful"),n(y),await Y.from("customers").update({last_login:new Date().toISOString()}).eq("id",y.id),{error:null}):(console.log("User does not have customer metadata, signing out"),await Y.auth.signOut(),{error:{message:"Access denied - not a customer account"}}))}catch(p){return console.error("Sign in error:",p),{error:p}}},l=async()=>{try{const{error:d}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/customer-dashboard`}});return{error:d}}catch(d){return{error:d}}},c=async()=>{await Y.auth.signOut(),n(null)},u=async d=>{if(!t)return{error:{message:"Not authenticated"}};try{const{data:h,error:f}=await Y.from("customers").update(d).eq("id",t.id).select().single();return!f&&h&&n(h),{error:f}}catch(h){return{error:h}}};return s.jsx($q.Provider,{value:{customer:t,loading:r,signIn:o,signInWithGoogle:l,signOut:c,updateProfile:u},children:e})}function hs(){const e=g.useContext($q);if(e===void 0)throw new Error("useCustomerAuth must be used within a CustomerAuthProvider");return e}const _1=768;function bfe(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${_1-1}px)`),r=()=>{t(window.innerWidth<_1)};return n.addEventListener("change",r),t(window.innerWidth<_1),()=>n.removeEventListener("change",r)},[]),!!e}const rg=jf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?$s:"button";return s.jsx(o,{className:ye(rg({variant:t,size:n,className:e})),ref:i,...a})});te.displayName="Button";const he=g.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));he.displayName="Input";var wfe="Separator",e4="horizontal",jfe=["horizontal","vertical"],Lq=g.forwardRef((e,t)=>{const{decorative:n,orientation:r=e4,...a}=e,i=_fe(r)?r:e4,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Be.div,{"data-orientation":i,...l,...a,ref:t})});Lq.displayName=wfe;function _fe(e){return jfe.includes(e)}var Fq=Lq;const ls=g.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Fq,{ref:a,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ls.displayName=Fq.displayName;var N1="focusScope.autoFocusOnMount",S1="focusScope.autoFocusOnUnmount",t4={bubbles:!1,cancelable:!0},Nfe="FocusScope",gv=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=An(a),d=An(i),h=g.useRef(null),f=et(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:al(h.current,{select:!0})},x=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||al(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&al(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){r4.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(N1,t4);l.addEventListener(N1,u),l.dispatchEvent(y),y.defaultPrevented||(Sfe(Afe(Bq(l)),{select:!0}),document.activeElement===p&&al(l))}return()=>{l.removeEventListener(N1,u),setTimeout(()=>{const y=new CustomEvent(S1,t4);l.addEventListener(S1,d),l.dispatchEvent(y),y.defaultPrevented||al(p??document.body,{select:!0}),l.removeEventListener(S1,d),r4.remove(m)},0)}}},[l,u,d,m]);const v=g.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[w,j]=Cfe(b);w&&j?!p.shiftKey&&y===j?(p.preventDefault(),n&&al(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&al(j,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(Be.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});gv.displayName=Nfe;function Sfe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(al(r,{select:t}),document.activeElement!==n)return}function Cfe(e){const t=Bq(e),n=n4(t,e),r=n4(t.reverse(),e);return[n,r]}function Bq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function n4(e,t){for(const n of e)if(!kfe(n,{upTo:t}))return n}function kfe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Efe(e){return e instanceof HTMLInputElement&&"select"in e}function al(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Efe(e)&&t&&e.select()}}var r4=Pfe();function Pfe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=s4(e,t),e.unshift(t)},remove(t){var n;e=s4(e,t),(n=e[0])==null||n.resume()}}}function s4(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Afe(e){return e.filter(t=>t.tagName!=="A")}var C1=0;function Qw(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a4()),document.body.insertAdjacentElement("beforeend",e[1]??a4()),C1++,()=>{C1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),C1--}},[])}function a4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vr=function(){return Vr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vr.apply(this,arguments)};function yA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Uq(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var hp="right-scroll-bar-position",fp="width-before-scroll-bar",Tfe="with-scroll-bars-hidden",Ofe="--removed-body-scroll-bar-size";function k1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mfe(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Dfe=typeof window<"u"?g.useLayoutEffect:g.useEffect,i4=new WeakMap;function zq(e,t){var n=Mfe(null,function(r){return e.forEach(function(a){return k1(a,r)})});return Dfe(function(){var r=i4.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||k1(l,null)}),i.forEach(function(l){a.has(l)||k1(l,o)})}i4.set(n,e)},[e]),n}function Ife(e){return e}function Rfe(e,t){t===void 0&&(t=Ife);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function qq(e){e===void 0&&(e={});var t=Rfe(null);return t.options=Vr({async:!0,ssr:!1},e),t}var Vq=function(e){var t=e.sideCar,n=yA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Vr({},n))};Vq.isSideCarExport=!0;function Wq(e,t){return e.useMedium(t),Vq}var Hq=qq(),E1=function(){},Zw=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:E1,onWheelCapture:E1,onTouchMoveCapture:E1}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,v=e.inert,p=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,b=e.gapMode,w=yA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=zq([n,t]),S=Vr(Vr({},w),a);return g.createElement(g.Fragment,null,d&&g.createElement(j,{sideCar:Hq,removeScrollBar:u,shards:h,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(l),Vr(Vr({},S),{ref:N})):g.createElement(y,Vr({},S,{className:c,ref:N}),l))});Zw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zw.classNames={fullWidth:fp,zeroRight:hp};var $fe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$fe();return t&&e.setAttribute("nonce",t),e}function Ffe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Bfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ufe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Lfe())&&(Ffe(t,n),Bfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},zfe=function(){var e=Ufe();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bA=function(){var e=zfe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},qfe={left:0,top:0,right:0,gap:0},P1=function(e){return parseInt(e||"",10)||0},Vfe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[P1(n),P1(r),P1(a)]},Wfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qfe;var t=Vfe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Hfe=bA(),Gd="data-scroll-locked",Gfe=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Gd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hp,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hp," .").concat(hp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fp," .").concat(fp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gd,`] {
    `).concat(Ofe,": ").concat(l,`px;
  }
`)},o4=function(){var e=parseInt(document.body.getAttribute(Gd)||"0",10);return isFinite(e)?e:0},Yfe=function(){g.useEffect(function(){return document.body.setAttribute(Gd,(o4()+1).toString()),function(){var e=o4()-1;e<=0?document.body.removeAttribute(Gd):document.body.setAttribute(Gd,e.toString())}},[])},Gq=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Yfe();var i=g.useMemo(function(){return Wfe(a)},[a]);return g.createElement(Hfe,{styles:Gfe(i,!t,a,n?"":"!important")})},WC=!1;if(typeof window<"u")try{var Ox=Object.defineProperty({},"passive",{get:function(){return WC=!0,!0}});window.addEventListener("test",Ox,Ox),window.removeEventListener("test",Ox,Ox)}catch{WC=!1}var id=WC?{passive:!1}:!1,Kfe=function(e){return e.tagName==="TEXTAREA"},Yq=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kfe(e)&&n[t]==="visible")},Jfe=function(e){return Yq(e,"overflowY")},Xfe=function(e){return Yq(e,"overflowX")},l4=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Kq(e,r);if(a){var i=Jq(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qfe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Zfe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Kq=function(e,t){return e==="v"?Jfe(t):Xfe(t)},Jq=function(e,t){return e==="v"?Qfe(t):Zfe(t)},eme=function(e,t){return e==="h"&&t==="rtl"?-1:1},tme=function(e,t,n,r,a){var i=eme(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=Jq(e,l),v=m[0],p=m[1],x=m[2],y=p-x-i*v;(v||y)&&Kq(e,l)&&(h+=y,f+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},Mx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c4=function(e){return[e.deltaX,e.deltaY]},u4=function(e){return e&&"current"in e?e.current:e},nme=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sme=0,od=[];function ame(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),a=g.useState(sme++)[0],i=g.useState(bA)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Uq([e.lockRef.current],(e.shards||[]).map(u4),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Mx(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],N,S=p.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&C==="h"&&S.type==="range")return!1;var k=l4(C,S);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=l4(C,S)),!k)return!1;if(!r.current&&"changedTouches"in p&&(w||j)&&(r.current=N),!N)return!0;var E=r.current||N;return tme(E,x,p,E==="h"?w:j,!0)},[]),c=g.useCallback(function(p){var x=p;if(!(!od.length||od[od.length-1]!==i)){var y="deltaY"in x?c4(x):Mx(x),b=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&nme(N.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(u4).filter(Boolean).filter(function(N){return N.contains(x.target)}),j=w.length>0?l(x,w[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=g.useCallback(function(p,x,y,b){var w={name:p,delta:x,target:y,should:b,shadowParent:ime(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(p){n.current=Mx(p),r.current=void 0},[]),h=g.useCallback(function(p){u(p.type,c4(p),p.target,l(p,e.lockRef.current))},[]),f=g.useCallback(function(p){u(p.type,Mx(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return od.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,id),document.addEventListener("touchmove",c,id),document.addEventListener("touchstart",d,id),function(){od=od.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,id),document.removeEventListener("touchmove",c,id),document.removeEventListener("touchstart",d,id)}},[]);var m=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:rme(a)}):null,m?g.createElement(Gq,{gapMode:e.gapMode}):null)}function ime(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ome=Wq(Hq,ame);var vv=g.forwardRef(function(e,t){return g.createElement(Zw,Vr({},e,{ref:t,sideCar:ome}))});vv.classNames=Zw.classNames;var lme=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ld=new WeakMap,Dx=new WeakMap,Ix={},A1=0,Xq=function(e){return e&&(e.host||Xq(e.parentNode))},cme=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Xq(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ume=function(e,t,n,r){var a=cme(t,Array.isArray(e)?e:[e]);Ix[n]||(Ix[n]=new WeakMap);var i=Ix[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",p=(ld.get(f)||0)+1,x=(i.get(f)||0)+1;ld.set(f,p),i.set(f,x),o.push(f),p===1&&v&&Dx.set(f,!0),x===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),A1++,function(){o.forEach(function(h){var f=ld.get(h)-1,m=i.get(h)-1;ld.set(h,f),i.set(h,m),f||(Dx.has(h)||h.removeAttribute(r),Dx.delete(h)),m||h.removeAttribute(n)}),A1--,A1||(ld=new WeakMap,ld=new WeakMap,Dx=new WeakMap,Ix={})}},xv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=lme(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),ume(r,a,n,"aria-hidden")):function(){return null}},wA="Dialog",[Qq,Zq]=Er(wA),[dme,ji]=Qq(wA),eV=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u=!1,d]=Kr({prop:r,defaultProp:a,onChange:i});return s.jsx(dme,{scope:t,triggerRef:l,contentRef:c,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};eV.displayName=wA;var tV="DialogTrigger",nV=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ji(tV,n),i=et(t,a.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":NA(a.open),...r,ref:i,onClick:Ae(e.onClick,a.onOpenToggle)})});nV.displayName=tV;var jA="DialogPortal",[hme,rV]=Qq(jA,{forceMount:void 0}),sV=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=ji(jA,t);return s.jsx(hme,{scope:t,forceMount:n,children:g.Children.map(r,o=>s.jsx(tr,{present:n||i.open,children:s.jsx(wf,{asChild:!0,container:a,children:o})}))})};sV.displayName=jA;var Db="DialogOverlay",aV=g.forwardRef((e,t)=>{const n=rV(Db,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ji(Db,e.__scopeDialog);return i.modal?s.jsx(tr,{present:r||i.open,children:s.jsx(fme,{...a,ref:t})}):null});aV.displayName=Db;var fme=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ji(Db,n);return s.jsx(vv,{as:$s,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Be.div,{"data-state":NA(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ju="DialogContent",iV=g.forwardRef((e,t)=>{const n=rV(ju,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ji(ju,e.__scopeDialog);return s.jsx(tr,{present:r||i.open,children:i.modal?s.jsx(mme,{...a,ref:t}):s.jsx(pme,{...a,ref:t})})});iV.displayName=ju;var mme=g.forwardRef((e,t)=>{const n=ji(ju,e.__scopeDialog),r=g.useRef(null),a=et(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return xv(i)},[]),s.jsx(oV,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ae(e.onFocusOutside,i=>i.preventDefault())})}),pme=g.forwardRef((e,t)=>{const n=ji(ju,e.__scopeDialog),r=g.useRef(!1),a=g.useRef(!1);return s.jsx(oV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),oV=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ji(ju,n),c=g.useRef(null),u=et(t,c);return Qw(),s.jsxs(s.Fragment,{children:[s.jsx(gv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Uu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(vme,{titleId:l.titleId}),s.jsx(yme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_A="DialogTitle",lV=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ji(_A,n);return s.jsx(Be.h2,{id:a.titleId,...r,ref:t})});lV.displayName=_A;var cV="DialogDescription",uV=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ji(cV,n);return s.jsx(Be.p,{id:a.descriptionId,...r,ref:t})});uV.displayName=cV;var dV="DialogClose",hV=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ji(dV,n);return s.jsx(Be.button,{type:"button",...r,ref:t,onClick:Ae(e.onClick,()=>a.onOpenChange(!1))})});hV.displayName=dV;function NA(e){return e?"open":"closed"}var fV="DialogTitleWarning",[gme,mV]=ore(fV,{contentName:ju,titleName:_A,docsSlug:"dialog"}),vme=({titleId:e})=>{const t=mV(fV),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},xme="DialogDescriptionWarning",yme=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mV(xme).contentName}}.`;return g.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},SA=eV,pV=nV,CA=sV,yv=aV,bv=iV,wv=lV,jv=uV,ej=hV;const _v=SA,bme=CA,gV=g.forwardRef(({className:e,...t},n)=>s.jsx(yv,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));gV.displayName=yv.displayName;const wme=jf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Of=g.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(bme,{children:[s.jsx(gV,{}),s.jsxs(bv,{ref:a,className:ye(wme({side:e}),t),...r,children:[n,s.jsxs(ej,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Qi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Of.displayName=bv.displayName;const Nv=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});Nv.displayName="SheetHeader";const Sv=g.forwardRef(({className:e,...t},n)=>s.jsx(wv,{ref:n,className:ye("text-lg font-semibold text-foreground",e),...t}));Sv.displayName=wv.displayName;const Cv=g.forwardRef(({className:e,...t},n)=>s.jsx(jv,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));Cv.displayName=jv.displayName;function Qs({className:e,...t}){return s.jsx("div",{className:ye("animate-pulse rounded-md bg-muted",e),...t})}const jme="sidebar:state",_me=60*60*24*7,Nme="16rem",Sme="18rem",Cme="3rem",kme="b",vV=g.createContext(null);function Mf(){const e=g.useContext(vV);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const kA=g.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const c=bfe(),[u,d]=g.useState(!1),[h,f]=g.useState(e),m=t??h,v=g.useCallback(b=>{const w=typeof b=="function"?b(m):b;n?n(w):f(w),document.cookie=`${jme}=${w}; path=/; max-age=${_me}`},[n,m]),p=g.useCallback(()=>c?d(b=>!b):v(b=>!b),[c,v,d]);g.useEffect(()=>{const b=w=>{w.key===kme&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[p]);const x=m?"expanded":"collapsed",y=g.useMemo(()=>({state:x,open:m,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[x,m,v,c,u,d,p]);return s.jsx(vV.Provider,{value:y,children:s.jsx(xz,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Nme,"--sidebar-width-icon":Cme,...a},className:ye("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});kA.displayName="SidebarProvider";const EA=g.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Mf();return n==="none"?s.jsx("div",{className:ye("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?s.jsx(_v,{open:u,onOpenChange:d,...i,children:s.jsx(Of,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Sme},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ye("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ye("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});EA.displayName="Sidebar";const tj=g.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=Mf();return s.jsxs(te,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ye("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...n,children:[s.jsx(use,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});tj.displayName="SidebarTrigger";const Eme=g.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Mf();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ye("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Eme.displayName="SidebarRail";const Pme=g.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:ye("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Pme.displayName="SidebarInset";const Ame=g.forwardRef(({className:e,...t},n)=>s.jsx(he,{ref:n,"data-sidebar":"input",className:ye("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Ame.displayName="SidebarInput";const xV=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:ye("flex flex-col gap-2 p-2",e),...t}));xV.displayName="SidebarHeader";const yV=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:ye("flex flex-col gap-2 p-2",e),...t}));yV.displayName="SidebarFooter";const Tme=g.forwardRef(({className:e,...t},n)=>s.jsx(ls,{ref:n,"data-sidebar":"separator",className:ye("mx-2 w-auto bg-sidebar-border",e),...t}));Tme.displayName="SidebarSeparator";const PA=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:ye("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));PA.displayName="SidebarContent";const Yd=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:ye("relative flex w-full min-w-0 flex-col p-2",e),...t}));Yd.displayName="SidebarGroup";const mp=g.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?$s:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:ye("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});mp.displayName="SidebarGroupLabel";const Ome=g.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?$s:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:ye("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Ome.displayName="SidebarGroupAction";const Kd=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:ye("w-full text-sm",e),...t}));Kd.displayName="SidebarGroupContent";const zc=g.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:ye("flex w-full min-w-0 flex-col gap-1",e),...t}));zc.displayName="SidebarMenu";const qc=g.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ye("group/menu-item relative",e),...t}));qc.displayName="SidebarMenuItem";const Mme=jf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Vc=g.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const c=e?$s:"button",{isMobile:u,state:d}=Mf(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:ye(Mme({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(coe,{children:[s.jsx(uoe,{asChild:!0,children:h}),s.jsx(yz,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):h});Vc.displayName="SidebarMenuButton";const Dme=g.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const i=t?$s:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:ye("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});Dme.displayName="SidebarMenuAction";const Ime=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ye("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Ime.displayName="SidebarMenuBadge";const Rme=g.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ye("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Qs,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Qs,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Rme.displayName="SidebarMenuSkeleton";const $me=g.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ye("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));$me.displayName="SidebarMenuSub";const Lme=g.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));Lme.displayName="SidebarMenuSubItem";const Fme=g.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},i)=>{const o=e?$s:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:ye("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});Fme.displayName="SidebarMenuSubButton";const Bme={theme:"system",setTheme:()=>null},bV=g.createContext(Bme);function Ume({children:e,defaultTheme:t="light",storageKey:n="vite-ui-theme",...r}){const[a,i]=g.useState(()=>localStorage.getItem(n)||t);g.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return s.jsx(bV.Provider,{...r,value:o,children:e})}const kv=()=>{const e=g.useContext(bV);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},ou="/assets/voxtro-logo-dark-Z6DETYOB.png",zme=[{title:"Dashboard",url:"/dashboard",icon:UP},{title:"Voice Assistants",url:"/voice-assistants",icon:Nt},{title:"WhatsApp Agents",url:"/whatsapp-agents",icon:Jt},{title:"Chatbots",url:"/chatbots",icon:Ze},{title:"Tasks",url:"/voice-tasks",icon:rC},{title:"Forms",url:"/forms",icon:Cn},{title:"Flows",url:"/flows",icon:sC},{title:"Customers",url:"/customers",icon:dn},{title:"Support Tickets",url:"/support-tickets",icon:sa},{title:"Usage",url:"/usage",icon:Gl},{title:"Changelog",url:"/changelog",icon:Jre}],qme=[{title:"Teams",url:"/teams",icon:Sw},{title:"Settings",url:"/settings",icon:As}];function Vme(){const{state:e}=Mf(),t=bi(),{theme:n}=kv(),{signOut:r}=Ut();t.pathname;const a=({isActive:c})=>c?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",i=e==="collapsed",o=n==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":ou,l=async()=>{try{await r(),window.location.href="/auth"}catch(c){De({title:"Error",description:`Failed to sign out: ${(c==null?void 0:c.message)||"Unknown error"}`,variant:"destructive"})}};return s.jsxs(EA,{className:i?"w-14":"w-60",collapsible:"icon",children:[s.jsx("div",{className:"p-4 border-b bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center justify-start",children:s.jsx("img",{src:o,alt:"Voxtro",className:"h-10 w-auto"})})}),s.jsxs(PA,{children:[s.jsxs(Yd,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[!i&&s.jsx(mp,{children:"Navigation"}),s.jsx(tj,{className:i?"mx-auto":""})]}),s.jsx(Kd,{children:s.jsx(zc,{children:zme.map(c=>s.jsx(qc,{children:s.jsx(Vc,{asChild:!0,children:s.jsxs(PC,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]}),s.jsxs(Yd,{children:[s.jsx(mp,{children:"Tools"}),s.jsx(Kd,{children:s.jsx(zc,{children:s.jsx(qc,{children:s.jsx(Vc,{asChild:!0,children:s.jsxs("a",{href:"https://build.voxtro.io",target:"_blank",rel:"noopener noreferrer",className:"text-sidebar-foreground hover:bg-sidebar-accent/50 flex items-center",children:[s.jsx(OU,{className:"mr-2 h-4 w-4"}),!i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Voice Agent Studio"}),s.jsx(Gp,{className:"ml-auto h-3 w-3 opacity-50"})]})]})})})})})]}),s.jsxs(Yd,{children:[s.jsx(mp,{children:"Account"}),s.jsx(Kd,{children:s.jsx(zc,{children:qme.map(c=>s.jsx(qc,{children:s.jsx(Vc,{asChild:!0,children:s.jsxs(PC,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]})]}),s.jsx(yV,{className:"border-t",children:s.jsx(zc,{children:s.jsx(qc,{children:s.jsxs(Vc,{onClick:l,className:"text-sidebar-foreground hover:bg-sidebar-accent/50 cursor-pointer",children:[s.jsx(zP,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:"Sign Out"})]})})})})]})}function Wme(){const{user:e}=Ut(),t=Ar(),[n,r]=g.useState([]),a=g.useRef(null),[i,o]=g.useState(!1);g.useEffect(()=>(a.current=new Audio("/chime-alert.wav"),a.current.volume=.5,a.current.addEventListener("canplaythrough",()=>{o(!0)}),a.current.load(),()=>{a.current&&(a.current.pause(),a.current=null)}),[]);const l=()=>{a.current&&i&&(a.current.currentTime=0,a.current.play().catch(f=>{console.log("Audio play failed:",f)}))};g.useEffect(()=>{if(!(e!=null&&e.id))return;console.log("Setting up realtime subscription for user:",e.id);const f=Y.channel("admin-new-tickets").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_tickets",filter:`user_id=eq.${e.id}`},v=>{const p=v.new;console.log("New support ticket received:",p);const x={id:`ticket-${p.id}`,type:"new_ticket",subject:p.subject,customerName:p.customer_name,priority:p.priority,ticketId:p.id,createdAt:p.created_at};r(y=>[x,...y].slice(0,5)),l()}).subscribe(v=>{console.log("Tickets channel status:",v)}),m=Y.channel("admin-ticket-replies").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},async v=>{var w;const p=v.new;if(console.log("New ticket message received:",p),p.sender_type!=="customer"){console.log("Ignoring non-customer message");return}const{data:x,error:y}=await Y.from("support_tickets").select("id, subject, customer_name, priority, user_id").eq("id",p.ticket_id).single();if(y){console.error("Error fetching ticket:",y);return}if(x.user_id!==e.id){console.log("Ticket does not belong to this user");return}const b={id:`message-${p.id}`,type:"ticket_reply",subject:x.subject,customerName:x.customer_name,priority:x.priority,ticketId:x.id,createdAt:p.created_at,content:(w=p.content)==null?void 0:w.substring(0,100)};r(j=>[b,...j].slice(0,5)),l()}).subscribe(v=>{console.log("Messages channel status:",v)});return()=>{console.log("Cleaning up realtime subscriptions"),Y.removeChannel(f),Y.removeChannel(m)}},[e==null?void 0:e.id,i]);const c=f=>{r(m=>m.filter(v=>v.id!==f))},u=()=>{r([])},d=f=>{var m;t(`/support-tickets?ticket=${f}`),c(((m=n.find(v=>v.ticketId===f))==null?void 0:m.id)||"")},h=f=>{switch(f==null?void 0:f.toLowerCase()){case"urgent":return"bg-red-500/10 text-red-600 border-red-200";case"high":return"bg-orange-500/10 text-orange-600 border-orange-200";case"medium":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";default:return"bg-blue-500/10 text-blue-600 border-blue-200"}};return n.length===0?null:s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-2",children:[n.map((f,m)=>{var v,p,x;return s.jsx("div",{className:"pointer-events-auto border-l-4 rounded-lg shadow-lg border bg-card animate-in slide-in-from-top-5 duration-300",style:{animationDelay:`${m*100}ms`,borderLeftColor:((v=f.priority)==null?void 0:v.toLowerCase())==="urgent"?"rgb(239 68 68)":((p=f.priority)==null?void 0:p.toLowerCase())==="high"?"rgb(249 115 22)":((x=f.priority)==null?void 0:x.toLowerCase())==="medium"?"rgb(234 179 8)":"rgb(59 130 246)"},children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${f.type==="new_ticket"?"bg-primary/10":"bg-blue-500/10"}`,children:f.type==="new_ticket"?s.jsx(RP,{className:"h-4 w-4 text-primary"}):s.jsx(Ht,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:f.type==="new_ticket"?"New Support Ticket":"Customer Reply"}),f.priority&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${h(f.priority)}`,children:f.priority})]}),s.jsx("p",{className:"font-medium text-sm truncate",children:f.subject}),f.type==="ticket_reply"&&f.content&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:['"',f.content,'..."']}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["From: ",f.customerName]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>d(f.ticketId),className:"text-xs h-7",children:[s.jsx(sa,{className:"h-3 w-3 mr-1"}),"View"]}),s.jsx(te,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-7 w-7",children:s.jsx(Qi,{className:"h-4 w-4"})})]})]})})},f.id)}),n.length>1&&s.jsx("div",{className:"pointer-events-auto flex justify-center",children:s.jsxs(te,{variant:"outline",size:"sm",onClick:u,className:"text-xs shadow-md bg-card border",children:["Dismiss All (",n.length,")"]})})]})})}function wr({children:e}){var l;const{user:t,loading:n}=Ut(),[r,a]=g.useState(""),i=((l=t==null?void 0:t.user_metadata)==null?void 0:l.is_customer)===!0;if(!n&&i)return s.jsx(Os,{to:"/customer-login",replace:!0});const o=async()=>{if(t)try{const{data:c,error:u}=await Y.from("profiles").select("full_name").eq("user_id",t.id).maybeSingle();a(!u&&c?c.full_name||t.email||"":t.email||"")}catch(c){console.error("Error fetching profile:",c),a(t.email||"")}};return g.useEffect(()=>{o();const c=Y.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`user_id=eq.${t==null?void 0:t.id}`},()=>{o()}).subscribe();return()=>{Y.removeChannel(c)}},[t]),s.jsxs(kA,{children:[s.jsx(Wme,{}),s.jsxs("div",{className:"min-h-screen flex w-full",children:[s.jsx(Vme,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(tj,{className:"lg:hidden"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(_n,{className:"w-4 h-4"}),s.jsx("span",{className:"text-muted-foreground",children:r})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})]})}function Hme({children:e}){const r=bi().pathname.startsWith("/customer-")?"voxtro-customer-theme":"voxtro-admin-theme";return s.jsx(Ume,{defaultTheme:"dark",storageKey:r,children:e})}const Gme=()=>{const{user:e,loading:t}=Ut();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(Os,{to:"/dashboard",replace:!0}):s.jsx(Os,{to:"/auth",replace:!0})};var Yme="Label",wV=g.forwardRef((e,t)=>s.jsx(Be.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wV.displayName=Yme;var jV=wV;const Kme=jf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=g.forwardRef(({className:e,...t},n)=>s.jsx(jV,{ref:n,className:ye(Kme(),e),...t}));ne.displayName=jV.displayName;const pr="/assets/voxtro-logo-BTHQL5eT.png";function Jme(){var w;const{user:e,signUp:t,signIn:n,signInWithProvider:r,loading:a,session:i,resetPassword:o}=Ut(),{toast:l}=En(),{resolvedTheme:c}=GP(),[u,d]=g.useState(!1),[h,f]=g.useState(!1),[m,v]=g.useState(!1);if(console.log("Auth page - loading:",a,"user:",!!e,"session:",!!i),a)return console.log("Auth page showing loading..."),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Ze,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})});if(!a&&e){if(((w=e.user_metadata)==null?void 0:w.is_customer)===!0)return console.log("Auth page redirecting to customer portal - user is a customer"),s.jsx(Os,{to:"/customer-login",replace:!0});const N=localStorage.getItem("pending_invite_token");return N?(console.log("Auth page redirecting to invite acceptance - pending invite token found"),localStorage.removeItem("pending_invite_token"),s.jsx(Os,{to:`/invite/${N}`,replace:!0})):(console.log("Auth page redirecting to dashboard - user exists"),s.jsx(Os,{to:"/dashboard",replace:!0}))}const p=async j=>{j.preventDefault(),d(!0);const N=new FormData(j.currentTarget),S=N.get("email"),C=N.get("password"),k=N.get("confirmPassword"),E=N.get("fullName");if(C!==k){l({title:"Error",description:"Passwords do not match.",variant:"destructive"}),d(!1);return}const{error:A}=await t(S,C,E);l(A?{title:"Error",description:A.message,variant:"destructive"}:{title:"Success",description:"Please check your email to confirm your account."}),d(!1)},x=async j=>{j.preventDefault(),d(!0);const N=new FormData(j.currentTarget),S=N.get("email"),C=N.get("password"),{error:k}=await n(S,C);k&&l({title:"Error",description:k.message,variant:"destructive"}),d(!1)},y=async j=>{j.preventDefault(),d(!0);const S=new FormData(j.currentTarget).get("email"),{error:C}=await o(S);C?l({title:"Error",description:C.message,variant:"destructive"}):(l({title:"Success",description:"Password reset email sent. Please check your inbox."}),f(!1)),d(!1)},b=async j=>{const{error:N}=await r(j);N&&l({title:"Error",description:N.message,variant:"destructive"})};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-black relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full px-12",children:[s.jsx("div",{className:"mb-8",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-24 drop-shadow-2xl"})}),s.jsx("h1",{className:"text-4xl font-normal text-white text-center",style:{fontFamily:"Montserrat, sans-serif"},children:"AI-Powered Customer Engagement"})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white force-light",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:s.jsx("img",{src:c==="dark"?pr:ou,alt:"Voxtro",className:"h-16"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:m?"Create your account":"Welcome back"}),s.jsx("p",{className:"mt-2 text-gray-600",children:m?"Start building amazing chatbots today":"Sign in to continue to your dashboard"})]}),m?s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-name",className:"text-gray-700",children:"Full Name"}),s.jsx(he,{id:"signup-name",name:"fullName",type:"text",placeholder:"John Doe",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-email",className:"text-gray-700",children:"Email"}),s.jsx(he,{id:"signup-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-password",className:"text-gray-700",children:"Password"}),s.jsx(he,{id:"signup-password",name:"password",type:"password",placeholder:"Create a password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-confirm-password",className:"text-gray-700",children:"Confirm Password"}),s.jsx(he,{id:"signup-confirm-password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsx(te,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium mt-2",disabled:u,children:u?"Creating account...":"Create account"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(te,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50 text-gray-700 bg-white",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>v(!1),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign in"})]})]}):s.jsxs(s.Fragment,{children:[h?s.jsxs("form",{onSubmit:y,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"reset-email",className:"text-gray-700",children:"Email"}),s.jsx(he,{id:"reset-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsx(te,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e]",disabled:u,children:u?"Sending...":"Send reset link"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-sm text-gray-600 hover:text-gray-900",children:"Back to sign in"})]}):s.jsxs("form",{onSubmit:x,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signin-email",className:"text-gray-700",children:"Email"}),s.jsx(he,{id:"signin-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signin-password",className:"text-gray-700",children:"Password"}),s.jsx(he,{id:"signin-password",name:"password",type:"password",placeholder:"Enter your password",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-[#e45133] hover:text-[#cc472e] font-medium",children:"Forgot password?"})}),s.jsx(te,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium",disabled:u,children:u?"Signing in...":"Sign in"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(te,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50 text-gray-700 bg-white",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{type:"button",onClick:()=>v(!0),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign up for free"})]})]}),s.jsxs("p",{className:"mt-8 text-center text-xs text-gray-500",children:["By continuing, you agree to our"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Privacy Policy"})]})]})})]})}const J=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const ae=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const ie=g.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const Se=g.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const ee=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));ee.displayName="CardContent";const Xme=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));Xme.displayName="CardFooter";function Qme(){const[e]=Kle(),t=Ar(),{toast:n}=En(),{resolvedTheme:r}=GP(),[a,i]=g.useState(!0),[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(null),[f,m]=g.useState(""),[v,p]=g.useState(""),[x,y]=g.useState(!1),[b,w]=g.useState(!1),[j,N]=g.useState(!1),[S,C]=g.useState(!1),k=e.get("token_hash"),E=e.get("type"),A=e.get("next")||"/auth";g.useEffect(()=>{(async()=>{if(!k||!E){h("Invalid or missing verification parameters."),l(!1),i(!1);return}try{if(E==="recovery"){const{data:U,error:I}=await Y.auth.verifyOtp({token_hash:k,type:"recovery"});I?(console.error("Token verification error:",I),h(I.message||"Failed to verify reset token. It may have expired."),u(!1)):U.session?(console.log("Token verified successfully"),u(!0)):(h("Unable to verify reset token."),u(!1))}else if(E==="signup"||E==="email_change"){const{error:U}=await Y.auth.verifyOtp({token_hash:k,type:E==="signup"?"signup":"email_change"});if(U)h(U.message||"Failed to verify email.");else{n({title:"Email Verified",description:"Your email has been verified successfully."}),t(A);return}}else h("Unknown verification type.")}catch(U){console.error("Verification error:",U),h(U.message||"An unexpected error occurred.")}l(!1),i(!1)})()},[k,E,t,A,n]);const P=async B=>{if(B.preventDefault(),f!==v){n({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}if(f.length<6){n({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}N(!0);try{const{error:U}=await Y.auth.updateUser({password:f});U?n({title:"Error",description:U.message,variant:"destructive"}):(C(!0),n({title:"Success",description:"Your password has been updated successfully."}),setTimeout(async()=>{await Y.auth.signOut(),t("/auth")},2e3))}catch(U){n({title:"Error",description:U.message||"Failed to update password.",variant:"destructive"})}N(!1)};return a||o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifying your request..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?pr:ou,alt:"Voxtro",className:"h-32"})})}),s.jsxs(J,{className:"border-0 shadow-lg",children:[s.jsxs(ae,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Cw,{className:"h-12 w-12 text-destructive"})}),s.jsx(ie,{className:"text-2xl",children:"Verification Failed"}),s.jsx(Se,{className:"text-destructive",children:d})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"The link may have expired or already been used. Please request a new password reset."}),s.jsx(te,{onClick:()=>t("/auth"),className:"w-full",children:"Back to Sign In"})]})]})]})}):S?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?pr:ou,alt:"Voxtro",className:"h-32"})})}),s.jsxs(J,{className:"border-0 shadow-lg",children:[s.jsxs(ae,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Qn,{className:"h-12 w-12 text-green-500"})}),s.jsx(ie,{className:"text-2xl",children:"Password Updated!"}),s.jsx(Se,{children:"Your password has been successfully changed."})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirecting you to the sign in page..."}),s.jsx(te,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In Now"})]})]})]})}):c&&E==="recovery"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?pr:ou,alt:"Voxtro",className:"h-32"})})}),s.jsxs(J,{className:"border-0 shadow-lg",children:[s.jsxs(ae,{className:"text-center",children:[s.jsx(ie,{className:"text-2xl",children:"Set New Password"}),s.jsx(Se,{children:"Enter your new password below"})]}),s.jsxs(ee,{children:[s.jsxs("form",{onSubmit:P,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(he,{id:"new-password",type:x?"text":"password",placeholder:"Enter your new password",value:f,onChange:B=>m(B.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:x?s.jsx(Yp,{className:"h-4 w-4"}):s.jsx(oa,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(he,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm your new password",value:v,onChange:B=>p(B.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:b?s.jsx(Yp,{className:"h-4 w-4"}):s.jsx(oa,{className:"h-4 w-4"})})]})]}),f&&v&&f!==v&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"}),s.jsx(te,{type:"submit",className:"w-full",disabled:j||!f||!v||f!==v,children:j?"Updating...":"Update Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:()=>t("/auth"),className:"text-sm text-muted-foreground hover:underline",children:"Back to Sign In"})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Something went wrong. Please try again."}),s.jsx(te,{onClick:()=>t("/auth"),className:"mt-4",children:"Back to Sign In"})]})})}const Zme=jf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xe({className:e,variant:t,...n}){return s.jsx("div",{className:ye(Zme({variant:t}),e),...n})}function ot(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Rr(e,t){const n=ot(e);return isNaN(t)?Fs(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function pi(e,t){const n=ot(e);if(isNaN(t))return Fs(e,NaN);if(!t)return n;const r=n.getDate(),a=Fs(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const AA=6048e5,epe=864e5,_V=6e4,NV=36e5,Rx=43200,d4=1440;let tpe={};function Df(){return tpe}function Ki(e,t){var l,c,u,d;const n=Df(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ot(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _u(e){return Ki(e,{weekStartsOn:1})}function SV(e){const t=ot(e),n=t.getFullYear(),r=Fs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=_u(r),i=Fs(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=_u(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Ih(e){const t=ot(e);return t.setHours(0,0,0,0),t}function Rh(e){const t=ot(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Fi(e,t){const n=Ih(e),r=Ih(t),a=+n-Rh(n),i=+r-Rh(r);return Math.round((a-i)/epe)}function npe(e){const t=SV(e),n=Fs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_u(n)}function HC(e,t){const n=t*7;return Rr(e,n)}function rpe(e,t){return pi(e,t*12)}function spe(e){let t;return e.forEach(function(n){const r=ot(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function ape(e){let t;return e.forEach(n=>{const r=ot(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Fy(e,t){const n=ot(e),r=ot(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function TA(e){return Fs(e,Date.now())}function Wr(e,t){const n=Ih(e),r=Ih(t);return+n==+r}function OA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ipe(e){if(!OA(e)&&typeof e!="number")return!1;const t=ot(e);return!isNaN(Number(t))}function $h(e,t){const n=ot(e),r=ot(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function ope(e,t,n){const r=Ki(e,n),a=Ki(t,n),i=+r-Rh(r),o=+a-Rh(a);return Math.round((i-o)/AA)}function lpe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function cpe(e,t){return+ot(e)-+ot(t)}function upe(e){const t=ot(e);return t.setHours(23,59,59,999),t}function nj(e){const t=ot(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function dpe(e){const t=ot(e);return+upe(t)==+nj(t)}function hpe(e,t){const n=ot(e),r=ot(t),a=Fy(n,r),i=Math.abs($h(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=Fy(n,r)===-a;dpe(ot(e))&&i===1&&Fy(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function fpe(e,t,n){const r=cpe(e,t)/1e3;return lpe(n==null?void 0:n.roundingMethod)(r)}function Is(e){const t=ot(e);return t.setDate(1),t.setHours(0,0,0,0),t}function CV(e){const t=ot(e),n=Fs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function MA(e,t){var l,c,u,d;const n=Df(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ot(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function kV(e){return MA(e,{weekStartsOn:1})}const mpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ppe=(e,t,n)=>{let r;const a=mpe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function T1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const gpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ype={date:T1({formats:gpe,defaultWidth:"full"}),time:T1({formats:vpe,defaultWidth:"full"}),dateTime:T1({formats:xpe,defaultWidth:"full"})},bpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wpe=(e,t,n,r)=>bpe[e];function bm(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const jpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_pe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Npe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Spe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Epe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ppe={ordinalNumber:Epe,era:bm({values:jpe,defaultWidth:"wide"}),quarter:bm({values:_pe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bm({values:Npe,defaultWidth:"wide"}),day:bm({values:Spe,defaultWidth:"wide"}),dayPeriod:bm({values:Cpe,defaultWidth:"wide",formattingValues:kpe,defaultFormattingWidth:"wide"})};function wm(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Tpe(l,h=>h.test(o)):Ape(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Ape(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Tpe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Ope(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Mpe=/^(\d+)(th|st|nd|rd)?/i,Dpe=/\d+/i,Ipe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rpe={any:[/^b/i,/^(a|c)/i]},$pe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lpe={any:[/1/i,/2/i,/3/i,/4/i]},Fpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Upe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wpe={ordinalNumber:Ope({matchPattern:Mpe,parsePattern:Dpe,valueCallback:e=>parseInt(e,10)}),era:wm({matchPatterns:Ipe,defaultMatchWidth:"wide",parsePatterns:Rpe,defaultParseWidth:"any"}),quarter:wm({matchPatterns:$pe,defaultMatchWidth:"wide",parsePatterns:Lpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wm({matchPatterns:Fpe,defaultMatchWidth:"wide",parsePatterns:Bpe,defaultParseWidth:"any"}),day:wm({matchPatterns:Upe,defaultMatchWidth:"wide",parsePatterns:zpe,defaultParseWidth:"any"}),dayPeriod:wm({matchPatterns:qpe,defaultMatchWidth:"any",parsePatterns:Vpe,defaultParseWidth:"any"})},DA={code:"en-US",formatDistance:ppe,formatLong:ype,formatRelative:wpe,localize:Ppe,match:Wpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hpe(e){const t=ot(e);return Fi(t,CV(t))+1}function EV(e){const t=ot(e),n=+_u(t)-+npe(t);return Math.round(n/AA)+1}function PV(e,t){var d,h,f,m;const n=ot(e),r=n.getFullYear(),a=Df(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Fs(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Ki(o,t),c=Fs(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ki(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Gpe(e,t){var l,c,u,d;const n=Df(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=PV(e,t),i=Fs(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Ki(i,t)}function AV(e,t){const n=ot(e),r=+Ki(n,t)-+Gpe(n,t);return Math.round(r/AA)+1}function en(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const el={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return en(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):en(n+1,2)},d(e,t){return en(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return en(e.getHours()%12||12,t.length)},H(e,t){return en(e.getHours(),t.length)},m(e,t){return en(e.getMinutes(),t.length)},s(e,t){return en(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return en(a,t.length)}},cd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h4={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return el.y(e,t)},Y:function(e,t,n,r){const a=PV(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return en(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):en(i,t.length)},R:function(e,t){const n=SV(e);return en(n,t.length)},u:function(e,t){const n=e.getFullYear();return en(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return en(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return en(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return el.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return en(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=AV(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):en(a,t.length)},I:function(e,t,n){const r=EV(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):en(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):el.d(e,t)},D:function(e,t,n){const r=Hpe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):en(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return en(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return en(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return en(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=cd.noon:r===0?a=cd.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=cd.evening:r>=12?a=cd.afternoon:r>=4?a=cd.morning:a=cd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return el.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):el.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):en(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):el.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):el.s(e,t)},S:function(e,t){return el.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return m4(r);case"XXXX":case"XX":return Ac(r);case"XXXXX":case"XXX":default:return Ac(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return m4(r);case"xxxx":case"xx":return Ac(r);case"xxxxx":case"xxx":default:return Ac(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+f4(r,":");case"OOOO":default:return"GMT"+Ac(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+f4(r,":");case"zzzz":default:return"GMT"+Ac(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return en(r,t.length)},T:function(e,t,n){const r=e.getTime();return en(r,t.length)}};function f4(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+en(i,2)}function m4(e,t){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):Ac(e,t)}function Ac(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=en(Math.trunc(r/60),2),i=en(r%60,2);return n+a+t+i}const p4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},TV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ype=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return p4(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",p4(r,t)).replace("{{time}}",TV(a,t))},Kpe={p:TV,P:Ype},Jpe=/^D+$/,Xpe=/^Y+$/,Qpe=["D","DD","YY","YYYY"];function Zpe(e){return Jpe.test(e)}function ege(e){return Xpe.test(e)}function tge(e,t,n){const r=nge(e,t,n);if(console.warn(r),Qpe.includes(e))throw new RangeError(r)}function nge(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,age=/^'([^]*?)'?$/,ige=/''/g,oge=/[a-zA-Z]/;function ct(e,t,n){var d,h,f,m,v,p,x,y;const r=Df(),a=(n==null?void 0:n.locale)??r.locale??DA,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=ot(e);if(!ipe(l))throw new RangeError("Invalid time value");let c=t.match(sge).map(b=>{const w=b[0];if(w==="p"||w==="P"){const j=Kpe[w];return j(b,a.formatLong)}return b}).join("").match(rge).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:lge(b)};if(h4[w])return{isToken:!0,value:b};if(w.match(oge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ege(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Zpe(w))&&tge(w,t,String(e));const j=h4[w[0]];return j(l,w,a.localize,u)}).join("")}function lge(e){const t=e.match(age);return t?t[1].replace(ige,"'"):e}function cge(e,t,n){const r=Df(),a=(n==null?void 0:n.locale)??r.locale??DA,i=2520,o=Fy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=ot(t),u=ot(e)):(c=ot(e),u=ot(t));const d=fpe(u,c),h=(Rh(u)-Rh(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<d4){const v=Math.round(f/60);return a.formatDistance("aboutXHours",v,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Rx){const v=Math.round(f/d4);return a.formatDistance("xDays",v,l)}else if(f<Rx*2)return m=Math.round(f/Rx),a.formatDistance("aboutXMonths",m,l)}if(m=hpe(u,c),m<12){const v=Math.round(f/Rx);return a.formatDistance("xMonths",v,l)}else{const v=m%12,p=Math.trunc(m/12);return v<3?a.formatDistance("aboutXYears",p,l):v<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function uge(e,t){return cge(e,TA(e),t)}function dge(e){const t=ot(e),n=t.getFullYear(),r=t.getMonth(),a=Fs(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function hge(e){return Math.trunc(+ot(e)/1e3)}function fge(e){const t=ot(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function mge(e,t){return ope(fge(e),Is(e),t)+1}function GC(e,t){const n=ot(e),r=ot(t);return n.getTime()>r.getTime()}function OV(e,t){const n=ot(e),r=ot(t);return+n<+r}function MV(e){return+ot(e)<Date.now()}function IA(e,t){const n=ot(e),r=ot(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function pge(e,t){const n=ot(e),r=ot(t);return n.getFullYear()===r.getFullYear()}function YC(e){return Wr(e,TA(e))}function gge(e){return Wr(e,Rr(TA(e),1))}function O1(e,t){return Rr(e,-t)}function KC(e,t){const r=bge(e);let a;if(r.date){const c=wge(r.date,2);a=jge(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=_ge(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=Nge(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const $x={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bge(e){const t={},n=e.split($x.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],$x.timeZoneDelimiter.test(t.date)&&(t.date=e.split($x.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=$x.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function wge(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function jge(e,t){if(t===null)return new Date(NaN);const n=e.match(vge);if(!n)return new Date(NaN);const r=!!n[4],a=jm(n[1]),i=jm(n[2])-1,o=jm(n[3]),l=jm(n[4]),c=jm(n[5])-1;if(r)return Pge(t,l,c)?Sge(t,l,c):new Date(NaN);{const u=new Date(0);return!kge(t,i,o)||!Ege(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function jm(e){return e?parseInt(e):1}function _ge(e){const t=e.match(xge);if(!t)return NaN;const n=M1(t[1]),r=M1(t[2]),a=M1(t[3]);return Age(n,r,a)?n*NV+r*_V+a*1e3:NaN}function M1(e){return e&&parseFloat(e.replace(",","."))||0}function Nge(e){if(e==="Z")return 0;const t=e.match(yge);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Tge(r,a)?n*(r*NV+a*_V):NaN}function Sge(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const Cge=[31,null,31,30,31,30,31,31,30,31,30,31];function DV(e){return e%400===0||e%4===0&&e%100!==0}function kge(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Cge[t]||(DV(e)?29:28))}function Ege(e,t){return t>=1&&t<=(DV(e)?366:365)}function Pge(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Age(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Tge(e,t){return t>=0&&t<=59}function D1(e,t){const n=ot(e),r=n.getFullYear(),a=n.getDate(),i=Fs(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=dge(i);return n.setMonth(t,Math.min(a,o)),n}function g4(e,t){const n=ot(e);return isNaN(+n)?Fs(e,NaN):(n.setFullYear(t),n)}const dt=g.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));dt.displayName="Textarea";const zn=SA,qu=pV,Oge=CA,IV=g.forwardRef(({className:e,...t},n)=>s.jsx(yv,{ref:n,className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IV.displayName=yv.displayName;const Dn=g.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Oge,{children:[s.jsx(IV,{}),s.jsxs(bv,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(ej,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Qi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dn.displayName=bv.displayName;const In=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});In.displayName="DialogHeader";const Ev=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ev.displayName="DialogFooter";const Rn=g.forwardRef(({className:e,...t},n)=>s.jsx(wv,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));Rn.displayName=wv.displayName;const la=g.forwardRef(({className:e,...t},n)=>s.jsx(jv,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));la.displayName=jv.displayName;async function Mge(e,t){return bt.get(`/api/permissions/assignment/${e}/${t}`)}async function Dge(e,t,n){return bt.post(`/api/permissions/assignment/${e}/${t}`,{permissions:n})}async function Ige(e){const t=e?`?agent_type=${e}`:"";return bt.get(`/api/permissions/content/pending${t}`)}async function v4(e,t,n){return bt.post(`/api/permissions/content/${e}/review`,{action:t,notes:n})}async function Rge(e){return bt.get(`/api/permissions/customers/${e}/assignments`)}async function $ge(){return bt.get("/api/customers/portal/permissions")}async function Lge(){return bt.get("/api/customers/portal/content")}async function Fge(e){return bt.post("/api/customers/portal/content",{assistant_id:e.assistant_id,chatbot_id:e.chatbot_id,content_type:"faq",title:e.question,content:e.answer})}async function Bge(e){return bt.delete(`/api/customers/portal/content/${e}`)}async function Uge(){const{data:e,error:t}=await Y.from("customer_crawl_urls").select(`
      *,
      voice_assistants!inner(name)
    `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching crawl URLs:",t),new Error(t.message);return{crawl_urls:(e||[]).map(r=>{var a;return{...r,assistant_name:(a=r.voice_assistants)==null?void 0:a.name}})}}async function zge(e){const{data:{user:t}}=await Y.auth.getUser();if(!(t!=null&&t.email))throw new Error("Not authenticated");const{data:n,error:r}=await Y.from("customers").select("id").eq("email",t.email).single();if(r||!n)throw new Error("Customer not found");const{data:a,error:i}=await Y.from("customer_crawl_urls").insert({customer_id:n.id,assistant_id:e.assistant_id,url:e.url,description:e.description,crawl_frequency:e.crawl_frequency,status:"pending"}).select().single();if(i)throw console.error("Error submitting crawl URL:",i),new Error(i.message);return{crawl_url:a,message:"URL submitted for review"}}async function qge(e){const{error:t}=await Y.from("customer_crawl_urls").delete().eq("id",e).eq("status","pending");if(t)throw console.error("Error deleting crawl URL:",t),new Error(t.message);return{success:!0,message:"URL deleted"}}async function Vge(){const{data:e,error:t}=await Y.from("customer_crawl_urls").select(`
      *,
      voice_assistants!inner(name),
      customers!inner(email, full_name)
    `).eq("status","pending").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching pending crawl URLs:",t),new Error(t.message);return{crawl_urls:(e||[]).map(r=>{var a;return{...r,assistant_name:(a=r.voice_assistants)==null?void 0:a.name,customers:r.customers}})}}async function x4(e,t,n){const{data:{user:r}}=await Y.auth.getUser();if(!r)throw new Error("Not authenticated");let a;switch(t){case"approve":a="active";break;case"reject":a="rejected";break;case"pause":a="paused";break;case"activate":a="active";break;default:throw new Error("Invalid action")}const{error:i}=await Y.from("customer_crawl_urls").update({status:a,reviewed_by:r.id,reviewed_at:new Date().toISOString(),review_notes:n||null}).eq("id",e);if(i)throw console.error("Error reviewing crawl URL:",i),new Error(i.message);return{success:!0,action:t,message:t==="approve"?"URL approved and set to active":`URL ${t}ed`}}function Wge(e,t,n,r){const a=e.find(o=>o.agent_type===t&&o.agent_id===n);if(!a)return!1;const i=a.permissions.find(o=>o.id===r);return(i==null?void 0:i.is_enabled)??!1}function RV({agentType:e}){var b;const[t,n]=g.useState([]),[r,a]=g.useState(!0);g.useState(null);const[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(""),[h,f]=g.useState(!1);g.useEffect(()=>{m()},[e]);const m=async()=>{var w;try{a(!0),console.log("[PendingContentReview] Fetching pending content, agentType:",e);const j=await Ige(e);console.log("[PendingContentReview] API response:",j),console.log("[PendingContentReview] Content count:",((w=j.content)==null?void 0:w.length)||0),n(j.content||[])}catch(j){console.error("[PendingContentReview] Failed to fetch pending content:",j),pe.error("Failed to load pending content")}finally{a(!1)}},v=w=>{c(w),d(""),o(!0)},p=async()=>{if(l){f(!0);try{const w=await v4(l.id,"approve",u);pe.success(w.message||"Content approved and applied"),o(!1),m()}catch(w){console.error("Failed to approve content:",w),pe.error("Failed to approve content")}finally{f(!1)}}},x=async()=>{if(l){f(!0);try{await v4(l.id,"reject",u),pe.success("Content rejected"),o(!1),m()}catch(w){console.error("Failed to reject content:",w),pe.error("Failed to reject content")}finally{f(!1)}}},y=w=>{switch(w){case"voice":return s.jsx(Nt,{className:"h-4 w-4"});case"chatbot":return s.jsx(Ze,{className:"h-4 w-4"});default:return s.jsx(BD,{className:"h-4 w-4"})}};return r?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?s.jsx(J,{children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx(BD,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"font-medium",children:"No pending content"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer-submitted FAQs and content will appear here for review."})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Pending Content"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and approve customer-submitted FAQs"})]}),s.jsxs(xe,{variant:"secondary",children:[t.length," pending"]})]}),s.jsx("div",{className:"space-y-3",children:t.map(w=>{var j,N;return s.jsx(J,{className:"hover:border-primary/50 transition-colors",children:s.jsx(ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[y(w.agent_type),s.jsx("span",{className:"font-medium text-sm",children:w.agent_name}),s.jsx(xe,{variant:"outline",className:"text-xs",children:w.content_type.toUpperCase()})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"font-medium",children:["Q: ",w.title]}),s.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:["A: ",w.content]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(_n,{className:"h-3 w-3"}),s.jsx("span",{children:((j=w.customers)==null?void 0:j.full_name)||((N=w.customers)==null?void 0:N.email)||"Unknown"}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(w.created_at).toLocaleDateString()})]})]}),s.jsx(te,{size:"sm",onClick:()=>v(w),children:"Review"})]})})},w.id)})})]}),s.jsx(zn,{open:i,onOpenChange:o,children:s.jsxs(Dn,{className:"max-w-lg",children:[s.jsxs(In,{children:[s.jsxs(Rn,{className:"flex items-center gap-2",children:[y(l==null?void 0:l.agent_type),"Review Customer FAQ"]}),s.jsxs(la,{children:["Review this FAQ submission from ",((b=l==null?void 0:l.customers)==null?void 0:b.full_name)||"a customer"]})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{variant:"outline",children:l.agent_name}),s.jsx(xe,{variant:"secondary",children:l.content_type})]}),s.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Question"}),s.jsx("p",{className:"font-medium",children:l.title})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Answer"}),s.jsx("p",{children:l.content})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Review Notes (optional)"}),s.jsx(dt,{placeholder:"Add notes about your decision...",value:u,onChange:w=>d(w.target.value),rows:3})]}),l.agent_type==="voice"&&s.jsxs("div",{className:"rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Approving this FAQ will automatically add it to the voice assistant's system prompt in VAPI."]})]}),s.jsxs(Ev,{className:"gap-2 sm:gap-0",children:[s.jsx(te,{variant:"destructive",onClick:x,disabled:h,children:h?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Reject"]})}),s.jsx(te,{onClick:p,disabled:h,children:h?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{className:"mr-2 h-4 w-4"}),"Approve & Apply"]})})]})]})})]})}function Hge(){const{user:e,loading:t}=Ut(),{toast:n}=En(),r=Ar(),[a,i]=g.useState({totalChatbots:0,activeChatbots:0,totalConversations:0,totalMessages:0,totalVoiceAssistants:0,totalVoiceCalls:0,totalCallMinutes:0,avgMessagesPerConversation:0,avgCallDuration:0,totalWhatsAppAgents:0,activeWhatsAppAgents:0,totalWhatsAppConversations:0,totalWhatsAppMessages:0,totalCustomers:0,openTickets:0}),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,h]=g.useState([]),[f,m]=g.useState([]),[v,p]=g.useState(!0),x=async()=>{if(!(e!=null&&e.id)){p(!1);return}try{const{data:E,error:A}=await Y.from("chatbots").select("id, is_active").eq("user_id",e.id);if(A)throw A;const P=(E==null?void 0:E.length)||0,B=(E==null?void 0:E.filter(Ne=>Ne.is_active).length)||0,U=(E==null?void 0:E.map(Ne=>Ne.id))||[];let I=0;if(U.length>0){const{count:Ne,error:oe}=await Y.from("conversations").select("*",{count:"exact",head:!0}).in("chatbot_id",U);if(oe)throw oe;I=Ne||0}let L=0;if(U.length>0){const{count:Ne,error:oe}=await Y.from("messages").select("id, conversations!inner(chatbot_id)",{count:"exact",head:!0}).in("conversations.chatbot_id",U);if(oe)throw oe;L=Ne||0}const{data:M,error:$}=await Y.from("voice_assistants").select("id, name, org_id");if($)throw $;const R=(M==null?void 0:M.length)||0,F=(M==null?void 0:M.map(Ne=>Ne.id))||[];u(M||[]);let D=0,H=0,z=0;if(F.length>0){const{count:Ne,error:oe}=await Y.from("voice_assistant_calls").select("*",{count:"exact",head:!0}).in("assistant_id",F);if(oe)throw oe;D=Ne||0;const{data:de,error:Pe}=await Y.from("voice_assistant_calls").select("duration_seconds").in("assistant_id",F).not("duration_seconds","is",null).gt("duration_seconds",0).limit(5e4);if(Pe)throw Pe;if(de&&de.length>0){const Ie=de.reduce((nt,Q)=>nt+(Q.duration_seconds||0),0);H=de.length>0?Math.round(Ie/de.length):0,z=Math.round(Ie/60)}}const{data:_,error:O}=await Y.from("whatsapp_agents").select("id, status").eq("user_id",e.id);if(O)throw O;const T=(_==null?void 0:_.length)||0,q=(_==null?void 0:_.filter(Ne=>Ne.status==="active").length)||0,W=(_==null?void 0:_.map(Ne=>Ne.id))||[];let K=0;if(W.length>0){const{count:Ne,error:oe}=await Y.from("whatsapp_conversations").select("*",{count:"exact",head:!0}).in("agent_id",W);if(oe)throw oe;K=Ne||0}let G=0;if(W.length>0){const{count:Ne,error:oe}=await Y.from("whatsapp_messages").select("id, whatsapp_conversations!inner(agent_id)",{count:"exact",head:!0}).in("whatsapp_conversations.agent_id",W);if(oe)throw oe;G=Ne||0}const{count:V,error:se}=await Y.from("customers").select("*",{count:"exact",head:!0});if(se)throw se;const{count:re,error:je}=await Y.from("support_tickets").select("*",{count:"exact",head:!0}).eq("user_id",e.id).in("status",["open","in_progress"]);if(je)throw je;const{data:be,error:ce}=await Y.from("voice_assistant_tasks").select("*").eq("user_id",e.id).in("status",["pending","in-progress"]).order("due_date",{ascending:!0,nullsFirst:!1}).limit(5);if(ce)throw ce;l(be||[]);const{data:Z,error:ge}=await Y.from("support_tickets").select("id, subject, status, priority, customer_name, created_at, updated_at").eq("user_id",e.id).order("updated_at",{ascending:!1}).limit(5);if(ge)throw ge;h(Z||[]);const ke=[];if(U.length>0){const{data:Ne}=await Y.from("conversations").select("id, created_at, chatbot_id").in("chatbot_id",U).order("created_at",{ascending:!1}).limit(3);if(Ne)for(const oe of Ne){const de=E==null?void 0:E.find(Pe=>Pe.id===oe.chatbot_id);ke.push({id:`conv-${oe.id}`,type:"conversation",title:"New chatbot conversation",subtitle:de?"Chatbot":"Unknown chatbot",timestamp:oe.created_at})}}if(F.length>0){const{data:Ne}=await Y.from("voice_assistant_calls").select("id, created_at, assistant_id, duration_seconds").in("assistant_id",F).order("created_at",{ascending:!1}).limit(3);if(Ne)for(const oe of Ne){const de=M==null?void 0:M.find(Pe=>Pe.id===oe.assistant_id);ke.push({id:`call-${oe.id}`,type:"call",title:"Voice call",subtitle:(de==null?void 0:de.name)||"Voice Assistant",timestamp:oe.created_at})}}if(W.length>0){const{data:Ne}=await Y.from("whatsapp_conversations").select("id, created_at, agent_id").in("agent_id",W).order("created_at",{ascending:!1}).limit(3);if(Ne)for(const oe of Ne)ke.push({id:`wa-${oe.id}`,type:"whatsapp",title:"WhatsApp conversation",subtitle:"WhatsApp Agent",timestamp:oe.created_at})}if(Z)for(const Ne of Z.slice(0,3))ke.push({id:`ticket-${Ne.id}`,type:"ticket",title:Ne.subject,subtitle:Ne.customer_name,timestamp:Ne.updated_at});ke.sort((Ne,oe)=>new Date(oe.timestamp).getTime()-new Date(Ne.timestamp).getTime()),m(ke.slice(0,8));const me=I>0?Math.round(L/I):0;i({totalChatbots:P,activeChatbots:B,totalConversations:I,totalMessages:L,totalVoiceAssistants:R,totalVoiceCalls:D,totalCallMinutes:z,avgMessagesPerConversation:me,avgCallDuration:H,totalWhatsAppAgents:T,activeWhatsAppAgents:q,totalWhatsAppConversations:K,totalWhatsAppMessages:G,totalCustomers:V||0,openTickets:re||0})}catch(E){console.error("Error fetching stats:",E),n({title:"Error",description:"Failed to load dashboard statistics",variant:"destructive"})}finally{p(!1)}};g.useEffect(()=>{if(!t&&!(e!=null&&e.id)){p(!1);return}if(e!=null&&e.id&&!t){x();const E=Y.channel("dashboard-chatbots").on("postgres_changes",{event:"*",schema:"public",table:"chatbots"},x).subscribe(),A=Y.channel("dashboard-conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},x).subscribe(),P=Y.channel("dashboard-messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},x).subscribe(),B=Y.channel("dashboard-assistants").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistants"},x).subscribe(),U=Y.channel("dashboard-calls").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls"},x).subscribe(),I=Y.channel("dashboard-tasks").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_tasks"},x).subscribe(),L=Y.channel("dashboard-whatsapp-agents").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_agents"},x).subscribe(),M=Y.channel("dashboard-whatsapp-conversations").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},x).subscribe(),$=Y.channel("dashboard-whatsapp-messages").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_messages"},x).subscribe(),R=Y.channel("dashboard-tickets").on("postgres_changes",{event:"*",schema:"public",table:"support_tickets"},x).subscribe();return()=>{Y.removeChannel(E),Y.removeChannel(A),Y.removeChannel(P),Y.removeChannel(B),Y.removeChannel(U),Y.removeChannel(I),Y.removeChannel(L),Y.removeChannel(M),Y.removeChannel($),Y.removeChannel(R)}}},[e==null?void 0:e.id,t]);const y=E=>{const A=c.find(P=>P.id===E);return(A==null?void 0:A.name)||"Unknown Assistant"},b=E=>{switch(E){case"urgent":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},w=E=>{switch(E){case"completed":return s.jsx(Gr,{className:"h-4 w-4 text-green-500"});case"in-progress":return s.jsx(Dt,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})}},j=E=>{if(!E)return null;const A=KC(E);return MV(A)&&!YC(A)?{label:"Overdue",className:"text-destructive"}:YC(A)?{label:"Today",className:"text-primary"}:gge(A)?{label:"Tomorrow",className:"text-yellow-600"}:{label:ct(A,"MMM d"),className:"text-muted-foreground"}},N=E=>{if(E<60)return`${E}s`;const A=Math.floor(E/60);if(A<60)return`${A}m`;const P=Math.floor(A/60),B=A%60;return`${P}h ${B}m`},S=E=>{switch(E){case"open":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"in_progress":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"resolved":return"bg-green-500/10 text-green-600 border-green-500/20";case"closed":return"bg-gray-500/10 text-gray-600 border-gray-500/20";default:return"bg-gray-500/10 text-gray-600 border-gray-500/20"}},C=E=>{switch(E){case"urgent":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},k=E=>{switch(E){case"conversation":return s.jsx(Ht,{className:"h-4 w-4 text-primary"});case"call":return s.jsx(Nt,{className:"h-4 w-4 text-chart-5"});case"whatsapp":return s.jsx(Jt,{className:"h-4 w-4 text-green-500"});case"ticket":return s.jsx(sa,{className:"h-4 w-4 text-yellow-500"});default:return s.jsx(au,{className:"h-4 w-4 text-muted-foreground"})}};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(au,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})}):!t&&!e?s.jsx(Os,{to:"/auth",replace:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor your AI agents and customer interactions"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-full",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Live"]})})]}),v?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((E,A)=>s.jsx("div",{className:"h-28 bg-muted rounded-xl animate-pulse"},A))}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[...Array(3)].map((E,A)=>s.jsx("div",{className:"h-64 bg-muted rounded-xl animate-pulse"},A))})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(J,{className:"p-5 cursor-pointer hover:shadow-md transition-all border-0 bg-gradient-to-br from-primary/5 to-primary/10",onClick:()=>r("/chatbots"),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Conversations"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:(a.totalConversations+a.totalWhatsAppConversations+a.totalVoiceCalls).toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Across all agents"})]}),s.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:s.jsx(Ht,{className:"h-5 w-5 text-primary"})})]})}),s.jsx(J,{className:"p-5 cursor-pointer hover:shadow-md transition-all border-0 bg-gradient-to-br from-chart-5/5 to-chart-5/10",onClick:()=>r("/voice-assistants"),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Voice Minutes"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:a.totalCallMinutes.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.totalVoiceCalls," total calls"]})]}),s.jsx("div",{className:"p-2.5 bg-chart-5/10 rounded-xl",children:s.jsx(Nt,{className:"h-5 w-5 text-chart-5"})})]})}),s.jsx(J,{className:"p-5 cursor-pointer hover:shadow-md transition-all border-0 bg-gradient-to-br from-chart-2/5 to-chart-2/10",onClick:()=>r("/customers"),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Customers"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:a.totalCustomers}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active accounts"})]}),s.jsx("div",{className:"p-2.5 bg-chart-2/10 rounded-xl",children:s.jsx(dn,{className:"h-5 w-5 text-chart-2"})})]})}),s.jsx(J,{className:`p-5 cursor-pointer hover:shadow-md transition-all border-0 ${a.openTickets>0?"bg-gradient-to-br from-yellow-500/5 to-yellow-500/10":"bg-gradient-to-br from-green-500/5 to-green-500/10"}`,onClick:()=>r("/support-tickets"),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Open Tickets"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:a.openTickets}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.openTickets===0?"All resolved":"Need attention"})]}),s.jsx("div",{className:`p-2.5 rounded-xl ${a.openTickets>0?"bg-yellow-500/10":"bg-green-500/10"}`,children:s.jsx(sa,{className:`h-5 w-5 ${a.openTickets>0?"text-yellow-500":"text-green-500"}`})})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Gl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("h2",{className:"font-semibold",children:"Agent Performance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(J,{className:"overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-muted/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:s.jsx(Ze,{className:"h-4 w-4 text-primary"})}),s.jsx("span",{className:"font-medium",children:"Chatbots"})]}),s.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r("/chatbots"),children:s.jsx(ss,{className:"h-4 w-4"})})]})}),s.jsxs(ee,{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:a.totalConversations.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:a.totalMessages.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsxs("span",{className:"font-medium",children:[a.activeChatbots," / ",a.totalChatbots]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.avgMessagesPerConversation})]})]})]})]}),s.jsxs(J,{className:"overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-muted/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-chart-5/10 rounded-lg",children:s.jsx(Nt,{className:"h-4 w-4 text-chart-5"})}),s.jsx("span",{className:"font-medium",children:"Voice Assistants"})]}),s.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r("/voice-assistants"),children:s.jsx(ss,{className:"h-4 w-4"})})]})}),s.jsxs(ee,{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:a.totalVoiceCalls.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:a.totalCallMinutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:a.totalVoiceAssistants})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg duration"}),s.jsx("span",{className:"font-medium",children:N(a.avgCallDuration)})]})]})]})]}),s.jsxs(J,{className:"overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-muted/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-lg",children:s.jsx(Jt,{className:"h-4 w-4 text-green-500"})}),s.jsx("span",{className:"font-medium",children:"WhatsApp Agents"})]}),s.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>r("/whatsapp-agents"),children:s.jsx(ss,{className:"h-4 w-4"})})]})}),s.jsxs(ee,{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:a.totalWhatsAppConversations.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:a.totalWhatsAppMessages.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active agents"}),s.jsxs("span",{className:"font-medium",children:[a.activeWhatsAppAgents," / ",a.totalWhatsAppAgents]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.totalWhatsAppConversations>0?Math.round(a.totalWhatsAppMessages/a.totalWhatsAppConversations):0})]})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsx(ae,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sa,{className:"h-4 w-4 text-yellow-500"}),s.jsx(ie,{className:"text-base",children:"Recent Support Tickets"})]}),s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>r("/support-tickets"),children:["View All",s.jsx(ss,{className:"h-4 w-4 ml-1"})]})]})}),s.jsx(ee,{children:d.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Gr,{className:"h-10 w-10 mx-auto mb-2 opacity-30"}),s.jsx("p",{className:"text-sm font-medium",children:"No tickets"}),s.jsx("p",{className:"text-xs mt-1",children:"All customer issues resolved"})]}):s.jsx("div",{className:"space-y-2",children:d.map(E=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>r("/support-tickets"),children:[s.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:E.subject}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:E.customer_name})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(xe,{variant:C(E.priority),className:"capitalize text-xs",children:E.priority}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${S(E.status)}`,children:E.status.replace("_"," ")})]})]},E.id))})})]}),s.jsxs(J,{children:[s.jsx(ae,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(au,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(ie,{className:"text-base",children:"Recent Activity"})]})}),s.jsx(ee,{children:f.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Mo,{className:"h-10 w-10 mx-auto mb-2 opacity-30"}),s.jsx("p",{className:"text-sm font-medium",children:"No recent activity"}),s.jsx("p",{className:"text-xs mt-1",children:"Activity will appear here"})]}):s.jsx("div",{className:"space-y-1",children:f.map(E=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"p-1.5 bg-muted rounded-lg",children:k(E.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:E.title}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:E.subtitle})]}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:uge(new Date(E.timestamp),{addSuffix:!0})})]},E.id))})})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(AU,{className:"h-4 w-4 text-amber-500"}),s.jsx(ie,{className:"text-base",children:"Customer Content Reviews"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and approve customer-submitted FAQs and content"})]}),s.jsx(ee,{children:s.jsx(RV,{})})]}),o.length>0&&s.jsxs(J,{children:[s.jsx(ae,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-4 w-4 text-chart-3"}),s.jsx(ie,{className:"text-base",children:"Upcoming Tasks"})]}),s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>r("/voice-tasks"),children:["View All",s.jsx(ss,{className:"h-4 w-4 ml-1"})]})]})}),s.jsx(ee,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:o.map(E=>{const A=j(E.due_date);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>r("/voice-tasks"),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[w(E.status),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:E.title}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:y(E.assistant_id)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(xe,{variant:b(E.priority),className:"capitalize text-xs",children:E.priority}),A&&s.jsx("span",{className:`text-xs font-medium ${A.className}`,children:A.label})]})]},E.id)})})})]})]})]})}var Gge=Array.isArray,Bs=Gge,Yge=typeof Un=="object"&&Un&&Un.Object===Object&&Un,$V=Yge,Kge=$V,Jge=typeof self=="object"&&self&&self.Object===Object&&self,Xge=Kge||Jge||Function("return this")(),to=Xge,Qge=to,Zge=Qge.Symbol,Pv=Zge,y4=Pv,LV=Object.prototype,eve=LV.hasOwnProperty,tve=LV.toString,_m=y4?y4.toStringTag:void 0;function nve(e){var t=eve.call(e,_m),n=e[_m];try{e[_m]=void 0;var r=!0}catch{}var a=tve.call(e);return r&&(t?e[_m]=n:delete e[_m]),a}var rve=nve,sve=Object.prototype,ave=sve.toString;function ive(e){return ave.call(e)}var ove=ive,b4=Pv,lve=rve,cve=ove,uve="[object Null]",dve="[object Undefined]",w4=b4?b4.toStringTag:void 0;function hve(e){return e==null?e===void 0?dve:uve:w4&&w4 in Object(e)?lve(e):cve(e)}var zo=hve;function fve(e){return e!=null&&typeof e=="object"}var qo=fve,mve=zo,pve=qo,gve="[object Symbol]";function vve(e){return typeof e=="symbol"||pve(e)&&mve(e)==gve}var If=vve,xve=Bs,yve=If,bve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wve=/^\w*$/;function jve(e,t){if(xve(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||yve(e)?!0:wve.test(e)||!bve.test(e)||t!=null&&e in Object(t)}var RA=jve;function _ve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cc=_ve;const Rf=Qt(cc);var Nve=zo,Sve=cc,Cve="[object AsyncFunction]",kve="[object Function]",Eve="[object GeneratorFunction]",Pve="[object Proxy]";function Ave(e){if(!Sve(e))return!1;var t=Nve(e);return t==kve||t==Eve||t==Cve||t==Pve}var $A=Ave;const jt=Qt($A);var Tve=to,Ove=Tve["__core-js_shared__"],Mve=Ove,I1=Mve,j4=function(){var e=/[^.]+$/.exec(I1&&I1.keys&&I1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dve(e){return!!j4&&j4 in e}var Ive=Dve,Rve=Function.prototype,$ve=Rve.toString;function Lve(e){if(e!=null){try{return $ve.call(e)}catch{}try{return e+""}catch{}}return""}var FV=Lve,Fve=$A,Bve=Ive,Uve=cc,zve=FV,qve=/[\\^$.*+?()[\]{}|]/g,Vve=/^\[object .+?Constructor\]$/,Wve=Function.prototype,Hve=Object.prototype,Gve=Wve.toString,Yve=Hve.hasOwnProperty,Kve=RegExp("^"+Gve.call(Yve).replace(qve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jve(e){if(!Uve(e)||Bve(e))return!1;var t=Fve(e)?Kve:Vve;return t.test(zve(e))}var Xve=Jve;function Qve(e,t){return e==null?void 0:e[t]}var Zve=Qve,exe=Xve,txe=Zve;function nxe(e,t){var n=txe(e,t);return exe(n)?n:void 0}var Vu=nxe,rxe=Vu,sxe=rxe(Object,"create"),rj=sxe,_4=rj;function axe(){this.__data__=_4?_4(null):{},this.size=0}var ixe=axe;function oxe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lxe=oxe,cxe=rj,uxe="__lodash_hash_undefined__",dxe=Object.prototype,hxe=dxe.hasOwnProperty;function fxe(e){var t=this.__data__;if(cxe){var n=t[e];return n===uxe?void 0:n}return hxe.call(t,e)?t[e]:void 0}var mxe=fxe,pxe=rj,gxe=Object.prototype,vxe=gxe.hasOwnProperty;function xxe(e){var t=this.__data__;return pxe?t[e]!==void 0:vxe.call(t,e)}var yxe=xxe,bxe=rj,wxe="__lodash_hash_undefined__";function jxe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bxe&&t===void 0?wxe:t,this}var _xe=jxe,Nxe=ixe,Sxe=lxe,Cxe=mxe,kxe=yxe,Exe=_xe;function $f(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$f.prototype.clear=Nxe;$f.prototype.delete=Sxe;$f.prototype.get=Cxe;$f.prototype.has=kxe;$f.prototype.set=Exe;var Pxe=$f;function Axe(){this.__data__=[],this.size=0}var Txe=Axe;function Oxe(e,t){return e===t||e!==e&&t!==t}var LA=Oxe,Mxe=LA;function Dxe(e,t){for(var n=e.length;n--;)if(Mxe(e[n][0],t))return n;return-1}var sj=Dxe,Ixe=sj,Rxe=Array.prototype,$xe=Rxe.splice;function Lxe(e){var t=this.__data__,n=Ixe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():$xe.call(t,n,1),--this.size,!0}var Fxe=Lxe,Bxe=sj;function Uxe(e){var t=this.__data__,n=Bxe(t,e);return n<0?void 0:t[n][1]}var zxe=Uxe,qxe=sj;function Vxe(e){return qxe(this.__data__,e)>-1}var Wxe=Vxe,Hxe=sj;function Gxe(e,t){var n=this.__data__,r=Hxe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Yxe=Gxe,Kxe=Txe,Jxe=Fxe,Xxe=zxe,Qxe=Wxe,Zxe=Yxe;function Lf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Lf.prototype.clear=Kxe;Lf.prototype.delete=Jxe;Lf.prototype.get=Xxe;Lf.prototype.has=Qxe;Lf.prototype.set=Zxe;var aj=Lf,eye=Vu,tye=to,nye=eye(tye,"Map"),FA=nye,N4=Pxe,rye=aj,sye=FA;function aye(){this.size=0,this.__data__={hash:new N4,map:new(sye||rye),string:new N4}}var iye=aye;function oye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lye=oye,cye=lye;function uye(e,t){var n=e.__data__;return cye(t)?n[typeof t=="string"?"string":"hash"]:n.map}var ij=uye,dye=ij;function hye(e){var t=dye(this,e).delete(e);return this.size-=t?1:0,t}var fye=hye,mye=ij;function pye(e){return mye(this,e).get(e)}var gye=pye,vye=ij;function xye(e){return vye(this,e).has(e)}var yye=xye,bye=ij;function wye(e,t){var n=bye(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var jye=wye,_ye=iye,Nye=fye,Sye=gye,Cye=yye,kye=jye;function Ff(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ff.prototype.clear=_ye;Ff.prototype.delete=Nye;Ff.prototype.get=Sye;Ff.prototype.has=Cye;Ff.prototype.set=kye;var BA=Ff,BV=BA,Eye="Expected a function";function UA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Eye);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(UA.Cache||BV),n}UA.Cache=BV;var UV=UA;const Pye=Qt(UV);var Aye=UV,Tye=500;function Oye(e){var t=Aye(e,function(r){return n.size===Tye&&n.clear(),r}),n=t.cache;return t}var Mye=Oye,Dye=Mye,Iye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rye=/\\(\\)?/g,$ye=Dye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Iye,function(n,r,a,i){t.push(a?i.replace(Rye,"$1"):r||n)}),t}),Lye=$ye;function Fye(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var zA=Fye,S4=Pv,Bye=zA,Uye=Bs,zye=If,qye=1/0,C4=S4?S4.prototype:void 0,k4=C4?C4.toString:void 0;function zV(e){if(typeof e=="string")return e;if(Uye(e))return Bye(e,zV)+"";if(zye(e))return k4?k4.call(e):"";var t=e+"";return t=="0"&&1/e==-qye?"-0":t}var Vye=zV,Wye=Vye;function Hye(e){return e==null?"":Wye(e)}var qV=Hye,Gye=Bs,Yye=RA,Kye=Lye,Jye=qV;function Xye(e,t){return Gye(e)?e:Yye(e,t)?[e]:Kye(Jye(e))}var VV=Xye,Qye=If,Zye=1/0;function ebe(e){if(typeof e=="string"||Qye(e))return e;var t=e+"";return t=="0"&&1/e==-Zye?"-0":t}var oj=ebe,tbe=VV,nbe=oj;function rbe(e,t){t=tbe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[nbe(t[n++])];return n&&n==r?e:void 0}var qA=rbe,sbe=qA;function abe(e,t,n){var r=e==null?void 0:sbe(e,t);return r===void 0?n:r}var WV=abe;const Aa=Qt(WV);function ibe(e){return e==null}var obe=ibe;const St=Qt(obe);var lbe=zo,cbe=Bs,ube=qo,dbe="[object String]";function hbe(e){return typeof e=="string"||!cbe(e)&&ube(e)&&lbe(e)==dbe}var fbe=hbe;const Av=Qt(fbe);var HV={exports:{}},sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=Symbol.for("react.element"),WA=Symbol.for("react.portal"),lj=Symbol.for("react.fragment"),cj=Symbol.for("react.strict_mode"),uj=Symbol.for("react.profiler"),dj=Symbol.for("react.provider"),hj=Symbol.for("react.context"),mbe=Symbol.for("react.server_context"),fj=Symbol.for("react.forward_ref"),mj=Symbol.for("react.suspense"),pj=Symbol.for("react.suspense_list"),gj=Symbol.for("react.memo"),vj=Symbol.for("react.lazy"),pbe=Symbol.for("react.offscreen"),GV;GV=Symbol.for("react.module.reference");function Ba(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VA:switch(e=e.type,e){case lj:case uj:case cj:case mj:case pj:return e;default:switch(e=e&&e.$$typeof,e){case mbe:case hj:case fj:case vj:case gj:case dj:return e;default:return t}}case WA:return t}}}sn.ContextConsumer=hj;sn.ContextProvider=dj;sn.Element=VA;sn.ForwardRef=fj;sn.Fragment=lj;sn.Lazy=vj;sn.Memo=gj;sn.Portal=WA;sn.Profiler=uj;sn.StrictMode=cj;sn.Suspense=mj;sn.SuspenseList=pj;sn.isAsyncMode=function(){return!1};sn.isConcurrentMode=function(){return!1};sn.isContextConsumer=function(e){return Ba(e)===hj};sn.isContextProvider=function(e){return Ba(e)===dj};sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VA};sn.isForwardRef=function(e){return Ba(e)===fj};sn.isFragment=function(e){return Ba(e)===lj};sn.isLazy=function(e){return Ba(e)===vj};sn.isMemo=function(e){return Ba(e)===gj};sn.isPortal=function(e){return Ba(e)===WA};sn.isProfiler=function(e){return Ba(e)===uj};sn.isStrictMode=function(e){return Ba(e)===cj};sn.isSuspense=function(e){return Ba(e)===mj};sn.isSuspenseList=function(e){return Ba(e)===pj};sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lj||e===uj||e===cj||e===mj||e===pj||e===pbe||typeof e=="object"&&e!==null&&(e.$$typeof===vj||e.$$typeof===gj||e.$$typeof===dj||e.$$typeof===hj||e.$$typeof===fj||e.$$typeof===GV||e.getModuleId!==void 0)};sn.typeOf=Ba;HV.exports=sn;var YV=HV.exports,gbe=zo,vbe=qo,xbe="[object Number]";function ybe(e){return typeof e=="number"||vbe(e)&&gbe(e)==xbe}var KV=ybe;const bbe=Qt(KV);var wbe=KV;function jbe(e){return wbe(e)&&e!=+e}var _be=jbe;const Tv=Qt(_be);var oi=function(t){return t===0?0:t>0?1:-1},Wc=function(t){return Av(t)&&t.indexOf("%")===t.length-1},Re=function(t){return bbe(t)&&!Tv(t)},ir=function(t){return Re(t)||Av(t)},Nbe=0,Ov=function(t){var n=++Nbe;return"".concat(t||"").concat(n)},Nu=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(t)&&!Av(t))return r;var i;if(Wc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Tv(i)&&(i=r),a&&i>n&&(i=n),i},xl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Sbe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},ai=function(t,n){return Re(t)&&Re(n)?function(r){return t+r*(n-t)}:function(){return n}};function Ib(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Aa(r,t))===n})}function Jd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}var Cbe=["viewBox","children"],kbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],E4=["points","pathLength"],R1={svg:Cbe,polygon:E4,polyline:E4},HA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rb=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(g.isValidElement(t)&&(r=t.props),!Rf(r))return null;var a={};return Object.keys(r).forEach(function(i){HA.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},Ebe=function(t,n,r){return function(a){return t(n,r,a),null}},$b=function(t,n,r){if(!Rf(t)||JC(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];HA.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Ebe(o,n,r))}),a},Pbe=["children"],Abe=["children"];function P4(e,t){if(e==null)return{};var n=Tbe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XC(e){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(e)}var A4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},No=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},T4=null,$1=null,GA=function e(t){if(t===T4&&Array.isArray($1))return $1;var n=[];return g.Children.forEach(t,function(r){St(r)||(YV.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),$1=n,T4=t,n};function Ta(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return No(a)}):r=[No(t)],GA(e).forEach(function(a){var i=Aa(a,"type.displayName")||Aa(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Js(e,t){var n=Ta(e,t);return n&&n[0]}var O4=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Re(r)||r<=0||!Re(a)||a<=0)},Obe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mbe=function(t){return t&&t.type&&Av(t.type)&&Obe.indexOf(t.type)>=0},Dbe=function(t){return t&&XC(t)==="object"&&"clipDot"in t},Ibe=function(t,n,r,a){var i,o=(i=R1==null?void 0:R1[a])!==null&&i!==void 0?i:[];return!jt(t)&&(a&&o.includes(n)||kbe.includes(n))||r&&HA.includes(n)},Tt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(g.isValidElement(t)&&(a=t.props),!Rf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Ibe((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},QC=function e(t,n){if(t===n)return!0;var r=g.Children.count(t);if(r!==g.Children.count(n))return!1;if(r===0)return!0;if(r===1)return M4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!M4(i,o))return!1}return!0},M4=function(t,n){if(St(t)&&St(n))return!0;if(!St(t)&&!St(n)){var r=t.props||{},a=r.children,i=P4(r,Pbe),o=n.props||{},l=o.children,c=P4(o,Abe);return a&&l?Jd(i,c)&&QC(a,l):!a&&!l?Jd(i,c):!1}return!1},D4=function(t,n){var r=[],a={};return GA(t).forEach(function(i,o){if(Mbe(i))r.push(i);else if(i){var l=No(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);r.push(h),a[l]=!0}}}),r},Rbe=function(t){var n=t&&t.type;return n&&A4[n]?A4[n]:null},$be=function(t,n){return GA(n).indexOf(t)},Lbe=["children","width","height","viewBox","className","style","title","desc"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZC.apply(this,arguments)}function Fbe(e,t){if(e==null)return{};var n=Bbe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ek(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Fbe(e,Lbe),d=a||{width:n,height:r,x:0,y:0},h=Mt("recharts-surface",i);return X.createElement("svg",ZC({},Tt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),t)}var Ube=["children","className"];function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(this,arguments)}function zbe(e,t){if(e==null)return{};var n=qbe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Wn=X.forwardRef(function(e,t){var n=e.children,r=e.className,a=zbe(e,Ube),i=Mt("recharts-layer",r);return X.createElement("g",tk({className:i},Tt(a,!0),{ref:t}),n)}),So=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Vbe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Wbe=Vbe,Hbe=Wbe;function Gbe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Hbe(e,t,n)}var Ybe=Gbe,Kbe="\\ud800-\\udfff",Jbe="\\u0300-\\u036f",Xbe="\\ufe20-\\ufe2f",Qbe="\\u20d0-\\u20ff",Zbe=Jbe+Xbe+Qbe,e0e="\\ufe0e\\ufe0f",t0e="\\u200d",n0e=RegExp("["+t0e+Kbe+Zbe+e0e+"]");function r0e(e){return n0e.test(e)}var JV=r0e;function s0e(e){return e.split("")}var a0e=s0e,XV="\\ud800-\\udfff",i0e="\\u0300-\\u036f",o0e="\\ufe20-\\ufe2f",l0e="\\u20d0-\\u20ff",c0e=i0e+o0e+l0e,u0e="\\ufe0e\\ufe0f",d0e="["+XV+"]",nk="["+c0e+"]",rk="\\ud83c[\\udffb-\\udfff]",h0e="(?:"+nk+"|"+rk+")",QV="[^"+XV+"]",ZV="(?:\\ud83c[\\udde6-\\uddff]){2}",e7="[\\ud800-\\udbff][\\udc00-\\udfff]",f0e="\\u200d",t7=h0e+"?",n7="["+u0e+"]?",m0e="(?:"+f0e+"(?:"+[QV,ZV,e7].join("|")+")"+n7+t7+")*",p0e=n7+t7+m0e,g0e="(?:"+[QV+nk+"?",nk,ZV,e7,d0e].join("|")+")",v0e=RegExp(rk+"(?="+rk+")|"+g0e+p0e,"g");function x0e(e){return e.match(v0e)||[]}var y0e=x0e,b0e=a0e,w0e=JV,j0e=y0e;function _0e(e){return w0e(e)?j0e(e):b0e(e)}var N0e=_0e,S0e=Ybe,C0e=JV,k0e=N0e,E0e=qV;function P0e(e){return function(t){t=E0e(t);var n=C0e(t)?k0e(t):void 0,r=n?n[0]:t.charAt(0),a=n?S0e(n,1).join(""):t.slice(1);return r[e]()+a}}var A0e=P0e,T0e=A0e,O0e=T0e("toUpperCase"),M0e=O0e;const xj=Qt(M0e);function pn(e){return function(){return e}}const r7=Math.cos,Lb=Math.sin,_i=Math.sqrt,Fb=Math.PI,yj=2*Fb,sk=Math.PI,ak=2*sk,Tc=1e-6,D0e=ak-Tc;function s7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function I0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s7;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class R0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s7:I0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Tc)if(!(Math.abs(h*c-u*d)>Tc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,v=a-l,p=c*c+u*u,x=m*m+v*v,y=Math.sqrt(p),b=Math.sqrt(f),w=i*Math.tan((sk-Math.acos((p+f-x)/(2*y*b)))/2),j=w/b,N=w/y;Math.abs(j-1)>Tc&&this._append`L${t+j*d},${n+j*h}`,this._append`A${i},${i},0,0,${+(h*m>d*v)},${this._x1=t+N*c},${this._y1=n+N*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Tc||Math.abs(this._y1-d)>Tc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%ak+ak),f>D0e?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>Tc&&this._append`A${r},${r},0,${+(f>=sk)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function YA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new R0e(t)}function KA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a7(e){this._context=e}a7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bj(e){return new a7(e)}function i7(e){return e[0]}function o7(e){return e[1]}function l7(e,t){var n=pn(!0),r=null,a=bj,i=null,o=YA(l);e=typeof e=="function"?e:e===void 0?i7:pn(e),t=typeof t=="function"?t:t===void 0?o7:pn(t);function l(c){var u,d=(c=KA(c)).length,h,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:pn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:pn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:pn(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Lx(e,t,n){var r=null,a=pn(!0),i=null,o=bj,l=null,c=YA(u);e=typeof e=="function"?e:e===void 0?i7:pn(+e),t=typeof t=="function"?t:pn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?o7:pn(+n);function u(h){var f,m,v,p=(h=KA(h)).length,x,y=!1,b,w=new Array(p),j=new Array(p);for(i==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&a(x=h[f],f,h))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=m;--v)l.point(w[v],j[v]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(x,f,h),j[f]=+t(x,f,h),l.point(r?+r(x,f,h):w[f],n?+n(x,f,h):j[f]))}if(b)return l=null,b+""||null}function d(){return l7().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:pn(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:pn(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:pn(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:pn(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:pn(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:pn(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:pn(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class c7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function $0e(e){return new c7(e,!0)}function L0e(e){return new c7(e,!1)}const JA={draw(e,t){const n=_i(t/Fb);e.moveTo(n,0),e.arc(0,0,n,0,yj)}},F0e={draw(e,t){const n=_i(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},u7=_i(1/3),B0e=u7*2,U0e={draw(e,t){const n=_i(t/B0e),r=n*u7;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},z0e={draw(e,t){const n=_i(t),r=-n/2;e.rect(r,r,n,n)}},q0e=.8908130915292852,d7=Lb(Fb/10)/Lb(7*Fb/10),V0e=Lb(yj/10)*d7,W0e=-r7(yj/10)*d7,H0e={draw(e,t){const n=_i(t*q0e),r=V0e*n,a=W0e*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=yj*i/5,l=r7(o),c=Lb(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},L1=_i(3),G0e={draw(e,t){const n=-_i(t/(L1*3));e.moveTo(0,n*2),e.lineTo(-L1*n,-n),e.lineTo(L1*n,-n),e.closePath()}},pa=-.5,ga=_i(3)/2,ik=1/_i(12),Y0e=(ik/2+1)*3,K0e={draw(e,t){const n=_i(t/Y0e),r=n/2,a=n*ik,i=r,o=n*ik+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(pa*r-ga*a,ga*r+pa*a),e.lineTo(pa*i-ga*o,ga*i+pa*o),e.lineTo(pa*l-ga*c,ga*l+pa*c),e.lineTo(pa*r+ga*a,pa*a-ga*r),e.lineTo(pa*i+ga*o,pa*o-ga*i),e.lineTo(pa*l+ga*c,pa*c-ga*l),e.closePath()}};function J0e(e,t){let n=null,r=YA(a);e=typeof e=="function"?e:pn(e||JA),t=typeof t=="function"?t:pn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:pn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:pn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Bb(){}function Ub(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function h7(e){this._context=e}h7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ub(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ub(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X0e(e){return new h7(e)}function f7(e){this._context=e}f7.prototype={areaStart:Bb,areaEnd:Bb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ub(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q0e(e){return new f7(e)}function m7(e){this._context=e}m7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ub(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z0e(e){return new m7(e)}function p7(e){this._context=e}p7.prototype={areaStart:Bb,areaEnd:Bb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ewe(e){return new p7(e)}function I4(e){return e<0?-1:1}function R4(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(I4(i)+I4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function $4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function F1(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function zb(e){this._context=e}zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,$4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,$4(this,n=R4(this,e,t)),n);break;default:F1(this,this._t0,n=R4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function g7(e){this._context=new v7(e)}(g7.prototype=Object.create(zb.prototype)).point=function(e,t){zb.prototype.point.call(this,t,e)};function v7(e){this._context=e}v7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function twe(e){return new zb(e)}function nwe(e){return new g7(e)}function x7(e){this._context=e}x7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=L4(e),a=L4(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function L4(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function rwe(e){return new x7(e)}function wj(e,t){this._context=e,this._t=t}wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function swe(e){return new wj(e,.5)}function awe(e){return new wj(e,0)}function iwe(e){return new wj(e,1)}function Lh(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function ok(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function owe(e,t){return e[t]}function lwe(e){const t=[];return t.key=e,t}function cwe(){var e=pn([]),t=ok,n=Lh,r=owe;function a(i){var o=Array.from(e.apply(this,arguments),lwe),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=KA(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:pn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:pn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?ok:typeof i=="function"?i:pn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Lh,a):n},a}function uwe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Lh(e,t)}}function dwe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Lh(e,t)}}function hwe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,v=0;v<l;++v){var p=e[t[v]],x=p[r][1]||0,y=p[r-1][1]||0;m+=x-y}c+=h,u+=m*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Lh(e,t)}}function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}var fwe=["type","size","sizeType"];function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(this,arguments)}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){mwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mwe(e,t,n){return t=pwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pwe(e){var t=gwe(e,"string");return sg(t)=="symbol"?t:t+""}function gwe(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vwe(e,t){if(e==null)return{};var n=xwe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var y7={symbolCircle:JA,symbolCross:F0e,symbolDiamond:U0e,symbolSquare:z0e,symbolStar:H0e,symbolTriangle:G0e,symbolWye:K0e},ywe=Math.PI/180,bwe=function(t){var n="symbol".concat(xj(t));return y7[n]||JA},wwe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*ywe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jwe=function(t,n){y7["symbol".concat(xj(t))]=n},XA=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=vwe(t,fwe),u=B4(B4({},c),{},{type:r,size:i,sizeType:l}),d=function(){var x=bwe(r),y=J0e().type(x).size(wwe(i,l,r));return y()},h=u.className,f=u.cx,m=u.cy,v=Tt(u,!0);return f===+f&&m===+m&&i===+i?X.createElement("path",lk({},v,{className:Mt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};XA.registerSymbol=jwe;function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ck.apply(this,arguments)}function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(r){ag(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Swe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w7(r.key),r)}}function Cwe(e,t,n){return t&&Swe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kwe(e,t,n){return t=qb(t),Ewe(e,b7()?Reflect.construct(t,n||[],qb(e).constructor):t.apply(e,n))}function Ewe(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pwe(e)}function Pwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b7=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qb(e)}function Awe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uk(e,t)}function uk(e,t){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},uk(e,t)}function ag(e,t,n){return t=w7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=Twe(e,"string");return Fh(t)=="symbol"?t:t+""}function Twe(e,t){if(Fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va=32,QA=function(e){function t(){return Nwe(this,t),kwe(this,t,arguments)}return Awe(t,e),Cwe(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=va/2,o=va/6,l=va/3,c=r.inactive?a:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:va,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(va,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(va/8,"h").concat(va,"v").concat(va*3/4,"h").concat(-va,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var u=_we({},r);return delete u.legendIcon,X.cloneElement(r.legendIcon,u)}return X.createElement(XA,{fill:c,cx:i,cy:i,size:va,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:va,height:va},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var p=m.formatter||c,x=Mt(ag(ag({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=jt(m.value)?null:m.value;So(!jt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return X.createElement("li",ck({className:x,style:h,key:"legend-item-".concat(v)},$b(r.props,m,v)),X.createElement(ek,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,v):y))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(g.PureComponent);ag(QA,"displayName","Legend");ag(QA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Owe=aj;function Mwe(){this.__data__=new Owe,this.size=0}var Dwe=Mwe;function Iwe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Rwe=Iwe;function $we(e){return this.__data__.get(e)}var Lwe=$we;function Fwe(e){return this.__data__.has(e)}var Bwe=Fwe,Uwe=aj,zwe=FA,qwe=BA,Vwe=200;function Wwe(e,t){var n=this.__data__;if(n instanceof Uwe){var r=n.__data__;if(!zwe||r.length<Vwe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qwe(r)}return n.set(e,t),this.size=n.size,this}var Hwe=Wwe,Gwe=aj,Ywe=Dwe,Kwe=Rwe,Jwe=Lwe,Xwe=Bwe,Qwe=Hwe;function Bf(e){var t=this.__data__=new Gwe(e);this.size=t.size}Bf.prototype.clear=Ywe;Bf.prototype.delete=Kwe;Bf.prototype.get=Jwe;Bf.prototype.has=Xwe;Bf.prototype.set=Qwe;var j7=Bf,Zwe="__lodash_hash_undefined__";function eje(e){return this.__data__.set(e,Zwe),this}var tje=eje;function nje(e){return this.__data__.has(e)}var rje=nje,sje=BA,aje=tje,ije=rje;function Vb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sje;++t<n;)this.add(e[t])}Vb.prototype.add=Vb.prototype.push=aje;Vb.prototype.has=ije;var _7=Vb;function oje(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var N7=oje;function lje(e,t){return e.has(t)}var S7=lje,cje=_7,uje=N7,dje=S7,hje=1,fje=2;function mje(e,t,n,r,a,i){var o=n&hje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&fje?new cje:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var v=e[h],p=t[h];if(r)var x=o?r(p,v,h,t,e,i):r(v,p,h,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(m){if(!uje(t,function(y,b){if(!dje(m,b)&&(v===y||a(v,y,n,r,i)))return m.push(b)})){f=!1;break}}else if(!(v===p||a(v,p,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var C7=mje,pje=to,gje=pje.Uint8Array,vje=gje;function xje(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var yje=xje;function bje(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ZA=bje,z4=Pv,q4=vje,wje=LA,jje=C7,_je=yje,Nje=ZA,Sje=1,Cje=2,kje="[object Boolean]",Eje="[object Date]",Pje="[object Error]",Aje="[object Map]",Tje="[object Number]",Oje="[object RegExp]",Mje="[object Set]",Dje="[object String]",Ije="[object Symbol]",Rje="[object ArrayBuffer]",$je="[object DataView]",V4=z4?z4.prototype:void 0,B1=V4?V4.valueOf:void 0;function Lje(e,t,n,r,a,i,o){switch(n){case $je:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rje:return!(e.byteLength!=t.byteLength||!i(new q4(e),new q4(t)));case kje:case Eje:case Tje:return wje(+e,+t);case Pje:return e.name==t.name&&e.message==t.message;case Oje:case Dje:return e==t+"";case Aje:var l=_je;case Mje:var c=r&Sje;if(l||(l=Nje),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Cje,o.set(e,t);var d=jje(l(e),l(t),r,a,i,o);return o.delete(e),d;case Ije:if(B1)return B1.call(e)==B1.call(t)}return!1}var Fje=Lje;function Bje(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var k7=Bje,Uje=k7,zje=Bs;function qje(e,t,n){var r=t(e);return zje(e)?r:Uje(r,n(e))}var Vje=qje;function Wje(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Hje=Wje;function Gje(){return[]}var Yje=Gje,Kje=Hje,Jje=Yje,Xje=Object.prototype,Qje=Xje.propertyIsEnumerable,W4=Object.getOwnPropertySymbols,Zje=W4?function(e){return e==null?[]:(e=Object(e),Kje(W4(e),function(t){return Qje.call(e,t)}))}:Jje,e_e=Zje;function t_e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var n_e=t_e,r_e=zo,s_e=qo,a_e="[object Arguments]";function i_e(e){return s_e(e)&&r_e(e)==a_e}var o_e=i_e,H4=o_e,l_e=qo,E7=Object.prototype,c_e=E7.hasOwnProperty,u_e=E7.propertyIsEnumerable,d_e=H4(function(){return arguments}())?H4:function(e){return l_e(e)&&c_e.call(e,"callee")&&!u_e.call(e,"callee")},eT=d_e,Wb={exports:{}};function h_e(){return!1}var f_e=h_e;Wb.exports;(function(e,t){var n=to,r=f_e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Wb,Wb.exports);var P7=Wb.exports,m_e=9007199254740991,p_e=/^(?:0|[1-9]\d*)$/;function g_e(e,t){var n=typeof e;return t=t??m_e,!!t&&(n=="number"||n!="symbol"&&p_e.test(e))&&e>-1&&e%1==0&&e<t}var tT=g_e,v_e=9007199254740991;function x_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=v_e}var nT=x_e,y_e=zo,b_e=nT,w_e=qo,j_e="[object Arguments]",__e="[object Array]",N_e="[object Boolean]",S_e="[object Date]",C_e="[object Error]",k_e="[object Function]",E_e="[object Map]",P_e="[object Number]",A_e="[object Object]",T_e="[object RegExp]",O_e="[object Set]",M_e="[object String]",D_e="[object WeakMap]",I_e="[object ArrayBuffer]",R_e="[object DataView]",$_e="[object Float32Array]",L_e="[object Float64Array]",F_e="[object Int8Array]",B_e="[object Int16Array]",U_e="[object Int32Array]",z_e="[object Uint8Array]",q_e="[object Uint8ClampedArray]",V_e="[object Uint16Array]",W_e="[object Uint32Array]",wn={};wn[$_e]=wn[L_e]=wn[F_e]=wn[B_e]=wn[U_e]=wn[z_e]=wn[q_e]=wn[V_e]=wn[W_e]=!0;wn[j_e]=wn[__e]=wn[I_e]=wn[N_e]=wn[R_e]=wn[S_e]=wn[C_e]=wn[k_e]=wn[E_e]=wn[P_e]=wn[A_e]=wn[T_e]=wn[O_e]=wn[M_e]=wn[D_e]=!1;function H_e(e){return w_e(e)&&b_e(e.length)&&!!wn[y_e(e)]}var G_e=H_e;function Y_e(e){return function(t){return e(t)}}var A7=Y_e,Hb={exports:{}};Hb.exports;(function(e,t){var n=$V,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Hb,Hb.exports);var K_e=Hb.exports,J_e=G_e,X_e=A7,G4=K_e,Y4=G4&&G4.isTypedArray,Q_e=Y4?X_e(Y4):J_e,T7=Q_e,Z_e=n_e,e1e=eT,t1e=Bs,n1e=P7,r1e=tT,s1e=T7,a1e=Object.prototype,i1e=a1e.hasOwnProperty;function o1e(e,t){var n=t1e(e),r=!n&&e1e(e),a=!n&&!r&&n1e(e),i=!n&&!r&&!a&&s1e(e),o=n||r||a||i,l=o?Z_e(e.length,String):[],c=l.length;for(var u in e)(t||i1e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||r1e(u,c)))&&l.push(u);return l}var l1e=o1e,c1e=Object.prototype;function u1e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||c1e;return e===n}var d1e=u1e;function h1e(e,t){return function(n){return e(t(n))}}var O7=h1e,f1e=O7,m1e=f1e(Object.keys,Object),p1e=m1e,g1e=d1e,v1e=p1e,x1e=Object.prototype,y1e=x1e.hasOwnProperty;function b1e(e){if(!g1e(e))return v1e(e);var t=[];for(var n in Object(e))y1e.call(e,n)&&n!="constructor"&&t.push(n);return t}var w1e=b1e,j1e=$A,_1e=nT;function N1e(e){return e!=null&&_1e(e.length)&&!j1e(e)}var Mv=N1e,S1e=l1e,C1e=w1e,k1e=Mv;function E1e(e){return k1e(e)?S1e(e):C1e(e)}var jj=E1e,P1e=Vje,A1e=e_e,T1e=jj;function O1e(e){return P1e(e,T1e,A1e)}var M1e=O1e,K4=M1e,D1e=1,I1e=Object.prototype,R1e=I1e.hasOwnProperty;function $1e(e,t,n,r,a,i){var o=n&D1e,l=K4(e),c=l.length,u=K4(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:R1e.call(t,f)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++h<c;){f=l[h];var y=e[f],b=t[f];if(r)var w=o?r(b,y,f,t,e,i):r(y,b,f,e,t,i);if(!(w===void 0?y===b||a(y,b,n,r,i):w)){p=!1;break}x||(x=f=="constructor")}if(p&&!x){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var L1e=$1e,F1e=Vu,B1e=to,U1e=F1e(B1e,"DataView"),z1e=U1e,q1e=Vu,V1e=to,W1e=q1e(V1e,"Promise"),H1e=W1e,G1e=Vu,Y1e=to,K1e=G1e(Y1e,"Set"),M7=K1e,J1e=Vu,X1e=to,Q1e=J1e(X1e,"WeakMap"),Z1e=Q1e,dk=z1e,hk=FA,fk=H1e,mk=M7,pk=Z1e,D7=zo,Uf=FV,J4="[object Map]",eNe="[object Object]",X4="[object Promise]",Q4="[object Set]",Z4="[object WeakMap]",eR="[object DataView]",tNe=Uf(dk),nNe=Uf(hk),rNe=Uf(fk),sNe=Uf(mk),aNe=Uf(pk),Oc=D7;(dk&&Oc(new dk(new ArrayBuffer(1)))!=eR||hk&&Oc(new hk)!=J4||fk&&Oc(fk.resolve())!=X4||mk&&Oc(new mk)!=Q4||pk&&Oc(new pk)!=Z4)&&(Oc=function(e){var t=D7(e),n=t==eNe?e.constructor:void 0,r=n?Uf(n):"";if(r)switch(r){case tNe:return eR;case nNe:return J4;case rNe:return X4;case sNe:return Q4;case aNe:return Z4}return t});var iNe=Oc,U1=j7,oNe=C7,lNe=Fje,cNe=L1e,tR=iNe,nR=Bs,rR=P7,uNe=T7,dNe=1,sR="[object Arguments]",aR="[object Array]",Fx="[object Object]",hNe=Object.prototype,iR=hNe.hasOwnProperty;function fNe(e,t,n,r,a,i){var o=nR(e),l=nR(t),c=o?aR:tR(e),u=l?aR:tR(t);c=c==sR?Fx:c,u=u==sR?Fx:u;var d=c==Fx,h=u==Fx,f=c==u;if(f&&rR(e)){if(!rR(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new U1),o||uNe(e)?oNe(e,t,n,r,a,i):lNe(e,t,c,n,r,a,i);if(!(n&dNe)){var m=d&&iR.call(e,"__wrapped__"),v=h&&iR.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,x=v?t.value():t;return i||(i=new U1),a(p,x,n,r,i)}}return f?(i||(i=new U1),cNe(e,t,n,r,a,i)):!1}var mNe=fNe,pNe=mNe,oR=qo;function I7(e,t,n,r,a){return e===t?!0:e==null||t==null||!oR(e)&&!oR(t)?e!==e&&t!==t:pNe(e,t,n,r,I7,a)}var rT=I7,gNe=j7,vNe=rT,xNe=1,yNe=2;function bNe(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new gNe;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?vNe(d,u,xNe|yNe,r,h):f))return!1}}return!0}var wNe=bNe,jNe=cc;function _Ne(e){return e===e&&!jNe(e)}var R7=_Ne,NNe=R7,SNe=jj;function CNe(e){for(var t=SNe(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,NNe(a)]}return t}var kNe=CNe;function ENe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var $7=ENe,PNe=wNe,ANe=kNe,TNe=$7;function ONe(e){var t=ANe(e);return t.length==1&&t[0][2]?TNe(t[0][0],t[0][1]):function(n){return n===e||PNe(n,e,t)}}var MNe=ONe;function DNe(e,t){return e!=null&&t in Object(e)}var INe=DNe,RNe=VV,$Ne=eT,LNe=Bs,FNe=tT,BNe=nT,UNe=oj;function zNe(e,t,n){t=RNe(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=UNe(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&BNe(a)&&FNe(o,a)&&(LNe(e)||$Ne(e)))}var qNe=zNe,VNe=INe,WNe=qNe;function HNe(e,t){return e!=null&&WNe(e,t,VNe)}var GNe=HNe,YNe=rT,KNe=WV,JNe=GNe,XNe=RA,QNe=R7,ZNe=$7,eSe=oj,tSe=1,nSe=2;function rSe(e,t){return XNe(e)&&QNe(t)?ZNe(eSe(e),t):function(n){var r=KNe(n,e);return r===void 0&&r===t?JNe(n,e):YNe(t,r,tSe|nSe)}}var sSe=rSe;function aSe(e){return e}var zf=aSe;function iSe(e){return function(t){return t==null?void 0:t[e]}}var oSe=iSe,lSe=qA;function cSe(e){return function(t){return lSe(t,e)}}var uSe=cSe,dSe=oSe,hSe=uSe,fSe=RA,mSe=oj;function pSe(e){return fSe(e)?dSe(mSe(e)):hSe(e)}var gSe=pSe,vSe=MNe,xSe=sSe,ySe=zf,bSe=Bs,wSe=gSe;function jSe(e){return typeof e=="function"?e:e==null?ySe:typeof e=="object"?bSe(e)?xSe(e[0],e[1]):vSe(e):wSe(e)}var uc=jSe;function _Se(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var L7=_Se;function NSe(e){return e!==e}var SSe=NSe;function CSe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var kSe=CSe,ESe=L7,PSe=SSe,ASe=kSe;function TSe(e,t,n){return t===t?ASe(e,t,n):ESe(e,PSe,n)}var OSe=TSe,MSe=OSe;function DSe(e,t){var n=e==null?0:e.length;return!!n&&MSe(e,t,0)>-1}var ISe=DSe;function RSe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var $Se=RSe;function LSe(){}var FSe=LSe,z1=M7,BSe=FSe,USe=ZA,zSe=1/0,qSe=z1&&1/USe(new z1([,-0]))[1]==zSe?function(e){return new z1(e)}:BSe,VSe=qSe,WSe=_7,HSe=ISe,GSe=$Se,YSe=S7,KSe=VSe,JSe=ZA,XSe=200;function QSe(e,t,n){var r=-1,a=HSe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=GSe;else if(i>=XSe){var u=t?null:KSe(e);if(u)return JSe(u);o=!1,a=YSe,c=new WSe}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var ZSe=QSe,eCe=uc,tCe=ZSe;function nCe(e,t){return e&&e.length?tCe(e,eCe(t)):[]}var rCe=nCe;const lR=Qt(rCe);function F7(e,t,n){return t===!0?lR(e,n):jt(t)?lR(e,t):e}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}var sCe=["ref"];function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(r){_j(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U7(r.key),r)}}function iCe(e,t,n){return t&&uR(e.prototype,t),n&&uR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oCe(e,t,n){return t=Gb(t),lCe(e,B7()?Reflect.construct(t,n||[],Gb(e).constructor):t.apply(e,n))}function lCe(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cCe(e)}function cCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(e)}function uCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gk(e,t)}function _j(e,t,n){return t=U7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=dCe(e,"string");return Bh(t)=="symbol"?t:t+""}function dCe(e,t){if(Bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hCe(e,t){if(e==null)return{};var n=fCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mCe(e){return e.value}function pCe(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var n=hCe(t,sCe);return X.createElement(QA,n)}var dR=1,Xd=function(e){function t(){var n;aCe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=oCe(this,t,[].concat(a)),_j(n,"lastBoundingBox",{width:-1,height:-1}),n}return uCe(t,e),iCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>dR||Math.abs(a.height-this.lastBoundingBox.height)>dR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ao(ao({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=ao(ao({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},pCe(i,ao(ao({},this.props),{},{payload:F7(d,u,mCe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=ao(ao({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Re(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(g.PureComponent);_j(Xd,"displayName","Legend");_j(Xd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hR=Pv,gCe=eT,vCe=Bs,fR=hR?hR.isConcatSpreadable:void 0;function xCe(e){return vCe(e)||gCe(e)||!!(fR&&e&&e[fR])}var yCe=xCe,bCe=k7,wCe=yCe;function z7(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=wCe),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?z7(l,t-1,n,r,a):bCe(a,l):r||(a[a.length]=l)}return a}var q7=z7;function jCe(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var _Ce=jCe,NCe=_Ce,SCe=NCe(),CCe=SCe,kCe=CCe,ECe=jj;function PCe(e,t){return e&&kCe(e,t,ECe)}var V7=PCe,ACe=Mv;function TCe(e,t){return function(n,r){if(n==null)return n;if(!ACe(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var OCe=TCe,MCe=V7,DCe=OCe,ICe=DCe(MCe),sT=ICe,RCe=sT,$Ce=Mv;function LCe(e,t){var n=-1,r=$Ce(e)?Array(e.length):[];return RCe(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var W7=LCe;function FCe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var BCe=FCe,mR=If;function UCe(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=mR(e),o=t!==void 0,l=t===null,c=t===t,u=mR(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var zCe=UCe,qCe=zCe;function VCe(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=qCe(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var WCe=VCe,q1=zA,HCe=qA,GCe=uc,YCe=W7,KCe=BCe,JCe=A7,XCe=WCe,QCe=zf,ZCe=Bs;function eke(e,t,n){t.length?t=q1(t,function(i){return ZCe(i)?function(o){return HCe(o,i.length===1?i[0]:i)}:i}):t=[QCe];var r=-1;t=q1(t,JCe(GCe));var a=YCe(e,function(i,o,l){var c=q1(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return KCe(a,function(i,o){return XCe(i,o,n)})}var tke=eke;function nke(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var rke=nke,ske=rke,pR=Math.max;function ake(e,t,n){return t=pR(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=pR(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),ske(e,this,l)}}var ike=ake;function oke(e){return function(){return e}}var lke=oke,cke=Vu,uke=function(){try{var e=cke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),H7=uke,dke=lke,gR=H7,hke=zf,fke=gR?function(e,t){return gR(e,"toString",{configurable:!0,enumerable:!1,value:dke(t),writable:!0})}:hke,mke=fke,pke=800,gke=16,vke=Date.now;function xke(e){var t=0,n=0;return function(){var r=vke(),a=gke-(r-n);if(n=r,a>0){if(++t>=pke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var yke=xke,bke=mke,wke=yke,jke=wke(bke),_ke=jke,Nke=zf,Ske=ike,Cke=_ke;function kke(e,t){return Cke(Ske(e,t,Nke),e+"")}var Eke=kke,Pke=LA,Ake=Mv,Tke=tT,Oke=cc;function Mke(e,t,n){if(!Oke(n))return!1;var r=typeof t;return(r=="number"?Ake(n)&&Tke(t,n.length):r=="string"&&t in n)?Pke(n[t],e):!1}var Nj=Mke,Dke=q7,Ike=tke,Rke=Eke,vR=Nj,$ke=Rke(function(e,t){if(e==null)return[];var n=t.length;return n>1&&vR(e,t[0],t[1])?t=[]:n>2&&vR(t[0],t[1],t[2])&&(t=[t[0]]),Ike(e,Dke(t,1),[])}),Lke=$ke;const aT=Qt(Lke);function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vk.apply(this,arguments)}function Fke(e,t){return qke(e)||zke(e,t)||Uke(e,t)||Bke()}function Bke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uke(e,t){if(e){if(typeof e=="string")return xR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qke(e){if(Array.isArray(e))return e}function yR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function V1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(n),!0).forEach(function(r){Vke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vke(e,t,n){return t=Wke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wke(e){var t=Hke(e,"string");return ig(t)=="symbol"?t:t+""}function Hke(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gke(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var Yke=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,x=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var B={padding:0,margin:0},U=(f?aT(d,f):d).map(function(I,L){if(I.type==="none")return null;var M=V1({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),$=I.formatter||h||Gke,R=I.value,F=I.name,D=R,H=F;if($&&D!=null&&H!=null){var z=$(R,F,I,L,d);if(Array.isArray(z)){var _=Fke(z,2);D=_[0],H=_[1]}else D=z}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:M},ir(H)?X.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ir(H)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},D),X.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:B},U)}return null},j=V1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=V1({margin:0},u),S=!St(p),C=S?p:"",k=Mt("recharts-default-tooltip",m),E=Mt("recharts-tooltip-label",v);S&&x&&d!==void 0&&d!==null&&(C=x(p,d));var A=b?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",vk({className:k,style:j},A),X.createElement("p",{className:E,style:N},X.isValidElement(C)?C:"".concat(C)),w())};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function Bx(e,t,n){return t=Kke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kke(e){var t=Jke(e,"string");return og(t)=="symbol"?t:t+""}function Jke(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nm="recharts-tooltip-wrapper",Xke={visibility:"hidden"};function Qke(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Mt(Nm,Bx(Bx(Bx(Bx({},"".concat(Nm,"-right"),Re(n)&&t&&Re(t.x)&&n>=t.x),"".concat(Nm,"-left"),Re(n)&&t&&Re(t.x)&&n<t.x),"".concat(Nm,"-bottom"),Re(r)&&t&&Re(t.y)&&r>=t.y),"".concat(Nm,"-top"),Re(r)&&t&&Re(t.y)&&r<t.y))}function bR(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Re(i[r]))return i[r];var d=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?d:h;if(o[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var v=h+l,p=c[r]+u;return v>p?Math.max(d,c[r]):Math.max(h,c[r])}function Zke(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function eEe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=bR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=bR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Zke({translateX:d,translateY:h,useTranslate3d:l})):u=Xke,{cssProperties:u,cssClasses:Qke({translateX:d,translateY:h,coordinate:n})}}function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function wR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(n),!0).forEach(function(r){yk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y7(r.key),r)}}function rEe(e,t,n){return t&&nEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sEe(e,t,n){return t=Yb(t),aEe(e,G7()?Reflect.construct(t,n||[],Yb(e).constructor):t.apply(e,n))}function aEe(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iEe(e)}function iEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function oEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xk(e,t)}function yk(e,t,n){return t=Y7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7(e){var t=lEe(e,"string");return Uh(t)=="symbol"?t:t+""}function lEe(e,t){if(Uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R=1,cEe=function(e){function t(){var n;tEe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=sEe(this,t,[].concat(a)),yk(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yk(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return oEe(t,e),rEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>_R||Math.abs(r.height-this.state.lastBoundingBox.height)>_R)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=eEe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),j=w.cssClasses,N=w.cssProperties,S=jR(jR({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return X.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(k){r.wrapperNode=k}},u)}}])}(g.PureComponent),uEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Co={isSsr:uEe(),get:function(t){return Co[t]},set:function(t,n){if(typeof t=="string")Co[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){Co[a]=t[a]})}}};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function NR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(n),!0).forEach(function(r){iT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J7(r.key),r)}}function fEe(e,t,n){return t&&hEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mEe(e,t,n){return t=Kb(t),pEe(e,K7()?Reflect.construct(t,n||[],Kb(e).constructor):t.apply(e,n))}function pEe(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gEe(e)}function gEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kb(e)}function vEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},bk(e,t)}function iT(e,t,n){return t=J7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=xEe(e,"string");return zh(t)=="symbol"?t:t+""}function xEe(e,t){if(zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yEe(e){return e.dataKey}function bEe(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(Yke,t)}var ei=function(e){function t(){return dEe(this,t),mEe(this,t,arguments)}return vEe(t,e),fEe(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,x=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,N=v??[];h&&N.length&&(N=F7(v.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,yEe));var S=N.length>0;return X.createElement(cEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:j},bEe(u,SR(SR({},this.props),{},{payload:N})))}}])}(g.PureComponent);iT(ei,"displayName","Tooltip");iT(ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Co.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wEe=to,jEe=function(){return wEe.Date.now()},_Ee=jEe,NEe=/\s/;function SEe(e){for(var t=e.length;t--&&NEe.test(e.charAt(t)););return t}var CEe=SEe,kEe=CEe,EEe=/^\s+/;function PEe(e){return e&&e.slice(0,kEe(e)+1).replace(EEe,"")}var AEe=PEe,TEe=AEe,CR=cc,OEe=If,kR=NaN,MEe=/^[-+]0x[0-9a-f]+$/i,DEe=/^0b[01]+$/i,IEe=/^0o[0-7]+$/i,REe=parseInt;function $Ee(e){if(typeof e=="number")return e;if(OEe(e))return kR;if(CR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=CR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=TEe(e);var n=DEe.test(e);return n||IEe.test(e)?REe(e.slice(2),n?2:8):MEe.test(e)?kR:+e}var X7=$Ee,LEe=cc,W1=_Ee,ER=X7,FEe="Expected a function",BEe=Math.max,UEe=Math.min;function zEe(e,t,n){var r,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(FEe);t=ER(t)||0,LEe(n)&&(d=!!n.leading,h="maxWait"in n,i=h?BEe(ER(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(S){var C=r,k=a;return r=a=void 0,u=S,o=e.apply(k,C),o}function v(S){return u=S,l=setTimeout(y,t),d?m(S):o}function p(S){var C=S-c,k=S-u,E=t-C;return h?UEe(E,i-k):E}function x(S){var C=S-c,k=S-u;return c===void 0||C>=t||C<0||h&&k>=i}function y(){var S=W1();if(x(S))return b(S);l=setTimeout(y,p(S))}function b(S){return l=void 0,f&&r?m(S):(r=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function j(){return l===void 0?o:b(W1())}function N(){var S=W1(),C=x(S);if(r=arguments,a=this,c=S,C){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return N.cancel=w,N.flush=j,N}var qEe=zEe,VEe=qEe,WEe=cc,HEe="Expected a function";function GEe(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(HEe);return WEe(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),VEe(e,t,{leading:r,maxWait:t,trailing:a})}var YEe=GEe;const Q7=Qt(YEe);function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(r){KEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KEe(e,t,n){return t=JEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JEe(e){var t=XEe(e,"string");return lg(t)=="symbol"?t:t+""}function XEe(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QEe(e,t){return n2e(e)||t2e(e,t)||e2e(e,t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2e(e,t){if(e){if(typeof e=="string")return AR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AR(e,t)}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function n2e(e){if(Array.isArray(e))return e}var Jb=g.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,x=e.id,y=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,N=g.useRef(null),S=g.useRef();S.current=b,g.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=g.useState({containerWidth:a.width,containerHeight:a.height}),k=QEe(C,2),E=k[0],A=k[1],P=g.useCallback(function(U,I){A(function(L){var M=Math.round(U),$=Math.round(I);return L.containerWidth===M&&L.containerHeight===$?L:{containerWidth:M,containerHeight:$}})},[]);g.useEffect(function(){var U=function(F){var D,H=F[0].contentRect,z=H.width,_=H.height;P(z,_),(D=S.current)===null||D===void 0||D.call(S,z,_)};p>0&&(U=Q7(U,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(U),L=N.current.getBoundingClientRect(),M=L.width,$=L.height;return P(M,$),I.observe(N.current),function(){I.disconnect()}},[P,p]);var B=g.useMemo(function(){var U=E.containerWidth,I=E.containerHeight;if(U<0||I<0)return null;So(Wc(o)||Wc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),So(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Wc(o)?U:o,M=Wc(c)?I:c;n&&n>0&&(L?M=L/n:M&&(L=M*n),f&&M>f&&(M=f)),So(L>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,o,c,d,h,n);var $=!Array.isArray(m)&&No(m.type).endsWith("Chart");return X.Children.map(m,function(R){return YV.isElement(R)?g.cloneElement(R,Ux({width:L,height:M},$?{style:Ux({height:"100%",width:"100%",maxHeight:M,maxWidth:L},R.props.style)}:{})):R})},[n,m,c,f,h,d,E,o]);return X.createElement("div",{id:x?"".concat(x):void 0,className:Mt("recharts-responsive-container",y),style:Ux(Ux({},j),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},B)}),Z7=function(t){return null};Z7.displayName="Cell";function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){r2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r2e(e,t,n){return t=s2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s2e(e){var t=a2e(e,"string");return cg(t)=="symbol"?t:t+""}function a2e(e,t){if(cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ud={widthCache:{},cacheCount:0},i2e=2e3,o2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OR="recharts_measurement_span";function l2e(e){var t=wk({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var pp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Co.isSsr)return{width:0,height:0};var r=l2e(n),a=JSON.stringify({text:t,copyStyle:r});if(ud.widthCache[a])return ud.widthCache[a];try{var i=document.getElementById(OR);i||(i=document.createElement("span"),i.setAttribute("id",OR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=wk(wk({},o2e),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ud.widthCache[a]=c,++ud.cacheCount>i2e&&(ud.cacheCount=0,ud.widthCache={}),c}catch{return{width:0,height:0}}},c2e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function Xb(e,t){return f2e(e)||h2e(e,t)||d2e(e,t)||u2e()}function u2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(e,t){if(e){if(typeof e=="string")return MR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(e,t)}}function MR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function f2e(e){if(Array.isArray(e))return e}function m2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g2e(r.key),r)}}function p2e(e,t,n){return t&&DR(e.prototype,t),n&&DR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g2e(e){var t=v2e(e,"string");return ug(t)=="symbol"?t:t+""}function v2e(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,y2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},b2e=Object.keys(eW),Dd="NaN";function w2e(e,t){return e*eW[t]}var zx=function(){function e(t,n){m2e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!x2e.test(n)&&(this.num=NaN,this.unit=""),b2e.includes(n)&&(this.num=w2e(t,n),this.unit="px")}return p2e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=y2e.exec(n))!==null&&r!==void 0?r:[],i=Xb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function tW(e){if(e.includes(Dd))return Dd;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=IR.exec(t))!==null&&n!==void 0?n:[],a=Xb(r,4),i=a[1],o=a[2],l=a[3],c=zx.parse(i??""),u=zx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Dd;t=t.replace(IR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=RR.exec(t))!==null&&h!==void 0?h:[],m=Xb(f,4),v=m[1],p=m[2],x=m[3],y=zx.parse(v??""),b=zx.parse(x??""),w=p==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Dd;t=t.replace(RR,w.toString())}return t}var $R=/\(([^()]*)\)/;function j2e(e){for(var t=e;t.includes("(");){var n=$R.exec(t),r=Xb(n,2),a=r[1];t=t.replace($R,tW(a))}return t}function _2e(e){var t=e.replace(/\s+/g,"");return t=j2e(t),t=tW(t),t}function N2e(e){try{return _2e(e)}catch{return Dd}}function H1(e){var t=N2e(e.slice(5,-1));return t===Dd?"":t}var S2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],C2e=["dx","dy","angle","className","breakAll"];function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(this,arguments)}function LR(e,t){if(e==null)return{};var n=k2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FR(e,t){return T2e(e)||A2e(e,t)||P2e(e,t)||E2e()}function E2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P2e(e,t){if(e){if(typeof e=="string")return BR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(e,t)}}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function T2e(e){if(Array.isArray(e))return e}var nW=/[ \f\n\r\t\v\u2028\u2029]+/,rW=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];St(n)||(r?i=n.toString().split(""):i=n.toString().split(nW));var o=i.map(function(c){return{word:c,width:pp(c,a).width}}),l=r?0:pp("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},O2e=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Re(o),h=l,f=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(M,$){var R=$.word,F=$.width,D=M[M.length-1];if(D&&(a==null||i||D.width+F+r<Number(a)))D.words.push(R),D.width+=F+r;else{var H={words:[R],width:F};M.push(H)}return M},[])},m=f(n),v=function(L){return L.reduce(function(M,$){return M.width>$.width?M:$})};if(!d)return m;for(var p="",x=function(L){var M=h.slice(0,L),$=rW({breakAll:u,style:c,children:M+p}).wordsWithComputedWidth,R=f($),F=R.length>o||v(R).width>Number(a);return[F,R]},y=0,b=h.length-1,w=0,j;y<=b&&w<=h.length-1;){var N=Math.floor((y+b)/2),S=N-1,C=x(S),k=FR(C,2),E=k[0],A=k[1],P=x(N),B=FR(P,1),U=B[0];if(!E&&!U&&(y=N+1),E&&U&&(b=N-1),!E&&U){j=A;break}w++}return j||m},UR=function(t){var n=St(t)?[]:t.toString().split(nW);return[{words:n}]},M2e=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Co.isSsr){var c,u,d=rW({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return UR(a);return O2e({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return UR(a)},zR="#808080",Qb=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,v=t.verticalAnchor,p=v===void 0?"end":v,x=t.fill,y=x===void 0?zR:x,b=LR(t,S2e),w=g.useMemo(function(){return M2e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),j=b.dx,N=b.dy,S=b.angle,C=b.className,k=b.breakAll,E=LR(b,C2e);if(!ir(r)||!ir(i))return null;var A=r+(Re(j)?j:0),P=i+(Re(N)?N:0),B;switch(p){case"start":B=H1("calc(".concat(u,")"));break;case"middle":B=H1("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:B=H1("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(h){var I=w[0].width,L=b.width;U.push("scale(".concat((Re(L)?L/I:1)/I,")"))}return S&&U.push("rotate(".concat(S,", ").concat(A,", ").concat(P,")")),U.length&&(E.transform=U.join(" ")),X.createElement("text",jk({},Tt(E,!0),{x:A,y:P,className:Mt("recharts-text",C),textAnchor:m,fill:y.includes("url")?zR:y}),w.map(function(M,$){var R=M.words.join(k?"":" ");return X.createElement("tspan",{x:A,dy:$===0?B:l,key:"".concat(R,"-").concat($)},R)}))};function Ul(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oT(e){let t,n,r;e.length!==2?(t=Ul,n=(l,c)=>Ul(e(l),c),r=(l,c)=>e(l)-c):(t=e===Ul||e===D2e?e:I2e,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function I2e(){return 0}function sW(e){return e===null?NaN:+e}function*R2e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $2e=oT(Ul),Dv=$2e.right;oT(sW).center;class qR extends Map{constructor(t,n=B2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(VR(this,t))}has(t){return super.has(VR(this,t))}set(t,n){return super.set(L2e(this,t),n)}delete(t){return super.delete(F2e(this,t))}}function VR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function L2e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function F2e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function B2e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function U2e(e=Ul){if(e===Ul)return aW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function aW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const z2e=Math.sqrt(50),q2e=Math.sqrt(10),V2e=Math.sqrt(2);function Zb(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=z2e?10:i>=q2e?5:i>=V2e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Zb(e,t,n*2):[l,c,u]}function _k(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Zb(t,e,n):Zb(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Nk(e,t,n){return t=+t,e=+e,n=+n,Zb(e,t,n)[2]}function Sk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Nk(t,e,n):Nk(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function WR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iW(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?aW:U2e(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),v=Math.min(r,Math.floor(t+(c-u)*h/c+f));iW(e,t,m,v,a)}const i=e[t];let o=n,l=r;for(Sm(e,n,t),a(e[r],i)>0&&Sm(e,n,r);o<l;){for(Sm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Sm(e,n,l):(++l,Sm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Sm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function W2e(e,t,n){if(e=Float64Array.from(R2e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HR(e);if(t>=1)return WR(e);var r,a=(r-1)*t,i=Math.floor(a),o=WR(iW(e,i).subarray(0,i+1)),l=HR(e.subarray(i+1));return o+(l-o)*(a-i)}}function H2e(e,t,n=sW){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function G2e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ck=Symbol("implicit");function lT(){var e=new qR,t=[],n=[],r=Ck;function a(i){let o=e.get(i);if(o===void 0){if(r!==Ck)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new qR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return lT(t,n).unknown(r)},Ua.apply(a,arguments),a}function dg(){var e=lT().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<r,v=m?a:r,p=m?r:a;i=(p-v)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),v+=(p-v-i*(f-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=G2e(f).map(function(y){return v+i*y});return n(m?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return dg(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ua.apply(h(),arguments)}function oW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oW(t())},e}function gp(){return oW(dg.apply(null,arguments).paddingInner(1))}function cT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function lW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Iv(){}var hg=.7,e0=1/hg,Qd="\\s*([+-]?\\d+)\\s*",fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Y2e=/^#([0-9a-f]{3,8})$/,K2e=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),J2e=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),X2e=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${fg}\\)$`),Q2e=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${fg}\\)$`),Z2e=new RegExp(`^hsl\\(${fg},${Vi},${Vi}\\)$`),ePe=new RegExp(`^hsla\\(${fg},${Vi},${Vi},${fg}\\)$`),GR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cT(Iv,mg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YR,formatHex:YR,formatHex8:tPe,formatHsl:nPe,formatRgb:KR,toString:KR});function YR(){return this.rgb().formatHex()}function tPe(){return this.rgb().formatHex8()}function nPe(){return cW(this).formatHsl()}function KR(){return this.rgb().formatRgb()}function mg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Y2e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JR(t):n===3?new Ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=K2e.exec(e))?new Ns(t[1],t[2],t[3],1):(t=J2e.exec(e))?new Ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=X2e.exec(e))?qx(t[1],t[2],t[3],t[4]):(t=Q2e.exec(e))?qx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z2e.exec(e))?ZR(t[1],t[2]/100,t[3]/100,1):(t=ePe.exec(e))?ZR(t[1],t[2]/100,t[3]/100,t[4]):GR.hasOwnProperty(e)?JR(GR[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function JR(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function qx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ns(e,t,n,r)}function rPe(e){return e instanceof Iv||(e=mg(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function kk(e,t,n,r){return arguments.length===1?rPe(e):new Ns(e,t,n,r??1)}function Ns(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cT(Ns,kk,lW(Iv,{brighter(e){return e=e==null?e0:Math.pow(e0,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hg:Math.pow(hg,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(lu(this.r),lu(this.g),lu(this.b),t0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XR,formatHex:XR,formatHex8:sPe,formatRgb:QR,toString:QR}));function XR(){return`#${Hc(this.r)}${Hc(this.g)}${Hc(this.b)}`}function sPe(){return`#${Hc(this.r)}${Hc(this.g)}${Hc(this.b)}${Hc((isNaN(this.opacity)?1:this.opacity)*255)}`}function QR(){const e=t0(this.opacity);return`${e===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${e===1?")":`, ${e})`}`}function t0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hc(e){return e=lu(e),(e<16?"0":"")+e.toString(16)}function ZR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ii(e,t,n,r)}function cW(e){if(e instanceof ii)return new ii(e.h,e.s,e.l,e.opacity);if(e instanceof Iv||(e=mg(e)),!e)return new ii;if(e instanceof ii)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ii(o,l,c,e.opacity)}function aPe(e,t,n,r){return arguments.length===1?cW(e):new ii(e,t,n,r??1)}function ii(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cT(ii,aPe,lW(Iv,{brighter(e){return e=e==null?e0:Math.pow(e0,e),new ii(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hg:Math.pow(hg,e),new ii(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ns(G1(e>=240?e-240:e+120,a,r),G1(e,a,r),G1(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ii(e$(this.h),Vx(this.s),Vx(this.l),t0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=t0(this.opacity);return`${e===1?"hsl(":"hsla("}${e$(this.h)}, ${Vx(this.s)*100}%, ${Vx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function e$(e){return e=(e||0)%360,e<0?e+360:e}function Vx(e){return Math.max(0,Math.min(1,e||0))}function G1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const uT=e=>()=>e;function iPe(e,t){return function(n){return e+n*t}}function oPe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lPe(e){return(e=+e)==1?uW:function(t,n){return n-t?oPe(t,n,e):uT(isNaN(t)?n:t)}}function uW(e,t){var n=t-e;return n?iPe(e,n):uT(isNaN(e)?t:e)}const t$=function e(t){var n=lPe(t);function r(a,i){var o=n((a=kk(a)).r,(i=kk(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=uW(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function cPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function uPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dPe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=qf(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function hPe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function n0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fPe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=qf(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ek=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y1=new RegExp(Ek.source,"g");function mPe(e){return function(){return e}}function pPe(e){return function(t){return e(t)+""}}function gPe(e,t){var n=Ek.lastIndex=Y1.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Ek.exec(e))&&(a=Y1.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:n0(r,a)})),n=Y1.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?pPe(c[0].x):mPe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function qf(e,t){var n=typeof t,r;return t==null||n==="boolean"?uT(t):(n==="number"?n0:n==="string"?(r=mg(t))?(t=r,t$):gPe:t instanceof mg?t$:t instanceof Date?hPe:uPe(t)?cPe:Array.isArray(t)?dPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fPe:n0)(e,t)}function dT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vPe(e,t){t===void 0&&(t=e,e=qf);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function xPe(e){return function(){return e}}function r0(e){return+e}var n$=[0,1];function is(e){return e}function Pk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xPe(isNaN(t)?NaN:.5)}function yPe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bPe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Pk(a,r),i=n(o,i)):(r=Pk(r,a),i=n(i,o)),function(l){return i(r(l))}}function wPe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Pk(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Dv(e,l,1,r)-1;return i[c](a[c](l))}}function Rv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sj(){var e=n$,t=n$,n=qf,r,a,i,o=is,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==is&&(o=yPe(e[0],e[f-1])),l=f>2?wPe:bPe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(r),n0)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,r0),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=dT,d()},h.clamp=function(f){return arguments.length?(o=f?!0:is,d()):o!==is},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,a=m,d()}}function hT(){return Sj()(is,is)}function jPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qh(e){return e=s0(Math.abs(e)),e?e[1]:NaN}function _Pe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function NPe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var SPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pg(e){if(!(t=SPe.exec(e)))throw new Error("invalid format: "+e);var t;return new fT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pg.prototype=fT.prototype;function fT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CPe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var dW;function kPe(e,t){var n=s0(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(dW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+s0(e,Math.max(0,t+i-1))[0]}function r$(e,t){var n=s0(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const s$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r$(e*100,t),r:r$,s:kPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a$(e){return e}var i$=Array.prototype.map,o$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EPe(e){var t=e.grouping===void 0||e.thousands===void 0?a$:_Pe(i$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?a$:NPe(i$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=pg(h);var f=h.fill,m=h.align,v=h.sign,p=h.symbol,x=h.zero,y=h.width,b=h.comma,w=h.precision,j=h.trim,N=h.type;N==="n"?(b=!0,N="g"):s$[N]||(w===void 0&&(w=12),j=!0,N="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=p==="$"?r:/[%p]/.test(N)?o:"",k=s$[N],E=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(P){var B=S,U=C,I,L,M;if(N==="c")U=k(P)+U,P="";else{P=+P;var $=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),j&&(P=CPe(P)),$&&+P==0&&v!=="+"&&($=!1),B=($?v==="("?v:l:v==="-"||v==="("?"":v)+B,U=(N==="s"?o$[8+dW/3]:"")+U+($&&v==="("?")":""),E){for(I=-1,L=P.length;++I<L;)if(M=P.charCodeAt(I),48>M||M>57){U=(M===46?a+P.slice(I+1):P.slice(I))+U,P=P.slice(0,I);break}}}b&&!x&&(P=t(P,1/0));var R=B.length+P.length+U.length,F=R<y?new Array(y-R+1).join(f):"";switch(b&&x&&(P=t(F+P,F.length?y-U.length:1/0),F=""),m){case"<":P=B+P+U+F;break;case"=":P=B+F+P+U;break;case"^":P=F.slice(0,R=F.length>>1)+B+P+U+F.slice(R);break;default:P=F+B+P+U;break}return i(P)}return A.toString=function(){return h+""},A}function d(h,f){var m=u((h=pg(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(qh(f)/3)))*3,p=Math.pow(10,-v),x=o$[8+v/3];return function(y){return m(p*y)+x}}return{format:u,formatPrefix:d}}var Wx,mT,hW;PPe({thousands:",",grouping:[3],currency:["$",""]});function PPe(e){return Wx=EPe(e),mT=Wx.format,hW=Wx.formatPrefix,Wx}function APe(e){return Math.max(0,-qh(Math.abs(e)))}function TPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qh(t)/3)))*3-qh(Math.abs(e)))}function OPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qh(t)-qh(e))+1}function fW(e,t,n,r){var a=Sk(e,t,n),i;switch(r=pg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=TPe(a,o))&&(r.precision=i),hW(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=OPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=APe(a))&&(r.precision=i-(r.type==="%")*2);break}}return mT(r)}function dc(e){var t=e.domain;return e.ticks=function(n){var r=t();return _k(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return fW(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Nk(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function a0(){var e=hT();return e.copy=function(){return Rv(e,a0())},Ua.apply(e,arguments),dc(e)}function mW(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,r0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return mW(e).unknown(t)},e=arguments.length?Array.from(e,r0):[0,1],dc(n)}function pW(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function l$(e){return Math.log(e)}function c$(e){return Math.exp(e)}function MPe(e){return-Math.log(-e)}function DPe(e){return-Math.exp(-e)}function IPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RPe(e){return e===10?IPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $Pe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function u$(e){return(t,n)=>-e(-t,n)}function pT(e){const t=e(l$,c$),n=t.domain;let r=10,a,i;function o(){return a=$Pe(r),i=RPe(r),n()[0]<0?(a=u$(a),i=u$(i),e(MPe,DPe)):e(l$,c$),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),v,p;const x=l==null?10:+l;let y=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(v=1;v<r;++v)if(p=f<0?v/i(-f):v*i(f),!(p<u)){if(p>d)break;y.push(p)}}else for(;f<=m;++f)for(v=r-1;v>=1;--v)if(p=f>0?v/i(-f):v*i(f),!(p<u)){if(p>d)break;y.push(p)}y.length*2<x&&(y=_k(u,d,x))}else y=_k(f,m,Math.min(m-f,x)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=pg(c)).precision==null&&(c.trim=!0),c=mT(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(pW(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function gW(){const e=pT(Sj()).domain([1,10]);return e.copy=()=>Rv(e,gW()).base(e.base()),Ua.apply(e,arguments),e}function d$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gT(e){var t=1,n=e(d$(t),h$(t));return n.constant=function(r){return arguments.length?e(d$(t=+r),h$(t)):t},dc(n)}function vW(){var e=gT(Sj());return e.copy=function(){return Rv(e,vW()).constant(e.constant())},Ua.apply(e,arguments)}function f$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FPe(e){return e<0?-e*e:e*e}function vT(e){var t=e(is,is),n=1;function r(){return n===1?e(is,is):n===.5?e(LPe,FPe):e(f$(n),f$(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},dc(t)}function xT(){var e=vT(Sj());return e.copy=function(){return Rv(e,xT()).exponent(e.exponent())},Ua.apply(e,arguments),e}function BPe(){return xT.apply(null,arguments).exponent(.5)}function m$(e){return Math.sign(e)*e*e}function UPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xW(){var e=hT(),t=[0,1],n=!1,r;function a(i){var o=UPe(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(m$(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,r0)).map(m$)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xW(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ua.apply(a,arguments),dc(a)}function yW(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=H2e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Dv(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return yW().domain(e).range(t).unknown(r)},Ua.apply(i,arguments)}function bW(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Dv(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return bW().domain([e,t]).range(a).unknown(i)},Ua.apply(dc(o),arguments)}function wW(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Dv(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wW().domain(e).range(t).unknown(n)},Ua.apply(a,arguments)}const K1=new Date,J1=new Date;function or(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>or(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(K1.setTime(+i),J1.setTime(+o),e(K1),e(J1),Math.floor(n(K1,J1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const i0=or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);i0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):i0);i0.range;const xo=1e3,Ca=xo*60,yo=Ca*60,Ro=yo*24,yT=Ro*7,p$=Ro*30,X1=Ro*365,Gc=or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCSeconds());Gc.range;const bT=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xo)},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getMinutes());bT.range;const wT=or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getUTCMinutes());wT.range;const jT=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xo-e.getMinutes()*Ca)},(e,t)=>{e.setTime(+e+t*yo)},(e,t)=>(t-e)/yo,e=>e.getHours());jT.range;const _T=or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yo)},(e,t)=>(t-e)/yo,e=>e.getUTCHours());_T.range;const $v=or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/Ro,e=>e.getDate()-1);$v.range;const Cj=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ro,e=>e.getUTCDate()-1);Cj.range;const jW=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ro,e=>Math.floor(e/Ro));jW.range;function Wu(e){return or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/yT)}const kj=Wu(0),o0=Wu(1),zPe=Wu(2),qPe=Wu(3),Vh=Wu(4),VPe=Wu(5),WPe=Wu(6);kj.range;o0.range;zPe.range;qPe.range;Vh.range;VPe.range;WPe.range;function Hu(e){return or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/yT)}const Ej=Hu(0),l0=Hu(1),HPe=Hu(2),GPe=Hu(3),Wh=Hu(4),YPe=Hu(5),KPe=Hu(6);Ej.range;l0.range;HPe.range;GPe.range;Wh.range;YPe.range;KPe.range;const NT=or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NT.range;const ST=or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ST.range;const $o=or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$o.range;const Lo=or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Lo.range;function _W(e,t,n,r,a,i){const o=[[Gc,1,xo],[Gc,5,5*xo],[Gc,15,15*xo],[Gc,30,30*xo],[i,1,Ca],[i,5,5*Ca],[i,15,15*Ca],[i,30,30*Ca],[a,1,yo],[a,3,3*yo],[a,6,6*yo],[a,12,12*yo],[r,1,Ro],[r,2,2*Ro],[n,1,yT],[t,1,p$],[t,3,3*p$],[e,1,X1]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),v=m?m.range(u,+d+1):[];return f?v.reverse():v}function c(u,d,h){const f=Math.abs(d-u)/h,m=oT(([,,x])=>x).right(o,f);if(m===o.length)return e.every(Sk(u/X1,d/X1,h));if(m===0)return i0.every(Math.max(Sk(u,d,h),1));const[v,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return v.every(p)}return[l,c]}const[JPe,XPe]=_W(Lo,ST,Ej,jW,_T,wT),[QPe,ZPe]=_W($o,NT,kj,$v,jT,bT);function Q1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Z1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function eAe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=km(a),d=Em(a),h=km(i),f=Em(i),m=km(o),v=Em(o),p=km(l),x=Em(l),y=km(c),b=Em(c),w={a:$,A:R,b:F,B:D,c:null,d:w$,e:w$,f:_Ae,g:MAe,G:IAe,H:bAe,I:wAe,j:jAe,L:NW,m:NAe,M:SAe,p:H,q:z,Q:N$,s:S$,S:CAe,u:kAe,U:EAe,V:PAe,w:AAe,W:TAe,x:null,X:null,y:OAe,Y:DAe,Z:RAe,"%":_$},j={a:_,A:O,b:T,B:q,c:null,d:j$,e:j$,f:BAe,g:JAe,G:QAe,H:$Ae,I:LAe,j:FAe,L:CW,m:UAe,M:zAe,p:W,q:K,Q:N$,s:S$,S:qAe,u:VAe,U:WAe,V:HAe,w:GAe,W:YAe,x:null,X:null,y:KAe,Y:XAe,Z:ZAe,"%":_$},N={a:A,A:P,b:B,B:U,c:I,d:y$,e:y$,f:gAe,g:x$,G:v$,H:b$,I:b$,j:hAe,L:pAe,m:dAe,M:fAe,p:E,q:uAe,Q:xAe,s:yAe,S:mAe,u:aAe,U:iAe,V:oAe,w:sAe,W:lAe,x:L,X:M,y:x$,Y:v$,Z:cAe,"%":vAe};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),j.x=S(n,j),j.X=S(r,j),j.c=S(t,j);function S(G,V){return function(se){var re=[],je=-1,be=0,ce=G.length,Z,ge,ke;for(se instanceof Date||(se=new Date(+se));++je<ce;)G.charCodeAt(je)===37&&(re.push(G.slice(be,je)),(ge=g$[Z=G.charAt(++je)])!=null?Z=G.charAt(++je):ge=Z==="e"?" ":"0",(ke=V[Z])&&(Z=ke(se,ge)),re.push(Z),be=je+1);return re.push(G.slice(be,je)),re.join("")}}function C(G,V){return function(se){var re=Cm(1900,void 0,1),je=k(re,G,se+="",0),be,ce;if(je!=se.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(V&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(be=Z1(Cm(re.y,0,1)),ce=be.getUTCDay(),be=ce>4||ce===0?l0.ceil(be):l0(be),be=Cj.offset(be,(re.V-1)*7),re.y=be.getUTCFullYear(),re.m=be.getUTCMonth(),re.d=be.getUTCDate()+(re.w+6)%7):(be=Q1(Cm(re.y,0,1)),ce=be.getDay(),be=ce>4||ce===0?o0.ceil(be):o0(be),be=$v.offset(be,(re.V-1)*7),re.y=be.getFullYear(),re.m=be.getMonth(),re.d=be.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ce="Z"in re?Z1(Cm(re.y,0,1)).getUTCDay():Q1(Cm(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ce+5)%7:re.w+re.U*7-(ce+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Z1(re)):Q1(re)}}function k(G,V,se,re){for(var je=0,be=V.length,ce=se.length,Z,ge;je<be;){if(re>=ce)return-1;if(Z=V.charCodeAt(je++),Z===37){if(Z=V.charAt(je++),ge=N[Z in g$?V.charAt(je++):Z],!ge||(re=ge(G,se,re))<0)return-1}else if(Z!=se.charCodeAt(re++))return-1}return re}function E(G,V,se){var re=u.exec(V.slice(se));return re?(G.p=d.get(re[0].toLowerCase()),se+re[0].length):-1}function A(G,V,se){var re=m.exec(V.slice(se));return re?(G.w=v.get(re[0].toLowerCase()),se+re[0].length):-1}function P(G,V,se){var re=h.exec(V.slice(se));return re?(G.w=f.get(re[0].toLowerCase()),se+re[0].length):-1}function B(G,V,se){var re=y.exec(V.slice(se));return re?(G.m=b.get(re[0].toLowerCase()),se+re[0].length):-1}function U(G,V,se){var re=p.exec(V.slice(se));return re?(G.m=x.get(re[0].toLowerCase()),se+re[0].length):-1}function I(G,V,se){return k(G,t,V,se)}function L(G,V,se){return k(G,n,V,se)}function M(G,V,se){return k(G,r,V,se)}function $(G){return o[G.getDay()]}function R(G){return i[G.getDay()]}function F(G){return c[G.getMonth()]}function D(G){return l[G.getMonth()]}function H(G){return a[+(G.getHours()>=12)]}function z(G){return 1+~~(G.getMonth()/3)}function _(G){return o[G.getUTCDay()]}function O(G){return i[G.getUTCDay()]}function T(G){return c[G.getUTCMonth()]}function q(G){return l[G.getUTCMonth()]}function W(G){return a[+(G.getUTCHours()>=12)]}function K(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var V=S(G+="",w);return V.toString=function(){return G},V},parse:function(G){var V=C(G+="",!1);return V.toString=function(){return G},V},utcFormat:function(G){var V=S(G+="",j);return V.toString=function(){return G},V},utcParse:function(G){var V=C(G+="",!0);return V.toString=function(){return G},V}}}var g$={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,tAe=/^%/,nAe=/[\\^$*+?|[\]().{}]/g;function Bt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function rAe(e){return e.replace(nAe,"\\$&")}function km(e){return new RegExp("^(?:"+e.map(rAe).join("|")+")","i")}function Em(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sAe(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aAe(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iAe(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function oAe(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lAe(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function v$(e,t,n){var r=vr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function x$(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cAe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uAe(e,t,n){var r=vr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dAe(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function y$(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hAe(e,t,n){var r=vr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function b$(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fAe(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mAe(e,t,n){var r=vr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pAe(e,t,n){var r=vr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gAe(e,t,n){var r=vr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vAe(e,t,n){var r=tAe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xAe(e,t,n){var r=vr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yAe(e,t,n){var r=vr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function w$(e,t){return Bt(e.getDate(),t,2)}function bAe(e,t){return Bt(e.getHours(),t,2)}function wAe(e,t){return Bt(e.getHours()%12||12,t,2)}function jAe(e,t){return Bt(1+$v.count($o(e),e),t,3)}function NW(e,t){return Bt(e.getMilliseconds(),t,3)}function _Ae(e,t){return NW(e,t)+"000"}function NAe(e,t){return Bt(e.getMonth()+1,t,2)}function SAe(e,t){return Bt(e.getMinutes(),t,2)}function CAe(e,t){return Bt(e.getSeconds(),t,2)}function kAe(e){var t=e.getDay();return t===0?7:t}function EAe(e,t){return Bt(kj.count($o(e)-1,e),t,2)}function SW(e){var t=e.getDay();return t>=4||t===0?Vh(e):Vh.ceil(e)}function PAe(e,t){return e=SW(e),Bt(Vh.count($o(e),e)+($o(e).getDay()===4),t,2)}function AAe(e){return e.getDay()}function TAe(e,t){return Bt(o0.count($o(e)-1,e),t,2)}function OAe(e,t){return Bt(e.getFullYear()%100,t,2)}function MAe(e,t){return e=SW(e),Bt(e.getFullYear()%100,t,2)}function DAe(e,t){return Bt(e.getFullYear()%1e4,t,4)}function IAe(e,t){var n=e.getDay();return e=n>=4||n===0?Vh(e):Vh.ceil(e),Bt(e.getFullYear()%1e4,t,4)}function RAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Bt(t/60|0,"0",2)+Bt(t%60,"0",2)}function j$(e,t){return Bt(e.getUTCDate(),t,2)}function $Ae(e,t){return Bt(e.getUTCHours(),t,2)}function LAe(e,t){return Bt(e.getUTCHours()%12||12,t,2)}function FAe(e,t){return Bt(1+Cj.count(Lo(e),e),t,3)}function CW(e,t){return Bt(e.getUTCMilliseconds(),t,3)}function BAe(e,t){return CW(e,t)+"000"}function UAe(e,t){return Bt(e.getUTCMonth()+1,t,2)}function zAe(e,t){return Bt(e.getUTCMinutes(),t,2)}function qAe(e,t){return Bt(e.getUTCSeconds(),t,2)}function VAe(e){var t=e.getUTCDay();return t===0?7:t}function WAe(e,t){return Bt(Ej.count(Lo(e)-1,e),t,2)}function kW(e){var t=e.getUTCDay();return t>=4||t===0?Wh(e):Wh.ceil(e)}function HAe(e,t){return e=kW(e),Bt(Wh.count(Lo(e),e)+(Lo(e).getUTCDay()===4),t,2)}function GAe(e){return e.getUTCDay()}function YAe(e,t){return Bt(l0.count(Lo(e)-1,e),t,2)}function KAe(e,t){return Bt(e.getUTCFullYear()%100,t,2)}function JAe(e,t){return e=kW(e),Bt(e.getUTCFullYear()%100,t,2)}function XAe(e,t){return Bt(e.getUTCFullYear()%1e4,t,4)}function QAe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Wh(e):Wh.ceil(e),Bt(e.getUTCFullYear()%1e4,t,4)}function ZAe(){return"+0000"}function _$(){return"%"}function N$(e){return+e}function S$(e){return Math.floor(+e/1e3)}var dd,EW,PW;eTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eTe(e){return dd=eAe(e),EW=dd.format,dd.parse,PW=dd.utcFormat,dd.utcParse,dd}function tTe(e){return new Date(e)}function nTe(e){return e instanceof Date?+e:+new Date(+e)}function CT(e,t,n,r,a,i,o,l,c,u){var d=hT(),h=d.invert,f=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?v:o(S)<S?p:i(S)<S?x:r(S)<S?a(S)<S?y:b:n(S)<S?w:j)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,nTe)):f().map(tTe)},d.ticks=function(S){var C=f();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?N:u(C)},d.nice=function(S){var C=f();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?f(pW(C,S)):d},d.copy=function(){return Rv(d,CT(e,t,n,r,a,i,o,l,c,u))},d}function rTe(){return Ua.apply(CT(QPe,ZPe,$o,NT,kj,$v,jT,bT,Gc,EW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sTe(){return Ua.apply(CT(JPe,XPe,Lo,ST,Ej,Cj,_T,wT,Gc,PW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pj(){var e=0,t=1,n,r,a,i,o=is,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,v;return arguments.length?([m,v]=f,o=h(m,v),u):[o(0),o(1)]}}return u.range=d(qf),u.rangeRound=d(dT),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),u}}function hc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AW(){var e=dc(Pj()(is));return e.copy=function(){return hc(e,AW())},Vo.apply(e,arguments)}function TW(){var e=pT(Pj()).domain([1,10]);return e.copy=function(){return hc(e,TW()).base(e.base())},Vo.apply(e,arguments)}function OW(){var e=gT(Pj());return e.copy=function(){return hc(e,OW()).constant(e.constant())},Vo.apply(e,arguments)}function kT(){var e=vT(Pj());return e.copy=function(){return hc(e,kT()).exponent(e.exponent())},Vo.apply(e,arguments)}function aTe(){return kT.apply(null,arguments).exponent(.5)}function MW(){var e=[],t=is;function n(r){if(r!=null&&!isNaN(r=+r))return t((Dv(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ul),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>W2e(e,i/r))},n.copy=function(){return MW(t).domain(e)},Vo.apply(n,arguments)}function Aj(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=is,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,u=vPe(p,[y,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(qf),m.rangeRound=v(dT),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function DW(){var e=dc(Aj()(is));return e.copy=function(){return hc(e,DW())},Vo.apply(e,arguments)}function IW(){var e=pT(Aj()).domain([.1,1,10]);return e.copy=function(){return hc(e,IW()).base(e.base())},Vo.apply(e,arguments)}function RW(){var e=gT(Aj());return e.copy=function(){return hc(e,RW()).constant(e.constant())},Vo.apply(e,arguments)}function ET(){var e=vT(Aj());return e.copy=function(){return hc(e,ET()).exponent(e.exponent())},Vo.apply(e,arguments)}function iTe(){return ET.apply(null,arguments).exponent(.5)}const C$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dg,scaleDiverging:DW,scaleDivergingLog:IW,scaleDivergingPow:ET,scaleDivergingSqrt:iTe,scaleDivergingSymlog:RW,scaleIdentity:mW,scaleImplicit:Ck,scaleLinear:a0,scaleLog:gW,scaleOrdinal:lT,scalePoint:gp,scalePow:xT,scaleQuantile:yW,scaleQuantize:bW,scaleRadial:xW,scaleSequential:AW,scaleSequentialLog:TW,scaleSequentialPow:kT,scaleSequentialQuantile:MW,scaleSequentialSqrt:aTe,scaleSequentialSymlog:OW,scaleSqrt:BPe,scaleSymlog:vW,scaleThreshold:wW,scaleTime:rTe,scaleUtc:sTe,tickFormat:fW},Symbol.toStringTag,{value:"Module"}));var oTe=If;function lTe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!oTe(o):n(o,l)))var l=o,c=i}return c}var $W=lTe;function cTe(e,t){return e>t}var uTe=cTe,dTe=$W,hTe=uTe,fTe=zf;function mTe(e){return e&&e.length?dTe(e,fTe,hTe):void 0}var pTe=mTe;const Tj=Qt(pTe);function gTe(e,t){return e<t}var vTe=gTe,xTe=$W,yTe=vTe,bTe=zf;function wTe(e){return e&&e.length?xTe(e,bTe,yTe):void 0}var jTe=wTe;const Oj=Qt(jTe);var _Te=zA,NTe=uc,STe=W7,CTe=Bs;function kTe(e,t){var n=CTe(e)?_Te:STe;return n(e,NTe(t))}var ETe=kTe,PTe=q7,ATe=ETe;function TTe(e,t){return PTe(ATe(e,t),1)}var OTe=TTe;const MTe=Qt(OTe);var DTe=rT;function ITe(e,t){return DTe(e,t)}var RTe=ITe;const Mj=Qt(RTe);var Vf=1e9,$Te={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AT,kn=!0,Ra="[DecimalError] ",cu=Ra+"Invalid argument: ",PT=Ra+"Exponent out of range: ",Wf=Math.floor,Mc=Math.pow,LTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zs,ur=1e7,jn=7,LW=9007199254740991,c0=Wf(LW/jn),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*jn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(e){return ko(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,n=t.constructor;return un(ko(t,new n(e),0,1),n.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return er(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Zs))throw Error(Ra+"NaN");if(n.s<1)throw Error(Ra+(n.s?"NaN":"-Infinity"));return n.eq(Zs)?new r(0):(kn=!1,t=ko(gg(n,i),gg(e,i),i),kn=!0,un(t,a))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UW(t,e):FW(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Ra+"NaN");return n.s?(kn=!1,t=ko(n,e,0,1).times(e),kn=!0,n.minus(t)):un(new r(n),a)};ze.naturalExponential=ze.exp=function(){return BW(this)};ze.naturalLogarithm=ze.ln=function(){return gg(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FW(t,e):UW(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cu+e);if(t=er(a)+1,r=a.d.length-1,n=r*jn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ze.squareRoot=ze.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ra+"NaN")}for(e=er(l),kn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Bi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Wf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(ko(l,i,o+2)).times(.5),Bi(i.d).slice(0,o)===(t=Bi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(un(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return kn=!0,un(r,n)};ze.times=ze.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%ur|0,t=l/ur|0;i[a]=(i[a]+t)%ur|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,kn?un(e,h.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ji(e,0,Vf),t===void 0?t=r.rounding:Ji(t,0,8),un(n,e+er(n)+1,t))};ze.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Su(r,!0):(Ji(e,0,Vf),t===void 0?t=a.rounding:Ji(t,0,8),r=un(new a(r),e+1,t),n=Su(r,!0,e+1)),n};ze.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Su(a):(Ji(e,0,Vf),t===void 0?t=i.rounding:Ji(t,0,8),r=un(new i(a),e+er(a)+1,t),n=Su(r.abs(),!1,e+er(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return un(new t(e),er(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Zs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ra+"Infinity");return l}if(l.eq(Zs))return l;if(r=c.precision,e.eq(Zs))return un(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=LW){for(a=new c(Zs),t=Math.ceil(r/jn+4),kn=!1;n%2&&(a=a.times(l),E$(a.d,t)),n=Wf(n/2),n!==0;)l=l.times(l),E$(l.d,t);return kn=!0,e.s<0?new c(Zs).div(a):un(a,r)}}else if(i<0)throw Error(Ra+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,kn=!1,a=e.times(gg(l,r+u)),kn=!0,a=BW(a),a.s=i,a};ze.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=er(a),r=Su(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ji(e,1,Vf),t===void 0?t=i.rounding:Ji(t,0,8),a=un(new i(a),e,t),n=er(a),r=Su(a,e<=n||n<=i.toExpNeg,e)),r};ze.toSignificantDigits=ze.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ji(e,1,Vf),t===void 0?t=r.rounding:Ji(t,0,8)),un(new r(n),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=er(e),n=e.constructor;return Su(e,t<=n.toExpNeg||t>=n.toExpPos)};function FW(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kn?un(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(h/jn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/ur|0,c[i]%=ur;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,kn?un(t,h):t}function Ji(e,t,n){if(e!==~~e||e<t||e>n)throw Error(cu+e)}function Bi(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=jn-r.length,n&&(i+=hl(n)),i+=r;o=e[t],r=o+"",n=jn-r.length,n&&(i+=hl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ko=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%ur|0,o=i/ur|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ur+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,h,f,m,v,p,x,y,b,w,j,N,S,C,k,E=r.constructor,A=r.s==a.s?1:-1,P=r.d,B=a.d;if(!r.s)return new E(r);if(!a.s)throw Error(Ra+"Division by zero");for(c=r.e-a.e,C=B.length,N=P.length,m=new E(A),v=m.d=[],u=0;B[u]==(P[u]||0);)++u;if(B[u]>(P[u]||0)&&--c,i==null?b=i=E.precision:o?b=i+(er(r)-er(a))+1:b=i,b<0)return new E(0);if(b=b/jn+2|0,u=0,C==1)for(d=0,B=B[0],b++;(u<N||d)&&b--;u++)w=d*ur+(P[u]||0),v[u]=w/B|0,d=w%B|0;else{for(d=ur/(B[0]+1)|0,d>1&&(B=e(B,d),P=e(P,d),C=B.length,N=P.length),j=C,p=P.slice(0,C),x=p.length;x<C;)p[x++]=0;k=B.slice(),k.unshift(0),S=B[0],B[1]>=ur/2&&++S;do d=0,l=t(B,p,C,x),l<0?(y=p[0],C!=x&&(y=y*ur+(p[1]||0)),d=y/S|0,d>1?(d>=ur&&(d=ur-1),h=e(B,d),f=h.length,x=p.length,l=t(h,p,f,x),l==1&&(d--,n(h,C<f?k:B,f))):(d==0&&(l=d=1),h=B.slice()),f=h.length,f<x&&h.unshift(0),n(p,h,x),l==-1&&(x=p.length,l=t(B,p,C,x),l<1&&(d++,n(p,C<x?k:B,x))),x=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[x++]=P[j]||0:(p=[P[j]],x=1);while((j++<N||p[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,un(m,o?i+er(m)+1:i)}}();function BW(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(er(e)>16)throw Error(PT+er(e));if(!e.s)return new d(Zs);for(t==null?(kn=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Mc(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(Zs),d.precision=l;;){if(a=un(a.times(e),l),n=n.times(++c),o=i.plus(ko(a,n,l)),Bi(o.d).slice(0,l)===Bi(i.d).slice(0,l)){for(;u--;)i=un(i.times(i),l);return d.precision=h,t==null?(kn=!0,un(i,h)):i}i=o}}function er(e){for(var t=e.e*jn,n=e.d[0];n>=10;n/=10)t++;return t}function eN(e,t,n){if(t>e.LN10.sd())throw kn=!0,n&&(e.precision=n),Error(Ra+"LN10 precision limit exceeded");return un(new e(e.LN10),t)}function hl(e){for(var t="";e--;)t+="0";return t}function gg(e,t){var n,r,a,i,o,l,c,u,d,h=1,f=10,m=e,v=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Ra+(m.s?"NaN":"-Infinity"));if(m.eq(Zs))return new p(0);if(t==null?(kn=!1,u=x):u=t,m.eq(10))return t==null&&(kn=!0),eN(p,u);if(u+=f,p.precision=u,n=Bi(v),r=n.charAt(0),i=er(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Bi(m.d),r=n.charAt(0),h++;i=er(m),r>1?(m=new p("0."+n),i++):m=new p(r+"."+n.slice(1))}else return c=eN(p,u+2,x).times(i+""),m=gg(new p(r+"."+n.slice(1)),u-f).plus(c),p.precision=x,t==null?(kn=!0,un(m,x)):m;for(l=o=m=ko(m.minus(Zs),m.plus(Zs),u),d=un(m.times(m),u),a=3;;){if(o=un(o.times(d),u),c=l.plus(ko(o,new p(a),u)),Bi(c.d).slice(0,u)===Bi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(eN(p,u+2,x).times(i+""))),l=ko(l,new p(h),u),p.precision=x,t==null?(kn=!0,un(l,x)):l;l=c,a+=2}}function k$(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Wf(n/jn),e.d=[],r=(n+1)%jn,n<0&&(r+=jn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=jn;r<a;)e.d.push(+t.slice(r,r+=jn));t=t.slice(r),r=jn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),kn&&(e.e>c0||e.e<-c0))throw Error(PT+n)}else e.s=0,e.e=0,e.d=[0];return e}function un(e,t,n){var r,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=jn,a=t,u=h[d=0];else{if(d=Math.ceil((r+1)/jn),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=jn,a=r-jn+o}if(n!==void 0&&(i=Mc(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Mc(10,o-a):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=er(e),h.length=1,t=t-i-1,h[0]=Mc(10,(jn-t%jn)%jn),e.e=Wf(-t/jn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=Mc(10,jn-r),h[d]=a>0?(u/Mc(10,o-a)%Mc(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==ur&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=ur)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(kn&&(e.e>c0||e.e<-c0))throw Error(PT+er(e));return e}function UW(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),kn?un(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),a=Math.max(Math.ceil(m/jn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=ur-1;--c[i],c[a]+=ur}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,kn?un(t,m):t):new f(0)}function Su(e,t,n){var r,a=er(e),i=Bi(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+hl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+hl(-a-1)+i,n&&(r=n-o)>0&&(i+=hl(r))):a>=o?(i+=hl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+hl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=hl(r))),e.s<0?"-"+i:i}function E$(e,t){if(e.length>t)return e.length=t,!0}function zW(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return k$(o,i.toString())}else if(typeof i!="string")throw Error(cu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,LTe.test(i))k$(o,i);else throw Error(cu+i)}if(a.prototype=ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zW,a.config=a.set=FTe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function FTe(e){if(!e||typeof e!="object")throw Error(Ra+"Object expected");var t,n,r,a=["precision",1,Vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Wf(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(cu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cu+n+": "+r);return this}var AT=zW($Te);Zs=new AT(1);const an=AT;function BTe(e){return VTe(e)||qTe(e)||zTe(e)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(e,t){if(e){if(typeof e=="string")return Ak(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(e,t)}}function qTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VTe(e){if(Array.isArray(e))return Ak(e)}function Ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WTe=function(t){return t},qW={"@@functional/placeholder":!0},VW=function(t){return t===qW},P$=function(t){return function n(){return arguments.length===0||arguments.length===1&&VW(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},HTe=function e(t,n){return t===1?n:P$(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==qW}).length;return o>=t?n.apply(void 0,a):e(t-o,P$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return VW(h)?c.shift():h});return n.apply(void 0,BTe(d).concat(c))}))})},Dj=function(t){return HTe(t.length,t)},Tk=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},GTe=Dj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),YTe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return WTe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Ok=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},WW=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function KTe(e){var t;return e===0?t=1:t=Math.floor(new an(e).abs().log(10).toNumber())+1,t}function JTe(e,t,n){for(var r=new an(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var XTe=Dj(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),QTe=Dj(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),ZTe=Dj(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ij={rangeStep:JTe,getDigitCount:KTe,interpolateNumber:XTe,uninterpolateNumber:QTe,uninterpolateTruncation:ZTe};function Mk(e){return nOe(e)||tOe(e)||HW(e)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nOe(e){if(Array.isArray(e))return Dk(e)}function vg(e,t){return aOe(e)||sOe(e,t)||HW(e,t)||rOe()}function rOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HW(e,t){if(e){if(typeof e=="string")return Dk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dk(e,t)}}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function aOe(e){if(Array.isArray(e))return e}function GW(e){var t=vg(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function YW(e,t,n){if(e.lte(0))return new an(0);var r=Ij.getDigitCount(e.toNumber()),a=new an(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new an(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new an(Math.ceil(c))}function iOe(e,t,n){var r=1,a=new an(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new an(10).pow(Ij.getDigitCount(e)-1),a=new an(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new an(Math.floor(e)))}else e===0?a=new an(Math.floor((t-1)/2)):n||(a=new an(Math.floor(e)));var o=Math.floor((t-1)/2),l=YTe(GTe(function(c){return a.add(new an(c-o).mul(r)).toNumber()}),Tk);return l(0,t)}function KW(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new an(0),tickMin:new an(0),tickMax:new an(0)};var i=YW(new an(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new an(0):(o=new an(e).add(t).div(2),o=o.sub(new an(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new an(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?KW(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new an(l).mul(i)),tickMax:o.add(new an(c).mul(i))})}function oOe(e){var t=vg(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=GW([n,r]),c=vg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(Mk(Tk(0,a-1).map(function(){return 1/0}))):[].concat(Mk(Tk(0,a-1).map(function(){return-1/0})),[d]);return n>r?Ok(h):h}if(u===d)return iOe(u,a,i);var f=KW(u,d,o,i),m=f.step,v=f.tickMin,p=f.tickMax,x=Ij.rangeStep(v,p.add(new an(.1).mul(m)),m);return n>r?Ok(x):x}function lOe(e,t){var n=vg(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GW([r,a]),l=vg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),h=YW(new an(u).sub(c).div(d-1),i,0),f=[].concat(Mk(Ij.rangeStep(new an(c),new an(u).sub(new an(.99).mul(h)),h)),[u]);return r>a?Ok(f):f}var cOe=WW(oOe),uOe=WW(lOe),dOe="Invariant failed";function Cu(e,t){throw new Error(dOe)}var hOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(this,arguments)}function fOe(e,t){return vOe(e)||gOe(e,t)||pOe(e,t)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pOe(e,t){if(e){if(typeof e=="string")return A$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A$(e,t)}}function A$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vOe(e){if(Array.isArray(e))return e}function xOe(e,t){if(e==null)return{};var n=yOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wOe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QW(r.key),r)}}function jOe(e,t,n){return t&&wOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Oe(e,t,n){return t=d0(t),NOe(e,JW()?Reflect.construct(t,n||[],d0(e).constructor):t.apply(e,n))}function NOe(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(e)}function SOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function d0(e){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(e)}function COe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ik(e,t)}function XW(e,t,n){return t=QW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=kOe(e,"string");return Hh(t)=="symbol"?t:t+""}function kOe(e,t){if(Hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lv=function(e){function t(){return bOe(this,t),_Oe(this,t,arguments)}return COe(t,e),jOe(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=xOe(r,hOe),m=Tt(f,!1);this.props.direction==="x"&&d.type!=="number"&&Cu();var v=c.map(function(p){var x=u(p,l),y=x.x,b=x.y,w=x.value,j=x.errorVal;if(!j)return null;var N=[],S,C;if(Array.isArray(j)){var k=fOe(j,2);S=k[0],C=k[1]}else S=C=j;if(i==="vertical"){var E=d.scale,A=b+a,P=A+o,B=A-o,U=E(w-S),I=E(w+C);N.push({x1:I,y1:P,x2:I,y2:B}),N.push({x1:U,y1:A,x2:I,y2:A}),N.push({x1:U,y1:P,x2:U,y2:B})}else if(i==="horizontal"){var L=h.scale,M=y+a,$=M-o,R=M+o,F=L(w-S),D=L(w+C);N.push({x1:$,y1:D,x2:R,y2:D}),N.push({x1:M,y1:F,x2:M,y2:D}),N.push({x1:$,y1:F,x2:R,y2:F})}return X.createElement(Wn,u0({className:"recharts-errorBar",key:"bar-".concat(N.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),N.map(function(H){return X.createElement("line",u0({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return X.createElement(Wn,{className:"recharts-errorBars"},v)}}])}(X.Component);XW(Lv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XW(Lv,"displayName","ErrorBar");function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function T$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T$(Object(n),!0).forEach(function(r){EOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EOe(e,t,n){return t=POe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function POe(e){var t=AOe(e,"string");return xg(t)=="symbol"?t:t+""}function AOe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZW=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Js(n,Xd);if(!o)return null;var l=Xd.defaultProps,c=l!==void 0?jc(jc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,v=m.sectors||m.data||[];return d.concat(v.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?jc(jc({},f),h.props):{},v=m.dataKey,p=m.name,x=m.legendType,y=m.hide;return{inactive:y,dataKey:v,type:c.iconType||x||"square",color:TT(h),value:p||v,payload:m}}),jc(jc(jc({},c),Xd.getWithHeight(o,a)),{},{payload:u,item:o})};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function O$(e){return DOe(e)||MOe(e)||OOe(e)||TOe()}function TOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OOe(e,t){if(e){if(typeof e=="string")return Rk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rk(e,t)}}function MOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DOe(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(n),!0).forEach(function(r){Zd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zd(e,t,n){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IOe(e){var t=ROe(e,"string");return yg(t)=="symbol"?t:t+""}function ROe(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(e,t,n){return St(e)||St(t)?n:ir(t)?Aa(e,t,n):jt(t)?t(e):n}function vp(e,t,n,r){var a=MTe(e,function(l){return ca(l,t)});if(n==="number"){var i=a.filter(function(l){return Re(l)||parseFloat(l)});return i.length?[Oj(i),Tj(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!St(l)}):a;return o.map(function(l){return ir(l)||l instanceof Date?l:""})}var $Oe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(oi(h-d)!==oi(f-h)){var v=[];if(oi(f-h)===oi(c[1]-c[0])){m=f;var p=h+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{m=d;var x=f+c[1]-c[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var b=Math.min(d,f),w=Math.max(d,f);if(t>(b+h)/2&&t<=(w+h)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},TT=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bn(Bn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},LOe=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var v=d[h[f]],p=v.items,x=v.cateAxisId,y=p.filter(function(C){return No(C.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Bn(Bn({},b),y[0].props):y[0].props,j=w.barSize,N=w[x];o[N]||(o[N]=[]);var S=St(j)?n:j;o[N].push({item:y[0],stackList:y.slice(1),barSize:St(S)?void 0:Nu(S,r,0)})}}return o},FOe=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Nu(n,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,v=o.reduce(function(j,N){return j+N.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(f=!0,m*=.9,v=c*m);var p=(a-v)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(j,N){var S={item:N.item,position:{offset:x.offset+x.size+u,size:f?m:N.barSize}},C=[].concat(O$(j),[S]);return x=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){C.push({item:k,position:x})}),C},h)}else{var y=Nu(r,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(j,N,S){var C=[].concat(O$(j),[{item:N.item,position:{offset:y+(b+u)*S+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},h)}return d},BOe=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=ZW({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&Re(t[m]))return Bn(Bn({},t),{},Zd({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&Re(t[v]))return Bn(Bn({},t),{},Zd({},v,t[v]+(f||0)))}return t},UOe=function(t,n,r){return St(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},e9=function(t,n,r,a,i){var o=n.props.children,l=Ta(o,Lv).filter(function(u){return UOe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=ca(d,r);if(St(h))return u;var f=Array.isArray(h)?[Oj(h),Tj(h)]:[h,h],m=c.reduce(function(v,p){var x=ca(d,p,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),b=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},zOe=function(t,n,r,a,i){var o=n.map(function(l){return e9(t,l,r,i,a)}).filter(function(l){return!St(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},t9=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&e9(t,c,u,a)||vp(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},n9=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},r9=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},bo=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?oi(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Tv(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},tN=new WeakMap,Hx=function(t,n){if(typeof n!="function")return t;tN.has(t)||tN.set(t,new WeakMap);var r=tN.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},qOe=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:dg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:a0(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:gp(),realScaleType:"point"}:i==="category"?{scale:dg(),realScaleType:"band"}:{scale:a0(),realScaleType:"linear"};if(Av(a)){var c="scale".concat(xj(a));return{scale:(C$[c]||gp)(),realScaleType:C$[c]?c:"point"}}return jt(a)?{scale:a}:{scale:gp(),realScaleType:"point"}},D$=1e-4,VOe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-D$,o=Math.max(a[0],a[1])+D$,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},WOe=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},HOe=function(t,n){if(!n||n.length!==2||!Re(n[0])||!Re(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Re(t[0])||t[0]<r)&&(i[0]=r),(!Re(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},GOe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Tv(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},YOe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Tv(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},KOe={sign:GOe,expand:uwe,none:Lh,silhouette:dwe,wiggle:hwe,positive:YOe},JOe=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=KOe[r],o=cwe().keys(a).value(function(l,c){return+ca(l,c,0)}).order(ok).offset(i);return o(t)},XOe=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var m,v=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Bn(Bn({},f.type.defaultProps),f.props):f.props,p=v.stackId,x=v.hide;if(x)return h;var y=v[r],b=h[y]||{hasStack:!1,stackGroups:{}};if(ir(p)){var w=b.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[Ov("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return Bn(Bn({},h),{},Zd({},y,b))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var y=m.stackGroups[x];return Bn(Bn({},p),{},Zd({},x,{numericAxisId:r,cateAxisId:a,items:y.items,stackedData:JOe(t,y.items,i)}))},v)}return Bn(Bn({},h),{},Zd({},f,m))},d)},QOe=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=cOe(u,i,l);return t.domain([Oj(d),Tj(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=uOe(h,i,l);return{niceTicks:f}}return null};function I$(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!St(a[t.dataKey])){var l=Ib(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=ca(a,St(o)?t.dataKey:o);return St(c)?null:t.scale(c)}var R$=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=ca(o,n.dataKey,n.domain[l]);return St(c)?null:n.scale(c)-i/2+a},ZOe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},eMe=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bn(Bn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ir(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},tMe=function(t){return t.reduce(function(n,r){return[Oj(r.concat([n[0]]).filter(Re)),Tj(r.concat([n[1]]).filter(Re))]},[1/0,-1/0])},s9=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=tMe(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$k=function(t,n,r){if(jt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Re(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if($$.test(t[0])){var i=+$$.exec(t[0])[1];a[0]=n[0]-i}else jt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Re(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(L$.test(t[1])){var o=+L$.exec(t[1])[1];a[1]=n[1]+o}else jt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},h0=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=aT(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},F$=function(t,n,r){return!t||!t.length||Mj(t,Aa(r,"type.defaultProps.domain"))?n:t},a9=function(t,n){var r=t.type.defaultProps?Bn(Bn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Bn(Bn({},Tt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:TT(t),value:ca(n,a),type:c,payload:n,chartType:u,hide:d})};function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function U$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(n),!0).forEach(function(r){nMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nMe(e,t,n){return t=rMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rMe(e){var t=sMe(e,"string");return bg(t)=="symbol"?t:t+""}function sMe(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f0=Math.PI/180,aMe=function(t){return t*180/Math.PI},Sr=function(t,n,r,a){return{x:t+Math.cos(-f0*a)*r,y:n+Math.sin(-f0*a)*r}},iMe=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},oMe=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=iMe({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:aMe(u),angleInRadian:u}},lMe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},cMe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},z$=function(t,n){var r=t.x,a=t.y,i=oMe({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=lMe(n),h=d.startAngle,f=d.endAngle,m=l,v;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}return v?U$(U$({},n),{},{radius:o,angle:cMe(m,n)}):null};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}var uMe=["offset"];function dMe(e){return pMe(e)||mMe(e)||fMe(e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(e,t){if(e){if(typeof e=="string")return Lk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(e,t)}}function mMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pMe(e){if(Array.isArray(e))return Lk(e)}function Lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gMe(e,t){if(e==null)return{};var n=vMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(n),!0).forEach(function(r){xMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xMe(e,t,n){return t=yMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yMe(e){var t=bMe(e,"string");return wg(t)=="symbol"?t:t+""}function bMe(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(this,arguments)}var wMe=function(t){var n=t.value,r=t.formatter,a=St(t.children)?n:t.children;return jt(r)?r(a):a},jMe=function(t,n){var r=oi(n-t),a=Math.min(Math.abs(n-t),360);return r*a},_Me=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,v=c.endAngle,p=c.clockWise,x=(h+f)/2,y=jMe(m,v),b=y>=0?1:-1,w,j;a==="insideStart"?(w=m+b*o,j=p):a==="insideEnd"?(w=v-b*o,j=!p):a==="end"&&(w=v+b*o,j=p),j=y<=0?j:!j;var N=Sr(u,d,x,w),S=Sr(u,d,x,w+(j?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),k=St(t.id)?Ov("recharts-radial-line-"):t.id;return X.createElement("text",jg({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:k,d:C})),X.createElement("textPath",{xlinkHref:"#".concat(k)},n))},NMe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=Sr(o,l,u+r,f),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,y=Sr(o,l,x,f),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},SMe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",v=h>0?"start":"end",p=u>=0?1:-1,x=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return nr(nr({},w),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:v};return nr(nr({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return nr(nr({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return nr(nr({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return i==="insideLeft"?nr({x:l+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?nr({x:l+u-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideTop"?nr({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},C):i==="insideBottom"?nr({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?nr({x:l+x,y:c+f,textAnchor:b,verticalAnchor:v},C):i==="insideTopRight"?nr({x:l+u-x,y:c+f,textAnchor:y,verticalAnchor:v},C):i==="insideBottomLeft"?nr({x:l+x,y:c+d-f,textAnchor:b,verticalAnchor:m},C):i==="insideBottomRight"?nr({x:l+u-x,y:c+d-f,textAnchor:y,verticalAnchor:m},C):Rf(i)&&(Re(i.x)||Wc(i.x))&&(Re(i.y)||Wc(i.y))?nr({x:l+Nu(i.x,u),y:c+Nu(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):nr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},CMe=function(t){return"cx"in t&&Re(t.cx)};function Lr(e){var t=e.offset,n=t===void 0?5:t,r=gMe(e,uMe),a=nr({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||St(l)&&St(c)&&!g.isValidElement(u)&&!jt(u))return null;if(g.isValidElement(u))return g.cloneElement(u,a);var m;if(jt(u)){if(m=g.createElement(u,a),g.isValidElement(m))return m}else m=wMe(a);var v=CMe(i),p=Tt(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _Me(a,m,p);var x=v?NMe(a):SMe(a);return X.createElement(Qb,jg({className:Mt("recharts-label",h)},p,x,{breakAll:f}),m)}Lr.displayName="Label";var i9=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,v=t.left,p=t.width,x=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Re(p)&&Re(x)){if(Re(h)&&Re(f))return{x:h,y:f,width:p,height:x};if(Re(m)&&Re(v))return{x:m,y:v,width:p,height:x}}return Re(h)&&Re(f)?{x:h,y:f,width:0,height:0}:Re(n)&&Re(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},kMe=function(t,n){return t?t===!0?X.createElement(Lr,{key:"label-implicit",viewBox:n}):ir(t)?X.createElement(Lr,{key:"label-implicit",viewBox:n,value:t}):g.isValidElement(t)?t.type===Lr?g.cloneElement(t,{key:"label-implicit",viewBox:n}):X.createElement(Lr,{key:"label-implicit",content:t,viewBox:n}):jt(t)?X.createElement(Lr,{key:"label-implicit",content:t,viewBox:n}):Rf(t)?X.createElement(Lr,jg({viewBox:n},t,{key:"label-implicit"})):null:null},EMe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=i9(t),o=Ta(a,Lr).map(function(c,u){return g.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=kMe(t.label,n||i);return[l].concat(dMe(o))};Lr.parseViewBox=i9;Lr.renderCallByParent=EMe;function PMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var AMe=PMe;const TMe=Qt(AMe);function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var OMe=["valueAccessor"],MMe=["data","dataKey","clockWise","id","textBreakAll"];function DMe(e){return LMe(e)||$Me(e)||RMe(e)||IMe()}function IMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(e,t){if(e){if(typeof e=="string")return Fk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fk(e,t)}}function $Me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LMe(e){if(Array.isArray(e))return Fk(e)}function Fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(this,arguments)}function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function W$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V$(Object(n),!0).forEach(function(r){FMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FMe(e,t,n){return t=BMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BMe(e){var t=UMe(e,"string");return _g(t)=="symbol"?t:t+""}function UMe(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H$(e,t){if(e==null)return{};var n=zMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qMe=function(t){return Array.isArray(t.value)?TMe(t.value):t.value};function zl(e){var t=e.valueAccessor,n=t===void 0?qMe:t,r=H$(e,OMe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=H$(r,MMe);return!a||!a.length?null:X.createElement(Wn,{className:"recharts-label-list"},a.map(function(d,h){var f=St(i)?n(d,h):ca(d&&d.payload,i),m=St(l)?{}:{id:"".concat(l,"-").concat(h)};return X.createElement(Lr,m0({},Tt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Lr.parseViewBox(St(o)?d:W$(W$({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}zl.displayName="LabelList";function VMe(e,t){return e?e===!0?X.createElement(zl,{key:"labelList-implicit",data:t}):X.isValidElement(e)||jt(e)?X.createElement(zl,{key:"labelList-implicit",data:t,content:e}):Rf(e)?X.createElement(zl,m0({data:t},e,{key:"labelList-implicit"})):null:null}function WMe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Ta(r,zl).map(function(o,l){return g.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=VMe(e.label,t);return[i].concat(DMe(a))}zl.renderCallByParent=WMe;function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bk.apply(this,arguments)}function G$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(n),!0).forEach(function(r){HMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HMe(e,t,n){return t=GMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GMe(e){var t=YMe(e,"string");return Ng(t)=="symbol"?t:t+""}function YMe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KMe=function(t,n){var r=oi(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Gx=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/f0,f=u?i:i+o*h,m=Sr(n,r,d,f),v=Sr(n,r,a,f),p=u?i-o*h:i,x=Sr(n,r,d*Math.cos(h*f0),p);return{center:m,circleTangency:v,lineTangency:x,theta:h}},o9=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=KMe(o,l),u=o+c,d=Sr(n,r,i,o),h=Sr(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=Sr(n,r,a,o),v=Sr(n,r,a,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},JMe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=oi(d-u),f=Gx({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,v=f.lineTangency,p=f.theta,x=Gx({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),y=x.circleTangency,b=x.lineTangency,w=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):o9({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Gx({cx:n,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,k=S.lineTangency,E=S.theta,A=Gx({cx:n,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,B=A.lineTangency,U=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-E-U;if(I<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},XMe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},l9=function(t){var n=Y$(Y$({},XMe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var m=Mt("recharts-sector",f),v=o-i,p=Nu(l,v,0,!0),x;return p>0&&Math.abs(d-h)<360?x=JMe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=o9({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),X.createElement("path",Bk({},Tt(n,!0),{className:m,d:x,role:"img"}))};function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uk.apply(this,arguments)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(r){QMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QMe(e,t,n){return t=ZMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZMe(e){var t=eDe(e,"string");return Sg(t)=="symbol"?t:t+""}function eDe(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X$={curveBasisClosed:Q0e,curveBasisOpen:Z0e,curveBasis:X0e,curveBumpX:$0e,curveBumpY:L0e,curveLinearClosed:ewe,curveLinear:bj,curveMonotoneX:twe,curveMonotoneY:nwe,curveNatural:rwe,curveStep:swe,curveStepAfter:iwe,curveStepBefore:awe},Yx=function(t){return t.x===+t.x&&t.y===+t.y},Pm=function(t){return t.x},Am=function(t){return t.y},tDe=function(t,n){if(jt(t))return t;var r="curve".concat(xj(t));return(r==="curveMonotone"||r==="curveBump")&&n?X$["".concat(r).concat(n==="vertical"?"Y":"X")]:X$[r]||bj},nDe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=tDe(r,l),h=u?i.filter(function(p){return Yx(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return Yx(p)}):o,v=h.map(function(p,x){return J$(J$({},p),{},{base:m[x]})});return l==="vertical"?f=Lx().y(Am).x1(Pm).x0(function(p){return p.base.x}):f=Lx().x(Pm).y1(Am).y0(function(p){return p.base.y}),f.defined(Yx).curve(d),f(v)}return l==="vertical"&&Re(o)?f=Lx().y(Am).x1(Pm).x0(o):Re(o)?f=Lx().x(Pm).y1(Am).y0(o):f=l7().x(Pm).y(Am),f.defined(Yx).curve(d),f(h)},zk=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?nDe(t):a;return X.createElement("path",Uk({},Tt(t,!1),Rb(t),{className:Mt("recharts-curve",n),d:o,ref:i}))},c9={exports:{}},rDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sDe=rDe,aDe=sDe;function u9(){}function d9(){}d9.resetWarningCache=u9;var iDe=function(){function e(r,a,i,o,l,c){if(c!==aDe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:d9,resetWarningCache:u9};return n.PropTypes=n,n};c9.exports=iDe();var oDe=c9.exports;const vt=Qt(oDe);var lDe=Object.getOwnPropertyNames,cDe=Object.getOwnPropertySymbols,uDe=Object.prototype.hasOwnProperty;function Q$(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function Kx(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function Z$(e){return lDe(e).concat(cDe(e))}var h9=Object.hasOwn||function(e,t){return uDe.call(e,t)};function Hf(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var f9="_owner",eL=Object.getOwnPropertyDescriptor,tL=Object.keys;function dDe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function hDe(e,t){return Hf(e.getTime(),t.getTime())}function nL(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],v=l.value,p=v[0],x=v[1];!u&&!r[d]&&(u=n.equals(f,p,i,d,e,t,n)&&n.equals(m,x,f,p,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;i++}return!0}function fDe(e,t,n){var r=tL(e),a=r.length;if(tL(t).length!==a)return!1;for(var i;a-- >0;)if(i=r[a],i===f9&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!h9(t,i)||!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function Tm(e,t,n){var r=Z$(e),a=r.length;if(Z$(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],i===f9&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!h9(t,i)||!n.equals(e[i],t[i],i,i,e,t,n)||(o=eL(e,i),l=eL(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function mDe(e,t){return Hf(e.valueOf(),t.valueOf())}function pDe(e,t){return e.source===t.source&&e.flags===t.flags}function rL(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(i.value,o.value,i.value,o.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function gDe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var vDe="[object Arguments]",xDe="[object Boolean]",yDe="[object Date]",bDe="[object Map]",wDe="[object Number]",jDe="[object Object]",_De="[object RegExp]",NDe="[object Set]",SDe="[object String]",CDe=Array.isArray,sL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aL=Object.assign,kDe=Object.prototype.toString.call.bind(Object.prototype.toString);function EDe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return a(d,h,f);if(CDe(d))return t(d,h,f);if(sL!=null&&sL(d))return c(d,h,f);if(m===Date)return n(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return r(d,h,f);if(m===Set)return l(d,h,f);var v=kDe(d);return v===yDe?n(d,h,f):v===_De?o(d,h,f):v===bDe?r(d,h,f):v===NDe?l(d,h,f):v===jDe?typeof d.then!="function"&&typeof h.then!="function"&&a(d,h,f):v===vDe?a(d,h,f):v===xDe||v===wDe||v===SDe?i(d,h,f):!1}}function PDe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Tm:dDe,areDatesEqual:hDe,areMapsEqual:r?Q$(nL,Tm):nL,areObjectsEqual:r?Tm:fDe,arePrimitiveWrappersEqual:mDe,areRegExpsEqual:pDe,areSetsEqual:r?Q$(rL,Tm):rL,areTypedArraysEqual:r?Tm:gDe};if(n&&(a=aL({},a,n(a))),t){var i=Kx(a.areArraysEqual),o=Kx(a.areMapsEqual),l=Kx(a.areObjectsEqual),c=Kx(a.areSetsEqual);a=aL({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function ADe(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function TDe(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var ODe=fc();fc({strict:!0});fc({circular:!0});fc({circular:!0,strict:!0});fc({createInternalComparator:function(){return Hf}});fc({strict:!0,createInternalComparator:function(){return Hf}});fc({circular:!0,createInternalComparator:function(){return Hf}});fc({circular:!0,createInternalComparator:function(){return Hf},strict:!0});function fc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=PDe(e),c=EDe(l),u=r?r(c):ADe(c);return TDe({circular:n,comparator:c,createState:a,equals:u,strict:o})}function MDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function iL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):MDe(a)};requestAnimationFrame(r)}function qk(e){"@babel/helpers - typeof";return qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qk(e)}function DDe(e){return LDe(e)||$De(e)||RDe(e)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RDe(e,t){if(e){if(typeof e=="string")return oL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oL(e,t)}}function oL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $De(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LDe(e){if(Array.isArray(e))return e}function FDe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=DDe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){iL(a.bind(null,u),c);return}a(c),iL(a.bind(null,u));return}qk(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return t=BDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BDe(e){var t=UDe(e,"string");return Cg(t)==="symbol"?t:String(t)}function UDe(e,t){if(Cg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zDe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},qDe=function(t){return t},VDe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xp=function(t,n){return Object.keys(n).reduce(function(r,a){return cL(cL({},r),{},m9({},a,t(a,n[a])))},{})},uL=function(t,n,r){return t.map(function(a){return"".concat(VDe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function WDe(e,t){return YDe(e)||GDe(e,t)||p9(e,t)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YDe(e){if(Array.isArray(e))return e}function KDe(e){return QDe(e)||XDe(e)||p9(e)||JDe()}function JDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9(e,t){if(e){if(typeof e=="string")return Vk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(e,t)}}function XDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QDe(e){if(Array.isArray(e))return Vk(e)}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p0=1e-4,g9=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},v9=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},dL=function(t,n){return function(r){var a=g9(t,n);return v9(a,r)}},ZDe=function(t,n){return function(r){var a=g9(t,n),i=[].concat(KDe(a.map(function(o,l){return o*l}).slice(1)),[0]);return v9(i,r)}},hL=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=WDe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=dL(a,o),f=dL(i,l),m=ZDe(a,o),v=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,w=b,j=0;j<8;++j){var N=h(w)-b,S=m(w);if(Math.abs(N-b)<p0||S<p0)return f(w);w=v(w-N/S)}return f(w)};return p.isStepper=!1,p},eIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*r,v=f*i,p=f+(m-v)*l/1e3,x=f*l/1e3+d;return Math.abs(x-h)<p0&&Math.abs(p)<p0?[h,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},tIe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hL(a);case"spring":return eIe();default:if(a.split("(")[0]==="cubic-bezier")return hL(a)}return typeof a=="function"?a:null};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function fL(e){return sIe(e)||rIe(e)||x9(e)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sIe(e){if(Array.isArray(e))return Hk(e)}function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(r){Wk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wk(e,t,n){return t=aIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aIe(e){var t=iIe(e,"string");return kg(t)==="symbol"?t:String(t)}function iIe(e,t){if(kg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oIe(e,t){return uIe(e)||cIe(e,t)||x9(e,t)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9(e,t){if(e){if(typeof e=="string")return Hk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(e,t)}}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uIe(e){if(Array.isArray(e))return e}var g0=function(t,n,r){return t+(n-t)*r},Gk=function(t){var n=t.from,r=t.to;return n!==r},dIe=function e(t,n,r){var a=xp(function(i,o){if(Gk(o)){var l=t(o.from,o.to,o.velocity),c=oIe(l,2),u=c[0],d=c[1];return jr(jr({},o),{},{from:u,velocity:d})}return o},n);return r<1?xp(function(i,o){return Gk(o)?jr(jr({},o),{},{velocity:g0(o.velocity,a[i].velocity,r),from:g0(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const hIe=function(e,t,n,r,a){var i=zDe(e,t),o=i.reduce(function(x,y){return jr(jr({},x),{},Wk({},y,[e[y],t[y]]))},{}),l=i.reduce(function(x,y){return jr(jr({},x),{},Wk({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return xp(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(Gk).length},v=function(y){u||(u=y);var b=y-u,w=b/n.dt;l=dIe(n,l,w),a(jr(jr(jr({},e),t),f())),u=y,m()||(c=requestAnimationFrame(h))},p=function(y){d||(d=y);var b=(y-d)/r,w=xp(function(N,S){return g0.apply(void 0,fL(S).concat([n(b)]))},o);if(a(jr(jr(jr({},e),t),w)),b<1)c=requestAnimationFrame(h);else{var j=xp(function(N,S){return g0.apply(void 0,fL(S).concat([n(1)]))},o);a(jr(jr(jr({},e),t),j))}};return h=n.isStepper?v:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}var fIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mIe(e,t){if(e==null)return{};var n=pIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function nN(e){return yIe(e)||xIe(e)||vIe(e)||gIe()}function gIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vIe(e,t){if(e){if(typeof e=="string")return Yk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yk(e,t)}}function xIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yIe(e){if(Array.isArray(e))return Yk(e)}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(n),!0).forEach(function(r){Wm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wm(e,t,n){return t=y9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y9(r.key),r)}}function jIe(e,t,n){return t&&wIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y9(e){var t=_Ie(e,"string");return Gh(t)==="symbol"?t:String(t)}function _Ie(e,t){if(Gh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kk(e,t)}function Kk(e,t){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Kk(e,t)}function SIe(e){var t=CIe();return function(){var r=v0(e),a;if(t){var i=v0(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Jk(this,a)}}function Jk(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xk(e)}function Xk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v0(e){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v0(e)}var Fo=function(e){NIe(n,e);var t=SIe(n);function n(r,a){var i;bIe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Xk(i)),i.changeStyle=i.changeStyle.bind(Xk(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),Jk(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},Jk(i);i.state={style:c?Wm({},c,u):u}}else i.state={style:{}};return i}return jIe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?Wm({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(ODe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?h:a.to;if(this.state&&f){var x={style:c?Wm({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(x)}this.runAnimation(Wa(Wa({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=hIe(o,l,tIe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([f,d,v,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,x,y){if(y===0)return p;var b=x.duration,w=x.easing,j=w===void 0?"ease":w,N=x.style,S=x.properties,C=x.onAnimationEnd,k=y>0?o[y-1]:x,E=S||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(nN(p),[i.runJSAnimation.bind(i,{from:k.style,to:N,duration:b,easing:j}),b]);var A=uL(E,b,j),P=Wa(Wa(Wa({},k.style),N),{},{transition:A});return[].concat(nN(p),[P,b,C]).filter(qDe)};return this.manager.start([c].concat(nN(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=FDe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?Wm({},l,c):c,x=uL(Object.keys(p),o,u);v.start([d,i,Wa(Wa({},p),{},{transition:x}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=mIe(a,fIe),u=g.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var v=m.props,p=v.style,x=p===void 0?{}:p,y=v.className,b=g.cloneElement(m,Wa(Wa({},c),{},{style:Wa(Wa({},x),d),className:y}));return b};return u===1?h(g.Children.only(i)):X.createElement("div",null,g.Children.map(i,function(f){return h(f)}))}}]),n}(g.PureComponent);Fo.displayName="Animate";Fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fo.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(null,arguments)}vt.object,vt.object,vt.object,vt.element;vt.object,vt.object,vt.object,vt.oneOfType([vt.array,vt.element]),vt.any;function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(this,arguments)}function kIe(e,t){return TIe(e)||AIe(e,t)||PIe(e,t)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PIe(e,t){if(e){if(typeof e=="string")return gL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(e,t)}}function gL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TIe(e){if(Array.isArray(e))return e}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){OIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OIe(e,t,n){return t=MIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MIe(e){var t=DIe(e,"string");return Eg(t)=="symbol"?t:t+""}function DIe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yL=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),d+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(n,`
            L `).concat(t+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*v,`
            L `).concat(t+r,",").concat(n+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-c*v,",").concat(n+a,`
            L `).concat(t+c*v,",").concat(n+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*v," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},IIe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&a>=h&&a<=f}return!1},RIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OT=function(t){var n=xL(xL({},RIe),t),r=g.useRef(),a=g.useState(-1),i=kIe(a,2),o=i[0],l=i[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,v=n.animationEasing,p=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Mt("recharts-rectangle",m);return b?X.createElement(Fo,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:b},function(j){var N=j.width,S=j.height,C=j.x,k=j.y;return X.createElement(Fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:y,easing:v},X.createElement("path",x0({},Tt(n,!0),{className:w,d:yL(C,k,N,S,f),ref:r})))}):X.createElement("path",x0({},Tt(n,!0),{className:w,d:yL(c,u,d,h,f)}))};function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qk.apply(this,arguments)}var MT=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Mt("recharts-dot",i);return n===+n&&r===+r&&a===+a?X.createElement("circle",Qk({},Tt(t,!1),Rb(t),{className:o,cx:n,cy:r,r:a})):null};function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}var $Ie=["x","y","top","left","width","height","className"];function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zk.apply(this,arguments)}function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LIe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(r){FIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FIe(e,t,n){return t=BIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BIe(e){var t=UIe(e,"string");return Pg(t)=="symbol"?t:t+""}function UIe(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zIe(e,t){if(e==null)return{};var n=qIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var VIe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},WIe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,v=t.className,p=zIe(t,$Ie),x=LIe({x:r,y:i,top:l,left:u,width:h,height:m},p);return!Re(r)||!Re(i)||!Re(h)||!Re(m)||!Re(l)||!Re(u)?null:X.createElement("path",Zk({},Tt(x,!0),{className:Mt("recharts-cross",v),d:VIe(r,i,h,m,l,u)}))},HIe=O7,GIe=HIe(Object.getPrototypeOf,Object),YIe=GIe,KIe=zo,JIe=YIe,XIe=qo,QIe="[object Object]",ZIe=Function.prototype,e4e=Object.prototype,b9=ZIe.toString,t4e=e4e.hasOwnProperty,n4e=b9.call(Object);function r4e(e){if(!XIe(e)||KIe(e)!=QIe)return!1;var t=JIe(e);if(t===null)return!0;var n=t4e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&b9.call(n)==n4e}var s4e=r4e;const a4e=Qt(s4e);var i4e=zo,o4e=qo,l4e="[object Boolean]";function c4e(e){return e===!0||e===!1||o4e(e)&&i4e(e)==l4e}var u4e=c4e;const d4e=Qt(u4e);function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(this,arguments)}function h4e(e,t){return g4e(e)||p4e(e,t)||m4e(e,t)||f4e()}function f4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4e(e,t){if(e){if(typeof e=="string")return wL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wL(e,t)}}function wL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function g4e(e){if(Array.isArray(e))return e}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(r){v4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v4e(e,t,n){return t=x4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x4e(e){var t=y4e(e,"string");return Ag(t)=="symbol"?t:t+""}function y4e(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NL=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},b4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w4e=function(t){var n=_L(_L({},b4e),t),r=g.useRef(),a=g.useState(-1),i=h4e(a,2),o=i[0],l=i[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,v=n.animationEasing,p=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=Mt("recharts-trapezoid",m);return y?X.createElement(Fo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:y},function(w){var j=w.upperWidth,N=w.lowerWidth,S=w.height,C=w.x,k=w.y;return X.createElement(Fo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:v},X.createElement("path",y0({},Tt(n,!0),{className:b,d:NL(C,k,j,N,S),ref:r})))}):X.createElement("g",null,X.createElement("path",y0({},Tt(n,!0),{className:b,d:NL(c,u,d,h,f)})))},j4e=["option","shapeType","propTransformer","activeClassName","isActive"];function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function _4e(e,t){if(e==null)return{};var n=N4e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function b0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(n),!0).forEach(function(r){S4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S4e(e,t,n){return t=C4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C4e(e){var t=k4e(e,"string");return Tg(t)=="symbol"?t:t+""}function k4e(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E4e(e,t){return b0(b0({},t),e)}function P4e(e,t){return e==="symbols"}function CL(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return X.createElement(OT,n);case"trapezoid":return X.createElement(w4e,n);case"sector":return X.createElement(l9,n);case"symbols":if(P4e(t))return X.createElement(XA,n);break;default:return null}}function A4e(e){return g.isValidElement(e)?e.props:e}function T4e(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?E4e:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=_4e(e,j4e),u;if(g.isValidElement(t))u=g.cloneElement(t,b0(b0({},c),A4e(t)));else if(jt(t))u=t(c);else if(a4e(t)&&!d4e(t)){var d=a(t,c);u=X.createElement(CL,{shapeType:n,elementProps:d})}else{var h=c;u=X.createElement(CL,{shapeType:n,elementProps:h})}return l?X.createElement(Wn,{className:o},u):u}function Rj(e,t){return t!=null&&"trapezoids"in e.props}function $j(e,t){return t!=null&&"sectors"in e.props}function Og(e,t){return t!=null&&"points"in e.props}function O4e(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function M4e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function D4e(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function I4e(e,t){var n;return Rj(e,t)?n=O4e:$j(e,t)?n=M4e:Og(e,t)&&(n=D4e),n}function R4e(e,t){var n;return Rj(e,t)?n="trapezoids":$j(e,t)?n="sectors":Og(e,t)&&(n="points"),n}function $4e(e,t){if(Rj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($j(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Og(e,t)?t.payload:{}}function L4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=R4e(n,t),i=$4e(n,t),o=r.filter(function(c,u){var d=Mj(i,c),h=n.props[a].filter(function(v){var p=I4e(n,t);return p(v,t)}),f=n.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var F4e=Math.ceil,B4e=Math.max;function U4e(e,t,n,r){for(var a=-1,i=B4e(F4e((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var z4e=U4e,q4e=X7,kL=1/0,V4e=17976931348623157e292;function W4e(e){if(!e)return e===0?e:0;if(e=q4e(e),e===kL||e===-kL){var t=e<0?-1:1;return t*V4e}return e===e?e:0}var w9=W4e,H4e=z4e,G4e=Nj,rN=w9;function Y4e(e){return function(t,n,r){return r&&typeof r!="number"&&G4e(t,n,r)&&(n=r=void 0),t=rN(t),n===void 0?(n=t,t=0):n=rN(n),r=r===void 0?t<n?1:-1:rN(r),H4e(t,n,r,e)}}var K4e=Y4e,J4e=K4e,X4e=J4e(),Q4e=X4e;const w0=Qt(Q4e);function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function EL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(n),!0).forEach(function(r){j9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j9(e,t,n){return t=Z4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z4e(e){var t=eRe(e,"string");return Mg(t)=="symbol"?t:t+""}function eRe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tRe=["Webkit","Moz","O","ms"],nRe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=tRe.reduce(function(i,o){return PL(PL({},i),{},j9({},o+r,n))},{});return a[t]=n,a};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(this,arguments)}function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){Hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N9(r.key),r)}}function sRe(e,t,n){return t&&TL(e.prototype,t),n&&TL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aRe(e,t,n){return t=_0(t),iRe(e,_9()?Reflect.construct(t,n||[],_0(e).constructor):t.apply(e,n))}function iRe(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(e)}function oRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_9=function(){return!!e})()}function _0(e){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_0(e)}function lRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},eE(e,t)}function Hs(e,t,n){return t=N9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N9(e){var t=cRe(e,"string");return Yh(t)=="symbol"?t:t+""}function cRe(e,t){if(Yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uRe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=gp().domain(w0(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},OL=function(t){return t.changedTouches&&!!t.changedTouches.length},Kh=function(e){function t(n){var r;return rRe(this,t),r=aRe(this,t,[n]),Hs(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Hs(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Hs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Hs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hs(r,"handleSlideDragStart",function(a){var i=OL(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lRe(t,e),sRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),v=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=ca(i[r],l,r);return jt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,v=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==f||x.endIndex!==m)&&v&&v(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=OL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,v=d.onChange,p=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,h+f-m-u):b<0&&(b=Math.max(b,h-u)),y[o]=u+b;var w=this.getIndex(y),j=w.startIndex,N=w.endIndex,S=function(){var k=x.length-1;return o==="startX"&&(l>c?j%p===0:N%p===0)||l<c&&N===k||o==="endX"&&(l>c?N%p===0:j%p===0)||l>c&&N===k};this.setState(Hs(Hs({},o,u+b),"brushMoveStartX",r.pageX),function(){v&&S()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Hs({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return X.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=g.Children.only(u);return h?X.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,v=c.data,p=c.startIndex,x=c.endIndex,y=Math.max(r,this.props.x),b=sN(sN({},Tt(this.props,!1)),{},{x:y,y:u,width:d,height:h}),w=m||"Min value: ".concat((i=v[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return X.createElement(Wn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,h=Math.max(Math.abs(a-r)-u,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,v={pointerEvents:"none",fill:u};return X.createElement(Wn,{className:"recharts-brush-texts"},X.createElement(Qb,j0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},v),this.getTextOfTick(a)),X.createElement(Qb,j0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,v=f.endX,p=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!a||!a.length||!Re(l)||!Re(c)||!Re(u)||!Re(d)||u<=0||d<=0)return null;var w=Mt("recharts-brush",i),j=X.Children.count(o)===1,N=nRe("userSelect","none");return X.createElement(Wn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||x||y||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return X.isValidElement(r)?i=X.cloneElement(r,a):jt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return sN({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?uRe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(g.PureComponent);Hs(Kh,"displayName","Brush");Hs(Kh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dRe=sT;function hRe(e,t){var n;return dRe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var fRe=hRe,mRe=N7,pRe=uc,gRe=fRe,vRe=Bs,xRe=Nj;function yRe(e,t,n){var r=vRe(e)?mRe:gRe;return n&&xRe(e,t,n)&&(t=void 0),r(e,pRe(t))}var bRe=yRe;const wRe=Qt(bRe);var Wi=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},ML=H7;function jRe(e,t,n){t=="__proto__"&&ML?ML(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _Re=jRe,NRe=_Re,SRe=V7,CRe=uc;function kRe(e,t){var n={};return t=CRe(t),SRe(e,function(r,a,i){NRe(n,a,t(r,a,i))}),n}var ERe=kRe;const PRe=Qt(ERe);function ARe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var TRe=ARe,ORe=sT;function MRe(e,t){var n=!0;return ORe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var DRe=MRe,IRe=TRe,RRe=DRe,$Re=uc,LRe=Bs,FRe=Nj;function BRe(e,t,n){var r=LRe(e)?IRe:RRe;return n&&FRe(e,t,n)&&(t=void 0),r(e,$Re(t))}var URe=BRe;const S9=Qt(URe);var zRe=["x","y"];function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tE.apply(this,arguments)}function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(n),!0).forEach(function(r){qRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qRe(e,t,n){return t=VRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VRe(e){var t=WRe(e,"string");return Dg(t)=="symbol"?t:t+""}function WRe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HRe(e,t){if(e==null)return{};var n=GRe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YRe(e,t){var n=e.x,r=e.y,a=HRe(e,zRe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return Om(Om(Om(Om(Om({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function IL(e){return X.createElement(T4e,tE({shapeType:"rectangle",propTransformer:YRe,activeClassName:"recharts-active-bar"},e))}var KRe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,a):(i||Cu(),n)}},JRe=["value","background"],C9;function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function XRe(e,t){if(e==null)return{};var n=QRe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(this,arguments)}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(r){Al(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E9(r.key),r)}}function e$e(e,t,n){return t&&$L(e.prototype,t),n&&$L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t$e(e,t,n){return t=S0(t),n$e(e,k9()?Reflect.construct(t,n||[],S0(e).constructor):t.apply(e,n))}function n$e(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r$e(e)}function r$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!e})()}function S0(e){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(e)}function s$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},nE(e,t)}function Al(e,t,n){return t=E9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=a$e(e,"string");return Jh(t)=="symbol"?t:t+""}function a$e(e,t){if(Jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ql=function(e){function t(){var n;ZRe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t$e(this,t,[].concat(a)),Al(n,"state",{isAnimationFinished:!1}),Al(n,"id",Ov("recharts-bar-")),Al(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Al(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return s$e(t,e),e$e(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Tt(this.props,!1);return r&&r.map(function(h,f){var m=f===c,v=m?u:o,p=Jn(Jn(Jn({},d),h),{},{isActive:m,option:v,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(Wn,N0({className:"recharts-bar-rectangle"},$b(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),X.createElement(IL,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return X.createElement(Fo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=i.map(function(x,y){var b=f&&f[y];if(b){var w=ai(b.x,x.x),j=ai(b.y,x.y),N=ai(b.width,x.width),S=ai(b.height,x.height);return Jn(Jn({},x),{},{x:w(v),y:j(v),width:N(v),height:S(v)})}if(o==="horizontal"){var C=ai(0,x.height),k=C(v);return Jn(Jn({},x),{},{y:x.y+x.height-k,height:k})}var E=ai(0,x.width),A=E(v);return Jn(Jn({},x),{},{width:A})});return X.createElement(Wn,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Mj(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Tt(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=XRe(u,JRe);if(!h)return null;var m=Jn(Jn(Jn(Jn(Jn({},f),{},{fill:"#eee"},h),c),$b(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return X.createElement(IL,N0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Ta(d,Lv);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:ca(x,y)}},v={clipPath:r?"url(#clipPath-".concat(a,")"):null};return X.createElement(Wn,v,h.map(function(p){return X.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,v=r.background,p=r.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,y=Mt("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,N=St(p)?this.id:p;return X.createElement(Wn,{className:y},b||w?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(N)},X.createElement("rect",{x:b?u:u-h/2,y:w?d:d-f/2,width:b?h:h*2,height:w?f:f*2}))):null,X.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!m||x)&&zl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(g.PureComponent);C9=Ql;Al(Ql,"displayName","Bar");Al(Ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Al(Ql,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=WOe(r,n);if(!m)return null;var v=t.layout,p=n.type.defaultProps,x=p!==void 0?Jn(Jn({},p),n.props):n.props,y=x.dataKey,b=x.children,w=x.minPointSize,j=v==="horizontal"?o:i,N=u?j.scale.domain():null,S=ZOe({numericAxis:j}),C=Ta(b,Z7),k=h.map(function(E,A){var P,B,U,I,L,M;u?P=HOe(u[d+A],N):(P=ca(E,y),Array.isArray(P)||(P=[S,P]));var $=KRe(w,C9.defaultProps.minPointSize)(P[1],A);if(v==="horizontal"){var R,F=[o.scale(P[0]),o.scale(P[1])],D=F[0],H=F[1];B=R$({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:E,index:A}),U=(R=H??D)!==null&&R!==void 0?R:void 0,I=m.size;var z=D-H;if(L=Number.isNaN(z)?0:z,M={x:B,y:o.y,width:I,height:o.height},Math.abs($)>0&&Math.abs(L)<Math.abs($)){var _=oi(L||$)*(Math.abs($)-Math.abs(L));U-=_,L+=_}}else{var O=[i.scale(P[0]),i.scale(P[1])],T=O[0],q=O[1];if(B=T,U=R$({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:A}),I=q-T,L=m.size,M={x:i.x,y:U,width:i.width,height:L},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var W=oi(I||$)*(Math.abs($)-Math.abs(I));I+=W}}return Jn(Jn(Jn({},E),{},{x:B,y:U,width:I,height:L,value:u?P:P[1],payload:E,background:M},C&&C[A]&&C[A].props),{},{tooltipPayload:[a9(n,E)],tooltipPosition:{x:B+I/2,y:U+L/2}})});return Jn({data:k,layout:v},f)});function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function i$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P9(r.key),r)}}function o$e(e,t,n){return t&&LL(e.prototype,t),n&&LL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(r){Lj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lj(e,t,n){return t=P9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=l$e(e,"string");return Ig(t)=="symbol"?t:t+""}function l$e(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A9=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!Js(u,Ql);return d.reduce(function(m,v){var p=n[v],x=p.orientation,y=p.domain,b=p.padding,w=b===void 0?{}:b,j=p.mirror,N=p.reversed,S="".concat(x).concat(j?"Mirror":""),C,k,E,A,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var B=y[1]-y[0],U=1/0,I=p.categoricalDomain.sort();if(I.forEach(function(O,T){T>0&&(U=Math.min((O||0)-(I[T-1]||0),U))}),Number.isFinite(U)){var L=U/B,M=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=L*M/2),p.padding==="no-gap"){var $=Nu(t.barCategoryGap,L*M),R=L*M/2;C=R-$-(R-$)/M*$}}}a==="xAxis"?k=[r.left+(w.left||0)+(C||0),r.left+r.width-(w.right||0)-(C||0)]:a==="yAxis"?k=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(C||0),r.top+r.height-(w.bottom||0)-(C||0)]:k=p.range,N&&(k=[k[1],k[0]]);var F=qOe(p,i,f),D=F.scale,H=F.realScaleType;D.domain(y).range(k),VOe(D);var z=QOe(D,ti(ti({},p),{},{realScaleType:H}));a==="xAxis"?(P=x==="top"&&!j||x==="bottom"&&j,E=r.left,A=h[S]-P*p.height):a==="yAxis"&&(P=x==="left"&&!j||x==="right"&&j,E=h[S]-P*p.width,A=r.top);var _=ti(ti(ti({},p),z),{},{realScaleType:H,x:E,y:A,scale:D,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return _.bandSize=h0(_,z),!p.hide&&a==="xAxis"?h[S]+=(P?-1:1)*_.height:p.hide||(h[S]+=(P?-1:1)*_.width),ti(ti({},m),{},Lj({},v,_))},{})},T9=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},c$e=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return T9({x:n,y:r},{x:a,y:i})},O9=function(){function e(t){i$e(this,e),this.scale=t}return o$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Lj(O9,"EPS",1e-4);var DT=function(t){var n=Object.keys(t).reduce(function(r,a){return ti(ti({},r),{},Lj({},a,O9.create(t[a])))},{});return ti(ti({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return PRe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return S9(a,function(i,o){return n[o].isInRange(i)})}})};function u$e(e){return(e%180+180)%180}var d$e=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=u$e(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},h$e=uc,f$e=Mv,m$e=jj;function p$e(e){return function(t,n,r){var a=Object(t);if(!f$e(t)){var i=h$e(n);t=m$e(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var g$e=p$e,v$e=w9;function x$e(e){var t=v$e(e),n=t%1;return t===t?n?t-n:t:0}var y$e=x$e,b$e=L7,w$e=uc,j$e=y$e,_$e=Math.max;function N$e(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:j$e(n);return a<0&&(a=_$e(r+a,0)),b$e(e,w$e(t),a)}var S$e=N$e,C$e=g$e,k$e=S$e,E$e=C$e(k$e),P$e=E$e;const A$e=Qt(P$e);var T$e=Pye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),IT=g.createContext(void 0),RT=g.createContext(void 0),M9=g.createContext(void 0),D9=g.createContext({}),I9=g.createContext(void 0),R9=g.createContext(0),$9=g.createContext(0),BL=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=T$e(i);return X.createElement(IT.Provider,{value:r},X.createElement(RT.Provider,{value:a},X.createElement(D9.Provider,{value:i},X.createElement(M9.Provider,{value:d},X.createElement(I9.Provider,{value:o},X.createElement(R9.Provider,{value:u},X.createElement($9.Provider,{value:c},l)))))))},O$e=function(){return g.useContext(I9)},L9=function(t){var n=g.useContext(IT);n==null&&Cu();var r=n[t];return r==null&&Cu(),r},M$e=function(){var t=g.useContext(IT);return xl(t)},D$e=function(){var t=g.useContext(RT),n=A$e(t,function(r){return S9(r.domain,Number.isFinite)});return n||xl(t)},F9=function(t){var n=g.useContext(RT);n==null&&Cu();var r=n[t];return r==null&&Cu(),r},I$e=function(){var t=g.useContext(M9);return t},R$e=function(){return g.useContext(D9)},$T=function(){return g.useContext($9)},LT=function(){return g.useContext(R9)};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function $$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U9(r.key),r)}}function F$e(e,t,n){return t&&L$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B$e(e,t,n){return t=C0(t),U$e(e,B9()?Reflect.construct(t,n||[],C0(e).constructor):t.apply(e,n))}function U$e(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z$e(e)}function z$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(e)}function q$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rE(e,t)}function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(n),!0).forEach(function(r){FT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FT(e,t,n){return t=U9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U9(e){var t=V$e(e,"string");return Xh(t)=="symbol"?t:t+""}function V$e(e,t){if(Xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W$e(e,t){return K$e(e)||Y$e(e,t)||G$e(e,t)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$e(e,t){if(e){if(typeof e=="string")return qL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qL(e,t)}}function qL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function K$e(e){if(Array.isArray(e))return e}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sE.apply(this,arguments)}var J$e=function(t,n){var r;return X.isValidElement(t)?r=X.cloneElement(t,n):jt(t)?r=t(n):r=X.createElement("line",sE({},n,{className:"recharts-reference-line-line"})),r},X$e=function(t,n,r,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(r){var v=u.y,p=t.y.apply(v,{position:o});if(Wi(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(n){var y=u.x,b=t.x.apply(y,{position:o});if(Wi(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:h+m},{x:b,y:h}];return l==="top"?w.reverse():w}if(a){var j=u.segment,N=j.map(function(S){return t.apply(S,{position:o})});return Wi(u,"discard")&&wRe(N,function(S){return!t.isInRange(S)})?null:N}return null};function Q$e(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=O$e(),d=L9(a),h=F9(i),f=I$e();if(!u||!f)return null;So(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=DT({x:d.scale,y:h.scale}),v=ir(t),p=ir(n),x=r&&r.length===2,y=X$e(m,v,p,x,f,e.position,d.orientation,h.orientation,e);if(!y)return null;var b=W$e(y,2),w=b[0],j=w.x,N=w.y,S=b[1],C=S.x,k=S.y,E=Wi(e,"hidden")?"url(#".concat(u,")"):void 0,A=zL(zL({clipPath:E},Tt(e,!0)),{},{x1:j,y1:N,x2:C,y2:k});return X.createElement(Wn,{className:Mt("recharts-reference-line",l)},J$e(o,A),Lr.renderCallByParent(e,c$e({x1:j,y1:N,x2:C,y2:k})))}var BT=function(e){function t(){return $$e(this,t),B$e(this,t,arguments)}return q$e(t,e),F$e(t,[{key:"render",value:function(){return X.createElement(Q$e,this.props)}}])}(X.Component);FT(BT,"displayName","ReferenceLine");FT(BT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aE.apply(this,arguments)}function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){Fj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q9(r.key),r)}}function tLe(e,t,n){return t&&eLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nLe(e,t,n){return t=k0(t),rLe(e,z9()?Reflect.construct(t,n||[],k0(e).constructor):t.apply(e,n))}function rLe(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sLe(e)}function sLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(e)}function aLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iE(e,t)}function Fj(e,t,n){return t=q9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=iLe(e,"string");return Qh(t)=="symbol"?t:t+""}function iLe(e,t){if(Qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oLe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=DT({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Wi(t,"discard")&&!o.isInRange(l)?null:l},Bj=function(e){function t(){return Z$e(this,t),nLe(this,t,arguments)}return aLe(t,e),tLe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=ir(a),d=ir(i);if(So(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=oLe(this.props);if(!h)return null;var f=h.x,m=h.y,v=this.props,p=v.shape,x=v.className,y=Wi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=WL(WL({clipPath:y},Tt(this.props,!0)),{},{cx:f,cy:m});return X.createElement(Wn,{className:Mt("recharts-reference-dot",x)},t.renderDot(p,b),Lr.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(X.Component);Fj(Bj,"displayName","ReferenceDot");Fj(Bj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fj(Bj,"renderDot",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):jt(e)?n=e(t):n=X.createElement(MT,aE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oE.apply(this,arguments)}function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function HL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(n),!0).forEach(function(r){Uj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W9(r.key),r)}}function uLe(e,t,n){return t&&cLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dLe(e,t,n){return t=E0(t),hLe(e,V9()?Reflect.construct(t,n||[],E0(e).constructor):t.apply(e,n))}function hLe(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fLe(e)}function fLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!e})()}function E0(e){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(e)}function mLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lE(e,t)}function Uj(e,t,n){return t=W9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W9(e){var t=pLe(e,"string");return Zh(t)=="symbol"?t:t+""}function pLe(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gLe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=DT({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Wi(i,"discard")&&(!f.isInRange(m)||!f.isInRange(v))?null:T9(m,v)},zj=function(e){function t(){return lLe(this,t),dLe(this,t,arguments)}return mLe(t,e),uLe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;So(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ir(a),f=ir(i),m=ir(o),v=ir(l),p=this.props.shape;if(!h&&!f&&!m&&!v&&!p)return null;var x=gLe(h,f,m,v,this.props);if(!x&&!p)return null;var y=Wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return X.createElement(Wn,{className:Mt("recharts-reference-area",c)},t.renderRect(p,GL(GL({clipPath:y},Tt(this.props,!0)),x)),Lr.renderCallByParent(this.props,x))}}])}(X.Component);Uj(zj,"displayName","ReferenceArea");Uj(zj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Uj(zj,"renderRect",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):jt(e)?n=e(t):n=X.createElement(OT,oE({},t,{className:"recharts-reference-area-rect"})),n});function H9(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function vLe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return d$e(r,n)}function xLe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function P0(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function yLe(e,t){return H9(e,t+1)}function bLe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:H9(r,u)};var p=c,x,y=function(){return x===void 0&&(x=n(v,p)),x},b=v.coordinate,w=c===0||P0(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){wLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wLe(e,t,n){return t=jLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jLe(e){var t=_Le(e,"string");return Rg(t)=="symbol"?t:t+""}function _Le(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NLe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],v,p=function(){return v===void 0&&(v=n(m,f)),v};if(f===o-1){var x=e*(m.coordinate+e*p()/2-c);i[f]=m=Ir(Ir({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[f]=m=Ir(Ir({},m),{},{tickCoord:m.coordinate});var y=P0(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),i[f]=Ir(Ir({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function SLe(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=Ir(Ir({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=P0(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=Ir(Ir({},d),{},{isShow:!0}))}for(var v=i?l-1:l,p=function(b){var w=o[b],j,N=function(){return j===void 0&&(j=n(w,b)),j};if(b===0){var S=e*(w.coordinate-e*N()/2-c);o[b]=w=Ir(Ir({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[b]=w=Ir(Ir({},w),{},{tickCoord:w.coordinate});var C=P0(e,w.tickCoord,N,c,u);C&&(c=w.tickCoord+e*(N()/2+a),o[b]=Ir(Ir({},w),{},{isShow:!0}))},x=0;x<v;x++)p(x);return o}function UT(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(Re(c)||Co.isSsr)return yLe(a,typeof c=="number"&&Re(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?pp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(w,j){var N=jt(u)?u(w.value,j):w.value;return m==="width"?vLe(pp(N,{fontSize:t,letterSpacing:n}),v,h):pp(N,{fontSize:t,letterSpacing:n})[m]},x=a.length>=2?oi(a[1].coordinate-a[0].coordinate):1,y=xLe(i,x,m);return c==="equidistantPreserveStart"?bLe(x,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=SLe(x,y,p,a,o,c==="preserveStartEnd"):f=NLe(x,y,p,a,o),f.filter(function(b){return b.isShow}))}var CLe=["viewBox"],kLe=["viewBox"],ELe=["ticks"];function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(n),!0).forEach(function(r){zT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aN(e,t){if(e==null)return{};var n=PLe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PLe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ALe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y9(r.key),r)}}function TLe(e,t,n){return t&&JL(e.prototype,t),n&&JL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OLe(e,t,n){return t=A0(t),MLe(e,G9()?Reflect.construct(t,n||[],A0(e).constructor):t.apply(e,n))}function MLe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DLe(e)}function DLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G9=function(){return!!e})()}function A0(e){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(e)}function ILe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cE(e,t)}function zT(e,t,n){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=RLe(e,"string");return ef(t)=="symbol"?t:t+""}function RLe(e,t){if(ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf=function(e){function t(n){var r;return ALe(this,t),r=OLe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return ILe(t,e),TLe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=aN(r,CLe),l=this.props,c=l.viewBox,u=aN(l,kLe);return!Jd(i,c)||!Jd(o,u)||!Jd(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,v,p,x,y,b,w=h?-1:1,j=r.tickSize||d,N=Re(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,x=o+ +!h*c,p=x-w*j,b=p-w*f,y=N;break;case"left":p=x=r.coordinate,v=i+ +!h*l,m=v-w*j,y=m-w*f,b=N;break;case"right":p=x=r.coordinate,v=i+ +h*l,m=v+w*j,y=m+w*f,b=N;break;default:m=v=r.coordinate,x=o+ +h*c,p=x+w*j,b=p+w*f,y=N;break}return{line:{x1:m,y1:p,x2:v,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Qr(Qr(Qr({},Tt(this.props,!1)),Tt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Qr(Qr({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Qr(Qr({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return X.createElement("line",Id({},h,{className:Mt("recharts-cartesian-axis-line",Aa(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=UT(Qr(Qr({},this.props),{},{ticks:r}),a,i),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=Tt(this.props,!1),y=Tt(d,!1),b=Qr(Qr({},x),{},{fill:"none"},Tt(c,!1)),w=m.map(function(j,N){var S=o.getTickLineCoord(j),C=S.line,k=S.tick,E=Qr(Qr(Qr(Qr({textAnchor:v,verticalAnchor:p},x),{},{stroke:"none",fill:u},y),k),{},{index:N,payload:j,visibleTicksCount:m.length,tickFormatter:h});return X.createElement(Wn,Id({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},$b(o.props,j,N)),c&&X.createElement("line",Id({},b,C,{className:Mt("recharts-cartesian-axis-tick-line",Aa(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(jt(h)?h(j.value,N):j.value).concat(f||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=aN(h,ELe),v=f;return jt(c)&&(v=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:X.createElement(Wn,{className:Mt("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return X.isValidElement(r)?o=X.cloneElement(r,a):jt(r)?o=r(a):o=X.createElement(Qb,Id({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(g.Component);zT(Gf,"displayName","CartesianAxis");zT(Gf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Le=["x1","y1","x2","y2","key"],LLe=["offset"];function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function XL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(n),!0).forEach(function(r){FLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FLe(e,t,n){return t=BLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BLe(e){var t=ULe(e,"string");return ku(t)=="symbol"?t:t+""}function ULe(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}function QL(e,t){if(e==null)return{};var n=zLe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zLe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qLe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return X.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function K9(e,t){var n;if(X.isValidElement(e))n=X.cloneElement(e,t);else if(jt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=QL(t,$Le),u=Tt(c,!1);u.offset;var d=QL(u,LLe);n=X.createElement("line",Yc({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function VLe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Fr(Fr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return K9(a,u)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function WLe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Fr(Fr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return K9(a,u)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function HLe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var v=!d[m+1],p=v?a+o-f:d[m+1]-f;if(p<=0)return null;var x=m%t.length;return X.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function GLe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var v=!d[m+1],p=v?i+l-f:d[m+1]-f;if(p<=0)return null;var x=m%r.length;return X.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var YLe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return r9(UT(Fr(Fr(Fr({},Gf.defaultProps),r),{},{ticks:bo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},KLe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return r9(UT(Fr(Fr(Fr({},Gf.defaultProps),r),{},{ticks:bo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},hd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function J9(e){var t,n,r,a,i,o,l=$T(),c=LT(),u=R$e(),d=Fr(Fr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:hd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:hd.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:hd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:hd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:hd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:hd.verticalFill,x:Re(e.x)?e.x:u.left,y:Re(e.y)?e.y:u.top,width:Re(e.width)?e.width:u.width,height:Re(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,v=d.height,p=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,b=M$e(),w=D$e();if(!Re(m)||m<=0||!Re(v)||v<=0||!Re(h)||h!==+h||!Re(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||YLe,N=d.horizontalCoordinatesGenerator||KLe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&jt(N)){var k=x&&x.length,E=N({yAxis:w?Fr(Fr({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);So(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ku(E),"]")),Array.isArray(E)&&(S=E)}if((!C||!C.length)&&jt(j)){var A=y&&y.length,P=j({xAxis:b?Fr(Fr({},b),{},{ticks:A?y:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);So(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ku(P),"]")),Array.isArray(P)&&(C=P)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(qLe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),X.createElement(VLe,Yc({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),X.createElement(WLe,Yc({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:w})),X.createElement(HLe,Yc({},d,{horizontalPoints:S})),X.createElement(GLe,Yc({},d,{verticalPoints:C})))}J9.displayName="CartesianGrid";var JLe=["type","layout","connectNulls","ref"],XLe=["key"];function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function ZL(e,t){if(e==null)return{};var n=QLe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QLe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(this,arguments)}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){ni(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fd(e){return n3e(e)||t3e(e)||e3e(e)||ZLe()}function ZLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3e(e,t){if(e){if(typeof e=="string")return uE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(e,t)}}function t3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n3e(e){if(Array.isArray(e))return uE(e)}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q9(r.key),r)}}function s3e(e,t,n){return t&&t3(e.prototype,t),n&&t3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a3e(e,t,n){return t=T0(t),i3e(e,X9()?Reflect.construct(t,n||[],T0(e).constructor):t.apply(e,n))}function i3e(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o3e(e)}function o3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X9=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T0(e)}function l3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dE(e,t)}function ni(e,t,n){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9(e){var t=c3e(e,"string");return tf(t)=="symbol"?t:t+""}function c3e(e,t){if(tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yf=function(e){function t(){var n;r3e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=a3e(this,t,[].concat(a)),ni(n,"state",{isAnimationFinished:!0,totalLength:0}),ni(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ni(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>h){m=[].concat(fd(c.slice(0,v)),[h-p]);break}var x=m.length%2===0?[0,f]:[f];return[].concat(fd(t.repeat(c,d)),fd(m),x).map(function(y){return"".concat(y,"px")}).join(", ")}),ni(n,"id",Ov("recharts-line-")),ni(n,"pathRef",function(o){n.mainCurve=o}),ni(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ni(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return l3e(t,e),s3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Ta(d,Lv);if(!h)return null;var f=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:ca(p.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return X.createElement(Wn,m,h.map(function(v){return X.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Tt(this.props,!1),f=Tt(c,!0),m=u.map(function(p,x){var y=Vs(Vs(Vs({key:"dot-".concat(x),r:3},h),f),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:x,payload:p.payload});return t.renderDotItem(c,y)}),v={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return X.createElement(Wn,yp({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=ZL(l,JLe),f=Vs(Vs(Vs({},Tt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return X.createElement(zk,yp({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,v=o.animateNewValues,p=o.width,x=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return X.createElement(Fo,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(b){var S=b.length/l.length,C=l.map(function(B,U){var I=Math.floor(U*S);if(b[I]){var L=b[I],M=ai(L.x,B.x),$=ai(L.y,B.y);return Vs(Vs({},B),{},{x:M(N),y:$(N)})}if(v){var R=ai(p*2,B.x),F=ai(x/2,B.y);return Vs(Vs({},B),{},{x:R(N),y:F(N)})}return Vs(Vs({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(C,r,a)}var k=ai(0,w),E=k(N),A;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});A=i.getStrokeDasharray(E,w,P)}else A=i.generateSimpleStrokeDasharray(w,E);return i.renderCurveStatically(l,r,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Mj(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,v=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=Mt("recharts-line",c),j=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=j||N,C=St(x)?this.id:x,k=(r=Tt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},E=k.r,A=E===void 0?3:E,P=k.strokeWidth,B=P===void 0?2:P,U=Dbe(o)?o:{},I=U.clipDot,L=I===void 0?!0:I,M=A*2+B;return X.createElement(Wn,{className:w},j||N?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(C)},X.createElement("rect",{x:j?f:f-m/2,y:N?h:h-v/2,width:j?m:m*2,height:N?v:v*2})),!L&&X.createElement("clipPath",{id:"clipPath-dots-".concat(C)},X.createElement("rect",{x:f-M/2,y:h-M/2,width:m+M,height:v+M}))):null,!b&&this.renderCurve(S,C),this.renderErrorBar(S,C),(b||o)&&this.renderDots(S,L,C),(!p||y)&&zl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(fd(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(fd(o),fd(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(X.isValidElement(r))i=X.cloneElement(r,a);else if(jt(r))i=r(a);else{var o=a.key,l=ZL(a,XLe),c=Mt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=X.createElement(MT,yp({key:o},l,{className:c}))}return i}}])}(g.PureComponent);ni(Yf,"displayName","Line");ni(Yf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Co.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ni(Yf,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var v=ca(f,o);return d==="horizontal"?{x:I$({axis:n,ticks:a,bandSize:l,entry:f,index:m}),y:St(v)?null:r.scale(v),value:v,payload:f}:{x:St(v)?null:n.scale(v),y:I$({axis:r,ticks:i,bandSize:l,entry:f,index:m}),value:v,payload:f}});return Vs({points:h,layout:d},u)});function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function u3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d3e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tH(r.key),r)}}function h3e(e,t,n){return t&&d3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f3e(e,t,n){return t=O0(t),m3e(e,Z9()?Reflect.construct(t,n||[],O0(e).constructor):t.apply(e,n))}function m3e(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p3e(e)}function p3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z9=function(){return!!e})()}function O0(e){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(e)}function g3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}function hE(e,t){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hE(e,t)}function eH(e,t,n){return t=tH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tH(e){var t=v3e(e,"string");return nf(t)=="symbol"?t:t+""}function v3e(e,t){if(nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fE.apply(this,arguments)}function x3e(e){var t=e.xAxisId,n=$T(),r=LT(),a=L9(t);return a==null?null:X.createElement(Gf,fE({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return bo(o,!0)}}))}var Eu=function(e){function t(){return u3e(this,t),f3e(this,t,arguments)}return g3e(t,e),h3e(t,[{key:"render",value:function(){return X.createElement(x3e,this.props)}}])}(X.Component);eH(Eu,"displayName","XAxis");eH(Eu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function y3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b3e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sH(r.key),r)}}function w3e(e,t,n){return t&&b3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j3e(e,t,n){return t=M0(t),_3e(e,nH()?Reflect.construct(t,n||[],M0(e).constructor):t.apply(e,n))}function _3e(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N3e(e)}function N3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function M0(e){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(e)}function S3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mE(e,t)}function rH(e,t,n){return t=sH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=C3e(e,"string");return rf(t)=="symbol"?t:t+""}function C3e(e,t){if(rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pE.apply(this,arguments)}var k3e=function(t){var n=t.yAxisId,r=$T(),a=LT(),i=F9(n);return i==null?null:X.createElement(Gf,pE({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return bo(l,!0)}}))},Pu=function(e){function t(){return y3e(this,t),j3e(this,t,arguments)}return S3e(t,e),w3e(t,[{key:"render",value:function(){return X.createElement(k3e,this.props)}}])}(X.Component);rH(Pu,"displayName","YAxis");rH(Pu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function n3(e){return T3e(e)||A3e(e)||P3e(e)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3e(e,t){if(e){if(typeof e=="string")return gE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(e,t)}}function A3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T3e(e){if(Array.isArray(e))return gE(e)}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vE=function(t,n,r,a,i){var o=Ta(t,BT),l=Ta(t,Bj),c=[].concat(n3(o),n3(l)),u=Ta(t,zj),d="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(p,x){if(x.props[d]===r&&Wi(x.props,"extendDomain")&&Re(x.props[h])){var y=x.props[h];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},f)),u.length){var m="".concat(h,"1"),v="".concat(h,"2");f=u.reduce(function(p,x){if(x.props[d]===r&&Wi(x.props,"extendDomain")&&Re(x.props[m])&&Re(x.props[v])){var y=x.props[m],b=x.props[v];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,x){return Re(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},f)),f},aH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,v=new Array(m);f<m;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,v){var p=n?n+u:u;if(!this._events[p])return!1;var x=this._events[p],y=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,v),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var j=x.length,N;for(w=0;w<j;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,f);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!f||v.once)&&(!h||v.context===h)&&o(this,m);else{for(var p=0,x=[],y=v.length;p<y;p++)(v[p].fn!==d||f&&!v[p].once||h&&v[p].context!==h)&&x.push(v[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(aH);var O3e=aH.exports;const M3e=Qt(O3e);var iN=new M3e,oN="recharts.syncMouseEvents";function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function D3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I3e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iH(r.key),r)}}function R3e(e,t,n){return t&&I3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lN(e,t,n){return t=iH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(e){var t=$3e(e,"string");return $g(t)=="symbol"?t:t+""}function $3e(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var L3e=function(){function e(){D3e(this,e),lN(this,"activeIndex",0),lN(this,"coordinateList",[]),lN(this,"layout","horizontal")}return R3e(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function F3e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Re(r)&&Re(a))return!0}return!1}function B3e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function oH(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=Sr(t,n,r,a),l=Sr(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function U3e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=Sr(l,c,u,h),m=Sr(l,c,d,h);r=f.x,a=f.y,i=m.x,o=m.y}else return oH(t);return[{x:r,y:a},{x:i,y:o}]}function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(r){z3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z3e(e,t,n){return t=q3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q3e(e){var t=V3e(e,"string");return Lg(t)=="symbol"?t:t+""}function V3e(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W3e(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var v,p=zk;if(f==="ScatterChart")v=o,p=WIe;else if(f==="BarChart")v=B3e(h,o,c,d),p=OT;else if(h==="radial"){var x=oH(o),y=x.cx,b=x.cy,w=x.radius,j=x.startAngle,N=x.endAngle;v={cx:y,cy:b,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},p=l9}else v={points:U3e(h,o,c)},p=zk;var S=Jx(Jx(Jx(Jx({stroke:"#ccc",pointerEvents:"none"},c),v),Tt(m,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",m.className)});return g.isValidElement(m)?g.cloneElement(m,S):g.createElement(p,S)}var H3e=["item"],G3e=["children","className","width","height","style","compact","title","desc"];function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(this,arguments)}function s3(e,t){return J3e(e)||K3e(e,t)||cH(e,t)||Y3e()}function Y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function J3e(e){if(Array.isArray(e))return e}function a3(e,t){if(e==null)return{};var n=X3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function X3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uH(r.key),r)}}function e5e(e,t,n){return t&&Z3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t5e(e,t,n){return t=D0(t),n5e(e,lH()?Reflect.construct(t,n||[],D0(e).constructor):t.apply(e,n))}function n5e(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5e(e)}function r5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!e})()}function D0(e){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(e)}function s5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xE(e,t)}function af(e){return o5e(e)||i5e(e)||cH(e)||a5e()}function a5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(e,t){if(e){if(typeof e=="string")return yE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(e,t)}}function i5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o5e(e){if(Array.isArray(e))return yE(e)}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(n),!0).forEach(function(r){rt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rt(e,t,n){return t=uH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=l5e(e,"string");return sf(t)=="symbol"?t:t+""}function l5e(e,t){if(sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c5e={xAxis:["bottom","top"],yAxis:["left","right"]},u5e={width:"100%",height:"100%"},dH={x:0,y:0};function Xx(e){return e}var d5e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},h5e=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return _e(_e(_e({},a),Sr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return _e(_e(_e({},a),Sr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return dH},qj=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(af(l),af(u)):l},[]);return o.length>0?o:t&&t.length&&Re(a)&&Re(i)?t.slice(a,i+1):[]};function hH(e){return e==="number"?[0,"auto"]:void 0}var bE=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=qj(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Ib(m,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(af(c),[a9(u,f)]):c},[])},o3=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=d5e(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=$Oe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=bE(t,n,d,h),m=h5e(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},f5e=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=n9(d,i);return r.reduce(function(v,p){var x,y=p.type.defaultProps!==void 0?_e(_e({},p.type.defaultProps),p.props):p.props,b=y.type,w=y.dataKey,j=y.allowDataOverflow,N=y.allowDuplicatedCategory,S=y.scale,C=y.ticks,k=y.includeHidden,E=y[o];if(v[E])return v;var A=qj(t.data,{graphicalItems:a.filter(function(z){var _,O=o in z.props?z.props[o]:(_=z.type.defaultProps)===null||_===void 0?void 0:_[o];return O===E}),dataStartIndex:c,dataEndIndex:u}),P=A.length,B,U,I;F3e(y.domain,j,b)&&(B=$k(y.domain,null,j),m&&(b==="number"||S!=="auto")&&(I=vp(A,w,"category")));var L=hH(b);if(!B||B.length===0){var M,$=(M=y.domain)!==null&&M!==void 0?M:L;if(w){if(B=vp(A,w,b),b==="category"&&m){var R=Sbe(B);N&&R?(U=B,B=w0(0,P)):N||(B=F$($,B,p).reduce(function(z,_){return z.indexOf(_)>=0?z:[].concat(af(z),[_])},[]))}else if(b==="category")N?B=B.filter(function(z){return z!==""&&!St(z)}):B=F$($,B,p).reduce(function(z,_){return z.indexOf(_)>=0||_===""||St(_)?z:[].concat(af(z),[_])},[]);else if(b==="number"){var F=zOe(A,a.filter(function(z){var _,O,T=o in z.props?z.props[o]:(_=z.type.defaultProps)===null||_===void 0?void 0:_[o],q="hide"in z.props?z.props.hide:(O=z.type.defaultProps)===null||O===void 0?void 0:O.hide;return T===E&&(k||!q)}),w,i,d);F&&(B=F)}m&&(b==="number"||S!=="auto")&&(I=vp(A,w,"category"))}else m?B=w0(0,P):l&&l[E]&&l[E].hasStack&&b==="number"?B=f==="expand"?[0,1]:s9(l[E].stackGroups,c,u):B=t9(A,a.filter(function(z){var _=o in z.props?z.props[o]:z.type.defaultProps[o],O="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return _===E&&(k||!O)}),b,d,!0);if(b==="number")B=vE(h,B,E,i,C),$&&(B=$k($,B,j));else if(b==="category"&&$){var D=$,H=B.every(function(z){return D.indexOf(z)>=0});H&&(B=D)}}return _e(_e({},v),{},rt({},E,_e(_e({},y),{},{axisType:i,domain:B,categoricalDomain:I,duplicateDomain:U,originalDomain:(x=y.domain)!==null&&x!==void 0?x:L,isCategorical:m,layout:d})))},{})},m5e=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=qj(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,v=n9(d,i),p=-1;return r.reduce(function(x,y){var b=y.type.defaultProps!==void 0?_e(_e({},y.type.defaultProps),y.props):y.props,w=b[o],j=hH("number");if(!x[w]){p++;var N;return v?N=w0(0,m):l&&l[w]&&l[w].hasStack?(N=s9(l[w].stackGroups,c,u),N=vE(h,N,w,i)):(N=$k(j,t9(f,r.filter(function(S){var C,k,E=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],A="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===w&&!A}),"number",d),a.defaultProps.allowDataOverflow),N=vE(h,N,w,i)),_e(_e({},x),{},rt({},w,_e(_e({axisType:i},a.defaultProps),{},{hide:!0,orientation:Aa(c5e,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:j,isCategorical:v,layout:d})))}return x},{})},p5e=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=Ta(d,i),m={};return f&&f.length?m=f5e(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=m5e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},g5e=function(t){var n=xl(t),r=bo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aT(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:h0(n,r)}},l3=function(t){var n=t.children,r=t.defaultShowTooltip,a=Js(n,Kh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},v5e=function(t){return!t||!t.length?!1:t.some(function(n){var r=No(n&&n.type);return r&&r.indexOf("Bar")>=0})},c3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},x5e=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=Js(h,Kh),v=Js(h,Xd),p=Object.keys(c).reduce(function(N,S){var C=c[S],k=C.orientation;return!C.mirror&&!C.hide?_e(_e({},N),{},rt({},k,N[k]+C.width)):N},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(N,S){var C=o[S],k=C.orientation;return!C.mirror&&!C.hide?_e(_e({},N),{},rt({},k,Aa(N,"".concat(k))+C.height)):N},{top:f.top||0,bottom:f.bottom||0}),y=_e(_e({},x),p),b=y.bottom;m&&(y.bottom+=m.props.height||Kh.defaultProps.height),v&&n&&(y=BOe(y,a,r,n));var w=u-y.left-y.right,j=d-y.top-y.bottom;return _e(_e({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},y5e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},fH=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(x,y){var b=y.graphicalItems,w=y.stackGroups,j=y.offset,N=y.updateId,S=y.dataStartIndex,C=y.dataEndIndex,k=x.barSize,E=x.layout,A=x.barGap,P=x.barCategoryGap,B=x.maxBarSize,U=c3(E),I=U.numericAxisName,L=U.cateAxisName,M=v5e(b),$=[];return b.forEach(function(R,F){var D=qj(x.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:C}),H=R.type.defaultProps!==void 0?_e(_e({},R.type.defaultProps),R.props):R.props,z=H.dataKey,_=H.maxBarSize,O=H["".concat(I,"Id")],T=H["".concat(L,"Id")],q={},W=c.reduce(function(Ne,oe){var de=y["".concat(oe.axisType,"Map")],Pe=H["".concat(oe.axisType,"Id")];de&&de[Pe]||oe.axisType==="zAxis"||Cu();var Ie=de[Pe];return _e(_e({},Ne),{},rt(rt({},oe.axisType,Ie),"".concat(oe.axisType,"Ticks"),bo(Ie)))},q),K=W[L],G=W["".concat(L,"Ticks")],V=w&&w[O]&&w[O].hasStack&&eMe(R,w[O].stackGroups),se=No(R.type).indexOf("Bar")>=0,re=h0(K,G),je=[],be=M&&LOe({barSize:k,stackGroups:w,totalSize:y5e(W,L)});if(se){var ce,Z,ge=St(_)?B:_,ke=(ce=(Z=h0(K,G,!0))!==null&&Z!==void 0?Z:ge)!==null&&ce!==void 0?ce:0;je=FOe({barGap:A,barCategoryGap:P,bandSize:ke!==re?ke:re,sizeList:be[T],maxBarSize:ge}),ke!==re&&(je=je.map(function(Ne){return _e(_e({},Ne),{},{position:_e(_e({},Ne.position),{},{offset:Ne.position.offset-ke/2})})}))}var me=R&&R.type&&R.type.getComposedData;me&&$.push({props:_e(_e({},me(_e(_e({},W),{},{displayedData:D,props:x,dataKey:z,item:R,bandSize:re,barPosition:je,offset:j,stackedData:V,layout:E,dataStartIndex:S,dataEndIndex:C}))),{},rt(rt(rt({key:R.key||"item-".concat(F)},I,W[I]),L,W[L]),"animationId",N)),childIndex:$be(R,x.children),item:R})}),$},m=function(x,y){var b=x.props,w=x.dataStartIndex,j=x.dataEndIndex,N=x.updateId;if(!O4({props:b}))return null;var S=b.children,C=b.layout,k=b.stackOffset,E=b.data,A=b.reverseStackOrder,P=c3(C),B=P.numericAxisName,U=P.cateAxisName,I=Ta(S,r),L=XOe(E,I,"".concat(B,"Id"),"".concat(U,"Id"),k,A),M=c.reduce(function(H,z){var _="".concat(z.axisType,"Map");return _e(_e({},H),{},rt({},_,p5e(b,_e(_e({},z),{},{graphicalItems:I,stackGroups:z.axisType===B&&L,dataStartIndex:w,dataEndIndex:j}))))},{}),$=x5e(_e(_e({},M),{},{props:b,graphicalItems:I}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(H){M[H]=d(b,M[H],$,H.replace("Map",""),n)});var R=M["".concat(U,"Map")],F=g5e(R),D=f(b,_e(_e({},M),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:I,stackGroups:L,offset:$}));return _e(_e({formattedGraphicalItems:D,graphicalItems:I,offset:$,stackGroups:L},F),M)},v=function(p){function x(y){var b,w,j;return Q3e(this,x),j=t5e(this,x,[y]),rt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rt(j,"accessibilityManager",new L3e),rt(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,C=S.dataStartIndex,k=S.dataEndIndex,E=S.updateId;j.setState(_e({legendBBox:N},m({props:j.props,dataStartIndex:C,dataEndIndex:k,updateId:E},_e(_e({},j.state),{},{legendBBox:N}))))}}),rt(j,"handleReceiveSyncEvent",function(N,S,C){if(j.props.syncId===N){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),rt(j,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return _e({dataStartIndex:S,dataEndIndex:C},m({props:j.props,dataStartIndex:S,dataEndIndex:C,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),rt(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var C=_e(_e({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseEnter;jt(k)&&k(C,N)}}),rt(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),C=S?_e(_e({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseMove;jt(k)&&k(C,N)}),rt(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),rt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),rt(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),rt(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var C=j.props.onMouseLeave;jt(C)&&C(S,N)}),rt(j,"handleOuterEvent",function(N){var S=Rbe(N),C=Aa(j.props,"".concat(S));if(S&&jt(C)){var k,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(N.changedTouches[0]):E=j.getMouseInfo(N),C((k=E)!==null&&k!==void 0?k:{},N)}}),rt(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var C=_e(_e({},S),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var k=j.props.onClick;jt(k)&&k(C,N)}}),rt(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(jt(S)){var C=j.getMouseInfo(N);S(C,N)}}),rt(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(jt(S)){var C=j.getMouseInfo(N);S(C,N)}}),rt(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),rt(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),rt(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),rt(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&iN.emit(oN,j.props.syncId,N,j.eventEmitterSymbol)}),rt(j,"applySyncEvent",function(N){var S=j.props,C=S.layout,k=S.syncMethod,E=j.state.updateId,A=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(_e({dataStartIndex:A,dataEndIndex:P},m({props:j.props,dataStartIndex:A,dataEndIndex:P,updateId:E},j.state)));else if(N.activeTooltipIndex!==void 0){var B=N.chartX,U=N.chartY,I=N.activeTooltipIndex,L=j.state,M=L.offset,$=L.tooltipTicks;if(!M)return;if(typeof k=="function")I=k($,N);else if(k==="value"){I=-1;for(var R=0;R<$.length;R++)if($[R].value===N.activeLabel){I=R;break}}var F=_e(_e({},M),{},{x:M.left,y:M.top}),D=Math.min(B,F.x+F.width),H=Math.min(U,F.y+F.height),z=$[I]&&$[I].value,_=bE(j.state,j.props.data,I),O=$[I]?{x:C==="horizontal"?$[I].coordinate:D,y:C==="horizontal"?H:$[I].coordinate}:dH;j.setState(_e(_e({},N),{},{activeLabel:z,activeCoordinate:O,activePayload:_,activeTooltipIndex:I}))}else j.setState(N)}),rt(j,"renderCursor",function(N){var S,C=j.state,k=C.isTooltipActive,E=C.activeCoordinate,A=C.activePayload,P=C.offset,B=C.activeTooltipIndex,U=C.tooltipAxisBandSize,I=j.getTooltipEventType(),L=(S=N.props.active)!==null&&S!==void 0?S:k,M=j.props.layout,$=N.key||"_recharts-cursor";return X.createElement(W3e,{key:$,activeCoordinate:E,activePayload:A,activeTooltipIndex:B,chartName:n,element:N,isActive:L,layout:M,offset:P,tooltipAxisBandSize:U,tooltipEventType:I})}),rt(j,"renderPolarAxis",function(N,S,C){var k=Aa(N,"type.axisType"),E=Aa(j.state,"".concat(k,"Map")),A=N.type.defaultProps,P=A!==void 0?_e(_e({},A),N.props):N.props,B=E&&E[P["".concat(k,"Id")]];return g.cloneElement(N,_e(_e({},B),{},{className:Mt(k,B.className),key:N.key||"".concat(S,"-").concat(C),ticks:bo(B,!0)}))}),rt(j,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,k=S.polarAngles,E=S.polarRadius,A=j.state,P=A.radiusAxisMap,B=A.angleAxisMap,U=xl(P),I=xl(B),L=I.cx,M=I.cy,$=I.innerRadius,R=I.outerRadius;return g.cloneElement(N,{polarAngles:Array.isArray(k)?k:bo(I,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(E)?E:bo(U,!0).map(function(F){return F.coordinate}),cx:L,cy:M,innerRadius:$,outerRadius:R,key:N.key||"polar-grid",radialLines:C})}),rt(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,C=S.children,k=S.width,E=S.height,A=j.props.margin||{},P=k-(A.left||0)-(A.right||0),B=ZW({children:C,formattedGraphicalItems:N,legendWidth:P,legendContent:u});if(!B)return null;var U=B.item,I=a3(B,H3e);return g.cloneElement(U,_e(_e({},I),{},{chartWidth:k,chartHeight:E,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),rt(j,"renderTooltip",function(){var N,S=j.props,C=S.children,k=S.accessibilityLayer,E=Js(C,ei);if(!E)return null;var A=j.state,P=A.isTooltipActive,B=A.activeCoordinate,U=A.activePayload,I=A.activeLabel,L=A.offset,M=(N=E.props.active)!==null&&N!==void 0?N:P;return g.cloneElement(E,{viewBox:_e(_e({},L),{},{x:L.left,y:L.top}),active:M,label:I,payload:M?U:[],coordinate:B,accessibilityLayer:k})}),rt(j,"renderBrush",function(N){var S=j.props,C=S.margin,k=S.data,E=j.state,A=E.offset,P=E.dataStartIndex,B=E.dataEndIndex,U=E.updateId;return g.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Hx(j.handleBrushChange,N.props.onChange),data:k,x:Re(N.props.x)?N.props.x:A.left,y:Re(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:Re(N.props.width)?N.props.width:A.width,startIndex:P,endIndex:B,updateId:"brush-".concat(U)})}),rt(j,"renderReferenceElement",function(N,S,C){if(!N)return null;var k=j,E=k.clipPathId,A=j.state,P=A.xAxisMap,B=A.yAxisMap,U=A.offset,I=N.type.defaultProps||{},L=N.props,M=L.xAxisId,$=M===void 0?I.xAxisId:M,R=L.yAxisId,F=R===void 0?I.yAxisId:R;return g.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:P[$],yAxis:B[F],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:E})}),rt(j,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,k=N.basePoint,E=N.childIndex,A=N.isRange,P=[],B=S.props.key,U=S.item.type.defaultProps!==void 0?_e(_e({},S.item.type.defaultProps),S.item.props):S.item.props,I=U.activeDot,L=U.dataKey,M=_e(_e({index:E,dataKey:L,cx:C.x,cy:C.y,r:4,fill:TT(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Tt(I,!1)),Rb(I));return P.push(x.renderActiveDot(I,M,"".concat(B,"-activePoint-").concat(E))),k?P.push(x.renderActiveDot(I,_e(_e({},M),{},{cx:k.x,cy:k.y}),"".concat(B,"-basePoint-").concat(E))):A&&P.push(null),P}),rt(j,"renderGraphicChild",function(N,S,C){var k=j.filterFormatItem(N,S,C);if(!k)return null;var E=j.getTooltipEventType(),A=j.state,P=A.isTooltipActive,B=A.tooltipAxis,U=A.activeTooltipIndex,I=A.activeLabel,L=j.props.children,M=Js(L,ei),$=k.props,R=$.points,F=$.isRange,D=$.baseLine,H=k.item.type.defaultProps!==void 0?_e(_e({},k.item.type.defaultProps),k.item.props):k.item.props,z=H.activeDot,_=H.hide,O=H.activeBar,T=H.activeShape,q=!!(!_&&P&&M&&(z||O||T)),W={};E!=="axis"&&M&&M.props.trigger==="click"?W={onClick:Hx(j.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(W={onMouseLeave:Hx(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Hx(j.handleItemMouseEnter,N.props.onMouseEnter)});var K=g.cloneElement(N,_e(_e({},k.props),W));function G(oe){return typeof B.dataKey=="function"?B.dataKey(oe.payload):null}if(q)if(U>=0){var V,se;if(B.dataKey&&!B.allowDuplicatedCategory){var re=typeof B.dataKey=="function"?G:"payload.".concat(B.dataKey.toString());V=Ib(R,re,I),se=F&&D&&Ib(D,re,I)}else V=R==null?void 0:R[U],se=F&&D&&D[U];if(T||O){var je=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[g.cloneElement(N,_e(_e(_e({},k.props),W),{},{activeIndex:je})),null,null]}if(!St(V))return[K].concat(af(j.renderActivePoints({item:k,activePoint:V,basePoint:se,childIndex:U,isRange:F})))}else{var be,ce=(be=j.getItemByXY(j.state.activeCoordinate))!==null&&be!==void 0?be:{graphicalItem:K},Z=ce.graphicalItem,ge=Z.item,ke=ge===void 0?N:ge,me=Z.childIndex,Ne=_e(_e(_e({},k.props),W),{},{activeIndex:me});return[g.cloneElement(ke,Ne),null,null]}return F?[K,null,null]:[K,null]}),rt(j,"renderCustomized",function(N,S,C){return g.cloneElement(N,_e(_e({key:"recharts-customized-".concat(C)},j.props),j.state))}),rt(j,"renderMap",{CartesianGrid:{handler:Xx,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Xx},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Xx},YAxis:{handler:Xx},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Ov("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Q7(j.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return s5e(x,p),e5e(x,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,N=b.height,S=b.layout,C=Js(w,ei);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,A=bE(this.state,j,k,E),P=this.state.tooltipTicks[k].coordinate,B=(this.state.offset.top+N)/2,U=S==="horizontal",I=U?{x:P,y:B}:{y:P,x:B},L=this.state.formattedGraphicalItems.find(function($){var R=$.item;return R.type.name==="Scatter"});L&&(I=_e(_e({},I),L.props.points[k].tooltipPosition),A=L.props.points[k].tooltipPayload);var M={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:A,activeCoordinate:I};this.setState(M),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){QC([Js(b.children,ei)],[Js(this.props.children,ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Js(this.props.children,ei);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=c2e(j),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=j.width/w.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,C);if(!k)return null;var E=this.state,A=E.xAxisMap,P=E.yAxisMap,B=this.getTooltipEventType();if(B!=="axis"&&A&&P){var U=xl(A).scale,I=xl(P).scale,L=U&&U.invert?U.invert(S.chartX):null,M=I&&I.invert?I.invert(S.chartY):null;return _e(_e({},S),{},{xValue:L,yValue:M})}var $=o3(this.state,this.props.data,this.props.layout,k);return $?_e(_e({},S),$):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/j,C=w/j;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,E=S>=k.left&&S<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return E?{x:S,y:C}:null}var A=this.state,P=A.angleAxisMap,B=A.radiusAxisMap;if(P&&B){var U=xl(P);return z$({x:S,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=Js(b,ei),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Rb(this.props,this.handleOuterEvent);return _e(_e({},S),N)}},{key:"addListener",value:function(){iN.on(oN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iN.removeListener(oN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var k=N[S];if(k.item===b||k.props.key===b.key||w===No(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,S=w.height,C=w.width;return X.createElement("defs",null,X.createElement("clipPath",{id:b},X.createElement("rect",{x:j,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=s3(j,2),S=N[0],C=N[1];return _e(_e({},w),{},rt({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=s3(j,2),S=N[0],C=N[1];return _e(_e({},w),{},rt({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var S=0,C=j.length;S<C;S++){var k=j[S],E=k.props,A=k.item,P=A.type.defaultProps!==void 0?_e(_e({},A.type.defaultProps),A.props):A.props,B=No(A.type);if(B==="Bar"){var U=(E.data||[]).find(function($){return IIe(b,$)});if(U)return{graphicalItem:k,payload:U}}else if(B==="RadialBar"){var I=(E.data||[]).find(function($){return z$(b,$)});if(I)return{graphicalItem:k,payload:I}}else if(Rj(k,N)||$j(k,N)||Og(k,N)){var L=L4e({graphicalItem:k,activeTooltipItem:N,itemData:P.data}),M=P.activeIndex===void 0?L:P.activeIndex;return{graphicalItem:_e(_e({},k),{},{childIndex:M}),payload:Og(k,N)?P.data[L]:k.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!O4(this))return null;var w=this.props,j=w.children,N=w.className,S=w.width,C=w.height,k=w.style,E=w.compact,A=w.title,P=w.desc,B=a3(w,G3e),U=Tt(B,!1);if(E)return X.createElement(BL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(ek,bp({},U,{width:S,height:C,title:A,desc:P}),this.renderClipPath(),D4(j,this.renderMap)));if(this.props.accessibilityLayer){var I,L;U.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,U.role=(L=this.props.role)!==null&&L!==void 0?L:"application",U.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},U.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return X.createElement(BL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",bp({className:Mt("recharts-wrapper",N),style:_e({position:"relative",cursor:"default",width:S,height:C},k)},M,{ref:function(R){b.container=R}}),X.createElement(ek,bp({},U,{width:S,height:C,title:A,desc:P,style:u5e}),this.renderClipPath(),D4(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);return rt(v,"displayName",n),rt(v,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),rt(v,"getDerivedStateFromProps",function(p,x){var y=p.dataKey,b=p.data,w=p.children,j=p.width,N=p.height,S=p.layout,C=p.stackOffset,k=p.margin,E=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var P=l3(p);return _e(_e(_e({},P),{},{updateId:0},m(_e(_e({props:p},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:w})}if(y!==x.prevDataKey||b!==x.prevData||j!==x.prevWidth||N!==x.prevHeight||S!==x.prevLayout||C!==x.prevStackOffset||!Jd(k,x.prevMargin)){var B=l3(p),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},I=_e(_e({},o3(x,b,S)),{},{updateId:x.updateId+1}),L=_e(_e(_e({},B),U),I);return _e(_e(_e({},L),m(_e({props:p},L),x)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:w})}if(!QC(w,x.prevChildren)){var M,$,R,F,D=Js(w,Kh),H=D&&(M=($=D.props)===null||$===void 0?void 0:$.startIndex)!==null&&M!==void 0?M:E,z=D&&(R=(F=D.props)===null||F===void 0?void 0:F.endIndex)!==null&&R!==void 0?R:A,_=H!==E||z!==A,O=!St(b),T=O&&!_?x.updateId:x.updateId+1;return _e(_e({updateId:T},m(_e(_e({props:p},x),{},{updateId:T,dataStartIndex:H,dataEndIndex:z}),x)),{},{prevChildren:w,dataStartIndex:H,dataEndIndex:z})}return null}),rt(v,"renderActiveDot",function(p,x,y){var b;return g.isValidElement(p)?b=g.cloneElement(p,x):jt(p)?b=p(x):b=X.createElement(MT,x),X.createElement(Wn,{className:"recharts-active-dot",key:y},b)}),function(x){return X.createElement(v,x)}},mH=fH({chartName:"LineChart",GraphicalChild:Yf,axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Pu}],formatAxisMap:A9}),b5e=fH({chartName:"BarChart",GraphicalChild:Ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Eu},{axisType:"yAxis",AxisComp:Pu}],formatAxisMap:A9});const w5e={light:"",dark:".dark"},pH=g.createContext(null);function gH(){const e=g.useContext(pH);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const wE=g.forwardRef(({id:e,className:t,children:n,config:r,...a},i)=>{const o=g.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(pH.Provider,{value:{config:r},children:s.jsxs("div",{"data-chart":l,ref:i,className:ye("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(j5e,{id:l,config:r}),s.jsx(Jb,{children:n})]})})});wE.displayName="Chart";const j5e=({id:e,config:t})=>{const n=Object.entries(t).filter(([r,a])=>a.theme||a.color);return n.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(w5e).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},u3=ei,jE=g.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:v}=gH(),p=g.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${f||y.dataKey||y.name||"value"}`,w=_E(v,y,b),j=!f&&typeof o=="string"?((N=v[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?s.jsx("div",{className:ye("font-medium",c),children:l(j,t)}):j?s.jsx("div",{className:ye("font-medium",c),children:j}):null},[o,l,t,a,c,v,f]);if(!e||!(t!=null&&t.length))return null;const x=t.length===1&&r!=="dot";return s.jsxs("div",{ref:m,className:ye("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const w=`${h||y.name||y.dataKey||"value"}`,j=_E(v,y,w),N=d||y.payload.fill||y.color;return s.jsx("div",{className:ye("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):s.jsxs(s.Fragment,{children:[j!=null&&j.icon?s.jsx(j.icon,{}):!i&&s.jsx("div",{className:ye("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":x&&r==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:ye("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[x?p:null,s.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||y.name})]}),y.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});jE.displayName="ChartTooltip";const _5e=g.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:a},i)=>{const{config:o}=gH();return n!=null&&n.length?s.jsx("div",{ref:i,className:ye("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,u=_E(o,l,c);return s.jsxs("div",{className:ye("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});_5e.displayName="ChartLegend";function _E(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:r&&n in r&&typeof r[n]=="string"&&(a=r[n]),a in e?e[a]:e[n]}function N5e({chatbotId:e}){var o;const[t,n]=g.useState({totalConversations:0,totalMessages:0,avgMessagesPerConversation:0,dailyStats:[],hourlyStats:[]}),[r,a]=g.useState(!0);g.useEffect(()=>{i()},[e]);const i=async()=>{try{a(!0);const{count:l}=await Y.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",e),{count:c}=await Y.from("messages").select("*, conversations!inner(*)",{count:"exact",head:!0}).eq("conversations.chatbot_id",e),u=new Date;u.setDate(u.getDate()-7);const{data:d}=await Y.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",u.toISOString()),{data:h}=await Y.from("messages").select("created_at, conversations!inner(chatbot_id)").eq("conversations.chatbot_id",e).gte("created_at",u.toISOString()),f=new Map;for(let p=6;p>=0;p--){const x=new Date;x.setDate(x.getDate()-p);const y=x.toISOString().split("T")[0];f.set(y,{date:y,conversations:0,messages:0})}d==null||d.forEach(p=>{const x=p.created_at.split("T")[0],y=f.get(x);y&&y.conversations++}),h==null||h.forEach(p=>{const x=p.created_at.split("T")[0],y=f.get(x);y&&y.messages++});const{data:m}=await Y.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),v=new Map;for(let p=0;p<24;p++)v.set(p,{hour:p,conversations:0});m==null||m.forEach(p=>{const x=new Date(p.created_at).getHours(),y=v.get(x);y&&y.conversations++}),n({totalConversations:l||0,totalMessages:c||0,avgMessagesPerConversation:l>0?Math.round((c||0)/l*10)/10:0,dailyStats:Array.from(f.values()),hourlyStats:Array.from(v.values())})}catch(l){console.error("Error fetching analytics:",l)}finally{a(!1)}};return r?s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((l,c)=>s.jsxs(J,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(ee,{children:s.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"})})]},c))})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalConversations})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalMessages})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.avgMessagesPerConversation})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Active Today"}),s.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:((o=t.dailyStats[t.dailyStats.length-1])==null?void 0:o.conversations)||0})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Daily Activity (Last 7 Days)"}),s.jsx(Se,{children:"Conversations and messages over time"})]}),s.jsx(ee,{children:s.jsx(wE,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"},messages:{label:"Messages",color:"hsl(var(--secondary))"}},className:"h-[200px]",children:s.jsx(Jb,{width:"100%",height:"100%",children:s.jsxs(b5e,{data:t.dailyStats,children:[s.jsx(Eu,{dataKey:"date",tickFormatter:l=>new Date(l).toLocaleDateString("en-US",{weekday:"short"})}),s.jsx(Pu,{}),s.jsx(u3,{content:s.jsx(jE,{})}),s.jsx(Ql,{dataKey:"conversations",fill:"hsl(var(--primary))"}),s.jsx(Ql,{dataKey:"messages",fill:"hsl(var(--secondary))"})]})})})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Hourly Distribution (Last 24h)"}),s.jsx(Se,{children:"When users are most active"})]}),s.jsx(ee,{children:s.jsx(wE,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"}},className:"h-[200px]",children:s.jsx(Jb,{width:"100%",height:"100%",children:s.jsxs(mH,{data:t.hourlyStats,children:[s.jsx(Eu,{dataKey:"hour",tickFormatter:l=>`${l}:00`}),s.jsx(Pu,{}),s.jsx(u3,{content:s.jsx(jE,{})}),s.jsx(Yf,{type:"monotone",dataKey:"conversations",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})})]})]})]})}function Fg(e,[t,n]){return Math.min(n,Math.max(t,e))}var S5e=g.createContext(void 0);function mc(e){const t=g.useContext(S5e);return e||t||"ltr"}function Fv(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C5e=[" ","Enter","ArrowUp","ArrowDown"],k5e=[" ","Enter"],Bv="Select",[Vj,Wj,E5e]=bf(Bv),[Kf,RQe]=Er(Bv,[E5e,oc]),Hj=oc(),[P5e,pc]=Kf(Bv),[A5e,T5e]=Kf(Bv),vH=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:v}=e,p=Hj(t),[x,y]=g.useState(null),[b,w]=g.useState(null),[j,N]=g.useState(!1),S=mc(u),[C=!1,k]=Kr({prop:r,defaultProp:a,onChange:i}),[E,A]=Kr({prop:o,defaultProp:l,onChange:c}),P=g.useRef(null),B=x?v||!!x.closest("form"):!0,[U,I]=g.useState(new Set),L=Array.from(U).map(M=>M.props.value).join(";");return s.jsx(Aw,{...p,children:s.jsxs(P5e,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ts(),value:E,onValueChange:A,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx(Vj.Provider,{scope:t,children:s.jsx(A5e,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(M=>{I($=>new Set($).add(M))},[]),onNativeOptionRemove:g.useCallback(M=>{I($=>{const R=new Set($);return R.delete(M),R})},[]),children:n})}),B?s.jsxs(zH,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:E,onChange:M=>A(M.target.value),disabled:f,form:v,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},L):null]})})};vH.displayName=Bv;var xH="SelectTrigger",yH=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Hj(n),o=pc(xH,n),l=o.disabled||r,c=et(t,o.onTriggerChange),u=Wj(n),d=g.useRef("touch"),[h,f,m]=qH(p=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),b=VH(x,p,y);b!==void 0&&o.onValueChange(b.value)}),v=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(iv,{asChild:!0,...i,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UH(o.value)?"":void 0,...a,ref:c,onClick:Ae(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:Ae(a.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ae(a.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&C5e.includes(p.key)&&(v(),p.preventDefault())})})})});yH.displayName=xH;var bH="SelectValue",wH=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=pc(bH,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=et(t,c.onValueNodeChange);return gr(()=>{u(d)},[u,d]),s.jsx(Be.span,{...l,ref:h,style:{pointerEvents:"none"},children:UH(c.value)?s.jsx(s.Fragment,{children:o}):i})});wH.displayName=bH;var O5e="SelectIcon",jH=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Be.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});jH.displayName=O5e;var M5e="SelectPortal",_H=e=>s.jsx(wf,{asChild:!0,...e});_H.displayName=M5e;var Au="SelectContent",NH=g.forwardRef((e,t)=>{const n=pc(Au,e.__scopeSelect),[r,a]=g.useState();if(gr(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?_s.createPortal(s.jsx(SH,{scope:e.__scopeSelect,children:s.jsx(Vj.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(CH,{...e,ref:t})});NH.displayName=Au;var Ya=10,[SH,gc]=Kf(Au),D5e="SelectContentImpl",CH=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x,...y}=e,b=pc(Au,n),[w,j]=g.useState(null),[N,S]=g.useState(null),C=et(t,W=>j(W)),[k,E]=g.useState(null),[A,P]=g.useState(null),B=Wj(n),[U,I]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(w)return xv(w)},[w]),Qw();const M=g.useCallback(W=>{const[K,...G]=B().map(re=>re.ref.current),[V]=G.slice(-1),se=document.activeElement;for(const re of W)if(re===se||(re==null||re.scrollIntoView({block:"nearest"}),re===K&&N&&(N.scrollTop=0),re===V&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==se))return},[B,N]),$=g.useCallback(()=>M([k,w]),[M,k,w]);g.useEffect(()=>{U&&$()},[U,$]);const{onOpenChange:R,triggerPointerDownPosRef:F}=b;g.useEffect(()=>{if(w){let W={x:0,y:0};const K=V=>{var se,re;W={x:Math.abs(Math.round(V.pageX)-(((se=F.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(V.pageY)-(((re=F.current)==null?void 0:re.y)??0))}},G=V=>{W.x<=10&&W.y<=10?V.preventDefault():w.contains(V.target)||R(!1),document.removeEventListener("pointermove",K),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",G,{capture:!0})}}},[w,R,F]),g.useEffect(()=>{const W=()=>R(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[R]);const[D,H]=qH(W=>{const K=B().filter(se=>!se.disabled),G=K.find(se=>se.ref.current===document.activeElement),V=VH(K,W,G);V&&setTimeout(()=>V.ref.current.focus())}),z=g.useCallback((W,K,G)=>{const V=!L.current&&!G;(b.value!==void 0&&b.value===K||V)&&(E(W),V&&(L.current=!0))},[b.value]),_=g.useCallback(()=>w==null?void 0:w.focus(),[w]),O=g.useCallback((W,K,G)=>{const V=!L.current&&!G;(b.value!==void 0&&b.value===K||V)&&P(W)},[b.value]),T=r==="popper"?NE:kH,q=T===NE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(SH,{scope:n,content:w,viewport:N,onViewportChange:S,itemRefCallback:z,selectedItem:k,onItemLeave:_,itemTextRefCallback:O,focusSelectedItem:$,selectedItemText:A,position:r,isPositioned:U,searchRef:D,children:s.jsx(vv,{as:$s,allowPinchZoom:!0,children:s.jsx(gv,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Ae(a,W=>{var K;(K=b.trigger)==null||K.focus({preventScroll:!0}),W.preventDefault()}),children:s.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(T,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault(),...y,...q,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ae(y.onKeyDown,W=>{const K=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!K&&W.key.length===1&&H(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let V=B().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(W.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const se=W.target,re=V.indexOf(se);V=V.slice(re+1)}setTimeout(()=>M(V)),W.preventDefault()}})})})})})})});CH.displayName=D5e;var I5e="SelectItemAlignedPosition",kH=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=pc(Au,n),o=gc(Au,n),[l,c]=g.useState(null),[u,d]=g.useState(null),h=et(t,C=>d(C)),f=Wj(n),m=g.useRef(!1),v=g.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=o,w=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&y){const C=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const se=A.left-k.left,re=E.left-se,je=C.left-re,be=C.width+je,ce=Math.max(be,k.width),Z=window.innerWidth-Ya,ge=Fg(re,[Ya,Math.max(Ya,Z-ce)]);l.style.minWidth=be+"px",l.style.left=ge+"px"}else{const se=k.right-A.right,re=window.innerWidth-E.right-se,je=window.innerWidth-C.right-re,be=C.width+je,ce=Math.max(be,k.width),Z=window.innerWidth-Ya,ge=Fg(re,[Ya,Math.max(Ya,Z-ce)]);l.style.minWidth=be+"px",l.style.right=ge+"px"}const P=f(),B=window.innerHeight-Ya*2,U=p.scrollHeight,I=window.getComputedStyle(u),L=parseInt(I.borderTopWidth,10),M=parseInt(I.paddingTop,10),$=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),F=L+M+U+R+$,D=Math.min(x.offsetHeight*5,F),H=window.getComputedStyle(p),z=parseInt(H.paddingTop,10),_=parseInt(H.paddingBottom,10),O=C.top+C.height/2-Ya,T=B-O,q=x.offsetHeight/2,W=x.offsetTop+q,K=L+M+W,G=F-K;if(K<=O){const se=P.length>0&&x===P[P.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-p.offsetTop-p.offsetHeight,je=Math.max(T,q+(se?_:0)+re+$),be=K+je;l.style.height=be+"px"}else{const se=P.length>0&&x===P[0].ref.current;l.style.top="0px";const je=Math.max(O,L+p.offsetTop+(se?z:0)+q)+G;l.style.height=je+"px",p.scrollTop=K-O+p.offsetTop}l.style.margin=`${Ya}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,x,y,i.dir,r]);gr(()=>w(),[w]);const[j,N]=g.useState();gr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=g.useCallback(C=>{C&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return s.jsx($5e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Be.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});kH.displayName=I5e;var R5e="SelectPopperPosition",NE=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ya,...i}=e,o=Hj(n);return s.jsx(Tw,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});NE.displayName=R5e;var[$5e,qT]=Kf(Au,{}),SE="SelectViewport",EH=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=gc(SE,n),o=qT(SE,n),l=et(t,i.onViewportChange),c=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Vj.Slot,{scope:n,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ae(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-Ya*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<v){const b=y+m,w=Math.min(v,b),j=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});EH.displayName=SE;var PH="SelectGroup",[L5e,F5e]=Kf(PH),B5e=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ts();return s.jsx(L5e,{scope:n,id:a,children:s.jsx(Be.div,{role:"group","aria-labelledby":a,...r,ref:t})})});B5e.displayName=PH;var AH="SelectLabel",TH=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=F5e(AH,n);return s.jsx(Be.div,{id:a.id,...r,ref:t})});TH.displayName=AH;var I0="SelectItem",[U5e,OH]=Kf(I0),MH=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=pc(I0,n),c=gc(I0,n),u=l.value===r,[d,h]=g.useState(i??""),[f,m]=g.useState(!1),v=et(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,a)}),p=Ts(),x=g.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(U5e,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:g.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Vj.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(Be.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:Ae(o.onFocus,()=>m(!0)),onBlur:Ae(o.onBlur,()=>m(!1)),onClick:Ae(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Ae(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Ae(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:Ae(o.onPointerMove,b=>{var w;x.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ae(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(k5e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});MH.displayName=I0;var Hm="SelectItemText",DH=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=pc(Hm,n),l=gc(Hm,n),c=OH(Hm,n),u=T5e(Hm,n),[d,h]=g.useState(null),f=et(t,y=>h(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=g.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return gr(()=>(p(v),()=>x(v)),[p,x,v]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_s.createPortal(i.children,o.valueNode):null]})});DH.displayName=Hm;var IH="SelectItemIndicator",RH=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return OH(IH,n).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...r,ref:t}):null});RH.displayName=IH;var CE="SelectScrollUpButton",$H=g.forwardRef((e,t)=>{const n=gc(CE,e.__scopeSelect),r=qT(CE,e.__scopeSelect),[a,i]=g.useState(!1),o=et(t,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(FH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});$H.displayName=CE;var kE="SelectScrollDownButton",LH=g.forwardRef((e,t)=>{const n=gc(kE,e.__scopeSelect),r=qT(kE,e.__scopeSelect),[a,i]=g.useState(!1),o=et(t,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(FH,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});LH.displayName=kE;var FH=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=gc("SelectScrollButton",n),o=g.useRef(null),l=Wj(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),gr(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ae(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ae(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ae(a.onPointerLeave,()=>{c()})})}),z5e="SelectSeparator",BH=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Be.div,{"aria-hidden":!0,...r,ref:t})});BH.displayName=z5e;var EE="SelectArrow",q5e=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Hj(n),i=pc(EE,n),o=gc(EE,n);return i.open&&o.position==="popper"?s.jsx(Ow,{...a,...r,ref:t}):null});q5e.displayName=EE;function UH(e){return e===""||e===void 0}var zH=g.forwardRef((e,t)=>{const{value:n,...r}=e,a=g.useRef(null),i=et(t,a),o=Fv(n);return g.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(rv,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});zH.displayName="BubbleSelect";function qH(e){const t=An(e),n=g.useRef(""),r=g.useRef(0),a=g.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function VH(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=V5e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function V5e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var W5e=vH,WH=yH,H5e=wH,G5e=jH,Y5e=_H,HH=NH,K5e=EH,GH=TH,YH=MH,J5e=DH,X5e=RH,KH=$H,JH=LH,XH=BH;const He=W5e,Ge=H5e,Ve=g.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(WH,{ref:r,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(G5e,{asChild:!0,children:s.jsx(ic,{className:"h-4 w-4 opacity-50"})})]}));Ve.displayName=WH.displayName;const QH=g.forwardRef(({className:e,...t},n)=>s.jsx(KH,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($P,{className:"h-4 w-4"})}));QH.displayName=KH.displayName;const ZH=g.forwardRef(({className:e,...t},n)=>s.jsx(JH,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ic,{className:"h-4 w-4"})}));ZH.displayName=JH.displayName;const We=g.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(Y5e,{children:s.jsxs(HH,{ref:a,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(QH,{}),s.jsx(K5e,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(ZH,{})]})}));We.displayName=HH.displayName;const Q5e=g.forwardRef(({className:e,...t},n)=>s.jsx(GH,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Q5e.displayName=GH.displayName;const ue=g.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(YH,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(X5e,{children:s.jsx(ac,{className:"h-4 w-4"})})}),s.jsx(J5e,{children:t})]}));ue.displayName=YH.displayName;const Z5e=g.forwardRef(({className:e,...t},n)=>s.jsx(XH,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));Z5e.displayName=XH.displayName;const eG=({onConversationSelect:e,chatbotId:t,hideFilter:n=!1})=>{const{user:r}=Ut(),[a,i]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(t||"all"),[d,h]=g.useState(""),[f,m]=g.useState(!0),v=async()=>{if(!r)return;const{data:b,error:w}=await Y.from("chatbots").select("id, name").eq("user_id",r.id).order("name");if(w){De({title:"Error",description:"Failed to fetch chatbots",variant:"destructive"});return}l(b||[])},p=async()=>{if(!r)return;m(!0);let b=Y.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name,
            user_id
          )
        )
      `).eq("conversations.chatbots.user_id",r.id).order("created_at",{ascending:!1});c!=="all"&&(b=b.eq("conversations.chatbot_id",c));const{data:w,error:j}=await b;if(j){console.error("Error fetching conversations:",j),De({title:"Error",description:"Failed to fetch conversations",variant:"destructive"}),m(!1);return}const N=new Map;w==null||w.forEach(C=>{const k=C.conversation_id;N.has(k)||N.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),N.get(k).messages.push(C)});const S=[];N.forEach((C,k)=>{const E=C.messages.sort((A,P)=>new Date(P.created_at).getTime()-new Date(A.created_at).getTime());if(E.length>0){const A=E[0],P={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:A.content,last_message_time:A.created_at,message_count:E.length,last_sender:A.role};(!d||P.last_message.toLowerCase().includes(d.toLowerCase())||P.chatbot_name.toLowerCase().includes(d.toLowerCase()))&&S.push(P)}}),S.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),i(S),m(!1)};g.useEffect(()=>{n||v()},[r,n]),g.useEffect(()=>{t&&u(t)},[t]),g.useEffect(()=>{p()},[r,c,d]);const x=b=>{const w=new Date(b),N=new Date().getTime()-w.getTime(),S=Math.floor(N/(1e3*60*60*24));return S===0?w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):S===1?"Yesterday":S<7?w.toLocaleDateString([],{weekday:"short"}):w.toLocaleDateString([],{month:"short",day:"numeric"})},y=(b,w=60)=>b.length>w?b.substring(0,w)+"...":b;return r?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-4 border-b bg-background",children:s.jsxs("div",{className:"flex gap-4",children:[!n&&s.jsxs(He,{value:c,onValueChange:u,children:[s.jsx(Ve,{className:"w-[200px]",children:s.jsx(Ge,{placeholder:"Filter by chatbot"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Chatbots"}),o.map(b=>s.jsx(ue,{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ha,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search conversations...",value:d,onChange:b=>h(b.target.value),className:"pl-8"})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto",children:f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversations..."})}):a.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No conversations found."}):s.jsx("div",{className:"p-2",children:a.map(b=>s.jsx(J,{className:"mb-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>e(b.id),children:s.jsx(ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ht,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:b.chatbot_name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.message_count," messages"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.jsx("span",{className:"font-medium",children:b.last_sender==="user"?"User: ":"Bot: "}),y(b.last_message)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground ml-4 flex-shrink-0",children:x(b.last_message_time)})]})})},b.id))})})]}):s.jsx("div",{children:"Please log in to view conversations."})},tG=({conversationId:e,onBack:t})=>{const{user:n}=Ut(),[r,a]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(!0),u=g.useRef(null),d=()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:v,error:p}=await Y.from("messages").select(`
        id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          created_at,
          chatbots!inner(
            name,
            user_id
          )
        )
      `).eq("conversation_id",e).eq("conversations.chatbots.user_id",n.id).order("created_at",{ascending:!0});if(p){console.error("Error fetching conversation:",p),De({title:"Error",description:"Failed to fetch conversation",variant:"destructive"}),c(!1);return}v&&v.length>0&&(a(v.map(x=>({id:x.id,content:x.content,role:x.role,created_at:x.created_at}))),o({id:e,chatbot_name:v[0].conversations.chatbots.name,created_at:v[0].conversations.created_at})),c(!1)};g.useEffect(()=>{h()},[e,n]),g.useEffect(()=>{d()},[r]);const f=v=>new Date(v).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=v=>new Date(v).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(ae,{className:"flex-shrink-0 border-b bg-background",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:t,children:[s.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})]})}),s.jsx(ee,{className:"flex-1 overflow-auto p-0",children:s.jsxs("div",{className:"p-4 space-y-4",children:[r.map(v=>s.jsxs("div",{className:`flex items-start gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ze,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${v.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:v.content}),s.jsx("p",{className:`text-xs mt-1 ${v.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(v.created_at)})]}),v.role==="user"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:s.jsx(_n,{className:"w-4 h-4 text-secondary-foreground"})})]},v.id)),s.jsx("div",{ref:u})]})})]}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})};var nG=["PageUp","PageDown"],rG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sG={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Jf="Slider",[PE,eFe,tFe]=bf(Jf),[aG,$Qe]=Er(Jf,[tFe]),[nFe,Gj]=aG(Jf),iG=g.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:v,...p}=e,x=g.useRef(new Set),y=g.useRef(0),w=o==="horizontal"?rFe:sFe,[j=[],N]=Kr({prop:d,defaultProp:u,onChange:P=>{var U;(U=[...x.current][y.current])==null||U.focus(),h(P)}}),S=g.useRef(j);function C(P){const B=cFe(j,P);A(P,B)}function k(P){A(P,y.current)}function E(){const P=S.current[y.current];j[y.current]!==P&&f(j)}function A(P,B,{commit:U}={commit:!1}){const I=fFe(i),L=mFe(Math.round((P-r)/i)*i+r,I),M=Fg(L,[r,a]);N(($=[])=>{const R=oFe($,M,B);if(hFe(R,c*i)){y.current=R.indexOf(M);const F=String(R)!==String($);return F&&U&&f(R),F?R:$}else return $})}return s.jsx(nFe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:y,thumbs:x.current,values:j,orientation:o,form:v,children:s.jsx(PE.Provider,{scope:e.__scopeSlider,children:s.jsx(PE.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ae(p.onPointerDown,()=>{l||(S.current=j)}),min:r,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(a,j.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:B})=>{if(!l){const L=nG.includes(P.key)||P.shiftKey&&rG.includes(P.key)?10:1,M=y.current,$=j[M],R=i*L*B;A($+R,M,{commit:!0})}}})})})})});iG.displayName=Jf;var[oG,lG]=aG(Jf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),rFe=g.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=g.useState(null),m=et(t,w=>f(w)),v=g.useRef(),p=mc(a),x=p==="ltr",y=x&&!i||!x&&i;function b(w){const j=v.current||h.getBoundingClientRect(),N=[0,j.width],C=VT(N,y?[n,r]:[r,n]);return v.current=j,C(w-j.left)}return s.jsx(oG,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:s.jsx(cG,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=b(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=b(w.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=sG[y?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:N?-1:1})}})})}),sFe=g.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=g.useRef(null),h=et(t,d),f=g.useRef(),m=!a;function v(p){const x=f.current||d.current.getBoundingClientRect(),y=[0,x.height],w=VT(y,m?[r,n]:[n,r]);return f.current=x,w(p-x.top)}return s.jsx(oG,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(cG,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=v(p.clientY);i==null||i(x)},onSlideMove:p=>{const x=v(p.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const y=sG[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:y?-1:1})}})})}),cG=g.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Gj(Jf,n);return s.jsx(Be.span,{...u,ref:t,onKeyDown:Ae(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):nG.concat(rG).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ae(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Ae(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:Ae(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),uG="SliderTrack",dG=g.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=Gj(uG,n);return s.jsx(Be.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});dG.displayName=uG;var AE="SliderRange",hG=g.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=Gj(AE,n),i=lG(AE,n),o=g.useRef(null),l=et(t,o),c=a.values.length,u=a.values.map(f=>mG(f,a.min,a.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(Be.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});hG.displayName=AE;var TE="SliderThumb",fG=g.forwardRef((e,t)=>{const n=eFe(e.__scopeSlider),[r,a]=g.useState(null),i=et(t,l=>a(l)),o=g.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(aFe,{...e,ref:i,index:o})}),aFe=g.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=Gj(TE,n),l=lG(TE,n),[c,u]=g.useState(null),d=et(t,b=>u(b)),h=c?o.form||!!c.closest("form"):!0,f=av(c),m=o.values[r],v=m===void 0?0:mG(m,o.min,o.max),p=lFe(r,o.values.length),x=f==null?void 0:f[l.size],y=x?uFe(x,v,l.direction):0;return g.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${y}px)`},children:[s.jsx(PE.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Be.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Ae(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&s.jsx(iFe,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});fG.displayName=TE;var iFe=e=>{const{value:t,...n}=e,r=g.useRef(null),a=Fv(t);return g.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function oFe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,i)=>a-i)}function mG(e,t,n){const i=100/(n-t)*(e-t);return Fg(i,[0,100])}function lFe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function cFe(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function uFe(e,t,n){const r=e/2,i=VT([0,50],[0,r]);return(r-i(t)*n)*n}function dFe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function hFe(e,t){if(t>0){const n=dFe(e);return Math.min(...n)>=t}return!0}function VT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function fFe(e){return(String(e).split(".")[1]||"").length}function mFe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var pG=iG,pFe=dG,gFe=hG,vFe=fG;const of=g.forwardRef(({className:e,...t},n)=>s.jsxs(pG,{ref:n,className:ye("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(pFe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(gFe,{className:"absolute h-full bg-primary"})}),s.jsx(vFe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));of.displayName=pG.displayName;var WT="Switch",[xFe,LQe]=Er(WT),[yFe,bFe]=xFe(WT),gG=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=g.useState(null),v=et(t,w=>m(w)),p=g.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,b]=Kr({prop:a,defaultProp:i,onChange:u});return s.jsxs(yFe,{scope:n,checked:y,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":yG(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Ae(e.onClick,w=>{b(j=>!j),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&s.jsx(wFe,{control:f,bubbles:!p.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});gG.displayName=WT;var vG="SwitchThumb",xG=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=bFe(vG,n);return s.jsx(Be.span,{"data-state":yG(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});xG.displayName=vG;var wFe=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=g.useRef(null),o=Fv(n),l=av(t);return g.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yG(e){return e?"checked":"unchecked"}var bG=gG,jFe=xG;const Lt=g.forwardRef(({className:e,...t},n)=>s.jsx(bG,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(jFe,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Lt.displayName=bG.displayName;function _Fe(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...v}=h,p=(f==null?void 0:f[e][c])||l,x=g.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,v=g.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,NFe(a,...t)]}function NFe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var cN="rovingFocusGroup.onEntryFocus",SFe={bubbles:!1,cancelable:!0},Yj="RovingFocusGroup",[OE,wG,CFe]=bf(Yj),[kFe,Xf]=_Fe(Yj,[CFe]),[EFe,PFe]=kFe(Yj),jG=g.forwardRef((e,t)=>s.jsx(OE.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(OE.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(AFe,{...e,ref:t})})}));jG.displayName=Yj;var AFe=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=g.useRef(null),m=et(t,f),v=mc(i),[p=null,x]=Kr({prop:o,defaultProp:l,onChange:c}),[y,b]=g.useState(!1),w=An(u),j=wG(n),N=g.useRef(!1),[S,C]=g.useState(0);return g.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(cN,w),()=>k.removeEventListener(cN,w)},[w]),s.jsx(EFe,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:p,onItemFocus:g.useCallback(k=>x(k),[x]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:g.useCallback(()=>C(k=>k-1),[]),children:s.jsx(Be.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{N.current=!0}),onFocus:Ae(e.onFocus,k=>{const E=!N.current;if(k.target===k.currentTarget&&E&&!y){const A=new CustomEvent(cN,SFe);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=j().filter(M=>M.focusable),B=P.find(M=>M.active),U=P.find(M=>M.id===p),L=[B,U,...P].filter(Boolean).map(M=>M.ref.current);SG(L,d)}}N.current=!1}),onBlur:Ae(e.onBlur,()=>b(!1))})})}),_G="RovingFocusGroupItem",NG=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=Ts(),c=i||l,u=PFe(_G,n),d=u.currentTabStopId===c,h=wG(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),s.jsx(OE.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(Be.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ae(e.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Ae(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ae(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=MFe(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=u.loop?DFe(y,b+1):y.slice(b+1)}setTimeout(()=>SG(y))}})})})});NG.displayName=_G;var TFe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OFe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function MFe(e,t,n){const r=OFe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return TFe[r]}function SG(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function DFe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var HT=jG,GT=NG,YT="Tabs",[IFe,FQe]=Er(YT,[Xf]),CG=Xf(),[RFe,KT]=IFe(YT),kG=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=mc(l),[h,f]=Kr({prop:r,onChange:a,defaultProp:i});return s.jsx(RFe,{scope:n,baseId:Ts(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(Be.div,{dir:d,"data-orientation":o,...u,ref:t})})});kG.displayName=YT;var EG="TabsList",PG=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=KT(EG,n),o=CG(n);return s.jsx(HT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Be.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});PG.displayName=EG;var AG="TabsTrigger",TG=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=KT(AG,n),l=CG(n),c=DG(o.baseId,r),u=IG(o.baseId,r),d=r===o.value;return s.jsx(GT,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ae(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ae(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ae(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});TG.displayName=AG;var OG="TabsContent",MG=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=KT(OG,n),c=DG(l.baseId,r),u=IG(l.baseId,r),d=r===l.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(tr,{present:a||d,children:({present:f})=>s.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});MG.displayName=OG;function DG(e,t){return`${e}-trigger-${t}`}function IG(e,t){return`${e}-content-${t}`}var $Fe=kG,RG=PG,$G=TG,LG=MG;const Gu=$Fe,vc=g.forwardRef(({className:e,...t},n)=>s.jsx(RG,{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vc.displayName=RG.displayName;const tn=g.forwardRef(({className:e,...t},n)=>s.jsx($G,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));tn.displayName=$G.displayName;const nn=g.forwardRef(({className:e,...t},n)=>s.jsx(LG,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));nn.displayName=LG.displayName;var JT="Checkbox",[LFe,BQe]=Er(JT),[FFe,BFe]=LFe(JT),FG=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=g.useState(null),v=et(t,j=>m(j)),p=g.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,b]=Kr({prop:a,defaultProp:i,onChange:u}),w=g.useRef(y);return g.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const N=()=>b(w.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[f,b]),s.jsxs(FFe,{scope:n,state:y,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":ql(y)?"mixed":y,"aria-required":o,"data-state":zG(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:Ae(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ae(e.onClick,j=>{b(N=>ql(N)?!0:!N),x&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),x&&s.jsx(UFe,{control:f,bubbles:!p.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ql(i)?!1:i})]})});FG.displayName=JT;var BG="CheckboxIndicator",UG=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=BFe(BG,n);return s.jsx(tr,{present:r||ql(i.state)||i.state===!0,children:s.jsx(Be.span,{"data-state":zG(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});UG.displayName=BG;var UFe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=g.useRef(null),l=Fv(n),c=av(t);g.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:r});d.indeterminate=ql(n),m.call(d,ql(n)?!1:n),d.dispatchEvent(v)}},[l,n,r]);const u=g.useRef(ql(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ql(e){return e==="indeterminate"}function zG(e){return ql(e)?"indeterminate":e?"checked":"unchecked"}var qG=FG,zFe=UG;const lf=g.forwardRef(({className:e,...t},n)=>s.jsx(qG,{ref:n,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(zFe,{className:ye("flex items-center justify-center text-current"),children:s.jsx(ac,{className:"h-4 w-4"})})}));lf.displayName=qG.displayName;function XT({chatbotId:e,websiteUrl:t="",websiteContent:n,crawlStatus:r="pending",lastCrawledAt:a,onWebsiteUpdate:i,onCrawlComplete:o}){const[l,c]=g.useState(t),[u,d]=g.useState(!1),[h,f]=g.useState([]),[m,v]=g.useState([]),[p,x]=g.useState(!1),{toast:y}=En(),b=async()=>{if(l.trim()){d(!0);try{const N=await XI({chatbot_id:e,url:l,discover_only:!0});N!=null&&N.pages&&(f(N.pages),v(N.pages.slice(0,5)),x(!0))}catch{y({title:"Error",description:"Failed to discover pages",variant:"destructive"})}finally{d(!1)}}},w=async()=>{if(!l.trim()){y({title:"Error",description:"Please enter a website URL",variant:"destructive"});return}if(!e){y({title:"Error",description:"No chatbot selected",variant:"destructive"});return}d(!0);try{i==null||i(l);const N=await XI({chatbot_id:e,url:l,selected_pages:m.length>0?m:void 0});N!=null&&N.success?(y({title:"Success",description:`Website crawled successfully! ${N.pagesCount} pages processed.`}),o==null||o()):y({title:"Error",description:(N==null?void 0:N.error)||"Failed to crawl website",variant:"destructive"})}catch(N){console.error("Crawl error:",N),y({title:"Error",description:"Failed to crawl website",variant:"destructive"})}finally{d(!1)}},j=()=>{switch(r){case"completed":return s.jsxs(xe,{variant:"default",className:"bg-green-100 text-green-800",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Completed"]});case"crawling":return s.jsxs(xe,{variant:"secondary",children:[s.jsx(xt,{className:"h-3 w-3 mr-1 animate-spin"}),"Crawling..."]});case"failed":return s.jsxs(xe,{variant:"destructive",children:[s.jsx(ui,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return s.jsx(xe,{variant:"outline",children:"Pending"})}};return s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5"}),"Website Content"]}),s.jsx(Se,{children:"Crawl your website to provide context to your chatbot"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{type:"url",placeholder:"https://example.com",value:l,onChange:N=>c(N.target.value),className:"flex-1",disabled:u}),s.jsx(te,{onClick:b,disabled:u||!l.trim(),variant:"outline",className:"min-w-[100px]",children:"Discover Pages"}),s.jsx(te,{onClick:w,disabled:u||!l.trim()||p&&m.length===0,className:"min-w-[100px]",children:u?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}),"Crawling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),n?"Re-crawl":"Crawl"]})})]}),p&&h.length>0&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("h4",{className:"font-semibold mb-2",children:["Select Pages to Crawl (",m.length," selected)"]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:h.map((N,S)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lf,{id:`page-${S}`,checked:m.includes(N),onCheckedChange:C=>{v(C?[...m,N]:m.filter(k=>k!==N))}}),s.jsx("label",{htmlFor:`page-${S}`,className:"text-sm cursor-pointer flex-1 truncate",children:N})]},S))})]}),l&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),j()]}),a&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last crawled: ",new Date(a).toLocaleString()]})]})]})]})}const uN=[{id:"email_send",name:"Send Email",description:"Send emails to users or notify team members",icon:Ls},{id:"webhook_call",name:"Webhook Call",description:"Call external APIs or services",icon:_se},{id:"custom_tool",name:"Custom Tool",description:"Create a custom tool with configurable parameters for automation",icon:As}];function d3({chatbotId:e,onSuccess:t,action:n}){var S,C,k;const[r,a]=g.useState((n==null?void 0:n.action_type)||""),[i,o]=g.useState((n==null?void 0:n.name)||""),[l,c]=g.useState((n==null?void 0:n.description)||""),[u,d]=g.useState((n==null?void 0:n.configuration)||{}),[h,f]=g.useState(!1),[m,v]=g.useState((n==null?void 0:n.action_type)==="custom_tool"&&((S=n==null?void 0:n.configuration)!=null&&S.parameters)?n.configuration.parameters:[]),{toast:p}=En(),x=async E=>{if(E.preventDefault(),!r||!i.trim()){p({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f(!0);try{const A=r==="custom_tool"?{...u,parameters:m}:u;if(n){const{error:P}=await Y.from("chatbot_actions").update({action_type:r,name:i.trim(),description:l.trim(),configuration:A}).eq("id",n.id);if(P)throw P;p({title:"Success",description:"Action updated successfully"})}else{const{error:P}=await Y.from("chatbot_actions").insert({chatbot_id:e,action_type:r,name:i.trim(),description:l.trim(),configuration:A,is_active:!0});if(P)throw P;p({title:"Success",description:"Action created successfully"})}t()}catch(A){console.error("Error creating action:",A),p({title:"Error",description:"Failed to create action",variant:"destructive"})}finally{f(!1)}},y=(E,A)=>{d(P=>({...P,[E]:A}))},b=()=>{v(E=>[...E,{name:"",type:"text",description:"",required:!1}])},w=E=>{v(A=>A.filter((P,B)=>B!==E))},j=(E,A,P)=>{v(B=>B.map((U,I)=>I===E?{...U,[A]:P}:U))},N=()=>{var E,A,P,B,U;switch(r){case"email_send":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-provider",children:"Email Provider"}),s.jsxs(He,{value:u.provider||"",onValueChange:I=>y("provider",I),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select email provider"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"smtp",children:"SMTP"}),s.jsx(ue,{value:"sendgrid",children:"SendGrid"}),s.jsx(ue,{value:"mailgun",children:"Mailgun"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-from",children:"From Email"}),s.jsx(he,{id:"email-from",type:"email",placeholder:"noreply@yourcompany.com",value:u.fromEmail||"",onChange:I=>y("fromEmail",I.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-to",children:"Default To Email"}),s.jsx(he,{id:"email-to",type:"email",placeholder:"support@yourcompany.com",value:u.defaultToEmail||"",onChange:I=>y("defaultToEmail",I.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-template",children:"Email Template"}),s.jsx(dt,{id:"email-template",placeholder:"Enter email template...",value:u.emailTemplate||"",onChange:I=>y("emailTemplate",I.target.value)})]})]});case"webhook_call":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(he,{id:"webhook-url",type:"url",placeholder:"https://api.yourservice.com/webhook",value:u.webhookUrl||"",onChange:I=>y("webhookUrl",I.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-method",children:"HTTP Method"}),s.jsxs(He,{value:u.method||"POST",onValueChange:I=>y("method",I),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select HTTP method"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"POST",children:"POST"}),s.jsx(ue,{value:"PUT",children:"PUT"}),s.jsx(ue,{value:"PATCH",children:"PATCH"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-headers",children:"Headers (JSON)"}),s.jsx(dt,{id:"webhook-headers",placeholder:'{"Authorization": "Bearer YOUR_TOKEN"}',value:u.headers||"",onChange:I=>y("headers",I.target.value)})]})]});case"custom_tool":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(he,{id:"webhook-url",type:"url",placeholder:"https://hook.make.com/your-webhook-id",value:u.webhookUrl||"",onChange:I=>y("webhookUrl",I.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Connect to Make.com, Zapier, or any webhook endpoint"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"tool-trigger",children:"Tool Trigger Phrase"}),s.jsx(he,{id:"tool-trigger",placeholder:"e.g., 'book appointment', 'send notification'",value:u.triggerPhrase||"",onChange:I=>y("triggerPhrase",I.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"When users say this phrase, the tool will be triggered"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(ne,{children:"Custom Parameters"}),s.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-4 w-4"}),"Add Parameter"]})]}),m.map((I,L)=>s.jsx(J,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-name-${L}`,children:"Parameter Name"}),s.jsx(he,{id:`param-name-${L}`,placeholder:"e.g., customer_email",value:I.name,onChange:M=>j(L,"name",M.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-type-${L}`,children:"Parameter Type"}),s.jsxs(He,{value:I.type,onValueChange:M=>j(L,"type",M),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"text",children:"Text"}),s.jsx(ue,{value:"email",children:"Email"}),s.jsx(ue,{value:"number",children:"Number"}),s.jsx(ue,{value:"date",children:"Date"}),s.jsx(ue,{value:"phone",children:"Phone"})]})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ne,{htmlFor:`param-desc-${L}`,children:"Description"}),s.jsx(he,{id:`param-desc-${L}`,placeholder:"Describe what this parameter is for",value:I.description,onChange:M=>j(L,"description",M.target.value)})]}),s.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:I.required,onChange:M=>j(L,"required",M.target.checked),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:"Required parameter"})]}),s.jsxs(te,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(L),className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4"}),"Remove"]})]})]})},L)),m.length===0&&s.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"No parameters added yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add parameters that your automation tool needs"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"h-5 w-5"})," Email Automation"]}),s.jsx(Se,{children:"Automatically send emails when this tool is triggered and all required parameters are collected"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"email-automation-enabled",checked:((E=u.emailAutomation)==null?void 0:E.enabled)||!1,onChange:I=>y("emailAutomation",{...u.emailAutomation,enabled:I.target.checked}),className:"rounded border-gray-300"}),s.jsx(ne,{htmlFor:"email-automation-enabled",children:"Enable email trigger for this tool"})]}),((A=u.emailAutomation)==null?void 0:A.enabled)&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(he,{id:"email-subject",placeholder:"e.g., New Lead from {{bot_name}}",value:((P=u.emailAutomation)==null?void 0:P.subject)||"",onChange:I=>y("emailAutomation",{...u.emailAutomation,subject:I.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use ","{{bot_name}}"," for chatbot name and parameter names like ","{{name}}, {{email}}"]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-body",children:"Email Body Template"}),s.jsx(dt,{id:"email-body",placeholder:`Name: {{name}}
Email: {{email}}
Service: {{service}}
Notes: {{notes}}`,value:((B=u.emailAutomation)==null?void 0:B.body)||"",onChange:I=>y("emailAutomation",{...u.emailAutomation,body:I.target.value}),rows:6}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use dynamic variables from your tool parameters (e.g., ","{{name}}, {{email}}, {{service}}",")"]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-recipients",children:"Recipient Email(s)"}),s.jsx(he,{id:"email-recipients",placeholder:"admin@company.com, {{email}}",value:((U=u.emailAutomation)==null?void 0:U.recipients)||"",onChange:I=>y("emailAutomation",{...u.emailAutomation,recipients:I.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Comma-separated emails. Use ","{{email}}"," or other parameters as recipients"]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:" Example Configuration:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Subject:"})," New Lead from ","{{bot_name}}"]}),s.jsx("p",{children:s.jsx("strong",{children:"Body:"})}),s.jsxs("pre",{className:"bg-background p-2 rounded text-xs whitespace-pre-wrap",children:["Name: ","{{name}}",`
`,"Email: ","{{email}}",`
`,"Service: ","{{service}}",`
`,"Notes: ","{{notes}}"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Recipients:"})," support@company.com, ","{{email}}"]})]})]})]})]})]})]});default:return null}};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"action-type",children:"Action Type"}),s.jsxs(He,{value:r,onValueChange:a,children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select action type"})}),s.jsx(We,{children:uN.map(E=>s.jsx(ue,{value:E.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E.icon,{className:"h-4 w-4"}),E.name]})},E.id))})]})]}),r&&s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:(C=uN.find(E=>E.id===r))==null?void 0:C.name}),s.jsx(Se,{children:(k=uN.find(E=>E.id===r))==null?void 0:k.description})]}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"action-name",children:"Action Name"}),s.jsx(he,{id:"action-name",placeholder:"e.g., Book Appointment",value:i,onChange:E=>o(E.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"action-description",children:"Description"}),s.jsx(dt,{id:"action-description",placeholder:"Describe what this action does...",value:l,onChange:E=>c(E.target.value)})]}),N()]})})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(te,{type:"submit",disabled:h||!r||!i.trim(),children:h?n?"Updating...":"Creating...":n?"Update Action":"Create Action"})})]})}function VG({chatbotId:e}){const[t,n]=g.useState([]),[r,a]=g.useState(!0),[i,o]=g.useState(!1),[l,c]=g.useState(null),{toast:u}=En();g.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:p,error:x}=await Y.from("chatbot_actions").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(x)throw x;n(p||[])}catch(p){console.error("Error fetching actions:",p),u({title:"Error",description:"Failed to fetch actions",variant:"destructive"})}finally{a(!1)}},h=async(p,x)=>{try{const{error:y}=await Y.from("chatbot_actions").update({is_active:!x}).eq("id",p);if(y)throw y;await d(),u({title:"Success",description:`Action ${x?"disabled":"enabled"} successfully`})}catch(y){console.error("Error toggling action:",y),u({title:"Error",description:"Failed to toggle action",variant:"destructive"})}},f=async p=>{try{const{error:x}=await Y.from("chatbot_actions").delete().eq("id",p);if(x)throw x;await d(),u({title:"Success",description:"Action deleted successfully"})}catch(x){console.error("Error deleting action:",x),u({title:"Error",description:"Failed to delete action",variant:"destructive"})}},m=p=>{switch(p){case"calendar_booking":return"Calendar Booking";case"email_send":return"Send Email";case"webhook_call":return"Webhook Call";case"zapier_trigger":return"Zapier Trigger";case"custom_tool":return"Custom Tool";default:return p}},v=p=>{switch(p){case"calendar_booking":return"bg-blue-100 text-blue-800";case"email_send":return"bg-green-100 text-green-800";case"webhook_call":return"bg-purple-100 text-purple-800";case"zapier_trigger":return"bg-orange-100 text-orange-800";case"custom_tool":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx(J,{children:s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(Se,{children:"Loading actions..."})]})}):s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(Se,{children:"Configure actions your chatbot can perform, like booking appointments or sending emails"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.length," action",t.length!==1?"s":""," configured"]}),s.jsxs(zn,{open:i,onOpenChange:o,children:[s.jsx(qu,{asChild:!0,children:s.jsxs(te,{size:"sm",type:"button",children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Add Action"]})}),s.jsxs(Dn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Add New Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:s.jsx(d3,{chatbotId:e,onSuccess:()=>{o(!1),d()}})})]})]})]}),s.jsx(zn,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(Dn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Edit Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:l&&s.jsx(d3,{chatbotId:e,action:l,onSuccess:()=>{c(null),d()}})})]})}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(As,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"font-semibold mb-2",children:"No actions configured"}),s.jsx("p",{className:"text-sm mb-4",children:"Add actions to let your chatbot perform tasks like booking appointments or sending emails"}),s.jsxs(te,{onClick:()=>o(!0),type:"button",children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Add Your First Action"]})]}):s.jsx("div",{className:"space-y-3",children:t.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium",children:p.name}),s.jsx(xe,{className:v(p.action_type),children:m(p.action_type)}),s.jsx(xe,{variant:p.is_active?"default":"secondary",children:p.is_active?"Active":"Inactive"})]}),p.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(p.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(te,{variant:"ghost",size:"sm",type:"button",onClick:()=>c(p),title:"Edit action",children:s.jsx(bb,{className:"h-4 w-4"})}),s.jsx(te,{variant:"ghost",size:"sm",type:"button",onClick:()=>h(p.id,p.is_active),children:p.is_active?s.jsx(vse,{className:"h-4 w-4"}):s.jsx(DU,{className:"h-4 w-4"})}),s.jsx(te,{variant:"ghost",size:"sm",type:"button",onClick:()=>f(p.id),children:s.jsx($t,{className:"h-4 w-4"})})]})]},p.id))})]})]})}function WG({chatbotId:e}){const[t,n]=g.useState([]),[r,a]=g.useState(!1),[i,o]=g.useState({question:"",answer:""}),{toast:l}=En();g.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:m,error:v}=await Y.from("chatbot_faqs").select("*").eq("chatbot_id",e).order("sort_order");if(v)throw v;n(m||[])}catch{l({title:"Error",description:"Failed to fetch FAQs",variant:"destructive"})}},u=async()=>{if(!(!i.question.trim()||!i.answer.trim())){a(!0);try{const m=Math.max(...t.map(p=>p.sort_order),-1),{error:v}=await Y.from("chatbot_faqs").insert({chatbot_id:e,question:i.question.trim(),answer:i.answer.trim(),sort_order:m+1});if(v)throw v;o({question:"",answer:""}),c(),l({title:"Success",description:"FAQ added successfully"})}catch{l({title:"Error",description:"Failed to add FAQ",variant:"destructive"})}finally{a(!1)}}},d=async m=>{if(confirm("Are you sure you want to delete this FAQ?"))try{const{error:v}=await Y.from("chatbot_faqs").delete().eq("id",m);if(v)throw v;c(),l({title:"Success",description:"FAQ deleted successfully"})}catch{l({title:"Error",description:"Failed to delete FAQ",variant:"destructive"})}},h=async(m,v)=>{try{const{error:p}=await Y.from("chatbot_faqs").update({is_active:v}).eq("id",m);if(p)throw p;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}},f=async(m,v,p)=>{try{const{error:x}=await Y.from("chatbot_faqs").update({[v]:p}).eq("id",m);if(x)throw x;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}};return s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5 text-primary"}),"Frequently Asked Questions"]}),s.jsx(Se,{children:"Create quick-send buttons for common questions that visitors can click to ask"})]}),s.jsxs(ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/10",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"new-question",className:"text-sm font-medium",children:"Question"}),s.jsx(he,{id:"new-question",placeholder:"Enter a frequently asked question...",value:i.question,onChange:m=>o(v=>({...v,question:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"new-answer",className:"text-sm font-medium",children:"Answer"}),s.jsx(dt,{id:"new-answer",placeholder:"Enter the answer the chatbot should give...",value:i.answer,onChange:m=>o(v=>({...v,answer:m.target.value})),rows:3})]}),s.jsxs(te,{onClick:u,disabled:r||!i.question.trim()||!i.answer.trim(),className:"w-full",children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Add FAQ"]})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Jt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No FAQs yet. Add your first FAQ to get started!"})]}):t.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{checked:m.is_active,onCheckedChange:v=>h(m.id,v)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:m.is_active?"Active":"Inactive"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>d(m.id),className:"text-destructive hover:text-destructive",children:s.jsx($t,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Question"}),s.jsx(he,{value:m.question,onChange:v=>f(m.id,"question",v.target.value),placeholder:"Enter the question visitors will see...",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Answer"}),s.jsx(dt,{value:m.answer||"",onChange:v=>f(m.id,"answer",v.target.value),placeholder:"Enter the answer the chatbot should give...",rows:3,className:"mt-1 resize-none"})]})]},m.id))}),t.length>0&&s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[s.jsx("strong",{children:"Tip:"})," These questions will appear as clickable buttons in your chat widget, making it easy for visitors to ask common questions. Only active FAQs will be shown."]})]})]})}function HG({chatbotId:e}){const[t,n]=g.useState([]),[r,a]=g.useState(!0);g.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:c,error:u}=await Y.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(u)throw u;n(c||[])}catch(c){console.error("Error fetching forms:",c),pe.error("Failed to load forms")}finally{a(!1)}},o=async(c,u)=>{try{const{error:d}=await Y.from("chatbot_forms").update({is_active:!u}).eq("id",c);if(d)throw d;n(t.map(h=>h.id===c?{...h,is_active:!u}:h)),pe.success(`Form ${u?"deactivated":"activated"}`)}catch(d){console.error("Error toggling form status:",d),pe.error("Failed to update form status")}},l=async c=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:u}=await Y.from("chatbot_forms").delete().eq("id",c);if(u)throw u;n(t.filter(d=>d.id!==c)),pe.success("Form deleted successfully")}catch(u){console.error("Error deleting form:",u),pe.error("Failed to delete form")}};return r?s.jsx("div",{children:"Loading forms..."}):t.length===0?s.jsx(J,{children:s.jsx(ee,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No forms created yet. Go to the Forms section to create forms for this chatbot."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage which forms are active for this chatbot. Active forms will be triggered when users mention the associated keywords."}),t.map(c=>s.jsxs(J,{children:[s.jsx(ae,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(lf,{checked:c.is_active,onCheckedChange:()=>o(c.id,c.is_active)}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-sm",children:c.form_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.form_title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{variant:c.is_active?"default":"secondary",children:c.is_active?"Active":"Inactive"}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>l(c.id),className:"text-destructive hover:text-destructive",children:s.jsx($t,{className:"h-4 w-4"})})]})]})}),c.form_description&&s.jsx(ee,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:c.form_description})}),c.trigger_keywords&&c.trigger_keywords.length>0&&s.jsx(ee,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Keywords:"}),c.trigger_keywords.map((u,d)=>s.jsx(xe,{variant:"outline",className:"text-xs",children:u},d))]})})]},c.id))]})}const qFe=[{value:"basic",label:"Basic Condition"},{value:"message_content",label:"Message Content"},{value:"custom_parameter",label:"Custom Parameter"},{value:"parameter_exists",label:"Parameter Exists"}],VFe=[{value:"always",label:"Always send email"}],h3=[{value:"conversation_length",label:"Conversation Length (messages)"},{value:"conversation_duration",label:"Duration (minutes)"},{value:"user_rating",label:"User Rating"},{value:"summary_sentiment",label:"Summary Sentiment"},{value:"agent_name",label:"Agent/Bot Name"}],WFe=[{value:"user",label:"User"},{value:"bot",label:"Bot"},{value:"any",label:"Any"}],f3=[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"starts_with",label:"Starts With"},{value:"ends_with",label:"Ends With"},{value:"not_contains",label:"Does Not Contain"},{value:"not_equals",label:"Does Not Equal"}],m3=[{value:"equals",label:"Equals"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_than_equal",label:"Greater Than or Equal"},{value:"less_than_equal",label:"Less Than or Equal"},{value:"not_equals",label:"Not Equal"}],HFe=["{{user_name}}","{{bot_name}}","{{conversation_summary}}","{{timestamp}}","{{first_message}}","{{last_message}}"];function GG({chatbotId:e,template:t,conditions:n,notificationEmail:r,onTemplateChange:a,onConditionsChange:i}){const[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState([]),[f,m]=g.useState([]),{toast:v}=En();g.useEffect(()=>{p(),x()},[e]);const p=async()=>{try{const{data:U,error:I}=await Y.from("chatbot_custom_parameters").select("id, parameter_name, parameter_type, is_required").eq("chatbot_id",e);if(I)throw I;h(U||[])}catch(U){console.error("Error loading custom parameters:",U)}},x=async()=>{try{const{data:U,error:I}=await Y.from("chatbot_actions").select("name, configuration").eq("chatbot_id",e).eq("action_type","custom_tool").eq("is_active",!0);if(I)throw I;const L=[];U==null||U.forEach(M=>{const $=M.configuration;(($==null?void 0:$.parameters)||[]).forEach(F=>{L.push({tool_name:M.name,parameter_name:F.name,parameter_type:F.type,is_required:F.required})})}),m(L)}catch(U){console.error("Error loading tool parameters:",U)}},y=n.groups?n:{logic:n.logic||"AND",groups:[{logic:"AND",rules:n.rules||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},b=()=>{const U={...y,groups:[...y.groups,{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]};i(U)},w=U=>{const I={...y,groups:y.groups.map((L,M)=>M===U?{...L,rules:[...L.rules,{type:"basic",field:"always",operator:"equals",value:"true"}]}:L)};i(I)},j=U=>{if(y.groups.length===1)return;const I={...y,groups:y.groups.filter((L,M)=>M!==U)};i(I)},N=(U,I)=>{if(y.groups[U].rules.length===1)return;const M={...y,groups:y.groups.map(($,R)=>R===U?{...$,rules:$.rules.filter((F,D)=>D!==I)}:$)};i(M)},S=(U,I,L,M)=>{const $={...y,groups:y.groups.map((R,F)=>F===U?{...R,rules:R.rules.map((D,H)=>H===I?{...D,[L]:M}:D)}:R)};i($)},C=(U,I)=>{const L={...y,groups:y.groups.map((M,$)=>$===U?{...M,logic:I}:M)};i(L)},k=U=>{i({...y,logic:U})},E=U=>{if(U.type==="custom_parameter"){const I=h3.find(M=>M.value===U.field);if((I==null?void 0:I.value)==="conversation_length"||(I==null?void 0:I.value)==="conversation_duration"||(I==null?void 0:I.value)==="user_rating")return m3;const L=d.find(M=>M.parameter_name===U.field);if((L==null?void 0:L.parameter_type)==="number")return m3}return f3},A=U=>{const I=document.getElementById("email-template");if(I){const L=I.selectionStart,M=I.selectionEnd,$=t.slice(0,L)+U+t.slice(M);a($),setTimeout(()=>{I.focus(),I.setSelectionRange(L+U.length,L+U.length)},0)}},P=()=>{const U={user_name:"John Doe",bot_name:"SalesBot",conversation_summary:"The user inquired about pricing for the premium package and asked about scheduling a demo. The conversation covered features, pricing tiers, and implementation timeline.",timestamp:new Date().toLocaleString(),first_message:"Hi, I'm interested in learning more about your premium package.",last_message:"Thank you for the information. I'll discuss this with my team and get back to you soon."};let I=t;return Object.entries(U).forEach(([L,M])=>{const $=new RegExp(`\\{\\{${L}\\}\\}`,"g");I=I.replace($,M)}),d.forEach(L=>{const M=new RegExp(`\\{\\{${L.parameter_name}\\}\\}`,"g");I=I.replace(M,`[Mock ${L.parameter_name}]`)}),f.forEach(L=>{const M=new RegExp(`\\{\\{tool_${L.parameter_name}\\}\\}`,"g");I=I.replace(M,`[Mock Tool Data: ${L.parameter_name}]`)}),I},B=async()=>{if(!r){v({title:"Error",description:"Please set a notification email address first.",variant:"destructive"});return}u(!0);try{const U=P();await Dq({to_email:r,subject:" Test Email - End-of-Chat Template",html_content:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
              <div style="background-color: #3b82f6; color: white; padding: 15px; border-radius: 8px 8px 0 0;">
                <h2 style="margin: 0;"> Test Email - End-of-Chat Template</h2>
              </div>
              <div style="border: 1px solid #e2e8f0; border-top: none; padding: 20px; border-radius: 0 0 8px 8px;">
                <p><strong>This is a test of your custom email template.</strong></p>
                <hr style="margin: 20px 0; border: 1px solid #e2e8f0;">
                <div style="white-space: pre-line; line-height: 1.6;">
                  ${U.replace(/\n/g,"<br>")}
                </div>
              </div>
            </div>
          `,from_name:"Voxtro Chatbots"}),v({title:"Test Email Sent",description:`Test email sent successfully to ${r}`})}catch(U){console.error("Error sending test email:",U),v({title:"Error",description:`Failed to send test email: ${U.message}`,variant:"destructive"})}finally{u(!1)}};return s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"End-of-Chat Email Settings"}),s.jsx(Se,{children:"Customize your email template and set conditions for when emails should be sent"})]}),s.jsxs(ee,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{htmlFor:"email-template",className:"text-sm font-medium",children:"Email Template"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Available variables:"}),HFe.map(U=>s.jsx(xe,{variant:"secondary",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>A(U),children:U},U)),d.map(U=>s.jsxs(xe,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>A(`{{${U.parameter_name}}}`),children:["{{","$",U.parameter_name,"}}"]},U.parameter_name)),f.map(U=>s.jsxs(xe,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs border-orange-500 text-orange-700",onClick:()=>A(`{{tool_${U.parameter_name}}}`),children:["{{tool_","$",U.parameter_name,"}}"]},`${U.tool_name}-${U.parameter_name}`))]}),f.length>0&&s.jsx("p",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded",children:" Tool parameters (orange badges) are collected when your custom tools execute during conversations"}),s.jsx(dt,{id:"email-template",value:t,onChange:U=>a(U.target.value),placeholder:"Enter your custom email template...",className:"min-h-[200px] font-mono text-sm"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Email Sending Conditions"}),s.jsxs(te,{type:"button",variant:"outline",size:"sm",onClick:b,children:[s.jsx(Ft,{className:"h-4 w-4 mr-1"}),"Add Rule Group"]})]}),y.groups.length>1&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Between groups use:"}),s.jsxs(He,{value:y.logic,onValueChange:U=>k(U),children:[s.jsx(Ve,{className:"w-20",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"AND",children:"AND"}),s.jsx(ue,{value:"OR",children:"OR"})]})]})]}),s.jsx("div",{className:"space-y-4",children:y.groups.map((U,I)=>s.jsx(J,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Rule Group ",I+1]}),U.rules.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Logic:"}),s.jsxs(He,{value:U.logic,onValueChange:L=>C(I,L),children:[s.jsx(Ve,{className:"w-16 h-6 text-xs",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"AND",children:"AND"}),s.jsx(ue,{value:"OR",children:"OR"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(te,{type:"button",variant:"outline",size:"sm",onClick:()=>w(I),children:s.jsx(Ft,{className:"h-3 w-3"})}),y.groups.length>1&&s.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(I),children:s.jsx($t,{className:"h-3 w-3 text-destructive"})})]})]}),s.jsx("div",{className:"space-y-2",children:U.rules.map((L,M)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/30 flex-wrap",children:[s.jsxs(He,{value:L.type,onValueChange:$=>{var D;let R={type:$,field:"",operator:"equals",value:""};$==="basic"?(R.field="always",R.value="true"):$==="message_content"?(R.field="any_message",R.operator="contains",R.sender="any",R.case_sensitive=!1):$==="custom_parameter"?(R.field="conversation_length",R.operator="greater_than",R.value="5"):$==="parameter_exists"&&(R.field="parameter_exists",R.operator="exists",R.parameter_name=((D=d[0])==null?void 0:D.parameter_name)||"",R.value="true");const F={...y,groups:y.groups.map((H,z)=>z===I?{...H,rules:H.rules.map((_,O)=>O===M?R:_)}:H)};i(F)},children:[s.jsx(Ve,{className:"w-36",children:s.jsx(Ge,{})}),s.jsx(We,{children:qFe.map($=>s.jsx(ue,{value:$.value,children:$.label},$.value))})]}),L.type==="basic"&&s.jsxs(He,{value:L.field,onValueChange:$=>S(I,M,"field",$),children:[s.jsx(Ve,{className:"w-40",children:s.jsx(Ge,{})}),s.jsx(We,{children:VFe.map($=>s.jsx(ue,{value:$.value,children:$.label},$.value))})]}),L.type==="message_content"&&s.jsxs(s.Fragment,{children:[s.jsxs(He,{value:L.sender||"any",onValueChange:$=>S(I,M,"sender",$),children:[s.jsx(Ve,{className:"w-24",children:s.jsx(Ge,{})}),s.jsx(We,{children:WFe.map($=>s.jsx(ue,{value:$.value,children:$.label},$.value))})]}),s.jsxs(He,{value:L.operator,onValueChange:$=>S(I,M,"operator",$),children:[s.jsx(Ve,{className:"w-32",children:s.jsx(Ge,{})}),s.jsx(We,{children:f3.map($=>s.jsx(ue,{value:$.value,children:$.label},$.value))})]}),s.jsx(he,{value:L.value,onChange:$=>S(I,M,"value",$.target.value),placeholder:"Search text...",className:"flex-1 min-w-[120px]"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{checked:L.case_sensitive||!1,onCheckedChange:$=>S(I,M,"case_sensitive",$)}),s.jsx(ne,{className:"text-xs",children:"Case"})]})]}),L.type==="custom_parameter"&&s.jsxs(s.Fragment,{children:[s.jsxs(He,{value:L.field,onValueChange:$=>S(I,M,"field",$),children:[s.jsx(Ve,{className:"w-48",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[h3.map($=>s.jsx(ue,{value:$.value,children:$.label},$.value)),d.map($=>s.jsxs(ue,{value:$.parameter_name,children:["Custom: ",$.parameter_name," (",$.parameter_type,")"]},$.parameter_name)),f.map($=>s.jsxs(ue,{value:`tool_${$.parameter_name}`,children:['Tool "',$.tool_name,'": ',$.parameter_name," (",$.parameter_type,")"]},`tool_${$.parameter_name}`))]})]}),s.jsxs(He,{value:L.operator,onValueChange:$=>S(I,M,"operator",$),children:[s.jsx(Ve,{className:"w-36",children:s.jsx(Ge,{})}),s.jsx(We,{children:E(L).map($=>s.jsx(ue,{value:$.value,children:$.label},$.value))})]}),s.jsx(he,{value:L.value,onChange:$=>S(I,M,"value",$.target.value),placeholder:"Value...",className:"flex-1 min-w-[100px]"})]}),L.type==="parameter_exists"&&s.jsxs(s.Fragment,{children:[s.jsxs(He,{value:L.parameter_name||"",onValueChange:$=>S(I,M,"parameter_name",$),children:[s.jsx(Ve,{className:"w-40",children:s.jsx(Ge,{placeholder:"Select parameter"})}),s.jsxs(We,{children:[d.map($=>s.jsxs(ue,{value:$.parameter_name,children:[$.parameter_name," (",$.parameter_type,")"]},$.id)),f.map($=>s.jsxs(ue,{value:`tool_${$.parameter_name}`,children:['Tool "',$.tool_name,'": ',$.parameter_name," (",$.parameter_type,")"]},`tool_${$.parameter_name}`))]})]}),s.jsxs(He,{value:L.operator,onValueChange:$=>S(I,M,"operator",$),children:[s.jsx(Ve,{className:"w-32",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"exists",children:"Exists"}),s.jsx(ue,{value:"not_exists",children:"Does Not Exist"})]})]})]}),U.rules.length>1&&s.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>N(I,M),children:s.jsx($t,{className:"h-4 w-4 text-destructive"})})]},M))})]})},I))})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(te,{type:"button",variant:"outline",onClick:()=>l(!o),children:[o?s.jsx(Yp,{className:"h-4 w-4 mr-2"}):s.jsx(oa,{className:"h-4 w-4 mr-2"}),o?"Hide Preview":"Show Preview"]}),s.jsxs(te,{type:"button",variant:"outline",onClick:B,disabled:c||!r,children:[s.jsx(wse,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test Email"]})]}),o&&s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-sm",children:"Email Preview (with mock data)"})}),s.jsx(ee,{children:s.jsx("div",{className:"p-4 border rounded-lg bg-muted/30 text-sm whitespace-pre-line",style:{fontFamily:"Arial, sans-serif"},children:P()})})]})]})]})}const GFe=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Yes/No"},{value:"email",label:"Email Address"},{value:"phone",label:"Phone Number"}],p3={text:{patterns:["name is *","my name is *","call me *"]},email:{patterns:["email is *","my email is *","contact me at *"],validation_regex:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"},phone:{patterns:["phone is *","my phone is *","call me at *"],validation_regex:"^[\\+]?[1-9][\\d]{0,15}$"},number:{patterns:["age is *","I am * years old"]},boolean:{patterns:["yes","no","true","false"]}};function YG({chatbotId:e,onParametersChange:t}){const[n,r]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(!1),{toast:c}=En();g.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:p,error:x}=await Y.from("chatbot_custom_parameters").select("*").eq("chatbot_id",e).order("created_at");if(x)throw x;const y=(p==null?void 0:p.map(b=>({id:b.id,parameter_name:b.parameter_name,parameter_type:b.parameter_type,extraction_rules:b.extraction_rules||{},is_required:b.is_required,validation_rules:b.validation_rules||{}})))||[];r(y),t==null||t(y)}catch(p){console.error("Error loading parameters:",p),c({title:"Error",description:"Failed to load custom parameters",variant:"destructive"})}finally{i(!1)}},d=()=>{const p={parameter_name:"",parameter_type:"text",extraction_rules:p3.text,is_required:!1,validation_rules:{}};r([...n,p])},h=(p,x)=>{const y=n.map((b,w)=>{if(w===p){const j={...b,...x};return x.parameter_type&&x.parameter_type!==b.parameter_type&&(j.extraction_rules=p3[x.parameter_type]||{}),j}return b});r(y)},f=p=>{const x=n[p];r(n.filter((y,b)=>b!==p)),x.id&&m(x.id)},m=async p=>{try{const{error:x}=await Y.from("chatbot_custom_parameters").delete().eq("id",p);if(x)throw x}catch(x){console.error("Error deleting parameter:",x),c({title:"Error",description:"Failed to delete parameter",variant:"destructive"})}},v=async()=>{l(!0);try{if(n.filter(w=>!w.parameter_name.trim()).length>0){c({title:"Validation Error",description:"All parameters must have a name",variant:"destructive"});return}const x=n.map(w=>w.parameter_name.toLowerCase().trim());if(x.filter((w,j)=>x.indexOf(w)!==j).length>0){c({title:"Validation Error",description:"Parameter names must be unique",variant:"destructive"});return}const{error:b}=await Y.from("chatbot_custom_parameters").delete().eq("chatbot_id",e);if(b)throw b;if(n.length>0){const{error:w}=await Y.from("chatbot_custom_parameters").insert(n.map(j=>({chatbot_id:e,parameter_name:j.parameter_name.trim(),parameter_type:j.parameter_type,extraction_rules:j.extraction_rules,is_required:j.is_required,validation_rules:j.validation_rules})));if(w)throw w}c({title:"Success",description:"Custom parameters saved successfully"}),await u()}catch(p){console.error("Error saving parameters:",p),c({title:"Error",description:"Failed to save parameters",variant:"destructive"})}finally{l(!1)}};return a?s.jsx("div",{className:"p-4",children:"Loading parameters..."}):s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"Custom Parameters"]}),s.jsx(Se,{children:"Define custom parameters your chatbot should extract from conversations. These can be used in email conditions and templates."})]}),s.jsxs(ee,{className:"space-y-4",children:[n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No custom parameters defined yet."}),s.jsx("p",{className:"text-sm",children:"Add parameters to extract structured data from conversations."})]}):s.jsx("div",{className:"space-y-4",children:n.map((p,x)=>s.jsx(J,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-name-${x}`,children:"Parameter Name"}),s.jsx(he,{id:`param-name-${x}`,value:p.parameter_name,onChange:y=>h(x,{parameter_name:y.target.value}),placeholder:"e.g., name, email, phone_number"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-type-${x}`,children:"Type"}),s.jsxs(He,{value:p.parameter_type,onValueChange:y=>h(x,{parameter_type:y}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsx(We,{children:GFe.map(y=>s.jsx(ue,{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:`param-required-${x}`,checked:p.is_required,onCheckedChange:y=>h(x,{is_required:y})}),s.jsx(ne,{htmlFor:`param-required-${x}`,children:"Required"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-patterns-${x}`,children:"Extraction Patterns"}),s.jsx(dt,{id:`param-patterns-${x}`,value:(p.extraction_rules.patterns||[]).join(`
`),onChange:y=>h(x,{extraction_rules:{...p.extraction_rules,patterns:y.target.value.split(`
`).filter(b=>b.trim())}}),placeholder:`Enter patterns (one per line):
my name is *
call me *
email is *`,className:"min-h-[80px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use * as wildcard. Example: "my name is *" will extract "John" from "my name is John"'})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(x),children:s.jsx($t,{className:"h-4 w-4 text-destructive"})})})]})},x))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(te,{type:"button",variant:"outline",onClick:d,children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Add Parameter"]}),n.length>0&&s.jsx(te,{onClick:v,disabled:o,children:o?"Saving...":"Save Parameters"})]}),n.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Usage in Email Conditions:"}),' Once saved, these parameters will be available in the email conditions as "Parameter Exists/Does Not Exist" and "Parameter Value" conditions.']})})]})]})}function KG({formData:e,onChange:t,availableForms:n}){var l;const r=[{value:"phone",label:"Phone",icon:Nt},{value:"email",label:"Email",icon:Ls},{value:"message",label:"Message",icon:Ht},{value:"user",label:"Contact",icon:_n}],a=()=>{var d;const c={id:`btn_${Date.now()}`,label:"Contact Us",icon:"phone",formId:((d=n[0])==null?void 0:d.id)||"",color:e.widget_button_color||"#3b82f6"},u=[...e.widget_form_buttons||[],c];t({target:{name:"widget_form_buttons",value:u}})},i=(c,u,d)=>{const h=[...e.widget_form_buttons||[]];h[c]={...h[c],[u]:d},t({target:{name:"widget_form_buttons",value:h}})},o=c=>{var d;const u=((d=e.widget_form_buttons)==null?void 0:d.filter((h,f)=>f!==c))||[];t({target:{name:"widget_form_buttons",value:u}})};return s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Widget Customization"}),s.jsx(Se,{children:"Customize how your chat widget appears on your website"})]}),s.jsxs(ee,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_button_text",children:"Button Text"}),s.jsx(he,{id:"widget_button_text",name:"widget_button_text",value:e.widget_button_text,onChange:t,placeholder:"Chat with us"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_position",children:"Widget Position"}),s.jsxs(He,{value:e.widget_position,onValueChange:c=>t({target:{name:"widget_position",value:c}}),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select position"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"center",children:"Center"}),s.jsx(ue,{value:"bottom-right",children:"Bottom Right"}),s.jsx(ue,{value:"bottom-left",children:"Bottom Left"}),s.jsx(ue,{value:"top-right",children:"Top Right"}),s.jsx(ue,{value:"top-left",children:"Top Left"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_button_color",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(he,{id:"widget_button_color",name:"widget_button_color",type:"color",value:e.widget_button_color||"#3b82f6",onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(he,{name:"widget_button_color",value:e.widget_button_color||"#3b82f6",onChange:t,placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_text_color",children:"Text Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(he,{id:"widget_text_color",name:"widget_text_color",type:"color",value:e.widget_text_color,onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(he,{name:"widget_text_color",value:e.widget_text_color,onChange:t,placeholder:"#ffffff",className:"flex-1"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_size",children:"Widget Size"}),s.jsxs(He,{value:e.widget_size,onValueChange:c=>t({target:{name:"widget_size",value:c}}),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select size"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"small",children:"Small"}),s.jsx(ue,{value:"medium",children:"Medium"}),s.jsx(ue,{value:"large",children:"Large"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_border_radius",children:"Border Radius"}),s.jsxs(He,{value:e.widget_border_radius,onValueChange:c=>t({target:{name:"widget_border_radius",value:c}}),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select border radius"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"0",children:"Square"}),s.jsx(ue,{value:"8px",children:"Rounded"}),s.jsx(ue,{value:"50%",children:"Circular"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_custom_css",children:"Custom CSS"}),s.jsx(dt,{id:"widget_custom_css",name:"widget_custom_css",value:e.widget_custom_css,onChange:t,placeholder:`/* Example: Customize widget button */
#voxtro-button {
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  animation: pulse 2s infinite;
}

/* Customize chat window */
#voxtro-chat {
  border-radius: 20px !important;
}

/* Customize messages */
.voxtro-user-message {
  background: linear-gradient(45deg, #667eea, #764ba2);
}

.voxtro-bot-message {
  background: #f8f9fa;
  border-left: 4px solid #007bff;
}`,className:"min-h-32 font-mono text-sm"}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:s.jsx("strong",{children:"Available CSS selectors:"})}),s.jsxs("div",{className:"bg-muted p-2 rounded text-xs font-mono space-y-0.5",children:[s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-widget"})," - Main widget container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-button"})," - Chat button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-chat"})," - Chat window container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-messages"})," - Messages container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-input"})," - Input field"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-send"})," - Send button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-faq-container"})," - FAQ suggestions container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-end-conversation"})," - End conversation button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-overlay"})," - Background overlay"]})]})]})]}),s.jsx(ls,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-base font-medium",children:"Form Buttons"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add buttons that open contact forms instead of the chat"})]}),s.jsxs(te,{type:"button",onClick:a,size:"sm",disabled:n.length===0,children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Add Button"]})]}),e.widget_form_buttons&&e.widget_form_buttons.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx(ne,{htmlFor:"widget_form_buttons_layout",children:"Button Layout"}),s.jsxs(He,{value:e.widget_form_buttons_layout||"vertical",onValueChange:c=>t({target:{name:"widget_form_buttons_layout",value:c}}),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select layout"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"vertical",children:"Vertical (Stacked)"}),s.jsx(ue,{value:"horizontal",children:"Horizontal (Side by Side)"})]})]})]}),n.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"No forms available. Create some forms first to add form buttons to your widget."}),s.jsx("div",{className:"space-y-4",children:(l=e.widget_form_buttons)==null?void 0:l.map((c,u)=>{var h;const d=((h=r.find(f=>f.value===c.icon))==null?void 0:h.icon)||Nt;return s.jsx(J,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Form Button ",u+1]})]}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(u),children:s.jsx($t,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Button Label"}),s.jsx(he,{value:c.label,onChange:f=>i(u,"label",f.target.value),placeholder:"Contact Us"})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Icon"}),s.jsxs(He,{value:c.icon,onValueChange:f=>i(u,"icon",f),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsx(We,{children:r.map(f=>s.jsx(ue,{value:f.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f.icon,{className:"h-4 w-4"}),f.label]})},f.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Form to Open"}),s.jsxs(He,{value:c.formId,onValueChange:f=>i(u,"formId",f),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select form"})}),s.jsx(We,{children:n.map(f=>s.jsx(ue,{value:f.id,children:f.form_title||f.form_name},f.id))})]})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(he,{type:"color",value:c.color,onChange:f=>i(u,"color",f.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(he,{value:c.color,onChange:f=>i(u,"color",f.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]})]})]})},c.id)})})]})]})]})}const YFe=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function KFe({chatbotId:e,onSave:t}){const{user:n}=Ut(),{toast:r}=En(),[a,i]=g.useState(!1),[o,l]=g.useState(!0),[c,u]=g.useState([]),[d,h]=g.useState(""),[f,m]=g.useState(!1),[v,p]=g.useState(null),[x,y]=g.useState([]),[b,w]=g.useState(!1),[j,N]=g.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});g.useEffect(()=>{e&&(S(),C())},[e]);const S=async()=>{var L;try{const{data:M,error:$}=await Y.from("chatbots").select("*").eq("id",e).single();if($||!M)throw new Error("Chatbot not found or you do not have permission to edit it");p(M),N({name:M.name,description:M.description||"",system_prompt:M.system_prompt,model:M.model,temperature:[M.temperature],max_tokens:M.max_tokens,is_active:M.is_active,website_url:M.website_url||"",theme_color:M.theme_color,theme_color_type:M.theme_color_type||"solid",theme_gradient_start:M.theme_gradient_start||"#3b82f6",theme_gradient_end:M.theme_gradient_end||"#8b5cf6",theme_gradient_angle:M.theme_gradient_angle||135,session_timeout_minutes:M.session_timeout_minutes||30,welcome_message:M.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:M.daily_token_limit||1e5,monthly_token_limit:M.monthly_token_limit||1e6,cache_enabled:M.cache_enabled??!0,cache_duration_hours:M.cache_duration_hours||168,end_chat_notification_enabled:M.end_chat_notification_enabled||!1,end_chat_notification_email:M.end_chat_notification_email||"",email_template:M.email_template||"",email_conditions:typeof M.email_conditions=="object"&&M.email_conditions!==null?M.email_conditions.groups?M.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((L=M.email_conditions.rules)==null?void 0:L.map(R=>({type:"basic",...R})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:M.widget_button_text||"Chat with us",widget_position:M.widget_position||"bottom-right",widget_button_color:M.widget_button_color||"#3b82f6",widget_text_color:M.widget_text_color||"#ffffff",widget_size:M.widget_size||"medium",widget_border_radius:M.widget_border_radius||"50%",widget_custom_css:M.widget_custom_css||"",widget_form_buttons:Array.isArray(M.widget_form_buttons)?M.widget_form_buttons:[],widget_form_buttons_layout:M.widget_form_buttons_layout||"vertical",hide_branding:M.hide_branding||!1}),u([{role:"assistant",content:M.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch(M){r({title:"Error",description:M.message,variant:"destructive"})}finally{l(!1)}},C=async()=>{try{const{data:L,error:M}=await Y.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if(M){console.error("Error fetching forms:",M);return}y(L||[])}catch(L){console.error("Error fetching forms:",L)}},k=(L,M)=>{N($=>({...$,[L]:M})),L==="welcome_message"&&M&&u([{role:"assistant",content:M,timestamp:new Date}])},E=L=>{const{name:M,value:$}=L.target;k(M,$)},A=()=>{S(),r({title:"Website Crawled",description:"Your website content has been updated."})},P=async L=>{L.preventDefault(),i(!0);try{const M=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],$={},R={};if(v)for(const D of M){const H=v[D],z=D==="temperature"?j.temperature[0]:j[D];H!==z&&($[D]=H,R[D]=z)}const{error:F}=await Y.from("chatbots").update({...j,temperature:j.temperature[0]}).eq("id",e);if(F)throw F;if(Object.keys(R).length>0&&e&&n){const D=Object.keys(R).join(", ");await Y.from("changelog_entries").insert({user_id:n.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${D}`,description:`Updated settings for chatbot "${j.name}"`,previous_values:$,new_values:R,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."}),t==null||t()}catch(M){r({title:"Error",description:M.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},B=()=>{e&&window.open(`/embed/${e}`,"_blank")},U=async()=>{if(!d.trim()||f)return;const L={role:"user",content:d.trim(),timestamp:new Date};u(M=>[...M,L]),h(""),m(!0);try{const M=[{role:"system",content:j.system_prompt},...c.filter(H=>H.role!=="system").map(H=>({role:H.role,content:H.content.replace(" (Live Preview)","")})),{role:"user",content:L.content}],$="https://api.voxtro.io".replace(/\/$/,""),R=await fetch(`${$}/api/chat/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:M.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:j.system_prompt,model:j.model,temperature:j.temperature[0],max_tokens:j.max_tokens}})});if(!R.ok)throw new Error("Failed to get AI response");const D={role:"assistant",content:(await R.json()).response,timestamp:new Date};u(H=>[...H,D])}catch(M){console.error("Preview error:",M);const $={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(R=>[...R,$])}finally{m(!1)}},I=L=>{L.key==="Enter"&&U()};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading chatbot..."})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(Gu,{defaultValue:"basic",className:"space-y-4",children:[s.jsxs(vc,{className:"grid w-full grid-cols-6",children:[s.jsx(tn,{value:"basic",children:"Basic"}),s.jsx(tn,{value:"ai",children:"AI Config"}),s.jsx(tn,{value:"widget",children:"Widget"}),s.jsx(tn,{value:"actions",children:"Actions & FAQs"}),s.jsx(tn,{value:"notifications",children:"Notifications"}),s.jsx(tn,{value:"preview",children:"Preview"})]}),s.jsxs("form",{onSubmit:P,children:[s.jsx(nn,{value:"basic",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(Se,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(he,{id:"name",value:j.name,onChange:L=>k("name",L.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(dt,{id:"description",value:j.description,onChange:L=>k("description",L.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(dt,{id:"welcome_message",value:j.welcome_message,onChange:L=>k("welcome_message",L.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"website_url",children:"Website URL"}),s.jsx(he,{id:"website_url",value:j.website_url,onChange:L=>k("website_url",L.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(XT,{chatbotId:v==null?void 0:v.id,websiteUrl:j.website_url,websiteContent:v==null?void 0:v.website_content,crawlStatus:v==null?void 0:v.crawl_status,lastCrawledAt:v==null?void 0:v.last_crawled_at,onWebsiteUpdate:L=>k("website_url",L),onCrawlComplete:A}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Lt,{checked:j.is_active,onCheckedChange:L=>k("is_active",L)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Lt,{checked:j.hide_branding,onCheckedChange:L=>k("hide_branding",L)})]})]})]})}),s.jsx(nn,{value:"ai",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"AI Configuration"}),s.jsx(Se,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(dt,{id:"system_prompt",value:j.system_prompt,onChange:L=>k("system_prompt",L.target.value),placeholder:"Define how your chatbot should behave...",rows:6,required:!0}),s.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>w(!0),title:"Expand editor",children:s.jsx(Kp,{className:"h-4 w-4"})})]})]}),s.jsx(zn,{open:b,onOpenChange:w,children:s.jsxs(Dn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Edit System Prompt"})}),s.jsx(dt,{value:j.system_prompt,onChange:L=>k("system_prompt",L.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"AI Model"}),s.jsxs(He,{value:j.model,onValueChange:L=>k("model",L),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsx(We,{children:YFe.map(L=>s.jsx(ue,{value:L.value,children:L.label},L.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Creativity Level: ",j.temperature[0]]}),s.jsx(of,{value:j.temperature,onValueChange:L=>k("temperature",L),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(he,{id:"max_tokens",type:"number",value:j.max_tokens,onChange:L=>k("max_tokens",parseInt(L.target.value)),min:100,max:4e3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(he,{id:"session_timeout_minutes",type:"number",value:j.session_timeout_minutes,onChange:L=>k("session_timeout_minutes",parseInt(L.target.value)),min:1,max:1440})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h4",{className:"font-medium",children:"Usage Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(he,{id:"daily_token_limit",type:"number",value:j.daily_token_limit,onChange:L=>k("daily_token_limit",parseInt(L.target.value)||0),min:0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(he,{id:"monthly_token_limit",type:"number",value:j.monthly_token_limit,onChange:L=>k("monthly_token_limit",parseInt(L.target.value)||0),min:0})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Lt,{checked:j.cache_enabled,onCheckedChange:L=>k("cache_enabled",L)})]}),j.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(he,{id:"cache_duration_hours",type:"number",value:j.cache_duration_hours,onChange:L=>k("cache_duration_hours",parseInt(L.target.value)||0),min:1,max:8760})]})]})]})]})}),s.jsxs(nn,{value:"widget",className:"space-y-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Appearance"}),s.jsx(Se,{children:"Customize how your chatbot looks"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Color Type"}),s.jsxs(He,{value:j.theme_color_type||"solid",onValueChange:L=>k("theme_color_type",L),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"solid",children:"Solid Color"}),s.jsx(ue,{value:"gradient",children:"Gradient"})]})]})]}),j.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Gradient Start"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{type:"color",value:j.theme_gradient_start,onChange:L=>k("theme_gradient_start",L.target.value),className:"w-16 h-10 p-1"}),s.jsx(he,{value:j.theme_gradient_start,onChange:L=>k("theme_gradient_start",L.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Gradient End"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{type:"color",value:j.theme_gradient_end,onChange:L=>k("theme_gradient_end",L.target.value),className:"w-16 h-10 p-1"}),s.jsx(he,{value:j.theme_gradient_end,onChange:L=>k("theme_gradient_end",L.target.value),className:"flex-1"})]})]})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Theme Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{type:"color",value:j.theme_color,onChange:L=>k("theme_color",L.target.value),className:"w-16 h-10 p-1"}),s.jsx(he,{value:j.theme_color,onChange:L=>k("theme_color",L.target.value),className:"flex-1"})]})]})]})]}),s.jsx(KG,{formData:j,onChange:E,availableForms:x})]}),s.jsxs(nn,{value:"actions",className:"space-y-4",children:[s.jsx(VG,{chatbotId:e}),s.jsx(WG,{chatbotId:e}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Connected Forms"}),s.jsx(Se,{children:"Manage which forms are active for this chatbot"})]}),s.jsx(ee,{children:s.jsx(HG,{chatbotId:e})})]})]}),s.jsxs(nn,{value:"notifications",className:"space-y-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"End of Chat Notifications"}),s.jsx(Se,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end"})]}),s.jsx(Lt,{checked:j.end_chat_notification_enabled,onCheckedChange:L=>k("end_chat_notification_enabled",L)})]}),j.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(he,{id:"end_chat_notification_email",type:"email",value:j.end_chat_notification_email,onChange:L=>k("end_chat_notification_email",L.target.value),placeholder:"notifications@yourdomain.com"})]})]})]}),j.end_chat_notification_enabled&&s.jsxs(s.Fragment,{children:[s.jsx(YG,{chatbotId:e}),s.jsx(GG,{chatbotId:e,template:j.email_template,conditions:j.email_conditions,notificationEmail:j.end_chat_notification_email,onTemplateChange:L=>k("email_template",L),onConditionsChange:L=>k("email_conditions",L)})]})]}),s.jsx(nn,{value:"preview",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Live Preview"}),s.jsx(Se,{children:"Test your chatbot configuration"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:j.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((L,M)=>s.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${L.role==="user"?"text-white":"bg-background border"}`,style:L.role==="user"?j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}:{},children:L.content})},M)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:L=>h(L.target.value),onKeyPress:I,disabled:f}),s.jsx(te,{type:"button",size:"sm",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color},onClick:U,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Widget Preview"}),s.jsx(Se,{children:"How the chat widget appears on your website"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-muted/50 to-muted h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-full"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-5/6"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer ${j.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":j.widget_position==="top-left"?"top-4 left-4":j.widget_position==="top-right"?"top-4 right-4":j.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${j.widget_size==="small"?"w-12 h-12":j.widget_size==="large"?"w-20 h-20":"w-16 h-16"}`,style:{backgroundColor:j.widget_button_color,color:j.widget_text_color,borderRadius:j.widget_border_radius},children:s.jsx(Jt,{className:`${j.widget_size==="small"?"h-4 w-4":j.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]})})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t mt-6",children:[s.jsxs(te,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(te,{type:"button",variant:"outline",onClick:B,children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"Open Preview"]})]})]})]})})}function JFe(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var QT="ScrollArea",[JG,UQe]=Er(QT),[XFe,za]=JG(QT),XG=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[m,v]=g.useState(null),[p,x]=g.useState(null),[y,b]=g.useState(0),[w,j]=g.useState(0),[N,S]=g.useState(!1),[C,k]=g.useState(!1),E=et(t,P=>c(P)),A=mc(a);return s.jsx(XFe,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:j,children:s.jsx(Be.div,{dir:A,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});XG.displayName=QT;var QG="ScrollAreaViewport",ZG=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:i,...o}=e,l=za(QG,n),c=g.useRef(null),u=et(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o6e({asChild:a,children:r},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});ZG.displayName=QG;var no="ScrollAreaScrollbar",ZT=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=za(no,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(QFe,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(ZFe,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(eY,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(eO,{...r,ref:t}):null});ZT.displayName=no;var QFe=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=za(no,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(tr,{present:n||i,children:s.jsx(eY,{"data-state":i?"visible":"hidden",...r,ref:t})})}),ZFe=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=za(no,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Jj(()=>c("SCROLL_END"),100),[l,c]=JFe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),g.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(tr,{present:n||l!=="hidden",children:s.jsx(eO,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ae(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ae(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),eY=g.forwardRef((e,t)=>{const n=za(no,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=Jj(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return cf(n.viewport,c),cf(n.content,c),s.jsx(tr,{present:r||i,children:s.jsx(eO,{"data-state":i?"visible":"hidden",...a,ref:t})})}),eO=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=za(no,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=aY(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return a6e(f,o.current,l,m)}return n==="horizontal"?s.jsx(e6e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=g3(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(t6e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=g3(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),e6e=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=za(no,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=et(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(nY,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),oY(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$0(o.paddingLeft),paddingEnd:$0(o.paddingRight)}})}})}),t6e=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=za(no,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=et(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(nY,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),oY(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$0(o.paddingTop),paddingEnd:$0(o.paddingBottom)}})}})}),[n6e,tY]=JG(no),nY=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=za(no,n),[v,p]=g.useState(null),x=et(t,E=>p(E)),y=g.useRef(null),b=g.useRef(""),w=m.viewport,j=r.content-r.viewport,N=An(d),S=An(c),C=Jj(h,10);function k(E){if(y.current){const A=E.clientX-y.current.left,P=E.clientY-y.current.top;u({x:A,y:P})}}return g.useEffect(()=>{const E=A=>{const P=A.target;(v==null?void 0:v.contains(P))&&N(A,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,v,j,N]),g.useEffect(S,[r,S]),cf(v,C),cf(m.content,C),s.jsx(n6e,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:An(i),onThumbPointerUp:An(o),onThumbPositionChange:S,onThumbPointerDown:An(l),children:s.jsx(Be.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:Ae(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:Ae(e.onPointerMove,k),onPointerUp:Ae(e.onPointerUp,E=>{const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),R0="ScrollAreaThumb",rY=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=tY(R0,e.__scopeScrollArea);return s.jsx(tr,{present:n||a.hasThumb,children:s.jsx(r6e,{ref:t,...r})})}),r6e=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=za(R0,n),o=tY(R0,n),{onThumbPositionChange:l}=o,c=et(t,h=>o.onThumbChange(h)),u=g.useRef(),d=Jj(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=i6e(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(Be.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ae(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),v=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ae(e.onPointerUp,o.onThumbPointerUp)})});rY.displayName=R0;var tO="ScrollAreaCorner",sY=g.forwardRef((e,t)=>{const n=za(tO,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(s6e,{...e,ref:t}):null});sY.displayName=tO;var s6e=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=za(tO,n),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return cf(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),cf(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Be.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $0(e){return e?parseInt(e,10):0}function aY(e,t){const n=e/t;return isNaN(n)?0:n}function Kj(e){const t=aY(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function a6e(e,t,n,r="ltr"){const a=Kj(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return iY([c,u],h)(e)}function g3(e,t,n="ltr"){const r=Kj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Fg(e,c);return iY([0,o],[0,l])(u)}function iY(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oY(e,t){return e>0&&e<t}var i6e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Jj(e,t){const n=An(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function cf(e,t){const n=An(t);gr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function o6e(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=g.Children.only(r);return g.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var lY=XG,l6e=ZG,c6e=sY;const $a=g.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(lY,{ref:r,className:ye("relative overflow-hidden",e),...n,children:[s.jsx(l6e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(cY,{}),s.jsx(c6e,{})]}));$a.displayName=lY.displayName;const cY=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(ZT,{ref:r,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(rY,{className:"relative flex-1 rounded-full bg-border"})}));cY.displayName=ZT.displayName;function u6e(){const{user:e,signOut:t,loading:n}=Ut(),r=Ar(),{toast:a}=En(),[i,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState([]),[h,f]=g.useState(!0),[m,v]=g.useState(null),[p,x]=g.useState(""),[y,b]=g.useState(!1),[w,j]=g.useState(""),[N,S]=g.useState(null),[C,k]=g.useState("conversations"),[E,A]=g.useState("mine"),[P,B]=g.useState([]),[U,I]=g.useState([]),[L,M]=g.useState([]),$=async()=>{if(e!=null&&e.id)try{const{data:ce,error:Z}=await Y.from("chatbots").select("*").order("created_at",{ascending:!1});if(Z)throw Z;const ge=await Promise.all((ce||[]).map(async ke=>{const{count:me}=await Y.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",ke.id);return{...ke,conversationCount:me||0}}));o(ge)}catch{a({title:"Error",description:"Failed to load chatbots",variant:"destructive"})}finally{f(!1)}},R=async()=>{if(e!=null&&e.id)try{const ce=[],{data:Z}=await Y.from("chatbots").select("id"),ge=(Z==null?void 0:Z.map(Pe=>Pe.id))||[],{data:ke}=await Y.from("voice_assistants").select("id"),me=(ke==null?void 0:ke.map(Pe=>Pe.id))||[],{data:Ne}=await Y.from("whatsapp_agents").select("id"),oe=(Ne==null?void 0:Ne.map(Pe=>Pe.id))||[];if(ge.length>0){const{data:Pe}=await Y.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",ge);Pe&&ce.push(...Pe)}if(me.length>0){const{data:Pe}=await Y.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",me);Pe&&ce.push(...Pe)}if(oe.length>0){const{data:Pe}=await Y.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",oe);Pe&&ce.push(...Pe)}const de=Array.from(new Map(ce.map(Pe=>[Pe.id,Pe])).values());c(de)}catch(ce){console.error("Error fetching customers:",ce)}},F=async()=>{if(e!=null&&e.id)try{const{data:ce,error:Z}=await Y.from("customer_chatbot_assignments").select(`
          id,
          chatbot_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(Z)throw Z;const ge=(ce==null?void 0:ce.map(ke=>({id:ke.id,chatbot_id:ke.chatbot_id,customer:ke.customers})))||[];d(ge)}catch(ce){console.error("Error fetching assignments:",ce)}},D=async()=>{if(e!=null&&e.id)try{const{data:ce,error:Z}=await Y.from("team_members").select("team_org_id, user_id, role").eq("user_id",e.id);if(Z)throw Z;if(ce&&ce.length>0){const ge=ce.map(Pe=>Pe.team_org_id),{data:ke,error:me}=await Y.from("team_members").select("team_org_id, user_id, role").in("team_org_id",ge);if(me)throw me;B(ke||[]);const{data:Ne,error:oe}=await Y.from("team_organizations").select("id, name").in("id",ge);if(oe)throw oe;I(Ne||[]);const de=[...new Set((ke||[]).map(Pe=>Pe.user_id))];if(de.length>0){const{data:Pe,error:Ie}=await Y.from("profiles").select("id, full_name, email").in("id",de);if(Ie)throw Ie;M(Pe||[])}}}catch(ce){console.error("Error fetching team data:",ce)}};if(g.useEffect(()=>{e!=null&&e.id&&!n&&($(),R(),F(),D())},[e==null?void 0:e.id,n]),g.useEffect(()=>{i.length>0&&!m&&v(i[0].id)},[i,m]),n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!n&&!e)return s.jsx(Os,{to:"/auth",replace:!0});const H=()=>{r("/create-chatbot")},z=async ce=>{var Z;try{const{error:ge}=await Y.from("chatbots").delete().eq("id",ce);if(ge)throw ge;o(i.filter(ke=>ke.id!==ce)),m===ce&&v(((Z=i.filter(ke=>ke.id!==ce)[0])==null?void 0:Z.id)||null),a({title:"Success",description:"Chatbot deleted successfully"})}catch{a({title:"Error",description:"Failed to delete chatbot",variant:"destructive"})}},_=async ce=>{try{const{data:Z,error:ge}=await Y.from("chatbots").select("*").eq("id",ce).single();if(ge)throw ge;const ke={...Z,id:void 0,name:`Copy of ${Z.name}`,is_active:!0,created_at:void 0,updated_at:void 0,last_crawled_at:void 0,crawl_status:"pending",embed_code:void 0,inline_embed_code:void 0,user_id:e==null?void 0:e.id},{data:me,error:Ne}=await Y.from("chatbots").insert(ke).select().single();if(Ne)throw Ne;const oe=me.id,{data:de}=await Y.from("chatbot_actions").select("*").eq("chatbot_id",ce);if(de&&de.length>0){const nt=de.map(Q=>({...Q,id:void 0,chatbot_id:oe,created_at:void 0,updated_at:void 0}));await Y.from("chatbot_actions").insert(nt)}const{data:Pe}=await Y.from("chatbot_faqs").select("*").eq("chatbot_id",ce);if(Pe&&Pe.length>0){const nt=Pe.map(Q=>({...Q,id:void 0,chatbot_id:oe,created_at:void 0,updated_at:void 0}));await Y.from("chatbot_faqs").insert(nt)}const{data:Ie}=await Y.from("chatbot_custom_parameters").select("*").eq("chatbot_id",ce);if(Ie&&Ie.length>0){const nt=Ie.map(Q=>({...Q,id:void 0,chatbot_id:oe,created_at:void 0,updated_at:void 0}));await Y.from("chatbot_custom_parameters").insert(nt)}$(),a({title:"Success",description:"Chatbot duplicated successfully"})}catch{a({title:"Error",description:"Failed to duplicate chatbot",variant:"destructive"})}},O=async(ce,Z)=>{try{const{error:ge}=await Y.from("chatbots").update({is_active:!Z}).eq("id",ce);if(ge)throw ge;$(),a({title:"Success",description:`Chatbot ${Z?"deactivated":"activated"} successfully`})}catch{a({title:"Error",description:"Failed to update chatbot status",variant:"destructive"})}},T=async()=>{if(!m||!w){a({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:ce}=await Y.from("customer_chatbot_assignments").insert({customer_id:w,chatbot_id:m,assigned_by:e==null?void 0:e.id});if(ce){if(ce.code==="23505")a({title:"Error",description:"This customer is already assigned to this chatbot",variant:"destructive"});else throw ce;return}a({title:"Success",description:"Chatbot assigned successfully"}),b(!1),j(""),await F()}catch(ce){console.error("Error assigning chatbot:",ce),a({title:"Error",description:"Failed to assign chatbot",variant:"destructive"})}},q=async ce=>{try{const{error:Z}=await Y.from("customer_chatbot_assignments").delete().eq("id",ce);if(Z)throw Z;a({title:"Success",description:"Assignment removed"}),await F()}catch(Z){console.error("Error removing assignment:",Z),a({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},W=(ce,Z="widget")=>{let ge,ke;const me="https://api.voxtro.io".replace(/\/$/,"");Z==="inline"?(ge=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${me}/api/widget/${ce}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,ke="Inline chat embed code copied to clipboard"):Z==="messenger"?(ge=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${me}/api/widget/${ce}/messenger.js';
    script.async = true;
    script.onload = function() {
      window.openVoxtroMessenger();
    };
    document.head.appendChild(script);
  })();
<\/script>`,ke="Full-screen messenger embed code copied to clipboard"):(ge=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${me}/api/widget/${ce}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,ke="Widget embed code copied to clipboard"),navigator.clipboard.writeText(ge),a({title:"Copied!",description:ke})},K=ce=>{if(!ce)return null;const ge={completed:{variant:"default",label:"Crawled"},crawling:{variant:"secondary",label:"Crawling..."},failed:{variant:"destructive",label:"Failed"},pending:{variant:"outline",label:"Pending"}}[ce]||{variant:"outline",label:ce};return s.jsx(xe,{variant:ge.variant,className:"text-xs",children:ge.label})},G=ce=>{var me;if(ce.user_id===(e==null?void 0:e.id))return null;const Z=L.find(Ne=>Ne.id===ce.user_id),ge=(Z==null?void 0:Z.full_name)||((me=Z==null?void 0:Z.email)==null?void 0:me.split("@")[0])||"Unknown",ke=P.find(Ne=>Ne.user_id===ce.user_id&&P.some(oe=>oe.team_org_id===Ne.team_org_id&&oe.user_id===(e==null?void 0:e.id)));if(ke){const Ne=U.find(oe=>oe.id===ke.team_org_id);return{ownerName:ge,teamName:(Ne==null?void 0:Ne.name)||"Unknown Team"}}return{ownerName:ge,teamName:null}},V=i.find(ce=>ce.id===m),se=u.filter(ce=>ce.chatbot_id===m),re=i.filter(ce=>ce.user_id===(e==null?void 0:e.id)),je=i.filter(ce=>ce.user_id!==(e==null?void 0:e.id)),be=(E==="mine"?re:je).filter(ce=>{var Z;return(Z=ce.name)==null?void 0:Z.toLowerCase().includes(p.toLowerCase())});return h?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Chatbots"})]}),s.jsxs(te,{onClick:H,size:"sm",className:"gap-1.5",children:[s.jsx(Ft,{className:"h-3.5 w-3.5"}),"New"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(he,{placeholder:E==="mine"?"Search my chatbots...":"Search team chatbots...",value:p,onChange:ce=>x(ce.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx("div",{className:"px-2 pt-2",children:s.jsxs("div",{className:"flex rounded-lg bg-muted p-1",children:[s.jsxs("button",{onClick:()=>A("mine"),className:`flex-1 text-xs py-1.5 px-2 rounded-md transition-colors ${E==="mine"?"bg-background text-foreground shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:["My Chatbots (",re.length,")"]}),s.jsxs("button",{onClick:()=>A("team"),className:`flex-1 text-xs py-1.5 px-2 rounded-md transition-colors ${E==="team"?"bg-background text-foreground shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:["Team (",je.length,")"]})]})}),s.jsx($a,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:be.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(Ze,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p?"No matching chatbots":E==="mine"?"No chatbots yet":"No team chatbots available"}),!p&&E==="mine"&&s.jsx(te,{onClick:H,variant:"link",className:"text-xs mt-1 p-0 h-auto",children:"Create your first chatbot"}),!p&&E==="team"&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Join a team or invite teammates to see their chatbots"})]}):be.map(ce=>{const Z=u.filter(me=>me.chatbot_id===ce.id).length,ge=m===ce.id,ke=E==="team"?G(ce):null;return s.jsx("button",{onClick:()=>v(ce.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${ge?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ce.is_active?"#22c55e":"#94a3b8"}}),s.jsx("p",{className:`font-medium text-sm truncate ${ge?"text-primary":""}`,children:ce.name})]}),ke&&s.jsx("div",{className:"ml-4 mt-0.5",children:s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[ke.ownerName,ke.teamName&&`  ${ke.teamName}`]})}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 ml-4",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[ce.conversationCount||0," chats"]}),Z>0&&s.jsxs(xe,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[Z," assigned"]})]})]}),ge&&s.jsx(ss,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},ce.id)})})}),be.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[be.length," ",E==="mine"?"chatbots":"team chatbots"]}),s.jsxs("span",{children:[be.filter(ce=>ce.is_active).length," active"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:V?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl border",style:{backgroundColor:`${V.theme_color}15`,borderColor:`${V.theme_color}30`},children:s.jsx(Ze,{className:"h-6 w-6",style:{color:V.theme_color}})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:V.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(xe,{variant:V.is_active?"default":"secondary",children:V.is_active?"Active":"Inactive"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",new Date(V.created_at).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(qd,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(te,{variant:"default",size:"sm",onClick:()=>k("edit"),className:"gap-1.5",children:[s.jsx(nC,{className:"h-4 w-4"}),"Edit"]})]})]}),V.description&&s.jsx(J,{className:"mb-6",children:s.jsx(ee,{className:"pt-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:V.description})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>r(`/embed/${V.id}`),className:"justify-start gap-2",children:[s.jsx(oa,{className:"h-4 w-4"}),"Preview Widget"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>r(`/messenger/${V.id}`),className:"justify-start gap-2",children:[s.jsx(Gp,{className:"h-4 w-4"}),"Preview Messenger"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>W(V.id,"widget"),className:"justify-start gap-2",children:[s.jsx(Hp,{className:"h-4 w-4"}),"Copy Widget Code"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>W(V.id,"messenger"),className:"justify-start gap-2",children:[s.jsx(Hp,{className:"h-4 w-4"}),"Copy Messenger Code"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(J,{children:s.jsx(ee,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Website"}),V.website_url?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:new URL(V.website_url).hostname}),K(V.crawl_status)]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Not configured"})]})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Conversations"}),s.jsx("p",{className:"text-sm font-medium",children:V.conversationCount||0})]})]})})})]})]}),s.jsxs(Gu,{value:C,onValueChange:k,className:"space-y-4",children:[s.jsxs(vc,{children:[s.jsxs(tn,{value:"conversations",children:["Conversations (",V.conversationCount||0,")"]}),s.jsx(tn,{value:"analytics",children:"Analytics"}),s.jsxs(tn,{value:"customers",children:["Customers (",se.length,")"]}),s.jsxs(tn,{value:"edit",children:[s.jsx(nC,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),s.jsx(tn,{value:"actions",children:"Actions"})]}),s.jsx(nn,{value:"conversations",className:"space-y-4",children:s.jsx(J,{className:"h-[400px] overflow-hidden",children:s.jsx(ee,{className:"p-0 h-full",children:N?s.jsx(tG,{conversationId:N,onBack:()=>S(null)}):s.jsx(eG,{onConversationSelect:S,chatbotId:V.id,hideFilter:!0})})})}),s.jsx(nn,{value:"analytics",className:"space-y-4",children:s.jsx(N5e,{chatbotId:V.id})}),s.jsx(nn,{value:"customers",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{className:"text-lg",children:"Assigned Customers"}),s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(qd,{className:"h-4 w-4"}),"Assign Customer"]})]}),s.jsx(Se,{children:"Customers who have access to this chatbot"})]}),s.jsx(ee,{children:se.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(qd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned"}),s.jsx(te,{variant:"link",className:"text-xs mt-1 p-0 h-auto",onClick:()=>b(!0),children:"Assign your first customer"})]}):s.jsx("div",{className:"space-y-2",children:se.map(ce=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:ce.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ce.customer.email}),ce.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ce.customer.company_name})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>q(ce.id),className:"text-destructive hover:text-destructive",children:s.jsx($t,{className:"h-4 w-4"})})]},ce.id))})})]})}),s.jsx(nn,{value:"edit",className:"space-y-4",children:s.jsx(KFe,{chatbotId:V.id,onSave:()=>{$(),k("conversations")}})}),s.jsx(nn,{value:"actions",className:"space-y-4",children:s.jsxs(J,{children:[s.jsx(ae,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(ie,{className:"text-lg",children:"Chatbot Actions"})})}),s.jsx(ee,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(te,{variant:"outline",onClick:()=>_(V.id),className:"justify-start gap-2",children:[s.jsx(Zre,{className:"h-4 w-4"}),"Duplicate Chatbot"]}),s.jsxs(te,{variant:"outline",onClick:()=>O(V.id,V.is_active),className:"justify-start gap-2",children:[s.jsx(DU,{className:"h-4 w-4"}),V.is_active?"Deactivate":"Activate"]}),s.jsxs(te,{variant:"outline",className:"justify-start gap-2 text-destructive hover:text-destructive",onClick:()=>z(V.id),children:[s.jsx($t,{className:"h-4 w-4"}),"Delete Chatbot"]})]})})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No chatbot selected"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a chatbot from the sidebar or create a new one"}),s.jsxs(te,{onClick:H,children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Create Chatbot"]})]})})}),s.jsx(zn,{open:y,onOpenChange:b,children:s.jsxs(Dn,{children:[s.jsxs(In,{children:[s.jsx(Rn,{children:"Assign Chatbot to Customer"}),s.jsx(la,{children:"Select a customer to give them access to this chatbot"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs(He,{value:w,onValueChange:j,children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select a customer"})}),s.jsx(We,{children:l.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No customers available"}):l.map(ce=>s.jsx(ue,{value:ce.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:ce.full_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ce.email})]})},ce.id))})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(te,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(te,{onClick:T,disabled:!w,children:"Assign"})]})]})})]})}const d6e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}],h6e=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];function f6e(){const{user:e}=Ut(),t=Ar(),{toast:n}=En(),[r,a]=g.useState(!1),[i,o]=g.useState(null),[l,c]=g.useState({name:"",description:"",system_prompt:"You are a helpful assistant that answers questions about our company and helps customers with their inquiries. Be friendly, professional, and concise in your responses.",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",session_timeout_minutes:30,end_chat_notification_enabled:!1,end_chat_notification_email:""});if(!e)return s.jsx(Os,{to:"/auth",replace:!0});const u=(m,v)=>{c(p=>({...p,[m]:v}))},d=async m=>{m.preventDefault(),a(!0);try{const v=crypto.randomUUID(),p="https://api.voxtro.io".replace(/\/$/,""),x=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${p}/api/widget/${v}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,y=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${p}/api/widget/${v}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,{data:b,error:w}=await Y.from("chatbots").insert([{...l,temperature:l.temperature[0],embed_code:x,inline_embed_code:y,user_id:e.id}]).select().single();if(w)throw w;if(b){const j=x.replace(v,b.id),N=y.replace(v,b.id);await Y.from("chatbots").update({embed_code:j,inline_embed_code:N}).eq("id",b.id),o(b.id)}n({title:"Success!",description:"Your chatbot has been created successfully."}),t("/dashboard")}catch(v){n({title:"Error",description:v.message||"Failed to create chatbot",variant:"destructive"})}finally{a(!1)}},h=()=>{n({title:"Preview Coming Soon",description:"Chatbot preview functionality will be available soon!"})},f=()=>{n({title:"Website Crawled",description:"Your website content has been processed and will be available to your chatbot."})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Create New Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(Se,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(he,{id:"name",value:l.name,onChange:m=>u("name",m.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(dt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"website_url",children:"Website URL"}),s.jsx(he,{id:"website_url",value:l.website_url,onChange:m=>u("website_url",m.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),i&&s.jsx(XT,{chatbotId:i,websiteUrl:l.website_url,onWebsiteUpdate:m=>u("website_url",m),onCrawlComplete:f})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"AI Configuration"}),s.jsx(Se,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsx(dt,{id:"system_prompt",value:l.system_prompt,onChange:m=>u("system_prompt",m.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"AI Model"}),s.jsxs(He,{value:l.model,onValueChange:m=>u("model",m),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsx(We,{children:d6e.map(m=>s.jsx(ue,{value:m.value,children:m.label},m.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Creativity Level: ",l.temperature[0]]}),s.jsx(of,{value:l.temperature,onValueChange:m=>u("temperature",m),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(he,{id:"max_tokens",type:"number",value:l.max_tokens,onChange:m=>u("max_tokens",parseInt(m.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(he,{id:"session_timeout_minutes",type:"number",value:l.session_timeout_minutes,onChange:m=>u("session_timeout_minutes",parseInt(m.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Appearance"}),s.jsx(Se,{children:"Customize how your chatbot looks"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Theme Color"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:h6e.map(m=>s.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${l.theme_color===m?"border-foreground scale-110":"border-border"}`,style:{backgroundColor:m},onClick:()=>u("theme_color",m)},m))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Lt,{checked:l.is_active,onCheckedChange:m=>u("is_active",m)})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"End of Chat Notifications"}),s.jsx(Se,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Lt,{checked:l.end_chat_notification_enabled,onCheckedChange:m=>u("end_chat_notification_enabled",m)})]}),l.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(he,{id:"end_chat_notification_email",type:"email",value:l.end_chat_notification_email,onChange:m=>u("end_chat_notification_email",m.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(te,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),r?"Creating...":"Create Chatbot"]}),s.jsxs(te,{type:"button",variant:"outline",onClick:h,children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Live Preview"}),s.jsx(Se,{children:"See how your chatbot will appear"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:l.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"bg-background p-2 rounded border",children:[s.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"User:"}),s.jsx("p",{children:"Hello! Can you help me?"})]}),s.jsxs("div",{className:"p-2 rounded text-white",style:{backgroundColor:l.theme_color},children:[s.jsxs("p",{className:"text-xs mb-1 opacity-80",children:[l.name||"Bot",":"]}),s.jsx("p",{children:"Hello! I'd be happy to help you. What can I assist you with today?"})]})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(he,{placeholder:"Type your message...",className:"flex-1 text-sm",disabled:!0}),s.jsx(te,{size:"sm",style:{backgroundColor:l.theme_color},disabled:!0,children:"Send"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Model:"}),s.jsx("span",{children:l.model})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Creativity:"}),s.jsx("span",{children:l.temperature[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:l.is_active?"text-green-600":"text-red-600",children:l.is_active?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Session Timeout:"}),s.jsxs("span",{children:[l.session_timeout_minutes," min"]})]})]})]})]})})})]})})})]})}const m6e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function p6e(){const{chatbotId:e}=lv(),{user:t}=Ut(),n=Ar(),{toast:r}=En(),[a,i]=g.useState(!1),[o,l]=g.useState(!0),[c,u]=g.useState([]),[d,h]=g.useState(""),[f,m]=g.useState(!1),[v,p]=g.useState(null),[x,y]=g.useState([]),[b,w]=g.useState(!1),[j,N]=g.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});if(!t)return s.jsx(Os,{to:"/auth",replace:!0});g.useEffect(()=>{e&&(S(),C())},[e]);const S=async()=>{var M;try{const{data:$,error:R}=await Y.from("chatbots").select("*").eq("id",e).single();if(R||!$)throw new Error("Chatbot not found or you do not have permission to edit it");p($),N({name:$.name,description:$.description||"",system_prompt:$.system_prompt,model:$.model,temperature:[$.temperature],max_tokens:$.max_tokens,is_active:$.is_active,website_url:$.website_url||"",theme_color:$.theme_color,theme_color_type:$.theme_color_type||"solid",theme_gradient_start:$.theme_gradient_start||"#3b82f6",theme_gradient_end:$.theme_gradient_end||"#8b5cf6",theme_gradient_angle:$.theme_gradient_angle||135,session_timeout_minutes:$.session_timeout_minutes||30,welcome_message:$.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:$.daily_token_limit||1e5,monthly_token_limit:$.monthly_token_limit||1e6,cache_enabled:$.cache_enabled??!0,cache_duration_hours:$.cache_duration_hours||168,end_chat_notification_enabled:$.end_chat_notification_enabled||!1,end_chat_notification_email:$.end_chat_notification_email||"",email_template:$.email_template||"",email_conditions:typeof $.email_conditions=="object"&&$.email_conditions!==null?$.email_conditions.groups?$.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((M=$.email_conditions.rules)==null?void 0:M.map(F=>({type:"basic",...F})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:$.widget_button_text||"Chat with us",widget_position:$.widget_position||"bottom-right",widget_button_color:$.widget_button_color||"#3b82f6",widget_text_color:$.widget_text_color||"#ffffff",widget_size:$.widget_size||"medium",widget_border_radius:$.widget_border_radius||"50%",widget_custom_css:$.widget_custom_css||"",widget_form_buttons:Array.isArray($.widget_form_buttons)?$.widget_form_buttons:[],widget_form_buttons_layout:$.widget_form_buttons_layout||"vertical",hide_branding:$.hide_branding||!1}),u([{role:"assistant",content:$.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch($){r({title:"Error",description:$.message,variant:"destructive"}),n("/dashboard")}finally{l(!1)}},C=async()=>{try{const{data:M,error:$}=await Y.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if($){console.error("Error fetching forms:",$);return}y(M||[])}catch(M){console.error("Error fetching forms:",M)}},k=(M,$)=>{N(R=>({...R,[M]:$})),M==="welcome_message"&&$&&u([{role:"assistant",content:$,timestamp:new Date}])},E=M=>{const{name:$,value:R}=M.target;k($,R)},A=()=>{S(),r({title:"Website Crawled",description:"Your website content has been updated."})},P=async M=>{M.preventDefault(),i(!0);try{const $=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],R={},F={};if(v)for(const H of $){const z=v[H],_=H==="temperature"?j.temperature[0]:j[H];z!==_&&(R[H]=z,F[H]=_)}const{error:D}=await Y.from("chatbots").update({...j,temperature:j.temperature[0]}).eq("id",e);if(D)throw D;if(Object.keys(F).length>0&&e&&t){const H=Object.keys(F).join(", ");await Y.from("changelog_entries").insert({user_id:t.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${H}`,description:`Updated settings for chatbot "${j.name}"`,previous_values:R,new_values:F,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."})}catch($){r({title:"Error",description:$.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},B=async()=>{if(confirm("Are you sure you want to delete this chatbot? This action cannot be undone.")){i(!0);try{const{error:M}=await Y.from("chatbots").delete().eq("id",e);if(M)throw M;r({title:"Success!",description:"Chatbot deleted successfully."}),n("/dashboard")}catch(M){r({title:"Error",description:M.message||"Failed to delete chatbot",variant:"destructive"})}finally{i(!1)}}},U=()=>{e&&window.open(`/embed/${e}`,"_blank")},I=async()=>{if(!d.trim()||f)return;const M={role:"user",content:d.trim(),timestamp:new Date};u($=>[...$,M]),h(""),m(!0);try{const $=[{role:"system",content:j.system_prompt},...c.filter(z=>z.role!=="system").map(z=>({role:z.role,content:z.content.replace(" (Live Preview)","")})),{role:"user",content:M.content}],R="https://api.voxtro.io".replace(/\/$/,""),F=await fetch(`${R}/api/chat/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:$.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:j.system_prompt,model:j.model,temperature:j.temperature[0],max_tokens:j.max_tokens}})});if(!F.ok)throw new Error("Failed to get AI response");const H={role:"assistant",content:(await F.json()).response,timestamp:new Date};u(z=>[...z,H])}catch($){console.error("Preview error:",$);const R={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(F=>[...F,R])}finally{m(!1)}},L=M=>{M.key==="Enter"&&I()};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>n("/dashboard"),children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Edit Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-5",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(Se,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(he,{id:"name",value:j.name,onChange:M=>k("name",M.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(dt,{id:"description",value:j.description,onChange:M=>k("description",M.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(dt,{id:"welcome_message",value:j.welcome_message,onChange:M=>k("welcome_message",M.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The first message visitors see when they open the chat"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"website_url",children:"Website URL"}),s.jsx(he,{id:"website_url",value:j.website_url,onChange:M=>k("website_url",M.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(XT,{chatbotId:v==null?void 0:v.id,websiteUrl:j.website_url,websiteContent:v==null?void 0:v.website_content,crawlStatus:v==null?void 0:v.crawl_status,lastCrawledAt:v==null?void 0:v.last_crawled_at,onWebsiteUpdate:M=>k("website_url",M),onCrawlComplete:A})]})]}),s.jsx(VG,{chatbotId:e||""}),s.jsx(WG,{chatbotId:e||""}),s.jsx(KG,{formData:j,onChange:E,availableForms:x}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"AI Configuration"}),s.jsx(Se,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(dt,{id:"system_prompt",value:j.system_prompt,onChange:M=>k("system_prompt",M.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>w(!0),title:"Expand editor",children:s.jsx(Kp,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsx(zn,{open:b,onOpenChange:w,children:s.jsxs(Dn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Edit System Prompt"})}),s.jsx(dt,{value:j.system_prompt,onChange:M=>k("system_prompt",M.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"AI Model"}),s.jsxs(He,{value:j.model,onValueChange:M=>k("model",M),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsx(We,{children:m6e.map(M=>s.jsx(ue,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Creativity Level: ",j.temperature[0]]}),s.jsx(of,{value:j.temperature,onValueChange:M=>k("temperature",M),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(he,{id:"max_tokens",type:"number",value:j.max_tokens,onChange:M=>k("max_tokens",parseInt(M.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(he,{id:"session_timeout_minutes",type:"number",value:j.session_timeout_minutes,onChange:M=>k("session_timeout_minutes",parseInt(M.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Usage Limits"}),s.jsx(Se,{children:"Set daily and monthly token limits to control usage and costs"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(he,{id:"daily_token_limit",type:"number",value:j.daily_token_limit,onChange:M=>k("daily_token_limit",parseInt(M.target.value)||0),min:0,placeholder:"100000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per day. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(he,{id:"monthly_token_limit",type:"number",value:j.monthly_token_limit,onChange:M=>k("monthly_token_limit",parseInt(M.target.value)||0),min:0,placeholder:"1000000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per month. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Lt,{checked:j.cache_enabled,onCheckedChange:M=>k("cache_enabled",M)})]}),j.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(he,{id:"cache_duration_hours",type:"number",value:j.cache_duration_hours,onChange:M=>k("cache_duration_hours",parseInt(M.target.value)||0),min:1,max:8760,placeholder:"168"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep cached responses (1-8760 hours, default: 168 hours = 1 week)"})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Appearance"}),s.jsx(Se,{children:"Customize how your chatbot looks"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Color Type"}),s.jsxs(He,{value:j.theme_color_type||"solid",onValueChange:M=>k("theme_color_type",M),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"solid",children:"Solid Color"}),s.jsx(ue,{value:"gradient",children:"Gradient"})]})]})]}),j.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"theme_gradient_start",children:"Gradient Start"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(he,{id:"theme_gradient_start",name:"theme_gradient_start",type:"color",value:j.theme_gradient_start||"#3b82f6",onChange:M=>k("theme_gradient_start",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(he,{name:"theme_gradient_start",value:j.theme_gradient_start||"#3b82f6",onChange:M=>k("theme_gradient_start",M.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"theme_gradient_end",children:"Gradient End"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(he,{id:"theme_gradient_end",name:"theme_gradient_end",type:"color",value:j.theme_gradient_end||"#8b5cf6",onChange:M=>k("theme_gradient_end",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(he,{name:"theme_gradient_end",value:j.theme_gradient_end||"#8b5cf6",onChange:M=>k("theme_gradient_end",M.target.value),placeholder:"#8b5cf6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"theme_gradient_angle",children:"Gradient Angle"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(of,{id:"theme_gradient_angle",value:[j.theme_gradient_angle||135],onValueChange:M=>k("theme_gradient_angle",M[0]),min:0,max:360,step:15,className:"flex-1"}),s.jsxs("span",{className:"text-sm font-medium w-12",children:[j.theme_gradient_angle||135,""]})]})]}),s.jsx("div",{className:"p-3 rounded-lg border",style:{background:`linear-gradient(${j.theme_gradient_angle||135}deg, ${j.theme_gradient_start||"#3b82f6"}, ${j.theme_gradient_end||"#8b5cf6"})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"theme_color",children:"Theme Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(he,{id:"theme_color",name:"theme_color",type:"color",value:j.theme_color||"#3b82f6",onChange:M=>k("theme_color",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(he,{name:"theme_color",value:j.theme_color||"#3b82f6",onChange:M=>k("theme_color",M.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a solid color or gradient for your chatbot's theme"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Lt,{checked:j.is_active,onCheckedChange:M=>k("is_active",M)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Lt,{checked:j.hide_branding,onCheckedChange:M=>k("hide_branding",M)})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"End of Chat Notifications"}),s.jsx(Se,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Lt,{checked:j.end_chat_notification_enabled,onCheckedChange:M=>k("end_chat_notification_enabled",M)})]}),j.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(he,{id:"end_chat_notification_email",type:"email",value:j.end_chat_notification_email,onChange:M=>k("end_chat_notification_email",M.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),j.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(YG,{chatbotId:e||""}),s.jsx(GG,{chatbotId:e||"",template:j.email_template,conditions:j.email_conditions,notificationEmail:j.end_chat_notification_email,onTemplateChange:M=>k("email_template",M),onConditionsChange:M=>k("email_conditions",M)})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Connected Forms"}),s.jsx(Se,{children:"Manage which forms are active for this chatbot. Create new forms in the Forms section."})]}),s.jsx(ee,{children:s.jsx(HG,{chatbotId:e||""})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(te,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(te,{type:"button",variant:"outline",onClick:U,children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(te,{type:"button",variant:"destructive",onClick:B,disabled:a,children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"sticky top-8 space-y-6",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Live Preview"}),s.jsx(Se,{children:"Test your chatbot configuration"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:j.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((M,$)=>s.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${M.role==="user"?"text-white":"bg-background border"}`,style:M.role==="user"?j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}:{},children:M.content})},$)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:M=>h(M.target.value),onKeyPress:L,disabled:f}),s.jsx(te,{size:"sm",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color},onClick:I,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Widget Preview"}),s.jsx(Se,{children:"How the chat widget appears on your website"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer transform hover:scale-105 transition-all duration-200 text-sm font-medium ${j.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":j.widget_position==="top-left"?"top-4 left-4":j.widget_position==="top-right"?"top-4 right-4":j.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${j.widget_size==="small"?"w-12 h-12 text-xs":j.widget_size==="large"?"w-20 h-20 text-base":"w-16 h-16 text-sm"}`,style:{backgroundColor:j.widget_button_color||"#3b82f6",color:j.widget_text_color,borderRadius:j.widget_border_radius},children:j.widget_position==="center"?s.jsx("span",{className:"px-4 py-2",children:j.widget_button_text}):s.jsx(Jt,{className:`${j.widget_size==="small"?"h-4 w-4":j.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Position:"})," ",j.widget_position]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Size:"})," ",j.widget_size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Button Text:"})," ",j.widget_button_text]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Colors:"})," Button: ",j.widget_button_color,", Text: ",j.widget_text_color]})]})]})]})]})})]})})})]})}const g6e="/assets/chime-alert-DWmXsH8Y.wav";function v6e(){const{chatbotId:e}=lv(),t=Ar(),{toast:n}=En(),[r,a]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState(!0),[h,f]=g.useState(""),[m,v]=g.useState(!1),[p,x]=g.useState(null),[y]=g.useState(()=>localStorage.getItem("voxtro_visitor_id")||(()=>{const E=`visitor_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem("voxtro_visitor_id",E),E})()),b=g.useState(()=>new Audio(g6e))[0];g.useEffect(()=>{b.volume=.5},[]);const w=()=>{try{b.currentTime=0,b.play().catch(E=>{console.log(" EmbedChat - Sound blocked by browser:",E.message)})}catch(E){console.error(" EmbedChat - Error playing audio:",E)}};g.useEffect(()=>{const E=P=>{P.stopPropagation()},A=document.querySelector(".chat-container");if(A)return A.addEventListener("wheel",E),()=>A.removeEventListener("wheel",E)},[]),g.useEffect(()=>{e&&(N(),j())},[e]);const j=async()=>{if(e)try{const{data:E,error:A}=await Y.from("chatbot_faqs").select("id, question, answer, is_active").eq("chatbot_id",e).eq("is_active",!0).order("sort_order").limit(4);!A&&E&&o(E)}catch{console.log("No FAQs configured for this chatbot")}},N=async()=>{try{const{data:E,error:A}=await Y.from("chatbots").select("id, name, theme_color, is_active, end_chat_notification_email, welcome_message").eq("id",e).single();if(A||!E)throw new Error("Chatbot not found");a(E);const P=E.welcome_message||`Hi! I'm ${E.name}. How can I help you today?`;c([{role:"assistant",content:`${P}${E.is_active?"":" (Preview Mode)"}`,timestamp:new Date}])}catch{n({title:"Error",description:"Failed to load chatbot",variant:"destructive"})}},S=async()=>{if(!h.trim()||m||!r)return;if(d(!1),!r.is_active){const A={role:"user",content:h.trim(),timestamp:new Date},P={role:"assistant",content:"This is preview mode. The chatbot will respond with actual AI when it's active and embedded on your website.",timestamp:new Date};c(B=>[...B,A,P]),f("");return}const E={role:"user",content:h.trim(),timestamp:new Date};c(A=>[...A,E]),f(""),v(!0);try{const P={role:"assistant",content:(await zhe({chatbot_id:r.id,message:E.content,visitor_id:y})).message,timestamp:new Date};c(B=>[...B,P]),console.log(" Calling playNotificationSound now..."),w(),console.log(" playNotificationSound called"),setTimeout(()=>{p==null||p.scrollIntoView({behavior:"smooth"})},100)}catch{n({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{v(!1)}},C=E=>{E.key==="Enter"&&S()},k=async()=>{if(r!=null&&r.id)try{if(!r.end_chat_notification_email)throw new Error("Please configure an end-of-chat notification email for this chatbot first");await Dq({to_email:r.end_chat_notification_email,subject:`Test Email - ${r.name}`,html_content:`<p>Test email for chatbot "${r.name}" - End-of-chat notifications are working correctly!</p>`}),n({title:"Test Email Sent!",description:`Check your inbox at ${r.end_chat_notification_email}`})}catch(E){n({title:"Error",description:E.message||"Failed to send test notification",variant:"destructive"})}};return e?r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-0 md:p-4",children:s.jsxs(J,{className:"chat-container w-full h-screen md:max-w-md md:h-[600px] flex flex-col overflow-hidden border-0 shadow-xl rounded-none md:rounded-2xl",children:[s.jsx(ae,{className:"text-white p-4 border-0",style:{backgroundColor:r.theme_color},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-black font-bold text-sm",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{children:s.jsx("h3",{className:"font-semibold text-white",children:r.name})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:s.jsx(Pr,{className:"h-4 w-4"})}),s.jsx(te,{variant:"ghost",size:"sm",onClick:k,className:"text-white hover:bg-white/10",children:s.jsx(Ls,{className:"h-4 w-4"})})]})]})}),s.jsxs(ee,{className:"flex-1 flex flex-col p-0 bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100% - 120px)"},children:[l.map((E,A)=>s.jsxs("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:[E.role==="assistant"&&s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm text-gray-800 leading-relaxed",children:E.content})]}),E.role==="user"&&s.jsx("div",{className:"max-w-[85%] p-4 rounded-2xl rounded-tr-md text-sm text-white leading-relaxed",style:{backgroundColor:r.theme_color},children:E.content})]},A)),m&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:x})]}),u&&i.length>0&&s.jsx("div",{className:"px-4 pb-4",children:s.jsx("div",{className:"flex flex-wrap gap-2 justify-end",children:i.map(E=>s.jsx("button",{className:"text-right px-4 py-2 bg-white hover:bg-gray-50 transition-all duration-200 rounded-xl text-sm text-gray-700 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow",style:{borderColor:`${r.theme_color}20`},onMouseEnter:A=>{A.currentTarget.style.borderColor=r.theme_color,A.currentTarget.style.color=r.theme_color},onMouseLeave:A=>{A.currentTarget.style.borderColor=`${r.theme_color}20`,A.currentTarget.style.color="#374151"},onClick:()=>{f(E.question),d(!1)},children:E.question},E.id))})}),s.jsx("div",{className:"px-4 pb-2",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[s.jsx("img",{src:"https://ik.imagekit.io/wrewtbha2/voxtrofavicon.png?updatedAt=1752758574810",alt:"Voxtro",className:"w-4 h-4 object-contain"}),s.jsx("span",{children:"Powered by Voxtro"})]})})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx(he,{value:h,onChange:E=>f(E.target.value),onKeyPress:C,placeholder:"Message...",disabled:m,className:"border-0 bg-white rounded-full px-4 py-3 text-sm text-gray-900 placeholder:text-gray-500 shadow-sm focus:ring-2 focus:ring-blue-500 focus:shadow-md transition-all",style:{color:"#111827"}})}),s.jsx(te,{onClick:S,disabled:m||!h.trim(),size:"sm",className:"w-10 h-10 p-0 rounded-full bg-blue-500 hover:bg-blue-600 text-white border-0 shadow-sm",children:s.jsx(xu,{className:"h-4 w-4"})})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsx(Os,{to:"/",replace:!0})}var nO="Radio",[x6e,uY]=Er(nO),[y6e,b6e]=x6e(nO),dY=g.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,f]=g.useState(null),m=et(t,x=>f(x)),v=g.useRef(!1),p=h?u||!!h.closest("form"):!0;return s.jsxs(y6e,{scope:n,checked:a,disabled:o,children:[s.jsx(Be.button,{type:"button",role:"radio","aria-checked":a,"data-state":mY(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:Ae(e.onClick,x=>{a||c==null||c(),p&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),p&&s.jsx(w6e,{control:h,bubbles:!v.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});dY.displayName=nO;var hY="RadioIndicator",fY=g.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=b6e(hY,n);return s.jsx(tr,{present:r||i.checked,children:s.jsx(Be.span,{"data-state":mY(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});fY.displayName=hY;var w6e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=g.useRef(null),o=Fv(n),l=av(t);return g.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mY(e){return e?"checked":"unchecked"}var j6e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rO="RadioGroup",[_6e,zQe]=Er(rO,[Xf,uY]),pY=Xf(),gY=uY(),[N6e,S6e]=_6e(rO),vY=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,m=pY(n),v=mc(u),[p,x]=Kr({prop:i,defaultProp:a,onChange:h});return s.jsx(N6e,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:x,children:s.jsx(HT,{asChild:!0,...m,orientation:c,dir:v,loop:d,children:s.jsx(Be.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...f,ref:t})})})});vY.displayName=rO;var xY="RadioGroupItem",yY=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=S6e(xY,n),o=i.disabled||r,l=pY(n),c=gY(n),u=g.useRef(null),d=et(t,u),h=i.value===a.value,f=g.useRef(!1);return g.useEffect(()=>{const m=p=>{j6e.includes(p.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),s.jsx(GT,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(dY,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ae(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ae(a.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});yY.displayName=xY;var C6e="RadioGroupIndicator",bY=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=gY(n);return s.jsx(fY,{...a,...r,ref:t})});bY.displayName=C6e;var wY=vY,jY=yY,k6e=bY;const _Y=g.forwardRef(({className:e,...t},n)=>s.jsx(wY,{className:ye("grid gap-2",e),...t,ref:n}));_Y.displayName=wY.displayName;const NY=g.forwardRef(({className:e,...t},n)=>s.jsx(jY,{ref:n,className:ye("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(k6e,{className:"flex items-center justify-center",children:s.jsx(EU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));NY.displayName=jY.displayName;function E6e({formData:e,onSubmit:t,isSubmitting:n=!1,themeColor:r}){const[a,i]=g.useState({}),[o,l]=g.useState({}),[c,u]=g.useState(!1),d=(v,p)=>{var x,y,b;return v.required&&(!p||p==="")?`${v.label} is required`:v.type==="email"&&p&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)?"Please enter a valid email address":v.type==="phone"&&p&&!/^[\+]?[1-9][\d]{0,15}$/.test(p.replace(/[\s\-\(\)]/g,""))?"Please enter a valid phone number":(x=v.validation)!=null&&x.min&&p&&p.length<v.validation.min?`${v.label} must be at least ${v.validation.min} characters`:(y=v.validation)!=null&&y.max&&p&&p.length>v.validation.max?`${v.label} must be no more than ${v.validation.max} characters`:(b=v.validation)!=null&&b.pattern&&p&&!new RegExp(v.validation.pattern).test(p)?`${v.label} format is invalid`:null},h=v=>{v.preventDefault();const p={};e.fields.forEach(x=>{const y=d(x,a[x.id]);y&&(p[x.id]=y)}),e.require_terms_acceptance&&!c&&(p.terms="You must accept the terms and conditions to proceed"),l(p),Object.keys(p).length===0&&t(a)},f=(v,p)=>{i(x=>({...x,[v]:p})),o[v]&&l(x=>({...x,[v]:""}))},m=v=>{var x,y,b;const p=o[v.id];switch(v.type){case"text":case"email":case"phone":case"number":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:v.id,className:"text-sm font-medium text-foreground",children:[v.label,v.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(he,{id:v.id,type:v.type,placeholder:v.placeholder,value:a[v.id]||"",onChange:w=>f(v.id,w.target.value),className:`focus:ring-2 ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},v.id);case"date":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:v.id,className:"text-sm font-medium text-foreground",children:[v.label,v.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(he,{id:v.id,type:"date",value:a[v.id]||"",onChange:w=>f(v.id,w.target.value),className:`focus:ring-2 ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},v.id);case"textarea":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:v.id,className:"text-sm font-medium text-foreground",children:[v.label,v.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(dt,{id:v.id,placeholder:v.placeholder,value:a[v.id]||"",onChange:w=>f(v.id,w.target.value),rows:3,className:`focus:ring-2 resize-none ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},v.id);case"select":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{className:"text-sm font-medium text-foreground",children:[v.label,v.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(He,{value:a[v.id]||"",onValueChange:w=>f(v.id,w),children:[s.jsx(Ve,{className:p?"border-destructive":"",children:s.jsx(Ge,{placeholder:v.placeholder||"Select an option"})}),s.jsx(We,{children:(x=v.options)==null?void 0:x.map(w=>s.jsx(ue,{value:w,children:w},w))})]}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},v.id);case"radio":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ne,{className:"text-sm font-medium text-foreground",children:[v.label,v.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(_Y,{value:a[v.id]||"",onValueChange:w=>f(v.id,w),className:"space-y-2",children:(y=v.options)==null?void 0:y.map(w=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(NY,{value:w,id:`${v.id}-${w}`}),s.jsx(ne,{htmlFor:`${v.id}-${w}`,className:"text-sm font-normal",children:w})]},w))}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},v.id);case"checkbox":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ne,{className:"text-sm font-medium text-foreground",children:[v.label,v.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:(b=v.options)==null?void 0:b.map(w=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lf,{id:`${v.id}-${w}`,checked:(a[v.id]||[]).includes(w),onCheckedChange:j=>{const N=a[v.id]||[];j?f(v.id,[...N,w]):f(v.id,N.filter(S=>S!==w))}}),s.jsx(ne,{htmlFor:`${v.id}-${w}`,className:"text-sm font-normal",children:w})]},w))}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},v.id);default:return null}};return s.jsxs(J,{className:"w-full max-w-md mx-auto shadow-lg border-0 bg-card",children:[s.jsxs(ae,{className:"text-center pb-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:r+"20"},children:s.jsx(Cn,{className:"h-5 w-5",style:{color:r}})})}),s.jsx(ie,{className:"text-lg font-semibold text-foreground",children:e.form_title}),e.form_description&&s.jsx(Se,{className:"text-sm text-muted-foreground",children:e.form_description})]}),s.jsx(ee,{children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.fields.map(m),e.require_terms_acceptance&&e.terms_and_conditions&&s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.terms_and_conditions})}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(lf,{id:"terms-acceptance",checked:c,onCheckedChange:v=>{u(!!v),o.terms&&l(p=>({...p,terms:""}))}}),s.jsxs(ne,{htmlFor:"terms-acceptance",className:"text-sm font-normal leading-relaxed",children:["I accept the terms and conditions",s.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),o.terms&&s.jsx("p",{className:"text-sm text-destructive",children:o.terms})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(te,{type:"submit",disabled:n,className:"w-full text-white font-medium py-2.5 hover:opacity-90 transition-opacity",style:{backgroundColor:r},children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xu,{className:"h-4 w-4 mr-2"}),"Submit Form"]})})})]})})]})}function P6e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const A6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,T6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,O6e={};function v3(e,t){return(O6e.jsx?T6e:A6e).test(e)}const M6e=/[ \t\n\f\r]/g;function D6e(e){return typeof e=="object"?e.type==="text"?x3(e.value):!1:x3(e)}function x3(e){return e.replace(M6e,"")===""}class Uv{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Uv.prototype.normal={};Uv.prototype.property={};Uv.prototype.space=void 0;function SY(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Uv(n,r,t)}function ME(e){return e.toLowerCase()}class Us{constructor(t,n){this.attribute=n,this.property=t}}Us.prototype.attribute="";Us.prototype.booleanish=!1;Us.prototype.boolean=!1;Us.prototype.commaOrSpaceSeparated=!1;Us.prototype.commaSeparated=!1;Us.prototype.defined=!1;Us.prototype.mustUseProperty=!1;Us.prototype.number=!1;Us.prototype.overloadedBoolean=!1;Us.prototype.property="";Us.prototype.spaceSeparated=!1;Us.prototype.space=void 0;let I6e=0;const gt=Yu(),Xn=Yu(),DE=Yu(),Me=Yu(),fn=Yu(),eh=Yu(),Ws=Yu();function Yu(){return 2**++I6e}const IE=Object.freeze(Object.defineProperty({__proto__:null,boolean:gt,booleanish:Xn,commaOrSpaceSeparated:Ws,commaSeparated:eh,number:Me,overloadedBoolean:DE,spaceSeparated:fn},Symbol.toStringTag,{value:"Module"})),dN=Object.keys(IE);class sO extends Us{constructor(t,n,r,a){let i=-1;if(super(t,n),y3(this,"space",a),typeof r=="number")for(;++i<dN.length;){const o=dN[i];y3(this,dN[i],(r&IE[o])===IE[o])}}}sO.prototype.defined=!0;function y3(e,t,n){n&&(e[t]=n)}function Qf(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new sO(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[ME(r)]=r,n[ME(i.attribute)]=r}return new Uv(t,n,e.space)}const CY=Qf({properties:{ariaActiveDescendant:null,ariaAtomic:Xn,ariaAutoComplete:null,ariaBusy:Xn,ariaChecked:Xn,ariaColCount:Me,ariaColIndex:Me,ariaColSpan:Me,ariaControls:fn,ariaCurrent:null,ariaDescribedBy:fn,ariaDetails:null,ariaDisabled:Xn,ariaDropEffect:fn,ariaErrorMessage:null,ariaExpanded:Xn,ariaFlowTo:fn,ariaGrabbed:Xn,ariaHasPopup:null,ariaHidden:Xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fn,ariaLevel:Me,ariaLive:null,ariaModal:Xn,ariaMultiLine:Xn,ariaMultiSelectable:Xn,ariaOrientation:null,ariaOwns:fn,ariaPlaceholder:null,ariaPosInSet:Me,ariaPressed:Xn,ariaReadOnly:Xn,ariaRelevant:null,ariaRequired:Xn,ariaRoleDescription:fn,ariaRowCount:Me,ariaRowIndex:Me,ariaRowSpan:Me,ariaSelected:Xn,ariaSetSize:Me,ariaSort:null,ariaValueMax:Me,ariaValueMin:Me,ariaValueNow:Me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function kY(e,t){return t in e?e[t]:t}function EY(e,t){return kY(e,t.toLowerCase())}const R6e=Qf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:eh,acceptCharset:fn,accessKey:fn,action:null,allow:null,allowFullScreen:gt,allowPaymentRequest:gt,allowUserMedia:gt,alt:null,as:null,async:gt,autoCapitalize:null,autoComplete:fn,autoFocus:gt,autoPlay:gt,blocking:fn,capture:null,charSet:null,checked:gt,cite:null,className:fn,cols:Me,colSpan:null,content:null,contentEditable:Xn,controls:gt,controlsList:fn,coords:Me|eh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:gt,defer:gt,dir:null,dirName:null,disabled:gt,download:DE,draggable:Xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:gt,formTarget:null,headers:fn,height:Me,hidden:DE,high:Me,href:null,hrefLang:null,htmlFor:fn,httpEquiv:fn,id:null,imageSizes:null,imageSrcSet:null,inert:gt,inputMode:null,integrity:null,is:null,isMap:gt,itemId:null,itemProp:fn,itemRef:fn,itemScope:gt,itemType:fn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:gt,low:Me,manifest:null,max:null,maxLength:Me,media:null,method:null,min:null,minLength:Me,multiple:gt,muted:gt,name:null,nonce:null,noModule:gt,noValidate:gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:gt,optimum:Me,pattern:null,ping:fn,placeholder:null,playsInline:gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:gt,referrerPolicy:null,rel:fn,required:gt,reversed:gt,rows:Me,rowSpan:Me,sandbox:fn,scope:null,scoped:gt,seamless:gt,selected:gt,shadowRootClonable:gt,shadowRootDelegatesFocus:gt,shadowRootMode:null,shape:null,size:Me,sizes:null,slot:null,span:Me,spellCheck:Xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Me,step:null,style:null,tabIndex:Me,target:null,title:null,translate:null,type:null,typeMustMatch:gt,useMap:null,value:Xn,width:Me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fn,axis:null,background:null,bgColor:null,border:Me,borderColor:null,bottomMargin:Me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:gt,declare:gt,event:null,face:null,frame:null,frameBorder:null,hSpace:Me,leftMargin:Me,link:null,longDesc:null,lowSrc:null,marginHeight:Me,marginWidth:Me,noResize:gt,noHref:gt,noShade:gt,noWrap:gt,object:null,profile:null,prompt:null,rev:null,rightMargin:Me,rules:null,scheme:null,scrolling:Xn,standby:null,summary:null,text:null,topMargin:Me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:gt,disableRemotePlayback:gt,prefix:null,property:null,results:Me,security:null,unselectable:null},space:"html",transform:EY}),$6e=Qf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ws,accentHeight:Me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Me,amplitude:Me,arabicForm:null,ascent:Me,attributeName:null,attributeType:null,azimuth:Me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Me,by:null,calcMode:null,capHeight:Me,className:fn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Me,diffuseConstant:Me,direction:null,display:null,dur:null,divisor:Me,dominantBaseline:null,download:gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Me,enableBackground:null,end:null,event:null,exponent:Me,externalResourcesRequired:null,fill:null,fillOpacity:Me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:eh,g2:eh,glyphName:eh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Me,horizOriginX:Me,horizOriginY:Me,id:null,ideographic:Me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Me,k:Me,k1:Me,k2:Me,k3:Me,k4:Me,kernelMatrix:Ws,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Me,overlineThickness:Me,paintOrder:null,panose1:null,path:null,pathLength:Me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Me,pointsAtY:Me,pointsAtZ:Me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ws,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ws,rev:Ws,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ws,requiredFeatures:Ws,requiredFonts:Ws,requiredFormats:Ws,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Me,specularExponent:Me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Me,strikethroughThickness:Me,string:null,stroke:null,strokeDashArray:Ws,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Me,strokeOpacity:Me,strokeWidth:null,style:null,surfaceScale:Me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ws,tabIndex:Me,tableValues:null,target:null,targetX:Me,targetY:Me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ws,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Me,underlineThickness:Me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Me,values:null,vAlphabetic:Me,vMathematical:Me,vectorEffect:null,vHanging:Me,vIdeographic:Me,version:null,vertAdvY:Me,vertOriginX:Me,vertOriginY:Me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kY}),PY=Qf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),AY=Qf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:EY}),TY=Qf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),L6e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},F6e=/[A-Z]/g,b3=/-[a-z]/g,B6e=/^data[-\w.:]+$/i;function U6e(e,t){const n=ME(t);let r=t,a=Us;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&B6e.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(b3,q6e);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!b3.test(i)){let o=i.replace(F6e,z6e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=sO}return new a(r,t)}function z6e(e){return"-"+e.toLowerCase()}function q6e(e){return e.charAt(1).toUpperCase()}const V6e=SY([CY,R6e,PY,AY,TY],"html"),aO=SY([CY,$6e,PY,AY,TY],"svg");function W6e(e){return e.join(" ").trim()}var iO={},w3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,H6e=/\n/g,G6e=/^\s*/,Y6e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,K6e=/^:\s*/,J6e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,X6e=/^[;\s]*/,Q6e=/^\s+|\s+$/g,Z6e=`
`,j3="/",_3="*",Ic="",e8e="comment",t8e="declaration",n8e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(v){var p=v.match(H6e);p&&(n+=p.length);var x=v.lastIndexOf(Z6e);r=~x?v.length-x:r+v.length}function i(){var v={line:n,column:r};return function(p){return p.position=new o(v),u(),p}}function o(v){this.start=v,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(v){var p=new Error(t.source+":"+n+":"+r+": "+v);if(p.reason=v,p.filename=t.source,p.line=n,p.column=r,p.source=e,!t.silent)throw p}function c(v){var p=v.exec(e);if(p){var x=p[0];return a(x),e=e.slice(x.length),p}}function u(){c(G6e)}function d(v){var p;for(v=v||[];p=h();)p!==!1&&v.push(p);return v}function h(){var v=i();if(!(j3!=e.charAt(0)||_3!=e.charAt(1))){for(var p=2;Ic!=e.charAt(p)&&(_3!=e.charAt(p)||j3!=e.charAt(p+1));)++p;if(p+=2,Ic===e.charAt(p-1))return l("End of comment missing");var x=e.slice(2,p-2);return r+=2,a(x),e=e.slice(p),r+=2,v({type:e8e,comment:x})}}function f(){var v=i(),p=c(Y6e);if(p){if(h(),!c(K6e))return l("property missing ':'");var x=c(J6e),y=v({type:t8e,property:N3(p[0].replace(w3,Ic)),value:x?N3(x[0].replace(w3,Ic)):Ic});return c(X6e),y}}function m(){var v=[];d(v);for(var p;p=f();)p!==!1&&(v.push(p),d(v));return v}return u(),m()};function N3(e){return e?e.replace(Q6e,Ic):Ic}var r8e=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iO,"__esModule",{value:!0});iO.default=a8e;var s8e=r8e(n8e);function a8e(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,s8e.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;a?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}var Xj={};Object.defineProperty(Xj,"__esModule",{value:!0});Xj.camelCase=void 0;var i8e=/^--[a-zA-Z0-9_-]+$/,o8e=/-([a-z])/g,l8e=/^[^-]+$/,c8e=/^-(webkit|moz|ms|o|khtml)-/,u8e=/^-(ms)-/,d8e=function(e){return!e||l8e.test(e)||i8e.test(e)},h8e=function(e,t){return t.toUpperCase()},S3=function(e,t){return"".concat(t,"-")},f8e=function(e,t){return t===void 0&&(t={}),d8e(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(u8e,S3):e=e.replace(c8e,S3),e.replace(o8e,h8e))};Xj.camelCase=f8e;var m8e=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},p8e=m8e(iO),g8e=Xj;function RE(e,t){var n={};return!e||typeof e!="string"||(0,p8e.default)(e,function(r,a){r&&a&&(n[(0,g8e.camelCase)(r,t)]=a)}),n}RE.default=RE;var v8e=RE;const x8e=Qt(v8e),OY=MY("end"),oO=MY("start");function MY(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function y8e(e){const t=oO(e),n=OY(e);if(t&&n)return{start:t,end:n}}function wp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?C3(e.position):"start"in e||"end"in e?C3(e):"line"in e||"column"in e?$E(e):""}function $E(e){return k3(e&&e.line)+":"+k3(e&&e.column)}function C3(e){return $E(e&&e.start)+"-"+$E(e&&e.end)}function k3(e){return e&&typeof e=="number"?e:1}class Xr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=wp(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xr.prototype.file="";Xr.prototype.name="";Xr.prototype.reason="";Xr.prototype.message="";Xr.prototype.stack="";Xr.prototype.column=void 0;Xr.prototype.line=void 0;Xr.prototype.ancestors=void 0;Xr.prototype.cause=void 0;Xr.prototype.fatal=void 0;Xr.prototype.place=void 0;Xr.prototype.ruleId=void 0;Xr.prototype.source=void 0;const lO={}.hasOwnProperty,b8e=new Map,w8e=/[A-Z]/g,j8e=new Set(["table","tbody","thead","tfoot","tr"]),_8e=new Set(["td","th"]),DY="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function N8e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=O8e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=T8e(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?aO:V6e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=IY(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function IY(e,t,n){if(t.type==="element")return S8e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return C8e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return E8e(e,t,n);if(t.type==="mdxjsEsm")return k8e(e,t);if(t.type==="root")return P8e(e,t,n);if(t.type==="text")return A8e(e,t)}function S8e(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=aO,e.schema=a),e.ancestors.push(t);const i=$Y(e,t.tagName,!1),o=M8e(e,t);let l=uO(e,t);return j8e.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!D6e(c):!0})),RY(e,o,i,t),cO(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function C8e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Bg(e,t.position)}function k8e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Bg(e,t.position)}function E8e(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=aO,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:$Y(e,t.name,!0),o=D8e(e,t),l=uO(e,t);return RY(e,o,i,t),cO(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function P8e(e,t,n){const r={};return cO(r,uO(e,t)),e.create(t,e.Fragment,r,n)}function A8e(e,t){return t.value}function RY(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function cO(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function T8e(e,t,n){return r;function r(a,i,o,l){const u=Array.isArray(o.children)?n:t;return l?u(i,o,l):u(i,o)}}function O8e(e,t){return n;function n(r,a,i,o){const l=Array.isArray(i.children),c=oO(r);return t(a,i,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function M8e(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&lO.call(t.properties,a)){const i=I8e(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&_8e.has(t.tagName)?r=l:n[o]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function D8e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Bg(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else Bg(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function uO(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:b8e;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;o=c+"-"+u,a.set(c,u+1)}}const l=IY(e,i,o);l!==void 0&&n.push(l)}return n}function I8e(e,t,n){const r=U6e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?P6e(n):W6e(n)),r.property==="style"){let a=typeof n=="object"?n:R8e(e,String(n));return e.stylePropertyNameCase==="css"&&(a=$8e(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?L6e[r.property]||r.property:r.attribute,n]}}function R8e(e,t){try{return x8e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Xr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=DY+"#cannot-parse-style-attribute",a}}function $Y(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=v3(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=o}else r=v3(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return lO.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Bg(e)}function Bg(e,t){const n=new Xr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=DY+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $8e(e){const t={};let n;for(n in e)lO.call(e,n)&&(t[L8e(n)]=e[n]);return t}function L8e(e){let t=e.replace(w8e,F8e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function F8e(e){return"-"+e.toLowerCase()}const hN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},B8e={};function U8e(e,t){const n=B8e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return LY(e,r,a)}function LY(e,t,n){if(z8e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return E3(e.children,t,n)}return Array.isArray(e)?E3(e,t,n):""}function E3(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=LY(e[a],t,n);return r.join("")}function z8e(e){return!!(e&&typeof e=="object")}const P3=document.createElement("i");function dO(e){const t="&"+e+";";P3.innerHTML=t;const n=P3.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function _a(e,t){return e.length>0?(Xi(e,e.length,0,t),e):t}const A3={}.hasOwnProperty;function q8e(e){const t={};let n=-1;for(;++n<e.length;)V8e(t,e[n]);return t}function V8e(e,t){let n;for(n in t){const a=(A3.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){A3.call(a,o)||(a[o]=[]);const l=i[o];W8e(a[o],Array.isArray(l)?l:l?[l]:[])}}}function W8e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xi(e,0,0,r)}function FY(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function th(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Li=xc(/[A-Za-z]/),ta=xc(/[\dA-Za-z]/),H8e=xc(/[#-'*+\--9=?A-Z^-~]/);function LE(e){return e!==null&&(e<32||e===127)}const FE=xc(/\d/),G8e=xc(/[\dA-Fa-f]/),Y8e=xc(/[!-/:-@[-`{-~]/);function it(e){return e!==null&&e<-2}function Rs(e){return e!==null&&(e<0||e===32)}function Wt(e){return e===-2||e===-1||e===32}const K8e=xc(new RegExp("\\p{P}|\\p{S}","u")),J8e=xc(/\s/);function xc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Zf(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&ta(e.charCodeAt(n+1))&&ta(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function vn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(c){return Wt(c)?(e.enter(n),l(c)):t(c)}function l(c){return Wt(c)&&i++<a?(e.consume(c),l):(e.exit(n),t(c))}}const X8e={tokenize:Q8e};function Q8e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),vn(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return it(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const Z8e={tokenize:eBe},T3={tokenize:tBe};function eBe(e){const t=this,n=[];let r=0,a,i,o;return l;function l(w){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const j=t.events.length;let N=j,S;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){S=t.events[N][1].end;break}y(r);let C=j;for(;C<t.events.length;)t.events[C][1].end={...S},C++;return Xi(t.events,N+1,0,t.events.slice(j)),t.events.length=C,u(w)}return l(w)}function u(w){if(r===n.length){if(!a)return f(w);if(a.currentConstruct&&a.currentConstruct.concrete)return v(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(T3,d,h)(w)}function d(w){return a&&b(),y(r),f(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(w)}function f(w){return t.containerState={},e.attempt(T3,m,v)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function v(w){if(w===null){a&&b(),y(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),p(w)}function p(w){if(w===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return it(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),p)}function x(w,j){const N=t.sliceStream(w);if(j&&N.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(N),t.parser.lazy[w.start.line]){let S=a.events.length;for(;S--;)if(a.events[S][1].start.offset<o&&(!a.events[S][1].end||a.events[S][1].end.offset>o))return;const C=t.events.length;let k=C,E,A;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(E){A=t.events[k][1].end;break}E=!0}for(y(r),S=C;S<t.events.length;)t.events[S][1].end={...A},S++;Xi(t.events,k+1,0,t.events.slice(C)),t.events.length=S}}function y(w){let j=n.length;for(;j-- >w;){const N=n[j];t.containerState=N[1],N[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function tBe(e,t,n){return vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function O3(e){if(e===null||Rs(e)||J8e(e))return 1;if(K8e(e))return 2}function hO(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const BE={name:"attention",resolveAll:nBe,tokenize:rBe};function nBe(e,t){let n=-1,r,a,i,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};M3(h,-c),M3(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=_a(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=_a(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=_a(u,hO(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=_a(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=_a(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Xi(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function rBe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=O3(r);let i;return o;function o(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),d=O3(c),h=!d||d===2&&a||n.includes(c),f=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(a||!f)),u._close=!!(i===42?f:f&&(d||!h)),t(c)}}function M3(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const sBe={name:"autolink",tokenize:aBe};function aBe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Li(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||ta(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||ta(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||LE(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):H8e(m)?(e.consume(m),u):n(m)}function d(m){return ta(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||ta(m))&&r++<63){const v=m===45?f:h;return e.consume(m),v}return n(m)}}const Qj={partial:!0,tokenize:iBe};function iBe(e,t,n){return r;function r(i){return Wt(i)?vn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||it(i)?t(i):n(i)}}const BY={continuation:{tokenize:lBe},exit:cBe,name:"blockQuote",tokenize:oBe};function oBe(e,t,n){const r=this;return a;function a(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return Wt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function lBe(e,t,n){const r=this;return a;function a(o){return Wt(o)?vn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(BY,t,n)(o)}}function cBe(e){e.exit("blockQuote")}const UY={name:"characterEscape",tokenize:uBe};function uBe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Y8e(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const zY={name:"characterReference",tokenize:dBe};function dBe(e,t,n){const r=this;let a=0,i,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=ta,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=G8e,d):(e.enter("characterReferenceValue"),i=7,o=FE,d(h))}function d(h){if(h===59&&a){const f=e.exit("characterReferenceValue");return o===ta&&!dO(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&a++<i?(e.consume(h),d):n(h)}}const D3={partial:!0,tokenize:fBe},I3={concrete:!0,name:"codeFenced",tokenize:hBe};function hBe(e,t,n){const r=this,a={partial:!0,tokenize:N};let i=0,o=0,l;return c;function c(S){return u(S)}function u(S){const C=r.events[r.events.length-1];return i=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===l?(o++,e.consume(S),d):o<3?n(S):(e.exit("codeFencedFenceSequence"),Wt(S)?vn(e,h,"whitespace")(S):h(S))}function h(S){return S===null||it(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(D3,p,j)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||it(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):Wt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vn(e,m,"whitespace")(S)):S===96&&S===l?n(S):(e.consume(S),f)}function m(S){return S===null||it(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||it(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===l?n(S):(e.consume(S),v)}function p(S){return e.attempt(a,j,x)(S)}function x(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return i>0&&Wt(S)?vn(e,b,"linePrefix",i+1)(S):b(S)}function b(S){return S===null||it(S)?e.check(D3,p,j)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||it(S)?(e.exit("codeFlowValue"),b(S)):(e.consume(S),w)}function j(S){return e.exit("codeFenced"),t(S)}function N(S,C,k){let E=0;return A;function A(L){return S.enter("lineEnding"),S.consume(L),S.exit("lineEnding"),P}function P(L){return S.enter("codeFencedFence"),Wt(L)?vn(S,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):B(L)}function B(L){return L===l?(S.enter("codeFencedFenceSequence"),U(L)):k(L)}function U(L){return L===l?(E++,S.consume(L),U):E>=o?(S.exit("codeFencedFenceSequence"),Wt(L)?vn(S,I,"whitespace")(L):I(L)):k(L)}function I(L){return L===null||it(L)?(S.exit("codeFencedFence"),C(L)):k(L)}}}function fBe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const fN={name:"codeIndented",tokenize:pBe},mBe={partial:!0,tokenize:gBe};function pBe(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),vn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):it(u)?e.attempt(mBe,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||it(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function gBe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):it(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):vn(e,i,"linePrefix",5)(o)}function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):it(o)?a(o):n(o)}}const vBe={name:"codeText",previous:yBe,resolve:xBe,tokenize:bBe};function xBe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function yBe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bBe(e,t,n){let r=0,a,i;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),a=0,d(h)):it(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||it(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class wBe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Mm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Mm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Mm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Mm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Mm(this.left,n.reverse())}}}function Mm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function qY(e){const t={};let n=-1,r,a,i,o,l,c,u;const d=new wBe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,jBe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return Xi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function jBe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,h,f=-1,m=n,v=0,p=0;const x=[p];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(p=f+1,x.push(p),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),f=x.length;f--;){const y=l.slice(x[f],x[f+1]),b=i.pop();c.push([b,b+y.length-1]),e.splice(b,2,y)}for(c.reverse(),f=-1;++f<c.length;)u[v+c[f][0]]=v+c[f][1],v+=c[f][1]-c[f][0]-1;return u}const _Be={resolve:SBe,tokenize:CBe},NBe={partial:!0,tokenize:kBe};function SBe(e){return qY(e),e}function CBe(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):it(l)?e.check(NBe,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function kBe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vn(e,i,"linePrefix")}function i(o){if(o===null||it(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function VY(e,t,n,r,a,i,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),f):y===null||y===32||y===41||LE(y)?n(y):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),p(y))}function f(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(l),f(y)):y===null||y===60||it(y)?n(y):(e.consume(y),y===92?v:m)}function v(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function p(y){return!d&&(y===null||y===41||Rs(y))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,p):y===41?(e.consume(y),d--,p):y===null||y===32||y===40||LE(y)?n(y):(e.consume(y),y===92?x:p)}function x(y){return y===40||y===41||y===92?(e.consume(y),p):p(y)}}function WY(e,t,n,r,a,i){const o=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):it(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||it(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!Wt(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function HY(e,t,n,r,a,i){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(a),e.consume(f),e.exit(a),o=f===40?41:f,c):n(f)}function c(f){return f===o?(e.enter(a),e.consume(f),e.exit(a),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===o?(e.exit(i),c(o)):f===null?n(f):it(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),vn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||it(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(e.consume(f),d):d(f)}}function jp(e,t){let n;return r;function r(a){return it(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):Wt(a)?vn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const EBe={name:"definition",tokenize:ABe},PBe={partial:!0,tokenize:TBe};function ABe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return WY.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return a=th(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return Rs(m)?jp(e,u)(m):u(m)}function u(m){return VY(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(PBe,h,h)(m)}function h(m){return Wt(m)?vn(e,f,"whitespace")(m):f(m)}function f(m){return m===null||it(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function TBe(e,t,n){return r;function r(l){return Rs(l)?jp(e,a)(l):n(l)}function a(l){return HY(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Wt(l)?vn(e,o,"whitespace")(l):o(l)}function o(l){return l===null||it(l)?t(l):n(l)}}const OBe={name:"hardBreakEscape",tokenize:MBe};function MBe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return it(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const DBe={name:"headingAtx",resolve:IBe,tokenize:RBe};function IBe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function RBe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Rs(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||it(d)?(e.exit("atxHeading"),t(d)):Wt(d)?vn(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Rs(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const $Be=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],R3=["pre","script","style","textarea"],LBe={concrete:!0,name:"htmlFlow",resolveTo:UBe,tokenize:zBe},FBe={partial:!0,tokenize:VBe},BBe={partial:!0,tokenize:qBe};function UBe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function zBe(e,t,n){const r=this;let a,i,o,l,c;return u;function u(_){return d(_)}function d(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),h}function h(_){return _===33?(e.consume(_),f):_===47?(e.consume(_),i=!0,p):_===63?(e.consume(_),a=3,r.interrupt?t:D):Li(_)?(e.consume(_),o=String.fromCharCode(_),x):n(_)}function f(_){return _===45?(e.consume(_),a=2,m):_===91?(e.consume(_),a=5,l=0,v):Li(_)?(e.consume(_),a=4,r.interrupt?t:D):n(_)}function m(_){return _===45?(e.consume(_),r.interrupt?t:D):n(_)}function v(_){const O="CDATA[";return _===O.charCodeAt(l++)?(e.consume(_),l===O.length?r.interrupt?t:B:v):n(_)}function p(_){return Li(_)?(e.consume(_),o=String.fromCharCode(_),x):n(_)}function x(_){if(_===null||_===47||_===62||Rs(_)){const O=_===47,T=o.toLowerCase();return!O&&!i&&R3.includes(T)?(a=1,r.interrupt?t(_):B(_)):$Be.includes(o.toLowerCase())?(a=6,O?(e.consume(_),y):r.interrupt?t(_):B(_)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):i?b(_):w(_))}return _===45||ta(_)?(e.consume(_),o+=String.fromCharCode(_),x):n(_)}function y(_){return _===62?(e.consume(_),r.interrupt?t:B):n(_)}function b(_){return Wt(_)?(e.consume(_),b):A(_)}function w(_){return _===47?(e.consume(_),A):_===58||_===95||Li(_)?(e.consume(_),j):Wt(_)?(e.consume(_),w):A(_)}function j(_){return _===45||_===46||_===58||_===95||ta(_)?(e.consume(_),j):N(_)}function N(_){return _===61?(e.consume(_),S):Wt(_)?(e.consume(_),N):w(_)}function S(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),c=_,C):Wt(_)?(e.consume(_),S):k(_)}function C(_){return _===c?(e.consume(_),c=null,E):_===null||it(_)?n(_):(e.consume(_),C)}function k(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Rs(_)?N(_):(e.consume(_),k)}function E(_){return _===47||_===62||Wt(_)?w(_):n(_)}function A(_){return _===62?(e.consume(_),P):n(_)}function P(_){return _===null||it(_)?B(_):Wt(_)?(e.consume(_),P):n(_)}function B(_){return _===45&&a===2?(e.consume(_),M):_===60&&a===1?(e.consume(_),$):_===62&&a===4?(e.consume(_),H):_===63&&a===3?(e.consume(_),D):_===93&&a===5?(e.consume(_),F):it(_)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(FBe,z,U)(_)):_===null||it(_)?(e.exit("htmlFlowData"),U(_)):(e.consume(_),B)}function U(_){return e.check(BBe,I,z)(_)}function I(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),L}function L(_){return _===null||it(_)?U(_):(e.enter("htmlFlowData"),B(_))}function M(_){return _===45?(e.consume(_),D):B(_)}function $(_){return _===47?(e.consume(_),o="",R):B(_)}function R(_){if(_===62){const O=o.toLowerCase();return R3.includes(O)?(e.consume(_),H):B(_)}return Li(_)&&o.length<8?(e.consume(_),o+=String.fromCharCode(_),R):B(_)}function F(_){return _===93?(e.consume(_),D):B(_)}function D(_){return _===62?(e.consume(_),H):_===45&&a===2?(e.consume(_),D):B(_)}function H(_){return _===null||it(_)?(e.exit("htmlFlowData"),z(_)):(e.consume(_),H)}function z(_){return e.exit("htmlFlow"),t(_)}}function qBe(e,t,n){const r=this;return a;function a(o){return it(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function VBe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Qj,t,n)}}const WBe={name:"htmlText",tokenize:HBe};function HBe(e,t,n){const r=this;let a,i,o;return l;function l(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),c}function c(D){return D===33?(e.consume(D),u):D===47?(e.consume(D),N):D===63?(e.consume(D),w):Li(D)?(e.consume(D),k):n(D)}function u(D){return D===45?(e.consume(D),d):D===91?(e.consume(D),i=0,v):Li(D)?(e.consume(D),b):n(D)}function d(D){return D===45?(e.consume(D),m):n(D)}function h(D){return D===null?n(D):D===45?(e.consume(D),f):it(D)?(o=h,$(D)):(e.consume(D),h)}function f(D){return D===45?(e.consume(D),m):h(D)}function m(D){return D===62?M(D):D===45?f(D):h(D)}function v(D){const H="CDATA[";return D===H.charCodeAt(i++)?(e.consume(D),i===H.length?p:v):n(D)}function p(D){return D===null?n(D):D===93?(e.consume(D),x):it(D)?(o=p,$(D)):(e.consume(D),p)}function x(D){return D===93?(e.consume(D),y):p(D)}function y(D){return D===62?M(D):D===93?(e.consume(D),y):p(D)}function b(D){return D===null||D===62?M(D):it(D)?(o=b,$(D)):(e.consume(D),b)}function w(D){return D===null?n(D):D===63?(e.consume(D),j):it(D)?(o=w,$(D)):(e.consume(D),w)}function j(D){return D===62?M(D):w(D)}function N(D){return Li(D)?(e.consume(D),S):n(D)}function S(D){return D===45||ta(D)?(e.consume(D),S):C(D)}function C(D){return it(D)?(o=C,$(D)):Wt(D)?(e.consume(D),C):M(D)}function k(D){return D===45||ta(D)?(e.consume(D),k):D===47||D===62||Rs(D)?E(D):n(D)}function E(D){return D===47?(e.consume(D),M):D===58||D===95||Li(D)?(e.consume(D),A):it(D)?(o=E,$(D)):Wt(D)?(e.consume(D),E):M(D)}function A(D){return D===45||D===46||D===58||D===95||ta(D)?(e.consume(D),A):P(D)}function P(D){return D===61?(e.consume(D),B):it(D)?(o=P,$(D)):Wt(D)?(e.consume(D),P):E(D)}function B(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),a=D,U):it(D)?(o=B,$(D)):Wt(D)?(e.consume(D),B):(e.consume(D),I)}function U(D){return D===a?(e.consume(D),a=void 0,L):D===null?n(D):it(D)?(o=U,$(D)):(e.consume(D),U)}function I(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||Rs(D)?E(D):(e.consume(D),I)}function L(D){return D===47||D===62||Rs(D)?E(D):n(D)}function M(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function $(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),R}function R(D){return Wt(D)?vn(e,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):F(D)}function F(D){return e.enter("htmlTextData"),o(D)}}const fO={name:"labelEnd",resolveAll:JBe,resolveTo:XBe,tokenize:QBe},GBe={tokenize:ZBe},YBe={tokenize:eUe},KBe={tokenize:tUe};function JBe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Xi(e,0,e.length,n),e}function XBe(e,t){let n=e.length,r=0,a,i,o,l;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=_a(l,e.slice(i+1,i+r+3)),l=_a(l,[["enter",d,t]]),l=_a(l,hO(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),l=_a(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=_a(l,e.slice(o+1)),l=_a(l,[["exit",c,t]]),Xi(e,i,e.length,l),e}function QBe(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return l;function l(f){return i?i._inactive?h(f):(o=r.parser.defined.includes(th(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(GBe,d,o?d:h)(f):f===91?e.attempt(YBe,d,o?u:h)(f):o?d(f):h(f)}function u(f){return e.attempt(KBe,d,h)(f)}function d(f){return t(f)}function h(f){return i._balanced=!0,n(f)}}function ZBe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),a}function a(h){return Rs(h)?jp(e,i)(h):i(h)}function i(h){return h===41?d(h):VY(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Rs(h)?jp(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?HY(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Rs(h)?jp(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function eUe(e,t,n){const r=this;return a;function a(l){return WY.call(r,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(th(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function tUe(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const nUe={name:"labelStartImage",resolveAll:fO.resolveAll,tokenize:rUe};function rUe(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const sUe={name:"labelStartLink",resolveAll:fO.resolveAll,tokenize:aUe};function aUe(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const mN={name:"lineEnding",tokenize:iUe};function iUe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vn(e,t,"linePrefix")}}const By={name:"thematicBreak",tokenize:oUe};function oUe(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||it(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===a?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Wt(u)?vn(e,l,"whitespace")(u):l(u))}}const vs={continuation:{tokenize:dUe},exit:fUe,name:"list",tokenize:uUe},lUe={partial:!0,tokenize:mUe},cUe={partial:!0,tokenize:hUe};function uUe(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:FE(m)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(By,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return FE(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Qj,r.interrupt?n:d,e.attempt(lUe,f,h))}function d(m){return r.containerState.initialBlankLine=!0,i++,f(m)}function h(m){return Wt(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function dUe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Qj,a,i);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!Wt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(cUe,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(e,e.attempt(vs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function hUe(e,t,n){const r=this;return vn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function fUe(e){e.exit(this.containerState.type)}function mUe(e,t,n){const r=this;return vn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!Wt(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const $3={name:"setextUnderline",resolveTo:pUe,tokenize:gUe};function pUe(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function gUe(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Wt(u)?vn(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||it(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const vUe={tokenize:xUe};function xUe(e){const t=this,n=e.attempt(Qj,r,e.attempt(this.parser.constructs.flowInitial,a,vn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(_Be,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const yUe={resolveAll:YY()},bUe=GY("string"),wUe=GY("text");function GY(e){return{resolveAll:YY(e==="text"?jUe:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,l);return o;function o(d){return u(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=a[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function YY(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function jUe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,l=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const _Ue={42:vs,43:vs,45:vs,48:vs,49:vs,50:vs,51:vs,52:vs,53:vs,54:vs,55:vs,56:vs,57:vs,62:BY},NUe={91:EBe},SUe={[-2]:fN,[-1]:fN,32:fN},CUe={35:DBe,42:By,45:[$3,By],60:LBe,61:$3,95:By,96:I3,126:I3},kUe={38:zY,92:UY},EUe={[-5]:mN,[-4]:mN,[-3]:mN,33:nUe,38:zY,42:BE,60:[sBe,WBe],91:sUe,92:[OBe,UY],93:fO,95:BE,96:vBe},PUe={null:[BE,yUe]},AUe={null:[42,95]},TUe={null:[]},OUe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:AUe,contentInitial:NUe,disable:TUe,document:_Ue,flow:CUe,flowInitial:SUe,insideSpan:PUe,string:kUe,text:EUe},Symbol.toStringTag,{value:"Module"}));function MUe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],l=[];const c={attempt:C(N),check:C(S),consume:b,enter:w,exit:j,interrupt:C(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:v,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(P){return o=_a(o,P),x(),o[o.length-1]!==null?[]:(k(t,0),u.events=hO(i,u.events,u),u.events)}function f(P,B){return IUe(m(P),B)}function m(P){return DUe(o,P)}function v(){const{_bufferIndex:P,_index:B,line:U,column:I,offset:L}=r;return{_bufferIndex:P,_index:B,line:U,column:I,offset:L}}function p(P){a[P.line]=P.column,A()}function x(){let P;for(;r._index<o.length;){const B=o[r._index];if(typeof B=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<B.length;)y(B.charCodeAt(r._bufferIndex));else y(B)}}function y(P){d=d(P)}function b(P){it(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,A()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function w(P,B){const U=B||{};return U.type=P,U.start=v(),u.events.push(["enter",U,u]),l.push(U),U}function j(P){const B=l.pop();return B.end=v(),u.events.push(["exit",B,u]),B}function N(P,B){k(P,B.from)}function S(P,B){B.restore()}function C(P,B){return U;function U(I,L,M){let $,R,F,D;return Array.isArray(I)?z(I):"tokenize"in I?z([I]):H(I);function H(q){return W;function W(K){const G=K!==null&&q[K],V=K!==null&&q.null,se=[...Array.isArray(G)?G:G?[G]:[],...Array.isArray(V)?V:V?[V]:[]];return z(se)(K)}}function z(q){return $=q,R=0,q.length===0?M:_(q[R])}function _(q){return W;function W(K){return D=E(),F=q,q.partial||(u.currentConstruct=q),q.name&&u.parser.constructs.disable.null.includes(q.name)?T():q.tokenize.call(B?Object.assign(Object.create(u),B):u,c,O,T)(K)}}function O(q){return P(F,D),L}function T(q){return D.restore(),++R<$.length?_($[R]):M}}}function k(P,B){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&Xi(u.events,B,u.events.length-B,P.resolve(u.events.slice(B),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function E(){const P=v(),B=u.previous,U=u.currentConstruct,I=u.events.length,L=Array.from(l);return{from:I,restore:M};function M(){r=P,u.previous=B,u.currentConstruct=U,u.events.length=I,l=L,A()}}function A(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function DUe(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function IUe(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function RUe(e){const r={constructs:q8e([OUe,...(e||{}).extensions||[]]),content:a(X8e),defined:[],document:a(Z8e),flow:a(vUe),lazy:{},string:a(bUe),text:a(wUe)};return r;function a(i){return o;function o(l){return MUe(r,i,l)}}}function $Ue(e){for(;!qY(e););return e}const L3=/[\0\t\n\r]/g;function LUe(){let e=1,t="",n=!0,r;return a;function a(i,o,l){const c=[];let u,d,h,f,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(L3.lastIndex=h,u=L3.exec(i),f=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(f),!u){t=i.slice(h);break}if(m===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(i.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const FUe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function BUe(e){return e.replace(FUe,UUe)}function UUe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return FY(n.slice(i?2:1),i?16:10)}return dO(n)||e}const KY={}.hasOwnProperty;function zUe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),qUe(n)($Ue(RUe(n).document().write(LUe()(e,t,!0))))}function qUe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(me),autolinkProtocol:E,autolinkEmail:E,atxHeading:i(ce),blockQuote:i(V),characterEscape:E,characterReference:E,codeFenced:i(se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(se,o),codeText:i(re,o),codeTextData:E,data:E,codeFlowValue:E,definition:i(je),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(be),hardBreakEscape:i(Z),hardBreakTrailing:i(Z),htmlFlow:i(ge,o),htmlFlowData:E,htmlText:i(ge,o),htmlTextData:E,image:i(ke),label:o,link:i(me),listItem:i(oe),listItemValue:f,listOrdered:i(Ne,h),listUnordered:i(Ne),paragraph:i(de),reference:_,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(ce),strong:i(Pe),thematicBreak:i(nt)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:G,autolinkProtocol:K,blockQuote:c(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:T,characterReferenceMarkerNumeric:T,characterReferenceValue:q,characterReference:W,codeFenced:c(x),codeFencedFence:p,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:A,codeIndented:c(y),codeText:c(L),codeTextData:A,data:A,definition:c(),definitionDestinationString:j,definitionLabelString:b,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(U),htmlFlowData:A,htmlText:c(I),htmlTextData:A,image:c($),label:F,labelText:R,lineEnding:P,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:O,resourceDestinationString:D,resourceTitleString:H,resource:z,setextHeading:c(k),setextHeadingLineSequence:C,setextHeadingText:S,strong:c(),thematicBreak:c()}};JY(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Q){let fe={type:"root",children:[]};const Te={stack:[fe],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},$e=[];let Xe=-1;for(;++Xe<Q.length;)if(Q[Xe][1].type==="listOrdered"||Q[Xe][1].type==="listUnordered")if(Q[Xe][0]==="enter")$e.push(Xe);else{const Yt=$e.pop();Xe=a(Q,Yt,Xe)}for(Xe=-1;++Xe<Q.length;){const Yt=t[Q[Xe][0]];KY.call(Yt,Q[Xe][1].type)&&Yt[Q[Xe][1].type].call(Object.assign({sliceSerialize:Q[Xe][2].sliceSerialize},Te),Q[Xe][1])}if(Te.tokenStack.length>0){const Yt=Te.tokenStack[Te.tokenStack.length-1];(Yt[1]||F3).call(Te,void 0,Yt[0])}for(fe.position={start:tl(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:tl(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<t.transforms.length;)fe=t.transforms[Xe](fe)||fe;return fe}function a(Q,fe,Te){let $e=fe-1,Xe=-1,Yt=!1,Gn,Yn,zt,lr;for(;++$e<=Te;){const Zt=Q[$e];switch(Zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zt[0]==="enter"?Xe++:Xe--,lr=void 0;break}case"lineEndingBlank":{Zt[0]==="enter"&&(Gn&&!lr&&!Xe&&!zt&&(zt=$e),lr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:lr=void 0}if(!Xe&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||Xe===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(Gn){let yt=$e;for(Yn=void 0;yt--;){const Ye=Q[yt];if(Ye[1].type==="lineEnding"||Ye[1].type==="lineEndingBlank"){if(Ye[0]==="exit")continue;Yn&&(Q[Yn][1].type="lineEndingBlank",Yt=!0),Ye[1].type="lineEnding",Yn=yt}else if(!(Ye[1].type==="linePrefix"||Ye[1].type==="blockQuotePrefix"||Ye[1].type==="blockQuotePrefixWhitespace"||Ye[1].type==="blockQuoteMarker"||Ye[1].type==="listItemIndent"))break}zt&&(!Yn||zt<Yn)&&(Gn._spread=!0),Gn.end=Object.assign({},Yn?Q[Yn][1].start:Zt[1].end),Q.splice(Yn||$e,0,["exit",Gn,Zt[2]]),$e++,Te++}if(Zt[1].type==="listItemPrefix"){const yt={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0};Gn=yt,Q.splice($e,0,["enter",yt,Zt[2]]),$e++,Te++,zt=void 0,lr=!0}}}return Q[fe][1]._spread=Yt,Te}function i(Q,fe){return Te;function Te($e){l.call(this,Q($e),$e),fe&&fe.call(this,$e)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(Q,fe,Te){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([fe,Te||void 0]),Q.position={start:tl(fe.start),end:void 0}}function c(Q){return fe;function fe(Te){Q&&Q.call(this,Te),u.call(this,Te)}}function u(Q,fe){const Te=this.stack.pop(),$e=this.tokenStack.pop();if($e)$e[0].type!==Q.type&&(fe?fe.call(this,Q,$e[0]):($e[1]||F3).call(this,Q,$e[0]));else throw new Error("Cannot close `"+Q.type+"` ("+wp({start:Q.start,end:Q.end})+"): its not open");Te.position.end=tl(Q.end)}function d(){return U8e(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(Q){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=Q}function v(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=Q}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.value=Q.replace(/(\r?\n|\r)$/g,"")}function b(Q){const fe=this.resume(),Te=this.stack[this.stack.length-1];Te.label=fe,Te.identifier=th(this.sliceSerialize(Q)).toLowerCase()}function w(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.title=Q}function j(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.url=Q}function N(Q){const fe=this.stack[this.stack.length-1];if(!fe.depth){const Te=this.sliceSerialize(Q).length;fe.depth=Te}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(Q){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function E(Q){const Te=this.stack[this.stack.length-1].children;let $e=Te[Te.length-1];(!$e||$e.type!=="text")&&($e=Ie(),$e.position={start:tl(Q.start),end:void 0},Te.push($e)),this.stack.push($e)}function A(Q){const fe=this.stack.pop();fe.value+=this.sliceSerialize(Q),fe.position.end=tl(Q.end)}function P(Q){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=fe.children[fe.children.length-1];Te.position.end=tl(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(fe.type)&&(E.call(this,Q),A.call(this,Q))}function B(){this.data.atHardBreak=!0}function U(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.value=Q}function I(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.value=Q}function L(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.value=Q}function M(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=fe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function $(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=fe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function R(Q){const fe=this.sliceSerialize(Q),Te=this.stack[this.stack.length-2];Te.label=BUe(fe),Te.identifier=th(fe).toLowerCase()}function F(){const Q=this.stack[this.stack.length-1],fe=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const $e=Q.children;Te.children=$e}else Te.alt=fe}function D(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.url=Q}function H(){const Q=this.resume(),fe=this.stack[this.stack.length-1];fe.title=Q}function z(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function O(Q){const fe=this.resume(),Te=this.stack[this.stack.length-1];Te.label=fe,Te.identifier=th(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function T(Q){this.data.characterReferenceType=Q.type}function q(Q){const fe=this.sliceSerialize(Q),Te=this.data.characterReferenceType;let $e;Te?($e=FY(fe,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$e=dO(fe);const Xe=this.stack[this.stack.length-1];Xe.value+=$e}function W(Q){const fe=this.stack.pop();fe.position.end=tl(Q.end)}function K(Q){A.call(this,Q);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(Q)}function G(Q){A.call(this,Q);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(Q)}function V(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function ce(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function ge(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function me(){return{type:"link",title:null,url:"",children:[]}}function Ne(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function oe(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function de(){return{type:"paragraph",children:[]}}function Pe(){return{type:"strong",children:[]}}function Ie(){return{type:"text",value:""}}function nt(){return{type:"thematicBreak"}}}function tl(e){return{line:e.line,column:e.column,offset:e.offset}}function JY(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?JY(e,r):VUe(e,r)}}function VUe(e,t){let n;for(n in t)if(KY.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function F3(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wp({start:t.start,end:t.end})+") is still open")}function WUe(e){const t=this;t.parser=n;function n(r){return zUe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function HUe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function GUe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function YUe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function KUe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JUe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XUe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Zf(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function QUe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZUe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function XY(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function eze(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XY(e,t);const a={src:Zf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function tze(e,t){const n={src:Zf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function nze(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function rze(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XY(e,t);const a={href:Zf(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function sze(e,t){const n={href:Zf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aze(e,t,n){const r=e.all(t),a=n?ize(n):QY(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function ize(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=QY(n[r])}return t}function QY(e){const t=e.spread;return t??e.children.length>1}function oze(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function lze(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cze(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function uze(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dze(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=oO(t.children[1]),c=OY(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function hze(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},m=o?o[c]:void 0;m&&(f.align=m);let v={type:"element",tagName:i,properties:f,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),u.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function fze(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const B3=9,U3=32;function mze(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(z3(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(z3(t.slice(a),a>0,!1)),i.join("")}function z3(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===B3||i===U3;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===B3||i===U3;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function pze(e,t){const n={type:"text",value:mze(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function gze(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const vze={blockquote:HUe,break:GUe,code:YUe,delete:KUe,emphasis:JUe,footnoteReference:XUe,heading:QUe,html:ZUe,imageReference:eze,image:tze,inlineCode:nze,linkReference:rze,link:sze,listItem:aze,list:oze,paragraph:lze,root:cze,strong:uze,table:dze,tableCell:fze,tableRow:hze,text:pze,thematicBreak:gze,toml:Qx,yaml:Qx,definition:Qx,footnoteDefinition:Qx};function Qx(){}const ZY=-1,Zj=0,_p=1,L0=2,mO=3,pO=4,gO=5,vO=6,eK=7,tK=8,q3=typeof self=="object"?self:globalThis,xze=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case Zj:case ZY:return n(o,a);case _p:{const l=n([],a);for(const c of o)l.push(r(c));return l}case L0:{const l=n({},a);for(const[c,u]of o)l[r(c)]=r(u);return l}case mO:return n(new Date(o),a);case pO:{const{source:l,flags:c}=o;return n(new RegExp(l,c),a)}case gO:{const l=n(new Map,a);for(const[c,u]of o)l.set(r(c),r(u));return l}case vO:{const l=n(new Set,a);for(const c of o)l.add(r(c));return l}case eK:{const{name:l,message:c}=o;return n(new q3[l](c),a)}case tK:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new q3[i](o),a)};return r},V3=e=>xze(new Map,e)(0),md="",{toString:yze}={},{keys:bze}=Object,Dm=e=>{const t=typeof e;if(t!=="object"||!e)return[Zj,t];const n=yze.call(e).slice(8,-1);switch(n){case"Array":return[_p,md];case"Object":return[L0,md];case"Date":return[mO,md];case"RegExp":return[pO,md];case"Map":return[gO,md];case"Set":return[vO,md];case"DataView":return[_p,n]}return n.includes("Array")?[_p,n]:n.includes("Error")?[eK,n]:[L0,n]},Zx=([e,t])=>e===Zj&&(t==="function"||t==="symbol"),wze=(e,t,n,r)=>{const a=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},i=o=>{if(n.has(o))return n.get(o);let[l,c]=Dm(o);switch(l){case Zj:{let d=o;switch(c){case"bigint":l=tK,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([ZY],o)}return a([l,d],o)}case _p:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),a([c,[...f]],o)}const d=[],h=a([l,d],o);for(const f of o)d.push(i(f));return h}case L0:{if(c)switch(c){case"BigInt":return a([c,o.toString()],o);case"Boolean":case"Number":case"String":return a([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],h=a([l,d],o);for(const f of bze(o))(e||!Zx(Dm(o[f])))&&d.push([i(f),i(o[f])]);return h}case mO:return a([l,o.toISOString()],o);case pO:{const{source:d,flags:h}=o;return a([l,{source:d,flags:h}],o)}case gO:{const d=[],h=a([l,d],o);for(const[f,m]of o)(e||!(Zx(Dm(f))||Zx(Dm(m))))&&d.push([i(f),i(m)]);return h}case vO:{const d=[],h=a([l,d],o);for(const f of o)(e||!Zx(Dm(f)))&&d.push(i(f));return h}}const{message:u}=o;return a([l,{name:c,message:u}],o)};return i},W3=(e,{json:t,lossy:n}={})=>{const r=[];return wze(!(t||n),!!t,new Map,r)(e),r},F0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?V3(W3(e,t)):structuredClone(e):(e,t)=>V3(W3(e,t));function jze(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function _ze(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Nze(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||jze,r=e.options.footnoteBackLabel||_ze,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=Zf(h.toLowerCase());let m=0;const v=[],p=e.footnoteCounts.get(h);for(;p!==void 0&&++m<=p;){v.length>0&&v.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,m);typeof b=="string"&&(b={type:"text",value:b}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...v)}else d.push(...v);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...F0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const nK=function(e){if(e==null)return Eze;if(typeof e=="function")return e_(e);if(typeof e=="object")return Array.isArray(e)?Sze(e):Cze(e);if(typeof e=="string")return kze(e);throw new Error("Expected function, string, or object as test")};function Sze(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=nK(e[n]);return e_(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Cze(e){const t=e;return e_(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function kze(e){return e_(t);function t(n){return n&&n.type===e}}function e_(e){return t;function t(n,r,a){return!!(Pze(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Eze(){return!0}function Pze(e){return e!==null&&typeof e=="object"&&"type"in e}const rK=[],Aze=!0,H3=!1,Tze="skip";function Oze(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=nK(a),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=rK,v,p,x;if((!t||i(c,u,d[d.length-1]||void 0))&&(m=Mze(n(c,d)),m[0]===H3))return m;if("children"in c&&c.children){const y=c;if(y.children&&m[0]!==Tze)for(p=(r?y.children.length:-1)+o,x=d.concat(y);p>-1&&p<y.children.length;){const b=y.children[p];if(v=l(b,p,x)(),v[0]===H3)return v;p=typeof v[1]=="number"?v[1]:p+o}}return m}}}function Mze(e){return Array.isArray(e)?e:typeof e=="number"?[Aze,e]:e==null?rK:[e]}function sK(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),Oze(e,i,l,a);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const UE={}.hasOwnProperty,Dze={};function Ize(e,t){const n=t||Dze,r=new Map,a=new Map,i=new Map,o={...vze,...n.handlers},l={all:u,applyData:$ze,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:c,options:n,patch:Rze,wrap:Fze};return sK(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,m=l.handlers[f];if(UE.call(l.handlers,f)&&m)return m(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:p,...x}=d,y=F0(x);return y.children=l.all(d),y}return F0(d)}return(l.options.unknownHandler||Lze)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const v=l.one(f[m],d);if(v){if(m&&f[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=G3(v.value)),!Array.isArray(v)&&v.type==="element")){const p=v.children[0];p&&p.type==="text"&&(p.value=G3(p.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function Rze(e,t){e.position&&(t.position=y8e(e))}function $ze(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,F0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Lze(e,t){const n=t.data||{},r="value"in t&&!(UE.call(n,"hProperties")||UE.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Fze(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function G3(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Y3(e,t){const n=Ize(e,t),r=n.one(e,void 0),a=Nze(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Bze(e,t){return e&&"run"in e?async function(n,r){const a=Y3(n,{file:r,...t});await e.run(a,r)}:function(n,r){return Y3(n,{file:r,...e||t})}}function K3(e){if(e)throw e}var Uy=Object.prototype.hasOwnProperty,aK=Object.prototype.toString,J3=Object.defineProperty,X3=Object.getOwnPropertyDescriptor,Q3=function(t){return typeof Array.isArray=="function"?Array.isArray(t):aK.call(t)==="[object Array]"},Z3=function(t){if(!t||aK.call(t)!=="[object Object]")return!1;var n=Uy.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Uy.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Uy.call(t,a)},e5=function(t,n){J3&&n.name==="__proto__"?J3(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},t5=function(t,n){if(n==="__proto__")if(Uy.call(t,n)){if(X3)return X3(t,n).value}else return;return t[n]},Uze=function e(){var t,n,r,a,i,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=t5(l,n),a=t5(t,n),l!==a&&(d&&a&&(Z3(a)||(i=Q3(a)))?(i?(i=!1,o=r&&Q3(r)?r:[]):o=r&&Z3(r)?r:{},e5(l,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&e5(l,{name:n,newValue:a}));return l};const pN=Qt(Uze);function zE(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zze(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(c,...u){const d=e[++i];let h=-1;if(c){o(c);return}for(;++h<a.length;)(u[h]===null||u[h]===void 0)&&(u[h]=a[h]);a=u,d?qze(d,l)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function qze(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(a);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return a(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(o,...l){n||(n=!0,t(o,...l))}function i(o){a(null,o)}}const Pi={basename:Vze,dirname:Wze,extname:Hze,join:Gze,sep:"/"};function Vze(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zv(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Wze(e){if(zv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Hze(e){zv(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function Gze(...e){let t=-1,n;for(;++t<e.length;)zv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Yze(n)}function Yze(e){zv(e);const t=e.codePointAt(0)===47;let n=Kze(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Kze(e,t){let n="",r=0,a=-1,i=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function zv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Jze={cwd:Xze};function Xze(){return"/"}function qE(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Qze(e){if(typeof e=="string")e=new URL(e);else if(!qE(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Zze(e)}function Zze(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const gN=["history","path","basename","stem","extname","dirname"];class iK{constructor(t){let n;t?qE(t)?n={path:t}:typeof t=="string"||eqe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Jze.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gN.length;){const i=gN[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)gN.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Pi.basename(this.path):void 0}set basename(t){xN(t,"basename"),vN(t,"basename"),this.path=Pi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pi.dirname(this.path):void 0}set dirname(t){n5(this.basename,"dirname"),this.path=Pi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pi.extname(this.path):void 0}set extname(t){if(vN(t,"extname"),n5(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){qE(t)&&(t=Qze(t)),xN(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pi.basename(this.path,this.extname):void 0}set stem(t){xN(t,"stem"),vN(t,"stem"),this.path=Pi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Xr(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vN(e,t){if(e&&e.includes(Pi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pi.sep+"`")}function xN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function n5(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function eqe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tqe=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},nqe={}.hasOwnProperty;class xO extends tqe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zze()}copy(){const t=new xO;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(pN(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(wN("data",this.frozen),this.namespace[t]=n,this):nqe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(wN("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ey(t),r=this.parser||this.Parser;return yN("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),yN("process",this.parser||this.Parser),bN("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const l=ey(t),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const m=h,v=r.stringify(m,f);aqe(v)?f.value=v:f.result=v,u(d,f)});function u(d,h){d||!h?o(d):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),yN("processSync",this.parser||this.Parser),bN("processSync",this.compiler||this.Compiler),this.process(t,a),s5("processSync","process",n),r;function a(i,o){n=!0,K3(i),r=o}}run(t,n,r){r5(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,l){const c=ey(n);a.run(t,c,u);function u(d,h,f){const m=h||t;d?l(d):o?o(m):r(void 0,m,f)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),s5("runSync","run",r),a;function i(o,l){K3(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=ey(n),a=this.compiler||this.Compiler;return bN("stringify",a),r5(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(wN("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=pN(!0,a.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[m,...v]=d;const p=r[f][1];zE(p)&&zE(m)&&(m=pN(!0,p,m)),r[f]=[u,m,...v]}}}}const rqe=new xO().freeze();function yN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function wN(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function r5(e){if(!zE(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function s5(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ey(e){return sqe(e)?e:new iK(e)}function sqe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function aqe(e){return typeof e=="string"||iqe(e)}function iqe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oqe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",a5=[],i5={allowDangerousHtml:!0},lqe=/^(https?|ircs?|mailto|xmpp)$/i,cqe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uqe(e){const t=dqe(e),n=hqe(e);return fqe(t.runSync(t.parse(n),n),e)}function dqe(e){const t=e.rehypePlugins||a5,n=e.remarkPlugins||a5,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...i5}:i5;return rqe().use(WUe).use(n).use(Bze,r).use(t)}function hqe(e){const t=e.children||"",n=new iK;return typeof t=="string"&&(n.value=t),n}function fqe(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||mqe;for(const d of cqe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+oqe+d.id,void 0);return sK(e,u),N8e(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in hN)if(Object.hasOwn(hN,m)&&Object.hasOwn(d.properties,m)){const v=d.properties[m],p=hN[m];(p===null||p.includes(d.tagName))&&(d.properties[m]=c(String(v||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,f)),m&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function mqe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||lqe.test(e.slice(0,t))?e:""}const Im="https://api.voxtro.io".replace(/\/$/,"");function pqe(){const{chatbotId:e}=lv(),[t,n]=g.useState(null),[r,a]=g.useState([]),[i,o]=g.useState(""),[l,c]=g.useState(!0),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,v]=g.useState(!1),[p,x]=g.useState(null),[y,b]=g.useState(!1),w=g.useRef(null),j=()=>{const R=`voxtro_visitor_${e}`;let F=localStorage.getItem(R);return F||(F=`visitor_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,localStorage.setItem(R,F)),F},N=()=>{const R=`voxtro_conversation_${e}`;return localStorage.getItem(R)},S=R=>{const F=`voxtro_conversation_${e}`;localStorage.setItem(F,R)},C=()=>{var R;(R=w.current)==null||R.scrollIntoView({behavior:"smooth"})};g.useEffect(()=>{C()},[r]),g.useEffect(()=>{(async()=>{if(!e){x("No chatbot ID provided"),c(!1);return}try{const F=await fetch(`${Im}/api/widget/${e}/config`);if(!F.ok){F.status===404?x("Chatbot not found"):x("Failed to load chatbot configuration"),c(!1);return}const D=await F.json();n(D);const H=N();H&&f(H),a([{role:"assistant",content:D.welcome_message||"Hi! How can I help you today?"}])}catch(F){console.error("Error fetching widget config:",F),x("Failed to connect to chatbot service")}finally{c(!1)}})()},[e]);const k=async R=>{if(!R.trim()||!t)return;const F=j(),D={role:"user",content:R};a(H=>[...H,D]),o(""),d(!0);try{const H=await fetch(`${Im}/api/widget/${e}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitor_id:F,message:R,conversation_id:h})});if(!H.ok)throw new Error("Failed to send message");const z=await H.json();z.conversation_id&&!h&&(f(z.conversation_id),S(z.conversation_id));const _=z.message||"Sorry, I encountered an error. Please try again.",O=z.form_data;a(T=>[...T,{role:"assistant",content:_,formData:O}])}catch(H){console.error("Error sending message:",H),a(z=>[...z,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}},E=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),k(i))},A=R=>{k(R),b(!0)},P=async(R,F)=>{if(!t)return;v(!0);const D=j();try{const H=await fetch(`${Im}/api/widget/${e}/form`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form_id:R,submitted_data:F,conversation_id:h,visitor_id:D})});if(!H.ok)throw new Error("Failed to submit form");const z=await H.json();a(_=>[..._,{role:"assistant",content:z.message||"Thank you for submitting the form!"}]),pe.success("Form submitted successfully!")}catch(H){console.error("Error submitting form:",H),pe.error("Failed to submit form. Please try again."),a(z=>[...z,{role:"assistant",content:"Sorry, there was an error submitting your form. Please try again."}])}finally{v(!1)}},B=async R=>{try{await fetch(`${Im}/api/chat/conversations/${R}/end`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})}catch(F){console.error("Error ending conversation:",F)}},U=async()=>{h&&await B(h);const R=`voxtro_conversation_${e}`;localStorage.removeItem(R),f(null),a([{role:"assistant",content:(t==null?void 0:t.welcome_message)||"Hi! How can I help you today?"}]),b(!1)};if(g.useEffect(()=>{const R=()=>{h&&navigator.sendBeacon(`${Im}/api/chat/conversations/${h}/end`,JSON.stringify({}))};return window.addEventListener("beforeunload",R),()=>{window.removeEventListener("beforeunload",R),h&&B(h)}},[h]),l)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(p||!t)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-1",children:p||"Unable to load chatbot"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please check the chatbot ID and try again."})]})});const I=t.theme&&t.theme.primary_color||t.theme_color||"#3B82F6",L=t.widget_button_color||t.theme&&t.theme.secondary_color||"#6366F1",M=t.widget_button_text||"",$=t.faqs||[];return s.jsxs("div",{className:"h-screen w-full flex flex-col bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 text-white shadow-md flex items-center gap-3",style:{backgroundColor:I},children:[t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/30"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(_n,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"font-semibold text-base truncate",children:t.name}),s.jsx("p",{className:"text-xs opacity-80",children:"Online"})]}),h&&s.jsx("button",{onClick:U,className:"p-2 rounded-full hover:bg-white/20 transition-colors",title:"New conversation",children:s.jsx(Qi,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map((R,F)=>s.jsxs("div",{children:[s.jsx("div",{className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-sm ${R.role==="user"?"text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,style:{backgroundColor:R.role==="user"?I:void 0},children:R.role==="assistant"?s.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0",children:s.jsx(uqe,{components:{p:({children:D})=>s.jsx("p",{className:"mb-1.5 last:mb-0",children:D}),ul:({children:D})=>s.jsx("ul",{className:"list-disc pl-4 space-y-0.5 my-1",children:D}),li:({children:D})=>s.jsx("li",{className:"text-sm",children:D}),strong:({children:D})=>s.jsx("strong",{className:"font-semibold",children:D}),a:({href:D,children:H})=>s.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:H})},children:R.content})}):R.content})}),R.formData&&s.jsx("div",{className:"flex justify-center mt-3",children:s.jsx(E6e,{formData:R.formData,onSubmit:D=>P(R.formData.id,D),isSubmitting:m,themeColor:I})})]},F)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 px-4 py-3 rounded-2xl rounded-bl-md",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:w})]}),$.length>0&&r.length<=1&&!y&&s.jsx("div",{className:"flex-shrink-0 px-4 py-6 border-t bg-white/90 shadow-sm rounded-b-xl",children:s.jsxs("div",{className:"max-w-sm mx-auto",children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-5 justify-end",children:$.slice(0,4).map((R,F)=>s.jsx("button",{onClick:()=>A(R.question),className:"text-right px-4 py-2 rounded-xl bg-white border text-gray-700 text-sm shadow-sm hover:shadow transition-all",style:{borderColor:`${I}20`},onMouseEnter:D=>{D.currentTarget.style.borderColor=I,D.currentTarget.style.color=I},onMouseLeave:D=>{D.currentTarget.style.borderColor=`${I}20`,D.currentTarget.style.color="#374151"},children:R.question},F))}),M.trim()?s.jsx("button",{className:"w-full py-3 rounded-full text-white font-semibold text-base shadow-lg transition-all hover:opacity-90",style:{backgroundColor:L},onClick:()=>b(!0),children:M}):s.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all hover:opacity-90",style:{backgroundColor:L},onClick:()=>b(!0),"aria-label":"Open chat",children:s.jsx(xu,{className:"w-5 h-5"})})]})}),$.length===0&&r.length<=1&&!y&&s.jsx("div",{className:"flex-shrink-0 px-4 py-6 border-t bg-gradient-to-t from-white via-white to-transparent",children:s.jsxs("div",{className:"max-w-sm mx-auto text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have a question? We're here to help!"}),s.jsx("button",{className:"w-full py-3.5 rounded-full text-white font-semibold text-base shadow-lg transition-all hover:opacity-90 hover:shadow-xl active:scale-[0.98]",style:{backgroundColor:I},onClick:()=>b(!0),children:M.trim()||"Start a conversation"})]})}),y&&s.jsxs("div",{className:"flex-shrink-0 p-3 border-t bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:R=>o(R.target.value),onKeyDown:E,placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 text-sm border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-400",style:{focusRing:I},disabled:u}),s.jsx("button",{onClick:()=>k(i),disabled:!i.trim()||u,className:"flex-shrink-0 w-10 h-10 rounded-full text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:opacity-90",style:{backgroundColor:L},children:s.jsx(xu,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-2",children:"Powered by Voxtro"})]})]})}function gqe(){const[e,t]=g.useState([]),n=(r,a="info")=>{t(i=>[...i,`${a.toUpperCase()}: ${r}`])};return g.useEffect(()=>{(async()=>{try{n("Testing widget URL...","info");const a=await fetch(`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?test=${Date.now()}`);if(n(`HTTP Status: ${a.status} ${a.statusText}`,a.ok?"success":"error"),n(`Content-Type: ${a.headers.get("content-type")}`,"info"),a.ok){const i=await a.text();n(`Response length: ${i.length} characters`,"success"),n(`Contains CHATBOT_ID: ${i.includes("CHATBOT_ID")?"Yes":"No"}`,i.includes("CHATBOT_ID")?"success":"error"),i.includes("console.error")?n(`Widget returns error: ${i}`,"error"):i.includes("CHATBOT_ID")&&(n("Widget returns valid JavaScript","success"),setTimeout(()=>{const o=document.createElement("script");o.src=`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?widget=${Date.now()}`,o.onload=()=>{n("Widget script loaded successfully","success"),setTimeout(()=>{const l=document.getElementById("voxtro-widget");n(`Widget element in DOM: ${l?"Yes":"No"}`,l?"success":"error")},1e3)},o.onerror=()=>{n("Widget script failed to load","error")},document.head.appendChild(o)},1e3))}else{const i=await a.text();n(`Error response: ${i}`,"error")}}catch(a){n(`Network error: ${a instanceof Error?a.message:"Unknown error"}`,"error")}})()},[]),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Widget Test"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Results:"}),s.jsx("div",{className:"space-y-3",children:e.map((r,a)=>{const[i,...o]=r.split(": "),l=o.join(": "),c=i==="ERROR",u=i==="SUCCESS";return s.jsxs("div",{className:`p-3 rounded-md ${c?"bg-red-50 border border-red-200 text-red-800":u?"bg-green-50 border border-green-200 text-green-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:[s.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",l]},a)})}),e.length===0&&s.jsx("div",{className:"text-gray-500 italic",children:"Running tests..."})]}),s.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"What to look for:"}),s.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[s.jsx("li",{children:" HTTP Status should be 200 OK"}),s.jsx("li",{children:" Response should contain CHATBOT_ID"}),s.jsx("li",{children:" Widget script should load successfully"}),s.jsx("li",{children:" Widget element should appear in DOM"}),s.jsx("li",{children:" Blue chat button should be visible in bottom-right corner"})]})]})]})})}const vqe=()=>{const{user:e}=Ut(),[t,n]=g.useState(null),r=i=>{n(i)},a=()=>{n(null)};return e?s.jsxs("div",{className:"p-6",children:[!t&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View all chat history between users and your chatbots"})]}),s.jsx(J,{className:"h-[calc(100vh-200px)]",children:t?s.jsx(tG,{conversationId:t,onBack:a}):s.jsx(eG,{onConversationSelect:r})})]}):s.jsx("div",{children:"Please log in to view conversations."})},xqe=()=>{const{user:e}=Ut(),[t,n]=g.useState([]),[r,a]=g.useState([]),[i,o]=g.useState({totalConversations:0,totalMessages:0,totalBots:0,avgMessagesPerConversation:0}),[l,c]=g.useState(!0),u=async()=>{if(e)try{const{data:d,error:h}=await Y.from("chatbots").select("id, name, theme_color").eq("user_id",e.id).eq("is_active",!0);if(h)throw h;const f=[];let m=0,v=0;for(const j of d||[]){const{count:N}=await Y.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",j.id),{count:S}=await Y.from("messages").select(`
            *,
            conversations!inner(chatbot_id)
          `,{count:"exact",head:!0}).eq("conversations.chatbot_id",j.id),C=N||0,k=S||0;f.push({id:j.id,name:j.name,conversations:C,messages:k,theme_color:j.theme_color}),m+=C,v+=k}f.sort((j,N)=>N.messages-j.messages),n(f);const p=new Date;p.setDate(p.getDate()-7);const{data:x,error:y}=await Y.from("messages").select(`
          created_at,
          conversations!inner(
            chatbot_id,
            chatbots!inner(user_id)
          )
        `).eq("conversations.chatbots.user_id",e.id).gte("created_at",p.toISOString());if(y)throw y;const b=new Map;for(let j=6;j>=0;j--){const N=new Date;N.setDate(N.getDate()-j);const S=N.toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(S,0)}x==null||x.forEach(j=>{const S=new Date(j.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(S,(b.get(S)||0)+1)});const w=Array.from(b.entries()).map(([j,N])=>({date:j,messages:N}));a(w),o({totalConversations:m,totalMessages:v,totalBots:(d==null?void 0:d.length)||0,avgMessagesPerConversation:m>0?Math.round(v/m*100)/100:0})}catch(d){console.error("Error fetching usage data:",d),De({title:"Error",description:"Failed to load usage analytics",variant:"destructive"})}finally{c(!1)}};return g.useEffect(()=>{u();const d=setInterval(u,3e4);return()=>clearInterval(d)},[e]),e?l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(au,{className:"h-8 w-8 animate-pulse mx-auto mb-2 text-primary"}),s.jsx("p",{children:"Loading analytics..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Usage Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor your chatbot performance and usage statistics"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalConversations})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalMessages})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Active Bots"}),s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalBots})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(Gl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.avgMessagesPerConversation})})]})]}),s.jsx("div",{className:"grid gap-6",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Messages Per Day"}),s.jsx(Se,{children:"Last 7 days message volume"})]}),s.jsx(ee,{children:s.jsx(Jb,{width:"100%",height:300,children:s.jsxs(mH,{data:r,children:[s.jsx(J9,{strokeDasharray:"3 3"}),s.jsx(Eu,{dataKey:"date"}),s.jsx(Pu,{}),s.jsx(ei,{}),s.jsx(Yf,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})]})}),t.length>0&&s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Bot Details"}),s.jsx(Se,{children:"Detailed statistics for each bot"})]}),s.jsx(ee,{children:s.jsx("div",{className:"space-y-4",children:t.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(xe,{variant:"outline",className:"text-xs",children:["#",h+1]}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.theme_color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.conversations," conversations  ",d.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:d.messages}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"total messages"})]})]},d.id))})})]})]}):s.jsx("div",{children:"Please log in to view usage analytics."})};function yqe({userId:e}){const[t,n]=g.useState({user_id:e,logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"}),[r,a]=g.useState(!0),[i,o]=g.useState(!1),[l,c]=g.useState(!1),u=g.useRef(null);g.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:v,error:p}=await Y.from("branding_settings").select("*").eq("user_id",e).maybeSingle();if(p&&p.code!=="PGRST116")throw p;v&&n({id:v.id,user_id:v.user_id,logo_url:v.logo_url,primary_color:v.primary_color||"#f97316",secondary_color:v.secondary_color||"#ea580c"})}catch(v){console.error("Error fetching branding:",v),De({title:"Error",description:"Failed to load branding settings",variant:"destructive"})}finally{a(!1)}},h=async v=>{var y;const p=(y=v.target.files)==null?void 0:y[0];if(!p)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp"].includes(p.type)){De({title:"Invalid file type",description:"Please upload a PNG, JPEG, SVG, or WebP image",variant:"destructive"});return}if(p.size>2*1024*1024){De({title:"File too large",description:"Please upload an image smaller than 2MB",variant:"destructive"});return}c(!0);try{const b=p.name.split(".").pop(),w=`${e}/logo.${b}`;await Y.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]);const{error:j}=await Y.storage.from("logos").upload(w,p,{upsert:!0});if(j)throw j;const{data:N}=Y.storage.from("logos").getPublicUrl(w);n(S=>({...S,logo_url:N.publicUrl})),De({title:"Logo uploaded",description:"Your logo has been uploaded successfully"})}catch(b){console.error("Error uploading logo:",b),De({title:"Upload failed",description:b.message||"Failed to upload logo",variant:"destructive"})}finally{c(!1)}},f=async()=>{if(t.logo_url)try{await Y.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]),n(v=>({...v,logo_url:null})),De({title:"Logo removed",description:"Your logo has been removed"})}catch(v){console.error("Error removing logo:",v),De({title:"Error",description:"Failed to remove logo",variant:"destructive"})}},m=async()=>{o(!0);try{const v={user_id:e,logo_url:t.logo_url,primary_color:t.primary_color,secondary_color:t.secondary_color};if(t.id){const{error:p}=await Y.from("branding_settings").update(v).eq("id",t.id);if(p)throw p}else{const{data:p,error:x}=await Y.from("branding_settings").insert(v).select().single();if(x)throw x;n(y=>({...y,id:p.id}))}De({title:"Success",description:"Branding settings saved successfully"})}catch(v){console.error("Error saving branding:",v),De({title:"Error",description:"Failed to save branding settings",variant:"destructive"})}finally{o(!1)}};return r?s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qD,{className:"w-5 h-5 text-primary"}),s.jsx(ie,{children:"Customer Portal Branding"})]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading branding settings..."})})]}):s.jsxs(J,{className:"md:col-span-2",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qD,{className:"w-5 h-5 text-primary"}),s.jsx(ie,{children:"Customer Portal Branding"})]}),s.jsx(Se,{children:"Customize the appearance of the customer portal with your brand colors and logo"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{children:"Company Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-16 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted/30 overflow-hidden",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Company logo",className:"max-w-full max-h-full object-contain p-2"}):s.jsx(rse,{className:"w-8 h-8 text-muted-foreground/50"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{ref:u,type:"file",accept:"image/png,image/jpeg,image/svg+xml,image/webp",onChange:h,className:"hidden"}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},disabled:l,children:[s.jsx(jse,{className:"w-4 h-4 mr-2"}),l?"Uploading...":"Upload Logo"]}),t.logo_url&&s.jsxs(te,{variant:"ghost",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx($t,{className:"w-4 h-4 mr-2"}),"Remove"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPEG, SVG or WebP. Max 2MB."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{htmlFor:"primary-color",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"primary-color",value:t.primary_color,onChange:v=>n(p=>({...p,primary_color:v.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(he,{value:t.primary_color,onChange:v=>n(p=>({...p,primary_color:v.target.value})),placeholder:"#f97316",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for buttons, links, and accents"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{htmlFor:"secondary-color",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"secondary-color",value:t.secondary_color,onChange:v=>n(p=>({...p,secondary_color:v.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(he,{value:t.secondary_color,onChange:v=>n(p=>({...p,secondary_color:v.target.value})),placeholder:"#ea580c",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for hover states and secondary elements"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{children:"Preview"}),s.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Preview logo",className:"h-8 object-contain"}):s.jsx("div",{className:"h-8 w-24 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Your Logo"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-md text-white text-sm font-medium transition-colors",style:{backgroundColor:t.primary_color},onMouseEnter:v=>v.currentTarget.style.backgroundColor=t.secondary_color,onMouseLeave:v=>v.currentTarget.style.backgroundColor=t.primary_color,children:"Primary Button"}),s.jsx("button",{className:"px-4 py-2 rounded-md text-sm font-medium border transition-colors",style:{color:t.primary_color,borderColor:t.primary_color},children:"Secondary Button"})]})]})]}),s.jsxs(te,{onClick:m,disabled:i,className:"w-full",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Branding Settings"]})]})})]})}function bqe({className:e}){const[t,n]=g.useState(null),[r,a]=g.useState(""),[i,o]=g.useState(!0),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState(!1),m=async()=>{try{o(!0);const b=await ufe();n(b)}catch(b){console.error("Error fetching custom domain:",b)}finally{o(!1)}};g.useEffect(()=>{m()},[]);const v=async()=>{if(!r.trim()){De({title:"Error",description:"Please enter a domain",variant:"destructive"});return}const b=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)+$/,w=r.toLowerCase().trim().replace(/^https?:\/\//,"").replace(/\/$/,"");if(!b.test(w)){De({title:"Invalid Domain",description:"Please enter a valid domain (e.g., portal.mybusiness.com)",variant:"destructive"});return}c(!0);try{const j=await dfe(w);n(j),a(""),De({title:"Domain Added",description:"Now configure your DNS records to complete setup."})}catch(j){console.error("Error adding domain:",j),De({title:"Error",description:j.message||"Failed to add domain",variant:"destructive"})}finally{c(!1)}},p=async()=>{d(!0);try{const b=await hfe();b.status==="verified"?(De({title:"Domain Verified!",description:"Your custom domain is now active."}),await m()):De({title:"Verification Pending",description:b.message||"DNS records not yet propagated. This can take up to 48 hours."})}catch(b){console.error("Error verifying domain:",b),De({title:"Verification Failed",description:b.message||"Failed to verify domain",variant:"destructive"})}finally{d(!1)}},x=async()=>{if(confirm("Are you sure you want to remove your custom domain?")){f(!0);try{await ffe(),n(null),De({title:"Domain Removed",description:"Your custom domain has been removed."})}catch(b){console.error("Error removing domain:",b),De({title:"Error",description:b.message||"Failed to remove domain",variant:"destructive"})}finally{f(!1)}}},y=b=>{navigator.clipboard.writeText(b),De({title:"Copied",description:"Copied to clipboard"})};return i?s.jsx("div",{className:`border rounded-lg ${e}`,children:s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b bg-muted/30",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-orange-500/10 flex items-center justify-center",children:s.jsx(Es,{className:"w-4 h-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Custom Domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading..."})]})]})}):s.jsxs("div",{className:`border rounded-lg ${e}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-orange-500/10 flex items-center justify-center",children:s.jsx(Es,{className:"w-4 h-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Custom Domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customer portal domain"})]})]}),t&&s.jsx("div",{className:"flex items-center gap-2",children:t.verification_status==="verified"?s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:[s.jsx(Gr,{className:"w-3 h-3"}),"Verified"]}):s.jsxs("span",{className:"flex items-center gap-1 text-xs text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 px-2 py-1 rounded",children:[s.jsx(xt,{className:"w-3 h-3"}),"Pending"]})})]}),s.jsx("div",{className:"p-4 space-y-4",children:t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm font-medium",children:"Your Domain"}),s.jsx("p",{className:"text-lg font-mono mt-1",children:t.domain})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:x,disabled:h,className:"text-destructive hover:text-destructive",children:h?s.jsx(xt,{className:"w-4 h-4 animate-spin"}):s.jsx($t,{className:"w-4 h-4"})})]}),t.verification_status!=="verified"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"DNS Configuration Required"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Add the following CNAME record to your DNS provider:"}),s.jsxs("div",{className:"grid gap-2 text-sm",children:[s.jsx("div",{className:"flex items-center justify-between bg-background rounded px-3 py-2 border",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type: "}),s.jsx("span",{className:"font-mono",children:"CNAME"})]})}),s.jsxs("div",{className:"flex items-center justify-between bg-background rounded px-3 py-2 border",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name: "}),s.jsx("span",{className:"font-mono",children:t.domain.split(".")[0]})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(t.domain.split(".")[0]),className:"h-6 w-6 p-0",children:s.jsx(Hp,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"flex items-center justify-between bg-background rounded px-3 py-2 border",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Value: "}),s.jsx("span",{className:"font-mono",children:t.cname_target})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(t.cname_target),className:"h-6 w-6 p-0",children:s.jsx(Hp,{className:"w-3 h-3"})})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"DNS changes can take up to 48 hours to propagate worldwide."})]}),s.jsx(te,{onClick:p,disabled:u,variant:"outline",size:"sm",className:"w-full",children:u?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Verify Domain"]})})]}),t.verification_status==="verified"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Your custom domain is active!"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-500",children:"Customers can now access their portal at:"}),s.jsxs("a",{href:`https://${t.domain}/customer-login`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm font-mono text-green-700 dark:text-green-400 hover:underline",children:["https://",t.domain,"/customer-login",s.jsx(Gp,{className:"w-3 h-3"})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a custom domain for your customer portal. Your customers will access their portal at this domain instead of voxtro.io."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{placeholder:"portal.yourbusiness.com",value:r,onChange:b=>a(b.target.value),className:"flex-1"}),s.jsx(te,{onClick:v,disabled:l||!r.trim(),size:"sm",children:l?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Domain"})]})]})})]})}function ys(e,t,n=300){const[r,a]=g.useState(()=>{try{const o=sessionStorage.getItem(e);if(o)return JSON.parse(o)}catch(o){console.warn(`Error reading sessionStorage key "${e}":`,o)}return t});g.useEffect(()=>{const o=setTimeout(()=>{try{r===t||r===""||r===null||r===void 0?sessionStorage.removeItem(e):sessionStorage.setItem(e,JSON.stringify(r))}catch(l){console.warn(`Error writing sessionStorage key "${e}":`,l)}},n);return()=>clearTimeout(o)},[e,r,n,t]);const i=g.useCallback(()=>{sessionStorage.removeItem(e),a(t)},[e,t]);return[r,a,i]}const wqe=()=>{const{user:e}=Ut(),{theme:t,setTheme:n}=kv(),[r,a]=g.useState(null),[i,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState({user_id:"",chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:""}),[h,f]=g.useState(""),[m,v]=g.useState(""),[p,x]=g.useState(""),[y,b]=g.useState(""),[w,j]=g.useState(!0),[N,S]=g.useState(!1),[C,k]=g.useState([]),[E,A,P]=ys("settings_newVoiceApiKey",""),[B,U,I]=ys("settings_newVoicePublicKey",""),[L,M,$]=ys("settings_newOrgName",""),[R,F]=g.useState(!1),[D,H]=g.useState(!1),[z,_]=g.useState([]),[O,T,q]=ys("settings_newElevenLabsApiKey",""),[W,K,G]=ys("settings_newElevenLabsOrgName",""),[V,se]=g.useState(!1),[re,je]=g.useState(!1),[be,ce]=g.useState([]),[Z,ge,ke]=ys("settings_newOpenAIApiKey",""),[me,Ne,oe]=ys("settings_newOpenAIOrgName",""),[de,Pe]=g.useState(!1),[Ie,nt]=g.useState(!1),Q=async()=>{if(e)try{const{data:we,error:Le}=await Y.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(Le)throw Le;we&&(a(we),o(we.full_name||"")),c(e.email||"")}catch(we){console.error("Error fetching profile:",we),De({title:"Error",description:"Failed to load profile",variant:"destructive"})}},fe=async()=>{if(e)try{const{data:we,error:Le}=await Y.from("notification_preferences").select("*").eq("user_id",e.id).maybeSingle();if(Le&&Le.code!=="PGRST116")throw Le;d(we||{user_id:e.id,chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:e.email||""})}catch(we){console.error("Error fetching notification preferences:",we),De({title:"Error",description:"Failed to load notification preferences",variant:"destructive"})}},Te=async()=>{if(e)try{const{data:we,error:Le}=await Y.from("voice_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Le)throw Le;k(we||[])}catch(we){console.error("Error fetching voice connections:",we)}},$e=async()=>{if(e)try{const{data:we,error:Le}=await Y.from("elevenlabs_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Le)throw Le;_(we||[])}catch(we){console.error("Error fetching ElevenLabs connections:",we)}},Xe=async()=>{if(e)try{const{data:we,error:Le}=await Y.from("openai_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Le)throw Le;ce(we||[])}catch(we){console.error("Error fetching OpenAI connections:",we)}},Yt=async()=>{j(!0),await Promise.all([Q(),fe(),Te(),$e(),Xe()]),j(!1)},Gn=async()=>{var we;if(e){S(!0);try{const Le=l!==e.email,Qe=i.trim()!==((r==null?void 0:r.full_name)||"");if(Le&&l.trim()){const{error:Ot}=await Y.auth.updateUser({email:l.trim()});if(Ot)throw Ot;De({title:"Email Update Sent",description:"Please check both your old and new email addresses to confirm the change"})}if(Qe){const Ot={user_id:e.id,full_name:i.trim()||null,email:e.email};if(r){const{error:$n}=await Y.from("profiles").update({full_name:Ot.full_name}).eq("user_id",e.id);if($n)throw $n}else{const{error:$n}=await Y.from("profiles").insert(Ot);if($n)throw $n}}!Le&&Qe?De({title:"Success",description:"Profile updated successfully"}):!Le&&!Qe&&De({title:"No Changes",description:"No changes were made to your profile"}),await Q()}catch(Le){console.error("Error saving profile:",Le);let Qe="Failed to update profile";(we=Le.message)!=null&&we.includes("email")&&(Qe="Failed to update email. Please check the email format."),De({title:"Error",description:Qe,variant:"destructive"})}finally{S(!1)}}},Yn=async()=>{if(e){S(!0);try{if(u.id){const{error:we}=await Y.from("notification_preferences").update({chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null}).eq("user_id",e.id);if(we)throw we}else{const{error:we}=await Y.from("notification_preferences").insert({user_id:e.id,chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null});if(we)throw we}De({title:"Success",description:"Notification preferences updated successfully"}),await fe()}catch(we){console.error("Error saving notification preferences:",we),De({title:"Error",description:"Failed to update notification preferences",variant:"destructive"})}finally{S(!1)}}},zt=async()=>{var we,Le;if(!(!e||!e.email)){if(!h||!m||!p){De({title:"Error",description:"Please fill in all password fields",variant:"destructive"});return}if(m!==p){De({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(m.length<6){De({title:"Error",description:"New password must be at least 6 characters long",variant:"destructive"});return}if(h===m){De({title:"Error",description:"New password must be different from your current password",variant:"destructive"});return}S(!0);try{const{error:Qe}=await Y.auth.signInWithPassword({email:e.email,password:h});if(Qe){De({title:"Error",description:"Current password is incorrect",variant:"destructive"});return}const{error:Ot}=await Y.auth.updateUser({password:m});if(Ot)throw Ot;f(""),v(""),x(""),De({title:"Success",description:"Password updated successfully"})}catch(Qe){console.error("Error changing password:",Qe);let Ot="Failed to update password";(we=Qe.message)!=null&&we.includes("weak")?Ot="Password is too weak. Please choose a stronger password.":(Le=Qe.message)!=null&&Le.includes("same")&&(Ot="New password must be different from your current password."),De({title:"Error",description:Ot,variant:"destructive"})}finally{S(!1)}}},lr=async()=>{if(!E.trim()){De({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!L.trim()){De({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}F(!0);try{const{data:{session:we}}=await Y.auth.getSession();if(!e||!(we!=null&&we.access_token)){De({title:"Not Logged In",description:"You must be logged in to validate VAPI credentials. Please sign in and try again.",variant:"destructive"}),F(!1);return}const Le=await Vhe(E.trim(),B.trim()),Qe=(Le==null?void 0:Le.data)||Le;if(!Qe.valid){De({title:"Invalid Credentials",description:Qe.message||"The credentials you provided are not valid.",variant:"destructive"});return}const Ot=C.length===0,{error:$n}=await Y.from("voice_connections").insert({user_id:e==null?void 0:e.id,api_key:E.trim(),public_key:B.trim()||null,org_name:L.trim(),is_active:Ot});if($n){if($n.code==="23505"){De({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw $n}De({title:"Success",description:`Organization "${L}" connected successfully`}),P(),I(),$(),H(!1),await Te()}catch(we){console.error("Error connecting voice:",we),De({title:"Error",description:we.message||"Failed to connect voice service",variant:"destructive"})}finally{F(!1)}},Zt=async we=>{const Le=C.find(Qe=>Qe.id===we);if(Le)try{const{error:Qe}=await Y.from("voice_connections").delete().eq("id",we);if(Qe)throw Qe;if(Le.is_active&&C.length>1){const Ot=C.filter($n=>$n.id!==we);Ot.length>0&&await Y.from("voice_connections").update({is_active:!0}).eq("id",Ot[0].id)}De({title:"Success",description:`Organization "${Le.org_name}" removed`}),await Te()}catch(Qe){console.error("Error removing connection:",Qe),De({title:"Error",description:"Failed to remove organization",variant:"destructive"})}},yt=async()=>{if(!O.trim()){De({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!W.trim()){De({title:"Error",description:"Please enter a connection name",variant:"destructive"});return}se(!0);try{if(!(await Hhe(O.trim())).valid){De({title:"Invalid API Key",description:"The API key you provided is not valid",variant:"destructive"});return}const Le=z.length===0,{error:Qe}=await Y.from("elevenlabs_connections").insert({user_id:e==null?void 0:e.id,api_key:O.trim(),org_name:W.trim(),is_active:Le});if(Qe){if(Qe.code==="23505"){De({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw Qe}De({title:"Success",description:`"${W}" connected successfully`}),q(),G(),je(!1),await $e()}catch(we){console.error("Error connecting ElevenLabs:",we),De({title:"Error",description:we.message||"Failed to connect ElevenLabs",variant:"destructive"})}finally{se(!1)}},Ye=async we=>{const Le=z.find(Qe=>Qe.id===we);if(Le)try{const{error:Qe}=await Y.from("elevenlabs_connections").delete().eq("id",we);if(Qe)throw Qe;if(Le.is_active&&z.length>1){const Ot=z.filter($n=>$n.id!==we);Ot.length>0&&await Y.from("elevenlabs_connections").update({is_active:!0}).eq("id",Ot[0].id)}De({title:"Success",description:`"${Le.org_name}" removed`}),await $e()}catch(Qe){console.error("Error removing ElevenLabs connection:",Qe),De({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},qt=async()=>{if(!Z.trim()){De({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!me.trim()){De({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}Pe(!0);try{const we=be.length===0,{error:Le}=await Y.from("openai_connections").insert({user_id:e==null?void 0:e.id,api_key:Z.trim(),org_name:me.trim(),is_active:we});if(Le){if(Le.code==="23505"){De({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw Le}De({title:"Success",description:"OpenAI connected successfully"}),ke(),oe(),nt(!1),await Xe()}catch(we){console.error("Error connecting OpenAI:",we),De({title:"Error",description:we.message||"Failed to connect OpenAI",variant:"destructive"})}finally{Pe(!1)}},Kt=async we=>{const Le=be.find(Qe=>Qe.id===we);if(Le)try{const{error:Qe}=await Y.from("openai_connections").delete().eq("id",we);if(Qe)throw Qe;if(Le.is_active&&be.length>1){const Ot=be.filter($n=>$n.id!==we);Ot.length>0&&await Y.from("openai_connections").update({is_active:!0}).eq("id",Ot[0].id)}De({title:"Success",description:`"${Le.org_name}" removed`}),await Xe()}catch(Qe){console.error("Error removing OpenAI connection:",Qe),De({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},ps=async()=>{if(!e||!y.trim()){De({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.trim())){De({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}S(!0);try{De({title:"Invite Sent",description:`Invitation sent to ${y}`}),b("")}catch(Le){console.error("Error inviting member:",Le),De({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{S(!1)}};g.useEffect(()=>{Yt()},[e]);const[Ct,Kn]=g.useState("profile"),xr=[{id:"profile",label:"Profile",icon:_n},{id:"appearance",label:"Appearance",icon:MU},{id:"notifications",label:"Notifications",icon:RP},{id:"security",label:"Security",icon:Hi},{id:"team",label:"Team",icon:dn},{id:"integrations",label:"Integrations",icon:ise}];return e?s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-56 border-r bg-muted/30 p-4",children:[s.jsx("h1",{className:"text-lg font-semibold mb-4 px-2",children:"Settings"}),s.jsx("nav",{className:"space-y-1",children:xr.map(we=>s.jsxs("button",{onClick:()=>Kn(we.id),className:ye("w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md transition-colors",Ct===we.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsx(we.icon,{className:"w-4 h-4"}),we.label]},we.id))})]}),s.jsx($a,{className:"flex-1",children:s.jsxs("div",{className:"max-w-2xl p-6",children:[Ct==="profile"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account details"})]}),w?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(he,{id:"email",type:"email",value:l,onChange:we=>c(we.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"fullName",children:"Display Name"}),s.jsx(he,{id:"fullName",type:"text",placeholder:"Your name",value:i,onChange:we=>o(we.target.value)})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email changes require confirmation from both old and new addresses."}),s.jsxs(te,{onClick:Gn,disabled:N,size:"sm",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),N?"Saving...":"Save Changes"]})]})]}),Ct==="appearance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Appearance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the look and feel"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Light or dark mode"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(te,{variant:t==="light"?"default":"outline",size:"sm",onClick:()=>n("light"),children:[s.jsx(VP,{className:"h-4 w-4 mr-1"}),"Light"]}),s.jsxs(te,{variant:t==="dark"?"default":"outline",size:"sm",onClick:()=>n("dark"),children:[s.jsx(qP,{className:"h-4 w-4 mr-1"}),"Dark"]})]})]})}),s.jsx("div",{className:"pt-4",children:s.jsx(yqe,{userId:e.id})})]}),Ct==="notifications"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure alerts and notifications"})]}),w?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"notification-email",children:"Notification Email"}),s.jsx(he,{id:"notification-email",type:"email",placeholder:"notifications@example.com",value:u.notification_email||(e==null?void 0:e.email)||"",onChange:we=>d(Le=>({...Le,notification_email:we.target.value}))})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"chat-started",children:"New chat started"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When users start conversations"})]}),s.jsx(Lt,{id:"chat-started",checked:u.chat_started,onCheckedChange:we=>d(Le=>({...Le,chat_started:we}))})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"chat-ended",children:"Chat ended"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When conversations complete"})]}),s.jsx(Lt,{id:"chat-ended",checked:u.chat_ended,onCheckedChange:we=>d(Le=>({...Le,chat_ended:we}))})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"chat-error",children:"Chat errors"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When errors occur"})]}),s.jsx(Lt,{id:"chat-error",checked:u.chat_error,onCheckedChange:we=>d(Le=>({...Le,chat_error:we}))})]})]}),s.jsxs(te,{onClick:Yn,disabled:N,size:"sm",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),N?"Saving...":"Save Preferences"]})]})]}),Ct==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Security"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your password"})]}),s.jsxs("div",{className:"space-y-4 max-w-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"current-password",children:"Current Password"}),s.jsx(he,{id:"current-password",type:"password",value:h,onChange:we=>f(we.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"new-password",children:"New Password"}),s.jsx(he,{id:"new-password",type:"password",value:m,onChange:we=>v(we.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(he,{id:"confirm-password",type:"password",value:p,onChange:we=>x(we.target.value)})]}),s.jsxs(te,{onClick:zt,disabled:N,size:"sm",children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),N?"Updating...":"Update Password"]})]})]}),Ct==="team"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage team members"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"invite-email",children:"Invite Member"}),s.jsxs("div",{className:"flex gap-2 max-w-md",children:[s.jsx(he,{id:"invite-email",type:"email",placeholder:"email@example.com",value:y,onChange:we=>b(we.target.value)}),s.jsx(te,{onClick:ps,disabled:N||!y.trim(),size:"sm",children:"Invite"})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Members"}),s.jsx("div",{className:"mt-2 border rounded-lg divide-y",children:s.jsxs("div",{className:"flex items-center justify-between p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(_n,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:(r==null?void 0:r.full_name)||"You"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"Owner"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Team management coming soon"})]})]})]}),Ct==="integrations"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Integrations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect external services"})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-blue-500/10 flex items-center justify-center",children:s.jsx(Ze,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"VAPI Voice"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice assistants"})]})]}),C.length>0&&!D&&s.jsx(te,{variant:"outline",size:"sm",onClick:()=>H(!0),children:s.jsx(Ft,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4",children:C.length===0&&!D?s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>H(!0),children:[s.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Connect VAPI"]}):s.jsxs("div",{className:"space-y-3",children:[C.map(we=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:we.org_name||"Unnamed"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Zt(we.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx($t,{className:"w-4 h-4"})})]},we.id)),D&&s.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsx(he,{placeholder:"Organization name",value:L,onChange:we=>M(we.target.value)}),s.jsx(he,{type:"password",placeholder:"Private API key",value:E,onChange:we=>A(we.target.value)})]}),s.jsx(he,{placeholder:"Public key (optional)",value:B,onChange:we=>U(we.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{variant:"outline",size:"sm",onClick:()=>{H(!1),P(),I(),$()},children:"Cancel"}),s.jsx(te,{size:"sm",onClick:lr,disabled:R||!E.trim()||!L.trim(),children:R?"Validating...":"Connect"})]})]})]})})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-green-500/10 flex items-center justify-center",children:s.jsx(Jt,{className:"w-4 h-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"ElevenLabs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp agents"})]})]}),z.length>0&&!re&&s.jsx(te,{variant:"outline",size:"sm",onClick:()=>je(!0),children:s.jsx(Ft,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4",children:z.length===0&&!re?s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>je(!0),children:[s.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Connect ElevenLabs"]}):s.jsxs("div",{className:"space-y-3",children:[z.map(we=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:we.org_name||"Unnamed"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Ye(we.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx($t,{className:"w-4 h-4"})})]},we.id)),re&&s.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsx(he,{placeholder:"Connection name",value:W,onChange:we=>K(we.target.value)}),s.jsx(he,{type:"password",placeholder:"API key",value:O,onChange:we=>T(we.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{variant:"outline",size:"sm",onClick:()=>{je(!1),q(),G()},children:"Cancel"}),s.jsx(te,{size:"sm",onClick:yt,disabled:V||!O.trim()||!W.trim(),children:V?"Validating...":"Connect"})]})]})]})})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-purple-500/10 flex items-center justify-center",children:s.jsx(Ze,{className:"w-4 h-4 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"OpenAI"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots & AI features"})]})]}),be.length>0&&!Ie&&s.jsx(te,{variant:"outline",size:"sm",onClick:()=>nt(!0),children:s.jsx(Ft,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4",children:be.length===0&&!Ie?s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>nt(!0),children:[s.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Connect OpenAI"]}):s.jsxs("div",{className:"space-y-3",children:[be.map(we=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:we.org_name}),we.is_active&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-primary/10 text-primary rounded",children:"Active"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Kt(we.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx($t,{className:"w-4 h-4"})})]},we.id)),Ie&&s.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsx(he,{placeholder:"Organization name",value:me,onChange:we=>Ne(we.target.value)}),s.jsx(he,{type:"password",placeholder:"sk-proj-...",value:Z,onChange:we=>ge(we.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{variant:"outline",size:"sm",onClick:()=>{nt(!1),ke(),oe()},children:"Cancel"}),s.jsx(te,{size:"sm",onClick:qt,disabled:de||!Z.trim()||!me.trim(),children:de?"Connecting...":"Connect"})]})]})]})})]}),s.jsx(bqe,{})]})]})})]}):s.jsx("div",{children:"Please log in to view settings."})},jqe=()=>{const{user:e}=Ut();return e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Billing & Subscription"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription and billing information"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cse,{className:"w-5 h-5 text-primary"}),s.jsx(ie,{children:"Current Plan"})]}),s.jsx(xe,{variant:"default",children:"Free Tier"})]}),s.jsx(Se,{children:"You are currently on the free tier"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Monthly message limit"}),s.jsx("span",{className:"font-medium",children:"1,000 messages"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Chatbots"}),s.jsx("span",{className:"font-medium",children:"Up to 3"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Analytics"}),s.jsx("span",{className:"font-medium",children:"Basic"})]}),s.jsxs(te,{className:"w-full",children:[s.jsx(Mo,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(PU,{className:"w-5 h-5 text-primary"}),s.jsx(ie,{children:"Payment Method"})]}),s.jsx(Se,{children:"Manage your payment methods"})]}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment method on file"}),s.jsx(te,{variant:"outline",className:"w-full mt-4",children:"Add Payment Method"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xse,{className:"w-5 h-5 text-primary"}),s.jsx(ie,{children:"Billing History"})]}),s.jsx(Se,{children:"View your past invoices and receipts"})]}),s.jsx(ee,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]})]})]}):s.jsx("div",{children:"Please log in to view billing information."})};function _qe({chatbotId:e}){const[t,n]=g.useState([]),[r,a]=g.useState(!0),[i,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(!1),[h,f]=g.useState(""),[m,v]=g.useState(""),[p,x]=g.useState(""),[y,b]=g.useState(""),[w,j]=g.useState("Thank you for submitting the form!"),[N,S]=g.useState(!1),[C,k]=g.useState(""),[E,A]=g.useState("New Form Submission"),[P,B]=g.useState(!1),[U,I]=g.useState(""),[L,M]=g.useState(""),[$,R]=g.useState(!1),[F,D]=g.useState([]);g.useEffect(()=>{e&&H()},[e]);const H=async()=>{try{const{data:V,error:se}=await Y.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(se)throw se;n((V||[]).map(re=>({...re,fields:Array.isArray(re.fields)?re.fields:[]})))}catch(V){console.error("Error fetching forms:",V),pe.error("Failed to load forms")}finally{a(!1)}},z=()=>{f(""),v(""),x(""),b(""),j("Thank you for submitting the form!"),S(!1),k(""),A("New Form Submission"),B(!1),I(""),M(""),R(!1),D([]),c(null),d(!1)},_=V=>{c(V),f(V.form_name),v(V.form_title),x(V.form_description||""),b(V.trigger_keywords.join(", ")),j(V.success_message),S(V.notify_email||!1),k(V.notification_email||""),A(V.email_subject||"New Form Submission"),B(V.webhook_enabled||!1),I(V.webhook_url||""),M(V.terms_and_conditions||""),R(V.require_terms_acceptance||!1),D(V.fields),d(!0)},O=()=>{const V={id:`field_${Date.now()}`,type:"text",label:"New Field",required:!1};D(se=>[...se,V])},T=(V,se)=>{D(re=>re.map((je,be)=>be===V?{...je,...se}:je))},q=V=>{D(se=>se.filter((re,je)=>je!==V))},W=async()=>{if(!h.trim()||!m.trim()||F.length===0){pe.error("Please fill in all required fields and add at least one form field");return}if(N&&!C.trim()){pe.error("Please enter a notification email address");return}if(P&&!U.trim()){pe.error("Please enter a webhook URL");return}if($&&!L.trim()){pe.error("Please enter terms and conditions text");return}o(!0);try{const V={chatbot_id:e,form_name:h.trim(),form_title:m.trim(),form_description:p.trim()||null,fields:F,trigger_keywords:y.split(",").map(re=>re.trim()).filter(re=>re),success_message:w.trim(),notify_email:N,notification_email:N&&C.trim()||null,email_subject:E.trim(),webhook_enabled:P,webhook_url:P&&U.trim()||null,terms_and_conditions:L.trim()||null,require_terms_acceptance:$};let se;if(l?se=await Y.from("chatbot_forms").update(V).eq("id",l.id).select():se=await Y.from("chatbot_forms").insert(V).select(),se.error)throw se.error;pe.success(l?"Form updated successfully!":"Form created successfully!"),z(),H()}catch(V){console.error("Error saving form:",V),pe.error("Failed to save form")}finally{o(!1)}},K=async(V,se)=>{try{const{error:re}=await Y.from("chatbot_forms").update({is_active:!se}).eq("id",V);if(re)throw re;pe.success(`Form ${se?"deactivated":"activated"} successfully`),H()}catch(re){console.error("Error updating form status:",re),pe.error("Failed to update form status")}},G=async V=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:se}=await Y.from("chatbot_forms").delete().eq("id",V);if(se)throw se;pe.success("Form deleted successfully"),H()}catch(se){console.error("Error deleting form:",se),pe.error("Failed to delete form")}};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Chatbot Forms"}),s.jsx("p",{className:"text-muted-foreground",children:"Create forms that your chatbot can send to users"})]}),s.jsxs(zn,{open:u,onOpenChange:V=>{V||z(),d(V)},children:[s.jsx(qu,{asChild:!0,children:s.jsxs(te,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Create Form"]})}),s.jsxs(Dn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(In,{children:s.jsx(Rn,{children:l?"Edit Form":"Create New Form"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"form-name",children:"Form Name *"}),s.jsx(he,{id:"form-name",placeholder:"Contact Form",value:h,onChange:V=>f(V.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"form-title",children:"Form Title *"}),s.jsx(he,{id:"form-title",placeholder:"Get in Touch",value:m,onChange:V=>v(V.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"form-description",children:"Form Description"}),s.jsx(dt,{id:"form-description",placeholder:"Please fill out this form so we can help you better.",value:p,onChange:V=>x(V.target.value),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"trigger-keywords",children:"Trigger Keywords"}),s.jsx(he,{id:"trigger-keywords",placeholder:"contact, form, get in touch",value:y,onChange:V=>b(V.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated keywords that trigger this form"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"success-message",children:"Success Message"}),s.jsx(he,{id:"success-message",value:w,onChange:V=>j(V.target.value)})]})]}),s.jsx(ls,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"notify-email",checked:N,onCheckedChange:S}),s.jsx(ne,{htmlFor:"notify-email",children:"Send email notification when form is submitted"})]}),N&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"notification-email",children:"Notification Email *"}),s.jsx(he,{id:"notification-email",type:"email",placeholder:"notifications@example.com",value:C,onChange:V=>k(V.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address to receive form submissions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(he,{id:"email-subject",placeholder:"New Form Submission",value:E,onChange:V=>A(V.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"webhook-enabled",checked:P,onCheckedChange:B}),s.jsx(ne,{htmlFor:"webhook-enabled",children:"Send webhook when form is submitted"})]}),P&&s.jsx("div",{className:"pl-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"webhook-url",children:"Webhook URL *"}),s.jsx(he,{id:"webhook-url",type:"url",placeholder:"https://your-webhook-endpoint.com/webhook",value:U,onChange:V=>I(V.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL where form data will be sent as POST request with JSON payload"})]})})]})]}),s.jsx(ls,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Terms and Conditions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"require-terms",checked:$,onCheckedChange:R}),s.jsx(ne,{htmlFor:"require-terms",children:"Require users to accept terms and conditions"})]}),$&&s.jsxs("div",{className:"pl-6 space-y-2",children:[s.jsx(ne,{htmlFor:"terms-text",children:"Terms and Conditions Text *"}),s.jsx(dt,{id:"terms-text",placeholder:"By submitting this form, you agree to our privacy policy and terms of service...",value:L,onChange:V=>M(V.target.value),rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This text will be displayed to users who must accept it before submitting the form"})]})]})]}),s.jsx(ls,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Form Fields"}),s.jsxs(te,{onClick:O,variant:"outline",size:"sm",children:[s.jsx(Ft,{className:"h-4 w-4 mr-1"}),"Add Field"]})]}),F.map((V,se)=>s.jsx(J,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end",children:[s.jsxs("div",{className:"col-span-3",children:[s.jsx(ne,{children:"Field Type"}),s.jsxs(He,{value:V.type,onValueChange:re=>T(se,{type:re}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"text",children:"Text"}),s.jsx(ue,{value:"email",children:"Email"}),s.jsx(ue,{value:"phone",children:"Phone"}),s.jsx(ue,{value:"number",children:"Number"}),s.jsx(ue,{value:"date",children:"Date"}),s.jsx(ue,{value:"textarea",children:"Textarea"}),s.jsx(ue,{value:"select",children:"Select"}),s.jsx(ue,{value:"radio",children:"Radio"}),s.jsx(ue,{value:"checkbox",children:"Checkbox"})]})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(ne,{children:"Label"}),s.jsx(he,{value:V.label,onChange:re=>T(se,{label:re.target.value}),placeholder:"Field label"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(ne,{children:"Placeholder"}),s.jsx(he,{value:V.placeholder||"",onChange:re=>T(se,{placeholder:re.target.value}),placeholder:"Placeholder text"})]}),(V.type==="select"||V.type==="radio"||V.type==="checkbox")&&s.jsxs("div",{className:"col-span-2",children:[s.jsx(ne,{children:"Options"}),s.jsx(he,{value:(V.options||[]).join(", "),onChange:re=>T(se,{options:re.target.value.split(",").map(je=>je.trim()).filter(je=>je)}),placeholder:"Option 1, Option 2"})]}),s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{checked:V.required||!1,onCheckedChange:re=>T(se,{required:re})}),s.jsx(ne,{className:"text-xs",children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(te,{onClick:()=>q(se),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx($t,{className:"h-4 w-4"})})})]})},V.id)),F.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Cn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:'No fields added yet. Click "Add Field" to get started.'})]})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(te,{onClick:W,disabled:i,children:i?"Saving...":l?"Update Form":"Create Form"})})]})]})]})]}),t.length===0?s.jsx(J,{className:"text-center py-12",children:s.jsxs(ee,{children:[s.jsx(Cn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No forms created yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first form to collect information from chat users"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(V=>s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),V.form_title,V.is_active?s.jsx(xe,{variant:"default",children:"Active"}):s.jsx(xe,{variant:"secondary",children:"Inactive"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:V.form_description||"No description provided"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(te,{onClick:()=>K(V.id,V.is_active),variant:"outline",size:"sm",children:[s.jsx(As,{className:"h-4 w-4 mr-1"}),V.is_active?"Deactivate":"Activate"]}),s.jsxs(te,{onClick:()=>_(V),variant:"outline",size:"sm",children:[s.jsx(hse,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(te,{onClick:()=>G(V.id),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[s.jsx($t,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fields:"}),s.jsx("span",{className:"font-medium",children:V.fields.length})]}),V.trigger_keywords.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggers:"}),s.jsx("div",{className:"flex gap-1",children:V.trigger_keywords.map(se=>s.jsx(xe,{variant:"outline",className:"text-xs",children:se},se))})]}),V.notify_email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email notifications:"}),s.jsx(xe,{variant:"secondary",className:"text-xs",children:V.notification_email})]})]})})]},V.id))})]})}function Nqe({chatbotId:e}){const[t,n]=g.useState([]),[r,a]=g.useState(!0),[i,o]=g.useState(null);g.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:h,error:f}=await Y.from("chatbot_forms").select("id").eq("chatbot_id",e);if(f||!h||h.length===0){n([]);return}const m=h.map(x=>x.id),{data:v,error:p}=await Y.from("form_submissions").select(`
          *,
          chatbot_forms(form_name, form_title, form_description, fields)
        `).in("form_id",m).order("submitted_at",{ascending:!1});if(p)throw p;n((v||[]).map(x=>({...x,submitted_data:typeof x.submitted_data=="object"?x.submitted_data:{},chatbot_forms:x.chatbot_forms&&typeof x.chatbot_forms=="object"?x.chatbot_forms:{form_name:"Unknown Form",form_title:"Unknown Form",fields:[]}})))}catch(h){console.error("Error fetching form submissions:",h),pe.error("Failed to load form submissions")}finally{a(!1)}},c=()=>{if(t.length===0)return;const h=t.map(y=>{const b={"Form Name":y.chatbot_forms.form_name,"Submitted At":ct(new Date(y.submitted_at),"yyyy-MM-dd HH:mm:ss"),"Visitor ID":y.visitor_id||"Anonymous",Status:y.status};return Object.entries(y.submitted_data).forEach(([w,j])=>{b[w]=Array.isArray(j)?j.join(", "):j}),b}),f=Object.keys(h[0]),m=[f.join(","),...h.map(y=>f.map(b=>`"${y[b]||""}"`).join(","))].join(`
`),v=new Blob([m],{type:"text/csv"}),p=window.URL.createObjectURL(v),x=document.createElement("a");x.href=p,x.download=`form-submissions-${ct(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(p),pe.success("Form submissions exported successfully")},u=(h,f)=>Array.isArray(f)?f.join(", "):h.type==="date"&&f?ct(new Date(f),"PPP"):(f==null?void 0:f.toString())||"Not provided",d=(h,f)=>{const m=f.find(v=>v.id===h);return(m==null?void 0:m.label)||h};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Form Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbot"})]}),t.length>0&&s.jsxs(te,{onClick:c,variant:"outline",children:[s.jsx(Qre,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),t.length===0?s.jsx(J,{className:"text-center py-12",children:s.jsxs(ee,{children:[s.jsx(Cn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No form submissions yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Form submissions from your chatbot will appear here"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(h=>s.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Cn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:h.chatbot_forms.form_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-4 w-4"}),ct(new Date(h.submitted_at),"PPP p")]}),h.visitor_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"h-4 w-4"}),h.visitor_id]}),h.conversation_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Conversation"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{variant:h.status==="submitted"?"default":"secondary",children:h.status}),s.jsxs(zn,{children:[s.jsx(qu,{asChild:!0,children:s.jsxs(te,{onClick:()=>o(h),variant:"outline",size:"sm",children:[s.jsx(oa,{className:"h-4 w-4 mr-1"}),"View Details"]})}),s.jsxs(Dn,{className:"max-w-2xl",children:[s.jsx(In,{children:s.jsxs(Rn,{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),h.chatbot_forms.form_title]})}),s.jsx($a,{className:"max-h-[60vh]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Submission Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"}),s.jsx("p",{className:"font-medium",children:ct(new Date(h.submitted_at),"PPP p")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("p",{className:"font-medium capitalize",children:h.status})]}),h.visitor_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Visitor ID:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.visitor_id})]}),h.conversation_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversation:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.conversation_id})]})]})]}),s.jsx(ls,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Form Responses"}),Object.entries(h.submitted_data).map(([f,m])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:d(f,h.chatbot_forms.fields)}),s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm text-foreground",children:u(h.chatbot_forms.fields.find(v=>v.id===f),m)})})]},f))]})]})})]})]})]})]})}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:h.chatbot_forms.form_description||"No description provided"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(h.submitted_data).slice(0,3).map(([f,m])=>s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs",children:[s.jsxs("span",{className:"font-medium",children:[d(f,h.chatbot_forms.fields),":"]}),s.jsx("span",{className:"ml-1",children:Array.isArray(m)?m.slice(0,2).join(", ")+(m.length>2?"...":""):((m==null?void 0:m.toString().slice(0,30))||"N/A")+((m==null?void 0:m.toString().length)>30?"...":"")})]},f)),Object.keys(h.submitted_data).length>3&&s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs text-muted-foreground",children:["+",Object.keys(h.submitted_data).length-3," more"]})]})]})})]},h.id))})]})}function Sqe(){const{user:e}=Ut(),[t,n]=g.useState([]),[r,a]=g.useState(""),[i,o]=g.useState(!0);g.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:c,error:u}=await Y.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(u)throw u;n(c||[]),a("")}catch(c){console.error("Error fetching chatbots:",c),pe.error("Failed to load chatbots")}finally{o(!1)}};return e?i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Loading..."})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage forms and view submissions for your chatbots"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(He,{value:r,onValueChange:a,children:[s.jsx(Ve,{className:"w-64",children:s.jsx(Ge,{placeholder:"Select a chatbot"})}),s.jsx(We,{children:t.map(c=>s.jsx(ue,{value:c.id,children:c.name},c.id))})]})})]}),s.jsx(ls,{}),r?s.jsxs(Gu,{defaultValue:"forms",className:"space-y-6",children:[s.jsxs(vc,{children:[s.jsx(tn,{value:"forms",children:"Forms"}),s.jsx(tn,{value:"submissions",children:"Submissions"})]}),s.jsx(nn,{value:"forms",children:s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Manage Forms"})}),s.jsx(ee,{children:s.jsx(_qe,{chatbotId:r})})]})}),s.jsx(nn,{value:"submissions",children:s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Form Submissions"})}),s.jsx(ee,{children:s.jsx(Nqe,{chatbotId:r})})]})})]}):s.jsx(J,{children:s.jsx(ee,{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground mb-4",children:t.length===0?"No chatbots found. Create a chatbot first to manage forms.":"Select a chatbot to manage its forms and view submissions."})})})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Please log in to access this page."})})}function Cqe({chatbotId:e,chatbotName:t,onBack:n}){const{toast:r}=En(),a=g.useRef(null),[i,o]=g.useState("Untitled Flow"),[l,c]=g.useState(""),[u,d]=g.useState(!1),[h,f]=g.useState(!1),[m,v]=g.useState([{id:"start",type:"start",content:"Start",position:{x:0,y:0}}]),[p,x]=g.useState([]),[y,b]=g.useState(1),[w,j]=g.useState(null),[N,S]=g.useState({x:0,y:0}),[C,k]=g.useState(!1),[E,A]=g.useState({x:0,y:0}),[P,B]=g.useState(null),[U,I]=g.useState({x:0,y:0}),[L,M]=g.useState(!1),[$,R]=g.useState(null),[F,D]=g.useState({x:0,y:0}),H=m.filter(oe=>oe.type==="trigger").length,z=m.filter(oe=>oe.type==="action").length,_=()=>{r({title:"Flow saved",description:`"${i}" has been saved successfully.`})},O=oe=>{const de={id:`node-${Date.now()}`,type:oe,content:oe.charAt(0).toUpperCase()+oe.slice(1),position:{x:(Math.random()-.5)*300,y:(Math.random()-.5)*300},...oe==="trigger"&&{triggerType:"time-on-page",triggerValue:"5s"},...oe==="action"&&{actionType:"show-message",actionValue:" Hi there! How can I help you today?",actionDelay:0}};v([...m,de]),r({title:`${oe.charAt(0).toUpperCase()+oe.slice(1)} added`,description:"Node has been added to your flow"})},T=(oe,de)=>{v(Pe=>Pe.map(Ie=>Ie.id===oe?{...Ie,triggerType:de}:Ie))},q=(oe,de)=>{v(Pe=>Pe.map(Ie=>Ie.id===oe?{...Ie,actionType:de}:Ie))},W=(oe,de)=>{v(Pe=>Pe.map(Ie=>Ie.id===oe?{...Ie,actionValue:de}:Ie))},K=(oe,de)=>{v(Pe=>Pe.map(Ie=>Ie.id===oe?{...Ie,actionDelay:de}:Ie))},G=oe=>{oe!=="start"&&(v(de=>de.filter(Pe=>Pe.id!==oe)),r({title:"Node deleted",description:"Node has been removed from your flow"}))},V=()=>{b(oe=>Math.min(oe+.1,2))},se=()=>{b(oe=>Math.max(oe-.1,.5))},re=()=>{b(1),S({x:0,y:0})},je=oe=>{oe.button===0&&!P&&(k(!0),A({x:oe.clientX-N.x,y:oe.clientY-N.y}),a.current&&(a.current.style.cursor="grabbing"))},be=oe=>{if(C&&!P&&!L)S({x:oe.clientX-E.x,y:oe.clientY-E.y});else if(P)ge(oe);else if(L&&a.current){const de=a.current.getBoundingClientRect();D({x:oe.clientX-de.left,y:oe.clientY-de.top})}},ce=()=>{k(!1),B(null),M(!1),R(null),a.current&&(a.current.style.cursor="grab")},Z=(oe,de)=>{var $e;oe.stopPropagation();const Pe=m.find(Xe=>Xe.id===de);if(!Pe)return;B(de);const Ie=($e=a.current)==null?void 0:$e.getBoundingClientRect();if(!Ie)return;const nt=Ie.width/2,Q=Ie.height/2,fe=nt+Pe.position.x*y+N.x,Te=Q+Pe.position.y*y+N.y;I({x:oe.clientX-fe,y:oe.clientY-Te})},ge=oe=>{if(!P||!a.current)return;const de=a.current.getBoundingClientRect(),Pe=de.width/2,Ie=de.height/2,nt=oe.clientX-U.x,Q=oe.clientY-U.y,fe=(nt-Pe-N.x)/y,Te=(Q-Ie-N.y)/y;v($e=>$e.map(Xe=>Xe.id===P?{...Xe,position:{x:fe,y:Te}}:Xe))},ke=(oe,de,Pe)=>{if(oe.stopPropagation(),M(!0),R({nodeId:de,point:Pe}),a.current){const Ie=a.current.getBoundingClientRect();D({x:oe.clientX-Ie.left,y:oe.clientY-Ie.top})}},me=(oe,de,Pe)=>{if(oe.stopPropagation(),L&&$&&$.nodeId!==de){const Ie={id:`conn-${Date.now()}`,sourceId:$.nodeId,targetId:de,sourcePoint:$.point,targetPoint:Pe};x(nt=>[...nt,Ie]),r({title:"Nodes connected",description:"Connection has been created"})}M(!1),R(null)},Ne=oe=>{const de=m.find(Q=>Q.id===oe);if(!de||!a.current)return{x:0,y:0};const Pe=a.current.getBoundingClientRect(),Ie=Pe.width/2,nt=Pe.height/2;return{x:Ie+de.position.x*y+N.x,y:nt+de.position.y*y+N.y}};return g.useEffect(()=>{const oe=()=>{k(!1),B(null),M(!1),R(null)};return window.addEventListener("mouseup",oe),()=>window.removeEventListener("mouseup",oe)},[]),s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"border-b bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex-1",children:[u?s.jsx(he,{value:i,onChange:oe=>o(oe.target.value),onBlur:()=>d(!1),autoFocus:!0,className:"text-lg font-semibold max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto"}):s.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-muted-foreground transition-colors",onClick:()=>d(!0),children:i}),h?s.jsx(he,{value:l,onChange:oe=>c(oe.target.value),onBlur:()=>f(!1),placeholder:"Add a description...",autoFocus:!0,className:"text-sm text-muted-foreground max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto mt-1"}):s.jsx("p",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground transition-colors",onClick:()=>f(!0),children:l||"Add a description..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(xe,{variant:"secondary",className:"gap-1.5",children:[s.jsx(tse,{className:"h-3 w-3"}),H," Triggers"]}),s.jsxs(xe,{variant:"secondary",className:"gap-1.5",children:[s.jsx(Mo,{className:"h-3 w-3"}),z," Actions"]}),s.jsx(te,{variant:"outline",size:"sm",children:"Templates"}),s.jsx(te,{variant:"ghost",size:"icon",children:s.jsx(As,{className:"h-4 w-4"})}),s.jsx(te,{onClick:_,size:"sm",children:"Save Flow"}),s.jsx(te,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(Qi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 pb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Add Node:"}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>O("trigger"),children:[s.jsx(Ft,{className:"h-3 w-3 mr-1"}),"Trigger"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>O("action"),children:[s.jsx(Ft,{className:"h-3 w-3 mr-1"}),"Action"]})]})]}),s.jsxs("div",{ref:a,className:"flex-1 relative overflow-hidden bg-muted/20",style:{cursor:C?"grabbing":L?"crosshair":"grab"},onMouseDown:je,onMouseMove:be,onMouseUp:ce,onMouseLeave:ce,children:[s.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[p.map(oe=>{const de=m.find(Xe=>Xe.id===oe.sourceId),Pe=m.find(Xe=>Xe.id===oe.targetId);if(!de||!Pe||!a.current)return null;const Ie=a.current.getBoundingClientRect(),nt=Ie.width/2,Q=Ie.height/2,fe={x:nt+de.position.x*y+N.x,y:Q+de.position.y*y+N.y+(oe.sourcePoint==="bottom"?24:-24)},Te={x:nt+Pe.position.x*y+N.x,y:Q+Pe.position.y*y+N.y+(oe.targetPoint==="top"?-24:24)},$e=(fe.y+Te.y)/2;return s.jsx("path",{d:`M ${fe.x} ${fe.y} L ${fe.x} ${$e} L ${Te.x} ${$e} L ${Te.x} ${Te.y}`,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",fill:"none",strokeDasharray:"6,6",className:"opacity-60",style:{animation:"flowLine 1s linear infinite"}},oe.id)}),L&&$&&a.current&&(()=>{const oe=Ne($.nodeId),de=oe.y+($.point==="bottom"?24:-24),Pe=Math.abs(de-F.y)/4;return s.jsx("path",{d:`M ${oe.x} ${de} C ${oe.x} ${de+Pe}, ${F.x} ${F.y-Pe}, ${F.x} ${F.y}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",className:"opacity-60"})})()]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:`translate(${N.x}px, ${N.y}px) scale(${y})`,transformOrigin:"center center",transition:C?"none":"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:s.jsx("div",{className:"relative w-full h-full",children:m.map(oe=>s.jsxs("div",{className:"absolute select-none",style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${oe.position.x}px), calc(-50% + ${oe.position.y}px))`,pointerEvents:"auto"},children:[oe.type!=="start"&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:de=>ke(de,oe.id,"top"),onMouseUp:de=>me(de,oe.id,"top")}),s.jsx("div",{className:"relative",onMouseDown:de=>Z(de,oe.id),children:oe.type==="start"?s.jsxs(te,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg cursor-grab",size:"lg",children:[s.jsx(gse,{className:"h-4 w-4 mr-2 fill-current"}),oe.content]}):oe.type==="trigger"?s.jsx("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg p-3 min-w-[240px] cursor-grab",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Dt,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs(He,{value:oe.triggerType,onValueChange:de=>T(oe.id,de),children:[s.jsx(Ve,{className:"border-none bg-transparent p-0 h-auto font-medium focus:ring-0",onClick:de=>de.stopPropagation(),onMouseDown:de=>de.stopPropagation(),children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"time-on-page",children:"Time on Page"}),s.jsx(ue,{value:"click",children:"Click Event"}),s.jsx(ue,{value:"scroll",children:"Scroll Depth"}),s.jsx(ue,{value:"message",children:"Message Received"})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:oe.triggerValue||"5s"})]}),s.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:de=>{de.stopPropagation(),G(oe.id)},onMouseDown:de=>de.stopPropagation(),children:s.jsx($t,{className:"h-4 w-4"})})]})}):oe.type==="action"?s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg min-w-[240px]",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-grab",onClick:de=>{(de.target===de.currentTarget||de.target.closest(".node-header"))&&j(w===oe.id?null:oe.id)},children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center node-header",children:s.jsx(Ht,{className:"h-5 w-5 text-primary"})}),s.jsx("div",{className:"flex-1 min-w-0 node-header",children:s.jsx("div",{className:"font-medium",children:"Show Message"})}),s.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:de=>{de.stopPropagation(),G(oe.id)},onMouseDown:de=>de.stopPropagation(),children:s.jsx($t,{className:"h-4 w-4"})}),s.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8 node-header",onClick:de=>{de.stopPropagation(),j(w===oe.id?null:oe.id)},onMouseDown:de=>de.stopPropagation(),children:w===oe.id?s.jsx($P,{className:"h-4 w-4"}):s.jsx(ic,{className:"h-4 w-4"})})]}),w===oe.id&&s.jsxs("div",{className:"px-3 pb-3 space-y-3 border-t border-border/50 pt-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsxs(He,{value:oe.actionType,onValueChange:de=>q(oe.id,de),children:[s.jsx(Ve,{className:"w-full",onClick:de=>de.stopPropagation(),onMouseDown:de=>de.stopPropagation(),children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"show-message",children:"Show Message"}),s.jsx(ue,{value:"send-email",children:"Send Email"}),s.jsx(ue,{value:"webhook",children:"Call Webhook"}),s.jsx(ue,{value:"redirect",children:"Redirect"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Message"}),s.jsx(dt,{value:oe.actionValue||"",onChange:de=>W(oe.id,de.target.value),placeholder:" Hi there! How can I help you today?",className:"min-h-[80px] resize-none",onClick:de=>de.stopPropagation(),onMouseDown:de=>de.stopPropagation()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delay (ms)"}),s.jsx(he,{type:"number",value:oe.actionDelay||0,onChange:de=>K(oe.id,parseInt(de.target.value)||0),placeholder:"0",className:"w-full",onClick:de=>de.stopPropagation(),onMouseDown:de=>de.stopPropagation()})]})]})]}):s.jsx(te,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg cursor-grab",size:"lg",children:oe.content})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:de=>ke(de,oe.id,"bottom"),onMouseUp:de=>me(de,oe.id,"bottom")})]},oe.id))})}),s.jsxs("div",{className:"absolute bottom-6 left-6 flex flex-col bg-card border rounded-lg shadow-lg overflow-hidden",children:[s.jsx(te,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:V,children:s.jsx(Nse,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(te,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:se,children:s.jsx(Sse,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(te,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:re,children:s.jsx(Kp,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"absolute bottom-6 left-24 bg-card border rounded-lg shadow-lg px-3 py-2 text-sm text-muted-foreground",children:[Math.round(y*100),"%"]})]})]})}function kqe(){const[e,t]=g.useState(""),[n,r]=g.useState(!1),{toast:a}=En(),{data:i,isLoading:o}=Woe({queryKey:["chatbots"],queryFn:async()=>{const{data:{user:u}}=await Y.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:h}=await Y.from("chatbots").select("id, name").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;return d}}),l=i==null?void 0:i.find(u=>u.id===e),c=()=>{if(!e){a({title:"Select a chatbot",description:"Please select a chatbot first to create a flow.",variant:"destructive"});return}r(!0)};return n&&l?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(Cqe,{chatbotId:l.id,chatbotName:l.name,onBack:()=>r(!1)})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Conversation Flows"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Create custom conversation flows for your chatbots"})]}),s.jsxs(te,{onClick:c,disabled:!e,children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Create Flow"]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-5 w-5"}),"Select Chatbot"]}),s.jsx(Se,{children:"Choose a chatbot to manage its conversation flows"})]}),s.jsx(ee,{children:s.jsxs(He,{value:e,onValueChange:t,children:[s.jsx(Ve,{className:"w-full",children:s.jsx(Ge,{placeholder:"Select a chatbot..."})}),s.jsx(We,{children:o?s.jsx(ue,{value:"loading",disabled:!0,children:"Loading chatbots..."}):i&&i.length>0?i.map(u=>s.jsx(ue,{value:u.id,children:u.name},u.id)):s.jsx(ue,{value:"none",disabled:!0,children:"No chatbots available"})})]})})]}),l&&s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(sC,{className:"h-5 w-5"}),"Flows for ",l.name]}),s.jsx(Se,{children:"Manage conversation flows for this chatbot"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(sC,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No flows yet"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Create your first conversation flow to guide users through custom interactions"}),s.jsxs(te,{onClick:c,children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Create Your First Flow"]})]})})]})]})}const o5={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"},oK=g.createContext({branding:null,loading:!0,refetch:async()=>{}});function Eqe({children:e}){const[t,n]=g.useState(null),[r,a]=g.useState(!0),i=async(o=!0)=>{var l;try{o&&a(!0),console.log("[Branding] Fetching branding settings...",o?"(initial)":"(background)");const{data:{session:c}}=await Y.auth.getSession();if(!((l=c==null?void 0:c.user)!=null&&l.email)){console.log("[Branding] No user session found"),n(o5),o&&a(!1);return}const u=c.user.email;console.log("[Branding] User email:",u);const d=await Iq(u);console.log("[Branding] Fetched branding:",d),n(d),o&&a(!1)}catch(c){console.error("[Branding] Error:",c),n(o5),o&&a(!1)}};return g.useEffect(()=>{i(!0);const{data:{subscription:o}}=Y.auth.onAuthStateChange(l=>{console.log("[Branding] Auth state changed:",l),l==="SIGNED_IN"?i(!0):l==="TOKEN_REFRESHED"&&i(!1)});return()=>o.unsubscribe()},[]),s.jsx(oK.Provider,{value:{branding:t,loading:r,refetch:i},children:e})}function Pqe(){const e=g.useContext(oK);if(e===void 0)throw new Error("useBranding must be used within a BrandingProvider");return e}function VE(e){e=e.replace("#",""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,a=Math.max(t,n,r),i=Math.min(t,n,r);let o=0,l=0;const c=(a+i)/2;if(a!==i){const u=a-i;switch(l=c>.5?u/(2-a-i):u/(a+i),a){case t:o=((n-r)/u+(n<r?6:0))/6;break;case n:o=((r-t)/u+2)/6;break;case r:o=((t-n)/u+4)/6;break}}return`${Math.round(o*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%`}function Aqe(){const[e,t]=g.useState(""),[n,r]=g.useState(""),[a,i]=g.useState(!1),[o,l]=g.useState(Ly),[c,u]=g.useState(!1),[d,h]=g.useState(!1),{signIn:f,signInWithGoogle:m}=hs(),v=Ar();g.useEffect(()=>{(async()=>{const w=pfe();if(h(w),w){const j=gfe(),N=await mfe(j);N.found&&N.branding&&(l({logo_url:N.branding.logo_url||null,primary_color:N.branding.primary_color,secondary_color:N.branding.secondary_color}),u(!0))}})()},[]),g.useEffect(()=>{if(o.primary_color!==Ly.primary_color){const b=document.documentElement,w=VE(o.primary_color);return b.style.setProperty("--primary",w),()=>{b.style.removeProperty("--primary")}}},[o]),g.useEffect(()=>{if(d)return;if(!e||!e.includes("@")){l(Ly),u(!1);return}const b=setTimeout(async()=>{const w=await Iq(e);l(w),u(!0)},500);return()=>clearTimeout(b)},[e,d]);const p=async b=>{b.preventDefault(),i(!0);try{const{error:w}=await f(e,n);w?pe.error(w.message||"Failed to sign in"):(pe.success("Signed in successfully"),v("/customer-dashboard"))}catch{pe.error("An unexpected error occurred")}finally{i(!1)}},x=async()=>{const{error:b}=await m();b&&pe.error(b.message||"Failed to sign in with Google")},y=o.logo_url||ou;return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:y,alt:"Logo",className:"h-16 max-w-[200px] object-contain transition-all duration-300"})})}),s.jsxs(J,{className:"border shadow-lg",children:[s.jsxs(ae,{className:"text-center",children:[s.jsxs(ie,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(Fa,{className:"h-5 w-5 text-primary"}),"Customer Portal"]}),s.jsx(Se,{children:"Sign in to access your AI agent analytics"})]}),s.jsxs(ee,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(he,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:b=>t(b.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"password",children:"Password"}),s.jsx(he,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:b=>r(b.target.value),required:!0})]}),s.jsx(te,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(te,{type:"button",variant:"outline",onClick:x,className:"w-full",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Contact your AI agent provider for access credentials"})})]})]})]})})}const Tqe=[{title:"Dashboard",url:"/customer-dashboard",icon:UP},{title:"Chatbots",url:"/customer-dashboard/conversations",icon:Ze},{title:"Voice Assistants",url:"/customer-dashboard/voice-assistants",icon:Nt},{title:"WhatsApp Agents",url:"/customer-dashboard/whatsapp-agents",icon:Jt},{title:"Leads",url:"/customer-dashboard/leads",icon:dn},{title:"Support Tickets",url:"/customer-dashboard/support-tickets",icon:sa},{title:"Analytics",url:"/customer-dashboard/analytics",icon:Gl},{title:"Settings",url:"/customer-dashboard/settings",icon:As}];function Oqe({customLogo:e}){const{state:t}=Mf(),n=bi(),{customer:r,signOut:a}=hs(),{theme:i}=kv(),o=n.pathname,l=t==="collapsed",c=m=>m==="/customer-dashboard"?o===m:o.startsWith(m),u=m=>c(m)?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",d=async()=>{await a(),pe.success("Signed out successfully")},f=e||(i==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":ou);return s.jsxs(EA,{className:l?"w-14":"w-64",collapsible:"icon",children:[s.jsx(xV,{className:"border-b p-4 bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:f,alt:"Company Logo",className:"h-8 w-auto max-w-full object-contain"})})}),s.jsxs(PA,{children:[s.jsxs(Yd,{children:[s.jsx(mp,{children:"Navigation"}),s.jsx(Kd,{children:s.jsx(zc,{children:Tqe.map(m=>s.jsx(qc,{children:s.jsx(Vc,{asChild:!0,children:s.jsxs(PC,{to:m.url,end:m.url==="/customer-dashboard",className:u(m.url),children:[s.jsx(m.icon,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:m.title})]})})},m.title))})})]}),s.jsx(Yd,{className:"mt-auto",children:s.jsx(Kd,{children:s.jsx(zc,{children:s.jsx(qc,{children:s.jsx(Vc,{asChild:!0,children:s.jsxs(te,{variant:"ghost",onClick:d,className:"w-full justify-start",children:[s.jsx(zP,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:"Sign Out"})]})})})})})})]})]})}const lK=g.createContext(null);function Mqe({children:e}){const{customer:t,loading:n}=hs(),r=!!t,[a,i]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(null),d=g.useCallback(async()=>{if(!n){if(!r){i([]),l(!1);return}try{l(!0),u(null),console.log("[useCustomerPermissions] Fetching permissions...");const j=await $ge();console.log("[useCustomerPermissions] API response:",j),i(j.permissions||[])}catch(j){console.error("[useCustomerPermissions] Failed to fetch:",j),u(j instanceof Error?j.message:"Failed to load permissions")}finally{l(!1)}}},[r,n]);g.useEffect(()=>{d()},[d]);const h=g.useCallback((j,N,S)=>Wge(a,j,N,S),[a]),f=g.useCallback(j=>h("voice",j,"contribute_faq"),[h]),m=g.useCallback((j,N)=>h(j,N,"view_analytics"),[h]),v=g.useCallback(j=>h("voice",j,"view_calls"),[h]),p=g.useCallback((j,N)=>h(j,N,"view_leads"),[h]),x=g.useCallback(j=>h("voice",j,"view_transcripts"),[h]),y=g.useCallback(j=>h("chatbot",j,"view_conversations"),[h]),b=g.useCallback(j=>h("whatsapp",j,"view_whatsapp_messages"),[h]),w={permissions:a,loading:o,error:c,hasPermission:h,canContributeFAQ:f,canViewAnalytics:m,canViewCalls:v,canViewLeads:p,canViewTranscripts:x,canViewConversations:y,canViewWhatsAppMessages:b,refresh:d};return s.jsx(lK.Provider,{value:w,children:e})}function cK(){const e=g.useContext(lK);if(!e)throw new Error("useCustomerPermissions must be used within a CustomerPermissionsProvider");return e}function Dqe(){const{customer:e,loading:t}=hs(),{branding:n,loading:r}=Pqe();return g.useEffect(()=>{const a="https://api.voxtro.io".replace(/\/$/,""),i=document.createElement("script");return i.src=`${a}/api/widget/90e3f339-4025-4f62-bb91-03366abcfa40/script.js?v=`+Date.now(),i.async=!0,document.head.appendChild(i),()=>{i.parentNode&&i.parentNode.removeChild(i);const o=document.getElementById("voxtro-widget");o&&o.remove()}},[]),g.useEffect(()=>{if(n){const a=document.documentElement,i=VE(n.primary_color);return VE(n.secondary_color),a.style.setProperty("--primary",i),a.style.setProperty("--sidebar-primary",i),a.style.setProperty("--sidebar-accent",i),()=>{a.style.removeProperty("--primary"),a.style.removeProperty("--sidebar-primary"),a.style.removeProperty("--sidebar-accent")}}},[n]),t||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(Mqe,{children:s.jsx(kA,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-muted/10",children:[s.jsx(Oqe,{customLogo:n==null?void 0:n.logo_url}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center px-6 sticky top-0 z-50 shadow-sm",children:[s.jsx(tj,{className:"hover:bg-muted/50 transition-colors"}),s.jsx("div",{className:"ml-4 flex-1",children:s.jsxs("h1",{className:"font-semibold text-lg bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:["Welcome back, ",s.jsx("span",{className:"text-primary",children:e.full_name})]})})]}),s.jsx("main",{className:"flex-1 p-8",children:s.jsx(Mle,{})})]})]})})}):s.jsx(Os,{to:"/customer-login",replace:!0})}function Iqe(){return s.jsx(Eqe,{children:s.jsx(Dqe,{})})}function WE({customerId:e,customerName:t,customerEmail:n,onTicketCreated:r,trigger:a}){const[i,o]=g.useState(!1),[l,c,u]=ys("createTicketDialog_subject",""),[d,h,f]=ys("createTicketDialog_description",""),[m,v,p]=ys("createTicketDialog_priority","medium"),[x,y]=g.useState(!1),b=async w=>{if(w.preventDefault(),!l.trim()||!d.trim()){pe.error("Please fill in all required fields");return}y(!0);try{await tfe({subject:l.trim(),description:d.trim(),priority:m}),pe.success("Support ticket created successfully"),u(),f(),p(),o(!1),r==null||r()}catch(j){console.error("Error creating ticket:",j),pe.error("Failed to create support ticket")}finally{y(!1)}};return s.jsxs(zn,{open:i,onOpenChange:o,children:[s.jsx(qu,{asChild:!0,children:a||s.jsxs(te,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),s.jsxs(Dn,{className:"sm:max-w-[500px]",children:[s.jsxs(In,{children:[s.jsx(Rn,{children:"Create Support Ticket"}),s.jsx(la,{children:"Describe your issue and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"subject",children:["Subject ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(he,{id:"subject",placeholder:"Brief summary of your issue",value:l,onChange:w=>c(w.target.value),disabled:x})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"priority",children:"Priority"}),s.jsxs(He,{value:m,onValueChange:v,disabled:x,children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select priority"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"low",children:"Low"}),s.jsx(ue,{value:"medium",children:"Medium"}),s.jsx(ue,{value:"high",children:"High"}),s.jsx(ue,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"description",children:["Description ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(dt,{id:"description",placeholder:"Please describe your issue in detail...",value:d,onChange:w=>h(w.target.value),rows:5,disabled:x})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(te,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:x,children:"Cancel"}),s.jsxs(te,{type:"submit",disabled:x||!l.trim()||!d.trim(),children:[s.jsx(xu,{className:"h-4 w-4 mr-2"}),x?"Creating...":"Create Ticket"]})]})]})]})]})}const Rqe={voice:{icon:Nt,iconColor:"text-chart-5",bgGradient:"from-chart-5/20 via-chart-5/5 to-transparent",title:"Voice Assistants",subtitle:"Transform Your Customer Calls",description:"AI-powered voice assistants that handle calls 24/7, qualify leads, and schedule appointments with natural conversations.",features:[{icon:TU,title:"24/7 Availability",description:"Never miss a call. Your AI assistant is always ready to help customers."},{icon:Mo,title:"Instant Response",description:"Zero wait times. Customers get immediate, accurate answers."},{icon:Gl,title:"Call Analytics",description:"Full transcripts, recordings, and insights from every conversation."},{icon:Es,title:"Multi-Language",description:"Support customers in multiple languages automatically."}],stats:[{value:"90%",label:"Call Resolution Rate"},{value:"24/7",label:"Availability"},{value:"< 1s",label:"Response Time"}]},whatsapp:{icon:Jt,iconColor:"text-green-500",bgGradient:"from-green-500/20 via-green-500/5 to-transparent",title:"WhatsApp Agents",subtitle:"Meet Customers Where They Are",description:"Engage billions of WhatsApp users with AI agents that handle inquiries, process orders, and provide supportall within the world's most popular messaging app.",features:[{icon:dn,title:"Massive Reach",description:"Connect with 2+ billion active WhatsApp users worldwide."},{icon:Dt,title:"Instant Replies",description:"Respond to messages instantly, any time of day or night."},{icon:Hi,title:"Secure & Private",description:"End-to-end encryption keeps conversations safe."},{icon:Gi,title:"Conversion Boost",description:"Higher engagement rates than email or traditional channels."}],stats:[{value:"98%",label:"Open Rate"},{value:"45%",label:"Higher Engagement"},{value:"3x",label:"Faster Resolution"}]},chatbot:{icon:Ze,iconColor:"text-primary",bgGradient:"from-primary/20 via-primary/5 to-transparent",title:"AI Chatbots",subtitle:"Supercharge Your Website",description:"Intelligent chatbots that engage visitors, answer questions, capture leads, and provide personalized supportturning your website into a 24/7 sales and support machine.",features:[{icon:Fa,title:"Smart Conversations",description:"AI that understands context and provides relevant answers."},{icon:Gi,title:"Lead Capture",description:"Automatically qualify and capture leads from website visitors."},{icon:Dt,title:"Reduce Wait Times",description:"Instant answers mean happier customers and less support load."},{icon:Gl,title:"Deep Insights",description:"Understand what your customers are asking and improve over time."}],stats:[{value:"67%",label:"Support Deflection"},{value:"40%",label:"Lead Increase"},{value:"24/7",label:"Availability"}]}};function nh({type:e,compact:t=!1}){const n=Rqe[e],r=n.icon,a=()=>{window.location.href="mailto:info@voxtro.io?subject=Interested in "+n.title};return t?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx("div",{className:`p-4 rounded-full w-fit mx-auto mb-4 bg-gradient-to-br ${n.bgGradient}`,children:s.jsx(r,{className:`h-10 w-10 ${n.iconColor}`})}),s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["No ",n.title.toLowerCase()," assigned"]}),s.jsxs("p",{className:"text-muted-foreground text-sm max-w-md mx-auto mb-4",children:[n.description.substring(0,120),"..."]}),s.jsxs(te,{onClick:a,size:"sm",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Contact Sales"]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:`relative overflow-hidden rounded-2xl bg-gradient-to-br ${n.bgGradient} border`,children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),s.jsxs("div",{className:"relative p-8 md:p-12",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[s.jsx("div",{className:`p-5 rounded-2xl bg-gradient-to-br ${n.bgGradient} border shadow-lg`,children:s.jsx(r,{className:`h-12 w-12 ${n.iconColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(xe,{variant:"secondary",className:"mb-3",children:[s.jsx(Fa,{className:"h-3 w-3 mr-1"}),"Available for Your Account"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.subtitle}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:n.description})]})]}),s.jsx("div",{className:"flex flex-wrap gap-6 mt-8 pt-8 border-t border-border/50",children:n.stats.map((i,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-3xl font-bold ${n.iconColor}`,children:i.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.label})]},o))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.features.map((i,o)=>{const l=i.icon;return s.jsx(J,{className:"group hover:shadow-md transition-all duration-300 hover:border-primary/30",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${n.bgGradient} group-hover:scale-110 transition-transform`,children:s.jsx(l,{className:`h-5 w-5 ${n.iconColor}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})})},o)})}),s.jsx(J,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",children:s.jsx(ee,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ready to Get Started?"}),s.jsxs("p",{className:"text-muted-foreground",children:["Contact our sales team to add ",n.title.toLowerCase()," to your account and start seeing results immediately."]})]}),s.jsxs(te,{onClick:a,size:"lg",className:"shrink-0 gap-2",children:[s.jsx(Ls,{className:"h-5 w-5"}),"Contact Sales",s.jsx(xd,{className:"h-4 w-4"})]})]})})})]})}function $qe(){const{customer:e}=hs(),t=Ar(),[n,r]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(null),[d,h]=g.useState(null),[f,m]=g.useState(null),[v,p]=g.useState([]),[x,y]=g.useState([]),[b,w]=g.useState(null),[j,N]=g.useState(0),[S,C]=g.useState(!0);g.useEffect(()=>{e&&k()},[e]);const k=async()=>{if(e)try{const{data:I,error:L}=await Y.from("customer_chatbot_assignments").select("chatbot_id, chatbots (id, name, description, theme_color)").eq("customer_id",e.id);if(L)throw L;const M=(I==null?void 0:I.map(be=>be.chatbot_id))||[],{data:$}=await Y.from("conversations").select("chatbot_id").in("chatbot_id",M),{data:R}=await Y.from("messages").select("conversation_id, conversations!inner(chatbot_id)").in("conversations.chatbot_id",M),F=(I==null?void 0:I.map(be=>{const ce=be.chatbots;return{id:ce.id,name:ce.name,description:ce.description,theme_color:ce.theme_color,conversation_count:($==null?void 0:$.filter(Z=>Z.chatbot_id===ce.id).length)||0,message_count:(R==null?void 0:R.filter(Z=>{var ge;return((ge=Z.conversations)==null?void 0:ge.chatbot_id)===ce.id}).length)||0}}))||[];r(F);const D=($==null?void 0:$.length)||0,H=(R==null?void 0:R.length)||0;u({total_conversations:D,total_messages:H,avg_conversation_length:D>0?Math.round(H/D):0});const{data:z}=await Y.from("customer_assistant_assignments").select("id, assistant_id, voice_assistants (id, name, phone_number)").eq("customer_id",e.id),_=(z==null?void 0:z.map(be=>be.assistant_id).filter(Boolean))||[];let O=[];if(_.length>0){const{data:be}=await Y.from("voice_assistant_calls").select("assistant_id, duration_seconds").in("assistant_id",_);O=be||[]}const T=(z==null?void 0:z.map(be=>{const ce=O.filter(ge=>ge.assistant_id===be.assistant_id),Z=ce.reduce((ge,ke)=>ge+(ke.duration_seconds||0),0);return{...be,call_count:ce.length,total_duration:Z}}))||[];i(T);const q=O.length,W=O.reduce((be,ce)=>be+(ce.duration_seconds||0),0);h({total_calls:q,total_duration:W,avg_duration:q>0?Math.round(W/q):0});const{data:K}=await Y.from("customer_whatsapp_agent_assignments").select("id, agent_id, whatsapp_agents (id, name, phone_number, status)").eq("customer_id",e.id),G=(K==null?void 0:K.map(be=>be.agent_id).filter(Boolean))||[];let V=[],se=0;if(G.length>0){const{data:be}=await Y.from("whatsapp_conversations").select("id, agent_id").in("agent_id",G);if(V=be||[],V.length>0){const{count:ce}=await Y.from("whatsapp_messages").select("*",{count:"exact",head:!0}).in("conversation_id",V.map(Z=>Z.id));se=ce||0}}const re=(K==null?void 0:K.map(be=>({...be,conversation_count:V.filter(ce=>ce.agent_id===be.agent_id).length})))||[];l(re),m({total_conversations:V.length,total_messages:se});const{data:je}=await Y.from("support_tickets").select("id, subject, status, priority, created_at, updated_at").eq("customer_id",e.id).order("updated_at",{ascending:!1}).limit(5);p(je||[]);try{const ce=(await Mb()).leads||[];y(ce.slice(0,5)),N(ce.length);const Z=ce.filter(nt=>nt.source_type==="chatbot").length,ge=ce.filter(nt=>nt.source_type==="voice").length,ke=ce.filter(nt=>nt.source_type==="whatsapp").length,me=D>0?Math.round(Z/D*100):0,Ne=q>0?Math.round(ge/q*100):0,oe=V.length>0?Math.round(ke/V.length*100):0,de=D+q+V.length,Pe=ce.length,Ie=de>0?Math.round(Pe/de*100):0;w({chatbot:me,voice:Ne,whatsapp:oe,overall:Ie})}catch(be){console.error("Error fetching leads:",be),y([]),N(0),w({chatbot:0,voice:0,whatsapp:0,overall:0})}}catch(I){console.error("Error fetching customer data:",I),pe.error("Failed to load dashboard data")}finally{C(!1)}},E=I=>{const L=Math.floor(I/60),M=I%60;return`${L}m ${M}s`},A=I=>{switch(I.toLowerCase()){case"open":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"in_progress":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"resolved":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"closed":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";default:return"bg-muted text-muted-foreground"}},P=I=>{switch(I){case"chatbot":return s.jsx(Ze,{className:"h-3 w-3"});case"voice":return s.jsx(fse,{className:"h-3 w-3"});case"whatsapp":return s.jsx(Jt,{className:"h-3 w-3"});default:return s.jsx(dn,{className:"h-3 w-3"})}};if(S)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"h-10 w-64 bg-muted/50 rounded animate-pulse"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((I,L)=>s.jsx("div",{className:"h-28 bg-muted/50 rounded-xl animate-pulse"},L))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64 bg-muted/50 rounded-xl animate-pulse"}),s.jsx("div",{className:"h-64 bg-muted/50 rounded-xl animate-pulse"})]})]});const B=v.filter(I=>I.status==="open"||I.status==="in_progress"),U=((c==null?void 0:c.total_conversations)||0)+((d==null?void 0:d.total_calls)||0)+((f==null?void 0:f.total_conversations)||0);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-semibold tracking-tight",children:["Welcome back",e!=null&&e.full_name?`, ${e.full_name.split(" ")[0]}`:""]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-0.5",children:"Here's an overview of your AI agents performance"})]}),s.jsx(WE,{customerId:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.full_name)||"",customerEmail:(e==null?void 0:e.email)||"",onTicketCreated:k,trigger:s.jsxs(te,{variant:"outline",size:"sm",children:[s.jsx(sa,{className:"h-4 w-4 mr-2"}),"New Support Ticket"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(J,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-emerald-500/5"}),s.jsxs(ee,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Conversion Rate"}),s.jsxs("p",{className:"text-3xl font-bold mt-1 text-emerald-600 dark:text-emerald-400",children:[(b==null?void 0:b.overall)||0,"%"]})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-emerald-500/10",children:s.jsx(Gi,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[j," leads from ",U," interactions"]})]})]}),s.jsxs(J,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-blue-500/5"}),s.jsxs(ee,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Leads"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:j})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-blue-500/10",children:s.jsx(dn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Captured across all channels"})]})]}),s.jsxs(J,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/10 to-violet-500/5"}),s.jsxs(ee,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Interactions"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:U})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-violet-500/10",children:s.jsx(Jt,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Chats, calls & messages"})]})]}),s.jsxs(J,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-amber-500/5"}),s.jsxs(ee,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Open Tickets"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:B.length})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-amber-500/10",children:s.jsx(sa,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[v.length," total tickets"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(J,{className:"lg:col-span-2",children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-base font-semibold",children:"Recent Leads"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Latest contacts captured by your AI agents"})]}),x.length>0&&s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/leads"),className:"text-xs",children:["View All ",s.jsx(xd,{className:"h-3 w-3 ml-1"})]})]}),s.jsx(ee,{children:x.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-muted/50 mb-3",children:s.jsx(dn,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("p",{className:"text-sm font-medium",children:"No leads captured yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leads will appear here as your AI agents capture contact information"})]}):s.jsx("div",{className:"space-y-3",children:x.map(I=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center text-sm font-semibold text-primary",children:(I.name||"U").charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:I.name||"Unknown"}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:[I.email&&s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx(Ls,{className:"h-3 w-3"}),I.email]}),I.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),I.phone_number]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(xe,{variant:"secondary",className:"text-xs capitalize flex items-center gap-1",children:[P(I.source_type),I.source_type]})})]},I.id))})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-base font-semibold",children:"Support Tickets"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Your recent requests"})]}),v.length>0&&s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/support-tickets"),className:"text-xs",children:["View All ",s.jsx(xd,{className:"h-3 w-3 ml-1"})]})]}),s.jsx(ee,{children:v.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-muted/50 mb-3",children:s.jsx(sa,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("p",{className:"text-sm font-medium",children:"No tickets yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 mb-3",children:"Need help? Create a support ticket"})]}):s.jsx("div",{className:"space-y-2",children:v.slice(0,4).map(I=>s.jsxs("div",{onClick:()=>t("/customer-dashboard/support-tickets"),className:"p-3 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors border border-transparent hover:border-border",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate flex-1",children:I.subject}),s.jsx(xe,{className:`text-[10px] shrink-0 ${A(I.status)}`,children:I.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Updated ",ct(new Date(I.updated_at),"MMM d, h:mm a")]})]},I.id))})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Your AI Agents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ze,{className:"h-4 w-4 text-primary"})}),s.jsx(ie,{className:"text-sm font-semibold",children:"Chatbots"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/conversations"),className:"text-xs h-7 px-2",children:s.jsx(xd,{className:"h-3 w-3"})})]})}),s.jsx(ee,{children:n.length===0?s.jsx(nh,{type:"chatbot",compact:!0}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(c==null?void 0:c.total_conversations)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsxs("p",{className:"text-lg font-semibold",children:[(b==null?void 0:b.chatbot)||0,"%"]}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Conversion"})]})]}),s.jsx("div",{className:"space-y-1.5 pt-1",children:n.slice(0,3).map(I=>s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:I.theme_color||"hsl(var(--primary))"}}),s.jsx("span",{className:"text-xs font-medium truncate",children:I.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:I.conversation_count})]},I.id))})]})})]}),s.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10",children:s.jsx(Nt,{className:"h-4 w-4 text-violet-500"})}),s.jsx(ie,{className:"text-sm font-semibold",children:"Voice Assistants"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/voice-assistants"),className:"text-xs h-7 px-2",children:s.jsx(xd,{className:"h-3 w-3"})})]})}),s.jsx(ee,{children:a.length===0?s.jsx(nh,{type:"voice",compact:!0}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(d==null?void 0:d.total_calls)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:E((d==null?void 0:d.avg_duration)||0)}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Avg Duration"})]})]}),s.jsx("div",{className:"space-y-1.5 pt-1",children:a.slice(0,3).map(I=>s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded hover:bg-muted/50 transition-colors",children:[s.jsx("span",{className:"text-xs font-medium truncate",children:I.voice_assistants.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[I.call_count," calls"]})]},I.id))})]})})]}),s.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(Jt,{className:"h-4 w-4 text-green-500"})}),s.jsx(ie,{className:"text-sm font-semibold",children:"WhatsApp Agents"})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/whatsapp-agents"),className:"text-xs h-7 px-2",children:s.jsx(xd,{className:"h-3 w-3"})})]})}),s.jsx(ee,{children:o.length===0?s.jsx(nh,{type:"whatsapp",compact:!0}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(f==null?void 0:f.total_conversations)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(f==null?void 0:f.total_messages)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Messages"})]})]}),s.jsx("div",{className:"space-y-1.5 pt-1",children:o.slice(0,3).map(I=>s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded hover:bg-muted/50 transition-colors",children:[s.jsx("span",{className:"text-xs font-medium truncate",children:I.whatsapp_agents.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[I.conversation_count," chats"]})]},I.id))})]})})]})]})]})]})}const Lqe=({onConversationSelect:e})=>{const{customer:t}=hs(),[n,r]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState("all"),[c,u]=g.useState(""),[d,h]=g.useState(!0),f=async()=>{if(!t)return;const{data:x,error:y}=await Y.from("customer_chatbot_assignments").select(`
        chatbot_id,
        chatbots (
          id,
          name
        )
      `).eq("customer_id",t.id);if(y){pe.error("Failed to fetch chatbots");return}const b=(x==null?void 0:x.map(w=>({id:w.chatbots.id,name:w.chatbots.name})))||[];i(b)},m=async()=>{if(!t)return;h(!0);const{data:x}=await Y.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",t.id),y=(x==null?void 0:x.map(C=>C.chatbot_id))||[];if(y.length===0){r([]),h(!1);return}let b=Y.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name
          )
        )
      `).in("conversations.chatbot_id",y).order("created_at",{ascending:!1});o!=="all"&&(b=b.eq("conversations.chatbot_id",o));const{data:w,error:j}=await b;if(j){console.error("Error fetching conversations:",j),pe.error("Failed to fetch conversations"),h(!1);return}const N=new Map;w==null||w.forEach(C=>{const k=C.conversation_id;N.has(k)||N.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),N.get(k).messages.push(C)});const S=[];N.forEach((C,k)=>{const E=C.messages.sort((A,P)=>new Date(P.created_at).getTime()-new Date(A.created_at).getTime());if(E.length>0){const A=E[0],P={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:A.content,last_message_time:A.created_at,message_count:E.length,last_sender:A.role};(!c||P.last_message.toLowerCase().includes(c.toLowerCase())||P.chatbot_name.toLowerCase().includes(c.toLowerCase()))&&S.push(P)}}),S.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),r(S),h(!1)};g.useEffect(()=>{f()},[t]),g.useEffect(()=>{m()},[t,o,c]);const v=x=>{const y=new Date(x),w=new Date().getTime()-y.getTime(),j=Math.floor(w/(1e3*60*60*24));return j===0?y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):j===1?"Yesterday":j<7?y.toLocaleDateString([],{weekday:"short"}):y.toLocaleDateString([],{month:"short",day:"numeric"})},p=(x,y=60)=>x.length>y?x.substring(0,y)+"...":x;return s.jsx("div",{className:"space-y-4",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs(He,{value:o,onValueChange:l,children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Filter by chatbot"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Chatbots"}),a.map(x=>s.jsx(ue,{value:x.id,children:x.name},x.id))]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search conversations...",value:c,onChange:x=>u(x.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto px-4",children:d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading conversations..."})}):n.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})}):s.jsx("div",{className:"space-y-3",children:n.map(x=>s.jsx(J,{className:"cursor-pointer hover:bg-accent/50 transition-colors border-l-4 border-l-primary",onClick:()=>e(x.id),children:s.jsx(ee,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("h4",{className:"font-semibold text-sm truncate",children:x.chatbot_name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:[x.last_sender==="user"?" ":" ",p(x.last_message,100)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:v(x.last_message_time)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium",children:[s.jsx(Ht,{className:"h-3 w-3"}),x.message_count]})})]})})},x.id))})})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to view conversations."})})})};var yO="Collapsible",[Fqe,uK]=Er(yO),[Bqe,bO]=Fqe(yO),dK=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,u]=Kr({prop:r,defaultProp:a,onChange:o});return s.jsx(Bqe,{scope:n,disabled:i,contentId:Ts(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Be.div,{"data-state":NO(c),"data-disabled":i?"":void 0,...l,ref:t})})});dK.displayName=yO;var hK="CollapsibleTrigger",wO=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=bO(hK,n);return s.jsx(Be.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":NO(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:Ae(e.onClick,a.onOpenToggle)})});wO.displayName=hK;var jO="CollapsibleContent",_O=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bO(jO,e.__scopeCollapsible);return s.jsx(tr,{present:n||a.open,children:({present:i})=>s.jsx(Uqe,{...r,ref:t,present:i})})});_O.displayName=jO;var Uqe=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=bO(jO,n),[l,c]=g.useState(r),u=g.useRef(null),d=et(t,u),h=g.useRef(0),f=h.current,m=g.useRef(0),v=m.current,p=o.open||l,x=g.useRef(p),y=g.useRef();return g.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),gr(()=>{const b=u.current;if(b){y.current=y.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,m.current=w.width,x.current||(b.style.transitionDuration=y.current.transitionDuration,b.style.animationName=y.current.animationName),c(r)}},[o.open,r]),s.jsx(Be.div,{"data-state":NO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&a})});function NO(e){return e?"open":"closed"}var fK=dK,zqe=wO,qqe=_O;const mK=fK,pK=wO,gK=_O,Vqe=({conversationId:e,onBack:t})=>{const{customer:n}=hs(),[r,a]=g.useState([]),[i,o]=g.useState(null),[l,c]=g.useState(!0),u=g.useRef(null),d=()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:v}=await Y.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",n.id),p=(v==null?void 0:v.map(j=>j.chatbot_id))||[];if(p.length===0){c(!1);return}const{data:x,error:y}=await Y.from("conversations").select(`
        id,
        created_at,
        chatbot_id,
        summary,
        key_points,
        action_items,
        sentiment,
        sentiment_notes,
        conversation_outcome,
        topics_discussed,
        lead_info,
        chatbots!inner(
          name
        )
      `).eq("id",e).in("chatbot_id",p).single();if(y||!x){console.error("Error fetching conversation:",y),pe.error("Failed to fetch conversation"),c(!1);return}const{data:b,error:w}=await Y.from("messages").select(`
        id,
        content,
        role,
        created_at
      `).eq("conversation_id",e).order("created_at",{ascending:!0});if(w){console.error("Error fetching messages:",w),pe.error("Failed to fetch messages"),c(!1);return}b&&b.length>0&&a(b.map(j=>({id:j.id,content:j.content,role:j.role,created_at:j.created_at}))),o({id:e,chatbot_name:x.chatbots.name,created_at:x.created_at,summary:x.summary,key_points:x.key_points,action_items:x.action_items,sentiment:x.sentiment,sentiment_notes:x.sentiment_notes,conversation_outcome:x.conversation_outcome,topics_discussed:x.topics_discussed,lead_info:x.lead_info}),c(!1)};g.useEffect(()=>{h()},[e,n]),g.useEffect(()=>{d()},[r]);const f=v=>new Date(v).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=v=>new Date(v).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ht,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})}),i.summary&&s.jsxs(mK,{defaultOpen:!1,className:"border rounded-lg overflow-hidden",children:[s.jsx(pK,{className:"w-full",children:s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"AI Analysis"}),s.jsx(ic,{className:"h-3.5 w-3.5 text-muted-foreground transition-transform duration-200 [[data-state=open]>&]:rotate-180"})]}),s.jsxs("div",{className:"flex gap-1.5",children:[i.sentiment&&s.jsx(xe,{variant:i.sentiment==="positive"?"default":i.sentiment==="negative"?"destructive":"secondary",className:"text-xs px-2 py-0",children:i.sentiment}),i.conversation_outcome&&s.jsx(xe,{variant:"outline",className:"text-xs px-2 py-0",children:i.conversation_outcome.replace(/_/g," ")})]})]})}),s.jsx(gK,{children:s.jsxs("div",{className:"p-3 space-y-2.5 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary}),i.topics_discussed&&i.topics_discussed.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.topics_discussed.slice(0,4).map((v,p)=>s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded-full text-muted-foreground",children:v},p)),i.topics_discussed.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",i.topics_discussed.length-4," more"]})]}),(i.key_points&&i.key_points.length>0||i.action_items&&i.action_items.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[i.key_points&&i.key_points.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key Points"}),s.jsx("ul",{className:"text-xs space-y-0.5",children:i.key_points.slice(0,3).map((v,p)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"line-clamp-1",children:v})]},p))})]}),i.action_items&&i.action_items.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Actions"}),s.jsx("ul",{className:"text-xs space-y-0.5",children:i.action_items.slice(0,3).map((v,p)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx(Qn,{className:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:v})]},p))})]})]}),i.lead_info&&(i.lead_info.name||i.lead_info.email||i.lead_info.phone)&&s.jsxs("div",{className:"flex items-center gap-3 pt-1 text-xs border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Lead:"}),i.lead_info.name&&s.jsx("span",{className:"font-medium",children:i.lead_info.name}),i.lead_info.email&&s.jsx("span",{className:"text-muted-foreground",children:i.lead_info.email}),i.lead_info.phone&&s.jsx("span",{className:"text-muted-foreground",children:i.lead_info.phone})]})]})})]}),s.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:[r.map(v=>s.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ze,{className:"h-4 w-4 text-primary"})})}),s.jsxs("div",{className:`max-w-[75%] rounded-lg p-3 ${v.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:v.content}),s.jsx("p",{className:`text-xs mt-1 ${v.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(v.created_at)})]}),v.role==="user"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:s.jsx(_n,{className:"h-4 w-4 text-primary-foreground"})})})]},v.id)),s.jsx("div",{ref:u})]})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})};function Wqe(){const{customer:e}=hs(),[t,n]=g.useState(null),[r,a]=g.useState([]),[i,o]=g.useState(!0);g.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:d,error:h}=await Y.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name
          )
        `).eq("customer_id",e.id);if(h)throw h;if(((d==null?void 0:d.map(p=>p.chatbot_id))||[]).length===0){o(!1);return}const m=d.map(async p=>{const x=p.chatbot_id,y=p.chatbots.name,{data:b}=await Y.from("conversations").select("id").eq("chatbot_id",x),w=(b==null?void 0:b.length)||0,{data:j}=await Y.from("messages").select("id, conversation_id").in("conversation_id",(b==null?void 0:b.map(S=>S.id))||[]),N=(j==null?void 0:j.length)||0;return{id:x,name:y,totalConversations:w,totalMessages:N,avgMessagesPerConversation:w>0?Math.round(N/w):0}}),v=await Promise.all(m);a(v)}catch(d){console.error("Error fetching chatbot stats:",d),pe.error("Failed to load chatbot analytics")}finally{o(!1)}},c=d=>{n(d)},u=()=>{n(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all conversations from your chatbots"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i?s.jsx(J,{className:"col-span-full",children:s.jsx(ee,{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading analytics..."})})}):r.length===0?s.jsx("div",{className:"col-span-full",children:s.jsx(nh,{type:"chatbot"})}):r.map(d=>s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:d.name}),s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Conversations"]}),s.jsx("div",{className:"text-2xl font-bold",children:d.totalConversations})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(au,{className:"h-4 w-4"}),"Total Messages"]}),s.jsx("div",{className:"text-lg font-semibold",children:d.totalMessages})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Gi,{className:"h-4 w-4"}),"Avg per Conv."]}),s.jsx("div",{className:"text-lg font-semibold",children:d.avgMessagesPerConversation})]})]})})]},d.id))}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Recent Conversations"}),s.jsx(Se,{children:"Click on a conversation to view details"})]}),s.jsx(ee,{className:"p-0",children:s.jsx(Lqe,{onConversationSelect:c})})]}),s.jsx(_v,{open:!!t,onOpenChange:u,children:s.jsxs(Of,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Nv,{children:[s.jsx(Sv,{children:"Conversation Details"}),s.jsx(Cv,{children:"View the complete conversation history"})]}),t&&s.jsx(Vqe,{conversationId:t,onBack:u})]})})]})}var Wo="Accordion",Hqe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[SO,Gqe,Yqe]=bf(Wo),[t_,qQe]=Er(Wo,[Yqe,uK]),CO=uK(),vK=X.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,i=r;return s.jsx(SO.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(Qqe,{...i,ref:t}):s.jsx(Xqe,{...a,ref:t})})});vK.displayName=Wo;var[xK,Kqe]=t_(Wo),[yK,Jqe]=t_(Wo,{collapsible:!1}),Xqe=X.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Kr({prop:n,defaultProp:r,onChange:a});return s.jsx(xK,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:X.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(yK,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(bK,{...o,ref:t})})})}),Qqe=X.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...i}=e,[o=[],l]=Kr({prop:n,defaultProp:r,onChange:a}),c=X.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=X.useCallback(d=>l((h=[])=>h.filter(f=>f!==d)),[l]);return s.jsx(xK,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(yK,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(bK,{...i,ref:t})})})}),[Zqe,n_]=t_(Wo),bK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:i="vertical",...o}=e,l=X.useRef(null),c=et(l,t),u=Gqe(n),h=mc(a)==="ltr",f=Ae(e.onKeyDown,m=>{var k;if(!Hqe.includes(m.key))return;const v=m.target,p=u().filter(E=>{var A;return!((A=E.ref.current)!=null&&A.disabled)}),x=p.findIndex(E=>E.ref.current===v),y=p.length;if(x===-1)return;m.preventDefault();let b=x;const w=0,j=y-1,N=()=>{b=x+1,b>j&&(b=w)},S=()=>{b=x-1,b<w&&(b=j)};switch(m.key){case"Home":b=w;break;case"End":b=j;break;case"ArrowRight":i==="horizontal"&&(h?N():S());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(h?S():N());break;case"ArrowUp":i==="vertical"&&S();break}const C=b%y;(k=p[C].ref.current)==null||k.focus()});return s.jsx(Zqe,{scope:n,disabled:r,direction:a,orientation:i,children:s.jsx(SO.Slot,{scope:n,children:s.jsx(Be.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:f})})})}),B0="AccordionItem",[eVe,kO]=t_(B0),wK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,i=n_(B0,n),o=Kqe(B0,n),l=CO(n),c=Ts(),u=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return s.jsx(eVe,{scope:n,open:u,disabled:d,triggerId:c,children:s.jsx(fK,{"data-orientation":i.orientation,"data-state":kK(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});wK.displayName=B0;var jK="AccordionHeader",_K=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=n_(Wo,n),i=kO(jK,n);return s.jsx(Be.h3,{"data-orientation":a.orientation,"data-state":kK(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});_K.displayName=jK;var HE="AccordionTrigger",NK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=n_(Wo,n),i=kO(HE,n),o=Jqe(HE,n),l=CO(n);return s.jsx(SO.ItemSlot,{scope:n,children:s.jsx(zqe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...r,ref:t})})});NK.displayName=HE;var SK="AccordionContent",CK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=n_(Wo,n),i=kO(SK,n),o=CO(n);return s.jsx(qqe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});CK.displayName=SK;function kK(e){return e?"open":"closed"}var tVe=vK,nVe=wK,rVe=_K,EK=NK,PK=CK;const AK=tVe,EO=g.forwardRef(({className:e,...t},n)=>s.jsx(nVe,{ref:n,className:ye("border-b",e),...t}));EO.displayName="AccordionItem";const PO=g.forwardRef(({className:e,children:t,...n},r)=>s.jsx(rVe,{className:"flex",children:s.jsxs(EK,{ref:r,className:ye("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(ic,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));PO.displayName=EK.displayName;const AO=g.forwardRef(({className:e,children:t,...n},r)=>s.jsx(PK,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:ye("pb-4 pt-0",e),children:t})}));AO.displayName=PK.displayName;function sVe(){const{permissions:e,loading:t}=cK(),[n,r]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(""),[f,m]=g.useState(""),[v,p]=g.useState(""),x=e.filter(S=>S.agent_type==="voice"&&S.permissions.some(C=>C.id==="contribute_faq"&&C.is_enabled)).map(S=>({id:S.agent_id,name:S.agent_name}));console.log("[FAQSubmissionForm] Permissions received:",e),console.log("[FAQSubmissionForm] Voice permissions:",e.filter(S=>S.agent_type==="voice")),console.log("[FAQSubmissionForm] Allowed assistants:",x),g.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const S=await Lge();r(S.content||[])}catch(S){console.error("Failed to fetch content:",S)}finally{i(!1)}},b=async S=>{if(S.preventDefault(),!d||!f.trim()||!v.trim()){pe.error("Please fill in all fields");return}l(!0);try{await Fge({assistant_id:d,question:f.trim(),answer:v.trim()}),pe.success("FAQ submitted for review"),m(""),p(""),h(""),u(!1),y()}catch(C){console.error("Failed to submit FAQ:",C),pe.error("Failed to submit FAQ")}finally{l(!1)}},w=async S=>{try{await Bge(S),pe.success("FAQ deleted"),y()}catch(C){console.error("Failed to delete FAQ:",C),pe.error("Failed to delete FAQ")}},j=S=>{switch(S){case"pending":return s.jsx(Dt,{className:"h-4 w-4 text-yellow-500"});case"approved":case"applied":return s.jsx(Qn,{className:"h-4 w-4 text-green-500"});case"rejected":return s.jsx(Cw,{className:"h-4 w-4 text-red-500"});default:return null}},N=S=>{switch(S){case"pending":return s.jsx(xe,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Pending Review"});case"approved":return s.jsx(xe,{variant:"outline",className:"bg-green-50 text-green-700",children:"Approved"});case"applied":return s.jsx(xe,{variant:"outline",className:"bg-green-50 text-green-700",children:"Applied"});case"rejected":return s.jsx(xe,{variant:"outline",className:"bg-red-50 text-red-700",children:"Rejected"});default:return s.jsx(xe,{variant:"outline",children:S})}};return t?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):x.length===0?null:s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5"}),"FAQ Contributions"]}),s.jsx(Se,{children:"Submit FAQs to help improve your voice assistant's responses"})]}),!c&&s.jsxs(te,{size:"sm",onClick:()=>u(!0),children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Add FAQ"]})]})}),s.jsxs(ee,{className:"space-y-4",children:[c&&s.jsxs("form",{onSubmit:b,className:"space-y-4 rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"assistant",children:"Voice Assistant"}),s.jsxs(He,{value:d,onValueChange:h,children:[s.jsx(Ve,{id:"assistant",children:s.jsx(Ge,{placeholder:"Select an assistant"})}),s.jsx(We,{children:x.map(S=>s.jsx(ue,{value:S.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),S.name]})},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"question",children:"Question"}),s.jsx(he,{id:"question",placeholder:"What question should the assistant be able to answer?",value:f,onChange:S=>m(S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"answer",children:"Answer"}),s.jsx(dt,{id:"answer",placeholder:"What should the assistant say in response?",value:v,onChange:S=>p(S.target.value),rows:4})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(te,{type:"button",variant:"outline",onClick:()=>{u(!1),m(""),p(""),h("")},children:"Cancel"}),s.jsx(te,{type:"submit",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit for Review"})]})]}),a?s.jsx("div",{className:"flex items-center justify-center p-4",children:s.jsx(xt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):n.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Bc,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No FAQs submitted yet"}),s.jsx("p",{className:"text-sm",children:"Submit FAQs to help improve the assistant's knowledge"})]}):s.jsx(AK,{type:"single",collapsible:!0,className:"w-full",children:n.map(S=>s.jsxs(EO,{value:S.id,children:[s.jsx(PO,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3 text-left",children:[j(S.status),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium line-clamp-1",children:S.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(S.created_at).toLocaleDateString()})]}),N(S.status)]})}),s.jsx(AO,{children:s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-3 space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Question"}),s.jsx("p",{children:S.title})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Answer"}),s.jsx("p",{children:S.content})]})]}),S.review_notes&&s.jsxs("div",{className:"rounded-lg bg-blue-50 p-3",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Review Notes"}),s.jsx("p",{className:"text-sm text-blue-700",children:S.review_notes})]}),S.status==="pending"&&s.jsx("div",{className:"flex justify-end",children:s.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>w(S.id),children:[s.jsx($t,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})})]},S.id))})]})]})}function aVe(){const{permissions:e,loading:t}=cK(),[n,r]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(""),[f,m]=g.useState(""),[v,p]=g.useState(""),[x,y]=g.useState("daily"),b=e.filter(A=>A.agent_type==="voice"&&A.permissions.some(P=>P.id==="contribute_crawl_url"&&P.is_enabled)).map(A=>({id:A.agent_id,name:A.agent_name}));console.log("[WebCrawlSubmissionForm] Permissions received:",e),console.log("[WebCrawlSubmissionForm] Allowed assistants for crawl URL:",b),g.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const A=await Uge();r(A.crawl_urls||[])}catch(A){console.error("Failed to fetch crawl URLs:",A)}finally{i(!1)}},j=async A=>{if(A.preventDefault(),!d||!f.trim()){pe.error("Please select an assistant and enter a URL");return}try{new URL(f.trim())}catch{pe.error("Please enter a valid URL");return}l(!0);try{await zge({assistant_id:d,url:f.trim(),description:v.trim()||void 0,crawl_frequency:x}),pe.success("Website URL submitted for review"),m(""),p(""),h(""),y("daily"),u(!1),w()}catch(P){console.error("Failed to submit crawl URL:",P),pe.error("Failed to submit URL")}finally{l(!1)}},N=async A=>{try{await qge(A),pe.success("URL deleted"),w()}catch(P){console.error("Failed to delete crawl URL:",P),pe.error("Failed to delete URL")}},S=A=>{switch(A){case"pending":return s.jsx(Dt,{className:"h-4 w-4 text-yellow-500"});case"approved":case"active":return s.jsx(Qn,{className:"h-4 w-4 text-green-500"});case"paused":return s.jsx(dse,{className:"h-4 w-4 text-orange-500"});case"rejected":return s.jsx(Cw,{className:"h-4 w-4 text-red-500"});default:return null}},C=A=>{switch(A){case"pending":return s.jsx(xe,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Pending Review"});case"approved":return s.jsx(xe,{variant:"outline",className:"bg-green-50 text-green-700",children:"Approved"});case"active":return s.jsx(xe,{variant:"outline",className:"bg-green-50 text-green-700",children:"Active"});case"paused":return s.jsx(xe,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"Paused"});case"rejected":return s.jsx(xe,{variant:"outline",className:"bg-red-50 text-red-700",children:"Rejected"});default:return s.jsx(xe,{variant:"outline",children:A})}},k=A=>{switch(A){case"daily":return s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Daily"});case"weekly":return s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Weekly"});case"monthly":return s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Monthly"});default:return s.jsx(xe,{variant:"secondary",className:"text-xs",children:A})}},E=A=>{if(!A)return null;switch(A){case"success":return s.jsx(xe,{variant:"outline",className:"bg-green-50 text-green-700 text-xs",children:"Last crawl: Success"});case"failed":return s.jsx(xe,{variant:"outline",className:"bg-red-50 text-red-700 text-xs",children:"Last crawl: Failed"});case"pending":return s.jsx(xe,{variant:"outline",className:"bg-blue-50 text-blue-700 text-xs",children:"Crawl pending"});default:return null}};return t?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):b.length===0?null:s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5"}),"Website Crawl URLs"]}),s.jsx(Se,{children:"Submit website URLs to be crawled regularly for your voice assistant's knowledge"})]}),!c&&s.jsxs(te,{size:"sm",onClick:()=>u(!0),children:[s.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Add URL"]})]})}),s.jsxs(ee,{className:"space-y-4",children:[c&&s.jsxs("form",{onSubmit:j,className:"space-y-4 rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"assistant",children:"Voice Assistant"}),s.jsxs(He,{value:d,onValueChange:h,children:[s.jsx(Ve,{id:"assistant",children:s.jsx(Ge,{placeholder:"Select an assistant"})}),s.jsx(We,{children:b.map(A=>s.jsx(ue,{value:A.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),A.name]})},A.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"url",children:"Website URL"}),s.jsx(he,{id:"url",type:"url",placeholder:"https://example.com/page-to-crawl",value:f,onChange:A=>m(A.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the full URL of the page you want crawled for knowledge"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"frequency",children:"Crawl Frequency"}),s.jsxs(He,{value:x,onValueChange:A=>y(A),children:[s.jsx(Ve,{id:"frequency",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"daily",children:"Daily"}),s.jsx(ue,{value:"weekly",children:"Weekly"}),s.jsx(ue,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(dt,{id:"description",placeholder:"Brief note about what this page contains...",value:v,onChange:A=>p(A.target.value),rows:2})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(te,{type:"button",variant:"outline",onClick:()=>{u(!1),m(""),p(""),h(""),y("daily")},children:"Cancel"}),s.jsx(te,{type:"submit",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit for Review"})]})]}),a?s.jsx("div",{className:"flex items-center justify-center p-4",children:s.jsx(xt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):n.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Es,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No website URLs submitted yet"}),s.jsx("p",{className:"text-sm",children:"Submit URLs to automatically crawl for assistant knowledge"})]}):s.jsx(AK,{type:"single",collapsible:!0,className:"w-full",children:n.map(A=>s.jsxs(EO,{value:A.id,children:[s.jsx(PO,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3 text-left flex-1",children:[S(A.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium line-clamp-1 truncate",children:A.url}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.created_at).toLocaleDateString()}),k(A.crawl_frequency)]})]}),C(A.status)]})}),s.jsx(AO,{children:s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-3 space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"URL"}),s.jsx("a",{href:A.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:A.url})]}),A.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),s.jsx("p",{children:A.description})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Frequency"}),s.jsx("p",{className:"capitalize",children:A.crawl_frequency})]}),A.crawl_count>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Times Crawled"}),s.jsx("p",{children:A.crawl_count})]})]}),A.last_crawled_at&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last crawled: ",new Date(A.last_crawled_at).toLocaleString()]}),E(A.last_crawl_status)]}),A.last_crawl_error&&s.jsxs("div",{className:"rounded-lg bg-red-50 p-2 text-sm text-red-700",children:["Error: ",A.last_crawl_error]})]}),A.review_notes&&s.jsxs("div",{className:"rounded-lg bg-blue-50 p-3",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Review Notes"}),s.jsx("p",{className:"text-sm text-blue-700",children:A.review_notes})]}),A.status==="pending"&&s.jsx("div",{className:"flex justify-end",children:s.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>N(A.id),children:[s.jsx($t,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})})]},A.id))})]})]})}function iVe(){const{customer:e}=hs(),{toast:t}=En(),[n,r]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,h]=g.useState([]),[f,m]=g.useState(!1),[v,p]=g.useState(!1),[x,y]=g.useState(null),[b,w]=g.useState("");g.useEffect(()=>{e&&S()},[e]),g.useEffect(()=>{if(!e)return;const E=Y.channel("voice-calls-changes").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls",filter:`customer_id=eq.${e.id}`},P=>{console.log("Call log changed:",P),S()}).subscribe(),A=Y.channel("voice-transcripts-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"voice_assistant_transcripts"},P=>{console.log("New transcript:",P),x&&P.new.call_id===x.id&&C(x.id)}).subscribe();return()=>{Y.removeChannel(E),Y.removeChannel(A)}},[e,x]);const j=async()=>{try{const E=await sfe();console.log("VAPI sync result:",E)}catch(E){console.log("VAPI sync error:",E)}await N()},N=async()=>{try{const{data:E,error:A}=await Y.from("customer_assistant_assignments").select("assistant_id").eq("customer_id",e.id);if(A)throw A;if(!E||E.length===0)return l([]),u([]),r(!1),i(!1),[];const P=E.map(z=>z.assistant_id),{data:B,error:U}=await Y.from("voice_assistants").select("*").in("id",P);if(U)throw U;const{data:I,error:L}=await Y.from("voice_assistant_calls").select("*, summary, key_points, action_items, sentiment, sentiment_notes, call_outcome, topics_discussed, lead_info").in("assistant_id",P).order("started_at",{ascending:!1});if(L)throw L;const M=I||[],$=M.map(z=>z.id),{data:R}=$.length>0?await Y.from("voice_assistant_recordings").select("call_id, recording_url").in("call_id",$):{data:[]},F=new Map((R==null?void 0:R.map(z=>[z.call_id,z.recording_url]))||[]),D=(B||[]).map(z=>{const _=M.filter(W=>W.assistant_id===z.id),O=_.filter(W=>W.duration_seconds!=null&&W.duration_seconds>0),T=O.reduce((W,K)=>W+(K.duration_seconds||0),0),q=_.filter(W=>W.status==="completed"||W.ended_at!=null).length;return{id:z.id,name:z.name||"Unnamed Assistant",first_message:z.first_message||"",totalCalls:_.length,completedCalls:q,totalDuration:T,avgDuration:O.length>0?Math.round(T/O.length):0}}),H=M.map(z=>{const _=(B||[]).find(O=>O.id===z.assistant_id);return{...z,assistant_name:(_==null?void 0:_.name)||"Unknown",assistant_id:z.assistant_id,recording_url:F.get(z.id)}});return l(D),u(H),r(!1),i(!1),P}catch(E){return console.error("Error loading cached data:",E),r(!1),i(!1),[]}},S=async()=>{if(!a)try{i(!0),(await N()).length>0&&j()}catch(E){console.error("Error fetching data:",E),t({title:"Error",description:"Failed to load voice assistants",variant:"destructive"}),r(!1),i(!1)}},C=async E=>{m(!0);try{const{data:A,error:P}=await Y.from("voice_assistant_transcripts").select("*").eq("call_id",E).order("timestamp",{ascending:!0});if(P)throw P;h(A||[])}catch(A){console.error("Error loading transcript:",A),t({title:"Error",description:"Failed to load transcript",variant:"destructive"})}finally{m(!1)}},k=E=>{const A=Math.floor(E/60),P=E%60;return`${A}m ${P}s`};return n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.length===0?s.jsx(nh,{type:"voice"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Voice Assistants"}),s.jsx("p",{className:"text-muted-foreground",children:"View analytics, call history, and transcripts for your voice assistants"})]}),a&&s.jsx(xe,{variant:"secondary",className:"animate-pulse",children:"Updating..."})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Calls"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((E,A)=>E+A.totalCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all assistants"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Completed Calls"}),s.jsx(Nt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((E,A)=>E+A.completedCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully completed"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Duration"}),s.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:k(o.reduce((E,A)=>E+A.totalDuration,0))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined talk time"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Avg Call Duration"}),s.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(()=>{const E=o.reduce((P,B)=>P+B.totalDuration,0),A=o.reduce((P,B)=>P+B.completedCalls,0);return A>0?k(Math.round(E/A)):"0m 0s"})()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per completed call"})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Your Voice Assistants"}),s.jsx(Se,{children:"Overview of your assigned assistants and their performance"})]}),s.jsx(ee,{children:s.jsx("div",{className:"space-y-4",children:o.map(E=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:E.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:E.first_message})]}),s.jsxs("div",{className:"flex gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:E.totalCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:k(E.totalDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Duration"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:k(E.avgDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"})]})]})]},E.id))})})]}),s.jsx(sVe,{}),s.jsx(aVe,{}),s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Call History"}),s.jsx(Se,{children:"Complete history of all voice assistant calls"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search by phone number...",value:b,onChange:E=>w(E.target.value),className:"pl-9"})]})]})}),s.jsx(ee,{children:(()=>{const E=c.filter(A=>!b||A.phone_number&&A.phone_number.toLowerCase().includes(b.toLowerCase()));return E.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:b?"No calls match your search":"No calls recorded yet"}):s.jsx($a,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:E.map(A=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{y(A),C(A.id),p(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:A.assistant_name}),s.jsx(xe,{variant:A.status==="completed"?"default":"secondary",children:A.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(A.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),ct(new Date(A.started_at),"h:mm a")]}),s.jsxs("span",{children:["Duration: ",A.duration_seconds!=null&&A.ended_at?k(A.duration_seconds):"N/A"]}),A.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),A.phone_number]})]})]})},A.id))})})})()})]}),s.jsx(_v,{open:v,onOpenChange:p,children:s.jsxs(Of,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Nv,{children:[s.jsx(Sv,{children:"Call Details"}),s.jsx(Cv,{children:x&&s.jsxs("div",{className:"text-sm space-y-1 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(x.started_at),"MMM d, yyyy")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-3 w-3"}),ct(new Date(x.started_at),"h:mm a")]}),x.phone_number&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-3 w-3"}),x.phone_number]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-3 w-3"}),"Duration: ",x.duration_seconds!=null&&x.ended_at?k(x.duration_seconds):"N/A"]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(x==null?void 0:x.summary)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-2.5 bg-muted/50 rounded-md",children:s.jsx("p",{className:"text-xs leading-relaxed",children:x.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[x.sentiment&&s.jsxs(xe,{variant:x.sentiment==="positive"?"default":x.sentiment==="negative"?"destructive":"secondary",className:"text-xs py-0",children:[x.sentiment==="positive"&&s.jsx(Qn,{className:"h-2.5 w-2.5 mr-1"}),x.sentiment==="negative"&&s.jsx(ui,{className:"h-2.5 w-2.5 mr-1"}),x.sentiment.charAt(0).toUpperCase()+x.sentiment.slice(1)]}),x.call_outcome&&s.jsxs(xe,{variant:"outline",className:"text-xs py-0",children:[s.jsx(WP,{className:"h-2.5 w-2.5 mr-1"}),x.call_outcome.replace(/_/g," ").replace(/\b\w/g,E=>E.toUpperCase())]})]}),x.sentiment_notes&&s.jsx("p",{className:"text-xs text-muted-foreground italic",children:x.sentiment_notes}),x.key_points&&x.key_points.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(Ht,{className:"h-2.5 w-2.5"}),"Key Points"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:x.key_points.map((E,A)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-primary mt-0.5",children:""}),s.jsx("span",{children:E})]},A))})]}),x.action_items&&x.action_items.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(Qn,{className:"h-2.5 w-2.5"}),"Action Items"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:x.action_items.map((E,A)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:E})]},A))})]}),x.topics_discussed&&x.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Topics"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:x.topics_discussed.map((E,A)=>s.jsx(xe,{variant:"secondary",className:"text-[10px] py-0 px-1.5",children:E},A))})]}),x.lead_info&&(x.lead_info.name||x.lead_info.email||x.lead_info.phone)&&s.jsxs("div",{className:"space-y-1 p-2 border rounded-md",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[x.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",x.lead_info.name]}),x.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",x.lead_info.email]}),x.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",x.lead_info.phone]}),x.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",x.lead_info.company]}),x.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(xe,{variant:"outline",className:"text-[10px] py-0",children:x.lead_info.interest_level})]})]}),x.lead_info.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x.lead_info.notes})]})]}),(x==null?void 0:x.recording_url)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(TU,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Recording"})]}),s.jsxs("audio",{controls:!0,className:"w-full",autoPlay:!0,children:[s.jsx("source",{src:x.recording_url,type:"audio/wav"}),"Your browser does not support the audio element."]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this call"}):s.jsx("div",{className:"space-y-4",children:d.map(E=>s.jsx("div",{className:`flex gap-3 ${E.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${E.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:E.role==="assistant"?"Assistant":"User"}),s.jsx("p",{className:"text-sm",children:E.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:ct(new Date(E.timestamp),"h:mm:ss a")})]})},E.id))})]})]})]})})]})}function oVe(){var E;const{customer:e}=hs(),{toast:t}=En(),[n,r]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState([]),[c,u]=g.useState([]),[d,h]=g.useState(!1),[f,m]=g.useState(null),[v,p]=g.useState(null),[x,y]=g.useState(!1),[b,w]=g.useState("");g.useEffect(()=>{e&&S()},[e]);const j=async()=>{try{i(!0);const A=await rfe();console.log("WhatsApp sync result:",A),await N()}catch(A){console.log("WhatsApp sync error:",A)}finally{i(!1)}},N=async()=>{try{const{data:A,error:P}=await Y.from("customer_whatsapp_agent_assignments").select("agent_id").eq("customer_id",e==null?void 0:e.id);if(P)throw P;if(!A||A.length===0)return r(!1),!1;const B=A.map(F=>F.agent_id),{data:U,error:I}=await Y.from("whatsapp_agents").select("*").in("id",B);if(I)throw I;const{data:L,error:M}=await Y.from("whatsapp_conversations").select("*").in("agent_id",B).order("started_at",{ascending:!1});if(M)throw M;const $=(U||[]).map(F=>{const D=(L||[]).filter(H=>H.agent_id===F.id);return{id:F.id,name:F.name||"Unnamed Agent",phone_number:F.phone_number,totalConversations:D.length}});l($);const R=(L||[]).map(F=>{const D=U==null?void 0:U.find(H=>H.id===F.agent_id);return{conversation_id:F.id,agent_id:F.agent_id,agent_name:(D==null?void 0:D.name)||"Unknown",status:F.status||"unknown",start_time:new Date(F.started_at).getTime()/1e3,end_time:F.ended_at?new Date(F.ended_at).getTime()/1e3:void 0,duration_seconds:F.ended_at?Math.floor((new Date(F.ended_at).getTime()-new Date(F.started_at).getTime())/1e3):void 0,summary:F.summary,sentiment:F.sentiment,sentiment_notes:F.sentiment_notes,phone_number:F.phone_number,key_points:F.key_points,action_items:F.action_items,conversation_outcome:F.conversation_outcome,topics_discussed:F.topics_discussed,lead_info:F.lead_info}});return u(R),r(!1),B.length>0}catch(A){return console.error("Error loading cached data:",A),r(!1),!1}},S=async()=>{try{await N()&&j()}catch(A){console.error("Error fetching data:",A),t({title:"Error",description:"Failed to load WhatsApp agent data",variant:"destructive"}),r(!1)}},C=async A=>{y(!0);try{const{data:P,error:B}=await Y.from("whatsapp_messages").select("*").eq("conversation_id",A).order("timestamp",{ascending:!0});if(B)throw B;p({messages:P||[]})}catch(P){console.error("Error loading conversation details:",P),t({title:"Error",description:"Failed to load conversation details",variant:"destructive"})}finally{y(!1)}},k=A=>{const P=Math.floor(A/60),B=A%60;return`${P}m ${B}s`};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Qs,{className:"h-10 w-64"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Qs,{className:"h-32"}),s.jsx(Qs,{className:"h-32"}),s.jsx(Qs,{className:"h-32"})]}),s.jsx(Qs,{className:"h-96"})]}):o.length===0?s.jsx(nh,{type:"whatsapp"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"View conversations and transcripts from your WhatsApp agents"})]}),a&&s.jsx(xe,{variant:"secondary",className:"animate-pulse",children:"Updating..."})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((A,P)=>A+P.totalConversations,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all agents"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assigned to you"})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Recent Activity"}),s.jsx(Dt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.filter(A=>{const P=Date.now()/1e3-86400;return A.start_time>P}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations in last 24h"})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Your WhatsApp Agents"}),s.jsx(Se,{children:"Overview of your assigned agents"})]}),s.jsx(ee,{children:s.jsx("div",{className:"space-y-4",children:o.map(A=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-500/10",children:s.jsx(Jt,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:A.name}),A.phone_number&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),A.phone_number]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:A.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]})]},A.id))})})]}),s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Conversation History"}),s.jsx(Se,{children:"Complete history of all WhatsApp conversations"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search by phone number...",value:b,onChange:A=>w(A.target.value),className:"pl-9"})]})]})}),s.jsx(ee,{children:(()=>{const A=c.filter(P=>!b||P.phone_number&&P.phone_number.toLowerCase().includes(b.toLowerCase()));return A.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:b?"No conversations match your search":"No conversations yet"}):s.jsx($a,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:A.map(P=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{m(P),C(P.conversation_id),h(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:P.agent_name}),s.jsx(xe,{variant:P.status==="done"||P.status==="completed"?"default":"secondary",children:P.status}),P.sentiment&&s.jsx(xe,{variant:"outline",children:P.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[P.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),P.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(P.start_time*1e3),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),ct(new Date(P.start_time*1e3),"h:mm a")]}),P.duration_seconds&&s.jsxs("span",{children:["Duration: ",k(P.duration_seconds)]})]}),P.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:P.summary})]})},P.conversation_id))})})})()})]}),s.jsx(_v,{open:d,onOpenChange:h,children:s.jsxs(Of,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Nv,{children:[s.jsx(Sv,{children:"Conversation Details"}),s.jsx(Cv,{children:f&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[f.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(Nt,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium",children:["+",f.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-3 w-3"}),f.agent_name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(f.start_time*1e3),"MMM d, yyyy h:mm a")]}),f.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-3 w-3"}),"Duration: ",k(f.duration_seconds)]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(f==null?void 0:f.summary)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-2.5 bg-muted/50 rounded-md",children:s.jsx("p",{className:"text-xs leading-relaxed",children:f.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[f.sentiment&&s.jsxs(xe,{variant:f.sentiment==="positive"?"default":f.sentiment==="negative"?"destructive":"secondary",className:"text-xs py-0",children:[f.sentiment==="positive"&&s.jsx(Qn,{className:"h-2.5 w-2.5 mr-1"}),f.sentiment==="negative"&&s.jsx(ui,{className:"h-2.5 w-2.5 mr-1"}),f.sentiment.charAt(0).toUpperCase()+f.sentiment.slice(1)]}),f.conversation_outcome&&s.jsxs(xe,{variant:"outline",className:"text-xs py-0",children:[s.jsx(WP,{className:"h-2.5 w-2.5 mr-1"}),f.conversation_outcome.replace(/_/g," ").replace(/\b\w/g,A=>A.toUpperCase())]})]}),f.sentiment_notes&&s.jsx("p",{className:"text-xs text-muted-foreground italic",children:f.sentiment_notes}),f.key_points&&f.key_points.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(Ht,{className:"h-2.5 w-2.5"}),"Key Points"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:f.key_points.map((A,P)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-primary mt-0.5",children:""}),s.jsx("span",{children:A})]},P))})]}),f.action_items&&f.action_items.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(Qn,{className:"h-2.5 w-2.5"}),"Action Items"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:f.action_items.map((A,P)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:A})]},P))})]}),f.topics_discussed&&f.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Topics"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:f.topics_discussed.map((A,P)=>s.jsx(xe,{variant:"secondary",className:"text-[10px] py-0 px-1.5",children:A},P))})]}),f.lead_info&&(f.lead_info.name||f.lead_info.email||f.lead_info.phone)&&s.jsxs("div",{className:"space-y-1 p-2 border rounded-md",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[f.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",f.lead_info.name]}),f.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",f.lead_info.email]}),f.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",f.lead_info.phone]}),f.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",f.lead_info.company]}),f.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(xe,{variant:"outline",className:"text-[10px] py-0",children:f.lead_info.interest_level})]})]}),f.lead_info.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.lead_info.notes})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),x?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(E=v==null?void 0:v.messages)!=null&&E.length?s.jsx("div",{className:"space-y-4",children:v.messages.map((A,P)=>s.jsx("div",{className:`flex gap-3 ${A.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${A.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:A.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:A.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:ct(new Date(A.timestamp),"h:mm:ss a")})]})},P))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"})]})]})]})})]})}const r_=g.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",e),...t})}));r_.displayName="Table";const s_=g.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",e),...t}));s_.displayName="TableHeader";const a_=g.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",e),...t}));a_.displayName="TableBody";const lVe=g.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));lVe.displayName="TableFooter";const Tu=g.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Tu.displayName="TableRow";const Br=g.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Br.displayName="TableHead";const Ur=g.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ur.displayName="TableCell";const cVe=g.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",e),...t}));cVe.displayName="TableCaption";function uVe(){const{customer:e}=hs(),[t,n]=g.useState([]),[r,a]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(null);g.useEffect(()=>{e&&u()},[e]);const u=async()=>{if(e)try{console.log("Fetching customer forms for customer:",e.id);const{data:v,error:p}=await Y.from("chatbot_forms").select(`
          id,
          form_name,
          form_title,
          form_description,
          fields,
          terms_and_conditions,
          require_terms_acceptance,
          chatbots!inner (
            id,
            name,
            customer_chatbot_assignments!inner (
              customer_id
            )
          )
        `).eq("chatbots.customer_chatbot_assignments.customer_id",e.id).eq("is_active",!0);if(console.log("Forms data:",v,p),p)throw p;const x=await Promise.all((v||[]).map(async y=>{const{count:b}=await Y.from("form_submissions").select("*",{count:"exact",head:!0}).eq("form_id",y.id);return{id:y.id,form_name:y.form_name,form_title:y.form_title,form_description:y.form_description,fields:y.fields,terms_and_conditions:y.terms_and_conditions,require_terms_acceptance:y.require_terms_acceptance||!1,chatbot_name:y.chatbots.name,submission_count:b||0}}));n(x)}catch(v){console.error("Error fetching customer forms:",v)}finally{o(!1)}},d=async v=>{try{const{data:p,error:x}=await Y.from("form_submissions").select("*").eq("form_id",v).order("submitted_at",{ascending:!1});if(x)throw x;a(p||[])}catch(p){console.error("Error fetching form submissions:",p)}},h=v=>{c(v),d(v.id)},f=(v,p)=>{const y=(Array.isArray(p.fields)?p.fields:[]).find(b=>b.id===v);return(y==null?void 0:y.label)||v},m=(v,p)=>p?p.toString():"N/A";return i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading forms..."})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Forms Found"}),s.jsx("p",{className:"text-muted-foreground",children:"No forms have been created for your assigned chatbots yet."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View forms from your assigned chatbots and their submissions"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(v=>s.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ie,{className:"text-lg",children:v.form_title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",v.chatbot_name]})]}),s.jsxs(xe,{variant:"secondary",children:[v.submission_count," submissions"]})]})}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:v.form_description||"No description provided"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsxs("span",{children:[Array.isArray(v.fields)?v.fields.length:0," fields"]})]}),v.require_terms_acceptance&&s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Terms Required"})]}),v.require_terms_acceptance&&v.terms_and_conditions&&s.jsxs("div",{className:"p-2 bg-muted rounded text-xs",children:[s.jsx("strong",{children:"Terms:"})," ",v.terms_and_conditions.slice(0,100),v.terms_and_conditions.length>100&&"..."]}),s.jsxs(zn,{children:[s.jsx(qu,{asChild:!0,children:s.jsxs(te,{variant:"outline",size:"sm",className:"w-full",onClick:()=>h(v),children:[s.jsx(oa,{className:"h-4 w-4 mr-2"}),"View Submissions"]})}),s.jsxs(Dn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(In,{children:s.jsxs(Rn,{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-5 w-5"}),v.form_title," - Submissions"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No submissions yet"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total submissions: ",r.length]}),s.jsxs(r_,{children:[s.jsx(s_,{children:s.jsxs(Tu,{children:[s.jsx(Br,{children:"Submitted At"}),s.jsx(Br,{children:"Visitor ID"}),s.jsx(Br,{children:"Status"}),s.jsx(Br,{children:"Data"})]})}),s.jsx(a_,{children:r.map(p=>{var x;return s.jsxs(Tu,{children:[s.jsx(Ur,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"}),ct(new Date(p.submitted_at),"MMM dd, yyyy HH:mm")]})}),s.jsx(Ur,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-4 w-4 text-muted-foreground"}),((x=p.visitor_id)==null?void 0:x.slice(0,8))||"Anonymous"]})}),s.jsx(Ur,{children:s.jsx(xe,{variant:p.status==="submitted"?"default":"secondary",children:p.status})}),s.jsx(Ur,{children:s.jsx("div",{className:"space-y-1 max-w-md",children:p.submitted_data&&typeof p.submitted_data=="object"&&Object.entries(p.submitted_data).map(([y,b])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[l?f(y,l):y,":"]}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:m(null,b)})]},y))})})]},p.id)})})]})]})]})]})]})})]},v.id))})]})}function dVe(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Cn,{className:"h-8 w-8"}),"Forms & Submissions"]}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbots"})]}),s.jsx(uVe,{})]})}function hVe(){var F,D,H,z,_,O,T,q,W,K,G,V,se,re,je,be,ce;const{customer:e}=hs(),[t,n]=g.useState(null),[r,a]=g.useState(!0),[i,o]=g.useState("overview"),[l,c]=g.useState([]),[u,d]=g.useState(0),[h,f]=g.useState({chatbot:0,voice:0,whatsapp:0,overall:0}),[m,v]=g.useState({conversations:0,calls:0,waConversations:0,totalDuration:0}),[p,x]=g.useState([]),[y,b]=g.useState([]),[w,j]=g.useState([]),[N,S]=g.useState({chatbot:!1,voice:!1,whatsapp:!1}),[C,k]=g.useState({chatbot:!1,voice:!1,whatsapp:!1});g.useEffect(()=>{e&&E()},[e]),g.useEffect(()=>{i==="chatbots"&&!C.chatbot?A():i==="voice"&&!C.voice?P():i==="whatsapp"&&!C.whatsapp&&B()},[i]);const E=async()=>{if(e)try{const[Z,ge]=await Promise.all([nfe(),Mb()]);n(Z);const ke=ge.leads||[];c(ke),d(ke.length);const{data:me}=await Y.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",e.id),Ne=(me==null?void 0:me.map(yt=>yt.chatbot_id))||[];let oe=0;if(Ne.length>0){const{data:yt}=await Y.from("conversations").select("id").in("chatbot_id",Ne);oe=(yt==null?void 0:yt.length)||0}const{data:de}=await Y.from("customer_assistant_assignments").select("assistant_id").eq("customer_id",e.id),Pe=(de==null?void 0:de.map(yt=>yt.assistant_id).filter(Boolean))||[];let Ie=0,nt=0;if(Pe.length>0){const{data:yt}=await Y.from("voice_assistant_calls").select("id, duration_seconds").in("assistant_id",Pe);Ie=(yt==null?void 0:yt.length)||0,nt=(yt==null?void 0:yt.reduce((Ye,qt)=>Ye+(qt.duration_seconds||0),0))||0}const{data:Q}=await Y.from("customer_whatsapp_agent_assignments").select("agent_id").eq("customer_id",e.id),fe=(Q==null?void 0:Q.map(yt=>yt.agent_id).filter(Boolean))||[];let Te=0;if(fe.length>0){const{data:yt}=await Y.from("whatsapp_conversations").select("id").in("agent_id",fe);Te=(yt==null?void 0:yt.length)||0}const $e=ke.filter(yt=>yt.source_type==="chatbot").length,Xe=ke.filter(yt=>yt.source_type==="voice").length,Yt=ke.filter(yt=>yt.source_type==="whatsapp").length,Gn=oe>0?Math.round($e/oe*100):0,Yn=Ie>0?Math.round(Xe/Ie*100):0,zt=Te>0?Math.round(Yt/Te*100):0,lr=oe+Ie+Te,Zt=lr>0?Math.round(ke.length/lr*100):0;f({chatbot:Gn,voice:Yn,whatsapp:zt,overall:Zt}),v({conversations:oe,calls:Ie,waConversations:Te,totalDuration:nt})}catch(Z){console.error("Error fetching analytics:",Z),pe.error("Failed to load analytics data")}finally{a(!1)}},A=async()=>{S(Z=>({...Z,chatbot:!0}));try{const Z=await afe();x(Z.conversations||[]),k(ge=>({...ge,chatbot:!0}))}catch(Z){console.error("Error fetching chatbot logs:",Z)}finally{S(Z=>({...Z,chatbot:!1}))}},P=async()=>{S(Z=>({...Z,voice:!0}));try{const Z=await ife();b(Z.calls||[]),k(ge=>({...ge,voice:!0}))}catch(Z){console.error("Error fetching voice logs:",Z)}finally{S(Z=>({...Z,voice:!1}))}},B=async()=>{S(Z=>({...Z,whatsapp:!0}));try{const Z=await ofe();j(Z.conversations||[]),k(ge=>({...ge,whatsapp:!0}))}catch(Z){console.error("Error fetching whatsapp logs:",Z)}finally{S(Z=>({...Z,whatsapp:!1}))}},U=Z=>{const ge=typeof Z=="number"&&!isNaN(Z)?Math.floor(Z):0;if(ge<=0)return"0s";const ke=Math.floor(ge/3600),me=Math.floor(ge%3600/60),Ne=ge%60;return ke>0?`${ke}h ${me}m`:me>0?Ne>0?`${me}m ${Ne}s`:`${me}m`:`${Ne}s`},I=Z=>Z?new Date(Z).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",L=Z=>{if(!Z)return{icon:s.jsx(zD,{className:"h-4 w-4"}),color:"text-muted-foreground",label:"Unknown"};const ge=Z.toLowerCase();return ge.includes("positive")||ge.includes("happy")||ge.includes("satisfied")?{icon:s.jsx(bse,{className:"h-4 w-4"}),color:"text-emerald-600",label:"Positive"}:ge.includes("negative")||ge.includes("unhappy")||ge.includes("frustrated")?{icon:s.jsx(ese,{className:"h-4 w-4"}),color:"text-red-500",label:"Negative"}:{icon:s.jsx(zD,{className:"h-4 w-4"}),color:"text-amber-500",label:"Neutral"}},M=Z=>{if(!Z)return null;const ge=Z.toLowerCase();return ge.includes("success")||ge.includes("converted")||ge.includes("completed")||ge.includes("qualified")?s.jsx(xe,{variant:"outline",className:"text-emerald-600 border-emerald-200 bg-emerald-50",children:Z}):ge.includes("fail")||ge.includes("lost")||ge.includes("dropped")?s.jsx(xe,{variant:"outline",className:"text-red-500 border-red-200 bg-red-50",children:Z}):s.jsx(xe,{variant:"outline",children:Z})};if(r)return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((Z,ge)=>s.jsx("div",{className:"h-28 bg-muted/30 rounded-xl animate-pulse"},ge))}),s.jsx("div",{className:"h-80 bg-muted/30 rounded-xl animate-pulse"})]});const $=m.conversations+m.calls+m.waConversations,R=(((D=(F=t==null?void 0:t.chatbots)==null?void 0:F.assigned)==null?void 0:D.length)??0)+(((z=(H=t==null?void 0:t.voice_assistants)==null?void 0:H.assigned)==null?void 0:z.length)??0)+(((O=(_=t==null?void 0:t.whatsapp_agents)==null?void 0:_.assigned)==null?void 0:O.length)??0);return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track performance across all your AI agents"})]})}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Leads"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Captured from agents"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(dn,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conversion Rate"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:[h.overall,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lead conversion"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Gi,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Interactions"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:$}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total conversations & calls"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Jt,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Agents"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:R}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connected agents"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ze,{className:"h-6 w-6 text-primary"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(J,{className:"overflow-hidden",children:s.jsx(ee,{className:"p-0",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Ze,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-medium",children:"Chatbots"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversion"}),s.jsxs("span",{className:"text-2xl font-semibold",children:[h.chatbot,"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{children:m.conversations})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{children:((T=t.chatbots)==null?void 0:T.total_messages)??0})]})]})]})})}),s.jsx(J,{className:"overflow-hidden",children:s.jsx(ee,{className:"p-0",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Nt,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-medium",children:"Voice"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversion"}),s.jsxs("span",{className:"text-2xl font-semibold",children:[h.voice,"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Calls"}),s.jsx("span",{children:m.calls})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration"}),s.jsx("span",{children:U(m.totalDuration)})]})]})]})})}),s.jsx(J,{className:"overflow-hidden",children:s.jsx(ee,{className:"p-0",children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Jt,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-medium",children:"WhatsApp"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversion"}),s.jsxs("span",{className:"text-2xl font-semibold",children:[h.whatsapp,"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{children:m.waConversations})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{children:((q=t.whatsapp_agents)==null?void 0:q.total_messages)??0})]})]})]})})})]}),s.jsxs(Gu,{value:i,onValueChange:o,children:[s.jsxs(vc,{children:[s.jsx(tn,{value:"overview",children:"Recent Leads"}),s.jsx(tn,{value:"chatbots",children:"Chatbots"}),s.jsx(tn,{value:"voice",children:"Voice"}),s.jsx(tn,{value:"whatsapp",children:"WhatsApp"})]}),s.jsx(nn,{value:"overview",className:"mt-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Recent Leads"}),s.jsx(Se,{children:"Latest leads captured by your AI agents"})]}),s.jsx(ee,{children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No leads captured yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Leads will appear here as your agents interact with visitors"})]}):s.jsx("div",{className:"space-y-1",children:l.slice(0,6).map((Z,ge)=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors ${ge!==l.slice(0,6).length-1?"border-b":""}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:(Z.name||Z.email||"?")[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.name||Z.email||Z.phone_number||"Anonymous"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.email&&Z.phone_number?`${Z.email}  ${Z.phone_number}`:Z.email||Z.phone_number||"No contact info"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:Z.source_name||Z.source_type}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(Z.extracted_at).toLocaleDateString()})]})]},Z.id))})})]})}),s.jsxs(nn,{value:"chatbots",className:"mt-4 space-y-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Chatbot Performance"}),s.jsx(Se,{children:"Individual metrics for each chatbot"})]}),s.jsx(ee,{children:(((K=(W=t.chatbots)==null?void 0:W.assigned)==null?void 0:K.length)??0)===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ze,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No chatbots connected"})]}):s.jsx("div",{className:"space-y-4",children:(((G=t.chatbots)==null?void 0:G.assigned)??[]).map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center",style:{backgroundColor:Z.theme_color?`${Z.theme_color}15`:"hsl(var(--muted))"},children:s.jsx(Ze,{className:"h-6 w-6",style:{color:Z.theme_color||"hsl(var(--foreground))"}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.description||"AI Chatbot"})]})]}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:Z.conversation_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"conversations"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:Z.message_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"messages"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:Z.conversation_count>0?Math.round(Z.message_count/Z.conversation_count):0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"avg/conv"})]})]})]},Z.id))})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Recent Conversations"}),s.jsx(Se,{children:"Conversation logs with AI analysis"})]}),s.jsx(ee,{children:N.chatbot?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(xt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No conversation logs available"})]}):s.jsx("div",{className:"space-y-4",children:p.map(Z=>s.jsxs("div",{className:"p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:Z.chatbot_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Z.message_count," messages"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I(Z.updated_at)})]}),Z.lead_info&&(Z.lead_info.name||Z.lead_info.email)&&s.jsxs(xe,{variant:"outline",className:"text-emerald-600 border-emerald-200 bg-emerald-50",children:[s.jsx(Gr,{className:"h-3 w-3 mr-1"})," Lead Captured"]})]}),Z.summary&&s.jsxs("div",{className:"mb-3 p-3 bg-muted/30 rounded-md",children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm",children:Z.summary})]}),Z.lead_info&&(Z.lead_info.name||Z.lead_info.email||Z.lead_info.phone)&&s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[Z.lead_info.name&&s.jsx("span",{className:"text-muted-foreground",children:s.jsx("span",{className:"font-medium text-foreground",children:Z.lead_info.name})}),Z.lead_info.email&&s.jsx("span",{className:"text-muted-foreground",children:Z.lead_info.email}),Z.lead_info.phone&&s.jsx("span",{className:"text-muted-foreground",children:Z.lead_info.phone}),Z.lead_info.company&&s.jsxs("span",{className:"text-muted-foreground",children:["@ ",Z.lead_info.company]})]}),Z.last_message&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Last message (",Z.last_message.role,")"]}),s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["",Z.last_message.content,""]})]})]},Z.id))})})]})]}),s.jsxs(nn,{value:"voice",className:"mt-4 space-y-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Voice Assistant Performance"}),s.jsx(Se,{children:"Call statistics for each assistant"})]}),s.jsx(ee,{children:(((se=(V=t.voice_assistants)==null?void 0:V.assigned)==null?void 0:se.length)??0)===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nt,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No voice assistants connected"})]}):s.jsx("div",{className:"space-y-4",children:(((re=t.voice_assistants)==null?void 0:re.assigned)??[]).map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Nt,{className:"h-6 w-6 text-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.phone_number||"No phone assigned"})]})]}),s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:Z.call_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"calls"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:U(Z.total_duration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"total time"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:Z.call_count>0?U(Math.round(Z.total_duration/Z.call_count)):"0m"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"avg call"})]})]})]},Z.id))})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Recent Calls"}),s.jsx(Se,{children:"Call logs with AI analysis"})]}),s.jsx(ee,{children:N.voice?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(xt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No call logs available"})]}):s.jsx("div",{className:"space-y-4",children:y.map(Z=>{const ge=L(Z.analysis.sentiment);return s.jsxs("div",{className:"p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:Z.assistant_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:U(Z.duration_seconds)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:I(Z.started_at)}),Z.caller_phone&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:Z.caller_phone})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Z.analysis.sentiment&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${ge.color}`,children:[ge.icon,s.jsx("span",{children:ge.label})]}),Z.analysis.call_outcome&&M(Z.analysis.call_outcome)]})]}),Z.analysis.summary&&s.jsxs("div",{className:"mb-3 p-3 bg-muted/30 rounded-md",children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm",children:Z.analysis.summary})]}),Z.analysis.key_points&&Z.analysis.key_points.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-2",children:"Key Points"}),s.jsx("ul",{className:"space-y-1",children:Z.analysis.key_points.slice(0,3).map((ke,me)=>s.jsxs("li",{className:"text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1",children:""}),s.jsx("span",{children:ke})]},me))})]}),Z.analysis.action_items&&Z.analysis.action_items.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-2",children:"Action Items"}),s.jsx("ul",{className:"space-y-1",children:Z.analysis.action_items.slice(0,3).map((ke,me)=>s.jsxs("li",{className:"text-sm flex items-start gap-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-emerald-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:ke})]},me))})]}),Z.analysis.topics_discussed&&Z.analysis.topics_discussed.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t",children:Z.analysis.topics_discussed.slice(0,5).map((ke,me)=>s.jsx(xe,{variant:"secondary",className:"text-xs",children:ke},me))}),Z.analysis.lead_info&&(Z.analysis.lead_info.name||Z.analysis.lead_info.email||Z.analysis.lead_info.phone)&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-2",children:"Lead Information"}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[Z.analysis.lead_info.name&&s.jsx("span",{className:"font-medium",children:Z.analysis.lead_info.name}),Z.analysis.lead_info.email&&s.jsx("span",{className:"text-muted-foreground",children:Z.analysis.lead_info.email}),Z.analysis.lead_info.phone&&s.jsx("span",{className:"text-muted-foreground",children:Z.analysis.lead_info.phone}),Z.analysis.lead_info.company&&s.jsxs("span",{className:"text-muted-foreground",children:["@ ",Z.analysis.lead_info.company]})]})]})]},Z.id)})})})]})]}),s.jsxs(nn,{value:"whatsapp",className:"mt-4 space-y-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"WhatsApp Agent Performance"}),s.jsx(Se,{children:"Conversation metrics for each agent"})]}),s.jsx(ee,{children:(((be=(je=t.whatsapp_agents)==null?void 0:je.assigned)==null?void 0:be.length)??0)===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jt,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No WhatsApp agents connected"})]}):s.jsx("div",{className:"space-y-4",children:(((ce=t.whatsapp_agents)==null?void 0:ce.assigned)??[]).map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(Jt,{className:"h-6 w-6 text-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.phone_number||"No phone assigned"})]})]}),s.jsx("div",{className:"flex items-center gap-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl font-bold",children:Z.conversation_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"conversations"})]})})]},Z.id))})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Recent Conversations"}),s.jsx(Se,{children:"WhatsApp conversation logs with AI analysis"})]}),s.jsx(ee,{children:N.whatsapp?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(xt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):w.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No conversation logs available"})]}):s.jsx("div",{className:"space-y-4",children:w.map(Z=>{const ge=L(Z.analysis.sentiment);return s.jsxs("div",{className:"p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:Z.agent_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[Z.message_count," messages"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:I(Z.started_at)}),Z.customer_phone&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:Z.customer_phone})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Z.analysis.sentiment&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${ge.color}`,children:[ge.icon,s.jsx("span",{children:ge.label})]}),Z.analysis.conversation_outcome&&M(Z.analysis.conversation_outcome)]})]}),Z.analysis.summary&&s.jsxs("div",{className:"mb-3 p-3 bg-muted/30 rounded-md",children:[s.jsx("p",{className:"text-sm text-muted-foreground font-medium mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm",children:Z.analysis.summary})]}),Z.analysis.key_points&&Z.analysis.key_points.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-2",children:"Key Points"}),s.jsx("ul",{className:"space-y-1",children:Z.analysis.key_points.slice(0,3).map((ke,me)=>s.jsxs("li",{className:"text-sm flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1",children:""}),s.jsx("span",{children:ke})]},me))})]}),Z.analysis.action_items&&Z.analysis.action_items.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-2",children:"Action Items"}),s.jsx("ul",{className:"space-y-1",children:Z.analysis.action_items.slice(0,3).map((ke,me)=>s.jsxs("li",{className:"text-sm flex items-start gap-2",children:[s.jsx(Gr,{className:"h-4 w-4 text-emerald-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:ke})]},me))})]}),Z.analysis.topics_discussed&&Z.analysis.topics_discussed.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t",children:Z.analysis.topics_discussed.slice(0,5).map((ke,me)=>s.jsx(xe,{variant:"secondary",className:"text-xs",children:ke},me))}),Z.analysis.lead_info&&(Z.analysis.lead_info.name||Z.analysis.lead_info.email||Z.analysis.lead_info.phone)&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium mb-2",children:"Lead Information"}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[Z.analysis.lead_info.name&&s.jsx("span",{className:"font-medium",children:Z.analysis.lead_info.name}),Z.analysis.lead_info.email&&s.jsx("span",{className:"text-muted-foreground",children:Z.analysis.lead_info.email}),Z.analysis.lead_info.phone&&s.jsx("span",{className:"text-muted-foreground",children:Z.analysis.lead_info.phone}),Z.analysis.lead_info.company&&s.jsxs("span",{className:"text-muted-foreground",children:["@ ",Z.analysis.lead_info.company]})]})]})]},Z.id)})})})]})]})]})]}),!t&&!r&&s.jsx(J,{children:s.jsxs(ee,{className:"text-center py-16",children:[s.jsx(Gl,{className:"h-16 w-16 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Analytics Available"}),s.jsx("p",{className:"text-muted-foreground",children:"Analytics will appear here once your agents start receiving interactions"})]})})]})}function fVe(){const{customer:e,updateProfile:t}=hs(),{theme:n,setTheme:r}=kv(),[a,i]=g.useState(!1),[o,l]=g.useState({full_name:(e==null?void 0:e.full_name)||"",company_name:(e==null?void 0:e.company_name)||""}),[c,u]=g.useState(!1),[d,h]=g.useState({newPassword:"",confirmPassword:""}),[f,m]=g.useState(!1),[v,p]=g.useState(!1),[x,y]=g.useState(!1),b=async()=>{if(d.newPassword.length<6){pe.error("Password must be at least 6 characters long");return}if(d.newPassword!==d.confirmPassword){pe.error("Passwords do not match");return}y(!0);try{const{error:S}=await Y.auth.updateUser({password:d.newPassword});S?pe.error(S.message||"Failed to update password"):(pe.success("Password updated successfully"),u(!1),h({newPassword:"",confirmPassword:""}))}catch{pe.error("An unexpected error occurred")}finally{y(!1)}},w=()=>{u(!1),h({newPassword:"",confirmPassword:""}),m(!1),p(!1)},j=async S=>{i(!0);try{const{error:C}=await t({weekly_summary_enabled:S});C?pe.error("Failed to update notification settings"):pe.success("Notification settings updated successfully")}finally{i(!1)}},N=async()=>{i(!0);try{const{error:S}=await t(o);S?pe.error("Failed to update profile"):pe.success("Profile updated successfully")}finally{i(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(As,{className:"h-8 w-8"}),"Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and notification settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(Se,{children:"Update your personal information and company details"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"full_name",children:"Full Name"}),s.jsx(he,{id:"full_name",value:o.full_name,onChange:S=>l(C=>({...C,full_name:S.target.value})),placeholder:"Enter your full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"company_name",children:"Company Name"}),s.jsx(he,{id:"company_name",value:o.company_name,onChange:S=>l(C=>({...C,company_name:S.target.value})),placeholder:"Enter your company name"})]}),s.jsxs(te,{onClick:N,disabled:a,className:"w-full",children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Profile"]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(MU,{className:"h-5 w-5"}),"Appearance"]}),s.jsx(Se,{children:"Customize how the portal looks"})]}),s.jsx(ee,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Select your preferred theme"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(te,{variant:n==="light"?"default":"outline",size:"sm",onClick:()=>r("light"),className:"flex items-center gap-2",children:[s.jsx(VP,{className:"h-4 w-4"}),"Light"]}),s.jsxs(te,{variant:n==="dark"?"default":"outline",size:"sm",onClick:()=>r("dark"),className:"flex items-center gap-2",children:[s.jsx(qP,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(RP,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(Se,{children:"Configure how you want to receive updates and alerts"})]}),s.jsxs(ee,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{htmlFor:"weekly-summary",children:"Weekly Email Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly performance summaries via email"})]}),s.jsx(Lt,{id:"weekly-summary",checked:(e==null?void 0:e.weekly_summary_enabled)||!1,onCheckedChange:j,disabled:a})]}),s.jsx(ls,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Email Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"New Form Submissions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when forms are submitted"})]}),s.jsx(Lt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"System Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system announcements"})]}),s.jsx(Lt,{defaultChecked:!0})]})]})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"h-5 w-5"}),"Account Information"]}),s.jsx(Se,{children:"View your account details and access information"})]}),s.jsx(ee,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Gre,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Company"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.company_name)||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(_n,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Account Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Account"})]})]})]})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"h-5 w-5"}),"Security"]}),s.jsx(Se,{children:"Manage your account security and access"})]}),s.jsx(ee,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tC,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure your account with a strong password"})]})]}),s.jsx(te,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Change Password"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx(te,{variant:"outline",size:"sm",disabled:!0,children:"Coming Soon"})]})]})})]})]}),s.jsx(zn,{open:c,onOpenChange:w,children:s.jsxs(Dn,{className:"sm:max-w-md",children:[s.jsxs(In,{children:[s.jsxs(Rn,{className:"flex items-center gap-2",children:[s.jsx(tC,{className:"h-5 w-5"}),"Change Password"]}),s.jsx(la,{children:"Enter your new password below. Make sure it's at least 6 characters long."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(he,{id:"new-password",type:f?"text":"password",value:d.newPassword,onChange:S=>h(C=>({...C,newPassword:S.target.value})),placeholder:"Enter new password",className:"pr-10"}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!f),children:f?s.jsx(Yp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(oa,{className:"h-4 w-4 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(he,{id:"confirm-password",type:v?"text":"password",value:d.confirmPassword,onChange:S=>h(C=>({...C,confirmPassword:S.target.value})),placeholder:"Confirm new password",className:"pr-10"}),s.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!v),children:v?s.jsx(Yp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(oa,{className:"h-4 w-4 text-muted-foreground"})})]})]}),d.newPassword&&d.confirmPassword&&d.newPassword!==d.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(te,{variant:"outline",onClick:w,children:"Cancel"}),s.jsx(te,{onClick:b,disabled:x||!d.newPassword||!d.confirmPassword,children:x?"Updating...":"Update Password"})]})]})})]})}function mVe({customerId:e,customerName:t,onClose:n}){var C;const[r,a]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(!1),[u,d]=g.useState(null),[h,f]=g.useState([]),[m,v]=g.useState(!1);g.useEffect(()=>{p()},[e]);const p=async()=>{var k;try{o(!0);const E=await Rge(e);a(E.assignments||[]),((k=E.assignments)==null?void 0:k.length)>0&&x(E.assignments[0])}catch(E){console.error("Failed to fetch assignments:",E),pe.error("Failed to load customer assignments")}finally{o(!1)}},x=async k=>{d(k),v(!0);try{const E=await Mge(k.type,k.assignment_id);f(E.permissions||[])}catch(E){console.error("Failed to fetch permissions:",E),pe.error("Failed to load permissions")}finally{v(!1)}},y=(k,E)=>{f(A=>A.map(P=>P.permission_type_id===k?{...P,is_enabled:E}:P))},b=async()=>{if(u){c(!0);try{await Dge(u.type,u.assignment_id,h.map(k=>({permission_type_id:k.permission_type_id,is_enabled:k.is_enabled}))),pe.success("Permissions saved successfully")}catch(k){console.error("Failed to save permissions:",k),pe.error("Failed to save permissions")}finally{c(!1)}}},w=k=>{switch(k){case"voice":return s.jsx(Nt,{className:"h-4 w-4"});case"chatbot":return s.jsx(Ze,{className:"h-4 w-4"});case"whatsapp":return s.jsx(Jt,{className:"h-4 w-4"});default:return null}},j=k=>{switch(k){case"view":return s.jsx(oa,{className:"h-4 w-4"});case"edit":return s.jsx(bb,{className:"h-4 w-4"});case"content":return s.jsx(Cn,{className:"h-4 w-4"});default:return null}},N=k=>{switch(k){case"view":return"bg-blue-100 text-blue-800";case"edit":return"bg-yellow-100 text-yellow-800";case"content":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},S=h.reduce((k,E)=>{const A=E.category||"other";return k[A]||(k[A]=[]),k[A].push(E),k},{});return i?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r.length===0?s.jsx(J,{children:s.jsx(ee,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground text-center",children:"No agent assignments found for this customer."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Configure Permissions"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Manage what ",t," can see and do in their portal"]})]}),n&&s.jsx(te,{variant:"outline",size:"sm",onClick:n,children:"Close"})]}),s.jsxs(Gu,{value:(u==null?void 0:u.assignment_id)||((C=r[0])==null?void 0:C.assignment_id),onValueChange:k=>{const E=r.find(A=>A.assignment_id===k);E&&x(E)},children:[s.jsx(vc,{className:"w-full justify-start overflow-x-auto",children:r.map(k=>s.jsxs(tn,{value:k.assignment_id,className:"flex items-center gap-2",children:[w(k.type),s.jsx("span",{className:"max-w-[120px] truncate",children:k.agent_name}),s.jsx(xe,{variant:"outline",className:"text-xs",children:k.type})]},k.assignment_id))}),r.map(k=>s.jsx(nn,{value:k.assignment_id,children:m?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(xt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):s.jsxs(J,{children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs(ie,{className:"text-base flex items-center gap-2",children:[w(k.type),k.agent_name]}),s.jsxs(Se,{children:["Configure what this customer can access for this"," ",k.type==="voice"?"voice assistant":k.type==="chatbot"?"chatbot":"WhatsApp agent"]})]}),s.jsxs(ee,{className:"space-y-6",children:[Object.entries(S).map(([E,A])=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[j(E),s.jsxs("h4",{className:"font-medium capitalize",children:[E," Permissions"]})]}),s.jsx("div",{className:"space-y-2 pl-6",children:A.map(P=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{htmlFor:P.permission_type_id,className:"font-medium cursor-pointer",children:P.name}),s.jsx(xe,{variant:"secondary",className:`text-xs ${N(P.category)}`,children:P.category})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]}),s.jsx(Lt,{id:P.permission_type_id,checked:P.is_enabled,onCheckedChange:B=>y(P.permission_type_id,B)})]},P.permission_type_id))})]},E)),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(te,{onClick:b,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Save Permissions"]})})})]})]})},k.assignment_id))]})]})}function pVe(){var y;const[e,t]=g.useState([]),[n,r]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,h]=g.useState(!1);g.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0),console.log("[PendingCrawlUrlReview] Fetching pending crawl URLs");const b=await Vge();console.log("[PendingCrawlUrlReview] API response:",b),t(b.crawl_urls||[])}catch(b){console.error("[PendingCrawlUrlReview] Failed to fetch pending crawl URLs:",b),pe.error("Failed to load pending crawl URLs")}finally{r(!1)}},m=b=>{l(b),u(""),i(!0)},v=async()=>{if(o){h(!0);try{const b=await x4(o.id,"approve",c);pe.success(b.message||"URL approved and set to active"),i(!1),f()}catch(b){console.error("Failed to approve crawl URL:",b),pe.error("Failed to approve URL")}finally{h(!1)}}},p=async()=>{if(o){h(!0);try{await x4(o.id,"reject",c),pe.success("URL rejected"),i(!1),f()}catch(b){console.error("Failed to reject crawl URL:",b),pe.error("Failed to reject URL")}finally{h(!1)}}},x=b=>{switch(b){case"daily":return s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Daily"});case"weekly":return s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Weekly"});case"monthly":return s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Monthly"});default:return s.jsx(xe,{variant:"secondary",className:"text-xs",children:b})}};return n?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.length===0?s.jsx(J,{children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[s.jsx(Es,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"font-medium",children:"No pending crawl URLs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer-submitted website URLs for crawling will appear here for review."})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Pending Crawl URLs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and approve customer-submitted website URLs for crawling"})]}),s.jsxs(xe,{variant:"secondary",children:[e.length," pending"]})]}),s.jsx("div",{className:"space-y-3",children:e.map(b=>{var w,j;return s.jsx(J,{className:"hover:border-primary/50 transition-colors",children:s.jsx(ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-sm",children:b.assistant_name}),x(b.crawl_frequency)]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:b.url}),s.jsx(Gp,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"})]}),b.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:b.description})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(_n,{className:"h-3 w-3"}),s.jsx("span",{children:((w=b.customers)==null?void 0:w.full_name)||((j=b.customers)==null?void 0:j.email)||"Unknown"}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(b.created_at).toLocaleDateString()})]})]}),s.jsx(te,{size:"sm",onClick:()=>m(b),children:"Review"})]})})},b.id)})})]}),s.jsx(zn,{open:a,onOpenChange:i,children:s.jsxs(Dn,{className:"max-w-lg",children:[s.jsxs(In,{children:[s.jsxs(Rn,{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5"}),"Review Crawl URL"]}),s.jsxs(la,{children:["Review this URL submission from ",((y=o==null?void 0:o.customers)==null?void 0:y.full_name)||"a customer"]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),s.jsx(xe,{variant:"outline",children:o.assistant_name}),x(o.crawl_frequency)]}),s.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Website URL"}),s.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all flex items-center gap-2",children:[o.url,s.jsx(Gp,{className:"h-4 w-4 flex-shrink-0"})]})]}),o.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),s.jsx("p",{children:o.description})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Crawl Frequency"}),s.jsx("p",{className:"capitalize",children:o.crawl_frequency})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Review Notes (optional)"}),s.jsx(dt,{placeholder:"Add notes about your decision...",value:c,onChange:b=>u(b.target.value),rows:3})]}),s.jsxs("div",{className:"rounded-lg bg-blue-50 p-3 text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Approving this URL will set it to active status. The URL will be crawled according to its frequency schedule and the content will be sent to the voice assistant."]})]}),s.jsxs(Ev,{className:"gap-2 sm:gap-0",children:[s.jsx(te,{variant:"destructive",onClick:p,disabled:d,children:d?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Reject"]})}),s.jsx(te,{onClick:v,disabled:d,children:d?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{className:"mr-2 h-4 w-4"}),"Approve & Activate"]})})]})]})})]})}function gVe(){const{user:e}=Ut(),[t,n]=g.useState([]),[r,a]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(!1),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,v]=g.useState([]),[p,x]=g.useState({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]}),[y,b]=g.useState(null);g.useEffect(()=>{e&&(w(),j())},[e]);const w=async()=>{try{const{data:E,error:A}=await Y.from("chatbots").select("id, name, description");if(A)throw A;a(E||[]);const{data:P,error:B}=await Y.from("customers").select(`
          *,
          customer_chatbot_assignments (
            chatbot_id
          )
        `);if(B)throw B;const U=(E==null?void 0:E.map(L=>L.id))||[],I=(P==null?void 0:P.map(L=>({...L,assigned_chatbots:L.customer_chatbot_assignments.filter(M=>U.includes(M.chatbot_id)).map(M=>M.chatbot_id)})))||[];n(I)}catch(E){console.error("Error fetching data:",E),pe.error("Failed to load customer data")}finally{o(!1)}},j=async()=>{if(e!=null&&e.id)try{const{data:E,error:A}=await Y.from("team_members").select("team_org_id, user_id, role").eq("user_id",e.id);if(A)throw A;if(E&&E.length>0){const P=E.map($=>$.team_org_id),{data:B,error:U}=await Y.from("team_members").select("team_org_id, user_id, role").in("team_org_id",P);if(U)throw U;d(B||[]);const{data:I,error:L}=await Y.from("team_organizations").select("id, name").in("id",P);if(L)throw L;f(I||[]);const M=[...new Set((B||[]).map($=>$.user_id))];if(M.length>0){const{data:$,error:R}=await Y.from("profiles").select("id, full_name, email").in("id",M);if(R)throw R;v($||[])}}}catch(E){console.error("Error fetching team data:",E)}},N=E=>{var U;if(!E.created_by_user_id)return{ownerName:"Unknown",teamName:null,isOwn:!1};if(E.created_by_user_id===(e==null?void 0:e.id))return{ownerName:"You",teamName:null,isOwn:!0};const A=m.find(I=>I.id===E.created_by_user_id),P=(A==null?void 0:A.full_name)||((U=A==null?void 0:A.email)==null?void 0:U.split("@")[0])||"Unknown",B=u.find(I=>I.user_id===E.created_by_user_id&&u.some(L=>L.team_org_id===I.team_org_id&&L.user_id===(e==null?void 0:e.id)));if(B){const I=h.find(L=>L.id===B.team_org_id);return{ownerName:P,teamName:(I==null?void 0:I.name)||null,isOwn:!1}}return{ownerName:P,teamName:null,isOwn:!1}},S=async()=>{if(!p.email||!p.full_name||!p.password){pe.error("Please fill in all required fields including password");return}if(p.password.length<6){pe.error("Password must be at least 6 characters long");return}try{const E=await Zhe({email:p.email,full_name:p.full_name,company_name:p.company_name||void 0,password:p.password,chatbot_id:p.assigned_chatbots[0]||void 0}),A=E==null?void 0:E.customer_id;if(A&&p.assigned_chatbots.length>0)for(const B of p.assigned_chatbots)await Y.from("customer_chatbot_assignments").upsert({customer_id:A,chatbot_id:B,assigned_by:e==null?void 0:e.id},{onConflict:"customer_id,chatbot_id",ignoreDuplicates:!0});const P=E!=null&&E.auth_created?"Customer created successfully with login credentials":"Customer created successfully (login credentials may need manual setup)";pe.success(P),c(!1),x({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]}),w()}catch(E){console.error("Error creating customer:",E),pe.error("Failed to create customer")}},C=async E=>{if(confirm("Are you sure you want to delete this customer? This will also remove all their chatbot assignments."))try{const{error:A}=await Y.from("customers").delete().eq("id",E);if(A)throw A;pe.success("Customer deleted successfully"),w()}catch(A){console.error("Error deleting customer:",A),pe.error("Failed to delete customer")}},k=async E=>{try{await efe(E.email),pe.success("Login link sent successfully")}catch(A){console.error("Error sending login link:",A),pe.error("Failed to send login link")}};return i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer access to your chatbots"})]}),s.jsxs(zn,{open:l,onOpenChange:c,children:[s.jsx(qu,{asChild:!0,children:s.jsxs(te,{children:[s.jsx(Ph,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),s.jsxs(Dn,{className:"sm:max-w-md",children:[s.jsxs(In,{children:[s.jsx(Rn,{children:"Add New Customer"}),s.jsx(la,{children:"Create a new customer account and assign chatbots"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email *"}),s.jsx(he,{id:"email",type:"email",value:p.email,onChange:E=>x({...p,email:E.target.value}),placeholder:"customer@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(he,{id:"full_name",value:p.full_name,onChange:E=>x({...p,full_name:E.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"company_name",children:"Company Name"}),s.jsx(he,{id:"company_name",value:p.company_name,onChange:E=>x({...p,company_name:E.target.value}),placeholder:"Acme Corp"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"password",children:"Password *"}),s.jsx(he,{id:"password",type:"password",value:p.password,onChange:E=>x({...p,password:E.target.value}),placeholder:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Assign Chatbots (Optional)"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2",children:r.map(E=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lf,{id:E.id,checked:p.assigned_chatbots.includes(E.id),onCheckedChange:A=>{x(A?{...p,assigned_chatbots:[...p.assigned_chatbots,E.id]}:{...p,assigned_chatbots:p.assigned_chatbots.filter(P=>P!==E.id)})}}),s.jsx(ne,{htmlFor:E.id,className:"text-sm",children:E.name})]},E.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(te,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(te,{onClick:S,children:"Create Customer"})]})]})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Customers"}),s.jsx(Se,{children:"Manage customer accounts and their chatbot access"})]}),s.jsx(ee,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No customers found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first customer to get started."})]}):s.jsxs(r_,{children:[s.jsx(s_,{children:s.jsxs(Tu,{children:[s.jsx(Br,{children:"Customer"}),s.jsx(Br,{children:"Company"}),s.jsx(Br,{children:"Created By"}),s.jsx(Br,{children:"Assigned Chatbots"}),s.jsx(Br,{children:"Last Login"}),s.jsx(Br,{children:"Actions"})]})}),s.jsx(a_,{children:t.map(E=>{const A=N(E);return s.jsxs(Tu,{children:[s.jsx(Ur,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:E.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.email})]})}),s.jsx(Ur,{children:E.company_name||"-"}),s.jsx(Ur,{children:s.jsx("div",{className:"flex items-center gap-2",children:A.isOwn?s.jsx(xe,{variant:"outline",className:"text-xs",children:"You"}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium",children:A.ownerName}),A.teamName&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(dn,{className:"w-3 h-3"}),A.teamName]})]})})}),s.jsx(Ur,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:E.assigned_chatbots.map(P=>{const B=r.find(U=>U.id===P);return s.jsx(xe,{variant:"secondary",className:"text-xs",children:(B==null?void 0:B.name)||"Unknown"},P)})})}),s.jsx(Ur,{children:E.last_login?new Date(E.last_login).toLocaleDateString():"Never"}),s.jsx(Ur,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(te,{variant:"outline",size:"sm",onClick:()=>b(E),title:"Manage Permissions",children:s.jsx(Hi,{className:"w-4 h-4"})}),s.jsx(te,{variant:"outline",size:"sm",onClick:()=>k(E),title:"Send Login Link",children:s.jsx(Ls,{className:"w-4 h-4"})}),A.isOwn&&s.jsx(te,{variant:"outline",size:"sm",onClick:()=>C(E.id),title:"Delete Customer",children:s.jsx($t,{className:"w-4 h-4"})})]})})]},E.id)})})]})})]}),s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(AU,{className:"h-5 w-5 text-amber-500"}),s.jsxs("div",{children:[s.jsx(ie,{children:"Customer Content Reviews"}),s.jsx(Se,{children:"Review and approve customer-submitted FAQs and content changes"})]})]})}),s.jsx(ee,{children:s.jsx(RV,{})})]}),s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx(ie,{children:"Website Crawl URL Reviews"}),s.jsx(Se,{children:"Review and approve customer-submitted website URLs for crawling"})]})]})}),s.jsx(ee,{children:s.jsx(pVe,{})})]}),s.jsx(zn,{open:!!y,onOpenChange:E=>!E&&b(null),children:s.jsxs(Dn,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(In,{children:[s.jsxs(Rn,{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"w-5 h-5"}),"Customer Permissions"]}),s.jsxs(la,{children:["Configure what ",y==null?void 0:y.full_name," can access in their portal"]})]}),y&&s.jsx(mVe,{customerId:y.id,customerName:y.full_name,onClose:()=>b(null)})]})})]})}var GE=["Enter"," "],vVe=["ArrowDown","PageUp","Home"],TK=["ArrowUp","PageDown","End"],xVe=[...vVe,...TK],yVe={ltr:[...GE,"ArrowRight"],rtl:[...GE,"ArrowLeft"]},bVe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qv="Menu",[Ug,wVe,jVe]=bf(qv),[Ku,OK]=Er(qv,[jVe,oc,Xf]),i_=oc(),MK=Xf(),[_Ve,Ju]=Ku(qv),[NVe,Vv]=Ku(qv),DK=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=i_(t),[c,u]=g.useState(null),d=g.useRef(!1),h=An(i),f=mc(a);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(Aw,{...l,children:s.jsx(_Ve,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(NVe,{scope:t,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};DK.displayName=qv;var SVe="MenuAnchor",TO=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=i_(n);return s.jsx(iv,{...a,...r,ref:t})});TO.displayName=SVe;var OO="MenuPortal",[CVe,IK]=Ku(OO,{forceMount:void 0}),RK=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Ju(OO,t);return s.jsx(CVe,{scope:t,forceMount:n,children:s.jsx(tr,{present:n||i.open,children:s.jsx(wf,{asChild:!0,container:a,children:r})})})};RK.displayName=OO;var Oa="MenuContent",[kVe,MO]=Ku(Oa),$K=g.forwardRef((e,t)=>{const n=IK(Oa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Ju(Oa,e.__scopeMenu),o=Vv(Oa,e.__scopeMenu);return s.jsx(Ug.Provider,{scope:e.__scopeMenu,children:s.jsx(tr,{present:r||i.open,children:s.jsx(Ug.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(EVe,{...a,ref:t}):s.jsx(PVe,{...a,ref:t})})})})}),EVe=g.forwardRef((e,t)=>{const n=Ju(Oa,e.__scopeMenu),r=g.useRef(null),a=et(t,r);return g.useEffect(()=>{const i=r.current;if(i)return xv(i)},[]),s.jsx(DO,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PVe=g.forwardRef((e,t)=>{const n=Ju(Oa,e.__scopeMenu);return s.jsx(DO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DO=g.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:v,...p}=e,x=Ju(Oa,n),y=Vv(Oa,n),b=i_(n),w=MK(n),j=wVe(n),[N,S]=g.useState(null),C=g.useRef(null),k=et(t,C,x.onContentChange),E=g.useRef(0),A=g.useRef(""),P=g.useRef(0),B=g.useRef(null),U=g.useRef("right"),I=g.useRef(0),L=v?vv:g.Fragment,M=v?{as:$s,allowPinchZoom:!0}:void 0,$=F=>{var W,K;const D=A.current+F,H=j().filter(G=>!G.disabled),z=document.activeElement,_=(W=H.find(G=>G.ref.current===z))==null?void 0:W.textValue,O=H.map(G=>G.textValue),T=UVe(O,D,_),q=(K=H.find(G=>G.textValue===T))==null?void 0:K.ref.current;(function G(V){A.current=V,window.clearTimeout(E.current),V!==""&&(E.current=window.setTimeout(()=>G(""),1e3))})(D),q&&setTimeout(()=>q.focus())};g.useEffect(()=>()=>window.clearTimeout(E.current),[]),Qw();const R=g.useCallback(F=>{var H,z;return U.current===((H=B.current)==null?void 0:H.side)&&qVe(F,(z=B.current)==null?void 0:z.area)},[]);return s.jsx(kVe,{scope:n,searchRef:A,onItemEnter:g.useCallback(F=>{R(F)&&F.preventDefault()},[R]),onItemLeave:g.useCallback(F=>{var D;R(F)||((D=C.current)==null||D.focus(),S(null))},[R]),onTriggerLeave:g.useCallback(F=>{R(F)&&F.preventDefault()},[R]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(F=>{B.current=F},[]),children:s.jsx(L,{...M,children:s.jsx(gv,{asChild:!0,trapped:a,onMountAutoFocus:Ae(i,F=>{var D;F.preventDefault(),(D=C.current)==null||D.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx(HT,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:Ae(c,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Tw,{role:"menu","aria-orientation":"vertical","data-state":ZK(x.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Ae(p.onKeyDown,F=>{const H=F.target.closest("[data-radix-menu-content]")===F.currentTarget,z=F.ctrlKey||F.altKey||F.metaKey,_=F.key.length===1;H&&(F.key==="Tab"&&F.preventDefault(),!z&&_&&$(F.key));const O=C.current;if(F.target!==O||!xVe.includes(F.key))return;F.preventDefault();const q=j().filter(W=>!W.disabled).map(W=>W.ref.current);TK.includes(F.key)&&q.reverse(),FVe(q)}),onBlur:Ae(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:Ae(e.onPointerMove,zg(F=>{const D=F.target,H=I.current!==F.clientX;if(F.currentTarget.contains(D)&&H){const z=F.clientX>I.current?"right":"left";U.current=z,I.current=F.clientX}}))})})})})})})});$K.displayName=Oa;var AVe="MenuGroup",IO=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{role:"group",...r,ref:t})});IO.displayName=AVe;var TVe="MenuLabel",LK=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{...r,ref:t})});LK.displayName=TVe;var U0="MenuItem",l5="menu.itemSelect",o_=g.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=g.useRef(null),o=Vv(U0,e.__scopeMenu),l=MO(U0,e.__scopeMenu),c=et(t,i),u=g.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(l5,{bubbles:!0,cancelable:!0});h.addEventListener(l5,m=>r==null?void 0:r(m),{once:!0}),OP(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(FK,{...a,ref:c,disabled:n,onClick:Ae(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Ae(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Ae(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||GE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});o_.displayName=U0;var FK=g.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=MO(U0,n),l=MK(n),c=g.useRef(null),u=et(t,c),[d,h]=g.useState(!1),[f,m]=g.useState("");return g.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),s.jsx(Ug.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(GT,{asChild:!0,...l,focusable:!r,children:s.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Ae(e.onPointerMove,zg(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,zg(v=>o.onItemLeave(v))),onFocus:Ae(e.onFocus,()=>h(!0)),onBlur:Ae(e.onBlur,()=>h(!1))})})})}),OVe="MenuCheckboxItem",BK=g.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(WK,{scope:e.__scopeMenu,checked:n,children:s.jsx(o_,{role:"menuitemcheckbox","aria-checked":z0(n)?"mixed":n,...a,ref:t,"data-state":$O(n),onSelect:Ae(a.onSelect,()=>r==null?void 0:r(z0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});BK.displayName=OVe;var UK="MenuRadioGroup",[MVe,DVe]=Ku(UK,{value:void 0,onValueChange:()=>{}}),zK=g.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=An(r);return s.jsx(MVe,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(IO,{...a,ref:t})})});zK.displayName=UK;var qK="MenuRadioItem",VK=g.forwardRef((e,t)=>{const{value:n,...r}=e,a=DVe(qK,e.__scopeMenu),i=n===a.value;return s.jsx(WK,{scope:e.__scopeMenu,checked:i,children:s.jsx(o_,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":$O(i),onSelect:Ae(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});VK.displayName=qK;var RO="MenuItemIndicator",[WK,IVe]=Ku(RO,{checked:!1}),HK=g.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=IVe(RO,n);return s.jsx(tr,{present:r||z0(i.checked)||i.checked===!0,children:s.jsx(Be.span,{...a,ref:t,"data-state":$O(i.checked)})})});HK.displayName=RO;var RVe="MenuSeparator",GK=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});GK.displayName=RVe;var $Ve="MenuArrow",YK=g.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=i_(n);return s.jsx(Ow,{...a,...r,ref:t})});YK.displayName=$Ve;var LVe="MenuSub",[VQe,KK]=Ku(LVe),Gm="MenuSubTrigger",JK=g.forwardRef((e,t)=>{const n=Ju(Gm,e.__scopeMenu),r=Vv(Gm,e.__scopeMenu),a=KK(Gm,e.__scopeMenu),i=MO(Gm,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(TO,{asChild:!0,...u,children:s.jsx(FK,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":ZK(n.open),...e,ref:jw(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,zg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ae(e.onPointerLeave,zg(h=>{var m,v;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(v=n.content)==null?void 0:v.dataset.side,x=p==="right",y=x?-5:5,b=f[x?"left":"right"],w=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||yVe[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});JK.displayName=Gm;var XK="MenuSubContent",QK=g.forwardRef((e,t)=>{const n=IK(Oa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Ju(Oa,e.__scopeMenu),o=Vv(Oa,e.__scopeMenu),l=KK(XK,e.__scopeMenu),c=g.useRef(null),u=et(t,c);return s.jsx(Ug.Provider,{scope:e.__scopeMenu,children:s.jsx(tr,{present:r||i.open,children:s.jsx(Ug.Slot,{scope:e.__scopeMenu,children:s.jsx(DO,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ae(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=bVe[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});QK.displayName=XK;function ZK(e){return e?"open":"closed"}function z0(e){return e==="indeterminate"}function $O(e){return z0(e)?"indeterminate":e?"checked":"unchecked"}function FVe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function BVe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function UVe(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=BVe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function zVe(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function qVe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zVe(n,t)}function zg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var VVe=DK,WVe=TO,HVe=RK,GVe=$K,YVe=IO,KVe=LK,JVe=o_,XVe=BK,QVe=zK,ZVe=VK,e7e=HK,t7e=GK,n7e=YK,r7e=JK,s7e=QK,LO="DropdownMenu",[a7e,WQe]=Er(LO,[OK]),fs=OK(),[i7e,eJ]=a7e(LO),tJ=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=fs(t),u=g.useRef(null),[d=!1,h]=Kr({prop:a,defaultProp:i,onChange:o});return s.jsx(i7e,{scope:t,triggerId:Ts(),triggerRef:u,contentId:Ts(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(VVe,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};tJ.displayName=LO;var nJ="DropdownMenuTrigger",rJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=eJ(nJ,n),o=fs(n);return s.jsx(WVe,{asChild:!0,...o,children:s.jsx(Be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:jw(t,i.triggerRef),onPointerDown:Ae(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ae(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});rJ.displayName=nJ;var o7e="DropdownMenuPortal",sJ=e=>{const{__scopeDropdownMenu:t,...n}=e,r=fs(t);return s.jsx(HVe,{...r,...n})};sJ.displayName=o7e;var aJ="DropdownMenuContent",iJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=eJ(aJ,n),i=fs(n),o=g.useRef(!1);return s.jsx(GVe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:Ae(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iJ.displayName=aJ;var l7e="DropdownMenuGroup",c7e=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(YVe,{...a,...r,ref:t})});c7e.displayName=l7e;var u7e="DropdownMenuLabel",oJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(KVe,{...a,...r,ref:t})});oJ.displayName=u7e;var d7e="DropdownMenuItem",lJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(JVe,{...a,...r,ref:t})});lJ.displayName=d7e;var h7e="DropdownMenuCheckboxItem",cJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(XVe,{...a,...r,ref:t})});cJ.displayName=h7e;var f7e="DropdownMenuRadioGroup",m7e=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(QVe,{...a,...r,ref:t})});m7e.displayName=f7e;var p7e="DropdownMenuRadioItem",uJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(ZVe,{...a,...r,ref:t})});uJ.displayName=p7e;var g7e="DropdownMenuItemIndicator",dJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(e7e,{...a,...r,ref:t})});dJ.displayName=g7e;var v7e="DropdownMenuSeparator",hJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(t7e,{...a,...r,ref:t})});hJ.displayName=v7e;var x7e="DropdownMenuArrow",y7e=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(n7e,{...a,...r,ref:t})});y7e.displayName=x7e;var b7e="DropdownMenuSubTrigger",fJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(r7e,{...a,...r,ref:t})});fJ.displayName=b7e;var w7e="DropdownMenuSubContent",mJ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=fs(n);return s.jsx(s7e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mJ.displayName=w7e;var j7e=tJ,_7e=rJ,N7e=sJ,pJ=iJ,gJ=oJ,vJ=lJ,xJ=cJ,yJ=uJ,bJ=dJ,wJ=hJ,jJ=fJ,_J=mJ;const l_=j7e,c_=_7e,S7e=g.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(jJ,{ref:a,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(ss,{className:"ml-auto h-4 w-4"})]}));S7e.displayName=jJ.displayName;const C7e=g.forwardRef(({className:e,...t},n)=>s.jsx(_J,{ref:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));C7e.displayName=_J.displayName;const Wv=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(N7e,{children:s.jsx(pJ,{ref:r,sideOffset:t,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Wv.displayName=pJ.displayName;const Ui=g.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(vJ,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ui.displayName=vJ.displayName;const k7e=g.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(xJ,{ref:a,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(bJ,{children:s.jsx(ac,{className:"h-4 w-4"})})}),t]}));k7e.displayName=xJ.displayName;const E7e=g.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(yJ,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(bJ,{children:s.jsx(EU,{className:"h-2 w-2 fill-current"})})}),t]}));E7e.displayName=yJ.displayName;const NJ=g.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(gJ,{ref:r,className:ye("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));NJ.displayName=gJ.displayName;const u_=g.forwardRef(({className:e,...t},n)=>s.jsx(wJ,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));u_.displayName=wJ.displayName;function SJ({onSwitch:e,compact:t=!1}){const{user:n}=Ut(),[r,a]=g.useState([]),[i,o]=g.useState(!0),[l,c]=g.useState(!1),u=async()=>{try{o(!0);const{data:f,error:m}=await Y.from("voice_connections").select("id, org_name, org_id, is_active").eq("user_id",n==null?void 0:n.id).order("created_at",{ascending:!0});if(m)throw m;console.log("OrganizationSwitcher: Fetched connections:",f),a(f||[])}catch(f){console.error("Error fetching connections:",f)}finally{o(!1)}};g.useEffect(()=>{n&&u()},[n]),g.useEffect(()=>(window.__refreshOrgSwitcher=u,()=>{delete window.__refreshOrgSwitcher}),[n]);const d=async f=>{if(l)return;const m=r.find(v=>v.id===f);if(!(!m||m.is_active)){c(!0);try{const{error:v}=await Y.from("voice_connections").update({is_active:!1}).eq("user_id",n==null?void 0:n.id);if(v)throw v;const{error:p}=await Y.from("voice_connections").update({is_active:!0}).eq("id",f);if(p)throw p;pe.success(`Switched to "${m.org_name||"Organization"}"`),await u(),e==null||e()}catch(v){console.error("Error switching organization:",v),pe.error("Failed to switch organization")}finally{c(!1)}}},h=r.find(f=>f.is_active);return i||r.length<=1?null:s.jsxs(l_,{children:[s.jsx(c_,{asChild:!0,children:s.jsxs(te,{variant:"outline",size:t?"sm":"default",className:"gap-2",disabled:l,children:[s.jsx(Sw,{className:t?"h-3.5 w-3.5":"h-4 w-4"}),s.jsx("span",{className:t?"text-xs max-w-[100px] truncate":"max-w-[150px] truncate",children:(h==null?void 0:h.org_name)||"Select Org"}),s.jsx(ic,{className:t?"h-3 w-3":"h-3.5 w-3.5"})]})}),s.jsxs(Wv,{align:"end",className:"w-56",children:[s.jsx(NJ,{className:"text-xs text-muted-foreground",children:"Vapi Organizations"}),s.jsx(u_,{}),r.map(f=>s.jsxs(Ui,{onClick:()=>d(f.id),className:"flex items-center justify-between cursor-pointer",disabled:f.is_active,children:[s.jsx("span",{className:f.is_active?"font-medium":"",children:f.org_name||"Unnamed Organization"}),f.is_active&&s.jsx(ac,{className:"h-4 w-4 text-primary"})]},f.id))]})]})}const CJ=({assistantId:e,assistantName:t,orgId:n,onTaskCreated:r,placeholder:a="Add a task and press Enter..."})=>{const{user:i}=Ut(),[o,l,c]=ys("quickTaskForm_title",""),[u,d]=g.useState(!1),h=async m=>{if(m==null||m.preventDefault(),!(!o.trim()||!i)){d(!0);try{const v=await Y.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:e||null,org_id:n||null,title:o.trim(),priority:"medium",status:"pending"}).select().single();if(v.error)throw v.error;e&&await Y.from("changelog_entries").insert({user_id:i.id,entity_type:"voice_assistant",entity_id:e,change_type:"task",title:o.trim(),status:"pending",source:"manual"}),r==null||r(v.data),c(),pe.success(e?`Task added for ${t}`:"Task added (unassigned)")}catch(v){console.error("Error creating task:",v),pe.error("Failed to create task")}finally{d(!1)}}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h())};return s.jsxs("form",{onSubmit:h,className:"flex items-center gap-2",children:[s.jsx(he,{value:o,onChange:m=>l(m.target.value),onKeyDown:f,placeholder:a,disabled:u,className:"flex-1"}),s.jsx(te,{type:"submit",size:"sm",disabled:u||!o.trim(),className:"shrink-0",children:u?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsx(Ft,{className:"h-4 w-4"})})]})};function P7e(){const{user:e}=Ut(),t=Ar(),[n,r]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(!0),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[v,p]=g.useState(null),[x,y]=g.useState(""),[b,w]=g.useState(""),[j,N]=g.useState(null),S=async()=>{if(!d){h(!0);try{const L=await dp();console.log(`Auto-synced ${(L==null?void 0:L.count)||0} voice assistants`)}catch(L){console.error("Auto-sync error:",L)}finally{h(!1)}}};g.useEffect(()=>{e&&C()},[e]),g.useEffect(()=>{if(e&&j!==null){S().then(()=>E());const L=setInterval(()=>{S().then(()=>E())},12e4);return()=>clearInterval(L)}},[e,j]);const C=async()=>{try{const{data:L,error:M}=await Y.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(M)throw M;N((L==null?void 0:L.org_id)||"")}catch(L){console.error("Error fetching active connection:",L),N("")}},k=async()=>{p(null),await C(),h(!0);try{const L=await dp();pe.success(`Synced ${L.count} assistants`)}catch(L){console.error("Error syncing assistants:",L),pe.error("Failed to sync assistants")}finally{h(!1)}};g.useEffect(()=>{n.length>0&&!v&&p(n[0].id)},[n,v]);const E=async()=>{var L;try{u(!0);const{data:M,error:$}=await Y.from("voice_assistants").select("*").order("created_at",{ascending:!1});if($)throw $;let R=M||[];j&&(R=R.filter(G=>G.org_id===j||G.org_id===null)),r(R);const F=[],{data:D}=await Y.from("chatbots").select("id"),H=(D==null?void 0:D.map(G=>G.id))||[],z=(R==null?void 0:R.map(G=>G.id))||[],{data:_}=await Y.from("whatsapp_agents").select("id"),O=(_==null?void 0:_.map(G=>G.id))||[];if(H.length>0){const{data:G}=await Y.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",H);G&&F.push(...G)}if(z.length>0){const{data:G}=await Y.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",z);G&&F.push(...G)}if(O.length>0){const{data:G}=await Y.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",O);G&&F.push(...G)}const T=Array.from(new Map(F.map(G=>[G.id,G])).values());i(T);const{data:q,error:W}=await Y.from("customer_assistant_assignments").select(`
          id,
          assistant_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e==null?void 0:e.id);if(W)throw W;const K=((L=q==null?void 0:q.filter(G=>G.customers!=null))==null?void 0:L.map(G=>({id:G.id,assistant_id:G.assistant_id,customer:G.customers})))||[];l(K)}catch(M){console.error("Error fetching data:",M),pe.error("Failed to load data")}finally{u(!1)}},A=async()=>{h(!0);try{const L=await dp();pe.success(`Synced ${L.count} assistants`),await E()}catch(L){console.error("Error syncing assistants:",L),pe.error("Failed to sync assistants")}finally{h(!1)}},P=async()=>{if(!v||!x){pe.error("Please select a customer");return}try{const{error:L}=await Y.from("customer_assistant_assignments").insert({customer_id:x,assistant_id:v,assigned_by:e==null?void 0:e.id});if(L){if(L.code==="23505")pe.error("This customer is already assigned to this assistant");else throw L;return}pe.success("Assistant assigned successfully"),m(!1),y(""),await E()}catch(L){console.error("Error assigning assistant:",L),pe.error("Failed to assign assistant")}},B=async L=>{try{const{error:M}=await Y.from("customer_assistant_assignments").delete().eq("id",L);if(M)throw M;pe.success("Assignment removed"),await E()}catch(M){console.error("Error removing assignment:",M),pe.error("Failed to remove assignment")}},U=n.find(L=>L.id===v),I=o.filter(L=>L.assistant_id===v);return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(lp,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Voice Assistants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(SJ,{onSwitch:k,compact:!0}),s.jsxs(te,{onClick:A,disabled:d,size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(Ps,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing":"Sync"]})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(ha,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(he,{placeholder:"Search assistants...",value:b,onChange:L=>w(L.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx($a,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const L=n.filter(M=>{var $;return($=M.name)==null?void 0:$.toLowerCase().includes(b.toLowerCase())});return L.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(Ze,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b?"No matching assistants":"No assistants found"}),!b&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your assistants"})]}):L.map(M=>{const $=o.filter(F=>F.assistant_id===M.id).length,R=v===M.id;return s.jsx("button",{onClick:()=>p(M.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${R?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${R?"text-primary":""}`,children:M.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[M.model_provider&&s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:M.model_provider}),$>0&&s.jsxs(xe,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[$," assigned"]})]})]}),R&&s.jsx(ss,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},M.id)})})()})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," assistants"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:U?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:s.jsx(Ze,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:U.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Created ",new Date(U.created_at).toLocaleDateString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t(`/voice-assistants/${U.id}/edit`),className:"gap-1.5",children:[s.jsx(yse,{className:"h-4 w-4"}),"Edit"]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Quick Add Task"}),s.jsx(CJ,{assistantId:U.id,assistantName:U.name,orgId:j,placeholder:"Add a task and press Enter..."})]}),U.first_message&&s.jsx(J,{className:"mb-6",children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Jt,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"First Message"}),s.jsxs("p",{className:"text-sm italic",children:['"',U.first_message,'"']})]})]})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.voice_provider&&s.jsx(J,{children:s.jsx(ee,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice"}),s.jsx("p",{className:"text-sm font-medium",children:U.voice_provider})]})]})})}),U.model_provider&&s.jsx(J,{children:s.jsx(ee,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Model"}),s.jsxs("p",{className:"text-sm font-medium",children:[U.model_provider,U.model&&`  ${U.model}`]})]})]})})}),U.transcriber_provider&&s.jsx(J,{children:s.jsx(ee,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transcriber"}),s.jsx("p",{className:"text-sm font-medium",children:U.transcriber_provider})]})]})})}),U.phone_number&&s.jsx(J,{children:s.jsx(ee,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"text-sm font-medium font-mono",children:U.phone_number})]})]})})})]})]}),s.jsx(ls,{className:"my-6"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qd,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"Assigned Customers"}),s.jsx(xe,{variant:"secondary",className:"text-xs",children:I.length})]}),s.jsxs(te,{size:"sm",onClick:()=>m(!0),className:"gap-1.5",children:[s.jsx(Ph,{className:"h-3.5 w-3.5"}),"Assign"]})]}),I.length===0?s.jsx(J,{className:"border-dashed",children:s.jsxs(ee,{className:"py-8 text-center",children:[s.jsx(qd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assign customers to give them access to this assistant"})]})}):s.jsx("div",{className:"space-y-2",children:I.map(L=>{var M,$,R,F,D;return s.jsx(J,{children:s.jsx(ee,{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:((R=($=(M=L.customer)==null?void 0:M.full_name)==null?void 0:$.charAt(0))==null?void 0:R.toUpperCase())||"?"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:((F=L.customer)==null?void 0:F.full_name)||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:((D=L.customer)==null?void 0:D.email)||"No email"})]})]}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>B(L.id),className:"hover:bg-destructive/10 hover:text-destructive h-8 w-8 p-0",children:s.jsx($t,{className:"h-4 w-4"})})]})})},L.id)})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an assistant to view details"})]})})}),s.jsx(zn,{open:f,onOpenChange:m,children:s.jsxs(Dn,{className:"sm:max-w-md",children:[s.jsxs(In,{children:[s.jsxs(Rn,{className:"flex items-center gap-2",children:[s.jsx(Ph,{className:"h-5 w-5 text-primary"}),"Assign Customer"]}),s.jsxs(la,{children:["Select a customer to give them access to ",U==null?void 0:U.name]})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs(He,{value:x,onValueChange:y,children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select a customer..."})}),s.jsx(We,{children:a.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No customers available"}):a.map(L=>s.jsx(ue,{value:L.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:L.full_name}),s.jsxs("span",{className:"text-muted-foreground",children:["(",L.email,")"]})]})},L.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"}),s.jsx(te,{onClick:P,disabled:!x,className:"flex-1",children:"Assign"})]})]})]})})]})}var kJ={};function c5(e,t){if(e==null)return{};var n,r,a=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e){return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function EJ(e){var t=function(n,r){if(It(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,r||"default");if(It(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return It(t)=="symbol"?t:t+""}function u5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EJ(r.key),r)}}function ma(e,t,n){return t&&u5(e.prototype,t),n&&u5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d_(e,t){if(t&&(It(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gi(e)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},qg(e,t)}function h_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function Ri(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d5(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,a)}function at(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(c){d5(i,r,a,o,l,"next",c)}function l(c){d5(i,r,a,o,l,"throw",c)}o(void 0)})}}function h5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,o,l,c,u=[],d=!0,h=!1;try{if(l=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return h5(n,r);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h5(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A7e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f5,ty={exports:{}},YE=function(){if(f5)return ty.exports;f5=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,x,y){return Function.prototype.apply.call(p,x,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function a(){a.init.call(this)}ty.exports=a,ty.exports.once=function(p,x){return new Promise(function(y,b){function w(N){p.removeListener(x,j),b(N)}function j(){typeof p.removeListener=="function"&&p.removeListener("error",w),y([].slice.call(arguments))}v(p,x,j,{once:!0}),x!=="error"&&function(N,S,C){typeof N.on=="function"&&v(N,"error",S,C)}(p,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function l(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}function c(p,x,y,b){var w,j,N,S;if(o(y),(j=p._events)===void 0?(j=p._events=Object.create(null),p._eventsCount=0):(j.newListener!==void 0&&(p.emit("newListener",x,y.listener?y.listener:y),j=p._events),N=j[x]),N===void 0)N=j[x]=y,++p._eventsCount;else if(typeof N=="function"?N=j[x]=b?[y,N]:[N,y]:b?N.unshift(y):N.push(y),(w=l(p))>0&&N.length>w&&!N.warned){N.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=p,C.type=x,C.count=N.length,S=C,console&&console.warn&&console.warn(S)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,x,y){var b={fired:!1,wrapFn:void 0,target:p,type:x,listener:y},w=u.bind(b);return w.listener=y,b.wrapFn=w,w}function h(p,x,y){var b=p._events;if(b===void 0)return[];var w=b[x];return w===void 0?[]:typeof w=="function"?y?[w.listener||w]:[w]:y?function(j){for(var N=new Array(j.length),S=0;S<N.length;++S)N[S]=j[S].listener||j[S];return N}(w):m(w,w.length)}function f(p){var x=this._events;if(x!==void 0){var y=x[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,x){for(var y=new Array(x),b=0;b<x;++b)y[b]=p[b];return y}function v(p,x,y,b){if(typeof p.on=="function")b.once?p.once(x,y):p.on(x,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(x,function w(j){b.once&&p.removeEventListener(x,w),y(j)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(p){for(var x=[],y=1;y<arguments.length;y++)x.push(arguments[y]);var b=p==="error",w=this._events;if(w!==void 0)b=b&&w.error===void 0;else if(!b)return!1;if(b){var j;if(x.length>0&&(j=x[0]),j instanceof Error)throw j;var N=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw N.context=j,N}var S=w[p];if(S===void 0)return!1;if(typeof S=="function")n(S,this,x);else{var C=S.length,k=m(S,C);for(y=0;y<C;++y)n(k[y],this,x)}return!0},a.prototype.addListener=function(p,x){return c(this,p,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(p,x){return c(this,p,x,!0)},a.prototype.once=function(p,x){return o(x),this.on(p,d(this,p,x)),this},a.prototype.prependOnceListener=function(p,x){return o(x),this.prependListener(p,d(this,p,x)),this},a.prototype.removeListener=function(p,x){var y,b,w,j,N;if(o(x),(b=this._events)===void 0)return this;if((y=b[p])===void 0)return this;if(y===x||y.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete b[p],b.removeListener&&this.emit("removeListener",p,y.listener||x));else if(typeof y!="function"){for(w=-1,j=y.length-1;j>=0;j--)if(y[j]===x||y[j].listener===x){N=y[j].listener,w=j;break}if(w<0)return this;w===0?y.shift():function(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}(y,w),y.length===1&&(b[p]=y[0]),b.removeListener!==void 0&&this.emit("removeListener",p,N||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(p){var x,y,b;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var w,j=Object.keys(y);for(b=0;b<j.length;++b)(w=j[b])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=y[p])=="function")this.removeListener(p,x);else if(x!==void 0)for(b=x.length-1;b>=0;b--)this.removeListener(p,x[b]);return this},a.prototype.listeners=function(p){return h(this,p,!0)},a.prototype.rawListeners=function(p){return h(this,p,!1)},a.listenerCount=function(p,x){return typeof p.listenerCount=="function"?p.listenerCount(x):f.call(p,x)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},ty.exports}(),ny=A7e(YE),m5=Object.prototype.hasOwnProperty;function p5(e,t,n){for(n of e.keys())if(rs(n,t))return n}function rs(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&rs(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((a=r)&&typeof a=="object"&&!(a=p5(t,a))||!t.has(a))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((a=r[0])&&typeof a=="object"&&!(a=p5(t,a))||!rs(r[1],t.get(a)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(m5.call(e,n)&&++r&&!m5.call(t,n)||!(n in t)||!rs(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const T7e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},PJ={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},qn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Zr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},il={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ee{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const a=Ee.getVersionPrecision(t),i=Ee.getVersionPrecision(n);let o=Math.max(a,i),l=0;const c=Ee.map([t,n],u=>{const d=o-Ee.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return Ee.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(l=o-Math.min(a,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(a=0;a<t.length;a+=1)r.push(n(t[a]));return r}static find(t,n){let r,a;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,a=t.length;r<a;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let a,i;if(Object.assign)return Object.assign(t,...n);for(a=0,i=n.length;a<i;a+=1){const o=n[a];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return t}static getBrowserAlias(t){return T7e[t]}static getBrowserTypeByAlias(t){return PJ[t]||""}}const ln=/version\/(\d+(\.?_?\d+)+)/i,O7e=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=Ee.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=Ee.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=Ee.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=Ee.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=Ee.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=Ee.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=Ee.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=Ee.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=Ee.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=Ee.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=Ee.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=Ee.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=Ee.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=Ee.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=Ee.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=Ee.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=Ee.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=Ee.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=Ee.getFirstMatch(ln,e)||Ee.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=Ee.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=Ee.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=Ee.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=Ee.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=Ee.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=Ee.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=Ee.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=Ee.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=Ee.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=Ee.getFirstMatch(ln,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Ee.getFirstMatch(t,e),version:Ee.getSecondMatch(t,e)}}}];var M7e=[{test:[/Roku\/DVP/],describe(e){const t=Ee.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Zr.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Ee.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Zr.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Ee.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=Ee.getWindowsVersionName(t);return{name:Zr.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Zr.iOS},n=Ee.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=Ee.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=Ee.getMacOSVersionName(t),r={name:Zr.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Ee.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Zr.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=Ee.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=Ee.getAndroidVersionName(t),r={name:Zr.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Ee.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Zr.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Ee.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Ee.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Ee.getFirstMatch(/\bbb(\d+)/i,e);return{name:Zr.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Ee.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Zr.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Ee.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Zr.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Zr.Linux})},{test:[/CrOS/],describe:()=>({name:Zr.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Ee.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Zr.PlayStation4,version:t}}}],D7e=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Ee.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:qn.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:qn.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:qn.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:qn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:qn.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:qn.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=Ee.getFirstMatch(/(ipod|iphone)/i,e);return{type:qn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:qn.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:qn.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:qn.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:qn.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:qn.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:qn.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:qn.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:qn.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:qn.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:qn.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:qn.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:qn.tv})}],I7e=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:il.Blink};const t=Ee.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:il.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:il.Trident},n=Ee.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:il.Presto},n=Ee.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:il.Gecko},n=Ee.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:il.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:il.WebKit},n=Ee.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class g5{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=Ee.find(O7e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=Ee.find(M7e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=Ee.find(D7e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=Ee.find(I7e,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ee.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const a={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(a[o]=l,i+=1):typeof l=="object"&&(n[o]=l,r+=1)}),r>0){const o=Object.keys(n),l=Ee.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=Ee.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(a),l=Ee.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=Ee.getBrowserTypeByAlias(a);return n&&i&&(a=i.toLowerCase()),a===r}compareVersion(t){let n=[0],r=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(a=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(a=!0,r=t.substr(1)),n.indexOf(Ee.compareVersions(i,r,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let R7e=class{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new g5(t,n)}static parse(t){return new g5(t).getResult()}static get BROWSER_MAP(){return PJ}static get ENGINE_MAP(){return il}static get OS_MAP(){return Zr}static get PLATFORMS_MAP(){return qn}};function f_(){return Date.now()+Math.random().toString()}function Rm(){throw new Error("Method must be implemented in subclass")}function AJ(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function q0(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:AJ("https://c.daily.co/call-machine/versioned/".concat("0.84.0","/static/call-machine-object-bundle.js"),e)}function V0(e){try{new URL(e)}catch{return!1}return!0}const mn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,uu="8.55.0",Gt=globalThis;function W0(e,t,n){const r=Gt,a=r.__SENTRY__=r.__SENTRY__||{},i=a[uu]=a[uu]||{};return i[e]||(i[e]=t())}const Xu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,KE=["debug","info","warn","error","log","assert","trace"],H0={};function Hv(e){if(!("console"in Gt))return e();const t=Gt.console,n={},r=Object.keys(H0);r.forEach(a=>{const i=H0[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}const ut=W0("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Xu?KE.forEach(n=>{t[n]=(...r)=>{e&&Hv(()=>{Gt.console[n](`Sentry Logger [${n}]:`,...r)})}}):KE.forEach(n=>{t[n]=()=>{}}),t}),Kc="?",v5=/\(error: (.*)\)/,x5=/captureMessage|captureException/;function ry(e){return e[e.length-1]||{}}const y5="<anonymous>";function Zl(e){try{return e&&typeof e=="function"&&e.name||y5}catch{return y5}}function b5(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const zy={},w5={};function du(e,t){zy[e]=zy[e]||[],zy[e].push(t)}function hu(e,t){if(!w5[e]){w5[e]=!0;try{t()}catch(n){Xu&&ut.error(`Error while instrumenting ${e}`,n)}}}function di(e,t){const n=e&&zy[e];if(n)for(const r of n)try{r(t)}catch(a){Xu&&ut.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Zl(r)}
Error:`,a)}}let jN=null;function $7e(){jN=Gt.onerror,Gt.onerror=function(e,t,n,r,a){return di("error",{column:r,error:a,line:n,msg:e,url:t}),!!jN&&jN.apply(this,arguments)},Gt.onerror.__SENTRY_INSTRUMENTED__=!0}let _N=null;function L7e(){_N=Gt.onunhandledrejection,Gt.onunhandledrejection=function(e){return di("unhandledrejection",e),!_N||_N.apply(this,arguments)},Gt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function m_(){return FO(Gt),Gt}function FO(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||uu,t[uu]=t[uu]||{}}const TJ=Object.prototype.toString;function BO(e){switch(TJ.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ou(e,Error)}}function em(e,t){return TJ.call(e)===`[object ${t}]`}function OJ(e){return em(e,"ErrorEvent")}function j5(e){return em(e,"DOMError")}function wo(e){return em(e,"String")}function UO(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function JE(e){return e===null||UO(e)||typeof e!="object"&&typeof e!="function"}function uf(e){return em(e,"Object")}function p_(e){return typeof Event<"u"&&Ou(e,Event)}function g_(e){return!!(e&&e.then&&typeof e.then=="function")}function Ou(e,t){try{return e instanceof t}catch{return!1}}function MJ(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const zO=Gt;function DJ(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=F7e(n,d),!(u==="html"||i>1&&o+a.length*c+u.length>=h));)a.push(u),o+=u.length,n=n.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function F7e(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(zO.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const a=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(a&&a.length)a.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&wo(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function rh(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function _5(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const a=e[r];try{MJ(a)?n.push("[VueViewModel]"):n.push(String(a))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function B7e(e,t,n=!1){return!!wo(e)&&(em(t,"RegExp")?t.test(e):!!wo(t)&&(n?e===t:e.includes(t)))}function sy(e,t=[],n=!1){return t.some(r=>B7e(e,r,n))}function na(e,t,n){if(!(t in e))return;const r=e[t],a=n(r);typeof a=="function"&&IJ(a,r);try{e[t]=a}catch{Xu&&ut.log(`Failed to replace method "${t}" in object`,e)}}function Mu(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Xu&&ut.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function IJ(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Mu(e,"__sentry_original__",t)}catch{}}function qO(e){return e.__sentry_original__}function RJ(e){if(BO(e))return{message:e.message,name:e.name,stack:e.stack,...S5(e)};if(p_(e)){const t={type:e.type,target:N5(e.target),currentTarget:N5(e.currentTarget),...S5(e)};return typeof CustomEvent<"u"&&Ou(e,CustomEvent)&&(t.detail=e.detail),t}return e}function N5(e){try{return t=e,typeof Element<"u"&&Ou(t,Element)?DJ(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function S5(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ka(e){return XE(e,new Map)}function XE(e,t){if(function(n){if(!uf(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(r[a]=XE(e[a],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(a=>{r.push(XE(a,t))}),r}return e}function Gv(){return Date.now()/1e3}const Eo=function(){const{performance:e}=Gt;if(!e||!e.now)return Gv;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function Ma(){const e=Gt,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function $J(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function fl(e){const{message:t,event_id:n}=e;if(t)return t;const r=$J(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function QE(e,t,n){const r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function df(e,t){const n=$J(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const a={...r&&r.data,...t.data};n.mechanism.data=a}}function C5(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Mu(e,"__sentry_captured__",!0)}catch{}return!1}var fo;function Du(e){return new Na(t=>{t(e)})}function G0(e){return new Na((t,n)=>{n(e)})}(()=>{const{performance:e}=Gt;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t;(i||l<t)&&a<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(fo||(fo={}));class Na{constructor(t){Na.prototype.__init.call(this),Na.prototype.__init2.call(this),Na.prototype.__init3.call(this),Na.prototype.__init4.call(this),this._state=fo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Na((r,a)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){a(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){a(o)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Na((n,r)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{i?r(a):n(a)})})}__init(){this._resolve=t=>{this._setResult(fo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(fo.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===fo.PENDING&&(g_(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===fo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===fo.RESOLVED&&n[1](this._value),this._state===fo.REJECTED&&n[2](this._value),n[0]=!0)})}}}function U7e(e){const t=Eo(),n={sid:Ma(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return ka({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&hf(n,e),n}function hf(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Eo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ma()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function k5(){return Ma()}function ZE(){return Ma().substring(16)}function v_(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=v_(r[a],t[a],n-1));return r}const e2="_sentrySpan";function E5(e,t){t?Mu(e,e2,t):delete e[e2]}function P5(e){return e[e2]}class VO{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:k5(),spanId:ZE()}}clone(){const t=new VO;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,E5(t,P5(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&hf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,a]=n instanceof ec?[n.getScopeData(),n.getRequestSession()]:uf(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,E5(this,void 0),this._attachments=[],this.setPropagationContext({traceId:k5()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const a={timestamp:Gv(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:P5(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=v_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:ZE(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ma();if(!this._client)return ut.warn("No client configured on scope - will not capture exception!"),r;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...n,event_id:r},this),r}captureMessage(t,n,r){const a=r&&r.event_id?r.event_id:Ma();if(!this._client)return ut.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:a},this),a}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ma();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ut.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const ec=VO;class z7e{constructor(t,n){let r,a;r=t||new ec,a=n||new ec,this._stack=[{scope:r}],this._isolationScope=a}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(a){throw this._popScope(),a}return g_(r)?r.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ff(){const e=FO(m_());return e.stack=e.stack||new z7e(W0("defaultCurrentScope",()=>new ec),W0("defaultIsolationScope",()=>new ec))}function q7e(e){return ff().withScope(e)}function V7e(e,t){const n=ff();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function A5(e){return ff().withScope(()=>e(ff().getIsolationScope()))}function WO(e){const t=FO(e);return t.acs?t.acs:{withIsolationScope:A5,withScope:q7e,withSetScope:V7e,withSetIsolationScope:(n,r)=>A5(r),getCurrentScope:()=>ff().getScope(),getIsolationScope:()=>ff().getIsolationScope()}}function Qu(){return WO(m_()).getCurrentScope()}function Yv(){return WO(m_()).getIsolationScope()}function zr(){return Qu().getClient()}function W7e(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:a}=t;return ka({trace_id:n,span_id:r,parent_span_id:a})}function H7e(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,a]]of t)(n[r]||(n[r]=[])).push(ka(a));return n}const G7e=/^sentry-/;function Y7e(e){const t=function(r){if(!(!r||!wo(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((a,i)=>{const o=T5(i);return Object.entries(o).forEach(([l,c])=>{a[l]=c}),a},{}):T5(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[a,i])=>(a.match(G7e)&&(r[a.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function T5(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let O5=!1;function K7e(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return ka({parent_span_id:r?t:HO(e).parent_span_id,span_id:r?ZE():t,trace_id:n})}function M5(e){return typeof e=="number"?D5(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?D5(e.getTime()):Eo()}function D5(e){return e>9999999999?e/1e3:e}function HO(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const a=r;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:r,startTime:a,name:i,endTime:o,parentSpanId:l,status:c}=e;return ka({span_id:t,trace_id:n,data:r,description:i,parent_span_id:l,start_timestamp:M5(a),timestamp:M5(o)||void 0,status:J7e(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:H7e(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function J7e(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function LJ(e){return e._sentryRootSpan||e}function X7e(){O5||(Hv(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),O5=!0)}const GO="production";function FJ(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},a=ka({environment:n.environment||GO,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",a),a}function Q7e(e){const t=zr();if(!t)return{};const n=LJ(e),r=n._frozenDsc;if(r)return r;const a=n.spanContext().traceState,i=a&&a.get("sentry.dsc"),o=i&&Y7e(i);if(o)return o;const l=FJ(e.spanContext().traceId,t),c=HO(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(l.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const v=zr(),p=v&&v.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(l.sampled=String(function(m){const{traceFlags:v}=m.spanContext();return v===1}(n))),t.emit("createDsc",l,n),l}const Z7e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Y0(e,t=!1){const{host:n,path:r,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function I5(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function eWe(e){const t=typeof e=="string"?function(n){const r=Z7e.exec(n);if(!r)return void Hv(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[a,i,o="",l="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return I5({host:l,pass:o,path:d,projectId:h,port:c,protocol:a,publicKey:i})}(e):I5(e);if(t&&function(n){if(!Xu)return!0;const{port:r,projectId:a,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ut.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(a.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ut.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ut.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ut.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function mo(e,t=100,n=1/0){try{return t2("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function BJ(e,t=3,n=102400){const r=mo(e,t);return a=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>n?BJ(e,t-1,n):r;var a}function t2(e,t,n=1/0,r=1/0,a=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(m,v){try{if(m==="domain"&&v&&typeof v=="object"&&v._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&v===global)return"[Global]";if(typeof window<"u"&&v===window)return"[Window]";if(typeof document<"u"&&v===document)return"[Document]";if(MJ(v))return"[VueViewModel]";if(uf(p=v)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof v=="number"&&!Number.isFinite(v))return`[${v}]`;if(typeof v=="function")return`[Function: ${Zl(v)}]`;if(typeof v=="symbol")return`[${String(v)}]`;if(typeof v=="bigint")return`[BigInt: ${String(v)}]`;const x=function(y){const b=Object.getPrototypeOf(y);return b?b.constructor.name:"null prototype"}(v);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var p}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return t2("",u.toJSON(),c-1,r,a)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=RJ(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const v=f[m];d[m]=t2(m,v,c-1,r,a),h++}return o(t),d}function Vg(e,t=[]){return[e,t]}function tWe(e,t){const[n,r]=e;return[n,[...r,t]]}function R5(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function n2(e){return Gt.__SENTRY__&&Gt.__SENTRY__.encodePolyfill?Gt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function nWe(e){const[t,n]=e;let r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[n2(r),i]:r.push(typeof i=="string"?n2(i):i)}for(const i of n){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(mo(l))}a(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(r)}function rWe(e){const t=typeof e.data=="string"?n2(e.data):e.data;return[ka({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const sWe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function $5(e){return sWe[e]}function UJ(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function aWe(e,t,n,r){const a=UJ(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Y0(d)},...h&&{trace:ka({...h})}}}(e,a,r,t);return delete e.sdkProcessingMetadata,Vg(o,[[{type:i},e]])}function r2(e,t,n,r=0){return new Na((a,i)=>{const o=e[r];if(t===null||typeof o!="function")a(t);else{const l=o({...t},n);mn&&o.id&&l===null&&ut.log(`Event processor "${o.id}" dropped event`),g_(l)?l.then(c=>r2(e,c,n,r+1).then(a)).then(null,i):r2(e,l,n,r+1).then(a).then(null,i)}})}let ay,L5,NN;function iWe(e,t){const{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:m}=l,v=ka(c);v&&Object.keys(v).length&&(o.extra={...v,...o.extra});const p=ka(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const x=ka(d);x&&Object.keys(x).length&&(o.user={...x,...o.user});const y=ka(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,l){o.contexts={trace:K7e(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:Q7e(l),...o.sdkProcessingMetadata};const c=LJ(l),u=HO(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,a),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function F5(e,t){const{extra:n,tags:r,user:a,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:v}=t;iy(e,"extra",n),iy(e,"tags",r),iy(e,"user",a),iy(e,"contexts",i),e.sdkProcessingMetadata=v_(e.sdkProcessingMetadata,l,2),o&&(e.level=o),m&&(e.transactionName=m),v&&(e.span=v),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function iy(e,t,n){e[t]=v_(e[t],n,1)}function oWe(e,t,n,r,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ma(),timestamp:t.timestamp||Gv()},u=n.integrations||e.integrations.map(v=>v.name);(function(v,p){const{environment:x,release:y,dist:b,maxValueLength:w=250}=p;v.environment=v.environment||x||GO,!v.release&&y&&(v.release=y),!v.dist&&b&&(v.dist=b),v.message&&(v.message=rh(v.message,w));const j=v.exception&&v.exception.values&&v.exception.values[0];j&&j.value&&(j.value=rh(j.value,w));const N=v.request;N&&N.url&&(N.url=rh(N.url,w))})(c,e),function(v,p){p.length>0&&(v.sdk=v.sdk||{},v.sdk.integrations=[...v.sdk.integrations||[],...p])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(v,p){const x=function(y){const b=Gt._sentryDebugIds;if(!b)return{};const w=Object.keys(b);return NN&&w.length===L5||(L5=w.length,NN=w.reduce((j,N)=>{ay||(ay={});const S=ay[N];if(S)j[S[0]]=S[1];else{const C=y(N);for(let k=C.length-1;k>=0;k--){const E=C[k],A=E&&E.filename,P=b[N];if(A&&P){j[A]=P,ay[N]=[A,P];break}}}return j},{})),NN}(p);try{v.exception.values.forEach(y=>{y.stacktrace.frames.forEach(b=>{x&&b.filename&&(b.debug_id=x[b.filename])})})}catch{}}(c,e.stackParser);const d=function(v,p){if(!p)return v;const x=v?v.clone():new ec;return x.update(p),x}(r,n.captureContext);n.mechanism&&df(c,n.mechanism);const h=a?a.getEventProcessors():[],f=W0("globalScope",()=>new ec).getScopeData();i&&F5(f,i.getScopeData()),d&&F5(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),iWe(c,f),r2([...h,...f.eventProcessors],c,n).then(v=>(v&&function(p){const x={};try{p.exception.values.forEach(b=>{b.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?x[w.abs_path]=w.debug_id:w.filename&&(x[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(x).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(x).forEach(([b,w])=>{y.push({type:"sourcemap",code_file:b,debug_id:w})})}(v),typeof o=="number"&&o>0?function(p,x,y){if(!p)return null;const b={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(w=>({...w,...w.data&&{data:mo(w.data,x,y)}}))},...p.user&&{user:mo(p.user,x,y)},...p.contexts&&{contexts:mo(p.contexts,x,y)},...p.extra&&{extra:mo(p.extra,x,y)}};return p.contexts&&p.contexts.trace&&b.contexts&&(b.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(b.contexts.trace.data=mo(p.contexts.trace.data,x,y))),p.spans&&(b.spans=p.spans.map(w=>({...w,...w.data&&{data:mo(w.data,x,y)}}))),p.contexts&&p.contexts.flags&&b.contexts&&(b.contexts.flags=mo(p.contexts.flags,3,y)),b}(v,o,l):v))}function B5(e,t){return Qu().captureEvent(e,t)}function U5(e){const t=zr(),n=Yv(),r=Qu(),{release:a,environment:i=GO}=t&&t.getOptions()||{},{userAgent:o}=Gt.navigator||{},l=U7e({release:a,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&hf(c,{status:"exited"}),zJ(),n.setSession(l),r.setSession(l),l}function zJ(){const e=Yv(),t=Qu(),n=t.getSession()||e.getSession();n&&function(r,a){let i={};r.status==="ok"&&(i={status:"exited"}),hf(r,i)}(n),qJ(),e.setSession(),t.setSession()}function qJ(){const e=Yv(),t=Qu(),n=zr(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function z5(e=!1){e?zJ():qJ()}function lWe(e,t,n){return t||`${function(r){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",o=a.port?`:${a.port}`:"";return`${i}//${a.host}${o}${a.path?`/${a.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,a){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,n)}`}const q5=[];function V5(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function W5(e,t,n){if(n[t.name])mn&&ut.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,q5.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),q5.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),a=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(a)}mn&&ut.log(`Integration installed: ${t.name}`)}}class Ka extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const H5="Not capturing exception because it's already been captured.";class cWe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=eWe(t.dsn):mn&&ut.warn("No DSN provided, client will not send events."),this._dsn){const r=lWe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&Hv(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const a=Ma();if(C5(t))return mn&&ut.log(H5),a;const i={event_id:a,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,a){const i={event_id:Ma(),...r},o=UO(t)?t:String(t),l=JE(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,n,r){const a=Ma();if(n&&n.originalException&&C5(n.originalException))return mn&&ut.log(H5),a;const i={event_id:a,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?mn&&ut.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),hf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(a=>r&&a))):Du(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];W5(this,t,this._integrations),n||V5(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=aWe(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=tWe(r,rWe(i));const a=this.sendEnvelope(r);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,a,i,o){const l=UJ(i);return Vg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&a&&{dsn:Y0(a)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const a=typeof r=="number"?r:1,i=`${t}:${n}`;mn&&ut.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const a=r.indexOf(n);a>-1&&r.splice(a,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(a=>a(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(mn&&ut.error("Error while sending envelope:",n),n)):(mn&&ut.error("Transport disabled"),Du({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const a={};return r.forEach(i=>{i&&W5(n,i,a)}),a}(this,t),V5(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(hf(t,{...r&&{status:"crashed"},errors:t.errors||Number(a||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Na(n=>{let r=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=1,t&&r>=t&&(clearInterval(a),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Qu(),a=Yv()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||a.setLastEventId(t.event_id||n.event_id),oWe(i,t,n,r,this,a).then(l=>{if(l===null)return l;l.contexts={trace:W7e(r),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||FJ(h.traceId,u)}(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(a=>a.event_id,a=>{mn&&(a instanceof Ka&&a.logLevel==="log"?ut.log(a.message):ut.warn(a))})}_processEvent(t,n,r){const a=this.getOptions(),{sampleRate:i}=a,o=Y5(t),l=G5(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const v=typeof m=="string"?parseFloat(m):m;if(!(typeof v!="number"||isNaN(v)||v<0||v>1))return v;mn&&ut.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),G0(new Ka(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new Ka("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const v=function(p,x,y,b){const{beforeSend:w,beforeSendTransaction:j,beforeSendSpan:N}=x;if(G5(y)&&w)return w(y,b);if(Y5(y)){if(y.spans&&N){const S=[];for(const C of y.spans){const k=N(C);k?S.push(k):(X7e(),p.recordDroppedEvent("before_send","span"))}y.spans=S}if(j){if(y.spans){const S=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:S}}return j(y,b)}}return y}(this,a,m,n);return function(p,x){const y=`${x} must return \`null\` or a valid event.`;if(g_(p))return p.then(b=>{if(!uf(b)&&b!==null)throw new Ka(y);return b},b=>{throw new Ka(`${x} rejected with ${b}`)});if(!uf(p)&&p!==null)throw new Ka(y);return p}(v,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new Ka(`${u} returned \`null\`, will not send event.`,"log")}const v=r&&r.getSession();if(!o&&v&&this._updateSessionFromEvent(v,m),o){const x=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const x="custom";m.transaction_info={...p,source:x}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Ka?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Ka(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[a,i]=n.split(":");return{reason:a,category:i,quantity:r}})}_flushOutcomes(){mn&&ut.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(mn&&ut.log("No outcomes to send"));if(!this._dsn)return void(mn&&ut.log("No dsn provided, will not send outcomes"));mn&&ut.log("Sending outcomes:",t);const n=(r=t,Vg((a=this._options.tunnel&&Y0(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||Gv(),discarded_events:r}]]));var r,a,i;this.sendEnvelope(n)}}function G5(e){return e.type===void 0}function Y5(e){return e.type==="transaction"}function uWe(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return G0(new Ka("Not adding Promise because buffer limit was reached."));const a=r();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a},drain:function(r){return new Na((a,i)=>{let o=t.length;if(!o)return a(!0);const l=setTimeout(()=>{r&&r>0&&a(!1)},r);t.forEach(c=>{Du(c).then(()=>{--o||(clearTimeout(l),a(!0))},i)})})}}}function dWe(e,{statusCode:t,headers:n},r=Date.now()){const a={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[m]=r+f);else a.all=r+f}else o?a.all=r+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(a.all=r+6e4);return a}function hWe(e,t,n=uWe(e.bufferSize||64)){let r={};return{send:function(a){const i=[];if(R5(a,(c,u)=>{const d=$5(u);if(function(h,f,m=Date.now()){return function(v,p){return v[p]||v.all||0}(h,f)>m}(r,d)){const h=K5(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return Du({});const o=Vg(a[0],i),l=c=>{R5(o,(u,d)=>{const h=K5(u,d);e.recordDroppedEvent(c,$5(d),h)})};return n.add(()=>t({body:nWe(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&mn&&ut.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=dWe(r,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof Ka)return mn&&ut.error("Skipped sending event because buffer is full."),l("queue_overflow"),Du({});throw c})},flush:a=>n.drain(a)}}function K5(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const fWe=100;function _c(e,t){const n=zr(),r=Yv();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=fWe}=n.getOptions();if(i<=0)return;const o={timestamp:Gv(),...e},l=a?Hv(()=>a(o,t)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let J5;const X5=new WeakMap,mWe=()=>({name:"FunctionToString",setupOnce(){J5=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=qO(this),n=X5.has(zr())&&t!==void 0?t:this;return J5.apply(n,e)}}catch{}},setup(e){X5.set(e,!0)}}),pWe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],gWe=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const a=r.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:pWe],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,a);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(mn&&ut.warn(`Event dropped due to being internal Sentry Error.
Event: ${fl(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>sy(d,u))}(o,l.ignoreErrors)?(mn&&ut.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${fl(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(mn&&ut.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${fl(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&sy(d,u)}(o,l.ignoreTransactions)?(mn&&ut.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${fl(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=oy(c);return!!d&&sy(d,u)}(o,l.denyUrls)?(mn&&ut.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${fl(o)}.
Url: ${oy(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=oy(c);return!d||sy(d,u)}(o,l.allowUrls)?!1:(mn&&ut.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${fl(o)}.
Url: ${oy(o)}`),!0)}(t,i)?null:t}});function oy(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const a=n[r];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return mn&&ut.error(`Cannot extract url for event ${fl(e)}`),null}}function vWe(e,t,n=250,r,a,i,o){if(!(i.exception&&i.exception.values&&o&&Ou(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=s2(e,t,a,o.originalException,r,i.exception.values,l,0),u=n,c.map(d=>(d.value&&(d.value=rh(d.value,u)),d))))}function s2(e,t,n,r,a,i,o,l){if(i.length>=n+1)return i;let c=[...i];if(Ou(r[a],Error)){Q5(o,l);const u=e(t,r[a]),d=c.length;Z5(u,a,d,l),c=s2(e,t,n,r[a],a,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Ou(u,Error)){Q5(o,l);const h=e(t,u),f=c.length;Z5(h,`errors[${d}]`,f,l),c=s2(e,t,n,u,a,[h,...c],h,f)}}),c}function Q5(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Z5(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function SN(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function xWe(){"console"in Gt&&KE.forEach(function(e){e in Gt.console&&na(Gt.console,e,function(t){return H0[e]=t,function(...n){di("console",{args:n,level:e});const r=H0[e];r&&r.apply(Gt.console,n)}})})}function yWe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const bWe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(a,i){const o=a.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!tF(a,i)||!eF(a,i))}(n,r)||function(a,i){const o=nF(i),l=nF(a);return!(!o||!l||o.type!==l.type||o.value!==l.value||!tF(a,i)||!eF(a,i))}(n,r)):!1}(t,e))return mn&&ut.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function eF(e,t){let n=b5(e),r=b5(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let a=0;a<r.length;a++){const i=r[a],o=n[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function tF(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function nF(e){return e.exception&&e.exception.values&&e.exception.values[0]}function rF(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const CN=Gt;function a2(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function wWe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in CN))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(a2(CN.fetch))return!0;let e=!1;const t=CN.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=a2(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Xu&&ut.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function jWe(e,t){const n="fetch";du(n,e),hu(n,()=>function(r,a=!1){a&&!wWe()||na(Gt,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,v]=h;return{url:sF(m),method:i2(v,"method")?String(v.method).toUpperCase():"GET"}}const f=h[0];return{url:sF(f),method:i2(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*Eo(),virtualError:l};return r||di("fetch",{...d}),i.apply(Gt,o).then(async h=>(r?r(h):di("fetch",{...d,endTimestamp:1e3*Eo(),response:h}),h),h=>{throw di("fetch",{...d,endTimestamp:1e3*Eo(),error:h}),BO(h)&&h.stack===void 0&&(h.stack=l.stack,Mu(h,"framesToPop",1)),h})}})}(void 0,t))}function i2(e,t){return!!e&&typeof e=="object"&&!!e[t]}function sF(e){return typeof e=="string"?e:e?i2(e,"url")?e.url:e.toString?e.toString():"":""}const ly=Gt,fr=Gt;let o2=0;function aF(){return o2>0}function mf(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(qO(e))return e}catch{return e}const n=function(...r){try{const a=r.map(i=>mf(i,t));return e.apply(this,a)}catch(a){throw o2++,setTimeout(()=>{o2--}),function(...i){const o=WO(m_());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(QE(l,void 0),df(l,t.mechanism)),l.extra={...l.extra,arguments:r},l)),o=a,Qu().captureException(o,void 0)}),a}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}IJ(n,e),Mu(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const x_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function YO(e,t){const n=KO(e,t),r={type:SWe(t),value:CWe(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _We(e,t,n,r){const a=zr(),i=a&&a.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:BJ(t,i)};if(o)return{exception:{values:[YO(e,o)]},extra:l};const c={exception:{values:[{type:p_(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:kWe(t,{isUnhandledRejection:r})}]},extra:l};if(n){const u=KO(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function kN(e,t){return{exception:{values:[YO(e,t)]}}}function KO(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&NWe.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,a)}catch{}return[]}const NWe=/Minified React error #\d+;/i;function VJ(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function SWe(e){const t=e&&e.name;return!t&&VJ(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function CWe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:VJ(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function l2(e,t,n,r,a){let i;if(OJ(t)&&t.error)return kN(e,t.error);if(j5(t)||em(t,"DOMException")){const o=t;if("stack"in t)i=kN(e,t);else{const l=o.name||(j5(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=c2(e,c,n,r),QE(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return BO(t)?kN(e,t):uf(t)||p_(t)?(i=_We(e,t,n,a),df(i,{synthetic:!0}),i):(i=c2(e,t,n,r),QE(i,`${t}`),df(i,{synthetic:!0}),i)}function c2(e,t,n,r){const a={};if(r&&n){const i=KO(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),df(a,{synthetic:!0})}if(UO(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function kWe(e,{isUnhandledRejection:t}){const n=function(a,i=40){const o=Object.keys(RJ(a));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return rh(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:rh(u,i)}return""}(e),r=t?"promise rejection":"exception";return OJ(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:p_(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class EWe extends cWe{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,a,i=[a],o="npm"){const l=r._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:uu})),version:uu}),r._metadata=l})(n,"browser",["browser"],fr.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&fr.document&&fr.document.addEventListener("visibilitychange",()=>{fr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,a,i,o){const l=l2(r,a,i&&i.syntheticException||void 0,o);return df(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),Du(l)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(a,i,o="info",l,c){const u=c2(a,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),Du(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(x_&&ut.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:a,tunnel:i,dsn:o}){const l={event_id:r.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!o&&{dsn:Y0(o)}};return Vg(l,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const PWe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,as=Gt;let iF,EN,PN,cy;function AWe(){if(!as.document)return;const e=di.bind(null,"dom"),t=oF(e,!0);as.document.addEventListener("click",t,!1),as.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=as[n],a=r&&r.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(na(a,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=oF(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),na(a,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function oF(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;Mu(n,"_sentryCaptured",!0),r&&!r._sentryId&&Mu(r,"_sentryId",Ma());const a=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==EN)return!1;try{if(!i.target||i.target._sentryId!==PN)return!1}catch{}return!0})(n)||(e({event:n,name:a,global:t}),EN=n.type,PN=r?r._sentryId:void 0),clearTimeout(iF),iF=as.setTimeout(()=>{PN=void 0,EN=void 0},1e3)}}function WJ(e){const t="history";du(t,e),hu(t,TWe)}function TWe(){if(!function(){const n=ly.chrome,r=n&&n.app&&n.app.runtime,a="history"in ly&&!!ly.history.pushState&&!!ly.history.replaceState;return!r&&a}())return;const e=as.onpopstate;function t(n){return function(...r){const a=r.length>2?r[2]:void 0;if(a){const i=cy,o=String(a);cy=o,di("history",{from:i,to:o})}return n.apply(this,r)}}as.onpopstate=function(...n){const r=as.location.href,a=cy;if(cy=r,di("history",{from:a,to:r}),e)try{return e.apply(this,n)}catch{}},na(as.history,"pushState",t),na(as.history,"replaceState",t)}const qy={};function lF(e){qy[e]=void 0}const Ym="__sentry_xhr_v3__";function OWe(){if(!as.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const a=new Error,i=1e3*Eo(),o=wo(r[0])?r[0].toUpperCase():void 0,l=function(u){if(wo(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!l)return t.apply(n,r);n[Ym]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Ym];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}di("xhr",{endTimestamp:1e3*Eo(),startTimestamp:i,xhr:n,virtualError:a})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,m]=h,v=d[Ym];return v&&wo(f)&&wo(m)&&(v.request_headers[f.toLowerCase()]=m),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const a=n[Ym];return a?(r[0]!==void 0&&(a.body=r[0]),di("xhr",{startTimestamp:1e3*Eo(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function MWe(e,t=function(n){const r=qy[n];if(r)return r;let a=as[n];if(a2(a))return qy[n]=a.bind(as);const i=as.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(a=l[n]),i.head.removeChild(o)}catch(o){PWe&&ut.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return a&&(qy[n]=a.bind(as))}("fetch")){let n=0,r=0;return hWe(e,function(a){const i=a.body.length;n+=i,r++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return lF("fetch"),G0("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return lF("fetch"),n-=i,r--,G0(l)}})}function AN(e,t,n,r){const a={filename:e,function:t==="<anonymous>"?Kc:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const DWe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,IWe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,RWe=/\((\S*)(?::(\d+))(?::(\d+))\)/,$We=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,LWe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,FWe=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=v5.test(c)?c.replace(v5,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(ry(c).function||"")&&c.pop(),c.reverse(),x5.test(ry(c).function||"")&&(c.pop(),x5.test(ry(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||ry(c).filename,function:u.function||Kc}))}(i.slice(a))}}([30,e=>{const t=DWe.exec(e);if(t){const[,r,a,i]=t;return AN(r,Kc,+a,+i)}const n=IWe.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=RWe.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,a]=cF(n[1]||Kc,n[2]);return AN(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=$We.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=LWe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||Kc;return[r,n]=cF(r,n),AN(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),cF=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Kc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},uF=1024,BWe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(a){const i="console";du(i,a),hu(i,xWe)}(function(a){return function(i){if(zr()!==a)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:yWe(i.level),message:_5(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${_5(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}_c(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(a,i){return function(o){if(zr()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>uF&&(x_&&ut.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=uF),typeof u=="string"&&(u=[u]);try{const f=o.event,m=function(v){return!!v&&!!v.target}(f)?f.target:f;l=DJ(m,{keyAttrs:u,maxStringLength:d}),c=function(v){if(!zO.HTMLElement)return null;let p=v;for(let x=0;x<5;x++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${o.name}`,message:l};c&&(h.data={"ui.component_name":c}),_c(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),du("dom",r),hu("dom",AWe)),t.xhr&&function(a){du("xhr",a),hu("xhr",OWe)}(function(a){return function(i){if(zr()!==a)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[Ym];if(!o||!l||!c)return;const{method:u,url:d,status_code:h,body:f}=c,m={method:u,url:d,status_code:h},v={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:l};_c({category:"xhr",data:m,type:"http",level:rF(h)},v)}}(n)),t.fetch&&jWe(function(a){return function(i){if(zr()!==a)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)_c({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};_c({category:"fetch",data:u,type:"http",level:rF(u.status_code)},d)}}}(n)),t.history&&WJ(function(a){return function(i){if(zr()!==a)return;let o=i.from,l=i.to;const c=SN(fr.location.href);let u=o?SN(o):void 0;const d=SN(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),_c({category:"navigation",data:{from:o,to:l}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(a){return function(i){zr()===a&&_c({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:fl(i)},{event:i})}}(n))}}},UWe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],zWe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&na(fr,"setTimeout",dF),t.setInterval&&na(fr,"setInterval",dF),t.requestAnimationFrame&&na(fr,"requestAnimationFrame",qWe),t.XMLHttpRequest&&"XMLHttpRequest"in fr&&na(XMLHttpRequest.prototype,"send",VWe);const n=t.eventTarget;n&&(Array.isArray(n)?n:UWe).forEach(WWe)}}};function dF(e){return function(...t){const n=t[0];return t[0]=mf(n,{mechanism:{data:{function:Zl(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function qWe(e){return function(t){return e.apply(this,[mf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Zl(e)},handled:!1,type:"instrument"}})])}}function VWe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&na(n,r,function(a){const i={mechanism:{data:{function:r,handler:Zl(a)},handled:!1,type:"instrument"}},o=qO(a);return o&&(i.mechanism.data.handler=Zl(o)),mf(a,i)})}),e.apply(this,t)}}function WWe(e){const t=fr[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(na(n,"addEventListener",function(r){return function(a,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=mf(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Zl(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[a,mf(i,{mechanism:{data:{function:"addEventListener",handler:Zl(i),target:e},handled:!1,type:"instrument"}}),o])}}),na(n,"removeEventListener",function(r){return function(a,i,o){try{const l=i.__sentry_wrapped__;l&&r.call(this,a,l,o)}catch{}return r.call(this,a,i,o)}}))}const HWe=()=>({name:"BrowserSession",setupOnce(){fr.document!==void 0?(U5({ignoreDuration:!0}),z5(),WJ(({from:e,to:t})=>{e!==void 0&&e!==t&&(U5({ignoreDuration:!0}),z5())})):x_&&ut.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),GWe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(a){const i="error";du(i,a),hu(i,$7e)})(a=>{const{stackParser:i,attachStacktrace:o}=fF();if(zr()!==r||aF())return;const{msg:l,url:c,line:u,column:d,error:h}=a,f=function(m,v,p,x){const y=m.exception=m.exception||{},b=y.values=y.values||[],w=b[0]=b[0]||{},j=w.stacktrace=w.stacktrace||{},N=j.frames=j.frames||[],S=x,C=p,k=wo(v)&&v.length>0?v:function(){try{return zO.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:S,filename:k,function:Kc,in_app:!0,lineno:C}),m}(l2(i,h||l,void 0,o,!1),c,u,d);f.level="error",B5(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),hF("onerror")),t.onunhandledrejection&&(function(r){(function(a){const i="unhandledrejection";du(i,a),hu(i,L7e)})(a=>{const{stackParser:i,attachStacktrace:o}=fF();if(zr()!==r||aF())return;const l=function(u){if(JE(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=JE(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:l2(i,l,void 0,o,!0);c.level="error",B5(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),hF("onunhandledrejection"))}}};function hF(e){x_&&ut.log(`Global Handler attached: ${e}`)}function fF(){const e=zr();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const YWe=()=>({name:"HttpContext",preprocessEvent(e){if(!fr.navigator&&!fr.location&&!fr.document)return;const t=e.request&&e.request.url||fr.location&&fr.location.href,{referrer:n}=fr.document||{},{userAgent:r}=fr.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),KWe=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,a,i){const o=i.getOptions();vWe(YO,o.stackParser,o.maxValueLength,n,t,r,a)}}};var u2="new",mF="loading",pF="loaded",K0="joining-meeting",yl="joined-meeting",ol="left-meeting",co="error",JWe="blocked",XWe="off",QWe="sendable",ZWe="loading",e9e="interrupted",HJ="playable",Vy="unknown",GJ="full",t9e="lobby",n9e="none",YJ="base",r9e="*",s9e="ejected",a9e="nbf-room",i9e="nbf-token",o9e="exp-room",l9e="exp-token",d2="no-room",c9e="meeting-full",KJ="end-of-life",u9e="not-allowed",JJ="connection-error",d9e="cam-in-use",h9e="mic-in-use",f9e="cam-mic-in-use",m9e="permissions",p9e="undefined-mediadevices",g9e="not-found",v9e="constraints",x9e="unknown",XJ="iframe-ready-for-launch-config",QJ="iframe-launch-config",ZJ="theme-updated",eX="loading",tX="load-attempt-failed",h2="loaded",nX="started-camera",rX="camera-error",sX="joining-meeting",aX="joined-meeting",iX="left-meeting",oX="participant-joined",lX="participant-updated",cX="participant-left",uX="participant-counts-updated",dX="access-state-updated",hX="meeting-session-summary-updated",fX="meeting-session-state-updated",y9e="meeting-session-data-error",mX="waiting-participant-added",pX="waiting-participant-updated",gX="waiting-participant-removed",vX="track-started",xX="track-stopped",yX="transcription-started",bX="transcription-stopped",wX="transcription-error",f2="recording-started",m2="recording-stopped",jX="recording-stats",_X="recording-error",NX="recording-upload-completed",SX="recording-data",CX="app-message",kX="transcription-message",EX="remote-media-player-started",PX="remote-media-player-updated",AX="remote-media-player-stopped",TX="local-screen-share-started",OX="local-screen-share-stopped",MX="local-screen-share-canceled",DX="active-speaker-change",IX="active-speaker-mode-change",RX="network-quality-change",$X="network-connection",LX="cpu-load-change",FX="face-counts-updated",Km="fullscreen",Jm="exited-fullscreen",BX="live-streaming-started",UX="live-streaming-updated",zX="live-streaming-stopped",qX="live-streaming-error",VX="lang-updated",WX="receive-settings-updated",p2="input-settings-updated",g2="nonfatal-error",v2="error",TN=4096,gF=102400,ON="iframe-call-message",vF="local-screen-start",xF="daily-method-update-live-streaming-endpoints",uy="transmit-log",jo="daily-custom-track",Wy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},HX={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},x2={PLAY:"play",PAUSE:"pause"},MN=["jpg","png","jpeg"],b9e="add-endpoints",w9e="remove-endpoints",yF="sip-call-transfer";function La(){return!At()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function At(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function GX(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function j9e(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(Iu(),J0())||At())}function bF(){if(At()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var y2="none",_9e="software",N9e="hardware",S9e=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?_9e:N9e:y2}catch{return y2}}();function YX(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!At()&&S9e!==y2&&(e?function(){return wF()?!1:["Chrome","Firefox"].includes(Iu())}():function(){if(wF())return!1;var t=Iu();if(t==="Safari"){var n=XO();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?JO().major>=77:t==="Firefox"?QO().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function KX(){if(At()||JX()||typeof AudioWorkletNode>"u")return!1;switch(Iu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=J0();return e.major>17||e.major===17&&e.minor>=4}return!1}function DN(){return GX()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=Iu();if(!La())return!0;switch(t){case"Chrome":return(e=JO()).major&&e.major>0&&e.major<75;case"Firefox":return(e=QO()).major<91;case"Safari":return(e=XO()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function JX(){return La().match(/Linux; Android/)}function wF(){var e,t=La(),n=t.match(/Mac/)&&(!At()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!La().match(/DailyAnd\//)||void 0}function Iu(){if(typeof window<"u"){var e=La();return XX()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||QX()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function J0(){switch(Iu()){case"Chrome":return JO();case"Safari":return XO();case"Firefox":return QO();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=La().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function JO(){var e=0,t=0,n=0,r=0,a=!1;if(typeof window<"u"){var i=La(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:a}}function XX(){return!!La().match(/iPad|iPhone|iPod/i)&&GX()}function QX(){return La().indexOf("AppleWebKit/605.1.15")>-1}function XO(){var e=0,t=0,n=0;if(typeof window<"u"){var r=La().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(XX()||QX())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function QO(){var e=0,t=0;if(typeof window<"u"){var n=La().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var ZX=function(){return ma(function e(){fa(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){Rm()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){Rm()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){Rm()}},{key:"sendMessageToDailyJs",value:function(e,t){Rm()}},{key:"removeListener",value:function(e){Rm()}}])}();function jF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(n),!0).forEach(function(r){Ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!e})()}var C9e=function(){function e(){var t,n,r,a;return fa(this,e),n=this,r=gi(r=e),(t=d_(n,eQ()?Reflect.construct(r,[],gi(n).constructor):r.apply(n,a)))._wrappedListeners={},t._messageCallbacks={},t}return h_(e,ZX),ma(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var a=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=IN({},o.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(r,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(r,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var a=function(i){var o;if(!(!i.data||i.data.what!==ON||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(r,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,n,r,a){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=IN({},t);if(i.what=ON,i.from="module",i.callClientId=r,n){var o=f_();this._messageCallbacks[o]=n,i.callbackStamp=o}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=ON,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var a=IN({},t);a.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(a,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===n)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function _F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!e})()}var k9e=function(){function e(){var t,n,r,a;return fa(this,e),n=this,r=gi(r=e),t=d_(n,tQ()?Reflect.construct(r,[],gi(n).constructor):r.apply(n,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new YE.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new YE.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return h_(e,ZX),ma(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,a,i){var o=this,l=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(a,c),delete o._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(t,n,r,a,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?_F(Object(d),!0).forEach(function(h){Ri(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):_F(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,a){var l=f_();this._messageCallbacks[l]=a,o.callbackStamp=l}n.emit("message",o)}}])}(),b2="replace",w2="shallow-merge",NF=[b2,w2],E9e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,a=r===void 0?b2:r;fa(this,e),e._validateMergeStrategy(a),e._validateData(n,a),this.mergeStrategy=a,this.data=n}return ma(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===w2}},{key:"_validateMergeStrategy",value:function(t){if(!NF.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(NF,"]"))}},{key:"_validateData",value:function(t,n){if(!function(l){if(l==null||It(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===b2){var a=JSON.parse(r);rs(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(n===w2){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));rs(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(r.length>gF)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(gF,"."))}}])}();function nQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!e})()}function j2(e){var t=typeof Map=="function"?new Map:void 0;return j2=function(n){if(n===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(a,i,o){if(nQ())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return o&&qg(c,o.prototype),c}(n,arguments,gi(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),qg(r,n)},j2(e)}function rQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!e})()}function SF(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var P9e=function(){return ma(function e(t){fa(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new A9e(n,function(){r(!1)},function(i,o){o||SF(t._callClientId),a(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),SF(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),A9e=function(){return ma(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;fa(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new CF(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new CF(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),RN=function(){function e(){return fa(this,e),t=this,r=arguments,n=gi(n=e),d_(t,rQ()?Reflect.construct(n,r||[],gi(t).constructor):n.apply(t,r));var t,n,r}return h_(e,j2(Error)),ma(e)}(),X0=2e4,CF=function(){return ma(function t(n,r,a){fa(this,t),this._loadAttemptImpl=At()||!n.avoidEval?new T9e(n,r,a):new O9e(n,r,a)},[{key:"start",value:(e=at(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),T9e=function(){return ma(function a(i,o,l){fa(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(r=at(function*(){var a=q0(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=at(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=at(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(X0," ms) when loading call object bundle ").concat(a),type:"timeout"})},X0);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new RN;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new RN;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof RN||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=at(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),O9e=function(){return ma(function e(t,n,r){fa(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=f_(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=q0(this._dailyConfig);(typeof document>"u"?"undefined":It(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(X0," ms) when loading call object bundle ").concat(e),type:"timeout"})},X0);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),dy=function(e,t,n){return D9e(e.local,t,n)===!0},M9e=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Rd=function(e,t,n,r){var a=I9e(e,t,n,r);return a&&a.pendingTrack},D9e=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?r(a[t].custom):r(a[t].custom[n]):r(a[t][n]):!a||r(a.ALL)},I9e=function(e,t,n,r){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return a&&a[0]},R9e=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function kF(e,t){for(var n=t.getState(),r=0,a=["cam","screen"];r<a.length;r++)for(var i=a[r],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?M9e(n,i,c):Rd(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function EF(e,t){try{var n=t.getState();for(var r in e.tracks)if(!$9e(r)){var a=e.tracks[r].kind;if(a){var i=e.tracks[r];if(i){var o=e.local?R9e(n,r):Rd(n,e.session_id,r,a);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function $9e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function PF(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&dy(r,e.session_id,"cam-audio")){var o=Rd(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&dy(r,e.session_id,"cam-video")){var l=Rd(r,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&dy(r,e.session_id,"screen-audio")){var c=Rd(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&dy(r,e.session_id,"screen-video")){var u=Rd(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function L9e(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return AF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?AF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function AF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ai=new Map,sh=null;function F9e(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return TF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?TF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function TF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ti=new Map,Np=null;function B9e(e){sQ()?function(t){Ai.has(t)||(Ai.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ai.has(t)&&(Ai.get(t).lastDevicesString=JSON.stringify(n),sh||(sh=function(){var r=at(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),o=L9e(Ai.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value,c=JSON.stringify(i);c!==Ai.get(l).lastDevicesString&&(Ai.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",sh)))}).catch(function(){}))}(e):function(t){Ti.has(t)||(Ti.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ti.has(t)&&(Ti.get(t).lastDevicesString=JSON.stringify(n),Np||(Np=setInterval(at(function*(){var r,a=yield navigator.mediaDevices.enumerateDevices(),i=F9e(Ti.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,l=JSON.stringify(a);l!==Ti.get(o).lastDevicesString&&(Ti.get(o).lastDevicesString=l,o(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function U9e(e){sQ()?function(t){Ai.has(t)&&(Ai.delete(t),Ai.size===0&&sh&&(navigator.mediaDevices.removeEventListener("devicechange",sh),sh=null))}(e):function(t){Ti.has(t)&&(Ti.delete(t),Ti.size===0&&Np&&(clearInterval(Np),Np=null))}(e)}function sQ(){var e;return At()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var z9e=new Set;function q9e(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!z9e.has(n.id)}(e)}function OF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(n),!0).forEach(function(r){Ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Xm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),V9e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Sp=Object.values(Xm),MF=["v","a","sv","sa","cv","ca"];Object.freeze(Sp.reduce(function(e,t,n){return e[t]=MF[n],e},{})),Object.freeze(MF.reduce(function(e,t,n){return e[t]=Sp[n],e},{}));var W9e=[Xm.VIDEO,Xm.AUDIO,Xm.SCREEN_VIDEO,Xm.SCREEN_AUDIO],DF=Object.values(V9e),IF=["p","s","t"];Object.freeze(DF.reduce(function(e,t,n){return e[t]=IF[n],e},{})),Object.freeze(IF.reduce(function(e,t,n){return e[t]=DF[n],e},{}));var aQ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,a=t.byParticipantId;fa(this,e),this.base=n,this.byUserId=r,this.byParticipantId=a}return ma(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof br?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof br?r.clone():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof br?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof br&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof br?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof br?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof br&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Hr(t,2),r=n[0],a=n[1];return[r,a instanceof br?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Hr(t,2),r=n[0],a=n[1];return[r,a instanceof br?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,a;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:br.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:br.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:br.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,a;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:br.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:br.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:br.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(It(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Hr(br.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(It(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Hr(br.validateJSONObject(h),2),m=f[0],v=f[1];if(!m)return[!1,v]}}}return[!0]}}])}(),br=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,a=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;fa(this,e),this.video=n,this.audio=r,this.screenVideo=a,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return ma(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=nl({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=nl({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=nl({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=nl({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=nl({},this.customVideo)),this.customAudio!==void 0&&(t.ca=nl({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?nl({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?nl({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(It(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),a=0,i=r;a<i.length;a++){var o=i[a];if(!Sp.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(W9e.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(It(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Sp.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Sp.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),H9e=["result"],G9e=["preserveIframe"];function RF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(n),!0).forEach(function(r){Ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iQ=function(){return!!e})()}function $F(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return LF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?LF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function LF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Nc={},FF="video",Y9e="voice",BF=At()?{data:{}}:{data:{},topology:"none"},UF={present:0,hidden:0},oQ={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},$N=Object.keys(oQ),zF=["state","volume","simulcastEncodings"],qF={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Q0={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},_2={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Sc={customIntegrations:{validate:pQ,help:fQ()},customTrayButtons:{validate:mQ,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Q0))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return gQ(e,qF)},help:"reactNativeConfig should look like ".concat(JSON.stringify(qF),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return lQ(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:jo};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:jo};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return It(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return cQ(e,{allowAllParticipantsKey:!1})},help:hQ({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!uQ(e)&&(t._inputSettings||(t._inputSettings={}),dQ(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:N2()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},hy={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!At()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!n.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!o&&!r.includes(l),u=!n.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(At()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Hr(n[t],2),a=r[0],i=r[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=$F(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(y){c.e(y)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Hr(aQ.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,v=["participants","streaming","transcription"],p=$F(i);try{for(p.s();!(m=p.n()).done;){var x=m.value;if(!v.includes(x))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=at(function*(t){return new Promise(function(n,r){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){a.push(o),a.length===t.length&&r(a)})})})});return function(t){return e.apply(this,arguments)}}());var K9e=function(){function e(_){var O,T,q,W,K,G,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fa(this,e),q=this,W=gi(W=e),Ri(T=d_(q,iQ()?Reflect.construct(W,[],gi(q).constructor):W.apply(q,K)),"startListeningForDeviceChanges",function(){B9e(T.handleDeviceChange)}),Ri(T,"stopListeningForDeviceChanges",function(){U9e(T.handleDeviceChange)}),Ri(T,"handleDeviceChange",function(re){re=re.map(function(je){return JSON.parse(JSON.stringify(je))}),T.emitDailyJSEvent({action:"available-devices-updated",availableDevices:re})}),Ri(T,"handleNativeAppStateChange",function(){var re=at(function*(je){if(je==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield T.destroy());var be=je==="active";T.disableReactNativeAutoDeviceManagement("video")||(be?T.camUnmutedBeforeLosingNativeActiveState&&T.setLocalVideo(!0):(T.camUnmutedBeforeLosingNativeActiveState=T.localVideo(),T.camUnmutedBeforeLosingNativeActiveState&&T.setLocalVideo(!1)))});return function(je){return re.apply(this,arguments)}}()),Ri(T,"handleNativeAudioFocusChange",function(re){T.disableReactNativeAutoDeviceManagement("audio")||(T._hasNativeAudioFocus=re,T.toggleParticipantAudioBasedOnNativeAudioFocus(),T._hasNativeAudioFocus?T.micUnmutedBeforeLosingNativeAudioFocus&&T.setLocalAudio(!0):(T.micUnmutedBeforeLosingNativeAudioFocus=T.localAudio(),T.setLocalAudio(!1)))}),Ri(T,"handleNativeSystemScreenCaptureStop",function(){T.stopScreenShare()}),!DN()&&!At())throw new Error("WebRTC not supported or suppressed");if(T.strictMode=V.strictMode===void 0||V.strictMode,T.allowMultipleCallInstances=(O=V.allowMultipleCallInstances)!==null&&O!==void 0&&O,Object.keys(Nc).length&&(T._logDuplicateInstanceAttempt(),!T.allowMultipleCallInstances)){if(T.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),T.callClientId=f_(),Nc[(G=T).callClientId]=G,window._daily.instances[T.callClientId]={},T._sharedTracks={},window._daily.instances[T.callClientId].tracks=T._sharedTracks,V.dailyJsVersion=e.version(),T._iframe=_,T._callObjectMode=V.layout==="none"&&!T._iframe,T._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?T._callObjectMode?console.error("showLocalVideo is not available in call object mode"):T._showLocalVideo=!!V.showLocalVideo:T._showLocalVideo=!0,V.showParticipantsBar!==void 0?T._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):T._showParticipantsBar=!!V.showParticipantsBar:T._showParticipantsBar=!0,V.customIntegrations!==void 0?T._callObjectMode?console.error("customIntegrations is not available in call object mode"):T._customIntegrations=V.customIntegrations:T._customIntegrations={},V.customTrayButtons!==void 0?T._callObjectMode?console.error("customTrayButtons is not available in call object mode"):T._customTrayButtons=V.customTrayButtons:T._customTrayButtons={},V.activeSpeakerMode!==void 0?T._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):T._activeSpeakerMode=!!V.activeSpeakerMode:T._activeSpeakerMode=!1,V.receiveSettings?T._callObjectMode?T._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):T._receiveSettings={},T.validateProperties(V),T.properties=Ke({},V),T._inputSettings||(T._inputSettings={}),T._callObjectLoader=T._callObjectMode?new P9e(T.callClientId):null,T._callState=u2,T._isPreparingToJoin=!1,T._accessState={access:Vy},T._meetingSessionSummary={},T._finalSummaryOfPrevSession={},T._meetingSessionState=BN(BF,T._callObjectMode),T._nativeInCallAudioMode=FF,T._participants={},T._isScreenSharing=!1,T._participantCounts=UF,T._rmpPlayerState={},T._waitingParticipants={},T._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},T._activeSpeaker={},T._localAudioLevel=0,T._isLocalAudioLevelObserverRunning=!1,T._remoteParticipantsAudioLevel={},T._isRemoteParticipantsAudioLevelObserverRunning=!1,T._maxAppMessageSize=TN,T._messageChannel=At()?new k9e:new C9e,T._iframe&&(T._iframe.requestFullscreen?T._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===T._iframe?(T.emitDailyJSEvent({action:Km}),T.sendMessageToCallMachine({action:Km})):(T.emitDailyJSEvent({action:Jm}),T.sendMessageToCallMachine({action:Jm}))}):T._iframe.webkitRequestFullscreen&&T._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===T._iframe?(T.emitDailyJSEvent({action:Km}),T.sendMessageToCallMachine({action:Km})):(T.emitDailyJSEvent({action:Jm}),T.sendMessageToCallMachine({action:Jm}))})),At()){var se=T.nativeUtils();se.addAudioFocusChangeListener&&se.removeAudioFocusChangeListener&&se.addAppStateChangeListener&&se.removeAppStateChangeListener&&se.addSystemScreenCaptureStopListener&&se.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),T._hasNativeAudioFocus=!0,se.addAudioFocusChangeListener(T.handleNativeAudioFocusChange),se.addAppStateChangeListener(T.handleNativeAppStateChange),se.addSystemScreenCaptureStopListener(T.handleNativeSystemScreenCaptureStop)}return T._callObjectMode&&T.startListeningForDeviceChanges(),T._messageChannel.addListenerForMessagesFromCallMachine(T.handleMessageFromCallMachine,T.callClientId,T),T}return h_(e,ny),ma(e,[{key:"destroy",value:(z=at(function*(){var _;try{yield this.leave()}catch{}var O=this._iframe;if(O){var T=O.parentElement;T&&T.removeChild(O)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),At()){var q=this.nativeUtils();q.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),q.removeAppStateChangeListener(this.handleNativeAppStateChange),q.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Nc[this.callClientId],!((_=window)===null||_===void 0||(_=_._daily)===null||_===void 0)&&_.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return z.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(_){var O=_.bodyClass,T=_.cssFile,q=_.cssText;return Et(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(T),bodyClass:O,cssText:q}),this}},{key:"iframe",value:function(){return Et(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ha(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ha(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(_,O){for(var T in O){if(!hy[T])throw new Error("unrecognized updateParticipant property ".concat(T));if(hy[T].validate&&!hy[T].validate(O[T],this,this._participants[_]))throw new Error(hy[T].help)}}},{key:"updateParticipant",value:function(_,O){return this._participants.local&&this._participants.local.session_id===_&&(_="local"),_&&O&&(this.validateParticipantProperties(_,O),this.sendMessageToCallMachine({action:"update-participant",id:_,properties:O})),this}},{key:"updateParticipants",value:function(_){var O=this._participants.local&&this._participants.local.session_id;for(var T in _)T===O&&(T="local"),T&&_[T]&&this.validateParticipantProperties(T,_[T]);return this.sendMessageToCallMachine({action:"update-participants",participants:_}),this}},{key:"updateWaitingParticipant",value:(H=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ha(this._callObjectMode,"updateWaitingParticipant()"),cn(this._callState,"updateWaitingParticipant()"),typeof O!="string"||It(T)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(q,W){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:O,updates:T},function(K){K.error&&W(K.error),K.id||W(new Error("unknown error in updateWaitingParticipant()")),q({id:K.id})})})}),function(){return H.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(D=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ha(this._callObjectMode,"updateWaitingParticipants()"),cn(this._callState,"updateWaitingParticipants()"),It(O)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(T,q){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:O},function(W){W.error&&q(W.error),W.ids||q(new Error("unknown error in updateWaitingParticipants()")),T({ids:W.ids})})})}),function(){return D.apply(this,arguments)})},{key:"requestAccess",value:(F=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=O.access,q=T===void 0?{level:GJ}:T,W=O.name,K=W===void 0?"":W;return Ha(this._callObjectMode,"requestAccess()"),cn(this._callState,"requestAccess()"),new Promise(function(G,V){_.sendMessageToCallMachine({action:"daily-method-request-access",access:q,name:K},function(se){se.error&&V(se.error),se.access||V(new Error("unknown error in requestAccess()")),G({access:se.access,granted:se.granted})})})}),function(){return F.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in O&&(At()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),O={}):_&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),O={})),this.sendMessageToCallMachine({action:"local-audio",state:_,options:O}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(_){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:_}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(_){return this.sendMessageToCallMachine({action:"local-video",state:_}),this}},{key:"_setAllowLocalAudio",value:function(_){if(this._preloadCache.allowLocalAudio=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:_}),this}},{key:"_setAllowLocalVideo",value:function(_){if(this._preloadCache.allowLocalVideo=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:_}),this}},{key:"getReceiveSettings",value:(R=at(function*(_){var O=this,T=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,q=T!==void 0&&T;if(Ha(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(It(_)){case"string":return new Promise(function(W){O.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:_,showInheritedValues:q},function(K){W(K.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(_){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:($=at(function*(_){var O=this;if(Ha(this._callObjectMode,"updateReceiveSettings()"),!cQ(_,{allowAllParticipantsKey:!0}))throw new Error(hQ({allowAllParticipantsKey:!0}));return cn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(T){O.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:_},function(q){T({receiveSettings:q.receiveSettings})})})}),function(_){return $.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(_,O){if(_){var T={};if(_.audio){var q,W,K;_.audio.settings&&(!Object.keys(_.audio.settings).length&&O||(T.audio={settings:Ke({},_.audio.settings)})),O&&(q=T.audio)!==null&&q!==void 0&&(q=q.settings)!==null&&q!==void 0&&q.customTrack&&(T.audio.settings={customTrack:this._sharedTracks.audioTrack});var G=((W=_.audio.processor)===null||W===void 0?void 0:W.type)==="none"&&((K=_.audio.processor)===null||K===void 0?void 0:K._isDefaultWhenNone);if(_.audio.processor&&!G){var V=Ke({},_.audio.processor);delete V._isDefaultWhenNone,T.audio=Ke(Ke({},T.audio),{},{processor:V})}}if(_.video){var se,re,je;_.video.settings&&(!Object.keys(_.video.settings).length&&O||(T.video={settings:Ke({},_.video.settings)})),O&&(se=T.video)!==null&&se!==void 0&&(se=se.settings)!==null&&se!==void 0&&se.customTrack&&(T.video.settings={customTrack:this._sharedTracks.videoTrack});var be=((re=_.video.processor)===null||re===void 0?void 0:re.type)==="none"&&((je=_.video.processor)===null||je===void 0?void 0:je._isDefaultWhenNone);if(_.video.processor&&!be){var ce=Ke({},_.video.processor);delete ce._isDefaultWhenNone,T.video=Ke(Ke({},T.video),{},{processor:ce})}}return T}}},{key:"getInputSettings",value:function(){var _=this;return Et(),new Promise(function(O){O(_._getInputSettings())})}},{key:"_getInputSettings",value:function(){var _,O,T,q,W,K,G={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(_=((T=this._inputSettings)===null||T===void 0?void 0:T.video)||G,O=((q=this._inputSettings)===null||q===void 0?void 0:q.audio)||G):(_=((W=this._preloadCache)===null||W===void 0||(W=W.inputSettings)===null||W===void 0?void 0:W.video)||G,O=((K=this._preloadCache)===null||K===void 0||(K=K.inputSettings)===null||K===void 0?void 0:K.audio)||G);var V={audio:O,video:_};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(_,O){var T=this._inputSettings||{},q={};if(_.video){var W,K,G;q.video={},_.video.settings?(q.video.settings={},O||_.video.settings.customTrack||(G=T.video)===null||G===void 0||!G.settings?q.video.settings=_.video.settings:q.video.settings=Ke(Ke({},T.video.settings),_.video.settings),Object.keys(q.video.settings).length||delete q.video.settings):(W=T.video)!==null&&W!==void 0&&W.settings&&(q.video.settings=T.video.settings),_.video.processor?q.video.processor=_.video.processor:(K=T.video)!==null&&K!==void 0&&K.processor&&(q.video.processor=T.video.processor)}else T.video&&(q.video=T.video);if(_.audio){var V,se,re;q.audio={},_.audio.settings?(q.audio.settings={},O||_.audio.settings.customTrack||(re=T.audio)===null||re===void 0||!re.settings?q.audio.settings=_.audio.settings:q.audio.settings=Ke(Ke({},T.audio.settings),_.audio.settings),Object.keys(q.audio.settings).length||delete q.audio.settings):(V=T.audio)!==null&&V!==void 0&&V.settings&&(q.audio.settings=T.audio.settings),_.audio.processor?q.audio.processor=_.audio.processor:(se=T.audio)!==null&&se!==void 0&&se.processor&&(q.audio.processor=T.audio.processor)}else T.audio&&(q.audio=T.audio);this._maybeUpdateInputSettings(q)}},{key:"_devicesFromInputSettings",value:function(_){var O,T,q=(_==null||(O=_.video)===null||O===void 0||(O=O.settings)===null||O===void 0?void 0:O.deviceId)||null,W=(_==null||(T=_.audio)===null||T===void 0||(T=T.settings)===null||T===void 0?void 0:T.deviceId)||null,K=this._preloadCache.outputDeviceId||null;return{camera:q?{deviceId:q}:{},mic:W?{deviceId:W}:{},speaker:K?{deviceId:K}:{}}}},{key:"updateInputSettings",value:(M=at(function*(_){var O=this;return Et(),uQ(_)?_.video||_.audio?(dQ(_,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(_,!0),this._getInputSettings()):new Promise(function(T,q){O.sendMessageToCallMachine({action:"update-input-settings",inputSettings:_},function(W){if(W.error)q(W.error);else{if(W.returnPreloadCache)return O._updatePreloadCacheInputSettings(_,!0),void T(O._getInputSettings());O._maybeUpdateInputSettings(W.inputSettings),T(O._prepInputSettingsForSharing(W.inputSettings,!0))}})})):this._getInputSettings():(console.error(N2()),Promise.reject(N2()))}),function(_){return M.apply(this,arguments)})},{key:"setBandwidth",value:function(_){var O=_.kbs,T=_.trackConstraints;if(Et(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:O,trackConstraints:T}),this}},{key:"getDailyLang",value:function(){var _=this;if(Et(),this._callMachineInitialized)return new Promise(function(O){_.sendMessageToCallMachine({action:"get-daily-lang"},function(T){delete T.action,delete T.callbackStamp,O(T)})})}},{key:"setDailyLang",value:function(_){return Et(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:_}),this}},{key:"setProxyUrl",value:function(_){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:_}),this}},{key:"setIceConfig",value:function(_){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:_}),this}},{key:"meetingSessionSummary",value:function(){return[ol,co].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(L=at(function*(){var _=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),cn(this._callState,"getMeetingSession()"),new Promise(function(O){_.sendMessageToCallMachine({action:"get-meeting-session"},function(T){delete T.action,delete T.callbackStamp,O(T)})})}),function(){return L.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return cn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ha(this._callObjectMode,"setMeetingSessionData()"),cn(this._callState,"setMeetingSessionData");try{(function(T,q){new E9e({data:T,mergeStrategy:q})})(_,O)}catch(T){throw console.error(T),T}try{this.sendMessageToCallMachine({action:"set-session-data",data:_,mergeStrategy:O})}catch(T){throw new Error("Error setting meeting session data: ".concat(T))}}},{key:"setUserName",value:function(_,O){var T=this;return this.properties.userName=_,new Promise(function(q){T.sendMessageToCallMachine({action:"set-user-name",name:_??"",thisMeetingOnly:At()||!!O&&!!O.thisMeetingOnly},function(W){delete W.action,delete W.callbackStamp,q(W)})})}},{key:"setUserData",value:(I=at(function*(_){var O=this;try{lQ(_)}catch(T){throw console.error(T),T}if(this.properties.userData=_,this._callMachineInitialized)return new Promise(function(T){try{O.sendMessageToCallMachine({action:"set-user-data",userData:_},function(q){delete q.action,delete q.callbackStamp,T(q)})}catch(q){throw new Error("Error setting user data: ".concat(q))}})}),function(_){return I.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(_){if(_&&(_<100||typeof _!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(_){var O=this;if(typeof AudioWorkletNode>"u"&&!At())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(T,q){O.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:_},function(W){O._isLocalAudioLevelObserverRunning=!W.error,W.error?q({error:W.error}):T()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:_}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(_){var O=this;if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(T,q){O.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:_},function(W){O._isRemoteParticipantsAudioLevelObserverRunning=!W.error,W.error?q({error:W.error}):T()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:_}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(U=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ha(this._callObjectMode,"startCamera()"),LN(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(O)}catch(T){return Promise.reject(T)}else{if(this._didPreAuth){if(O.url&&O.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(O.token&&O.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(O),this.properties=Ke(Ke({},this.properties),O)}return new Promise(function(T){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"start-camera",properties:pd(_.properties,_.callClientId),preloadCache:pd(_._preloadCache,_.callClientId)},function(q){T({camera:q.camera,mic:q.mic,speaker:q.speaker})})})}),function(){return U.apply(this,arguments)})},{key:"validateCustomTrack",value:function(_,O,T){if(T&&T.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(O&&O!=="music"&&O!=="speech"&&!(O instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(T&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(T))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(_ instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Et(),cn(this._callState,"startCustomTrack()"),this.validateCustomTrack(O.track,O.mode,O.trackName),new Promise(function(T,q){_._sharedTracks.customTrack=O.track,O.track=jo,_.sendMessageToCallMachine({action:"start-custom-track",properties:O},function(W){W.error?q({error:W.error}):T(W.mediaTag)})})}},{key:"stopCustomTrack",value:function(_){var O=this;return Et(),cn(this._callState,"stopCustomTrack()"),new Promise(function(T){O.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:_},function(q){T(q.mediaTag)})})}},{key:"setCamera",value:function(_){var O=this;return $m(),fy(this._callMachineInitialized,"setCamera()"),new Promise(function(T){O.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:_},function(q){T({device:q.device})})})}},{key:"setAudioDevice",value:(B=at(function*(_){return $m(),this.nativeUtils().setAudioDevice(_),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(_){return B.apply(this,arguments)})},{key:"cycleCamera",value:function(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(T){_.sendMessageToCallMachine({action:"cycle-camera",properties:O},function(q){T({device:q.device})})})}},{key:"cycleMic",value:function(){var _=this;return Et(),new Promise(function(O){_.sendMessageToCallMachine({action:"cycle-mic"},function(T){O({device:T.device})})})}},{key:"getCameraFacingMode",value:function(){var _=this;return $m(),new Promise(function(O){_.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(T){O(T.facingMode)})})}},{key:"setInputDevicesAsync",value:(P=at(function*(_){var O=this,T=_.audioDeviceId,q=_.videoDeviceId,W=_.audioSource,K=_.videoSource;if(Et(),W!==void 0&&(T=W),K!==void 0&&(q=K),typeof T=="boolean"&&(this._setAllowLocalAudio(T),T=void 0),typeof q=="boolean"&&(this._setAllowLocalVideo(q),q=void 0),!T&&!q)return yield this.getInputDevices();var G={};return T&&(T instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=T,T=jo,G.audio={settings:{customTrack:T}}):(delete this._sharedTracks.audioTrack,G.audio={settings:{deviceId:T}})),q&&(q instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=q,q=jo,G.video={settings:{customTrack:q}}):(delete this._sharedTracks.videoTrack,G.video={settings:{deviceId:q}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(G,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){O.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:T,videoDeviceId:q},function(se){if(delete se.action,delete se.callbackStamp,se.returnPreloadCache)return O._updatePreloadCacheInputSettings(G,!1),void V(O._devicesFromInputSettings(O._inputSettings));V(se)})})}),function(_){return P.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(A=at(function*(_){var O=this,T=_.outputDeviceId;if(Et(),!T||typeof T!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=T,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(q,W){O.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:T},function(K){if(delete K.action,delete K.callbackStamp,K.error){var G=new Error(K.error.message);return G.type=K.error.type,void W(G)}K.returnPreloadCache?q(O._devicesFromInputSettings(O._inputSettings)):q(K)})})}),function(_){return A.apply(this,arguments)})},{key:"getInputDevices",value:(E=at(function*(){var _=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(O){_.sendMessageToCallMachine({action:"get-input-devices"},function(T){T.returnPreloadCache?O(_._devicesFromInputSettings(_._inputSettings)):O({camera:T.camera,mic:T.mic,speaker:T.speaker})})})}),function(){return E.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return $m(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(_){if($m(),[FF,Y9e].includes(_)){if(_!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=_,!this.disableReactNativeAutoDeviceManagement("audio")&&Hy(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",_)}},{key:"preAuth",value:(k=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ha(this._callObjectMode,"preAuth()"),LN(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(O)),!O.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(O),this.properties=Ke(Ke({},this.properties),O),new Promise(function(T,q){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"daily-method-preauth",properties:pd(_.properties,_.callClientId),preloadCache:pd(_._preloadCache,_.callClientId)},function(W){return W.error?q(W.error):W.access?(_._didPreAuth=!0,void T({access:W.access})):q(new Error("unknown error in preAuth()"))})})}),function(){return k.apply(this,arguments)})},{key:"load",value:(C=at(function*(_){var O=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(_&&(this.validateProperties(_),this.properties=Ke(Ke({},this.properties),_)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(mF),this.emitDailyJSEvent({action:eX}),this._callObjectMode?new Promise(function(T,q){O._callObjectLoader.cancel();var W=Date.now();O._callObjectLoader.load(O.properties.dailyConfig,function(K){O._bundleLoadTime=K?"no-op":Date.now()-W,O._updateCallState(pF),K&&O.emitDailyJSEvent({action:h2}),T()},function(K,G){if(O.emitDailyJSEvent({action:tX}),!G){O._updateCallState(co),O.resetMeetingDependentVars();var V={action:v2,errorMsg:K.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:K,bundleUrl:q0(O.properties.dailyConfig)}}};O._maybeSendToSentry(V),O.emitDailyJSEvent(V),q(K.msg)}})}):(this._iframe.src=AJ(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(T,q){O._loadedCallback=function(W){O._callState!==co?(O._updateCallState(pF),(O.properties.cssFile||O.properties.cssText)&&O.loadCss(O.properties),T()):q(W)}}))}}),function(_){return C.apply(this,arguments)})},{key:"join",value:(S=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var T=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(O)}catch(q){return this.updateIsPreparingToJoin(!1),Promise.reject(q)}}else{if(T=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(O.url&&O.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(O.token&&O.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(O.url&&!this._callObjectMode&&O.url&&O.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(O.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(O),this.properties=Ke(Ke({},this.properties),O)}return O.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!O.showLocalVideo),O.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!O.showParticipantsBar),this._callState===yl||this._callState===K0?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(K0,!1),this.emitDailyJSEvent({action:sX}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:pd(this.properties,this.callClientId),preloadCache:pd(this._preloadCache,this.callClientId)}),new Promise(function(q,W){_._joinedCallback=function(K,G){if(_._callState!==co){if(_._updateCallState(yl),K)for(var V in K){if(_._callObjectMode){var se=_._callMachine().store;kF(K[V],se),EF(K[V],se),PF(K[V],_._participants[V],se)}_._participants[V]=Ke({},K[V]),_.toggleParticipantAudioBasedOnNativeAudioFocus()}T&&_.loadCss(_.properties),q(K)}else W(G)}}))}),function(){return S.apply(this,arguments)})},{key:"leave",value:(N=at(function*(){var _=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(O){_._callState===ol||_._callState===co?O():_._callObjectLoader&&!_._callObjectLoader.loaded?(_._callObjectLoader.cancel(),_._updateCallState(ol),_.resetMeetingDependentVars(),_.emitDailyJSEvent({action:ol}),O()):(_._resolveLeave=O,_.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return N.apply(this,arguments)})},{key:"startScreenShare",value:(j=at(function*(){var _=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fy(this._callMachineInitialized,"startScreenShare()"),O.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",O.screenVideoSendSettings),O.mediaStream&&(this._sharedTracks.screenMediaStream=O.mediaStream,O.mediaStream=jo),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var T=this.nativeUtils();if(yield T.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:g2,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});T.setSystemScreenCaptureStartCallback(function(){T.setSystemScreenCaptureStartCallback(null),_.sendMessageToCallMachine({action:vF,captureOptions:O})}),T.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:vF,captureOptions:O})}),function(){return j.apply(this,arguments)})},{key:"stopScreenShare",value:function(){fy(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=_.type;if(O&&O!=="cloud"&&O!=="raw-tracks"&&O!=="local")throw new Error("invalid type: ".concat(O,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Ke({action:"local-recording-start"},_))}},{key:"updateRecording",value:function(_){var O=_.layout,T=O===void 0?{preset:"default"}:O,q=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:T,instanceId:q})}},{key:"stopRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ke({action:"local-recording-stop"},_))}},{key:"startLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ke({action:"daily-method-start-live-streaming"},_))}},{key:"updateLiveStreaming",value:function(_){var O=_.layout,T=O===void 0?{preset:"default"}:O,q=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:T,instanceId:q})}},{key:"addLiveStreamingEndpoints",value:function(_){var O=_.endpoints,T=_.instanceId;this.sendMessageToCallMachine({action:xF,endpointsOp:b9e,endpoints:O,instanceId:T})}},{key:"removeLiveStreamingEndpoints",value:function(_){var O=_.endpoints,T=_.instanceId;this.sendMessageToCallMachine({action:xF,endpointsOp:w9e,endpoints:O,instanceId:T})}},{key:"stopLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ke({action:"daily-method-stop-live-streaming"},_))}},{key:"validateDailyConfig",value:function(_){_.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(_.camSimulcastEncodings)),_.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),JX()&&_.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(_){if(!(_ instanceof Array||Array.isArray(_)))throw new Error("encodings must be an Array");if(!YF(_.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var q=0;q<_.length;q++){var W=_[q];for(var K in this._validateEncodingLayerHasValidProperties(W),W)if($N.includes(K)){if(typeof W[K]!="number")throw new Error("".concat(K," must be a number"));if(O){var G=O[K],V=G.min,se=G.max;if(!YF(W[K],V,se))throw new Error("".concat(K," value not in range. valid range: ").concat(V," to ").concat(se))}}else if(!["active","scalabilityMode"].includes(K))throw new Error("Invalid key ".concat(K,", valid keys are:")+Object.values($N));if(T&&!W.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=at(function*(_){var O=this,T=_.url,q=_.settings,W=q===void 0?{state:x2.PLAY}:q;try{(function(K){if(typeof K!="string")throw new Error('url parameter must be "string" type')})(T),GF(W),function(K){for(var G in K)if(!zF.includes(G))throw new Error("Invalid key ".concat(G,", valid keys are: ").concat(zF));K.simulcastEncodings&&this.validateSimulcastEncodings(K.simulcastEncodings,oQ,!0)}(W)}catch(K){throw console.error("invalid argument Error: ".concat(K)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),K}return new Promise(function(K,G){O.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:T,settings:W},function(V){V.error?G({error:V.error,errorMsg:V.errorMsg}):K({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(_){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=at(function*(_){var O=this;if(typeof _!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(T,q){O.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:_},function(W){W.error?q({error:W.error,errorMsg:W.errorMsg}):T()})})}),function(_){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=at(function*(_){var O=this,T=_.session_id,q=_.settings;try{GF(q)}catch(W){throw console.error("invalid argument Error: ".concat(W)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),W}return new Promise(function(W,K){O.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:T,settings:q},function(G){G.error?K({error:G.error,errorMsg:G.errorMsg}):W({session_id:G.session_id,remoteMediaPlayerState:{state:G.state,settings:G.settings}})})})}),function(_){return y.apply(this,arguments)})},{key:"startTranscription",value:function(_){cn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Ke({action:"daily-method-start-transcription"},_))}},{key:"updateTranscription",value:function(_){if(cn(this._callState,"updateTranscription()"),!_)throw new Error("updateTranscription Error: options is mandatory");if(It(_)!=="object")throw new Error("updateTranscription Error: options must be object type");if(_.participants&&!Array.isArray(_.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Ke({action:"daily-method-update-transcription"},_))}},{key:"stopTranscription",value:function(_){if(cn(this._callState,"stopTranscription()"),_&&It(_)!=="object")throw new Error("stopTranscription Error: options must be object type");if(_&&!_.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Ke({action:"daily-method-stop-transcription"},_))}},{key:"startDialOut",value:(x=at(function*(_){var O=this;cn(this._callState,"startDialOut()");var T=function(G){if(G){if(!Array.isArray(G))throw new Error("Error starting dial out: audio codec must be an array");if(G.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");G.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!_.sipUri&&!_.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(_.sipUri&&_.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(_.sipUri){if(typeof _.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!_.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(_.video&&typeof _.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(G){if(G&&(T(G.audio),G.video)){if(!Array.isArray(G.video))throw new Error("Error starting dial out: video codec must be an array");if(G.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");G.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(_.codecs)}if(_.phoneNumber){if(typeof _.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(_.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");_.codecs&&T(_.codecs.audio)}if(_.callerId){if(typeof _.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(_.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(_.displayName){if(typeof _.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(_.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(_.userId){if(typeof _.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(_.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(VF(_),_.permissions&&_.permissions.canReceive){var q=Hr(aQ.validateJSONObject(_.permissions.canReceive),2),W=q[0],K=q[1];if(!W)throw new Error(K)}return new Promise(function(G,V){O.sendMessageToCallMachine(Ke({action:"dialout-start"},_),function(se){se.error?V(se.error):G(se)})})}),function(_){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(_){var O=this;return cn(this._callState,"stopDialOut()"),new Promise(function(T,q){O.sendMessageToCallMachine(Ke({action:"dialout-stop"},_),function(W){W.error?q(W.error):T(W)})})}},{key:"sipCallTransfer",value:(p=at(function*(_){var O=this;if(cn(this._callState,"sipCallTransfer()"),!_)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return _.useSipRefer=!1,HF(_,"sipCallTransfer"),VF(_),new Promise(function(T,q){O.sendMessageToCallMachine(Ke({action:yF},_),function(W){W.error?q(W.error):T(W)})})}),function(_){return p.apply(this,arguments)})},{key:"sipRefer",value:(v=at(function*(_){var O=this;if(cn(this._callState,"sipRefer()"),!_)throw new Error("sessionId and toEndPoint are mandatory parameter");return _.useSipRefer=!0,HF(_,"sipRefer"),new Promise(function(T,q){O.sendMessageToCallMachine(Ke({action:yF},_),function(W){W.error?q(W.error):T(W)})})}),function(_){return v.apply(this,arguments)})},{key:"sendDTMF",value:(m=at(function*(_){var O=this;return cn(this._callState,"sendDTMF()"),function(T){var q=T.sessionId,W=T.tones;if(!q||!W)throw new Error("sessionId and tones are mandatory parameter");if(typeof q!="string"||typeof W!="string")throw new Error("sessionId and tones should be of string type");if(W.length>20)throw new Error("tones string must be upto 20 characters");var K=/[^0-9A-D*#]/g,G=W.match(K);if(G&&G[0])throw new Error("".concat(G[0]," is not valid DTMF tone"))}(_),new Promise(function(T,q){O.sendMessageToCallMachine(Ke({action:"send-dtmf"},_),function(W){W.error?q(W.error):T(W)})})}),function(_){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var _=this;return this._callState!==yl?Promise.resolve(Ke({stats:{latest:{}}},this._network)):new Promise(function(O){_.sendMessageToCallMachine({action:"get-calc-stats"},function(T){O(Ke(Ke({},_._network),{},{stats:T.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=at(function*(){var _=this;if(FN(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(O){return Promise.reject(O)}return new Promise(function(O,T){_.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(q){q.error?T(q.error):O(q.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(_){return _?_ instanceof MediaStreamTrack?!!q9e(_)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=at(function*(){var _=this;Et(),Ha(this._callObjectMode,"testCallQuality()"),fy(this._callMachineInitialized,"testCallQuality()",null,!0),LN(this._callState,this._isPreparingToJoin,"testCallQuality()");var O=this._testCallAlreadyInProgress,T=function(W){O||(_._testCallInProgress=W)};if(T(!0),this.needsLoad())try{var q=this._callState;yield this.load(),this._callState=q}catch(W){return T(!1),Promise.reject(W)}return new Promise(function(W){_.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:_.properties.dailyJsVersion},function(K){var G=K.results,V=G.result,se=c5(G,H9e);if(V==="failed"){var re,je=Ke({},se);(re=se.error)!==null&&re!==void 0&&re.details?(se.error.details=JSON.parse(se.error.details),je.error=Ke(Ke({},je.error),{},{details:Ke({},je.error.details)}),je.error.details.duringTest="testCallQuality"):(je.error=je.error?Ke({},je.error):{},je.error.details={duringTest:"testCallQuality"}),_._maybeSendToSentry(je)}T(!1),W(Ke({result:V},se))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=at(function*(_){var O;At()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),O=yield this.testPeerToPeerCallQuality(_)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),O=yield this.testCallQuality());var T={result:O.result,secondsElapsed:O.secondsElapsed};return O.data&&(T.data={maxRTT:O.data.maxRoundTripTime,packetLoss:O.data.avgRecvPacketLoss}),T}),function(_){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=at(function*(_){var O=this;if(FN(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(W){return Promise.reject(W)}var T=_.videoTrack,q=_.duration;if(!this._validateVideoTrackForNetworkTests(T))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=T,new Promise(function(W,K){O.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:q},function(G){G.error?K(G.error):W(G.results)})})}),function(_){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){At()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=at(function*(_){var O=this;if(FN(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(T){return Promise.reject(T)}if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=_,new Promise(function(T,q){O.sendMessageToCallMachine({action:"test-network-connectivity"},function(W){W.error?q(W.error):T(W.results)})})}),function(_){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var _=this;return new Promise(function(O){_._callState===yl?_.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(T){O(T.cpuStats)}):O({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(_){var O;if(!(((O=Object.keys(_))===null||O===void 0?void 0:O.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values($N))}},{key:"_validateVideoSendSettings",value:function(_,O){var T=_==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],q="Video send settings should be either an object or one of the supported presets: ".concat(T.join());if(typeof O=="string"){if(!T.includes(O))throw new Error(q)}else{if(It(O)!=="object")throw new Error(q);if(!O.maxQuality&&!O.encodings&&O.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(O.maxQuality&&["low","medium","high"].indexOf(O.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(O.encodings){var W=!1;switch(Object.keys(O.encodings).length){case 1:W=!O.encodings.low;break;case 2:W=!O.encodings.low||!O.encodings.medium;break;case 3:W=!O.encodings.low||!O.encodings.medium||!O.encodings.high;break;default:W=!0}if(W)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");O.encodings.low&&this._validateEncodingLayerHasValidProperties(O.encodings.low),O.encodings.medium&&this._validateEncodingLayerHasValidProperties(O.encodings.medium),O.encodings.high&&this._validateEncodingLayerHasValidProperties(O.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(_){var O=this;if(!_||Object.keys(_).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(_).forEach(function(T){var q=Hr(T,2),W=q[0],K=q[1];O._validateVideoSendSettings(W,K)})}},{key:"updateSendSettings",value:function(_){var O=this;return this.validateUpdateSendSettings(_),this.needsLoad()?(this._preloadCache.sendSettings=_,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(T,q){O.sendMessageToCallMachine({action:"update-send-settings",sendSettings:_},function(W){W.error?q(W.error):T(W.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Et(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(_){return Et(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:_}),this}},{key:"activeSpeakerMode",value:function(){return Et(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(_){return cn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=_,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:_}),this}},{key:"enumerateDevices",value:(l=at(function*(){var _=this;if(this._callObjectMode){var O=yield navigator.mediaDevices.enumerateDevices();return Iu()==="Firefox"&&J0().major>115&&J0().major<123&&(O=O.filter(function(T){return T.kind!=="audiooutput"})),{devices:O.map(function(T){var q=JSON.parse(JSON.stringify(T));if(!At()&&T.kind==="videoinput"&&T.getCapabilities){var W,K=T.getCapabilities();q.facing=(K==null||(W=K.facingMode)===null||W===void 0?void 0:W.length)>=1?K.facingMode[0]:void 0}return q})}}return new Promise(function(T){_.sendMessageToCallMachine({action:"enumerate-devices"},function(q){T({devices:q.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(cn(this._callState,"sendAppMessage()"),JSON.stringify(_).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:_,to:O}),this}},{key:"addFakeParticipant",value:function(_){return Et(),cn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Ke({action:"add-fake-participant"},_)),this}},{key:"setShowNamesMode",value:function(_){return qs(this._callObjectMode,"setShowNamesMode()"),Et(),_&&_!=="always"&&_!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:_}),this)}},{key:"setShowLocalVideo",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return qs(this._callObjectMode,"setShowLocalVideo()"),Et(),cn(this._callState,"setShowLocalVideo()"),typeof _!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:_}),this._showLocalVideo=_,this)}},{key:"showLocalVideo",value:function(){return qs(this._callObjectMode,"showLocalVideo()"),Et(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return qs(this._callObjectMode,"setShowParticipantsBar()"),Et(),cn(this._callState,"setShowParticipantsBar()"),typeof _!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:_}),this._showParticipantsBar=_,this)}},{key:"showParticipantsBar",value:function(){return qs(this._callObjectMode,"showParticipantsBar()"),Et(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Et(),qs(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(_){return Et(),qs(this._callObjectMode,"setCustomIntegrations()"),cn(this._callState,"setCustomIntegrations()"),pQ(_)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:_}),this._customIntegrations=_,this):this}},{key:"startCustomIntegrations",value:function(_){var O=this;if(Et(),qs(this._callObjectMode,"startCustomIntegrations()"),cn(this._callState,"startCustomIntegrations()"),Array.isArray(_)&&_.some(function(W){return typeof W!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var T=typeof _=="string"?[_]:_,q=T.filter(function(W){return!(W in O._customIntegrations)});return q.length?(console.error(`Can't find custom integration(s): "`.concat(q.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:T}),this)}},{key:"stopCustomIntegrations",value:function(_){var O=this;if(Et(),qs(this._callObjectMode,"stopCustomIntegrations()"),cn(this._callState,"stopCustomIntegrations()"),Array.isArray(_)&&_.some(function(W){return typeof W!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var T=typeof _=="string"?[_]:_,q=T.filter(function(W){return!(W in O._customIntegrations)});return q.length?(console.error(`Can't find custom integration(s): "`.concat(q.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:T}),this)}},{key:"customTrayButtons",value:function(){return qs(this._callObjectMode,"customTrayButtons()"),Et(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(_){return qs(this._callObjectMode,"updateCustomTrayButtons()"),Et(),cn(this._callState,"updateCustomTrayButtons()"),mQ(_)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:_}),this._customTrayButtons=_,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Q0))),this)}},{key:"theme",value:function(){return qs(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(_){var O=this;return qs(this._callObjectMode,"setTheme()"),new Promise(function(T,q){try{O.validateProperties({theme:_}),O.properties.theme=Ke({},_),O.sendMessageToCallMachine({action:"set-theme",theme:O.properties.theme});try{O.emitDailyJSEvent({action:ZJ,theme:O.properties.theme})}catch(W){console.log("could not emit 'theme-updated'",W)}T(O.properties.theme)}catch(W){q(W)}})}},{key:"requestFullscreen",value:(o=at(function*(){if(Et(),this._iframe&&!document.fullscreenElement&&bF())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(_){console.log("could not make video call fullscreen",_)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Et(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=at(function*(){var _=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(O){_.sendMessageToCallMachine({action:"get-sidebar-view"},function(T){O(T.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(_){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:_}),this)}},{key:"room",value:(a=at(function*(){var _=this,O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,T=O===void 0||O;return this._accessState.access===Vy||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(q){_.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:T},function(W){delete W.action,delete W.callbackStamp,q(W)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(r=at(function*(){try{var _=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield _.json()).geo}}catch(O){return console.error("geo lookup failed",O),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=at(function*(_){var O=this;return Et(),cn(this._callState,"setNetworkTopology()"),new Promise(function(T,q){O.sendMessageToCallMachine({action:"set-network-topology",opts:_},function(W){W.error?q({error:W.error}):T({workerId:W.workerId})})})}),function(_){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=at(function*(){var _=this;return new Promise(function(O,T){_.needsLoad()&&O({topology:"none"}),_.sendMessageToCallMachine({action:"get-network-topology"},function(q){q.error?T({error:q.error}):O({topology:q.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(_){if(Et(),typeof _!="number"&&_!==!0&&_!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(_));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:_})}},{key:"on",value:function(_,O){return ny.prototype.on.call(this,_,O)}},{key:"once",value:function(_,O){return ny.prototype.once.call(this,_,O)}},{key:"off",value:function(_,O){return ny.prototype.off.call(this,_,O)}},{key:"validateProperties",value:function(_){var O,T;if(_!=null&&(O=_.dailyConfig)!==null&&O!==void 0&&O.userMediaAudioConstraints){var q,W;At()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var K=_.inputSettings||{};K.audio=((q=_.inputSettings)===null||q===void 0?void 0:q.audio)||{},K.audio.settings=((W=_.inputSettings)===null||W===void 0||(W=W.audio)===null||W===void 0?void 0:W.settings)||{},K.audio.settings=Ke(Ke({},K.audio.settings),_.dailyConfig.userMediaAudioConstraints),_.inputSettings=K,delete _.dailyConfig.userMediaAudioConstraints}if(_!=null&&(T=_.dailyConfig)!==null&&T!==void 0&&T.userMediaVideoConstraints){var G,V;At()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var se=_.inputSettings||{};se.video=((G=_.inputSettings)===null||G===void 0?void 0:G.video)||{},se.video.settings=((V=_.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},se.video.settings=Ke(Ke({},se.video.settings),_.dailyConfig.userMediaVideoConstraints),_.inputSettings=se,delete _.dailyConfig.userMediaVideoConstraints}for(var re in _)if(Sc[re]){if(Sc[re].validate&&!Sc[re].validate(_[re],this))throw new Error("property '".concat(re,"': ").concat(Sc[re].help))}else console.warn("Ignoring unrecognized property '".concat(re,"'")),delete _[re]}},{key:"assembleMeetingUrl",value:function(){var _,O,T=Ke(Ke({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(_=this.properties.dailyConfig)!==null&&_!==void 0&&_.proxyUrl?encodeURIComponent((O=this.properties.dailyConfig)===null||O===void 0?void 0:O.proxyUrl):void 0}),q=T.url.match(/\?/)?"&":"?";return T.url+q+Object.keys(Sc).filter(function(W){return Sc[W].queryString&&T[W]!==void 0}).map(function(W){return"".concat(Sc[W].queryString,"=").concat(T[W])}).join("&")}},{key:"needsLoad",value:function(){return[u2,mF,ol,co].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(_,O){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(_,O,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(_){this._messageChannel.forwardPackagedMessageToCallMachine(_,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(_){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(_,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(_){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(_)}},{key:"handleMessageFromCallMachine",value:function(_){switch(_.action){case XJ:this.sendMessageToCallMachine(Ke({action:QJ},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var O={action:uy,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:q0(this.properties.dailyConfig)}};this.sendMessageToCallMachine(O),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case h2:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(_);break;case aX:var T,q=Ke({},_);delete q.internal,this._maxAppMessageSize=((T=_.internal)===null||T===void 0?void 0:T._maxAppMessageSize)||TN,this._joinedCallback&&(this._joinedCallback(_.participants),this._joinedCallback=null),this.emitDailyJSEvent(q);break;case oX:case lX:if(this._callState===ol)return;if(_.participant&&_.participant.session_id){var W=_.participant.local?"local":_.participant.session_id;if(this._callObjectMode){var K=this._callMachine().store;kF(_.participant,K),EF(_.participant,K),PF(_.participant,this._participants[W],K)}try{this.maybeParticipantTracksStopped(this._participants[W],_.participant),this.maybeParticipantTracksStarted(this._participants[W],_.participant),this.maybeEventRecordingStopped(this._participants[W],_.participant),this.maybeEventRecordingStarted(this._participants[W],_.participant)}catch(Q){console.error("track events error",Q)}this.compareEqualForParticipantUpdateEvent(_.participant,this._participants[W])||(this._participants[W]=Ke({},_.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(_))}break;case cX:if(_.participant&&_.participant.session_id){var G=this._participants[_.participant.session_id];G&&this.maybeParticipantTracksStopped(G,null),delete this._participants[_.participant.session_id],this.emitDailyJSEvent(_)}break;case uX:rs(this._participantCounts,_.participantCounts)||(this._participantCounts=_.participantCounts,this.emitDailyJSEvent(_));break;case dX:var V={access:_.access};_.awaitingAccess&&(V.awaitingAccess=_.awaitingAccess),rs(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(_));break;case hX:if(_.meetingSession){this._meetingSessionSummary=_.meetingSession,this.emitDailyJSEvent(_);var se=Ke(Ke({},_),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(se)}break;case v2:var re;this._iframe&&!_.preserveIframe&&(this._iframe.src=""),this._updateCallState(co),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(_.errorMsg),this._loadedCallback=null),_.preserveIframe;var je=c5(_,G9e);je!=null&&(re=je.error)!==null&&re!==void 0&&re.details&&(je.error.details=JSON.parse(je.error.details)),this._maybeSendToSentry(_),this._joinedCallback&&(this._joinedCallback(null,je),this._joinedCallback=null),this.emitDailyJSEvent(je);break;case iX:this._callState!==co&&this._updateCallState(ol),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(_);break;case"selected-devices-updated":_.devices&&this.emitDailyJSEvent(_);break;case RX:var be=_.state,ce=_.threshold,Z=_.quality,ge=be.state,ke=be.reasons;ge===this._network.networkState&&rs(ke,this._network.networkStateReasons)&&ce===this._network.threshold&&Z===this._network.quality||(this._network.networkState=ge,this._network.networkStateReasons=ke,this._network.quality=Z,this._network.threshold=ce,_.networkState=ge,ke.length&&(_.networkStateReasons=ke),delete _.state,this.emitDailyJSEvent(_));break;case LX:_&&_.cpuLoadState&&this.emitDailyJSEvent(_);break;case FX:_&&_.faceCounts!==void 0&&this.emitDailyJSEvent(_);break;case DX:var me=_.activeSpeaker;this._activeSpeaker.peerId!==me.peerId&&(this._activeSpeaker.peerId=me.peerId,this.emitDailyJSEvent({action:_.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Ne=_.show;this._showLocalVideo=Ne,this.emitDailyJSEvent({action:_.action,show:Ne});break;case IX:var oe=_.enabled;this._activeSpeakerMode!==oe&&(this._activeSpeakerMode=oe,this.emitDailyJSEvent({action:_.action,enabled:this._activeSpeakerMode}));break;case mX:case pX:case gX:this._waitingParticipants=_.allWaitingParticipants,this.emitDailyJSEvent({action:_.action,participant:_.participant});break;case WX:rs(this._receiveSettings,_.receiveSettings)||(this._receiveSettings=_.receiveSettings,this.emitDailyJSEvent({action:_.action,receiveSettings:_.receiveSettings}));break;case p2:this._maybeUpdateInputSettings(_.inputSettings);break;case"send-settings-updated":rs(this._sendSettings,_.sendSettings)||(this._sendSettings=_.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:_.action,sendSettings:_.sendSettings}));break;case"local-audio-level":this._localAudioLevel=_.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=_.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case EX:var de=_.session_id;this._rmpPlayerState[de]=_.playerState,this.emitDailyJSEvent(_);break;case AX:delete this._rmpPlayerState[_.session_id],this.emitDailyJSEvent(_);break;case PX:var Pe=_.session_id,Ie=this._rmpPlayerState[Pe];Ie&&this.compareEqualForRMPUpdateEvent(Ie,_.remoteMediaPlayerState)||(this._rmpPlayerState[Pe]=_.remoteMediaPlayerState,this.emitDailyJSEvent(_));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(_);break;case fX:var nt=this._meetingSessionState.topology!==(_.meetingSessionState&&_.meetingSessionState.topology);this._meetingSessionState=BN(_.meetingSessionState,this._callObjectMode),(this._callObjectMode||nt)&&this.emitDailyJSEvent(_);break;case TX:this._isScreenSharing=!0,this.emitDailyJSEvent(_);break;case OX:case MX:this._isScreenSharing=!1,this.emitDailyJSEvent(_);break;case f2:case m2:case jX:case _X:case NX:case yX:case bX:case wX:case nX:case rX:case CX:case kX:case"test-completed":case $X:case SX:case BX:case UX:case zX:case qX:case g2:case VX:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(_);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(_,O){var T="record";_&&(O.local||O[T]!==!1||_[T]===O[T]||this.emitDailyJSEvent({action:m2}))}},{key:"maybeEventRecordingStarted",value:function(_,O){var T="record";_&&(O.local||O[T]!==!0||_[T]===O[T]||this.emitDailyJSEvent({action:f2}))}},{key:"_trackStatePlayable",value:function(_){return!(!_||_.state!==HJ)}},{key:"_trackChanged",value:function(_,O){return(_==null?void 0:_.id)!==(O==null?void 0:O.id)}},{key:"maybeEventTrackStopped",value:function(_,O,T){var q,W,K=(q=O==null?void 0:O.tracks[_])!==null&&q!==void 0?q:null,G=(W=T==null?void 0:T.tracks[_])!==null&&W!==void 0?W:null,V=K==null?void 0:K.track;if(V){var se=this._trackStatePlayable(K),re=this._trackStatePlayable(G),je=this._trackChanged(V,G==null?void 0:G.track);se&&(re&&!je||this.emitDailyJSEvent({action:xX,track:V,participant:T??O,type:_}))}}},{key:"maybeEventTrackStarted",value:function(_,O,T){var q,W,K=(q=O==null?void 0:O.tracks[_])!==null&&q!==void 0?q:null,G=(W=T==null?void 0:T.tracks[_])!==null&&W!==void 0?W:null,V=G==null?void 0:G.track;if(V){var se=this._trackStatePlayable(K),re=this._trackStatePlayable(G),je=this._trackChanged(K==null?void 0:K.track,V);re&&(se&&!je||this.emitDailyJSEvent({action:vX,track:V,participant:T,type:_}))}}},{key:"maybeParticipantTracksStopped",value:function(_,O){if(_)for(var T in _.tracks)this.maybeEventTrackStopped(T,_,O)}},{key:"maybeParticipantTracksStarted",value:function(_,O){if(O)for(var T in O.tracks)this.maybeEventTrackStarted(T,_,O)}},{key:"compareEqualForRMPUpdateEvent",value:function(_,O){var T,q;return _.state===O.state&&((T=_.settings)===null||T===void 0?void 0:T.volume)===((q=O.settings)===null||q===void 0?void 0:q.volume)}},{key:"emitDailyJSEvent",value:function(_){try{_.callClientId=this.callClientId,this.emit(_.action,_)}catch(O){console.log("could not emit",_,O)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(_,O){return!!rs(_,O)&&(!_.videoTrack||!O.videoTrack||_.videoTrack.id===O.videoTrack.id&&_.videoTrack.muted===O.videoTrack.muted&&_.videoTrack.enabled===O.videoTrack.enabled)&&(!_.audioTrack||!O.audioTrack||_.audioTrack.id===O.audioTrack.id&&_.audioTrack.muted===O.audioTrack.muted&&_.audioTrack.enabled===O.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return At()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(_){this._updateCallState(this._callState,_)}},{key:"_updateCallState",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(_!==this._callState||O!==this._isPreparingToJoin){var T=this._callState,q=this._isPreparingToJoin;this._callState=_,this._isPreparingToJoin=O;var W=this._callState===yl;this.updateShowAndroidOngoingMeetingNotification(W);var K=Hy(T,q),G=Hy(this._callState,this._isPreparingToJoin);K!==G&&(this.updateKeepDeviceAwake(G),this.updateDeviceAudioMode(G),this.updateNoOpRecordingEnsuringBackgroundContinuity(G))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=UF,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Vy},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=BN(BF,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=TN,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(_){At()&&this.nativeUtils().setKeepDeviceAwake(_,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(_){if(At()&&!this.disableReactNativeAutoDeviceManagement("audio")){var O=_?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(O)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(_){if(At()&&this.nativeUtils().setShowOngoingMeetingNotification){var O,T,q,W;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var K=this.properties.reactNativeConfig.androidInCallNotification;O=K.title,T=K.subtitle,q=K.iconName,W=K.disableForCustomOverride}W&&(_=!1),this.nativeUtils().setShowOngoingMeetingNotification(_,O,T,q,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(_){At()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(_)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var _;if(At()){var O=(_=this._callMachine())===null||_===void 0||(_=_.store)===null||_===void 0?void 0:_.getState();for(var T in O==null?void 0:O.streams){var q=O.streams[T];q&&q.pendingTrack&&q.pendingTrack.kind==="audio"&&(q.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(_){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[_]}},{key:"absoluteUrl",value:function(_){if(_!==void 0){var O=document.createElement("a");return O.href=_,O.href}}},{key:"sayHello",value:function(){var _="hello, world.";return console.log(_),_}},{key:"_logUseAfterDestroy",value:function(){var _=Object.values(Nc)[0];if(this.needsLoad())if(_&&!_.needsLoad()){var O={action:uy,level:"error",code:this.strictMode?9995:9997};_.sendMessageToCallMachine(O)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var T={action:uy,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(T,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var _=0,O=Object.values(Nc);_<O.length;_++){var T=O[_];T._callMachineInitialized?(T.sendMessageToCallMachine({action:uy,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),T._delayDuplicateInstanceLog=!1):T._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(_){var O,T,q,W;if(!((O=_.error)!==null&&O!==void 0&&O.type&&(![JJ,KJ,d2].includes(_.error.type)||_.error.type===d2&&_.error.msg.includes("deleted")))){var K=(T=this.properties)!==null&&T!==void 0&&T.url?new URL(this.properties.url):void 0,G="production";K&&K.host.includes(".staging.daily")&&(G="staging");var V,se,re,je,be,ce=function(de){const Pe=[gWe(),mWe(),zWe(),BWe(),GWe(),KWe(),bWe(),YWe()];return de.autoSessionTracking!==!1&&Pe.push(HWe()),Pe}({}).filter(function(de){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(de.name)}),Z=new EWe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:MWe,stackParser:FWe,integrations:ce,environment:G}),ge=new ec;if(ge.setClient(Z),Z.init(),this.session_id&&ge.setExtra("sessionId",this.session_id),this.properties){var ke=Ke({},this.properties);ke.userName=ke.userName?"[Filtered]":void 0,ke.userData=ke.userData?"[Filtered]":void 0,ke.token=ke.token?"[Filtered]":void 0,ge.setExtra("properties",ke)}if(K){var me=K.searchParams.get("domain");if(!me){var Ne=K.host.match(/(.*?)\./);me=Ne&&Ne[1]||""}me&&ge.setTag("domain",me)}_.error&&(ge.setTag("fatalErrorType",_.error.type),ge.setExtra("errorDetails",_.error.details),!((V=_.error.details)===null||V===void 0)&&V.uri&&ge.setTag("serverAddress",_.error.details.uri),!((se=_.error.details)===null||se===void 0)&&se.workerGroup&&ge.setTag("workerGroup",_.error.details.workerGroup),!((re=_.error.details)===null||re===void 0)&&re.geoGroup&&ge.setTag("geoGroup",_.error.details.geoGroup),!((je=_.error.details)===null||je===void 0)&&je.on&&ge.setTag("connectionAttempt",_.error.details.on),(be=_.error.details)!==null&&be!==void 0&&be.bundleUrl&&(ge.setTag("bundleUrl",_.error.details.bundleUrl),ge.setTag("bundleError",_.error.details.sourceError.type))),ge.setTags({callMode:this._callObjectMode?At()?"reactNative":(q=this.properties)!==null&&q!==void 0&&(q=q.dailyConfig)!==null&&q!==void 0&&(q=q.callMode)!==null&&q!==void 0&&q.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var oe=((W=_.error)===null||W===void 0?void 0:W.msg)||_.errorMsg;ge.captureException(new Error(oe))}}},{key:"_callMachine",value:function(){var _;return(_=window._daily)===null||_===void 0||(_=_.instances)===null||_===void 0||(_=_[this.callClientId])===null||_===void 0?void 0:_.callMachine}},{key:"_maybeUpdateInputSettings",value:function(_){if(!rs(this._inputSettings,_)){var O=this._getInputSettings();this._inputSettings=_;var T=this._getInputSettings();rs(O,T)||this.emitDailyJSEvent({action:p2,inputSettings:T})}}}],[{key:"supportedBrowser",value:function(){if(At())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var _=R7e.getParser(La());return{supported:!!DN(),mobile:_.getPlatformType()==="mobile",name:_.getBrowserName(),version:_.getBrowserVersion(),supportsFullscreen:!!bF(),supportsScreenShare:!!j9e(),supportsSfu:!!DN(),supportsVideoProcessing:YX(),supportsAudioProcessing:KX()}}},{key:"version",value:function(){return"0.84.0"}},{key:"createCallObject",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _.layout="none",new e(null,_)}},{key:"wrap",value:function(_){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Et(),!_||!_.contentWindow||typeof _.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser"),new e(_,O)}},{key:"createFrame",value:function(_,O){var T,q;Et(),_&&O?(T=_,q=O):_&&_.append?(T=_,q={}):(T=document.body,q=_||{});var W=q.iframeStyle;W||(W=T===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var K=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?K.allow="microphone, camera":K.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",K.style.visibility="hidden",T.appendChild(K),K.style.visibility=null,Object.keys(W).forEach(function(G){return K.style[G]=W[G]}),q.layout||(q.customLayout?q.layout="custom-v1":q.layout="browser");try{return new e(K,q)}catch(G){throw T.removeChild(K),G}}},{key:"createTransparentFrame",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Et();var O=document.createElement("iframe");return O.allow="microphone; camera; autoplay",O.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(O),_.layout||(_.layout="custom-v1"),e.wrap(O,_)}},{key:"getCallInstance",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return _?Nc[_]:Object.values(Nc)[0]}}]);var t,n,r,a,i,o,l,c,u,d,h,f,m,v,p,x,y,b,w,j,N,S,C,k,E,A,P,B,U,I,L,M,$,R,F,D,H,z}();function VF(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function pd(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=jo;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function cn(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==yl){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function Hy(e,t){return[K0,yl].includes(e)||t}function LN(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Hy(e,t)){var a="".concat(n," not supported after joining a meeting.");throw r&&(a+=" ".concat(r)),console.error(a),new Error(a)}}function fy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function FN(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Ha(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function qs(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Et(){if(At())throw new Error("This daily-js method is not currently supported in React Native")}function $m(){if(!At())throw new Error("This daily-js method is only supported in React Native")}function lQ(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),rs(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function cQ(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},a=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!a(h.video))&&!(h.screenVideo&&!a(h.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=Hr(l[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function uQ(e){if(It(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Hr(n[t],2),a=r[0],i=r[1];switch(a){case"video":if(It(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=Hr(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!X9e(d))return!1;break;case"settings":if(!WF(d))return!1;break;default:return!1}}break;case"audio":if(It(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Hr(f[h],2),v=m[0],p=m[1];switch(v){case"processor":if(!J9e(p))return!1;break;case"settings":if(!WF(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function dQ(e,t,n){var r,a=[];e.video&&e.video.processor&&(YX((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(KX()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:jo}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:jo}):delete n.videoTrack)}function J9e(e){if(At())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&It(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(HX).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function X9e(e){if(At())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||It(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Wy).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(It(e.config)!=="object"||!function(n,r){var a=Object.keys(r);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Wy.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Wy.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(V0(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return MN.includes(f)}catch(v){return console.error("failed to deduce blob content type",v),!1}var m=h.split(".").at(-1).toLowerCase().trim();return MN.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(MN.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function WF(e){return It(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function N2(){var e=Object.values(Wy).join(" | "),t=Object.values(HX).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function hQ(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(YJ).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function fQ(){return"customIntegrations should be an object of type ".concat(JSON.stringify(_2),".")}function mQ(e){if(e&&It(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Q0),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Hr(n[t],1)[0],a=0,i=Object.entries(e[r]);a<i.length;a++){var o=Hr(i[a],2),l=o[0],c=o[1],u=Q0.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!V0(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(It(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function pQ(e){if(!e||e&&It(e)!=="object"||Array.isArray(e))return console.error(fQ()),!1;for(var t=function(h){return"".concat(h," should be ").concat(_2.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,a=Object.entries(e);r<a.length;r++){var i=Hr(a[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=Hr(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!V0(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!V0(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!_2.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function gQ(e,t){if(t===void 0)return!1;switch(It(t)){case"string":return It(e)===t;case"object":if(It(e)!=="object")return!1;for(var n in e)if(!gQ(e[n],t[n]))return!1;return!0;default:return!1}}function HF(e,t){var n=e.sessionId,r=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function GF(e){if(It(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(x2).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(x2));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function YF(e,t,n){return!(typeof e!="number"||e<t||e>n)}function BN(e,t){return e&&!t&&delete e.data,e}const Q9e=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:GJ,DAILY_ACCESS_LEVEL_LOBBY:t9e,DAILY_ACCESS_LEVEL_NONE:n9e,DAILY_ACCESS_UNKNOWN:Vy,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:f9e,DAILY_CAMERA_ERROR_CAM_IN_USE:d9e,DAILY_CAMERA_ERROR_CONSTRAINTS:v9e,DAILY_CAMERA_ERROR_MIC_IN_USE:h9e,DAILY_CAMERA_ERROR_NOT_FOUND:g9e,DAILY_CAMERA_ERROR_PERMISSIONS:m9e,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:p9e,DAILY_CAMERA_ERROR_UNKNOWN:x9e,DAILY_EVENT_ACCESS_STATE_UPDATED:dX,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:DX,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:IX,DAILY_EVENT_APP_MSG:CX,DAILY_EVENT_CAMERA_ERROR:rX,DAILY_EVENT_CPU_LOAD_CHANGE:LX,DAILY_EVENT_ERROR:v2,DAILY_EVENT_EXIT_FULLSCREEN:Jm,DAILY_EVENT_FACE_COUNTS_UPDATED:FX,DAILY_EVENT_FULLSCREEN:Km,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:QJ,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:XJ,DAILY_EVENT_INPUT_SETTINGS_UPDATED:p2,DAILY_EVENT_JOINED_MEETING:aX,DAILY_EVENT_JOINING_MEETING:sX,DAILY_EVENT_LANG_UPDATED:VX,DAILY_EVENT_LEFT_MEETING:iX,DAILY_EVENT_LIVE_STREAMING_ERROR:qX,DAILY_EVENT_LIVE_STREAMING_STARTED:BX,DAILY_EVENT_LIVE_STREAMING_STOPPED:zX,DAILY_EVENT_LIVE_STREAMING_UPDATED:UX,DAILY_EVENT_LOADED:h2,DAILY_EVENT_LOADING:eX,DAILY_EVENT_LOAD_ATTEMPT_FAILED:tX,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:MX,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:TX,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:OX,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:y9e,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:fX,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:hX,DAILY_EVENT_NETWORK_CONNECTION:$X,DAILY_EVENT_NETWORK_QUALITY_CHANGE:RX,DAILY_EVENT_NONFATAL_ERROR:g2,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:uX,DAILY_EVENT_PARTICIPANT_JOINED:oX,DAILY_EVENT_PARTICIPANT_LEFT:cX,DAILY_EVENT_PARTICIPANT_UPDATED:lX,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:WX,DAILY_EVENT_RECORDING_DATA:SX,DAILY_EVENT_RECORDING_ERROR:_X,DAILY_EVENT_RECORDING_STARTED:f2,DAILY_EVENT_RECORDING_STATS:jX,DAILY_EVENT_RECORDING_STOPPED:m2,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:NX,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:EX,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:AX,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:PX,DAILY_EVENT_STARTED_CAMERA:nX,DAILY_EVENT_THEME_UPDATED:ZJ,DAILY_EVENT_TRACK_STARTED:vX,DAILY_EVENT_TRACK_STOPPED:xX,DAILY_EVENT_TRANSCRIPTION_ERROR:wX,DAILY_EVENT_TRANSCRIPTION_MSG:kX,DAILY_EVENT_TRANSCRIPTION_STARTED:yX,DAILY_EVENT_TRANSCRIPTION_STOPPED:bX,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:mX,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:gX,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:pX,DAILY_FATAL_ERROR_CONNECTION:JJ,DAILY_FATAL_ERROR_EJECTED:s9e,DAILY_FATAL_ERROR_EOL:KJ,DAILY_FATAL_ERROR_EXP_ROOM:o9e,DAILY_FATAL_ERROR_EXP_TOKEN:l9e,DAILY_FATAL_ERROR_MEETING_FULL:c9e,DAILY_FATAL_ERROR_NBF_ROOM:a9e,DAILY_FATAL_ERROR_NBF_TOKEN:i9e,DAILY_FATAL_ERROR_NOT_ALLOWED:u9e,DAILY_FATAL_ERROR_NO_ROOM:d2,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:r9e,DAILY_RECEIVE_SETTINGS_BASE_KEY:YJ,DAILY_STATE_ERROR:co,DAILY_STATE_JOINED:yl,DAILY_STATE_JOINING:K0,DAILY_STATE_LEFT:ol,DAILY_STATE_NEW:u2,DAILY_TRACK_STATE_BLOCKED:JWe,DAILY_TRACK_STATE_INTERRUPTED:e9e,DAILY_TRACK_STATE_LOADING:ZWe,DAILY_TRACK_STATE_OFF:XWe,DAILY_TRACK_STATE_PLAYABLE:HJ,DAILY_TRACK_STATE_SENDABLE:QWe,default:K9e},Symbol.toStringTag,{value:"Module"})),Z9e=q6(Q9e);var ZO={exports:{}},ah=typeof Reflect=="object"?Reflect:null,KF=ah&&typeof ah.apply=="function"?ah.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Gy;ah&&typeof ah.ownKeys=="function"?Gy=ah.ownKeys:Object.getOwnPropertySymbols?Gy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Gy=function(t){return Object.getOwnPropertyNames(t)};function eHe(e){console&&console.warn&&console.warn(e)}var vQ=Number.isNaN||function(t){return t!==t};function on(){on.init.call(this)}ZO.exports=on;ZO.exports.once=sHe;on.EventEmitter=on;on.prototype._events=void 0;on.prototype._eventsCount=0;on.prototype._maxListeners=void 0;var JF=10;function y_(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(on,"defaultMaxListeners",{enumerable:!0,get:function(){return JF},set:function(e){if(typeof e!="number"||e<0||vQ(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");JF=e}});on.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};on.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||vQ(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function xQ(e){return e._maxListeners===void 0?on.defaultMaxListeners:e._maxListeners}on.prototype.getMaxListeners=function(){return xQ(this)};on.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a=t==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")KF(c,this,n);else for(var u=c.length,d=_Q(c,u),r=0;r<u;++r)KF(d[r],this,n);return!0};function yQ(e,t,n,r){var a,i,o;if(y_(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),a=xQ(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,eHe(l)}return e}on.prototype.addListener=function(t,n){return yQ(this,t,n,!1)};on.prototype.on=on.prototype.addListener;on.prototype.prependListener=function(t,n){return yQ(this,t,n,!0)};function tHe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function bQ(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=tHe.bind(r);return a.listener=n,r.wrapFn=a,a}on.prototype.once=function(t,n){return y_(n),this.on(t,bQ(this,t,n)),this};on.prototype.prependOnceListener=function(t,n){return y_(n),this.prependListener(t,bQ(this,t,n)),this};on.prototype.removeListener=function(t,n){var r,a,i,o,l;if(y_(n),a=this._events,a===void 0)return this;if(r=a[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():nHe(r,i),r.length===1&&(a[t]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};on.prototype.off=on.prototype.removeListener;on.prototype.removeAllListeners=function(t){var n,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(a=0;a<i.length;++a)o=i[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this};function wQ(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?rHe(a):_Q(a,a.length)}on.prototype.listeners=function(t){return wQ(this,t,!0)};on.prototype.rawListeners=function(t){return wQ(this,t,!1)};on.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):jQ.call(e,t)};on.prototype.listenerCount=jQ;function jQ(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}on.prototype.eventNames=function(){return this._eventsCount>0?Gy(this._events):[]};function _Q(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function nHe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function rHe(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function sHe(e,t){return new Promise(function(n,r){function a(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),n([].slice.call(arguments))}NQ(e,t,i,{once:!0}),t!=="error"&&aHe(e,a,{once:!0})})}function aHe(e,t,n){typeof e.on=="function"&&NQ(e,"error",t,n)}function NQ(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var iHe=ZO.exports,b_={},Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.Api=Vl.HttpClient=Vl.ContentType=void 0;var Fe;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Fe||(Vl.ContentType=Fe={}));class SQ{constructor(t={}){ht(this,"baseUrl","https://api.vapi.ai");ht(this,"securityData",null);ht(this,"securityWorker");ht(this,"abortControllers",new Map);ht(this,"customFetch",(...t)=>fetch(...t));ht(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ht(this,"setSecurityData",t=>{this.securityData=t});ht(this,"contentFormatters",{[Fe.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Fe.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Fe.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Fe.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const a=t[r];return n.append(r,a instanceof Blob?a:typeof a=="object"&&a!==null?JSON.stringify(a):`${a}`),n},new FormData),[Fe.UrlEncoded]:t=>this.toQueryString(t)});ht(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});ht(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});ht(this,"request",async({body:t,secure:n,path:r,type:a,query:i,format:o,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),m=this.contentFormatters[a||Fe.Json],v=o||h.format;return this.customFetch(`${l||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...a&&a!==Fe.FormData?{"Content-Type":a}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const x=p;x.data=null,x.error=null;const y=v?p.clone():p,b=v?await y[v]().then(w=>(x.ok?x.data=w:x.error=w,x)).catch(w=>(x.error=w,x)):x;if(c&&this.abortControllers.delete(c),!p.ok)throw b;return b})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(a=>this.encodeQueryParam(n,a)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(a=>typeof n[a]<"u").map(a=>Array.isArray(n[a])?this.addArrayQueryParam(n,a):this.addQueryParam(n,a)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}Vl.HttpClient=SQ;class oHe extends SQ{constructor(){super(...arguments);ht(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),assistantControllerReplace:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Fe.Json,format:"json",...a}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,a={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...a})});ht(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});ht(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,a={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,a={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a})});ht(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,a={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),callControllerDeleteCallData:(n,r={})=>this.request({path:`/call/${n}`,method:"DELETE",secure:!0,format:"json",...r}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r})});ht(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r})});ht(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,a={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,a={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,a={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,a={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Fe.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Fe.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,a={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,a={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,a,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:a,secure:!0,type:Fe.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,a={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteTestControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Fe.Json,format:"json",...a}),testSuiteTestControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteTestControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:a,secure:!0,type:Fe.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...a}),testSuiteRunControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteRunControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Fe.Json,format:"json",...a}),testSuiteRunControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteRunControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:a,secure:!0,type:Fe.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...a})});ht(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,a={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Fe.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});ht(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,a={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,a={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...a}),orgControllerUsersInvite:(n,r,a={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Fe.Json,...a}),orgControllerUserUpdate:(n,r,a={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Fe.Json,...a}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});ht(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,a={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,a={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r}),credentialControllerGenerateSession:(n,r={})=>this.request({path:"/credential/session",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),credentialControllerHandleWebhook:(n,r={})=>this.request({path:"/credential/webhook",method:"POST",body:n,type:Fe.Json,...r}),credentialControllerTriggerCredentialAction:(n,r={})=>this.request({path:"/credential/trigger",method:"POST",body:n,secure:!0,type:Fe.Json,...r})});ht(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,a={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Fe.Json,format:"json",...a}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,a={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Fe.Json,...r})});ht(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,a={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...a}),providerResourceControllerGetProviderResourcesPaginated:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:a,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,a={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...a}),providerControllerGetWorkflowTriggerHook:(n,r,a={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...a}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,a={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerSearchVoice:(n,r,a={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerAddVoices:(n,r,a={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Fe.Json,format:"json",...a}),voiceProviderControllerAddVoice:(n,r,a={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Fe.Json,format:"json",...a})});ht(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Fe.FormData,...r})});ht(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Fe.Json,format:"json",...r})})}}Vl.Api=oHe;Object.defineProperty(b_,"__esModule",{value:!0});b_.client=void 0;const lHe=Vl,cHe=new lHe.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});b_.client=cHe;var tm={};Object.defineProperty(tm,"__esModule",{value:!0});tm.createSafeDailyConfig=uHe;tm.safeSetLocalAudio=dHe;tm.safeSetInputDevicesAsync=hHe;tm.createSafeDailyFactoryOptions=fHe;function uHe(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function dHe(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function hHe(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function fHe(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var CQ=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kJ,"__esModule",{value:!0});const XF=CQ(Z9e),mHe=CQ(iHe),UN=b_,Cc=tm;async function pHe(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function QF(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await pHe(n,e),n}function ZF(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function e6(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class gHe extends mHe.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class vHe extends gHe{constructor(n,r,a,i){super();ht(this,"started",!1);ht(this,"call",null);ht(this,"speakingTimeout",null);ht(this,"dailyCallConfig",{});ht(this,"dailyCallObject",{});ht(this,"hasEmittedCallEndedStatus",!1);UN.client.baseUrl=r??"https://api.vapi.ai",UN.client.setSecurityData(n),this.dailyCallConfig=(0,Cc.createSafeDailyConfig)(a),this.dailyCallObject=(0,Cc.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,a,i,o,l){var u,d,h,f,m,v,p;const c=Date.now();if(!n&&!a&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",message:x.message,timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),y=(await UN.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof a=="string"?void 0:a,squadId:typeof a=="string"?a:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,b=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((u=y==null?void 0:y.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const w=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,j=((v=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:v.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,isVideoRecordingEnabled:w,isVideoEnabled:j}});const N=Date.now();try{this.call=XF.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,dailyConfig:this.dailyCallConfig});const P=Date.now()-N;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:P,timestamp:new Date().toISOString()})}catch(P){const B=Date.now()-N;throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:P==null?void 0:P.toString()}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:P,timestamp:new Date().toISOString()}),P}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var P;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),w&&((P=this.call)==null||P.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",P=>{var B;this.emit("error",P),w&&((B=this.call)==null||B.stopRecording())}),this.call.on("camera-error",P=>{this.emit("camera-error",P)}),this.call.on("network-quality-change",P=>{this.emit("network-quality-change",P)}),this.call.on("network-connection",P=>{this.emit("network-connection",P)}),this.call.on("track-started",async P=>{var B,U,I;!P||!P.participant||(B=P.participant)!=null&&B.local||((U=P.participant)==null?void 0:U.user_name)==="Vapi Speaker"&&(P.track.kind==="video"&&this.emit("video",P.track),P.track.kind==="audio"&&await QF(P.track,P.participant.session_id),(I=this.call)==null||I.sendAppMessage("playable"))}),this.call.on("participant-joined",P=>{!P||!this.call||e6(P,this.call,w,j)}),this.call.on("participant-updated",P=>{P&&this.emit("daily-participant-updated",P.participant)}),this.call.on("participant-left",P=>{P&&ZF(P.participant.session_id)});const S=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:S}}),S){const P=Date.now();await this.sleep(1e3);const B=Date.now()-P;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:B,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const P=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:P,timestamp:new Date().toISOString()})}catch(P){const B=Date.now()-C;throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:P==null?void 0:P.toString()}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:P,duration:B,timestamp:new Date().toISOString()}),P}if(w){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const P=new Date().getTime(),B=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const U=Date.now()-B;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:U,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const I=(new Date().getTime()-P)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:I}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:I})})}catch(U){const I=Date.now()-B;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:U==null?void 0:U.toString()}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:U,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const P=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:P,timestamp:new Date().toISOString()})}catch(P){const B=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:P==null?void 0:P.toString()}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:P,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",P=>{P&&this.handleRemoteParticipantsAudioLevel(P)}),this.call.on("app-message",P=>this.onAppMessage(P)),this.call.on("nonfatal-error",P=>{var B;(P==null?void 0:P.type)==="audio-processor-error"&&((B=this.call)==null||B.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Cc.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const E=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const P=Date.now()-E;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:P,timestamp:new Date().toISOString()})}catch(P){const B=Date.now()-E;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:P==null?void 0:P.toString()}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:P,timestamp:new Date().toISOString()})}const A=Date.now()-c;return this.emit("call-start-success",{totalDuration:A,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(x){const y=Date.now()-c;return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:(x==null?void 0:x.toString())||"Unknown error occurred",errorStack:x instanceof Error?x.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:x,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Cc.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,a,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:a??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Cc.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new AudioContext,i=a.createMediaStreamSource(r),o=a.createGain();o.gain.value=n,i.connect(o);const l=a.createMediaStreamDestination();o.connect(l);const[c]=l.stream.getAudioTracks();await(0,Cc.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var a;(a=this.call)==null||a.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var a,i,o,l,c,u,d,h,f,m,v,p,x;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((a=n==null?void 0:n.artifactPlan)!=null&&a.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((l=n==null?void 0:n.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,b=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:b}});const w=Date.now();this.call=XF.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const j=Date.now()-w;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:j,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var P;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((P=this.call)==null||P.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",P=>{var B;this.emit("error",P),y&&((B=this.call)==null||B.stopRecording())}),this.call.on("camera-error",P=>{this.emit("camera-error",P)}),this.call.on("network-quality-change",P=>{this.emit("network-quality-change",P)}),this.call.on("network-connection",P=>{this.emit("network-connection",P)}),this.call.on("track-started",async P=>{var B,U,I;!P||!P.participant||(B=P.participant)!=null&&B.local||((U=P.participant)==null?void 0:U.user_name)==="Vapi Speaker"&&(P.track.kind==="video"&&this.emit("video",P.track),P.track.kind==="audio"&&await QF(P.track,P.participant.session_id),(I=this.call)==null||I.sendAppMessage("playable"))}),this.call.on("participant-joined",P=>{!P||!this.call||e6(P,this.call,y,b)}),this.call.on("participant-updated",P=>{P&&this.emit("daily-participant-updated",P.participant)}),this.call.on("participant-left",P=>{P&&ZF(P.participant.session_id)}),this.call.on("remote-participants-audio-level",P=>{P&&this.handleRemoteParticipantsAudioLevel(P)}),this.call.on("app-message",P=>this.onAppMessage(P)),this.call.on("nonfatal-error",P=>{var B;(P==null?void 0:P.type)==="audio-processor-error"&&((B=this.call)==null||B.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Cc.safeSetLocalAudio)(this.call,!0)}))});const N=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:N}}),N){const P=Date.now();await this.sleep(1e3);const B=Date.now()-P;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:B,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const S=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const C=Date.now()-S;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:C,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const P=Date.now(),B=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const U=Date.now()-P;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:U,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const I=(new Date().getTime()-B)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:I}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:I})})}catch(U){const I=Date.now()-P;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:I,timestamp:new Date().toISOString(),metadata:{error:U==null?void 0:U.toString()}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const P=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:P,timestamp:new Date().toISOString()})}catch(P){const B=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:P==null?void 0:P.toString()}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const E=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const P=Date.now()-E;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:P,timestamp:new Date().toISOString()})}catch(P){const B=Date.now()-E;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:P==null?void 0:P.toString()}})}const A=Date.now()-r;this.emit("call-start-success",{totalDuration:A,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const b=Date.now()-r;throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:b,error:(y==null?void 0:y.toString())||"Unknown error occurred",errorStack:y instanceof Error?y.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:y,totalDuration:b,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((v=n==null?void 0:n.artifactPlan)!=null&&v.videoRecordingEnabled),voiceProvider:((x=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}}var xHe=kJ.default=vHe;function yHe(){const{assistantId:e}=lv(),t=Ar(),{toast:n}=En(),{user:r}=Ut(),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[v,p]=g.useState(null),x=g.useRef(null),[y,b]=g.useState({name:"",firstMessage:"",firstMessageMode:"assistant-speaks-first",voiceProvider:"11labs",voiceId:"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:"openai",model:"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"});g.useEffect(()=>{w()},[e]);const w=async()=>{try{const{data:S,error:C}=await Y.from("voice_assistants").select("*").eq("id",e).single();if(C)throw C;p(S),b({name:S.name||"",firstMessage:S.first_message||"",firstMessageMode:"assistant-speaks-first",voiceProvider:S.voice_provider||"11labs",voiceId:S.voice_id||"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:S.model_provider||"openai",model:S.model||"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:S.transcriber_provider||"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"})}catch(S){n({title:"Error",description:S.message,variant:"destructive"})}finally{i(!1)}},j=async()=>{l(!0);try{const S={name:"name",firstMessage:"first_message",voiceProvider:"voice_provider",voiceId:"voice_id",modelProvider:"model_provider",model:"model"},C={},k={};if(v)for(const[A,P]of Object.entries(S)){const B=v[P],U=y[A];B!==U&&(C[P]=B,k[P]=U)}const E={name:y.name,firstMessage:y.firstMessage,firstMessageMode:y.firstMessageMode,voice:{provider:y.voiceProvider,voiceId:y.voiceId},model:{provider:y.modelProvider,model:y.model,temperature:y.temperature,maxTokens:y.maxTokens,emotionRecognitionEnabled:y.emotionRecognitionEnabled},transcriber:{provider:y.transcriberProvider,model:y.transcriberModel,language:y.transcriberLanguage},silenceTimeoutSeconds:y.silenceTimeoutSeconds,responseDelaySeconds:y.responseDelaySeconds,llmRequestDelaySeconds:y.llmRequestDelaySeconds,numWordsToInterruptAssistant:y.numWordsToInterruptAssistant,maxDurationSeconds:y.maxDurationSeconds,endCallMessage:y.endCallMessage,endCallPhrases:y.endCallPhrases,recordingEnabled:y.recordingEnabled,hipaaEnabled:y.hipaaEnabled,backchannelingEnabled:y.backchannelingEnabled,backgroundDenoisingEnabled:y.backgroundDenoisingEnabled,modelOutputInMessagesEnabled:y.modelOutputInMessagesEnabled,backgroundSound:y.backgroundSound};if(y.voiceProvider==="11labs"&&(E.voice.stability=y.voiceStability,E.voice.similarityBoost=y.voiceSimilarityBoost),(y.voiceProvider==="playht"||y.voiceProvider==="rime-ai")&&(E.voice.speed=y.voiceSpeed),y.voicemailDetectionEnabled&&(E.voicemailDetection={enabled:!0,provider:"twilio"},E.voicemailMessage=y.voicemailMessage),await qhe(e,E),Object.keys(k).length>0&&e&&r){const A=Object.keys(k).join(", ");await Y.from("changelog_entries").insert({user_id:r.id,entity_type:"voice_assistant",entity_id:e,change_type:"update",title:`Configuration updated: ${A}`,description:`Updated settings for assistant "${y.name}"`,previous_values:C,new_values:k,status:null,source:"auto"})}n({title:"Success",description:"Voice assistant updated successfully"}),t("/voice-assistants")}catch(S){n({title:"Error",description:S.message,variant:"destructive"})}finally{l(!1)}},N=async()=>{if(d&&x.current){x.current.stop(),h(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"});return}u(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0});const S=await Whe();if(!(S!=null&&S.publicKey))throw new Error("No Vapi public key available. Please reconnect your Vapi account.");x.current||(x.current=new xHe(S.publicKey)),x.current.on("call-start",()=>{console.log("Call started"),h(!0),n({title:"Call Started",description:"You're now connected to the voice assistant. Speak to test it!"})}),x.current.on("call-end",()=>{console.log("Call ended"),h(!1),m(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"})}),x.current.on("speech-start",()=>{console.log("Assistant started speaking"),m(!0)}),x.current.on("speech-end",()=>{console.log("Assistant stopped speaking"),m(!1)}),x.current.on("error",C=>{console.error("Vapi error:",C),h(!1),u(!1),n({title:"Call Error",description:C.message||"An error occurred during the call",variant:"destructive"})}),x.current.on("message",C=>{console.log("Vapi message:",C)}),await x.current.start(e)}catch(S){console.error("Test error:",S),h(!1),u(!1),S.name==="NotAllowedError"?n({title:"Microphone Access Denied",description:"Please allow microphone access to test the voice assistant",variant:"destructive"}):n({title:"Error",description:S.message||"Failed to start test call. Make sure you have an active Vapi connection.",variant:"destructive"})}finally{d||u(!1)}};return g.useEffect(()=>()=>{x.current&&d&&x.current.stop()},[d]),a?s.jsx(wr,{children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(xt,{className:"h-8 w-8 animate-spin"})})}):s.jsx(wr,{children:s.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t("/voice-assistants"),children:s.jsx(Pr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Voice Assistant"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your Vapi assistant settings"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(te,{variant:d?"destructive":"outline",onClick:N,disabled:c&&!d,children:[c&&!d?s.jsx(xt,{className:"h-4 w-4 animate-spin mr-2"}):d?s.jsx(pse,{className:"h-4 w-4 mr-2"}):s.jsx(Nt,{className:"h-4 w-4 mr-2"}),d?"End Call":"Test Assistant"]}),s.jsxs(te,{onClick:j,disabled:o,children:[o?s.jsx(xt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),d&&s.jsx(J,{className:"mb-6 border-primary bg-primary/5",children:s.jsx(ee,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(OU,{className:`h-5 w-5 ${f?"text-muted-foreground":"text-primary"}`}),!f&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f?"Assistant is speaking...":"Listening..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"The assistant is responding to you":"Speak now to interact with the assistant"})]})]})})}),s.jsxs(Gu,{defaultValue:"basic",className:"space-y-6",children:[s.jsxs(vc,{className:"grid w-full grid-cols-6",children:[s.jsx(tn,{value:"basic",children:"Basic"}),s.jsx(tn,{value:"voice",children:"Voice"}),s.jsx(tn,{value:"model",children:"Model"}),s.jsx(tn,{value:"transcriber",children:"Transcriber"}),s.jsx(tn,{value:"call",children:"Call Settings"}),s.jsx(tn,{value:"features",children:"Features"})]}),s.jsx(nn,{value:"basic",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Basic Information"}),s.jsx(Se,{children:"Configure the basic settings for your assistant"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Assistant Name"}),s.jsx(he,{id:"name",value:y.name,onChange:S=>b({...y,name:S.target.value}),placeholder:"My Assistant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"firstMessage",children:"First Message"}),s.jsx(dt,{id:"firstMessage",value:y.firstMessage,onChange:S=>b({...y,firstMessage:S.target.value}),placeholder:"Hello! How can I help you today?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"firstMessageMode",children:"First Message Mode"}),s.jsxs(He,{value:y.firstMessageMode,onValueChange:S=>b({...y,firstMessageMode:S}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"assistant-speaks-first",children:"Assistant Speaks First"}),s.jsx(ue,{value:"assistant-waits",children:"Assistant Waits"}),s.jsx(ue,{value:"assistant-speaks-first-with-model-generated-message",children:"AI Generated First Message"})]})]})]})]})]})}),s.jsx(nn,{value:"voice",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Voice Configuration"}),s.jsx(Se,{children:"Configure the voice settings for your assistant"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voiceProvider",children:"Voice Provider"}),s.jsxs(He,{value:y.voiceProvider,onValueChange:S=>b({...y,voiceProvider:S}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"11labs",children:"ElevenLabs"}),s.jsx(ue,{value:"playht",children:"PlayHT"}),s.jsx(ue,{value:"rime-ai",children:"Rime AI"}),s.jsx(ue,{value:"deepgram",children:"Deepgram"}),s.jsx(ue,{value:"openai",children:"OpenAI"}),s.jsx(ue,{value:"azure",children:"Azure"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voiceId",children:"Voice ID"}),s.jsx(he,{id:"voiceId",value:y.voiceId,onChange:S=>b({...y,voiceId:S.target.value}),placeholder:"Enter voice ID"})]}),y.voiceProvider==="11labs"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"voiceStability",children:["Voice Stability: ",y.voiceStability]}),s.jsx(he,{id:"voiceStability",type:"range",min:"0",max:"1",step:"0.01",value:y.voiceStability,onChange:S=>b({...y,voiceStability:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"voiceSimilarityBoost",children:["Similarity Boost: ",y.voiceSimilarityBoost]}),s.jsx(he,{id:"voiceSimilarityBoost",type:"range",min:"0",max:"1",step:"0.01",value:y.voiceSimilarityBoost,onChange:S=>b({...y,voiceSimilarityBoost:parseFloat(S.target.value)})})]})]}),(y.voiceProvider==="playht"||y.voiceProvider==="rime-ai")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"voiceSpeed",children:["Voice Speed: ",y.voiceSpeed]}),s.jsx(he,{id:"voiceSpeed",type:"range",min:"0.5",max:"2",step:"0.1",value:y.voiceSpeed,onChange:S=>b({...y,voiceSpeed:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"backgroundSound",children:"Background Sound"}),s.jsxs(He,{value:y.backgroundSound,onValueChange:S=>b({...y,backgroundSound:S}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"off",children:"Off"}),s.jsx(ue,{value:"office",children:"Office"}),s.jsx(ue,{value:"cafe",children:"Cafe"}),s.jsx(ue,{value:"nature",children:"Nature"})]})]})]})]})]})}),s.jsx(nn,{value:"model",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"AI Model Configuration"}),s.jsx(Se,{children:"Configure the language model settings"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"modelProvider",children:"Model Provider"}),s.jsxs(He,{value:y.modelProvider,onValueChange:S=>b({...y,modelProvider:S}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"openai",children:"OpenAI"}),s.jsx(ue,{value:"anthropic",children:"Anthropic"}),s.jsx(ue,{value:"together-ai",children:"Together AI"}),s.jsx(ue,{value:"groq",children:"Groq"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"Model"}),s.jsx(he,{id:"model",value:y.model,onChange:S=>b({...y,model:S.target.value}),placeholder:"gpt-4"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"temperature",children:["Temperature: ",y.temperature]}),s.jsx(he,{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:y.temperature,onChange:S=>b({...y,temperature:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"maxTokens",children:"Max Tokens"}),s.jsx(he,{id:"maxTokens",type:"number",value:y.maxTokens,onChange:S=>b({...y,maxTokens:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"emotionRecognition",checked:y.emotionRecognitionEnabled,onCheckedChange:S=>b({...y,emotionRecognitionEnabled:S})}),s.jsx(ne,{htmlFor:"emotionRecognition",children:"Enable Emotion Recognition"})]})]})]})}),s.jsx(nn,{value:"transcriber",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Transcriber Configuration"}),s.jsx(Se,{children:"Configure speech-to-text settings"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"transcriberProvider",children:"Transcriber Provider"}),s.jsxs(He,{value:y.transcriberProvider,onValueChange:S=>b({...y,transcriberProvider:S}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"deepgram",children:"Deepgram"}),s.jsx(ue,{value:"gladia",children:"Gladia"}),s.jsx(ue,{value:"talkscriber",children:"Talkscriber"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"transcriberModel",children:"Model"}),s.jsx(he,{id:"transcriberModel",value:y.transcriberModel,onChange:S=>b({...y,transcriberModel:S.target.value}),placeholder:"nova-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"transcriberLanguage",children:"Language"}),s.jsx(he,{id:"transcriberLanguage",value:y.transcriberLanguage,onChange:S=>b({...y,transcriberLanguage:S.target.value}),placeholder:"en"})]})]})]})}),s.jsx(nn,{value:"call",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Call Settings"}),s.jsx(Se,{children:"Configure call behavior and timing"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"silenceTimeout",children:"Silence Timeout (seconds)"}),s.jsx(he,{id:"silenceTimeout",type:"number",value:y.silenceTimeoutSeconds,onChange:S=>b({...y,silenceTimeoutSeconds:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"responseDelay",children:"Response Delay (seconds)"}),s.jsx(he,{id:"responseDelay",type:"number",step:"0.1",value:y.responseDelaySeconds,onChange:S=>b({...y,responseDelaySeconds:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"llmRequestDelay",children:"LLM Request Delay (seconds)"}),s.jsx(he,{id:"llmRequestDelay",type:"number",step:"0.1",value:y.llmRequestDelaySeconds,onChange:S=>b({...y,llmRequestDelaySeconds:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"numWordsInterrupt",children:"Words to Interrupt"}),s.jsx(he,{id:"numWordsInterrupt",type:"number",value:y.numWordsToInterruptAssistant,onChange:S=>b({...y,numWordsToInterruptAssistant:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"maxDuration",children:"Max Call Duration (seconds)"}),s.jsx(he,{id:"maxDuration",type:"number",value:y.maxDurationSeconds,onChange:S=>b({...y,maxDurationSeconds:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"endCallMessage",children:"End Call Message"}),s.jsx(dt,{id:"endCallMessage",value:y.endCallMessage,onChange:S=>b({...y,endCallMessage:S.target.value}),rows:2})]})]})]})}),s.jsx(nn,{value:"features",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Advanced Features"}),s.jsx(Se,{children:"Enable or disable advanced features"})]}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"recording",children:"Call Recording"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record all calls for quality assurance"})]}),s.jsx(Lt,{id:"recording",checked:y.recordingEnabled,onCheckedChange:S=>b({...y,recordingEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"hipaa",children:"HIPAA Compliance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable HIPAA-compliant mode"})]}),s.jsx(Lt,{id:"hipaa",checked:y.hipaaEnabled,onCheckedChange:S=>b({...y,hipaaEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"backchanneling",children:"Backchanneling"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow verbal acknowledgments during speech"})]}),s.jsx(Lt,{id:"backchanneling",checked:y.backchannelingEnabled,onCheckedChange:S=>b({...y,backchannelingEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"denoising",children:"Background Denoising"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce background noise"})]}),s.jsx(Lt,{id:"denoising",checked:y.backgroundDenoisingEnabled,onCheckedChange:S=>b({...y,backgroundDenoisingEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"modelOutput",children:"Model Output in Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Include model output in message logs"})]}),s.jsx(Lt,{id:"modelOutput",checked:y.modelOutputInMessagesEnabled,onCheckedChange:S=>b({...y,modelOutputInMessagesEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"voicemail",children:"Voicemail Detection"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detect and handle voicemail"})]}),s.jsx(Lt,{id:"voicemail",checked:y.voicemailDetectionEnabled,onCheckedChange:S=>b({...y,voicemailDetectionEnabled:S})})]}),y.voicemailDetectionEnabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voicemailMessage",children:"Voicemail Message"}),s.jsx(dt,{id:"voicemailMessage",value:y.voicemailMessage,onChange:S=>b({...y,voicemailMessage:S.target.value}),placeholder:"Please leave a message after the beep.",rows:2})]})]})]})})]})]})})}const bHe=()=>{var nt;const{user:e}=Ut(),t=Ar(),[n,r]=g.useState([]),[a,i]=g.useState([]),[o,l]=g.useState([]),[c,u]=g.useState(!0),[d,h]=g.useState(!1),[f,m]=g.useState(null),[v,p]=g.useState(null),[x,y]=g.useState(""),[b,w]=g.useState(null),[j,N]=g.useState([]),[S,C]=g.useState(!1),[k,E]=g.useState(!1),[A,P]=g.useState({}),[B,U]=g.useState(!1),[I,L]=g.useState(""),[M,$]=g.useState(!1),[R,F]=g.useState(null),[D,H]=g.useState([]),[z,_]=g.useState(!1),[O,T]=g.useState([]),[q,W]=g.useState(!1),K=async()=>{if(e)try{const{data:Q,error:fe}=await Y.from("elevenlabs_connections").select("id").eq("user_id",e.id).eq("is_active",!0).maybeSingle();if(fe)throw fe;m(!!Q)}catch(Q){console.error("Error checking connection:",Q),m(!1)}},G=async()=>{if(e)try{const{data:Q,error:fe}=await Y.from("whatsapp_agents").select("*").order("created_at",{ascending:!1});if(fe)throw fe;r(Q||[])}catch(Q){console.error("Error fetching agents:",Q),De({title:"Error",description:"Failed to load WhatsApp agents",variant:"destructive"})}finally{u(!1)}},V=async()=>{if(e)try{const Q=[],{data:fe}=await Y.from("chatbots").select("id"),Te=(fe==null?void 0:fe.map(zt=>zt.id))||[],{data:$e}=await Y.from("voice_assistants").select("id"),Xe=($e==null?void 0:$e.map(zt=>zt.id))||[],{data:Yt}=await Y.from("whatsapp_agents").select("id"),Gn=(Yt==null?void 0:Yt.map(zt=>zt.id))||[];if(Te.length>0){const{data:zt}=await Y.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",Te);zt&&Q.push(...zt)}if(Xe.length>0){const{data:zt}=await Y.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",Xe);zt&&Q.push(...zt)}if(Gn.length>0){const{data:zt}=await Y.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",Gn);zt&&Q.push(...zt)}const Yn=Array.from(new Map(Q.map(zt=>[zt.id,zt])).values());i(Yn)}catch(Q){console.error("Error fetching customers:",Q)}},se=async()=>{if(e)try{const{data:Q,error:fe}=await Y.from("customer_whatsapp_agent_assignments").select(`
          id,
          agent_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(fe)throw fe;const Te=(Q==null?void 0:Q.map($e=>({id:$e.id,agent_id:$e.agent_id,customer:$e.customers})))||[];l(Te)}catch(Q){console.error("Error fetching assignments:",Q)}},re=async(Q,fe=!1)=>{W(!0);try{const Te=await Khe(Q);fe&&Te.synced>0&&De({title:"Conversations Synced",description:Te.message||`Synced ${Te.synced} conversations`});const{data:$e,error:Xe}=await Y.from("whatsapp_conversations").select("*").eq("agent_id",Q).order("started_at",{ascending:!1});!Xe&&$e&&T($e)}catch(Te){console.error("Error syncing conversations:",Te),fe&&De({title:"Sync Error",description:Te.message||"Failed to sync conversations",variant:"destructive"})}finally{W(!1)}},je=g.useCallback(async Q=>{C(!0);try{const fe=await Yhe(Q);fe.agent&&(w(fe.agent),P(fe.agent)),fe.conversations&&N(fe.conversations),re(Q,!1);const{data:Te,error:$e}=await Y.from("whatsapp_conversations").select("*").eq("agent_id",Q).order("started_at",{ascending:!1});!$e&&Te&&T(Te)}catch(fe){console.error("Error fetching agent config:",fe),De({title:"Error",description:fe.message||"Failed to load agent configuration",variant:"destructive"})}finally{C(!1)}},[]),be=async Q=>{_(!0);try{const{data:fe,error:Te}=await Y.from("whatsapp_messages").select("*").eq("conversation_id",Q).order("timestamp",{ascending:!0});if(Te)throw Te;H(fe||[])}catch(fe){console.error("Error loading conversation messages:",fe),De({title:"Error",description:"Failed to load conversation messages",variant:"destructive"})}finally{_(!1)}},ce=Q=>{F(Q),be(Q.conversation_id),$(!0)},Z=Q=>{const fe=Math.floor(Q/60),Te=Q%60;return`${fe}m ${Te}s`},ge=async()=>{h(!0);try{const Q=await VC();if(Q.needsConnection){m(!1),De({title:"Connection Required",description:"Please connect your ElevenLabs account in Settings first.",variant:"destructive"});return}De({title:"Success",description:`Synced ${Q.count} agents from ElevenLabs`}),await G()}catch(Q){console.error("Error syncing agents:",Q),De({title:"Error",description:Q.message||"Failed to sync agents",variant:"destructive"})}finally{h(!1)}},ke=async()=>{if(!(!v||!A)){E(!0);try{const Q={};if(A.name!==(b==null?void 0:b.name)&&(Q.name=A.name),A.system_prompt!==(b==null?void 0:b.system_prompt)&&(Q.system_prompt=A.system_prompt),A.first_message!==(b==null?void 0:b.first_message)&&(Q.first_message=A.first_message),A.language!==(b==null?void 0:b.language)&&(Q.language=A.language),A.voice_id!==(b==null?void 0:b.voice_id)&&(Q.voice_id=A.voice_id),A.llm_model!==(b==null?void 0:b.llm_model)&&(Q.llm_model=A.llm_model),A.temperature!==(b==null?void 0:b.temperature)&&(Q.temperature=A.temperature),A.max_duration_seconds!==(b==null?void 0:b.max_duration_seconds)&&(Q.max_duration_seconds=A.max_duration_seconds),Object.keys(Q).length===0){De({title:"No changes",description:"No changes to save"});return}await Ghe(v,Q),De({title:"Success",description:"Agent updated successfully"}),await je(v),await G()}catch(Q){console.error("Error saving agent:",Q),De({title:"Error",description:Q.message||"Failed to save agent",variant:"destructive"})}finally{E(!1)}}},me=async()=>{if(!v||!I){De({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:Q}=await Y.from("customer_whatsapp_agent_assignments").insert({customer_id:I,agent_id:v,assigned_by:e==null?void 0:e.id});if(Q){if(Q.code==="23505")De({title:"Error",description:"This customer is already assigned to this agent",variant:"destructive"});else throw Q;return}De({title:"Success",description:"Agent assigned to customer successfully"}),U(!1),L(""),await se()}catch(Q){console.error("Error assigning agent:",Q),De({title:"Error",description:"Failed to assign agent",variant:"destructive"})}},Ne=async Q=>{try{const{error:fe}=await Y.from("customer_whatsapp_agent_assignments").delete().eq("id",Q);if(fe)throw fe;De({title:"Success",description:"Assignment removed"}),await se()}catch(fe){console.error("Error removing assignment:",fe),De({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},oe=g.useCallback(async()=>{if(!d){h(!0);try{const Q=await VC();if(Q!=null&&Q.needsConnection){m(!1);return}console.log(`Auto-synced ${(Q==null?void 0:Q.count)||0} WhatsApp agents`)}catch(Q){console.error("Auto-sync error:",Q)}finally{h(!1)}}},[d]);g.useEffect(()=>{if(e){K(),oe().then(()=>{G(),V(),se()});const Q=setInterval(()=>{oe().then(()=>G())},12e4);return()=>clearInterval(Q)}else u(!1)},[e]),g.useEffect(()=>{n.length>0&&!v&&p(n[0].id)},[n,v]),g.useEffect(()=>{v&&je(v)},[v,je]);const de=n.find(Q=>Q.id===v),Pe=o.filter(Q=>Q.agent_id===v),Ie=n.filter(Q=>{var fe;return(fe=Q.name)==null?void 0:fe.toLowerCase().includes(x.toLowerCase())});return e?f===!1?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your ElevenLabs WhatsApp agents"})]}),s.jsxs(J,{className:"max-w-md",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-5 h-5 text-warning"}),s.jsx(ie,{children:"Connection Required"})]}),s.jsx(Se,{children:"Connect your ElevenLabs account to view and manage your WhatsApp agents."})]}),s.jsx(ee,{children:s.jsxs(te,{onClick:()=>t("/settings"),children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Go to Settings"]})})]})]}):c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Jt,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"WhatsApp Agents"})]}),s.jsxs(te,{onClick:ge,disabled:d,size:"sm",variant:"outline",className:"w-full gap-1.5",children:[s.jsx(Ps,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing...":"Sync Agents"]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(ha,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(he,{placeholder:"Search agents...",value:x,onChange:Q=>y(Q.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx($a,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:Ie.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(Ze,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x?"No matching agents":"No agents found"}),!x&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your agents"})]}):Ie.map(Q=>{const fe=o.filter($e=>$e.agent_id===Q.id).length,Te=v===Q.id;return s.jsx("button",{onClick:()=>p(Q.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${Te?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${Te?"text-primary":""}`,children:Q.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Q.phone_number&&s.jsxs("span",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),Q.phone_number]}),fe>0&&s.jsxs(xe,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[fe," assigned"]})]})]}),Te&&s.jsx(ss,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},Q.id)})})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," agents"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:de?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-green-500/20 to-green-500/5 border border-green-500/20",children:s.jsx(Jt,{className:"h-6 w-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:de.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[de.phone_number&&s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),de.phone_number]}),s.jsx(xe,{variant:de.status==="active"?"default":"secondary",children:de.status})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>U(!0),className:"gap-1.5",children:[s.jsx(Ph,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(te,{size:"sm",onClick:ke,disabled:k,className:"gap-1.5",children:[k?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsx(Pa,{className:"h-4 w-4"}),"Save"]})]})]}),S?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Qs,{className:"h-10 w-full"}),s.jsx(Qs,{className:"h-32 w-full"}),s.jsx(Qs,{className:"h-32 w-full"})]}):b?s.jsxs(Gu,{defaultValue:"config",className:"space-y-4",children:[s.jsxs(vc,{children:[s.jsx(tn,{value:"config",children:"Configuration"}),s.jsx(tn,{value:"voice",children:"Voice & Model"}),s.jsxs(tn,{value:"conversations",children:["Conversations (",j.length,")"]}),s.jsxs(tn,{value:"customers",children:["Customers (",Pe.length,")"]})]}),s.jsxs(nn,{value:"config",className:"space-y-4",children:[s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-lg",children:"Basic Settings"})}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Agent Name"}),s.jsx(he,{id:"name",value:A.name||"",onChange:Q=>P({...A,name:Q.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"first_message",children:"First Message"}),s.jsx(dt,{id:"first_message",value:A.first_message||"",onChange:Q=>P({...A,first_message:Q.target.value}),placeholder:"The first message the agent will say...",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"language",children:"Language"}),s.jsxs(He,{value:A.language||"en",onValueChange:Q=>P({...A,language:Q}),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"en",children:"English"}),s.jsx(ue,{value:"es",children:"Spanish"}),s.jsx(ue,{value:"fr",children:"French"}),s.jsx(ue,{value:"de",children:"German"}),s.jsx(ue,{value:"it",children:"Italian"}),s.jsx(ue,{value:"pt",children:"Portuguese"}),s.jsx(ue,{value:"nl",children:"Dutch"}),s.jsx(ue,{value:"pl",children:"Polish"}),s.jsx(ue,{value:"ja",children:"Japanese"}),s.jsx(ue,{value:"zh",children:"Chinese"}),s.jsx(ue,{value:"ko",children:"Korean"})]})]})]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"System Prompt"}),s.jsx(Se,{children:"Define how the agent should behave and respond"})]}),s.jsx(ee,{children:s.jsx(dt,{value:A.system_prompt||"",onChange:Q=>P({...A,system_prompt:Q.target.value}),placeholder:"You are a helpful assistant...",rows:10,className:"font-mono text-sm"})})]}),b.tools&&b.tools.length>0&&s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-lg",children:"Connected Tools"}),s.jsx(Se,{children:"Tools and functions available to this agent"})]}),s.jsx(ee,{children:s.jsx("div",{className:"space-y-2",children:b.tools.map((Q,fe)=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"font-medium",children:Q.name||`Tool ${fe+1}`}),Q.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:Q.description})]},fe))})})]})]}),s.jsxs(nn,{value:"voice",className:"space-y-4",children:[s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-lg",children:"Voice Settings"})}),s.jsx(ee,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voice_id",children:"Voice ID"}),s.jsx(he,{id:"voice_id",value:A.voice_id||"",onChange:Q=>P({...A,voice_id:Q.target.value}),placeholder:"ElevenLabs Voice ID"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The ElevenLabs voice ID to use for text-to-speech"})]})})]}),s.jsxs(J,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-lg",children:"LLM Settings"})}),s.jsxs(ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"llm_model",children:"Model"}),s.jsx(he,{id:"llm_model",value:A.llm_model||"",onChange:Q=>P({...A,llm_model:Q.target.value}),placeholder:"gpt-4o-mini"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Temperature: ",((nt=A.temperature)==null?void 0:nt.toFixed(2))||"0.70"]}),s.jsx(of,{value:[A.temperature||.7],onValueChange:([Q])=>P({...A,temperature:Q}),min:0,max:1,step:.01}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness. Lower is more focused, higher is more creative."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_duration",children:"Max Call Duration (seconds)"}),s.jsx(he,{id:"max_duration",type:"number",value:A.max_duration_seconds||"",onChange:Q=>P({...A,max_duration_seconds:parseInt(Q.target.value)||void 0}),placeholder:"No limit"})]})]})]})]}),s.jsx(nn,{value:"conversations",className:"space-y-4",children:s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:"Recent Conversations"}),s.jsx(Se,{children:"Click on a conversation to view the transcript and AI summary"})]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>v&&re(v,!0),disabled:q,children:[s.jsx(Ps,{className:`h-4 w-4 mr-2 ${q?"animate-spin":""}`}),q?"Syncing...":"Sync Conversations"]})]}),s.jsx(ee,{children:O.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'No conversations yet. Click "Sync Conversations" to fetch from ElevenLabs.'}),s.jsxs(te,{variant:"outline",onClick:()=>v&&re(v,!0),disabled:q,children:[s.jsx(Ps,{className:`h-4 w-4 mr-2 ${q?"animate-spin":""}`}),"Sync Now"]})]}):s.jsx($a,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:O.map(Q=>{const fe=Q.ended_at?Math.floor((new Date(Q.ended_at).getTime()-new Date(Q.started_at).getTime())/1e3):void 0,Te={conversation_id:Q.id,status:Q.status||"unknown",start_time_unix_secs:new Date(Q.started_at).getTime()/1e3,end_time_unix_secs:Q.ended_at?new Date(Q.ended_at).getTime()/1e3:void 0,call_duration_secs:fe,summary:Q.summary||void 0,sentiment:Q.sentiment||void 0,phone_number:Q.phone_number||void 0};return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ce(Te),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(xe,{variant:Q.status==="done"||Q.status==="completed"?"default":"secondary",children:Q.status}),Q.sentiment&&s.jsx(xe,{variant:"outline",children:Q.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[Q.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),"+",Q.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(Q.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),ct(new Date(Q.started_at),"h:mm a")]}),fe&&s.jsxs("span",{children:["Duration: ",Z(fe)]})]}),Q.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:Q.summary})]}),s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]},Q.id)})})})})]})}),s.jsx(nn,{value:"customers",className:"space-y-4",children:s.jsxs(J,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:"Assigned Customers"}),s.jsx(Se,{children:"Customers who can view this agent's conversations"})]}),s.jsxs(te,{size:"sm",variant:"outline",onClick:()=>U(!0),className:"gap-1.5",children:[s.jsx(Ph,{className:"h-4 w-4"}),"Assign Customer"]})]})}),s.jsx(ee,{children:Pe.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No customers assigned to this agent"}):s.jsx("div",{className:"space-y-3",children:Pe.map(Q=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:s.jsx(qd,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Q.customer.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Q.customer.email}),Q.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.customer.company_name})]})]}),s.jsx(te,{size:"icon",variant:"ghost",onClick:()=>Ne(Q.id),children:s.jsx($t,{className:"h-4 w-4 text-destructive"})})]},Q.id))})})]})})]}):s.jsx(J,{children:s.jsx(ee,{className:"py-8",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load agent configuration"})})})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an agent to view details"})]})})}),s.jsx(zn,{open:B,onOpenChange:U,children:s.jsxs(Dn,{children:[s.jsxs(In,{children:[s.jsx(Rn,{children:"Assign Customer"}),s.jsx(la,{children:"Select a customer to give them access to this agent's conversations."})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs(He,{value:I,onValueChange:L,children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select a customer"})}),s.jsx(We,{children:a.filter(Q=>!Pe.some(fe=>fe.customer.id===Q.id)).map(Q=>s.jsx(ue,{value:Q.id,children:s.jsxs("div",{children:[s.jsx("p",{children:Q.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q.email})]})},Q.id))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(te,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),s.jsx(te,{onClick:me,disabled:!I,children:"Assign"})]})]})]})}),s.jsx(_v,{open:M,onOpenChange:$,children:s.jsxs(Of,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Nv,{children:[s.jsx(Sv,{children:"Conversation Details"}),s.jsx(Cv,{children:R&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[R.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(Nt,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium text-foreground",children:["+",R.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(R.start_time_unix_secs*1e3),"MMM d, yyyy h:mm a")]}),R.call_duration_secs&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-3 w-3"}),"Duration: ",Z(R.call_duration_secs)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{variant:R.status==="done"||R.status==="completed"?"default":"secondary",children:R.status}),R.sentiment&&s.jsx(xe,{variant:"outline",children:R.sentiment})]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(R==null?void 0:R.summary)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Summary"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm",children:R.summary})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),z?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):D.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"}):s.jsx("div",{className:"space-y-4",children:D.map((Q,fe)=>s.jsx("div",{className:`flex gap-3 ${Q.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${Q.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:Q.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:Q.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:ct(new Date(Q.timestamp),"h:mm:ss a")})]})},fe))})]})]})]})})]}):s.jsx("div",{className:"p-6",children:"Please log in to view WhatsApp agents."})};function wHe(){const{theme:e,setTheme:t}=kv();return s.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>t(e==="light"?"dark":"light"),className:"h-9 w-9 px-0",children:[s.jsx(VP,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(qP,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const Ni=()=>s.jsx("footer",{className:"border-t border-gray-700 bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 w-auto"})}),s.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:"The complete platform for building & deploying AI support agents for your business."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Je,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Je,{to:"/auth",className:"text-gray-400 hover:text-white transition-colors",children:"Get Started"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Je,{to:"/docs",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),s.jsx("li",{children:s.jsx(Je,{to:"/api",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),s.jsx("li",{children:s.jsx(Je,{to:"/guides",className:"text-gray-400 hover:text-white transition-colors",children:"Guides"})}),s.jsx("li",{children:s.jsx(Je,{to:"/support",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Je,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx(Je,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx(Je,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Je,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",new Date().getFullYear()," Voxtro. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(wHe,{}),s.jsx(Je,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy"}),s.jsx(Je,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms"})]})]})})]})}),jHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Documentation"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to know about building and deploying AI agents with Voxtro."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Quick Start"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-6 w-6 text-pink-400"}),s.jsx(ie,{className:"text-white",children:"1. Create Your Agent"})]}),s.jsx(Se,{className:"text-gray-400",children:"Set up your first AI agent in minutes with our intuitive interface."})]}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Choose your AI model"}),s.jsx("li",{children:" Configure personality and tone"}),s.jsx("li",{children:" Add knowledge sources"}),s.jsx("li",{children:" Set up basic responses"})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-6 w-6 text-blue-400"}),s.jsx(ie,{className:"text-white",children:"2. Configure Integrations"})]}),s.jsx(Se,{className:"text-gray-400",children:"Connect your systems and data sources for real-time information."})]}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Connect CRM systems"}),s.jsx("li",{children:" Add API endpoints"}),s.jsx("li",{children:" Set up webhooks"}),s.jsx("li",{children:" Configure actions"})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-6 w-6 text-green-400"}),s.jsx(ie,{className:"text-white",children:"3. Deploy & Monitor"})]}),s.jsx(Se,{className:"text-gray-400",children:"Launch your agent and track performance with detailed analytics."})]}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Embed on website"}),s.jsx("li",{children:" Monitor conversations"}),s.jsx("li",{children:" Track metrics"}),s.jsx("li",{children:" Optimize performance"})]})})]})]})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Core Features"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(kU,{className:"h-5 w-5 text-pink-400"}),"Agent Configuration"]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to configure your AI agent's personality, knowledge base, and response patterns."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Personality customization"}),s.jsx("li",{children:" Knowledge base management"}),s.jsx("li",{children:" Response templates"}),s.jsx("li",{children:" Conversation flows"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(LP,{className:"h-5 w-5 text-blue-400"}),"API Integration"]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Connect external services and databases to enhance your agent's capabilities."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" REST API connections"}),s.jsx("li",{children:" Database integrations"}),s.jsx("li",{children:" Third-party services"}),s.jsx("li",{children:" Custom webhooks"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Topics"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Hi,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Understand how Voxtro protects your data and ensures compliance."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Data encryption"}),s.jsx("li",{children:" Access controls"}),s.jsx("li",{children:" GDPR compliance"}),s.jsx("li",{children:" SOC 2 certification"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Mo,{className:"h-5 w-5 text-purple-400"}),"Performance Optimization"]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Best practices for optimizing your agent's performance and response quality."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning"}),s.jsx("li",{children:" Conversation analytics"}),s.jsx("li",{children:" A/B testing"})]})]})]})]})]})]}),s.jsx("section",{className:"mt-16 text-center",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Need Help?"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Can't find what you're looking for? Our support team is here to help."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/support",children:"Contact Support"})}),s.jsx(te,{variant:"outline",asChild:!0,children:s.jsx(Je,{to:"/api",children:"API Reference"})})]})]})})]}),s.jsx(Ni,{})]}),_He=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"API Reference"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Complete reference for the Voxtro API. Build integrations and automate your AI agents programmatically."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(sse,{className:"h-6 w-6 text-pink-400"}),"Authentication"]}),s.jsx(Se,{className:"text-gray-400",children:"All API requests require authentication using your API key."})]}),s.jsxs(ee,{children:[s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:s.jsx("code",{className:"text-green-400 text-sm",children:"Authorization: Bearer YOUR_API_KEY"})}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You can find your API key in your dashboard settings. Keep it secure and never expose it in client-side code."})]})]})}),s.jsxs("section",{className:"space-y-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Endpoints"}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Ht,{className:"h-6 w-6 text-blue-400"}),"Agents"]}),s.jsx(Se,{className:"text-gray-400",children:"Manage your AI agents programmatically."})]}),s.jsxs(ee,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve all your AI agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "agents": [
    {
      "id": "agent_123",
      "name": "Support Bot",
      "status": "active",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create a new AI agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "name": "Customer Support Bot",
  "personality": "helpful and professional",
  "model": "gpt-4",
  "knowledge_base": ["doc1", "doc2"]
}`})})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(FP,{className:"h-6 w-6 text-purple-400"}),"Conversations"]}),s.jsx(Se,{className:"text-gray-400",children:"Access and manage conversations between users and your agents."})]}),s.jsxs(ee,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/conversations"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve conversations for your agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "conversations": [
    {
      "id": "conv_123",
      "agent_id": "agent_123",
      "user_id": "user_456",
      "messages": 5,
      "status": "resolved",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/conversations/","{conversation_id}","/messages"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Send a message in a conversation."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "message": "Hello, I need help with my order",
  "user_id": "user_456"
}`})})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(LP,{className:"h-6 w-6 text-orange-400"}),"Analytics"]}),s.jsx(Se,{className:"text-gray-400",children:"Get insights and analytics about your agent performance."})]}),s.jsx(ee,{className:"space-y-6",children:s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xe,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/analytics/agents/","{agent_id}"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get analytics for a specific agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "total_conversations": 1250,
  "resolution_rate": 0.89,
  "avg_response_time": 1.2,
  "satisfaction_score": 4.6,
  "period": "last_30_days"
}`})})]})})]})]})]}),s.jsx(Ni,{})]}),NHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Guides & Tutorials"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Step-by-step guides to help you get the most out of your Voxtro AI agents."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Getting Started"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-6 w-6 text-pink-400"}),s.jsx(ie,{className:"text-white",children:"Your First AI Agent"})]}),s.jsx(Se,{className:"text-gray-400",children:"Learn how to create and configure your first AI agent from scratch."})]}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Sign up and access your dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Choose your AI model and configure personality"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Add knowledge sources and train your agent"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test and deploy to your website"})]})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-6 w-6 text-blue-400"}),s.jsx(ie,{className:"text-white",children:"Setting Up Integrations"})]}),s.jsx(Se,{className:"text-gray-400",children:"Connect your existing tools and systems to enhance your agent's capabilities."})]}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Connect your CRM or helpdesk"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Set up API endpoints for real-time data"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Configure webhooks and notifications"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test integrations and monitor performance"})]})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Guides"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mo,{className:"h-6 w-6 text-yellow-400"}),s.jsx(ie,{className:"text-white",children:"Performance Optimization"})]}),s.jsx(Se,{className:"text-gray-400",children:"Optimize your agent for faster responses and better accuracy."})]}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning techniques"}),s.jsx("li",{children:" Caching strategies"}),s.jsx("li",{children:" Load balancing"})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-green-400"}),s.jsx(ie,{className:"text-white",children:"Multi-Agent Systems"})]}),s.jsx(Se,{className:"text-gray-400",children:"Build complex workflows with multiple specialized agents."})]}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Agent orchestration"}),s.jsx("li",{children:" Handoff strategies"}),s.jsx("li",{children:" Specialized agent roles"}),s.jsx("li",{children:" Workflow management"})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gi,{className:"h-6 w-6 text-purple-400"}),s.jsx(ie,{className:"text-white",children:"Analytics & Insights"})]}),s.jsx(Se,{className:"text-gray-400",children:"Extract valuable insights from your agent interactions."})]}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Conversation analysis"}),s.jsx("li",{children:" Performance metrics"}),s.jsx("li",{children:" Customer satisfaction tracking"}),s.jsx("li",{children:" Business intelligence"})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Use Cases & Examples"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"E-commerce Support Agent"}),s.jsx(Se,{className:"text-gray-400",children:"Build an AI agent that handles order inquiries, returns, and product recommendations."})]}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to create a comprehensive e-commerce support agent that can handle order tracking, process returns, and make personalized product recommendations."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"SaaS Onboarding Assistant"}),s.jsx(Se,{className:"text-gray-400",children:"Create an agent that guides new users through your product features and setup."})]}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Build an intelligent onboarding assistant that helps new users understand your product, complete setup tasks, and discover key features."})})]})]})]})]}),s.jsx(Ni,{})]}),SHe=()=>{const[e,t]=g.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[n,r]=g.useState(!1),a=async i=>{i.preventDefault(),r(!0);try{await Jhe({name:`${e.firstName} ${e.lastName}`.trim(),email:e.email,subject:e.subject,message:e.message}),pe.success("Message sent successfully! We'll get back to you soon."),t({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(o){console.error("Error sending message:",o),pe.error("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Support Center"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get help when you need it. Our support team is here to ensure your success with Voxtro."})]}),s.jsx("section",{className:"mb-16",children:s.jsx("div",{className:"grid lg:grid-cols-1 gap-8 max-w-md mx-auto",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kU,{className:"h-8 w-8 text-pink-400"}),s.jsx(ie,{className:"text-white",children:"Documentation"})]}),s.jsx(Se,{className:"text-gray-400",children:"Find answers in our comprehensive documentation and guides."})]}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Browse through detailed documentation, API references, and step-by-step tutorials."}),s.jsx(te,{className:"w-full",asChild:!0,children:s.jsx(Je,{to:"/docs",children:"View Documentation"})})]})]})})}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Get in Touch"}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"Send us a message"}),s.jsx(Se,{className:"text-gray-400",children:"We'll get back to you within 24 hours."})]}),s.jsx(ee,{children:s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),s.jsx(he,{id:"firstName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"John",value:e.firstName,onChange:i=>t({...e,firstName:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),s.jsx(he,{id:"lastName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe",value:e.lastName,onChange:i=>t({...e,lastName:i.target.value}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email",className:"text-gray-300",children:"Email"}),s.jsx(he,{id:"email",type:"email",className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@example.com",value:e.email,onChange:i=>t({...e,email:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),s.jsx(he,{id:"subject",className:"bg-gray-800 border-gray-700 text-white",placeholder:"How can we help?",value:e.subject,onChange:i=>t({...e,subject:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"message",className:"text-gray-300",children:"Message"}),s.jsx(dt,{id:"message",className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your issue or question...",value:e.message,onChange:i=>t({...e,message:i.target.value}),required:!0})]}),s.jsx(te,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-6",children:s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ls,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Email Support"}),s.jsx("p",{className:"text-gray-400",children:"info@voxtro.io"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We respond within 24 hours"})]})]})})})})]})]})}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5 text-pink-400"}),"How do I get started?"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Simply sign up for an account, create your first AI agent, and follow our quick start guide to configure and deploy your agent in minutes."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5 text-pink-400"}),"What integrations are supported?"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We support popular tools like Slack, Zendesk, Salesforce, Stripe, and many more. You can also connect custom APIs and webhooks."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5 text-pink-400"}),"Is my data secure?"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Yes, we are SOC 2 Type II and GDPR compliant. All data is encrypted at rest and in transit, and we never use your data to train our models."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5 text-pink-400"}),"Can I customize the agent's behavior?"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! You can customize your agent's personality, knowledge base, response patterns, and configure when to escalate to human agents."})})]})]})]})]}),s.jsx(Ni,{})]})},CHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"System Status"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-time status of Voxtro services and infrastructure."})]}),s.jsx("section",{className:"mb-16",children:s.jsx(J,{className:"bg-background shadow-lg shadow-green-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(Qn,{className:"h-12 w-12 text-green-400 mr-4"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"All Systems Operational"}),s.jsx("p",{className:"text-gray-400",children:"All services are running normally"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:"99.98% Uptime (Last 90 days)"})})]})})}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Service Status"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Core Services"}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(au,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"AI Agent API"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Core agent processing and responses"})]})]}),s.jsxs(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FP,{className:"h-6 w-6 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Database"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Data storage and retrieval"})]})]}),s.jsxs(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Es,{className:"h-6 w-6 text-green-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Chat Widget"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Website embedding and chat interface"})]})]}),s.jsxs(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Infrastructure"}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mo,{className:"h-6 w-6 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"User login and security"})]})]}),s.jsxs(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(au,{className:"h-6 w-6 text-purple-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Analytics"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Usage tracking and insights"})]})]}),s.jsxs(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Es,{className:"h-6 w-6 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"CDN"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Content delivery network"})]})]}),s.jsxs(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Recent Incidents"}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qn,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Incidents"}),s.jsx("p",{className:"text-gray-400",children:"All services have been running smoothly. No incidents to report in the last 30 days."})]})})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Performance Metrics"}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"99.98%"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Uptime"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 90 days"})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"0.8s"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Response Time"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Average API response"})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"2.1M"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Requests"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 24 hours"})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:"5"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Regions"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Global coverage"})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Subscribe to status updates and get notified about any service disruptions."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(te,{children:"Subscribe to Updates"}),s.jsx(te,{variant:"outline",children:"RSS Feed"})]})]})})]}),s.jsx(Ni,{})]}),kHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("section",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"About Voxtro"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed",children:"We're on a mission to revolutionize customer support through intelligent AI agents that understand, engage, and solve problems just like the best human agentsbut available 24/7."})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16 mb-20",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx(WP,{className:"h-8 w-8 text-pink-400"}),"Our Mission"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"To empower businesses of all sizes with AI-powered customer support that's indistinguishable from human interaction. We believe every customer deserves instant, accurate, and empathetic support, regardless of the time of day or complexity of their inquiry."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx(Mo,{className:"h-8 w-8 text-blue-400"}),"Our Vision"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"A world where exceptional customer support is accessible to every business, where AI agents seamlessly integrate with existing workflows, and where customers receive instant, personalized assistance that exceeds their expectations."})})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Story"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Founded in 2024, Voxtro emerged from a simple observation: great customer support shouldn't be a luxury reserved for enterprise companies."})]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-12",children:s.jsxs("div",{className:"prose prose-lg prose-invert max-w-none",children:[s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Our founders, experienced engineers and customer success leaders, witnessed firsthand how small and medium-sized businesses struggled to provide consistent, high-quality customer support due to resource constraints and the complexity of existing solutions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"We set out to build something differenta platform that could democratize access to intelligent customer support. By leveraging the latest advances in AI and natural language processing, we created agents that don't just answer questions, but understand context, access real-time data, and take meaningful actions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Today, Voxtro powers customer support for thousands of businesses worldwide, from startups to enterprise companies, helping them deliver exceptional customer experiences while reducing operational overhead and improving team productivity."})]})})})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Values"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"The principles that guide everything we do at Voxtro."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white text-xl",children:"Customer-Centric"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Every decision we make starts with our customers. We build features that solve real problems and create genuine value for businesses and their customers."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white text-xl",children:"Innovation"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We push the boundaries of what's possible with AI, constantly exploring new ways to make customer support more intelligent, efficient, and human-like."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white text-xl",children:"Transparency"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We believe in open communication, clear pricing, and honest relationships with our customers, partners, and team members."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white text-xl",children:"Quality"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We're committed to delivering exceptional quality in our product, our service, and our customer relationships. Excellence is not negotiable."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white text-xl",children:"Accessibility"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Advanced AI should be accessible to businesses of all sizes. We work to make our platform easy to use, affordable, and scalable."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white text-xl",children:"Security"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We take data security and privacy seriously, implementing industry-leading practices to protect our customers' information and maintain their trust."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Leadership Team"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Meet the leaders driving Voxtro's mission forward."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"AS"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Alex Smith"}),s.jsx("p",{className:"text-pink-400 mb-4",children:"CEO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Former VP of Engineering at a leading customer support platform. Passionate about making AI accessible to every business."})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"MJ"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Maria Johnson"}),s.jsx("p",{className:"text-blue-400 mb-4",children:"CTO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI researcher with 15+ years in machine learning and natural language processing. Former principal scientist at a major tech company."})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"DL"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"David Lee"}),s.jsx("p",{className:"text-green-400 mb-4",children:"VP of Customer Success"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Customer success leader who has helped scale support operations for multiple high-growth SaaS companies."})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx(dn,{className:"h-16 w-16 text-pink-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Join Our Mission"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always looking for talented individuals who share our passion for innovation and customer success. Come help us build the future of customer support."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(te,{size:"lg",asChild:!0,children:s.jsx(Je,{to:"/careers",children:"View Open Positions"})}),s.jsx(te,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Je,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(Ni,{})]}),EHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Join Our Team"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Help us build the future of AI-powered customer support. We're looking for passionate individuals who want to make a real impact on how businesses interact with their customers."})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Why Work at Voxtro?"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Join a team that's passionate about innovation, growth, and making a difference."})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(RD,{className:"h-6 w-6 text-pink-400"}),"Cutting-Edge Technology"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Work with the latest AI technologies and help shape the future of conversational AI. From large language models to advanced NLP techniques, you'll be at the forefront of innovation."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-blue-400"}),"Collaborative Culture"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Join a diverse, inclusive team where every voice matters. We believe the best ideas come from collaboration and different perspectives working together."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(UD,{className:"h-6 w-6 text-red-400"}),"Impact & Purpose"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Your work directly impacts thousands of businesses and millions of their customers. See the real-world effects of your contributions every day."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx($D,{className:"h-6 w-6 text-green-400"}),"Growth Opportunities"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Fast-growing company means fast-growing careers. We invest in our people with learning budgets, mentorship programs, and clear paths for advancement."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Open Positions"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Find your next career opportunity with us."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(LP,{className:"h-6 w-6 text-pink-400"}),"Engineering"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-white",children:"Senior Full-Stack Engineer"}),s.jsx(Se,{className:"text-gray-400",children:"Build and scale our core platform architecture"})]}),s.jsx(xe,{className:"bg-green-500/20 text-green-400 border-green-500",children:"New"})]})}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / San Francisco"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We're looking for an experienced engineer to help build scalable systems that power AI agents for thousands of customers worldwide."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-white",children:"AI/ML Engineer"}),s.jsx(Se,{className:"text-gray-400",children:"Develop next-generation AI conversation models"})]}),s.jsx(xe,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Featured"})]})}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / New York"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Join our AI team to research and implement cutting-edge machine learning techniques for conversational AI and natural language understanding."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"Frontend Engineer"}),s.jsx(Se,{className:"text-gray-400",children:"Create beautiful, intuitive user experiences"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / London"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build responsive, accessible web applications using React, TypeScript, and modern frontend technologies to power our customer dashboard."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"DevOps Engineer"}),s.jsx(Se,{className:"text-gray-400",children:"Scale infrastructure for global AI workloads"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / Austin"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build and maintain cloud infrastructure, CI/CD pipelines, and monitoring systems that support millions of AI interactions daily."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx($D,{className:"h-6 w-6 text-blue-400"}),"Product & Design"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"Senior Product Manager"}),s.jsx(Se,{className:"text-gray-400",children:"Drive product strategy and roadmap"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / Seattle"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Lead product development for our AI agent platform, working closely with engineering, design, and customers to deliver impactful features."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"UX/UI Designer"}),s.jsx(Se,{className:"text-gray-400",children:"Design intuitive interfaces for complex AI systems"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / Los Angeles"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Create user-centered designs that make complex AI functionality accessible to users of all technical backgrounds."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-green-400"}),"Business"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"Customer Success Manager"}),s.jsx(Se,{className:"text-gray-400",children:"Help customers achieve success with AI agents"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / Chicago"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Work directly with our customers to ensure they're getting maximum value from their AI agents and achieving their support goals."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"Sales Development Representative"}),s.jsx(Se,{className:"text-gray-400",children:"Generate and qualify leads for our sales team"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),"Remote / Miami"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Help businesses discover how AI can transform their customer support. Perfect for someone passionate about AI and customer success."}),s.jsx(te,{className:"w-full",children:"Apply Now"})]})]})]})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Benefits & Perks"}),s.jsx("p",{className:"text-xl text-gray-400",children:"We take care of our team so they can do their best work."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(UD,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Health & Wellness"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Comprehensive health insurance"}),s.jsx("li",{children:" Dental and vision coverage"}),s.jsx("li",{children:" Mental health support"}),s.jsx("li",{children:" Fitness stipend"})]})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx(Dt,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Work-Life Balance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Flexible working hours"}),s.jsx("li",{children:" Remote-first culture"}),s.jsx("li",{children:" Unlimited PTO policy"}),s.jsx("li",{children:" Quarterly company retreats"})]})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(RD,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Growth & Learning"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" $2,000 annual learning budget"}),s.jsx("li",{children:" Conference attendance"}),s.jsx("li",{children:" Internal mentorship program"}),s.jsx("li",{children:" Equity participation"})]})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Don't See a Perfect Fit?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always interested in hearing from talented individuals. Send us your resume and tell us how you'd like to contribute to our mission."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(te,{size:"lg",children:"Send General Application"}),s.jsx(te,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Je,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(Ni,{})]}),PHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Contact Us"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Have questions about Voxtro? Want to see a demo? Looking to partner with us? We'd love to hear from you."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx(Ht,{className:"h-12 w-12 text-pink-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Sales Inquiries"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Interested in Voxtro for your business?"}),s.jsx(te,{className:"w-full",children:"Talk to Sales"})]})}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8 text-center",children:[s.jsx(Bc,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Support"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Need help with your account or product?"}),s.jsx(te,{className:"w-full",asChild:!0,children:s.jsx(Je,{to:"/support",children:"Get Support"})})]})})]})}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Send us a message"}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-white",children:"Get in Touch"}),s.jsx(Se,{className:"text-gray-400",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),s.jsx(ee,{children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"firstName",className:"text-gray-300",children:"First Name *"}),s.jsx(he,{id:"firstName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name *"}),s.jsx(he,{id:"lastName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email",className:"text-gray-300",children:"Work Email *"}),s.jsx(he,{id:"email",type:"email",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@company.com"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"company",className:"text-gray-300",children:"Company"}),s.jsx(he,{id:"company",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Acme Inc."})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),s.jsx(he,{id:"phone",type:"tel",className:"bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"inquiry",className:"text-gray-300",children:"Inquiry Type *"}),s.jsxs(He,{required:!0,children:[s.jsx(Ve,{className:"bg-gray-800 border-gray-700 text-white",children:s.jsx(Ge,{placeholder:"Select inquiry type"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"sales",children:"Sales & Pricing"}),s.jsx(ue,{value:"demo",children:"Request a Demo"}),s.jsx(ue,{value:"support",children:"Technical Support"}),s.jsx(ue,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"message",className:"text-gray-300",children:"Message *"}),s.jsx(dt,{id:"message",required:!0,className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your needs, questions, or how we can help..."})]}),s.jsx("div",{className:"text-xs text-gray-400",children:"* Required fields"}),s.jsx(te,{className:"w-full",size:"lg",children:"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-8",children:s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ls,{className:"h-8 w-8 text-pink-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Email Us"}),s.jsx("div",{className:"text-gray-300",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"General inquiries:"})," info@voxtro.io"]})})]})]})})})})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400",children:"Quick answers to common questions"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"How quickly can I get started?"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"You can create and deploy your first AI agent in under 30 minutes. Sign up, configure your agent, and embed it on your website with just a few clicks."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Do you offer custom integrations?"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Yes! We can build custom integrations for Enterprise customers. Contact our sales team to discuss your specific requirements."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"What's your uptime guarantee?"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We maintain 99.9% uptime SLA for all paid plans, with 99.99% uptime SLA available for Enterprise customers."})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Can I try Voxtro before purchasing?"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! We offer a free trial with no credit card required. You can also schedule a personalized demo with our team."})})]})]})]})]}),s.jsx(Ni,{})]}),AHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Privacy Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we collect, use, and protect your information"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Hi,{className:"h-6 w-6 text-pink-400"}),"Our Commitment to Privacy"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"At Voxtro, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our AI agent platform and services. We are committed to protecting your personal information and your right to privacy."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(FP,{className:"h-8 w-8 text-blue-400"}),"Information We Collect"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Personal Information"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Register for an account"}),s.jsx("li",{children:" Use our services"}),s.jsx("li",{children:" Contact us for support"}),s.jsx("li",{children:" Subscribe to our newsletter"}),s.jsx("li",{children:" Participate in surveys or promotions"})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"This may include: name, email address, phone number, company information, payment details, and any other information you choose to provide."})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Usage Information"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We automatically collect certain information when you use our services:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Device information (IP address, browser type, operating system)"}),s.jsx("li",{children:" Usage patterns and preferences"}),s.jsx("li",{children:" Log files and analytics data"}),s.jsx("li",{children:" Cookies and similar tracking technologies"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"AI Training Data"})}),s.jsx(ee,{children:s.jsxs("p",{className:"text-gray-300",children:[s.jsx("strong",{children:"Important:"})," We do not use your conversations, documents, or any customer data to train our AI models. Your data remains private and is only used to provide services to you and your organization."]})})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(oa,{className:"h-8 w-8 text-green-400"}),"How We Use Your Information"]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use the information we collect for the following purposes:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Service Delivery"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Provide and maintain our services"}),s.jsx("li",{children:" Process transactions and payments"}),s.jsx("li",{children:" Provide customer support"}),s.jsx("li",{children:" Send service-related communications"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Improvement & Analytics"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Analyze usage patterns and trends"}),s.jsx("li",{children:" Improve our services and develop new features"}),s.jsx("li",{children:" Conduct research and analytics"}),s.jsx("li",{children:" Ensure security and prevent fraud"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Send important updates and notifications"}),s.jsx("li",{children:" Respond to inquiries and support requests"}),s.jsx("li",{children:" Send marketing communications (with consent)"}),s.jsx("li",{children:" Conduct surveys and gather feedback"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Legal Compliance"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Comply with legal obligations"}),s.jsx("li",{children:" Enforce our terms of service"}),s.jsx("li",{children:" Protect rights and prevent misuse"}),s.jsx("li",{children:" Resolve disputes and legal claims"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(dn,{className:"h-8 w-8 text-purple-400"}),"Information Sharing"]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We do not sell, trade, or rent your personal information. We may share your information in the following limited circumstances:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Service Providers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with trusted third-party service providers who assist us in operating our business (hosting, payment processing, analytics, customer support)."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Legal Requirements"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may disclose information when required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Business Transfers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the transaction."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"With Your Consent"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with your explicit consent or at your direction."})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(tC,{className:"h-8 w-8 text-red-400"}),"Data Security"]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We implement appropriate technical and organizational security measures to protect your personal information:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Technical Safeguards"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" AES-256 encryption for data at rest"}),s.jsx("li",{children:" TLS 1.3 encryption for data in transit"}),s.jsx("li",{children:" Regular security audits and penetration testing"}),s.jsx("li",{children:" Secure cloud infrastructure"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Organizational Measures"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Access controls and authentication"}),s.jsx("li",{children:" Employee security training"}),s.jsx("li",{children:" Data processing agreements"}),s.jsx("li",{children:" Incident response procedures"})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("p",{className:"text-yellow-300 text-sm",children:[s.jsx("strong",{children:"Note:"})," While we use industry-standard security measures, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security but are committed to protecting your information."]})})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Cn,{className:"h-8 w-8 text-orange-400"}),"Your Rights"]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"Depending on your location, you may have certain rights regarding your personal information:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Access & Portability"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request a copy of your personal information and receive it in a portable format."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Correction"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Update or correct inaccurate or incomplete personal information."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Deletion"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request deletion of your personal information, subject to certain exceptions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Opt-out"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Opt-out of marketing communications and certain data processing activities."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("p",{className:"text-gray-300 text-sm",children:"To exercise these rights, please contact us at privacy@voxtro.com. We will respond to your request within 30 days."})})]})]})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Cookies and Tracking Technologies"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We use cookies and similar technologies to enhance your experience, analyze usage, and provide personalized content. You can control cookie settings through your browser."}),s.jsxs("p",{className:"text-gray-300",children:["For detailed information about our cookie usage, please see our",s.jsx(Je,{to:"/cookies",className:"text-pink-400 hover:text-pink-300 ml-1",children:"Cookie Policy"}),"."]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Contact Us"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})}),s.jsx("section",{children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Policy Updates"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the new policy.'})})]})})]}),s.jsx(Ni,{})]}),THe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Terms of Service"}),s.jsx("p",{className:"text-xl text-gray-300",children:"The terms and conditions for using Voxtro services"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Cn,{className:"h-6 w-6 text-pink-400"}),"Agreement to Terms"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'These Terms of Service ("Terms") govern your use of the Voxtro platform and services. By accessing or using our services, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access our services.'})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Hi,{className:"h-8 w-8 text-blue-400"}),"Service Description"]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Voxtro provides an AI-powered customer support platform that enables businesses to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 mb-6",children:[s.jsx("li",{children:" Create and deploy AI agents for customer interactions"}),s.jsx("li",{children:" Integrate with existing business systems and workflows"}),s.jsx("li",{children:" Access analytics and insights about customer interactions"}),s.jsx("li",{children:" Manage and monitor AI agent performance"})]}),s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify, suspend, or discontinue any part of our services at any time with or without notice. We will not be liable to you or any third party for any modification, price change, suspension, or discontinuance of the services."})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(dn,{className:"h-8 w-8 text-green-400"}),"User Accounts and Responsibilities"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Account Creation"})}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" You must provide accurate and complete information when creating an account"}),s.jsx("li",{children:" You are responsible for maintaining the confidentiality of your account credentials"}),s.jsx("li",{children:" You must be at least 18 years old to create an account"}),s.jsx("li",{children:" One person or legal entity may not maintain more than one account"})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Acceptable Use"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You agree not to use our services to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Violate any applicable laws or regulations"}),s.jsx("li",{children:" Infringe on intellectual property rights"}),s.jsx("li",{children:" Transmit harmful, offensive, or inappropriate content"}),s.jsx("li",{children:" Attempt to gain unauthorized access to our systems"}),s.jsx("li",{children:" Use our services for any illegal or fraudulent activities"}),s.jsx("li",{children:" Reverse engineer, decompile, or disassemble our software"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(PU,{className:"h-8 w-8 text-purple-400"}),"Payment Terms"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Billing and Payments"})}),s.jsx(ee,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Subscription fees are billed in advance on a monthly or annual basis"}),s.jsx("li",{children:" All fees are non-refundable except as required by law"}),s.jsx("li",{children:" We may change our pricing with 30 days' notice"}),s.jsx("li",{children:" Late payments may result in service suspension"}),s.jsx("li",{children:" You are responsible for all applicable taxes"})]})})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Refunds and Cancellations"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You may cancel your subscription at any time. Cancellations take effect at the end of your current billing period. We do not provide refunds for partial months of service."}),s.jsx("p",{className:"text-gray-300",children:"For annual subscriptions, you may request a pro-rated refund within 30 days of your initial purchase if you have not used more than 20% of your included usage limits."})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Intellectual Property"})}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Our Rights"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"All rights, title, and interest in the Voxtro platform, including all intellectual property rights, remain our exclusive property. You may not copy, modify, distribute, sell, or lease any part of our services."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Your Content"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You retain ownership of any content you provide to our services. By using our services, you grant us a license to use your content solely for the purpose of providing services to you."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Training Data"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We do not use your data, conversations, or content to train our AI models or improve our services for other customers. Your data remains private and confidential."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Privacy and Data Protection"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Your privacy is important to us. Our collection and use of personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"We implement appropriate technical and organizational measures to ensure a level of security appropriate to the risk, including encryption, access controls, and regular security audits."}),s.jsx("p",{className:"text-gray-300",children:"You are responsible for ensuring that any personal data you provide or process through our services complies with applicable privacy laws and regulations."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Service Level Agreement"})}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Uptime Commitment"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We strive to maintain 99.9% uptime for our services. In the event of service interruptions, we will work to restore service as quickly as possible."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Support Response Times"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We aim to respond to support requests within 24 hours for standard plans and 4 hours for enterprise plans during business hours."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Maintenance"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may perform scheduled maintenance with advance notice. Emergency maintenance may be performed without notice when necessary to protect service security or integrity."})]})]})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(IU,{className:"h-8 w-8 text-red-400"}),"Limitation of Liability"]}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(ee,{className:"p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Disclaimer of Warranties"}),s.jsx("p",{className:"text-gray-300 text-sm",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied, including but not limited to implied warranties of merchantability, fitness for a particular purpose, or non-infringement.'})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Limitation of Damages"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"To the maximum extent permitted by law, our total liability for any claims arising out of or relating to these Terms or our services shall not exceed the amount you paid us in the 12 months preceding the claim."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Service Limitations"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI-generated responses may not always be accurate, appropriate, or complete. You are responsible for reviewing and monitoring AI interactions with your customers."})]})]})})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Termination"})}),s.jsx(ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by You"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You may terminate your account at any time by contacting us or using the account settings in your dashboard. Termination will be effective at the end of your current billing period."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by Us"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may suspend or terminate your account immediately if you violate these Terms, fail to pay fees when due, or if we reasonably believe such action is necessary to protect our services or other users."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Effect of Termination"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Upon termination, your right to use our services will cease immediately. We may delete your data after a reasonable grace period, but are not obligated to do so."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Governing Law and Disputes"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These Terms are governed by the laws of the State of California, without regard to conflict of law principles. Any disputes arising from these Terms or our services will be resolved through binding arbitration in San Francisco, California."}),s.jsx("p",{className:"text-gray-300",children:"You agree to resolve any disputes individually and waive any right to participate in class action lawsuits or class-wide arbitration."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Changes to Terms"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by email or through our services at least 30 days before they take effect. Your continued use of our services after the changes take effect constitutes acceptance of the new Terms."})})]})}),s.jsx("section",{children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Contact Information"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," legal@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Legal Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})})]}),s.jsx(Ni,{})]}),OHe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(te,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(te,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Cookie Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we use cookies and similar technologies"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Xre,{className:"h-6 w-6 text-pink-400"}),"What are Cookies?"]})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Cookies are small text files that are stored on your device when you visit a website. They help websites remember your preferences, improve your experience, and provide analytics about how the site is used. We use cookies and similar technologies to enhance your experience with Voxtro."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Types of Cookies We Use"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Hi,{className:"h-6 w-6 text-green-400"}),"Essential Cookies"]}),s.jsx(xe,{className:"bg-red-500/20 text-red-400 border-red-500",children:"Required"})]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are necessary for the website to function properly. They cannot be disabled as they are essential for core functionality."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Authentication and session management"}),s.jsx("li",{children:" Security and fraud prevention"}),s.jsx("li",{children:" Load balancing and performance optimization"}),s.jsx("li",{children:" Remember your privacy preferences"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(As,{className:"h-6 w-6 text-blue-400"}),"Functional Cookies"]}),s.jsx(xe,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Optional"})]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies enable enhanced functionality and personalization, but the site can function without them."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Remember your language and region preferences"}),s.jsx("li",{children:" Customize the user interface based on your settings"}),s.jsx("li",{children:" Remember form data and user inputs"}),s.jsx("li",{children:" Provide personalized content and recommendations"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Gl,{className:"h-6 w-6 text-purple-400"}),"Analytics Cookies"]}),s.jsx(xe,{className:"bg-purple-500/20 text-purple-400 border-purple-500",children:"Optional"})]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Track page visits and user behavior patterns"}),s.jsx("li",{children:" Measure website performance and loading times"}),s.jsx("li",{children:" Understand which features are most popular"}),s.jsx("li",{children:" Identify and fix technical issues"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-white flex items-center gap-2",children:[s.jsx(Es,{className:"h-6 w-6 text-orange-400"}),"Marketing Cookies"]}),s.jsx(xe,{className:"bg-orange-500/20 text-orange-400 border-orange-500",children:"Optional"})]})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are used to deliver personalized advertisements and measure the effectiveness of marketing campaigns."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Show relevant ads based on your interests"}),s.jsx("li",{children:" Prevent the same ad from being shown repeatedly"}),s.jsx("li",{children:" Measure advertising campaign effectiveness"}),s.jsx("li",{children:" Enable social media sharing features"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Third-Party Services"}),s.jsx(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(ee,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use trusted third-party services that may set their own cookies. These services help us provide better functionality and insights:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Analytics & Performance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Google Analytics - Website usage analytics"}),s.jsx("li",{children:" Mixpanel - Product analytics and insights"}),s.jsx("li",{children:" Sentry - Error tracking and monitoring"}),s.jsx("li",{children:" Cloudflare - CDN and security services"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Marketing & Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Intercom - Customer messaging and support"}),s.jsx("li",{children:" Mailchimp - Email marketing campaigns"}),s.jsx("li",{children:" LinkedIn Insights - Professional targeting"}),s.jsx("li",{children:" Google Ads - Advertising and retargeting"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Managing Your Cookie Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Cookie Settings"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:'You can manage your cookie preferences through our cookie banner when you first visit our site, or by clicking the "Cookie Settings" link in our footer.'}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(te,{children:"Manage Cookie Preferences"}),s.jsx(te,{variant:"outline",children:"Accept All Cookies"})]})]})]}),s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Browser Settings"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You can also control cookies through your browser settings. Most browsers allow you to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm mb-4",children:[s.jsx("li",{children:" View cookies that have been set and delete them individually"}),s.jsx("li",{children:" Block third-party cookies"}),s.jsx("li",{children:" Block all cookies from specific sites"}),s.jsx("li",{children:" Block all cookies from being set"}),s.jsx("li",{children:" Delete all cookies when you close your browser"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Desktop Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome: Settings  Privacy and security  Cookies"}),s.jsx("li",{children:" Firefox: Preferences  Privacy & Security"}),s.jsx("li",{children:" Safari: Preferences  Privacy"}),s.jsx("li",{children:" Edge: Settings  Cookies and site permissions"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Mobile Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome Mobile: Settings  Site settings  Cookies"}),s.jsx("li",{children:" Safari iOS: Settings  Safari  Privacy & Security"}),s.jsx("li",{children:" Samsung Internet: Settings  Sites and downloads"})]})]})]})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Cookie Retention"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Different types of cookies are retained for different periods:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Session Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Temporary cookies that are deleted when you close your browser. Used for essential functionality like maintaining your login session."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Persistent Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Stored on your device for a specific period or until manually deleted. Retention periods range from 30 days to 2 years depending on the cookie's purpose."})]})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Impact of Disabling Cookies"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"While you can use our website with cookies disabled, some functionality may be limited:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" You may need to log in repeatedly"}),s.jsx("li",{children:" Your preferences and settings may not be saved"}),s.jsx("li",{children:" Some features may not work as expected"}),s.jsx("li",{children:" You may see less relevant content and advertisements"}),s.jsx("li",{children:" We may not be able to provide personalized experiences"})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Updates to This Policy"})}),s.jsx(ee,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by updating the "Last updated" date at the top of this policy.'})})]})}),s.jsx("section",{children:s.jsxs(J,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-white",children:"Questions About Cookies?"})}),s.jsxs(ee,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about our use of cookies or this policy, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]})]})]})]})})]}),s.jsx(Ni,{})]}),MHe=()=>{const e=bi(),t=Ar();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center px-6 max-w-md",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("span",{className:"text-[150px] font-bold text-muted/20 leading-none select-none",children:"404"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"p-4 rounded-full bg-muted/50",children:s.jsx(ha,{className:"h-12 w-12 text-muted-foreground"})})})]}),s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Page not found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(te,{variant:"outline",onClick:()=>t(-1),className:"gap-2",children:[s.jsx(Pr,{className:"h-4 w-4"}),"Go Back"]}),s.jsxs(te,{onClick:()=>t("/"),className:"gap-2",children:[s.jsx(UP,{className:"h-4 w-4"}),"Home"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-8",children:s.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:e.pathname})})]})})};function DHe({entry:e,entityName:t,onStatusChange:n,onDelete:r}){const{user:a}=Ut(),{toast:i}=En(),[o,l]=g.useState(!1),[c,u]=g.useState([]),[d,h]=g.useState(!1),[f,m]=g.useState(""),[v,p]=g.useState(!1),x={update:{icon:Ps,color:"bg-blue-500/10 text-blue-500"},create:{icon:Ft,color:"bg-green-500/10 text-green-500"},delete:{icon:$t,color:"bg-red-500/10 text-red-500"},note:{icon:Cn,color:"bg-yellow-500/10 text-yellow-500"},task:{icon:Gr,color:"bg-purple-500/10 text-purple-500"}},y={pending:{icon:Dt,color:"text-yellow-500",label:"Pending"},in_progress:{icon:LD,color:"text-blue-500",label:"In Progress"},completed:{icon:Gr,color:"text-green-500",label:"Completed"}},b=x[e.change_type],w=b.icon,j=async()=>{if(d||c.length>0)return;h(!0);const{data:k}=await Y.from("changelog_notes").select("*").eq("changelog_entry_id",e.id).order("created_at",{ascending:!0});u(k||[]),h(!1)},N=async()=>{if(!f.trim()||!a)return;p(!0);const{data:k,error:E}=await Y.from("changelog_notes").insert({changelog_entry_id:e.id,user_id:a.id,note:f.trim()}).select().single();E?i({title:"Failed to add note",variant:"destructive"}):(u(A=>[...A,k]),m(""),i({title:"Note added"})),p(!1)},S=Object.keys(e.previous_values||{}).length>0||Object.keys(e.new_values||{}).length>0,C=k=>{switch(k){case"vapi_sync":return"Vapi";case"auto":return"Auto";default:return"Manual"}};return s.jsx(J,{className:"p-4",children:s.jsxs(mK,{open:o,onOpenChange:k=>{l(k),k&&j()},children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg shrink-0 ${b.color}`,children:s.jsx(w,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:ct(KC(e.created_at),"MMM d, yyyy  h:mm a")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t}),s.jsx(xe,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:C(e.source)}),e.status&&e.source==="manual"&&s.jsx(xe,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${y[e.status].color}`,children:y[e.status].label})]})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(pK,{asChild:!0,children:s.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(ic,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})}),s.jsxs(l_,{children:[s.jsx(c_,{asChild:!0,children:s.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(BP,{className:"h-4 w-4"})})}),s.jsxs(Wv,{align:"end",children:[(e.change_type==="task"||e.change_type==="update")&&e.source==="manual"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ui,{onClick:()=>n(e.id,"pending"),children:[s.jsx(Dt,{className:"h-4 w-4 mr-2"})," Mark Pending"]}),s.jsxs(Ui,{onClick:()=>n(e.id,"in_progress"),children:[s.jsx(LD,{className:"h-4 w-4 mr-2"})," Mark In Progress"]}),s.jsxs(Ui,{onClick:()=>n(e.id,"completed"),children:[s.jsx(Gr,{className:"h-4 w-4 mr-2"})," Mark Complete"]})]}),s.jsxs(Ui,{onClick:()=>r(e.id),className:"text-destructive",children:[s.jsx($t,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]})]})})]}),s.jsxs(gK,{className:"mt-4 ml-11 space-y-4",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.description}),S&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Changes"}),s.jsx("div",{className:"bg-muted/50 rounded-md p-3 space-y-1.5 text-xs font-mono",children:Object.keys(e.new_values||{}).map(k=>{var E;return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"text-muted-foreground",children:[k,":"]}),((E=e.previous_values)==null?void 0:E[k])!==void 0&&s.jsx("span",{className:"text-red-400 line-through",children:JSON.stringify(e.previous_values[k])}),s.jsx("span",{className:"text-green-400",children:JSON.stringify(e.new_values[k])})]},k)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[s.jsx(Ht,{className:"h-3 w-3"}),"Notes (",c.length,")"]}),c.map(k=>s.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.note}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ct(KC(k.created_at),"MMM d, yyyy  h:mm a")})]},k.id)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(dt,{placeholder:"Add a note...",value:f,onChange:k=>m(k.target.value),className:"min-h-[60px] text-sm"}),s.jsx(te,{onClick:N,disabled:v||!f.trim(),size:"icon",className:"shrink-0",children:s.jsx(xu,{className:"h-4 w-4"})})]})]})]})]})})}function IHe({entries:e,loading:t,entities:n,onStatusChange:r,onDelete:a}){if(t)return s.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>s.jsx(J,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Qs,{className:"h-10 w-10 rounded-lg shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Qs,{className:"h-4 w-2/3"}),s.jsx(Qs,{className:"h-3 w-1/3"})]})]})},o))});if(e.length===0)return s.jsxs(J,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No changelog entries found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add notes, track changes, or create tasks to get started."})]});const i=o=>{const l=n.find(c=>c.id===o);return(l==null?void 0:l.name)||"Unknown"};return s.jsx("div",{className:"space-y-3",children:e.map(o=>s.jsx(DHe,{entry:o,entityName:i(o.entity_id),onStatusChange:r,onDelete:a},o.id))})}function RHe({open:e,onOpenChange:t,entityType:n,entities:r,onEntryAdded:a,preSelectedEntityId:i}){const{user:o}=Ut(),{toast:l}=En(),[c,u]=g.useState(!1),[d,h,f]=ys("addChangelogEntry_title",""),[m,v,p]=ys("addChangelogEntry_description",""),[x,y]=g.useState({entity_id:"",change_type:"note",title:"",description:"",status:"pending"});g.useEffect(()=>{e&&y(j=>({...j,title:d,description:m}))},[e]),g.useEffect(()=>{e&&i&&y(j=>({...j,entity_id:i}))},[e,i]),g.useEffect(()=>{e||(y({entity_id:"",change_type:"note",title:"",description:"",status:"pending"}),f(),p())},[e]);const b=r.find(j=>j.id===x.entity_id),w=async j=>{if(j.preventDefault(),!o||!x.entity_id||!x.title)return;u(!0);const{error:N}=await Y.from("changelog_entries").insert({user_id:o.id,entity_type:n,entity_id:x.entity_id,change_type:x.change_type,title:x.title,description:x.description||null,status:x.change_type==="update"?x.status:null,source:"manual"});N?l({title:"Failed to add entry",description:N.message,variant:"destructive"}):(l({title:"Entry added successfully"}),t(!1),a()),u(!1)};return s.jsx(zn,{open:e,onOpenChange:t,children:s.jsxs(Dn,{className:"sm:max-w-[500px]",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Add Changelog Entry"})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i&&b?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:b.name})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsxs(He,{value:x.entity_id,onValueChange:j=>y(N=>({...N,entity_id:j})),children:[s.jsx(Ve,{children:s.jsx(Ge,{placeholder:"Select..."})}),s.jsx(We,{children:r.map(j=>s.jsx(ue,{value:j.id,children:j.name},j.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Entry Type"}),s.jsxs(He,{value:x.change_type,onValueChange:j=>y(N=>({...N,change_type:j})),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"note",children:"Note"}),s.jsx(ue,{value:"update",children:"Update"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Title"}),s.jsx(he,{value:x.title,onChange:j=>{const N=j.target.value;y(S=>({...S,title:N})),h(N)},placeholder:"Brief title for this entry",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Description (Optional)"}),s.jsx(dt,{value:x.description,onChange:j=>{const N=j.target.value;y(S=>({...S,description:N})),v(N)},placeholder:"Add more details...",rows:4})]}),x.change_type==="update"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Status"}),s.jsxs(He,{value:x.status,onValueChange:j=>y(N=>({...N,status:j})),children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"pending",children:"Pending"}),s.jsx(ue,{value:"in_progress",children:"In Progress"}),s.jsx(ue,{value:"completed",children:"Completed"})]})]})]}),s.jsxs(Ev,{children:[s.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(te,{type:"submit",disabled:c||!x.entity_id||!x.title,children:c?"Adding...":"Add Entry"})]})]})]})})}const $He=({entityType:e,entityId:t,entityName:n,orgId:r,onEntryAdded:a})=>{const{user:i}=Ut(),{toast:o}=En(),[l,c,u]=ys(`changelog_quickAdd_${t}`,""),[d,h]=g.useState(!1),f=async v=>{if(v==null||v.preventDefault(),!(!l.trim()||!i)){h(!0);try{if(e==="voice_assistant"){const[p,x]=await Promise.all([Y.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:t,org_id:r||null,title:l.trim(),priority:"medium",status:"pending"}),Y.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"})]);if(p.error)throw p.error;if(x.error)throw x.error}else{const{error:p}=await Y.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"});if(p)throw p}u(),o({title:`Task added for ${n}`}),a()}catch(p){console.error("Error creating entry:",p),o({title:"Failed to create task",variant:"destructive"})}finally{h(!1)}}},m=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),f())};return s.jsxs("form",{onSubmit:f,className:"flex items-center gap-2 mb-6 p-3 bg-muted/50 rounded-lg border border-border",children:[s.jsx(he,{value:l,onChange:v=>c(v.target.value),onKeyDown:m,placeholder:"Add a task and press Enter...",disabled:d,className:"flex-1 bg-background"}),s.jsx(te,{type:"submit",size:"sm",disabled:d||!l.trim(),children:d?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):s.jsx(Ft,{className:"h-4 w-4"})})]})};function LHe(){const{user:e}=Ut(),{toast:t}=En(),[n,r]=g.useState("chatbot"),[a,i]=g.useState(null),[o,l]=g.useState("all"),[c,u]=g.useState([]),[d,h]=g.useState([]),[f,m]=g.useState([]),[v,p]=g.useState(!0),[x,y]=g.useState(!1),[b,w]=g.useState(null),[j,N]=g.useState(!1),[S,C]=g.useState("");g.useEffect(()=>{e&&(k(),E())},[e]),g.useEffect(()=>{e&&b!==null&&n==="voice_assistant"&&A()},[e,b,n]);const k=async()=>{try{const{data:F,error:D}=await Y.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(D)throw D;w((F==null?void 0:F.org_id)||"")}catch(F){console.error("Error fetching active connection:",F),w("")}},E=async()=>{const{data:F}=await Y.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});F&&h(F)},A=async()=>{let F=Y.from("voice_assistants").select("id, name, org_id, created_at").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});b&&(F=F.eq("org_id",b));const{data:D}=await F;D&&m(D.map(H=>({id:H.id,name:H.name||"Unnamed Assistant",org_id:H.org_id})))},P=async()=>{i(null),await k(),N(!0);try{const F=await dp();t({title:`Synced ${F.count} assistants`})}catch(F){console.error("Error syncing assistants:",F),t({title:"Failed to sync assistants",variant:"destructive"})}finally{N(!1)}};g.useEffect(()=>{const F=n==="chatbot"?d:f;F.length>0&&!a&&i(F[0].id)},[d,f,n,a]),g.useEffect(()=>{if(!e||!a)return;(async()=>{p(!0);let D=Y.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(D=D.eq("change_type",o));const{data:H,error:z}=await D;z?t({title:"Error fetching changelog",description:z.message,variant:"destructive"}):u(H||[]),p(!1)})()},[e,n,a,o]);const B=n==="chatbot"?d:f,U=B.find(F=>F.id===a),I=async()=>{if(!e||!a)return;let F=Y.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(F=F.eq("change_type",o));const{data:D}=await F;D&&u(D)},L=async(F,D)=>{const{error:H}=await Y.from("changelog_entries").update({status:D}).eq("id",F);H?t({title:"Error updating status",variant:"destructive"}):(u(z=>z.map(_=>_.id===F?{..._,status:D}:_)),t({title:"Status updated"}))},M=async F=>{const{error:D}=await Y.from("changelog_entries").delete().eq("id",F);D?t({title:"Error deleting entry",variant:"destructive"}):(u(H=>H.filter(z=>z.id!==F)),t({title:"Entry deleted"}))},$=F=>{r(F),i(null),F==="voice_assistant"&&A()},R=[{value:"all",label:"All",icon:o1},{value:"update",label:"Updates",icon:Fa},{value:"note",label:"Notes",icon:Cn}];return s.jsx(wr,{children:s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(o1,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Changelog"})]}),s.jsxs("div",{className:"flex rounded-lg border border-border overflow-hidden mb-3",children:[s.jsxs("button",{onClick:()=>$("chatbot"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="chatbot"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(Ze,{className:"h-3.5 w-3.5"}),"Chatbots"]}),s.jsxs("button",{onClick:()=>$("voice_assistant"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="voice_assistant"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(lp,{className:"h-3.5 w-3.5"}),"Voice"]})]}),n==="voice_assistant"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(SJ,{onSwitch:P,compact:!0}),j&&s.jsx(Ps,{className:"h-3.5 w-3.5 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(ha,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(he,{placeholder:`Search ${n==="chatbot"?"chatbots":"assistants"}...`,value:S,onChange:F=>C(F.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx($a,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const F=B.filter(D=>{var H;return(H=D.name)==null?void 0:H.toLowerCase().includes(S.toLowerCase())});return F.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[n==="chatbot"?s.jsx(Ze,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}):s.jsx(lp,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S?"No matching results":`No ${n==="chatbot"?"chatbots":"assistants"} found`})]}):F.map(D=>{const H=a===D.id;return s.jsx("button",{onClick:()=>i(D.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${H?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`font-medium text-sm truncate ${H?"text-primary":""}`,children:D.name})}),H&&s.jsx(ss,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},D.id)})})()})}),B.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[B.length," ",n==="chatbot"?"chatbots":"assistants"]}),s.jsxs("span",{children:[c.length," entries"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:U?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:n==="chatbot"?s.jsx(Ze,{className:"h-6 w-6 text-primary"}):s.jsx(lp,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:U.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.length," changelog ",c.length===1?"entry":"entries"]})]})]}),s.jsxs(te,{onClick:()=>y(!0),size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(Ft,{className:"h-4 w-4"}),"More Options"]})]}),s.jsx($He,{entityType:n,entityId:a,entityName:U.name,orgId:U.org_id,onEntryAdded:I}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:R.map(F=>s.jsx("button",{onClick:()=>l(F.value),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${o===F.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:F.label},F.value))}),s.jsx(ls,{className:"mb-6"}),s.jsx(IHe,{entries:c,loading:v,entities:B,onStatusChange:L,onDelete:M})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(o1,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an item to view its changelog"})]})})}),s.jsx(RHe,{open:x,onOpenChange:y,entityType:n,entities:B,onEntryAdded:I,preSelectedEntityId:a})]})})}var kQ="AlertDialog",[FHe,GQe]=Er(kQ,[Zq]),Ho=Zq(),EQ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ho(t);return s.jsx(SA,{...r,...n,modal:!0})};EQ.displayName=kQ;var BHe="AlertDialogTrigger",UHe=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ho(n);return s.jsx(pV,{...a,...r,ref:t})});UHe.displayName=BHe;var zHe="AlertDialogPortal",PQ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ho(t);return s.jsx(CA,{...r,...n})};PQ.displayName=zHe;var qHe="AlertDialogOverlay",AQ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ho(n);return s.jsx(yv,{...a,...r,ref:t})});AQ.displayName=qHe;var ih="AlertDialogContent",[VHe,WHe]=FHe(ih),TQ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Ho(n),o=g.useRef(null),l=et(t,o),c=g.useRef(null);return s.jsx(gme,{contentName:ih,titleName:OQ,docsSlug:"alert-dialog",children:s.jsx(VHe,{scope:n,cancelRef:c,children:s.jsxs(bv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ae(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(TP,{children:r}),s.jsx(GHe,{contentRef:o})]})})})});TQ.displayName=ih;var OQ="AlertDialogTitle",MQ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ho(n);return s.jsx(wv,{...a,...r,ref:t})});MQ.displayName=OQ;var DQ="AlertDialogDescription",IQ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ho(n);return s.jsx(jv,{...a,...r,ref:t})});IQ.displayName=DQ;var HHe="AlertDialogAction",RQ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ho(n);return s.jsx(ej,{...a,...r,ref:t})});RQ.displayName=HHe;var $Q="AlertDialogCancel",LQ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=WHe($Q,n),i=Ho(n),o=et(t,a);return s.jsx(ej,{...i,...r,ref:o})});LQ.displayName=$Q;var GHe=({contentRef:e})=>{const t=`\`${ih}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ih}\` by passing a \`${DQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ih}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},YHe=EQ,KHe=PQ,FQ=AQ,BQ=TQ,UQ=RQ,zQ=LQ,qQ=MQ,VQ=IQ;const JHe=YHe,XHe=KHe,WQ=g.forwardRef(({className:e,...t},n)=>s.jsx(FQ,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));WQ.displayName=FQ.displayName;const HQ=g.forwardRef(({className:e,...t},n)=>s.jsxs(XHe,{children:[s.jsx(WQ,{}),s.jsx(BQ,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));HQ.displayName=BQ.displayName;const GQ=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});GQ.displayName="AlertDialogHeader";const YQ=({className:e,...t})=>s.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});YQ.displayName="AlertDialogFooter";const KQ=g.forwardRef(({className:e,...t},n)=>s.jsx(qQ,{ref:n,className:ye("text-lg font-semibold",e),...t}));KQ.displayName=qQ.displayName;const JQ=g.forwardRef(({className:e,...t},n)=>s.jsx(VQ,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));JQ.displayName=VQ.displayName;const XQ=g.forwardRef(({className:e,...t},n)=>s.jsx(UQ,{ref:n,className:ye(rg(),e),...t}));XQ.displayName=UQ.displayName;const QQ=g.forwardRef(({className:e,...t},n)=>s.jsx(zQ,{ref:n,className:ye(rg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));QQ.displayName=zQ.displayName;var st=function(){return st=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},st.apply(this,arguments)};function QHe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function ZQ(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Kv(e){return e.mode==="multiple"}function Jv(e){return e.mode==="range"}function w_(e){return e.mode==="single"}var ZHe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eGe(e,t){return ct(e,"LLLL y",t)}function tGe(e,t){return ct(e,"d",t)}function nGe(e,t){return ct(e,"LLLL",t)}function rGe(e){return"".concat(e)}function sGe(e,t){return ct(e,"cccccc",t)}function aGe(e,t){return ct(e,"yyyy",t)}var iGe=Object.freeze({__proto__:null,formatCaption:eGe,formatDay:tGe,formatMonthCaption:nGe,formatWeekNumber:rGe,formatWeekdayName:sGe,formatYearCaption:aGe}),oGe=function(e,t,n){return ct(e,"do MMMM (EEEE)",n)},lGe=function(){return"Month: "},cGe=function(){return"Go to next month"},uGe=function(){return"Go to previous month"},dGe=function(e,t){return ct(e,"cccc",t)},hGe=function(e){return"Week n. ".concat(e)},fGe=function(){return"Year: "},mGe=Object.freeze({__proto__:null,labelDay:oGe,labelMonthDropdown:lGe,labelNext:cGe,labelPrevious:uGe,labelWeekNumber:hGe,labelWeekday:dGe,labelYearDropdown:fGe});function pGe(){var e="buttons",t=ZHe,n=DA,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:iGe,labels:mGe,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function gGe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=Is(r):t&&(i=new Date(t,0,1)),a?o=nj(a):n&&(o=new Date(n,11,31)),{fromDate:i?Ih(i):void 0,toDate:o?Ih(o):void 0}}var eZ=g.createContext(void 0);function vGe(e){var t,n=e.initialProps,r=pGe(),a=gGe(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(w_(n)||Kv(n)||Jv(n))&&(c=n.onSelect);var u=st(st(st({},r),n),{captionLayout:l,classNames:st(st({},r.classNames),n.classNames),components:st({},n.components),formatters:st(st({},r.formatters),n.formatters),fromDate:i,labels:st(st({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:st(st({},r.modifiers),n.modifiers),modifiersClassNames:st(st({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:st(st({},r.styles),n.styles),toDate:o});return s.jsx(eZ.Provider,{value:u,children:e.children})}function xn(){var e=g.useContext(eZ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function tZ(e){var t=xn(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function xGe(e){return s.jsx("svg",st({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nZ(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=xn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:xGe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yGe(e){var t,n=xn(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(pge(r,a))for(var f=Is(r),m=r.getMonth();m<=a.getMonth();m++)h.push(D1(f,m));else for(var f=Is(new Date),m=0;m<=11;m++)h.push(D1(f,m));var v=function(x){var y=Number(x.target.value),b=D1(Is(e.displayMonth),y);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:nZ;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function bGe(e){var t,n=e.displayMonth,r=xn(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),v=i.getFullYear(),p=m;p<=v;p++)f.push(g4(CV(new Date),p));var x=function(b){var w=g4(Is(n),Number(b.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:nZ;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function wGe(e,t){var n=g.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function jGe(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&$h(i,a)<0){var u=-1*(c-1);a=pi(i,u)}return o&&$h(a,o)<0&&(a=o),Is(a)}function _Ge(){var e=xn(),t=jGe(e),n=wGe(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=Is(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function NGe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=Is(e),i=Is(pi(a,r)),o=$h(i,a),l=[],c=0;c<o;c++){var u=pi(a,c);l.push(u)}return n&&(l=l.reverse()),l}function SGe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=Is(e);if(!n)return pi(l,o);var c=$h(n,e);if(!(c<i))return pi(l,o)}}function CGe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=Is(e);if(!n)return pi(l,-o);var c=$h(l,n);if(!(c<=0))return pi(l,-o)}}var rZ=g.createContext(void 0);function kGe(e){var t=xn(),n=_Ge(),r=n[0],a=n[1],i=NGe(r,t),o=SGe(r,t),l=CGe(r,t),c=function(h){return i.some(function(f){return IA(h,f)})},u=function(h,f){c(h)||(f&&OV(h,f)?a(pi(h,1+t.numberOfMonths*-1)):a(h))},d={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(rZ.Provider,{value:d,children:e.children})}function Xv(){var e=g.useContext(rZ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function t6(e){var t,n=xn(),r=n.classNames,a=n.styles,i=n.components,o=Xv().goToMonth,l=function(d){o(pi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:tZ,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(yGe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(bGe,{onChange:l,displayMonth:e.displayMonth})]})}function EGe(e){return s.jsx("svg",st({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function PGe(e){return s.jsx("svg",st({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Z0=g.forwardRef(function(e,t){var n=xn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=st(st({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",st({},e,{ref:t,type:"button",className:o,style:l}))});function AGe(e){var t,n,r=xn(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:PGe,y=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:EGe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Z0,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Z0,{name:"next-month","aria-label":v,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function n6(e){var t=xn().numberOfMonths,n=Xv(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(v){return IA(e.displayMonth,v)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&i(r)},m=function(){a&&i(a)};return s.jsx(AGe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:m})}function TGe(e){var t,n=xn(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:tZ,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(t6,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(t6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(n6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(n6,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:u})}function OGe(e){var t=xn(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function MGe(e,t,n){for(var r=n?_u(new Date):Ki(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Rr(r,i);a.push(o)}return a}function DGe(){var e=xn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=MGe(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},h)})]})}function IGe(){var e,t=xn(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:DGe;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function RGe(e){var t=xn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var eM=g.createContext(void 0);function $Ge(e){if(!Kv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(eM.Provider,{value:t,children:e.children})}return s.jsx(LGe,{initialProps:e.initialProps,children:e.children})}function LGe(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(u,d,h){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var v=!!(d.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var p=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var x=r?ZQ([],r):[];if(d.selected){var y=x.findIndex(function(b){return Wr(u,b)});x.splice(y,1)}else x.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,x,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return Wr(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(eM.Provider,{value:c,children:n})}function tM(){var e=g.useContext(eM);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function FGe(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Wr(a,e)&&Wr(r,e)?void 0:Wr(a,e)?{from:a,to:void 0}:Wr(r,e)?void 0:GC(r,e)?{from:e,to:a}:{from:r,to:e}:a?GC(e,a)?{from:a,to:e}:{from:e,to:a}:r?OV(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var nM=g.createContext(void 0);function BGe(e){if(!Jv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(nM.Provider,{value:t,children:e.children})}return s.jsx(UGe,{initialProps:e.initialProps,children:e.children})}function UGe(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,v,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,m,v,p);var b=FGe(m,r);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,v,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Wr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:O1(i,l-1),before:Rr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Rr(i,l-1)}),!i&&o&&d.disabled.push({after:O1(o,l-1),before:Rr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Rr(i,-c+1)}),d.disabled.push({after:Rr(i,c-1)})),i&&o){var h=Fi(o,i)+1,f=c-h;d.disabled.push({before:O1(i,f)}),d.disabled.push({after:Rr(o,f)})}!i&&o&&(d.disabled.push({before:Rr(o,-c+1)}),d.disabled.push({after:Rr(o,c-1)}))}return s.jsx(nM.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function rM(){var e=g.useContext(nM);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Yy(e){return Array.isArray(e)?ZQ([],e):e!==void 0?[e]:[]}function zGe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=Yy(a)}),t}var vi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vi||(vi={}));var qGe=vi.Selected,io=vi.Disabled,VGe=vi.Hidden,WGe=vi.Today,zN=vi.RangeEnd,qN=vi.RangeMiddle,VN=vi.RangeStart,HGe=vi.Outside;function GGe(e,t,n){var r,a=(r={},r[qGe]=Yy(e.selected),r[io]=Yy(e.disabled),r[VGe]=Yy(e.hidden),r[WGe]=[e.today],r[zN]=[],r[qN]=[],r[VN]=[],r[HGe]=[],r);return e.fromDate&&a[io].push({before:e.fromDate}),e.toDate&&a[io].push({after:e.toDate}),Kv(e)?a[io]=a[io].concat(t.modifiers[io]):Jv(e)&&(a[io]=a[io].concat(n.modifiers[io]),a[VN]=n.modifiers[VN],a[qN]=n.modifiers[qN],a[zN]=n.modifiers[zN]),a}var sZ=g.createContext(void 0);function YGe(e){var t=xn(),n=tM(),r=rM(),a=GGe(t,n,r),i=zGe(t.modifiers),o=st(st({},a),i);return s.jsx(sZ.Provider,{value:o,children:e.children})}function aZ(){var e=g.useContext(sZ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function KGe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function JGe(e){return!!(e&&typeof e=="object"&&"from"in e)}function XGe(e){return!!(e&&typeof e=="object"&&"after"in e)}function QGe(e){return!!(e&&typeof e=="object"&&"before"in e)}function ZGe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function eYe(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Fi(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Fi(e,r)>=0&&Fi(a,e)>=0;return o}return a?Wr(a,e):r?Wr(r,e):!1}function tYe(e){return OA(e)}function nYe(e){return Array.isArray(e)&&e.every(OA)}function rYe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(tYe(n))return Wr(e,n);if(nYe(n))return n.includes(e);if(JGe(n))return eYe(e,n);if(ZGe(n))return n.dayOfWeek.includes(e.getDay());if(KGe(n)){var r=Fi(n.before,e),a=Fi(n.after,e),i=r>0,o=a<0,l=GC(n.before,n.after);return l?o&&i:i||o}return XGe(n)?Fi(e,n.after)>0:QGe(n)?Fi(n.before,e)>0:typeof n=="function"?n(e):!1})}function sM(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return rYe(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!IA(e,n)&&(a.outside=!0),a}function sYe(e,t){for(var n=Is(e[0]),r=nj(e[e.length-1]),a,i,o=n;o<=r;){var l=sM(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Rr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Rr(o,1)}return i||a}var aYe=365;function iZ(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,f={day:Rr,week:HC,month:pi,year:rpe,startOfWeek:function(x){return a.ISOWeek?_u(x):Ki(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?kV(x):MA(x,{locale:h,weekStartsOn:c})}},m=f[n](e,r==="after"?1:-1);r==="before"&&u?m=spe([u,m]):r==="after"&&d&&(m=ape([d,m]));var v=!0;if(i){var p=sM(m,i);v=!p.disabled&&!p.hidden}return v?m:l.count>aYe?l.lastFocused:iZ(m,{moveBy:n,direction:r,context:a,modifiers:i,retry:st(st({},l),{count:l.count+1})})}var oZ=g.createContext(void 0);function iYe(e){var t=Xv(),n=aZ(),r=g.useState(),a=r[0],i=r[1],o=g.useState(),l=o[0],c=o[1],u=sYe(t.displayMonths,n),d=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},f=function(x){i(x)},m=xn(),v=function(x,y){if(a){var b=iZ(a,{moveBy:x,direction:y,context:m,modifiers:n});Wr(a,b)||(t.goToDate(b,a),f(b))}},p={focusedDay:a,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(oZ.Provider,{value:p,children:e.children})}function aM(){var e=g.useContext(oZ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function oYe(e,t){var n=aZ(),r=sM(e,n,t);return r}var iM=g.createContext(void 0);function lYe(e){if(!w_(e.initialProps)){var t={selected:void 0};return s.jsx(iM.Provider,{value:t,children:e.children})}return s.jsx(cYe,{initialProps:e.initialProps,children:e.children})}function cYe(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(iM.Provider,{value:a,children:n})}function lZ(){var e=g.useContext(iM);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function uYe(e,t){var n=xn(),r=lZ(),a=tM(),i=rM(),o=aM(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,v=o.focusMonthAfter,p=o.focusYearBefore,x=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function($){var R,F,D,H;w_(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,$):Kv(n)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,$):Jv(n)?(D=i.onDayClick)===null||D===void 0||D.call(i,e,t,$):(H=n.onDayClick)===null||H===void 0||H.call(n,e,t,$)},j=function($){var R;f(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,$)},N=function($){var R;h(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,$)},S=function($){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,$)},C=function($){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,$)},k=function($){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,$)},E=function($){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,$)},A=function($){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,$)},P=function($){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,$)},B=function($){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,$)},U=function($){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,$)},I=function($){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,$)},L=function($){var R;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?p():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():v();break;case"Home":$.preventDefault(),$.stopPropagation(),y();break;case"End":$.preventDefault(),$.stopPropagation(),b();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,$)},M={onClick:w,onFocus:j,onBlur:N,onKeyDown:L,onKeyUp:I,onMouseEnter:S,onMouseLeave:C,onPointerEnter:k,onPointerLeave:E,onTouchCancel:A,onTouchEnd:P,onTouchMove:B,onTouchStart:U};return M}function dYe(){var e=xn(),t=lZ(),n=tM(),r=rM(),a=w_(e)?t.selected:Kv(e)?n.selected:Jv(e)?r.selected:void 0;return a}function hYe(e){return Object.values(vi).includes(e)}function fYe(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(hYe(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function mYe(e,t){var n=st({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=st(st({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function pYe(e,t,n){var r,a,i,o=xn(),l=aM(),c=oYe(e,t),u=uYe(e,c),d=dYe(),h=!!(o.onDayClick||o.mode!=="default");g.useEffect(function(){var S;c.outside||l.focusedDay&&h&&Wr(l.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[l.focusedDay,e,n,h,c.outside]);var f=fYe(o,c).join(" "),m=mYe(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:RGe,x=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:f,children:x,role:"gridcell"},b=l.focusTarget&&Wr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Wr(l.focusedDay,e),j=st(st(st({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||b?0:-1,r)),u),N={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:y};return N}function gYe(e){var t=g.useRef(null),n=pYe(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Z0,st({name:"day",ref:t},n.buttonProps)):s.jsx("div",st({},n.divProps))}function vYe(e){var t=e.number,n=e.dates,r=xn(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(m){a(t,n,m)};return s.jsx(Z0,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function xYe(e){var t,n,r=xn(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:gYe,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:vYe,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},hge(h))})]})}function r6(e,t,n){for(var r=n!=null&&n.ISOWeek?kV(t):MA(t,n),a=n!=null&&n.ISOWeek?_u(e):Ki(e,n),i=Fi(r,a),o=[],l=0;l<=i;l++)o.push(Rr(a,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?EV(d):AV(d,n),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function yYe(e,t){var n=r6(Is(e),nj(e),t);if(t!=null&&t.useFixedWeeks){var r=mge(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=HC(i,6-r),l=r6(HC(i,1),o,t);n.push.apply(n,l)}}return n}function bYe(e){var t,n,r,a=xn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,v=yYe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:IGe,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:xYe,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:OGe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(b){return s.jsx(x,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function wYe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jYe=wYe()?g.useLayoutEffect:g.useEffect,WN=!1,_Ye=0;function s6(){return"react-day-picker-".concat(++_Ye)}function NYe(e){var t,n=e??(WN?s6():null),r=g.useState(n),a=r[0],i=r[1];return jYe(function(){a===null&&i(s6())},[]),g.useEffect(function(){WN===!1&&(WN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function SYe(e){var t,n,r=xn(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=Xv().displayMonths,u=NYe(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,m=e.displayIndex===0,v=e.displayIndex===c.length-1,p=!m&&!v;a==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(h.push(i.caption_start),f=st(st({},f),o.caption_start)),v&&(h.push(i.caption_end),f=st(st({},f),o.caption_end)),p&&(h.push(i.caption_between),f=st(st({},f),o.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:TGe;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(bYe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function CYe(e){var t=xn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function kYe(e){var t,n,r=e.initialProps,a=xn(),i=aM(),o=Xv(),l=g.useState(!1),c=l[0],u=l[1];g.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=st(st({},a.styles.root),a.style),f=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var x;return st(st({},v),(x={},x[p]=r[p],x))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:CYe;return s.jsx("div",st({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(m,{children:o.displayMonths.map(function(v,p){return s.jsx(SYe,{displayIndex:p,displayMonth:v},p)})})}))}function EYe(e){var t=e.children,n=QHe(e,["children"]);return s.jsx(vGe,{initialProps:n,children:s.jsx(kGe,{children:s.jsx(lYe,{initialProps:n,children:s.jsx($Ge,{initialProps:n,children:s.jsx(BGe,{initialProps:n,children:s.jsx(YGe,{children:s.jsx(iYe,{children:t})})})})})})})}function PYe(e){return s.jsx(EYe,st({},e,{children:s.jsx(kYe,{initialProps:e})}))}function cZ({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(PYe,{showOutsideDays:n,className:ye("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ye(rg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ye(rg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Yre,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(ss,{className:"h-4 w-4"})},...r})}cZ.displayName="Calendar";var oM="Popover",[uZ,YQe]=Er(oM,[oc]),Qv=oc(),[AYe,yc]=uZ(oM),dZ=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Qv(t),c=g.useRef(null),[u,d]=g.useState(!1),[h=!1,f]=Kr({prop:r,defaultProp:a,onChange:i});return s.jsx(Aw,{...l,children:s.jsx(AYe,{scope:t,contentId:Ts(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:n})})};dZ.displayName=oM;var hZ="PopoverAnchor",TYe=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=yc(hZ,n),i=Qv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(iv,{...i,...r,ref:t})});TYe.displayName=hZ;var fZ="PopoverTrigger",mZ=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=yc(fZ,n),i=Qv(n),o=et(t,a.triggerRef),l=s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yZ(a.open),...r,ref:o,onClick:Ae(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(iv,{asChild:!0,...i,children:l})});mZ.displayName=fZ;var lM="PopoverPortal",[OYe,MYe]=uZ(lM,{forceMount:void 0}),pZ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=yc(lM,t);return s.jsx(OYe,{scope:t,forceMount:n,children:s.jsx(tr,{present:n||i.open,children:s.jsx(wf,{asChild:!0,container:a,children:r})})})};pZ.displayName=lM;var pf="PopoverContent",gZ=g.forwardRef((e,t)=>{const n=MYe(pf,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=yc(pf,e.__scopePopover);return s.jsx(tr,{present:r||i.open,children:i.modal?s.jsx(DYe,{...a,ref:t}):s.jsx(IYe,{...a,ref:t})})});gZ.displayName=pf;var DYe=g.forwardRef((e,t)=>{const n=yc(pf,e.__scopePopover),r=g.useRef(null),a=et(t,r),i=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return xv(o)},[]),s.jsx(vv,{as:$s,allowPinchZoom:!0,children:s.jsx(vZ,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),IYe=g.forwardRef((e,t)=>{const n=yc(pf,e.__scopePopover),r=g.useRef(!1),a=g.useRef(!1);return s.jsx(vZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),vZ=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=yc(pf,n),m=Qv(n);return Qw(),s.jsx(gv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Tw,{"data-state":yZ(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xZ="PopoverClose",RYe=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=yc(xZ,n);return s.jsx(Be.button,{type:"button",...r,ref:t,onClick:Ae(e.onClick,()=>a.onOpenChange(!1))})});RYe.displayName=xZ;var $Ye="PopoverArrow",LYe=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Qv(n);return s.jsx(Ow,{...a,...r,ref:t})});LYe.displayName=$Ye;function yZ(e){return e?"open":"closed"}var FYe=dZ,BYe=mZ,UYe=pZ,bZ=gZ;const wZ=FYe,jZ=BYe,cM=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(UYe,{children:s.jsx(bZ,{ref:a,align:t,sideOffset:n,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));cM.displayName=bZ.displayName;var a6=1,zYe=.9,qYe=.8,VYe=.17,HN=.1,GN=.999,WYe=.9999,HYe=.99,GYe=/[\\\/_+.#"@\[\(\{&]/,YYe=/[\\\/_+.#"@\[\(\{&]/g,KYe=/[\s-]/,_Z=/[\s-]/g;function S2(e,t,n,r,a,i,o){if(i===t.length)return a===e.length?a6:HYe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(i),u=n.indexOf(c,a),d=0,h,f,m,v;u>=0;)h=S2(e,t,n,r,u+1,i+1,o),h>d&&(u===a?h*=a6:GYe.test(e.charAt(u-1))?(h*=qYe,m=e.slice(a,u-1).match(YYe),m&&a>0&&(h*=Math.pow(GN,m.length))):KYe.test(e.charAt(u-1))?(h*=zYe,v=e.slice(a,u-1).match(_Z),v&&a>0&&(h*=Math.pow(GN,v.length))):(h*=VYe,a>0&&(h*=Math.pow(GN,u-a))),e.charAt(u)!==t.charAt(i)&&(h*=WYe)),(h<HN&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(f=S2(e,t,n,r,u+1,i+2,o),f*HN>h&&(h=f*HN)),h>d&&(d=h),u=n.indexOf(c,u+1);return o[l]=d,d}function i6(e){return e.toLowerCase().replace(_Z," ")}function JYe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,S2(e,t,i6(e),i6(t),0,0,{})}function oh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function XYe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function NZ(...e){return t=>e.forEach(n=>XYe(n,t))}function Zv(...e){return g.useCallback(NZ(...e),e)}function QYe(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...v}=h,p=(f==null?void 0:f[e][c])||l,x=g.useMemo(()=>v,Object.values(v));return g.createElement(p.Provider,{value:x},m)}function d(h,f){const m=(f==null?void 0:f[e][c])||l,v=g.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,ZYe(a,...t)]}function ZYe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}const C2=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},eKe=F2.useId||(()=>{});let tKe=0;function YN(e){const[t,n]=g.useState(eKe());return C2(()=>{e||n(r=>r??String(tKe++))},[e]),e||(t?`radix-${t}`:"")}function Ru(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function nKe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=rKe({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Ru(n),c=g.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function rKe({defaultProp:e,onChange:t}){const n=g.useState(e),[r]=n,a=g.useRef(r),i=Ru(t);return g.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}const uM=g.forwardRef((e,t)=>{const{children:n,...r}=e,a=g.Children.toArray(n),i=a.find(aKe);if(i){const o=i.props.children,l=a.map(c=>c===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:c);return g.createElement(k2,cs({},r,{ref:t}),g.isValidElement(o)?g.cloneElement(o,void 0,l):null)}return g.createElement(k2,cs({},r,{ref:t}),n)});uM.displayName="Slot";const k2=g.forwardRef((e,t)=>{const{children:n,...r}=e;return g.isValidElement(n)?g.cloneElement(n,{...iKe(r,n.props),ref:t?NZ(t,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});k2.displayName="SlotClone";const sKe=({children:e})=>g.createElement(g.Fragment,null,e);function aKe(e){return g.isValidElement(e)&&e.type===sKe}function iKe(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}const oKe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qa=oKe.reduce((e,t)=>{const n=g.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?uM:t;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(l,cs({},o,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lKe(e,t){e&&_s.flushSync(()=>e.dispatchEvent(t))}function cKe(e,t=globalThis==null?void 0:globalThis.document){const n=Ru(e);g.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const E2="dismissableLayer.update",uKe="dismissableLayer.pointerDownOutside",dKe="dismissableLayer.focusOutside";let o6;const hKe=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fKe=g.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,d=g.useContext(hKe),[h,f]=g.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=g.useState({}),p=Zv(t,k=>f(k)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(y),w=h?x.indexOf(h):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=w>=b,S=mKe(k=>{const E=k.target,A=[...d.branches].some(P=>P.contains(E));!N||A||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},m),C=pKe(k=>{const E=k.target;[...d.branches].some(P=>P.contains(E))||(o==null||o(k),l==null||l(k),k.defaultPrevented||c==null||c())},m);return cKe(k=>{w===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),g.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(o6=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),l6(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=o6)}},[h,m,r,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),l6())},[h,d]),g.useEffect(()=>{const k=()=>v({});return document.addEventListener(E2,k),()=>document.removeEventListener(E2,k)},[]),g.createElement(qa.div,cs({},u,{ref:p,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:oh(e.onFocusCapture,C.onFocusCapture),onBlurCapture:oh(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:oh(e.onPointerDownCapture,S.onPointerDownCapture)}))});function mKe(e,t=globalThis==null?void 0:globalThis.document){const n=Ru(e),r=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){SZ(uKe,n,u,{discrete:!0})};var c=d;const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pKe(e,t=globalThis==null?void 0:globalThis.document){const n=Ru(e),r=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!r.current&&SZ(dKe,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l6(){const e=new CustomEvent(E2);document.dispatchEvent(e)}function SZ(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lKe(a,i):a.dispatchEvent(i)}const KN="focusScope.autoFocusOnMount",JN="focusScope.autoFocusOnUnmount",c6={bubbles:!1,cancelable:!0},gKe=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=Ru(a),d=Ru(i),h=g.useRef(null),f=Zv(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let b=function(S){if(m.paused||!l)return;const C=S.target;l.contains(C)?h.current=C:ll(h.current,{select:!0})},w=function(S){if(m.paused||!l)return;const C=S.relatedTarget;C!==null&&(l.contains(C)||ll(h.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const k of S)k.removedNodes.length>0&&ll(l)};var p=b,x=w,y=j;document.addEventListener("focusin",b),document.addEventListener("focusout",w);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),N.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){d6.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(KN,c6);l.addEventListener(KN,u),l.dispatchEvent(y),y.defaultPrevented||(vKe(jKe(CZ(l)),{select:!0}),document.activeElement===p&&ll(l))}return()=>{l.removeEventListener(KN,u),setTimeout(()=>{const y=new CustomEvent(JN,c6);l.addEventListener(JN,d),l.dispatchEvent(y),y.defaultPrevented||ll(p??document.body,{select:!0}),l.removeEventListener(JN,d),d6.remove(m)},0)}}},[l,u,d,m]);const v=g.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[w,j]=xKe(b);w&&j?!p.shiftKey&&y===j?(p.preventDefault(),n&&ll(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&ll(j,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return g.createElement(qa.div,cs({tabIndex:-1},o,{ref:f,onKeyDown:v}))});function vKe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ll(r,{select:t}),document.activeElement!==n)return}function xKe(e){const t=CZ(e),n=u6(t,e),r=u6(t.reverse(),e);return[n,r]}function CZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function u6(e,t){for(const n of e)if(!yKe(n,{upTo:t}))return n}function yKe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bKe(e){return e instanceof HTMLInputElement&&"select"in e}function ll(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&bKe(e)&&t&&e.select()}}const d6=wKe();function wKe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=h6(e,t),e.unshift(t)},remove(t){var n;e=h6(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function h6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jKe(e){return e.filter(t=>t.tagName!=="A")}const _Ke=g.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?AP.createPortal(g.createElement(qa.div,cs({},a,{ref:t})),r):null});function NKe(e,t){return g.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const j_=e=>{const{present:t,children:n}=e,r=SKe(t),a=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Zv(r.ref,a.ref);return typeof n=="function"||r.isPresent?g.cloneElement(a,{ref:i}):null};j_.displayName="Presence";function SKe(e){const[t,n]=g.useState(),r=g.useRef({}),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=NKe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=my(r.current);i.current=l==="mounted"?u:"none"},[l]),C2(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=my(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),C2(()=>{if(t){const u=h=>{const m=my(r.current).includes(h.animationName);h.target===t&&m&&_s.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===t&&(i.current=my(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function my(e){return(e==null?void 0:e.animationName)||"none"}let XN=0;function CKe(){g.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:f6()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:f6()),XN++,()=>{XN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),XN--}},[])}function f6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var kZ=qq(),QN=function(){},__=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:QN,onWheelCapture:QN,onTouchMoveCapture:QN}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,v=e.inert,p=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,b=yA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=f,j=zq([n,t]),N=Vr(Vr({},b),a);return g.createElement(g.Fragment,null,d&&g.createElement(w,{sideCar:kZ,removeScrollBar:u,shards:h,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!p,lockRef:n}),o?g.cloneElement(g.Children.only(l),Vr(Vr({},N),{ref:j})):g.createElement(y,Vr({},N,{className:c,ref:j}),l))});__.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};__.classNames={fullWidth:fp,zeroRight:hp};var P2=!1;if(typeof window<"u")try{var py=Object.defineProperty({},"passive",{get:function(){return P2=!0,!0}});window.addEventListener("test",py,py),window.removeEventListener("test",py,py)}catch{P2=!1}var gd=P2?{passive:!1}:!1,kKe=function(e){return e.tagName==="TEXTAREA"},EZ=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kKe(e)&&n[t]==="visible")},EKe=function(e){return EZ(e,"overflowY")},PKe=function(e){return EZ(e,"overflowX")},m6=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=PZ(e,n);if(r){var a=AZ(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},AKe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},TKe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},PZ=function(e,t){return e==="v"?EKe(t):PKe(t)},AZ=function(e,t){return e==="v"?AKe(t):TKe(t)},OKe=function(e,t){return e==="h"&&t==="rtl"?-1:1},MKe=function(e,t,n,r,a){var i=OKe(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=AZ(e,l),v=m[0],p=m[1],x=m[2],y=p-x-i*v;(v||y)&&PZ(e,l)&&(h+=y,f+=v),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(h===0||!a)||!d&&(f===0||!a))&&(u=!0),u},gy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p6=function(e){return[e.deltaX,e.deltaY]},g6=function(e){return e&&"current"in e?e.current:e},DKe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IKe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RKe=0,vd=[];function $Ke(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),a=g.useState(RKe++)[0],i=g.useState(function(){return bA()})[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Uq([e.lockRef.current],(e.shards||[]).map(g6),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,x){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var y=gy(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],N,S=p.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&C==="h"&&S.type==="range")return!1;var k=m6(C,S);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=m6(C,S)),!k)return!1;if(!r.current&&"changedTouches"in p&&(w||j)&&(r.current=N),!N)return!0;var E=r.current||N;return MKe(E,x,p,E==="h"?w:j,!0)},[]),c=g.useCallback(function(p){var x=p;if(!(!vd.length||vd[vd.length-1]!==i)){var y="deltaY"in x?p6(x):gy(x),b=t.current.filter(function(N){return N.name===x.type&&N.target===x.target&&DKe(N.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(g6).filter(Boolean).filter(function(N){return N.contains(x.target)}),j=w.length>0?l(x,w[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=g.useCallback(function(p,x,y,b){var w={name:p,delta:x,target:y,should:b};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(p){n.current=gy(p),r.current=void 0},[]),h=g.useCallback(function(p){u(p.type,p6(p),p.target,l(p,e.lockRef.current))},[]),f=g.useCallback(function(p){u(p.type,gy(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return vd.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,gd),document.addEventListener("touchmove",c,gd),document.addEventListener("touchstart",d,gd),function(){vd=vd.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,gd),document.removeEventListener("touchmove",c,gd),document.removeEventListener("touchstart",d,gd)}},[]);var m=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:IKe(a)}):null,m?g.createElement(Gq,{gapMode:"margin"}):null)}const LKe=Wq(kZ,$Ke);var TZ=g.forwardRef(function(e,t){return g.createElement(__,Vr({},e,{ref:t,sideCar:LKe}))});TZ.classNames=__.classNames;const OZ="Dialog",[MZ,KQe]=QYe(OZ),[FKe,Zu]=MZ(OZ),BKe=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u=!1,d]=nKe({prop:r,defaultProp:a,onChange:i});return g.createElement(FKe,{scope:t,triggerRef:l,contentRef:c,contentId:YN(),titleId:YN(),descriptionId:YN(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o},n)},DZ="DialogPortal",[UKe,IZ]=MZ(DZ,{forceMount:void 0}),zKe=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=Zu(DZ,t);return g.createElement(UKe,{scope:t,forceMount:n},g.Children.map(r,o=>g.createElement(j_,{present:n||i.open},g.createElement(_Ke,{asChild:!0,container:a},o))))},A2="DialogOverlay",qKe=g.forwardRef((e,t)=>{const n=IZ(A2,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Zu(A2,e.__scopeDialog);return i.modal?g.createElement(j_,{present:r||i.open},g.createElement(VKe,cs({},a,{ref:t}))):null}),VKe=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Zu(A2,n);return g.createElement(TZ,{as:uM,allowPinchZoom:!0,shards:[a.contentRef]},g.createElement(qa.div,cs({"data-state":$Z(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Wg="DialogContent",WKe=g.forwardRef((e,t)=>{const n=IZ(Wg,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Zu(Wg,e.__scopeDialog);return g.createElement(j_,{present:r||i.open},i.modal?g.createElement(HKe,cs({},a,{ref:t})):g.createElement(GKe,cs({},a,{ref:t})))}),HKe=g.forwardRef((e,t)=>{const n=Zu(Wg,e.__scopeDialog),r=g.useRef(null),a=Zv(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return xv(i)},[]),g.createElement(RZ,cs({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:oh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:oh(e.onFocusOutside,i=>i.preventDefault())}))}),GKe=g.forwardRef((e,t)=>{const n=Zu(Wg,e.__scopeDialog),r=g.useRef(!1),a=g.useRef(!1);return g.createElement(RZ,cs({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),RZ=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Zu(Wg,n),c=g.useRef(null),u=Zv(t,c);return CKe(),g.createElement(g.Fragment,null,g.createElement(gKe,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i},g.createElement(fKe,cs({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$Z(l.open)},o,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function $Z(e){return e?"open":"closed"}const YKe=BKe,KKe=zKe,JKe=qKe,XKe=WKe;var Lm='[cmdk-group=""]',ZN='[cmdk-group-items=""]',QKe='[cmdk-group-heading=""]',dM='[cmdk-item=""]',v6=`${dM}:not([aria-disabled="true"])`,T2="cmdk-item-select",Rc="data-value",ZKe=(e,t,n)=>JYe(e,t,n),LZ=g.createContext(void 0),ex=()=>g.useContext(LZ),FZ=g.createContext(void 0),hM=()=>g.useContext(FZ),BZ=g.createContext(void 0),UZ=g.forwardRef((e,t)=>{let n=wd(()=>{var z,_;return{search:"",value:(_=(z=e.value)!=null?z:e.defaultValue)!=null?_:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=wd(()=>new Set),a=wd(()=>new Map),i=wd(()=>new Map),o=wd(()=>new Set),l=zZ(e),{label:c,children:u,value:d,onValueChange:h,filter:f,shouldFilter:m,loop:v,disablePointerSelection:p=!1,vimBindings:x=!0,...y}=e,b=g.useId(),w=g.useId(),j=g.useId(),N=g.useRef(null),S=uJe();$u(()=>{if(d!==void 0){let z=d.trim();n.current.value=z,C.emit()}},[d]),$u(()=>{S(6,U)},[]);let C=g.useMemo(()=>({subscribe:z=>(o.current.add(z),()=>o.current.delete(z)),snapshot:()=>n.current,setState:(z,_,O)=>{var T,q,W;if(!Object.is(n.current[z],_)){if(n.current[z]=_,z==="search")B(),A(),S(1,P);else if(z==="value"&&(O||S(5,U),((T=l.current)==null?void 0:T.value)!==void 0)){let K=_??"";(W=(q=l.current).onValueChange)==null||W.call(q,K);return}C.emit()}},emit:()=>{o.current.forEach(z=>z())}}),[]),k=g.useMemo(()=>({value:(z,_,O)=>{var T;_!==((T=i.current.get(z))==null?void 0:T.value)&&(i.current.set(z,{value:_,keywords:O}),n.current.filtered.items.set(z,E(_,O)),S(2,()=>{A(),C.emit()}))},item:(z,_)=>(r.current.add(z),_&&(a.current.has(_)?a.current.get(_).add(z):a.current.set(_,new Set([z]))),S(3,()=>{B(),A(),n.current.value||P(),C.emit()}),()=>{i.current.delete(z),r.current.delete(z),n.current.filtered.items.delete(z);let O=I();S(4,()=>{B(),(O==null?void 0:O.getAttribute("id"))===z&&P(),C.emit()})}),group:z=>(a.current.has(z)||a.current.set(z,new Set),()=>{i.current.delete(z),a.current.delete(z)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:b,inputId:j,labelId:w,listInnerRef:N}),[]);function E(z,_){var O,T;let q=(T=(O=l.current)==null?void 0:O.filter)!=null?T:ZKe;return z?q(z,n.current.search,_):0}function A(){if(!n.current.search||l.current.shouldFilter===!1)return;let z=n.current.filtered.items,_=[];n.current.filtered.groups.forEach(T=>{let q=a.current.get(T),W=0;q.forEach(K=>{let G=z.get(K);W=Math.max(G,W)}),_.push([T,W])});let O=N.current;L().sort((T,q)=>{var W,K;let G=T.getAttribute("id"),V=q.getAttribute("id");return((W=z.get(V))!=null?W:0)-((K=z.get(G))!=null?K:0)}).forEach(T=>{let q=T.closest(ZN);q?q.appendChild(T.parentElement===q?T:T.closest(`${ZN} > *`)):O.appendChild(T.parentElement===O?T:T.closest(`${ZN} > *`))}),_.sort((T,q)=>q[1]-T[1]).forEach(T=>{let q=N.current.querySelector(`${Lm}[${Rc}="${encodeURIComponent(T[0])}"]`);q==null||q.parentElement.appendChild(q)})}function P(){let z=L().find(O=>O.getAttribute("aria-disabled")!=="true"),_=z==null?void 0:z.getAttribute(Rc);C.setState("value",_||void 0)}function B(){var z,_,O,T;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let q=0;for(let W of r.current){let K=(_=(z=i.current.get(W))==null?void 0:z.value)!=null?_:"",G=(T=(O=i.current.get(W))==null?void 0:O.keywords)!=null?T:[],V=E(K,G);n.current.filtered.items.set(W,V),V>0&&q++}for(let[W,K]of a.current)for(let G of K)if(n.current.filtered.items.get(G)>0){n.current.filtered.groups.add(W);break}n.current.filtered.count=q}function U(){var z,_,O;let T=I();T&&(((z=T.parentElement)==null?void 0:z.firstChild)===T&&((O=(_=T.closest(Lm))==null?void 0:_.querySelector(QKe))==null||O.scrollIntoView({block:"nearest"})),T.scrollIntoView({block:"nearest"}))}function I(){var z;return(z=N.current)==null?void 0:z.querySelector(`${dM}[aria-selected="true"]`)}function L(){var z;return Array.from((z=N.current)==null?void 0:z.querySelectorAll(v6))}function M(z){let _=L()[z];_&&C.setState("value",_.getAttribute(Rc))}function $(z){var _;let O=I(),T=L(),q=T.findIndex(K=>K===O),W=T[q+z];(_=l.current)!=null&&_.loop&&(W=q+z<0?T[T.length-1]:q+z===T.length?T[0]:T[q+z]),W&&C.setState("value",W.getAttribute(Rc))}function R(z){let _=I(),O=_==null?void 0:_.closest(Lm),T;for(;O&&!T;)O=z>0?lJe(O,Lm):cJe(O,Lm),T=O==null?void 0:O.querySelector(v6);T?C.setState("value",T.getAttribute(Rc)):$(z)}let F=()=>M(L().length-1),D=z=>{z.preventDefault(),z.metaKey?F():z.altKey?R(1):$(1)},H=z=>{z.preventDefault(),z.metaKey?M(0):z.altKey?R(-1):$(-1)};return g.createElement(qa.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:z=>{var _;if((_=y.onKeyDown)==null||_.call(y,z),!z.defaultPrevented)switch(z.key){case"n":case"j":{x&&z.ctrlKey&&D(z);break}case"ArrowDown":{D(z);break}case"p":case"k":{x&&z.ctrlKey&&H(z);break}case"ArrowUp":{H(z);break}case"Home":{z.preventDefault(),M(0);break}case"End":{z.preventDefault(),F();break}case"Enter":if(!z.nativeEvent.isComposing&&z.keyCode!==229){z.preventDefault();let O=I();if(O){let T=new Event(T2);O.dispatchEvent(T)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:hJe},c),N_(e,z=>g.createElement(FZ.Provider,{value:C},g.createElement(LZ.Provider,{value:k},z))))}),eJe=g.forwardRef((e,t)=>{var n,r;let a=g.useId(),i=g.useRef(null),o=g.useContext(BZ),l=ex(),c=zZ(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;$u(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=qZ(a,i,[e.value,e.children,i],e.keywords),h=hM(),f=Lu(S=>S.value&&S.value===d.current),m=Lu(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);g.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(T2,v),()=>S.removeEventListener(T2,v)},[m,e.onSelect,e.disabled]);function v(){var S,C;p(),(C=(S=c.current).onSelect)==null||C.call(S,d.current)}function p(){h.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:y,onSelect:b,forceMount:w,keywords:j,...N}=e;return g.createElement(qa.div,{ref:Hg([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!f,"data-disabled":!!x,"data-selected":!!f,onPointerMove:x||l.disablePointerSelection?void 0:p,onClick:x?void 0:v},e.children)}),tJe=g.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...i}=e,o=g.useId(),l=g.useRef(null),c=g.useRef(null),u=g.useId(),d=ex(),h=Lu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);$u(()=>d.group(o),[]),qZ(o,l,[e.value,e.heading,c]);let f=g.useMemo(()=>({id:o,forceMount:a}),[a]);return g.createElement(qa.div,{ref:Hg([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),N_(e,m=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},g.createElement(BZ.Provider,{value:f},m))))}),nJe=g.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=g.useRef(null),i=Lu(o=>!o.search);return!n&&!i?null:g.createElement(qa.div,{ref:Hg([a,t]),...r,"cmdk-separator":"",role:"separator"})}),rJe=g.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,i=hM(),o=Lu(d=>d.search),l=Lu(d=>d.value),c=ex(),u=g.useMemo(()=>{var d;let h=(d=c.listInnerRef.current)==null?void 0:d.querySelector(`${dM}[${Rc}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement(qa.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),sJe=g.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,i=g.useRef(null),o=g.useRef(null),l=ex();return g.useEffect(()=>{if(o.current&&i.current){let c=o.current,u=i.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),g.createElement(qa.div,{ref:Hg([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},N_(e,c=>g.createElement("div",{ref:Hg([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),aJe=g.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:i,container:o,...l}=e;return g.createElement(YKe,{open:n,onOpenChange:r},g.createElement(KKe,{container:o},g.createElement(JKe,{"cmdk-overlay":"",className:a}),g.createElement(XKe,{"aria-label":e.label,"cmdk-dialog":"",className:i},g.createElement(UZ,{ref:t,...l}))))}),iJe=g.forwardRef((e,t)=>Lu(n=>n.filtered.count===0)?g.createElement(qa.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),oJe=g.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...i}=e;return g.createElement(qa.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},N_(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),zs=Object.assign(UZ,{List:sJe,Item:eJe,Input:rJe,Group:tJe,Separator:nJe,Dialog:aJe,Empty:iJe,Loading:oJe});function lJe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function cJe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function zZ(e){let t=g.useRef(e);return $u(()=>{t.current=e}),t}var $u=typeof window>"u"?g.useEffect:g.useLayoutEffect;function wd(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function Hg(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Lu(e){let t=hM(),n=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,n,n)}function qZ(e,t,n,r=[]){let a=g.useRef(),i=ex();return $u(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=r.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Rc,l),a.current=l}),a}var uJe=()=>{let[e,t]=g.useState(),n=wd(()=>new Map);return $u(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function dJe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function N_({asChild:e,children:t},n){return e&&g.isValidElement(t)?g.cloneElement(dJe(t),{ref:t.ref},n(t.props.children)):n(t)}var hJe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const VZ=g.forwardRef(({className:e,...t},n)=>s.jsx(zs,{ref:n,className:ye("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));VZ.displayName=zs.displayName;const WZ=g.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(ha,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(zs.Input,{ref:n,className:ye("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));WZ.displayName=zs.Input.displayName;const HZ=g.forwardRef(({className:e,...t},n)=>s.jsx(zs.List,{ref:n,className:ye("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));HZ.displayName=zs.List.displayName;const GZ=g.forwardRef((e,t)=>s.jsx(zs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));GZ.displayName=zs.Empty.displayName;const YZ=g.forwardRef(({className:e,...t},n)=>s.jsx(zs.Group,{ref:n,className:ye("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));YZ.displayName=zs.Group.displayName;const fJe=g.forwardRef(({className:e,...t},n)=>s.jsx(zs.Separator,{ref:n,className:ye("-mx-1 h-px bg-border",e),...t}));fJe.displayName=zs.Separator.displayName;const KZ=g.forwardRef(({className:e,...t},n)=>s.jsx(zs.Item,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));KZ.displayName=zs.Item.displayName;function Tl({options:e,value:t,onValueChange:n,placeholder:r="Select...",searchPlaceholder:a="Search...",emptyMessage:i="No results found.",disabled:o=!1,className:l}){const[c,u]=g.useState(!1),d=e.find(h=>h.value===t);return s.jsxs(wZ,{open:c,onOpenChange:u,children:[s.jsx(jZ,{asChild:!0,children:s.jsxs(te,{variant:"outline",role:"combobox","aria-expanded":c,disabled:o,className:ye("w-full justify-between font-normal",l),children:[s.jsxs("span",{className:"flex items-center gap-2 truncate",children:[d==null?void 0:d.icon,(d==null?void 0:d.label)||r]}),s.jsx(Kre,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(cM,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:s.jsxs(VZ,{children:[s.jsx(WZ,{placeholder:a}),s.jsxs(HZ,{children:[s.jsx(GZ,{children:i}),s.jsx(YZ,{children:e.map(h=>s.jsxs(KZ,{value:h.label,onSelect:()=>{n(h.value),u(!1)},children:[s.jsx(ac,{className:ye("mr-2 h-4 w-4",t===h.value?"opacity-100":"opacity-0")}),s.jsxs("span",{className:"flex items-center gap-2",children:[h.icon,h.label]})]},h.value))})]})]})})]})}const mJe=({open:e,onOpenChange:t,task:n,onUpdate:r})=>{Ut();const[a,i]=g.useState(!1),[o,l]=g.useState(n.title),[c,u]=g.useState(n.description||""),[d,h]=g.useState(n.priority),[f,m]=g.useState(n.status),[v,p]=g.useState(n.due_date?new Date(n.due_date):void 0),[x,y]=g.useState(n.assistant_id||"__unassigned__"),[b,w]=g.useState(n.assigned_to||"__unassigned__"),[j,N]=g.useState(n.chatbot_id||"__unassigned__"),[S,C]=g.useState(n.whatsapp_agent_id||"__unassigned__"),[k,E]=g.useState([]),[A,P]=g.useState([]),[B,U]=g.useState([]),[I,L]=g.useState([]),[M,$]=g.useState(!1);g.useEffect(()=>{e&&(l(n.title),u(n.description||""),h(n.priority),m(n.status),p(n.due_date?new Date(n.due_date):void 0),y(n.assistant_id||"__unassigned__"),w(n.assigned_to||"__unassigned__"),N(n.chatbot_id||"__unassigned__"),C(n.whatsapp_agent_id||"__unassigned__"),R())},[e,n]);const R=async()=>{$(!0);try{const{data:T}=await Y.from("voice_assistants").select("id, name, org_id").order("name");T&&E(T);const{data:q}=await Y.from("team_members").select("user_id, email");if(q){const G=[...new Set(q.map(re=>re.user_id))],{data:V}=await Y.from("profiles").select("user_id, full_name, email").in("user_id",G),se=G.map(re=>{const je=q.find(ce=>ce.user_id===re),be=V==null?void 0:V.find(ce=>ce.user_id===re);return{user_id:re,email:(je==null?void 0:je.email)||(be==null?void 0:be.email),user_name:be==null?void 0:be.full_name}});P(se)}const{data:W}=await Y.from("chatbots").select("id, name").order("name");W&&U(W);const{data:K}=await Y.from("whatsapp_agents").select("id, name, phone_number").order("name");K&&L(K)}catch(T){console.error("Error fetching data:",T)}finally{$(!1)}},F=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})},...k.filter(T=>T.id).map(T=>({value:T.id,label:T.name,icon:s.jsx(Ze,{className:"h-4 w-4"})}))],[k]),D=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(_n,{className:"h-4 w-4 text-muted-foreground"})},...A.filter(T=>T.user_id).map(T=>({value:T.user_id,label:T.user_name||T.email||T.user_id,icon:s.jsx(_n,{className:"h-4 w-4"})}))],[A]),H=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})},...B.filter(T=>T.id).map(T=>({value:T.id,label:T.name,icon:s.jsx(Ze,{className:"h-4 w-4"})}))],[B]),z=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})},...I.filter(T=>T.id).map(T=>({value:T.id,label:T.name||T.phone_number||"Unnamed Agent",icon:s.jsx(Ht,{className:"h-4 w-4"})}))],[I]),_=async T=>{if(T.preventDefault(),!o.trim()){pe.error("Title is required");return}i(!0);try{const{data:q,error:W}=await Y.from("voice_assistant_tasks").update({title:o.trim(),description:c.trim()||null,priority:d,status:f,due_date:(v==null?void 0:v.toISOString())||null,assistant_id:x==="__unassigned__"?null:x,assigned_to:b==="__unassigned__"?null:b,chatbot_id:j==="__unassigned__"?null:j,whatsapp_agent_id:S==="__unassigned__"?null:S}).eq("id",n.id).select().single();if(W)throw W;r(q),pe.success("Task updated successfully"),t(!1)}catch(q){console.error("Error updating task:",q),pe.error("Failed to update task")}finally{i(!1)}},O=()=>{p(void 0)};return s.jsx(zn,{open:e,onOpenChange:t,children:s.jsxs(Dn,{className:"sm:max-w-[500px]",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Edit Task"})}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-title",children:"Title *"}),s.jsx(he,{id:"edit-title",value:o,onChange:T=>l(T.target.value),placeholder:"Enter task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-description",children:"Description"}),s.jsx(dt,{id:"edit-description",value:c,onChange:T=>u(T.target.value),placeholder:"Enter task description (optional)",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-priority",children:"Priority"}),s.jsxs(He,{value:d,onValueChange:h,children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"low",children:"Low"}),s.jsx(ue,{value:"medium",children:"Medium"}),s.jsx(ue,{value:"high",children:"High"}),s.jsx(ue,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-status",children:"Status"}),s.jsxs(He,{value:f,onValueChange:m,children:[s.jsx(Ve,{children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"pending",children:"Pending"}),s.jsx(ue,{value:"in_progress",children:"In Progress"}),s.jsx(ue,{value:"completed",children:"Completed"}),s.jsx(ue,{value:"cancelled",children:"Cancelled"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-assistant",children:"Voice Assistant"}),s.jsx(Tl,{options:F,value:x,onValueChange:y,placeholder:M?"Loading...":"Select assistant",searchPlaceholder:"Search assistants...",emptyMessage:"No assistants found.",disabled:M})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-assigned-to",children:"Assign to Team Member"}),s.jsx(Tl,{options:D,value:b,onValueChange:w,placeholder:M?"Loading...":"Select team member",searchPlaceholder:"Search team members...",emptyMessage:"No team members found.",disabled:M})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-chatbot",children:"Chatbot"}),s.jsx(Tl,{options:H,value:j,onValueChange:N,placeholder:M?"Loading...":"Select chatbot",searchPlaceholder:"Search chatbots...",emptyMessage:"No chatbots found.",disabled:M})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-whatsapp-agent",children:"WhatsApp Agent"}),s.jsx(Tl,{options:z,value:S,onValueChange:C,placeholder:M?"Loading...":"Select WhatsApp agent",searchPlaceholder:"Search WhatsApp agents...",emptyMessage:"No WhatsApp agents found.",disabled:M})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Due Date"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(wZ,{children:[s.jsx(jZ,{asChild:!0,children:s.jsxs(te,{variant:"outline",className:ye("flex-1 justify-start text-left font-normal",!v&&"text-muted-foreground"),children:[s.jsx(Jr,{className:"mr-2 h-4 w-4"}),v?ct(v,"PPP"):"Pick a due date"]})}),s.jsx(cM,{className:"w-auto p-0",align:"start",children:s.jsx(cZ,{mode:"single",selected:v,onSelect:p,initialFocus:!0})})]}),v&&s.jsx(te,{type:"button",variant:"outline",onClick:O,children:"Clear"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(te,{type:"submit",disabled:a,children:[a&&s.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})},pJe={low:"bg-slate-500/20 text-slate-400 border-slate-500/30",medium:"bg-blue-500/20 text-blue-400 border-blue-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",urgent:"bg-red-500/20 text-red-400 border-red-500/30"},gJe={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30",cancelled:"bg-slate-500/20 text-slate-400 border-slate-500/30"},vJe=({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a,onHide:i,currentUserId:o,chatbotName:l,whatsappAgentName:c,assignedToName:u})=>{const[d,h]=g.useState(!1),[f,m]=g.useState(!1),[v,p]=g.useState(!1),x=e.due_date&&MV(new Date(e.due_date))&&e.status!=="completed",y=e.due_date&&YC(new Date(e.due_date)),b=async j=>{p(!0);try{const{data:N,error:S}=await Y.from("voice_assistant_tasks").update({status:j}).eq("id",e.id).select().single();if(S)throw S;const C=async(k,E)=>{if(E)if(j==="completed"){const{data:A}=await Y.from("changelog_entries").select("id").eq("entity_id",E).eq("title",e.title).eq("entity_type",k).single();A?await Y.from("changelog_entries").update({change_type:"update",status:"completed"}).eq("id",A.id):await Y.from("changelog_entries").insert({user_id:o||e.user_id,entity_type:k,entity_id:E,change_type:"update",title:e.title,description:e.description,status:"completed",source:"manual"})}else await Y.from("changelog_entries").update({status:j}).eq("entity_id",E).eq("title",e.title).eq("entity_type",k)};await Promise.all([C("voice_assistant",e.assistant_id),C("chatbot",e.chatbot_id),C("whatsapp_agent",e.whatsapp_agent_id)]),r(N),pe.success("Status updated")}catch(N){console.error("Error updating status:",N),pe.error("Failed to update status")}finally{p(!1)}},w=async()=>{const j=e.user_id===o,N=e.is_team_shared||e.assigned_to;try{if(N&&!j){const{error:S}=await Y.from("task_hidden_by_users").insert({task_id:e.id,user_id:o});if(S)throw S;i==null||i(e.id),pe.success("Task removed from your view")}else{const{error:S}=await Y.from("voice_assistant_tasks").delete().eq("id",e.id);if(S)throw S;a(e.id),pe.success("Task deleted")}}catch(S){console.error("Error deleting/hiding task:",S),pe.error("Failed to remove task")}};return s.jsxs(s.Fragment,{children:[s.jsx(J,{className:`transition-all ${x?"border-red-500/50":""}`,children:s.jsx(ee,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-base",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:e.description})]}),s.jsxs(l_,{children:[s.jsx(c_,{asChild:!0,children:s.jsx(te,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:s.jsx(BP,{className:"h-4 w-4"})})}),s.jsxs(Wv,{align:"end",children:[s.jsxs(Ui,{onClick:()=>h(!0),children:[s.jsx(nC,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(u_,{}),s.jsxs(Ui,{onClick:()=>m(!0),className:"text-destructive",children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(xe,{className:`text-xs ${pJe[e.priority]}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),e.assistant_id&&t&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-purple-500/10 text-purple-400 border-purple-500/30",children:[s.jsx(Ze,{className:"h-3 w-3"}),t]}),e.chatbot_id&&l&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Ze,{className:"h-3 w-3"}),l]}),e.whatsapp_agent_id&&c&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-green-500/10 text-green-400 border-green-500/30",children:[s.jsx(Ht,{className:"h-3 w-3"}),c]}),e.assigned_to&&u&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-orange-500/10 text-orange-400 border-orange-500/30",children:[s.jsx(_n,{className:"h-3 w-3"}),u]}),s.jsx(xe,{variant:"outline",className:"text-xs bg-muted/50",children:n}),e.due_date&&s.jsxs(xe,{variant:"outline",className:`text-xs flex items-center gap-1 ${x?"bg-red-500/20 text-red-400 border-red-500/30":y?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":""}`,children:[x?s.jsx(IU,{className:"h-3 w-3"}):s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(e.due_date),"MMM d, yyyy")]}),s.jsxs(xe,{variant:"outline",className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Dt,{className:"h-3 w-3"}),ct(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]})]})]}),s.jsx("div",{className:"flex items-center gap-2 shrink-0",children:s.jsxs(He,{value:e.status,onValueChange:b,disabled:v,children:[s.jsx(Ve,{className:`w-[130px] h-8 text-xs ${gJe[e.status]}`,children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"pending",children:"Pending"}),s.jsx(ue,{value:"in_progress",children:"In Progress"}),s.jsx(ue,{value:"completed",children:"Completed"}),s.jsx(ue,{value:"cancelled",children:"Cancelled"})]})]})})]})})}),s.jsx(mJe,{open:d,onOpenChange:h,task:e,onUpdate:r}),s.jsx(JHe,{open:f,onOpenChange:m,children:s.jsxs(HQ,{children:[s.jsxs(GQ,{children:[s.jsx(KQ,{children:(e.is_team_shared||e.assigned_to)&&e.user_id!==o?"Remove Task":"Delete Task"}),s.jsx(JQ,{children:(e.is_team_shared||e.assigned_to)&&e.user_id!==o?`This will remove "${e.title}" from your view only. Other team members will still see it.`:`Are you sure you want to delete "${e.title}"? This action cannot be undone.`})]}),s.jsxs(YQ,{children:[s.jsx(QQ,{children:"Cancel"}),s.jsx(XQ,{onClick:w,className:"bg-destructive text-destructive-foreground",children:(e.is_team_shared||e.assigned_to)&&e.user_id!==o?"Remove":"Delete"})]})]})})]})},xJe=({searchQuery:e,onSearchChange:t,assistants:n,connections:r,onAssistantSelect:a})=>{const[i,o]=g.useState(!1),[l,c]=g.useState(!1),u=g.useRef(null),d=v=>{if(!v)return"No Organization";const p=r.find(x=>x.org_id===v);return(p==null?void 0:p.org_name)||v},h=e.trim()?n.filter(v=>(v.name||"").toLowerCase().includes(e.toLowerCase())):[];g.useEffect(()=>{const v=p=>{u.current&&!u.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),g.useEffect(()=>{e.trim()&&h.length>0&&l?o(!0):o(!1)},[e,h.length,l]);const f=v=>{t(v.name||""),o(!1),a&&a(v)},m=()=>{t(""),o(!1)};return s.jsxs("div",{ref:u,className:"relative flex-1",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search tasks or assistants...",value:e,onChange:v=>t(v.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),150),className:"pl-10 pr-10"}),e&&s.jsx("button",{onClick:m,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Qi,{className:"h-4 w-4"})}),i&&h.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border rounded-md shadow-lg z-50 max-h-[300px] overflow-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Matching Voice Assistants"}),h.map(v=>s.jsxs("button",{onClick:()=>f(v),className:ye("w-full flex items-center gap-3 p-2 rounded-md hover:bg-accent text-left transition-colors"),children:[s.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:s.jsx(Ze,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:v.name||"Unnamed Assistant"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:d(v.org_id)})]}),s.jsx(xe,{variant:"outline",className:"text-xs shrink-0",children:"Assistant"})]},v.id))]})})]})};function yJe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const S_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nm(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function fM(e){return"nodeType"in e}function ms(e){var t,n;return e?nm(e)?e:fM(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mM(e){const{Document:t}=ms(e);return e instanceof t}function tx(e){return nm(e)?!1:e instanceof ms(e).HTMLElement}function JZ(e){return e instanceof ms(e).SVGElement}function rm(e){return e?nm(e)?e.document:fM(e)?mM(e)?e:tx(e)||JZ(e)?e.ownerDocument:document:document:document}const xi=S_?g.useLayoutEffect:g.useEffect;function C_(e){const t=g.useRef(e);return xi(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function bJe(){const e=g.useRef(null),t=g.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=g.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Gg(e,t){t===void 0&&(t=[e]);const n=g.useRef(e);return xi(()=>{n.current!==e&&(n.current=e)},t),n}function nx(e,t){const n=g.useRef();return g.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function ew(e){const t=C_(e),n=g.useRef(null),r=g.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function tw(e){const t=g.useRef();return g.useEffect(()=>{t.current=e},[e]),t.current}let eS={};function rx(e,t){return g.useMemo(()=>{if(t)return t;const n=eS[e]==null?0:eS[e]+1;return eS[e]=n,e+"-"+n},[e,t])}function XZ(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const lh=XZ(1),nw=XZ(-1);function wJe(e){return"clientX"in e&&"clientY"in e}function k_(e){if(!e)return!1;const{KeyboardEvent:t}=ms(e.target);return t&&e instanceof t}function jJe(e){if(!e)return!1;const{TouchEvent:t}=ms(e.target);return t&&e instanceof t}function rw(e){if(jJe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return wJe(e)?{x:e.clientX,y:e.clientY}:null}const tc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tc.Translate.toString(e),tc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),x6="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _Je(e){return e.matches(x6)?e:e.querySelector(x6)}const NJe={display:"none"};function SJe(e){let{id:t,value:n}=e;return X.createElement("div",{id:t,style:NJe},n)}function CJe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return X.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function kJe(){const[e,t]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const QZ=g.createContext(null);function EJe(e){const t=g.useContext(QZ);g.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function PJe(){const[e]=g.useState(()=>new Set),t=g.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[g.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const AJe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},TJe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function OJe(e){let{announcements:t=TJe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=AJe}=e;const{announce:i,announcement:o}=kJe(),l=rx("DndLiveRegion"),[c,u]=g.useState(!1);if(g.useEffect(()=>{u(!0)},[]),EJe(g.useMemo(()=>({onDragStart(h){let{active:f}=h;i(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:m}=h;t.onDragMove&&i(t.onDragMove({active:f,over:m}))},onDragOver(h){let{active:f,over:m}=h;i(t.onDragOver({active:f,over:m}))},onDragEnd(h){let{active:f,over:m}=h;i(t.onDragEnd({active:f,over:m}))},onDragCancel(h){let{active:f,over:m}=h;i(t.onDragCancel({active:f,over:m}))}}),[i,t])),!c)return null;const d=X.createElement(X.Fragment,null,X.createElement(SJe,{id:r,value:a.draggable}),X.createElement(CJe,{id:l,announcement:o}));return n?_s.createPortal(d,n):d}var sr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(sr||(sr={}));function sw(){}function y6(e,t){return g.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function MJe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const yi=Object.freeze({x:0,y:0});function DJe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function IJe(e,t){const n=rw(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function RJe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function $Je(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function LJe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function b6(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const FJe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=b6(t,t.left,t.top),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=DJe(b6(c),a);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(RJe)};function BJe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const UJe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=BJe(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort($Je)};function zJe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ZZ(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:yi}function qJe(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const VJe=qJe(1);function eee(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function WJe(e,t,n){const r=eee(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const HJe={ignoreTransform:!1};function sm(e,t){t===void 0&&(t=HJe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=ms(e).getComputedStyle(e);u&&(n=WJe(n,u,d))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function w6(e){return sm(e,{ignoreTransform:!0})}function GJe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function YJe(e,t){return t===void 0&&(t=ms(e).getComputedStyle(e)),t.position==="fixed"}function KJe(e,t){t===void 0&&(t=ms(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function pM(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(mM(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!tx(a)||JZ(a)||n.includes(a))return n;const i=ms(e).getComputedStyle(a);return a!==e&&KJe(a,i)&&n.push(a),YJe(a,i)?n:r(a.parentNode)}return e?r(e):n}function tee(e){const[t]=pM(e,1);return t??null}function tS(e){return!S_||!e?null:nm(e)?e:fM(e)?mM(e)||e===rm(e).scrollingElement?window:tx(e)?e:null:null}function nee(e){return nm(e)?e.scrollX:e.scrollLeft}function ree(e){return nm(e)?e.scrollY:e.scrollTop}function O2(e){return{x:nee(e),y:ree(e)}}var hr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(hr||(hr={}));function see(e){return!S_||!e?!1:e===document.scrollingElement}function aee(e){const t={x:0,y:0},n=see(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const JJe={x:.2,y:.2};function XJe(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=JJe);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=aee(e),m={x:0,y:0},v={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+p.height?(m.y=hr.Backward,v.y=r*Math.abs((t.top+p.height-i)/p.height)):!d&&c>=t.bottom-p.height&&(m.y=hr.Forward,v.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!f&&l>=t.right-p.width?(m.x=hr.Forward,v.x=r*Math.abs((t.right-p.width-l)/p.width)):!h&&o<=t.left+p.width&&(m.x=hr.Backward,v.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:m,speed:v}}function QJe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function iee(e){return e.reduce((t,n)=>lh(t,O2(n)),yi)}function ZJe(e){return e.reduce((t,n)=>t+nee(n),0)}function eXe(e){return e.reduce((t,n)=>t+ree(n),0)}function oee(e,t){if(t===void 0&&(t=sm),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);tee(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const tXe=[["x",["left","right"],ZJe],["y",["top","bottom"],eXe]];class gM{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=pM(n),a=iee(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of tXe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cp{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function nXe(e){const{EventTarget:t}=ms(e);return e instanceof t?e:rm(e)}function nS(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ba;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ba||(ba={}));function j6(e){e.preventDefault()}function rXe(e){e.stopPropagation()}var Vt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Vt||(Vt={}));const lee={start:[Vt.Space,Vt.Enter],cancel:[Vt.Esc],end:[Vt.Space,Vt.Enter,Vt.Tab]},sXe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Vt.Right:return{...n,x:n.x+25};case Vt.Left:return{...n,x:n.x-25};case Vt.Down:return{...n,y:n.y+25};case Vt.Up:return{...n,y:n.y-25}}};class cee{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Cp(rm(n)),this.windowListeners=new Cp(ms(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ba.Resize,this.handleCancel),this.windowListeners.add(ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&oee(r),n(yi)}handleKeyDown(t){if(k_(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=lee,coordinateGetter:o=sXe,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:yi;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(t,{active:n,context:r.current,currentCoordinates:d});if(h){const f=nw(h,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const p of v){const x=t.code,{isTop:y,isRight:b,isLeft:w,isBottom:j,maxScroll:N,minScroll:S}=aee(p),C=QJe(p),k={x:Math.min(x===Vt.Right?C.right-C.width/2:C.right,Math.max(x===Vt.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(x===Vt.Down?C.bottom-C.height/2:C.bottom,Math.max(x===Vt.Down?C.top:C.top+C.height/2,h.y))},E=x===Vt.Right&&!b||x===Vt.Left&&!w,A=x===Vt.Down&&!j||x===Vt.Up&&!y;if(E&&k.x!==h.x){const P=p.scrollLeft+f.x,B=x===Vt.Right&&P<=N.x||x===Vt.Left&&P>=S.x;if(B&&!f.y){p.scrollTo({left:P,behavior:l});return}B?m.x=p.scrollLeft-P:m.x=x===Vt.Right?p.scrollLeft-N.x:p.scrollLeft-S.x,m.x&&p.scrollBy({left:-m.x,behavior:l});break}else if(A&&k.y!==h.y){const P=p.scrollTop+f.y,B=x===Vt.Down&&P<=N.y||x===Vt.Up&&P>=S.y;if(B&&!f.x){p.scrollTo({top:P,behavior:l});return}B?m.y=p.scrollTop-P:m.y=x===Vt.Down?p.scrollTop-N.y:p.scrollTop-S.y,m.y&&p.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,lh(nw(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cee.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=lee,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function _6(e){return!!(e&&"distance"in e)}function N6(e){return!!(e&&"delay"in e)}class vM{constructor(t,n,r){var a;r===void 0&&(r=nXe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=rm(o),this.documentListeners=new Cp(this.document),this.listeners=new Cp(r),this.windowListeners=new Cp(ms(o)),this.initialCoordinates=(a=rw(i))!=null?a:yi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ba.Resize,this.handleCancel),this.windowListeners.add(ba.DragStart,j6),this.windowListeners.add(ba.VisibilityChange,this.handleCancel),this.windowListeners.add(ba.ContextMenu,j6),this.documentListeners.add(ba.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(N6(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(_6(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ba.Click,rXe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ba.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=rw(t))!=null?n:yi,u=nw(a,c);if(!r&&l){if(_6(l)){if(l.tolerance!=null&&nS(u,l.tolerance))return this.handleCancel();if(nS(u,l.distance))return this.handleStart()}if(N6(l)&&nS(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Vt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aXe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class xM extends vM{constructor(t){const{event:n}=t,r=rm(n.target);super(t,aXe,r)}}xM.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const iXe={move:{name:"mousemove"},end:{name:"mouseup"}};var M2;(function(e){e[e.RightClick=2]="RightClick"})(M2||(M2={}));class oXe extends vM{constructor(t){super(t,iXe,rm(t.event.target))}}oXe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===M2.RightClick?!1:(r==null||r({event:n}),!0)}}];const rS={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class uee extends vM{constructor(t){super(t,rS)}static setup(){return window.addEventListener(rS.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(rS.move.name,t)};function t(){}}}uee.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var kp;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(kp||(kp={}));var aw;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(aw||(aw={}));function lXe(e){let{acceleration:t,activator:n=kp.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=aw.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const m=uXe({delta:h,disabled:!i}),[v,p]=bJe(),x=g.useRef({x:0,y:0}),y=g.useRef({x:0,y:0}),b=g.useMemo(()=>{switch(n){case kp.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case kp.DraggableRect:return a}},[n,a,c]),w=g.useRef(null),j=g.useCallback(()=>{const S=w.current;if(!S)return;const C=x.current.x*y.current.x,k=x.current.y*y.current.y;S.scrollBy(C,k)},[]),N=g.useMemo(()=>l===aw.TreeOrder?[...u].reverse():u,[l,u]);g.useEffect(()=>{if(!i||!u.length||!b){p();return}for(const S of N){if((r==null?void 0:r(S))===!1)continue;const C=u.indexOf(S),k=d[C];if(!k)continue;const{direction:E,speed:A}=XJe(S,k,b,t,f);for(const P of["x","y"])m[P][E[P]]||(A[P]=0,E[P]=0);if(A.x>0||A.y>0){p(),w.current=S,v(j,o),x.current=A,y.current=E;return}}x.current={x:0,y:0},y.current={x:0,y:0},p()},[t,j,r,p,i,o,JSON.stringify(b),JSON.stringify(m),v,u,N,d,JSON.stringify(f)])}const cXe={x:{[hr.Backward]:!1,[hr.Forward]:!1},y:{[hr.Backward]:!1,[hr.Forward]:!1}};function uXe(e){let{delta:t,disabled:n}=e;const r=tw(t);return nx(a=>{if(n||!r||!a)return cXe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[hr.Backward]:a.x[hr.Backward]||i.x===-1,[hr.Forward]:a.x[hr.Forward]||i.x===1},y:{[hr.Backward]:a.y[hr.Backward]||i.y===-1,[hr.Forward]:a.y[hr.Forward]||i.y===1}}},[n,t,r])}function dXe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return nx(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function hXe(e,t){return g.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var gf;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(gf||(gf={}));var D2;(function(e){e.Optimized="optimized"})(D2||(D2={}));const S6=new Map;function fXe(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=g.useState(null),{frequency:l,measure:c,strategy:u}=a,d=g.useRef(e),h=x(),f=Gg(h),m=g.useCallback(function(y){y===void 0&&(y=[]),!f.current&&o(b=>b===null?y:b.concat(y.filter(w=>!b.includes(w))))},[f]),v=g.useRef(null),p=nx(y=>{if(h&&!n)return S6;if(!y||y===S6||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const j=w.node.current,N=j?new gM(c(j),j):null;w.rect.current=N,N&&b.set(w.id,N)}return b}return y},[e,i,n,h,c]);return g.useEffect(()=>{d.current=e},[e]),g.useEffect(()=>{h||m()},[n,h]),g.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),g.useEffect(()=>{h||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},l))},[l,h,m,...r]),{droppableRects:p,measureDroppableContainers:m,measuringScheduled:i!=null};function x(){switch(u){case gf.Always:return!1;case gf.BeforeDragging:return n;default:return!n}}}function yM(e,t){return nx(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function mXe(e,t){return yM(e,t)}function pXe(e){let{callback:t,disabled:n}=e;const r=C_(t),a=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return g.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function E_(e){let{callback:t,disabled:n}=e;const r=C_(t),a=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return g.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function gXe(e){return new gM(sm(e),e)}function C6(e,t,n){t===void 0&&(t=gXe);const[r,a]=g.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=pXe({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=E_({callback:i});return xi(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function vXe(e){const t=yM(e);return ZZ(e,t)}const k6=[];function xXe(e){const t=g.useRef(e),n=nx(r=>e?r&&r!==k6&&e&&t.current&&e.parentNode===t.current.parentNode?r:pM(e):k6,[e]);return g.useEffect(()=>{t.current=e},[e]),n}function yXe(e){const[t,n]=g.useState(null),r=g.useRef(e),a=g.useCallback(i=>{const o=tS(i.target);o&&n(l=>l?(l.set(o,O2(o)),new Map(l)):null)},[]);return g.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const u=tS(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,O2(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=tS(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),g.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>lh(i,o),yi):iee(e):yi,[e,t])}function E6(e,t){t===void 0&&(t=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},t),g.useEffect(()=>{const r=e!==yi;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?nw(e,n.current):yi}function bXe(e){g.useEffect(()=>{if(!S_)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function wXe(e,t){return g.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function dee(e){return g.useMemo(()=>e?GJe(e):null,[e])}const P6=[];function jXe(e,t){t===void 0&&(t=sm);const[n]=e,r=dee(n?ms(n):null),[a,i]=g.useState(P6);function o(){i(()=>e.length?e.map(c=>see(c)?r:new gM(t(c),c)):P6)}const l=E_({callback:o});return xi(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function hee(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return tx(t)?t:e}function _Xe(e){let{measure:t}=e;const[n,r]=g.useState(null),a=g.useCallback(u=>{for(const{target:d}of u)if(tx(d)){r(h=>{const f=t(d);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),i=E_({callback:a}),o=g.useCallback(u=>{const d=hee(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[l,c]=ew(o);return g.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const NXe=[{sensor:xM,options:{}},{sensor:cee,options:{}}],SXe={current:{}},Ky={draggable:{measure:w6},droppable:{measure:w6,strategy:gf.WhileDragging,frequency:D2.Optimized},dragOverlay:{measure:sm}};class Ep extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const CXe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ep,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sw},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ky,measureDroppableContainers:sw,windowRect:null,measuringScheduled:!1},fee={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sw,draggableNodes:new Map,over:null,measureDroppableContainers:sw},sx=g.createContext(fee),mee=g.createContext(CXe);function kXe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ep}}}function EXe(e,t){switch(t.type){case sr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case sr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case sr.DragEnd:case sr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sr.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Ep(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case sr.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Ep(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case sr.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new Ep(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function PXe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=g.useContext(sx),i=tw(r),o=tw(n==null?void 0:n.id);return g.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!k_(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=_Je(d);if(h){h.focus();break}}})}},[r,t,a,o,i]),null}function pee(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function AXe(e){return g.useMemo(()=>({draggable:{...Ky.draggable,...e==null?void 0:e.draggable},droppable:{...Ky.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ky.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function TXe(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=g.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;xi(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=ZZ(d,r);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=tee(u);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,l,r,n])}const P_=g.createContext({...yi,scaleX:1,scaleY:1});var ml;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ml||(ml={}));const OXe=g.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=NXe,collisionDetection:h=UJe,measuring:f,modifiers:m,...v}=t;const p=g.useReducer(EXe,void 0,kXe),[x,y]=p,[b,w]=PJe(),[j,N]=g.useState(ml.Uninitialized),S=j===ml.Initialized,{draggable:{active:C,nodes:k,translate:E},droppable:{containers:A}}=x,P=C!=null?k.get(C):null,B=g.useRef({initial:null,translated:null}),U=g.useMemo(()=>{var Ct;return C!=null?{id:C,data:(Ct=P==null?void 0:P.data)!=null?Ct:SXe,rect:B}:null},[C,P]),I=g.useRef(null),[L,M]=g.useState(null),[$,R]=g.useState(null),F=Gg(v,Object.values(v)),D=rx("DndDescribedBy",o),H=g.useMemo(()=>A.getEnabled(),[A]),z=AXe(f),{droppableRects:_,measureDroppableContainers:O,measuringScheduled:T}=fXe(H,{dragging:S,dependencies:[E.x,E.y],config:z.droppable}),q=dXe(k,C),W=g.useMemo(()=>$?rw($):null,[$]),K=ps(),G=mXe(q,z.draggable.measure);TXe({activeNode:C!=null?k.get(C):null,config:K.layoutShiftCompensation,initialRect:G,measure:z.draggable.measure});const V=C6(q,z.draggable.measure,G),se=C6(q?q.parentElement:null),re=g.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),je=A.getNodeFor((n=re.current.over)==null?void 0:n.id),be=_Xe({measure:z.dragOverlay.measure}),ce=(r=be.nodeRef.current)!=null?r:q,Z=S?(a=be.rect)!=null?a:V:null,ge=!!(be.nodeRef.current&&be.rect),ke=vXe(ge?null:V),me=dee(ce?ms(ce):null),Ne=xXe(S?je??q:null),oe=jXe(Ne),de=pee(m,{transform:{x:E.x-ke.x,y:E.y-ke.y,scaleX:1,scaleY:1},activatorEvent:$,active:U,activeNodeRect:V,containerNodeRect:se,draggingNodeRect:Z,over:re.current.over,overlayNodeRect:be.rect,scrollableAncestors:Ne,scrollableAncestorRects:oe,windowRect:me}),Pe=W?lh(W,E):null,Ie=yXe(Ne),nt=E6(Ie),Q=E6(Ie,[V]),fe=lh(de,nt),Te=Z?VJe(Z,de):null,$e=U&&Te?h({active:U,collisionRect:Te,droppableRects:_,droppableContainers:H,pointerCoordinates:Pe}):null,Xe=LJe($e,"id"),[Yt,Gn]=g.useState(null),Yn=ge?de:lh(de,Q),zt=zJe(Yn,(i=Yt==null?void 0:Yt.rect)!=null?i:null,V),lr=g.useRef(null),Zt=g.useCallback((Ct,Kn)=>{let{sensor:xr,options:we}=Kn;if(I.current==null)return;const Le=k.get(I.current);if(!Le)return;const Qe=Ct.nativeEvent,Ot=new xr({active:I.current,activeNode:Le,event:Qe,options:we,context:re,onAbort(yr){if(!k.get(yr))return;const{onDragAbort:Si}=F.current,ro={id:yr};Si==null||Si(ro),b({type:"onDragAbort",event:ro})},onPending(yr,Go,Si,ro){if(!k.get(yr))return;const{onDragPending:im}=F.current,Yo={id:yr,constraint:Go,initialCoordinates:Si,offset:ro};im==null||im(Yo),b({type:"onDragPending",event:Yo})},onStart(yr){const Go=I.current;if(Go==null)return;const Si=k.get(Go);if(!Si)return;const{onDragStart:ro}=F.current,am={activatorEvent:Qe,active:{id:Go,data:Si.data,rect:B}};_s.unstable_batchedUpdates(()=>{ro==null||ro(am),N(ml.Initializing),y({type:sr.DragStart,initialCoordinates:yr,active:Go}),b({type:"onDragStart",event:am}),M(lr.current),R(Qe)})},onMove(yr){y({type:sr.DragMove,coordinates:yr})},onEnd:$n(sr.DragEnd),onCancel:$n(sr.DragCancel)});lr.current=Ot;function $n(yr){return async function(){const{active:Si,collisions:ro,over:am,scrollAdjustedTranslate:im}=re.current;let Yo=null;if(Si&&im){const{cancelDrop:om}=F.current;Yo={activatorEvent:Qe,active:Si,collisions:ro,delta:im,over:am},yr===sr.DragEnd&&typeof om=="function"&&await Promise.resolve(om(Yo))&&(yr=sr.DragCancel)}I.current=null,_s.unstable_batchedUpdates(()=>{y({type:yr}),N(ml.Uninitialized),Gn(null),M(null),R(null),lr.current=null;const om=yr===sr.DragEnd?"onDragEnd":"onDragCancel";if(Yo){const A_=F.current[om];A_==null||A_(Yo),b({type:om,event:Yo})}})}}},[k]),yt=g.useCallback((Ct,Kn)=>(xr,we)=>{const Le=xr.nativeEvent,Qe=k.get(we);if(I.current!==null||!Qe||Le.dndKit||Le.defaultPrevented)return;const Ot={active:Qe};Ct(xr,Kn.options,Ot)===!0&&(Le.dndKit={capturedBy:Kn.sensor},I.current=we,Zt(xr,Kn))},[k,Zt]),Ye=hXe(d,yt);bXe(d),xi(()=>{V&&j===ml.Initializing&&N(ml.Initialized)},[V,j]),g.useEffect(()=>{const{onDragMove:Ct}=F.current,{active:Kn,activatorEvent:xr,collisions:we,over:Le}=re.current;if(!Kn||!xr)return;const Qe={active:Kn,activatorEvent:xr,collisions:we,delta:{x:fe.x,y:fe.y},over:Le};_s.unstable_batchedUpdates(()=>{Ct==null||Ct(Qe),b({type:"onDragMove",event:Qe})})},[fe.x,fe.y]),g.useEffect(()=>{const{active:Ct,activatorEvent:Kn,collisions:xr,droppableContainers:we,scrollAdjustedTranslate:Le}=re.current;if(!Ct||I.current==null||!Kn||!Le)return;const{onDragOver:Qe}=F.current,Ot=we.get(Xe),$n=Ot&&Ot.rect.current?{id:Ot.id,rect:Ot.rect.current,data:Ot.data,disabled:Ot.disabled}:null,yr={active:Ct,activatorEvent:Kn,collisions:xr,delta:{x:Le.x,y:Le.y},over:$n};_s.unstable_batchedUpdates(()=>{Gn($n),Qe==null||Qe(yr),b({type:"onDragOver",event:yr})})},[Xe]),xi(()=>{re.current={activatorEvent:$,active:U,activeNode:q,collisionRect:Te,collisions:$e,droppableRects:_,draggableNodes:k,draggingNode:ce,draggingNodeRect:Z,droppableContainers:A,over:Yt,scrollableAncestors:Ne,scrollAdjustedTranslate:fe},B.current={initial:Z,translated:Te}},[U,q,$e,Te,k,ce,Z,_,A,Yt,Ne,fe]),lXe({...K,delta:E,draggingRect:Te,pointerCoordinates:Pe,scrollableAncestors:Ne,scrollableAncestorRects:oe});const qt=g.useMemo(()=>({active:U,activeNode:q,activeNodeRect:V,activatorEvent:$,collisions:$e,containerNodeRect:se,dragOverlay:be,draggableNodes:k,droppableContainers:A,droppableRects:_,over:Yt,measureDroppableContainers:O,scrollableAncestors:Ne,scrollableAncestorRects:oe,measuringConfiguration:z,measuringScheduled:T,windowRect:me}),[U,q,V,$,$e,se,be,k,A,_,Yt,O,Ne,oe,z,T,me]),Kt=g.useMemo(()=>({activatorEvent:$,activators:Ye,active:U,activeNodeRect:V,ariaDescribedById:{draggable:D},dispatch:y,draggableNodes:k,over:Yt,measureDroppableContainers:O}),[$,Ye,U,V,y,D,k,Yt,O]);return X.createElement(QZ.Provider,{value:w},X.createElement(sx.Provider,{value:Kt},X.createElement(mee.Provider,{value:qt},X.createElement(P_.Provider,{value:zt},u)),X.createElement(PXe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),X.createElement(OJe,{...l,hiddenTextDescribedById:D}));function ps(){const Ct=(L==null?void 0:L.autoScrollEnabled)===!1,Kn=typeof c=="object"?c.enabled===!1:c===!1,xr=S&&!Ct&&!Kn;return typeof c=="object"?{...c,enabled:xr}:{enabled:xr}}}),MXe=g.createContext(null),A6="button",DXe="Draggable";function IXe(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=rx(DXe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=g.useContext(sx),{role:m=A6,roleDescription:v="draggable",tabIndex:p=0}=a??{},x=(c==null?void 0:c.id)===t,y=g.useContext(x?P_:MXe),[b,w]=ew(),[j,N]=ew(),S=wXe(o,t),C=Gg(n);xi(()=>(h.set(t,{id:t,key:i,node:b,activatorNode:j,data:C}),()=>{const E=h.get(t);E&&E.key===i&&h.delete(t)}),[h,t]);const k=g.useMemo(()=>({role:m,tabIndex:p,"aria-disabled":r,"aria-pressed":x&&m===A6?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,p,x,v,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:x,listeners:r?void 0:S,node:b,over:f,setNodeRef:w,setActivatorNodeRef:N,transform:y}}function gee(){return g.useContext(mee)}const RXe="Droppable",$Xe={timeout:25};function vee(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=rx(RXe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=g.useContext(sx),d=g.useRef({disabled:n}),h=g.useRef(!1),f=g.useRef(null),m=g.useRef(null),{disabled:v,updateMeasurementsFor:p,timeout:x}={...$Xe,...a},y=Gg(p??r),b=g.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),m.current=null},x)},[x]),w=E_({callback:b,disabled:v||!o}),j=g.useCallback((k,E)=>{w&&(E&&(w.unobserve(E),h.current=!1),k&&w.observe(k))},[w]),[N,S]=ew(j),C=Gg(t);return g.useEffect(()=>{!w||!N.current||(w.disconnect(),h.current=!1,w.observe(N.current))},[N,w]),g.useEffect(()=>(l({type:sr.RegisterDroppable,element:{id:r,key:i,disabled:n,node:N,rect:f,data:C}}),()=>l({type:sr.UnregisterDroppable,key:i,id:r})),[r]),g.useEffect(()=>{n!==d.current.disabled&&(l({type:sr.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:S}}function LXe(e){let{animation:t,children:n}=e;const[r,a]=g.useState(null),[i,o]=g.useState(null),l=tw(n);return!n&&!r&&l&&a(l),xi(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,r,i]),X.createElement(X.Fragment,null,n,r?g.cloneElement(r,{ref:o}):null)}const FXe={x:0,y:0,scaleX:1,scaleY:1};function BXe(e){let{children:t}=e;return X.createElement(sx.Provider,{value:fee},X.createElement(P_.Provider,{value:FXe},t))}const UXe={position:"fixed",touchAction:"none"},zXe=e=>k_(e)?"transform 250ms ease":void 0,qXe=g.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:d=zXe}=e;if(!l)return null;const h=a?u:{...u,scaleX:1,scaleY:1},f={...UXe,width:l.width,height:l.height,top:l.top,left:l.left,transform:tc.Transform.toString(h),transformOrigin:a&&r?IJe(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return X.createElement(n,{className:o,style:f,ref:t},i)}),VXe=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},WXe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:tc.Transform.toString(t)},{transform:tc.Transform.toString(n)}]},HXe={duration:250,easing:"ease",keyframes:WXe,sideEffects:VXe({styles:{active:{opacity:"0"}}})};function GXe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return C_((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=hee(o);if(!u)return;const{transform:d}=ms(o).getComputedStyle(o),h=eee(d);if(!h)return;const f=typeof t=="function"?t:YXe(t);return oee(c,a.draggable.measure),f({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:a,transform:h})})}function YXe(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...HXe,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},f={x:c.x-d.x,y:c.y-d.y,...h},m=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:f}}),[v]=m,p=m[m.length-1];if(JSON.stringify(v)===JSON.stringify(p))return;const x=r==null?void 0:r({active:o,dragOverlay:l,...u}),y=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(b=>{y.onfinish=()=>{x==null||x(),b()}})}}let T6=0;function KXe(e){return g.useMemo(()=>{if(e!=null)return T6++,T6},[e])}const JXe=X.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggableNodes:v,droppableContainers:p,dragOverlay:x,over:y,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:j,windowRect:N}=gee(),S=g.useContext(P_),C=KXe(h==null?void 0:h.id),k=pee(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:x.rect,over:y,overlayNodeRect:x.rect,scrollableAncestors:w,scrollableAncestorRects:j,transform:S,windowRect:N}),E=yM(f),A=GXe({config:r,draggableNodes:v,droppableContainers:p,measuringConfiguration:b}),P=E?x.setRef:void 0;return X.createElement(BXe,null,X.createElement(LXe,{animation:A},h&&C?X.createElement(qXe,{key:C,id:h.id,ref:P,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:E,style:{zIndex:u,...a},transform:k},n):null))});function xee(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function XXe(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function vy(e){return e!==null&&e>=0}function QXe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ZXe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const yee=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=xee(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},xy={scaleX:1,scaleY:1},eQe=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const u=i[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...xy}:null}const c=tQe(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...xy}:a<n&&a>=o?{x:0,y:l.height+c,...xy}:{x:0,y:0,...xy}};function tQe(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const bee="Sortable",wee=X.createContext({activeIndex:-1,containerId:bee,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yee,disabled:{draggable:!1,droppable:!1}});function nQe(e){let{children:t,id:n,items:r,strategy:a=yee,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=gee(),h=rx(bee,n),f=l.rect!==null,m=g.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=o!=null,p=o?m.indexOf(o.id):-1,x=u?m.indexOf(u.id):-1,y=g.useRef(m),b=!QXe(m,y.current),w=x!==-1&&p===-1||b,j=ZXe(i);xi(()=>{b&&v&&d(m)},[b,m,v,d]),g.useEffect(()=>{y.current=m},[m]);const N=g.useMemo(()=>({activeIndex:p,containerId:h,disabled:j,disableTransforms:w,items:m,overIndex:x,useDragOverlay:f,sortedRects:XXe(m,c),strategy:a}),[p,h,j.draggable,j.droppable,w,m,x,c,f,a]);return X.createElement(wee.Provider,{value:N},t)}const rQe=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return xee(n,r,a).indexOf(t)},sQe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},aQe={duration:200,easing:"ease"},jee="transform",iQe=tc.Transition.toString({property:jee,duration:0,easing:"linear"}),oQe={roleDescription:"sortable"};function lQe(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=g.useState(null),l=g.useRef(n);return xi(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const u=sm(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,r,a]),g.useEffect(()=>{i&&o(null)},[i]),i}function cQe(e){let{animateLayoutChanges:t=sQe,attributes:n,disabled:r,data:a,getNewIndex:i=rQe,id:o,strategy:l,resizeObserverConfig:c,transition:u=aQe}=e;const{items:d,containerId:h,activeIndex:f,disabled:m,disableTransforms:v,sortedRects:p,overIndex:x,useDragOverlay:y,strategy:b}=g.useContext(wee),w=uQe(r,m),j=d.indexOf(o),N=g.useMemo(()=>({sortable:{containerId:h,index:j,items:d},...a}),[h,a,j,d]),S=g.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:k,isOver:E,setNodeRef:A}=vee({id:o,data:N,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:P,activatorEvent:B,activeNodeRect:U,attributes:I,setNodeRef:L,listeners:M,isDragging:$,over:R,setActivatorNodeRef:F,transform:D}=IXe({id:o,data:N,attributes:{...oQe,...n},disabled:w.draggable}),H=yJe(A,L),z=!!P,_=z&&!v&&vy(f)&&vy(x),O=!y&&$,T=O&&_?D:null,W=_?T??(l??b)({rects:p,activeNodeRect:U,activeIndex:f,overIndex:x,index:j}):null,K=vy(f)&&vy(x)?i({id:o,items:d,activeIndex:f,overIndex:x}):j,G=P==null?void 0:P.id,V=g.useRef({activeId:G,items:d,newIndex:K,containerId:h}),se=d!==V.current.items,re=t({active:P,containerId:h,isDragging:$,isSorting:z,id:o,index:j,items:d,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:u,wasDragging:V.current.activeId!=null}),je=lQe({disabled:!re,index:j,node:k,rect:C});return g.useEffect(()=>{z&&V.current.newIndex!==K&&(V.current.newIndex=K),h!==V.current.containerId&&(V.current.containerId=h),d!==V.current.items&&(V.current.items=d)},[z,K,h,d]),g.useEffect(()=>{if(G===V.current.activeId)return;if(G!=null&&V.current.activeId==null){V.current.activeId=G;return}const ce=setTimeout(()=>{V.current.activeId=G},50);return()=>clearTimeout(ce)},[G]),{active:P,activeIndex:f,attributes:I,data:N,rect:C,index:j,newIndex:K,items:d,isOver:E,isSorting:z,isDragging:$,listeners:M,node:k,overIndex:x,over:R,setNodeRef:H,setActivatorNodeRef:F,setDroppableNodeRef:A,setDraggableNodeRef:L,transform:je??W,transition:be()};function be(){if(je||se&&V.current.newIndex===j)return iQe;if(!(O&&!k_(B)||!u)&&(z||re))return tc.Transition.toString({...u,property:jee})}}function uQe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Vt.Down,Vt.Right,Vt.Up,Vt.Left;const O6={urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"};function M6({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a,onHide:i,currentUserId:o,isDragging:l=!1,assistants:c=[],teamMembers:u=[],chatbots:d=[],whatsappAgents:h=[],assignedToName:f,chatbotName:m,whatsappAgentName:v,createdByName:p}){const[x,y]=g.useState(!1),[b,w]=g.useState(!1),[j,N]=g.useState(!1),[S,C]=g.useState(e.title),[k,E]=g.useState(e.description||""),[A,P]=g.useState(e.priority),[B,U]=g.useState(e.due_date||""),[I,L]=g.useState(e.assistant_id||""),[M,$]=g.useState(e.assigned_to||""),[R,F]=g.useState(e.chatbot_id||""),[D,H]=g.useState(e.whatsapp_agent_id||""),[z,_]=g.useState(!1),{attributes:O,listeners:T,setNodeRef:q,transform:W,transition:K,isDragging:G}=cQe({id:e.id}),V={transform:tc.Transform.toString(W),transition:K},se=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})},...c.filter(me=>me.id).map(me=>({value:me.id,label:me.name||"Unnamed Assistant",icon:s.jsx(Ze,{className:"h-4 w-4"})}))],[c]),re=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(_n,{className:"h-4 w-4 text-muted-foreground"})},...u.filter(me=>me.user_id).map(me=>({value:me.user_id,label:me.user_name||me.email||me.user_id,icon:s.jsx(_n,{className:"h-4 w-4"})}))],[u]),je=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})},...d.filter(me=>me.id).map(me=>({value:me.id,label:me.name||"Unnamed Chatbot",icon:s.jsx(Ze,{className:"h-4 w-4"})}))],[d]),be=g.useMemo(()=>[{value:"__unassigned__",label:"Unassigned",icon:s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})},...h.filter(me=>me.id).map(me=>({value:me.id,label:me.name||me.phone_number||"Unnamed Agent",icon:s.jsx(Ht,{className:"h-4 w-4"})}))],[h]),ce=async()=>{_(!0);try{const me=c.find(oe=>oe.id===I),{error:Ne}=await Y.from("voice_assistant_tasks").update({title:S,description:k,priority:A,due_date:B||null,assistant_id:I||null,org_id:(me==null?void 0:me.org_id)||null,assigned_to:M||null,chatbot_id:R||null,whatsapp_agent_id:D||null}).eq("id",e.id);if(Ne)throw Ne;r({...e,title:S,description:k,priority:A,due_date:B||null,assistant_id:I||null,org_id:(me==null?void 0:me.org_id)||null,assigned_to:M||null,chatbot_id:R||null,whatsapp_agent_id:D||null}),pe.success("Task updated"),w(!1)}catch(me){console.error("Error updating task:",me),pe.error("Failed to update task")}finally{_(!1)}},Z=()=>{C(e.title),E(e.description||""),P(e.priority),U(e.due_date||""),L(e.assistant_id||""),$(e.assigned_to||""),F(e.chatbot_id||""),H(e.whatsapp_agent_id||""),w(!1)},ge=async()=>{const me=e.user_id===o,Ne=e.is_team_shared||e.assigned_to;if(confirm(Ne&&!me?"This will remove the task from your view only. Other team members will still see it. Continue?":"Are you sure you want to delete this task? This action cannot be undone."))try{if(Ne&&!me){const{error:de}=await Y.from("task_hidden_by_users").insert({task_id:e.id,user_id:o});if(de)throw de;i==null||i(e.id),pe.success("Task removed from your view")}else{const{error:de}=await Y.from("voice_assistant_tasks").delete().eq("id",e.id);if(de)throw de;a(e.id),pe.success("Task deleted")}}catch(de){console.error("Error deleting/hiding task:",de),pe.error("Failed to remove task")}},ke=me=>{me.target.closest("button")||me.target.closest("[data-drag-handle]")||me.target.closest("input")||me.target.closest("textarea")||me.target.closest("[data-radix-select-trigger]")||me.target.closest('[role="menu"]')||b||y(!x)};return s.jsx(J,{ref:q,style:V,className:ye("transition-all hover:shadow-md",(l||G)&&"opacity-50 shadow-lg",x&&"ring-1 ring-primary/20"),children:s.jsxs(ee,{className:"p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{...O,...T,"data-drag-handle":!0,className:"mt-1 cursor-grab active:cursor-grabbing",children:s.jsx(nse,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:ke,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-2 flex-1",children:e.title}),x?s.jsx($P,{className:"h-4 w-4 text-muted-foreground shrink-0"}):s.jsx(ic,{className:"h-4 w-4 text-muted-foreground shrink-0"})]}),!x&&e.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:e.description})]}),s.jsxs(l_,{children:[s.jsx(c_,{asChild:!0,children:s.jsx(te,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:s.jsx(BP,{className:"h-3 w-3"})})}),s.jsxs(Wv,{align:"end",children:[s.jsxs(Ui,{onClick:()=>{y(!0),w(!0)},children:[s.jsx(bb,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(u_,{}),s.jsxs(Ui,{onClick:ge,className:"text-destructive",children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),!x&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-6",children:[s.jsx(xe,{variant:"secondary",className:ye("text-xs",O6[e.priority]),children:e.priority}),e.assistant_id&&t&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-purple-500/10 text-purple-400 border-purple-500/30",children:[s.jsx(Ze,{className:"h-3 w-3"}),t]}),e.chatbot_id&&m&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-blue-500/10 text-blue-400 border-blue-500/30",children:[s.jsx(Ze,{className:"h-3 w-3"}),m]}),e.whatsapp_agent_id&&v&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-green-500/10 text-green-400 border-green-500/30",children:[s.jsx(Ht,{className:"h-3 w-3"}),v]}),e.assigned_to&&f&&s.jsxs(xe,{variant:"outline",className:"text-xs flex items-center gap-1 bg-orange-500/10 text-orange-400 border-orange-500/30",children:[s.jsx(_n,{className:"h-3 w-3"}),f]}),e.due_date&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(e.due_date),"MMM d")]})]}),x&&s.jsx("div",{className:"pl-6 space-y-4 pt-2 border-t mt-2",children:b?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Title"}),s.jsx(he,{value:S,onChange:me=>C(me.target.value),placeholder:"Task title",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-xs",children:"Description"}),s.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>N(!0),title:"Expand editor",children:s.jsx(Kp,{className:"h-3 w-3"})})]}),s.jsx(dt,{value:k,onChange:me=>E(me.target.value),placeholder:"Task description",rows:3,className:"text-sm resize-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Assistant"}),s.jsx(Tl,{options:se,value:I||"__unassigned__",onValueChange:me=>L(me==="__unassigned__"?"":me),placeholder:"Select assistant",searchPlaceholder:"Search assistants...",emptyMessage:"No assistants found.",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Assign to Team Member"}),s.jsx(Tl,{options:re,value:M||"__unassigned__",onValueChange:me=>$(me==="__unassigned__"?"":me),placeholder:"Select team member",searchPlaceholder:"Search team members...",emptyMessage:"No team members found.",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Chatbot"}),s.jsx(Tl,{options:je,value:R||"__unassigned__",onValueChange:me=>F(me==="__unassigned__"?"":me),placeholder:"Select chatbot",searchPlaceholder:"Search chatbots...",emptyMessage:"No chatbots found.",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"WhatsApp Agent"}),s.jsx(Tl,{options:be,value:D||"__unassigned__",onValueChange:me=>H(me==="__unassigned__"?"":me),placeholder:"Select WhatsApp agent",searchPlaceholder:"Search WhatsApp agents...",emptyMessage:"No WhatsApp agents found.",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Priority"}),s.jsxs(He,{value:A,onValueChange:P,children:[s.jsx(Ve,{className:"h-8 text-sm",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"low",children:"Low"}),s.jsx(ue,{value:"medium",children:"Medium"}),s.jsx(ue,{value:"high",children:"High"}),s.jsx(ue,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Due Date"}),s.jsx(he,{type:"date",value:B,onChange:me=>U(me.target.value),className:"h-8 text-sm"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsxs(te,{variant:"ghost",size:"sm",onClick:Z,className:"h-7 text-xs",children:[s.jsx(Qi,{className:"h-3 w-3 mr-1"}),"Cancel"]}),s.jsxs(te,{size:"sm",onClick:ce,disabled:z,className:"h-7 text-xs",children:[s.jsx(Pa,{className:"h-3 w-3 mr-1"}),z?"Saving...":"Save"]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Description"}),e.description&&e.description.length>100&&s.jsx(te,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>N(!0),title:"Expand description",children:s.jsx(Kp,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap max-h-32 overflow-y-auto",children:e.description||s.jsx("span",{className:"text-muted-foreground italic",children:"No description"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Priority"}),s.jsx(xe,{variant:"secondary",className:ye("text-xs",O6[e.priority]),children:e.priority})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Due Date"}),s.jsx("p",{className:"text-sm",children:e.due_date?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(e.due_date),"MMM d, yyyy")]}):s.jsx("span",{className:"text-muted-foreground italic",children:"No due date"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Assistant"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(_n,{className:"h-3 w-3"}),t]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Organization"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(Sw,{className:"h-3 w-3"}),n]})]}),s.jsxs("div",{className:"space-y-1 col-span-2",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Assigned To"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(_n,{className:"h-3 w-3"}),f||s.jsx("span",{className:"text-muted-foreground italic",children:"Unassigned"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Chatbot"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(Ze,{className:"h-3 w-3"}),m||s.jsx("span",{className:"text-muted-foreground italic",children:"Unassigned"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"WhatsApp Agent"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(Ht,{className:"h-3 w-3"}),v||s.jsx("span",{className:"text-muted-foreground italic",children:"Unassigned"})]})]}),s.jsxs("div",{className:"space-y-1 col-span-2",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Created By"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(_n,{className:"h-3 w-3"}),p||s.jsx("span",{className:"text-muted-foreground italic",children:"Unknown"})]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[s.jsxs("p",{children:["Created: ",ct(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]}),e.updated_at!==e.created_at&&s.jsxs("p",{children:["Updated: ",ct(new Date(e.updated_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>w(!0),className:"h-7 text-xs",children:[s.jsx(bb,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:ge,className:"h-7 text-xs text-destructive hover:text-destructive",children:[s.jsx($t,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})}),s.jsx(zn,{open:j,onOpenChange:N,children:s.jsxs(Dn,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(In,{children:s.jsx(Rn,{children:"Task Description"})}),b?s.jsx(dt,{value:k,onChange:me=>E(me.target.value),placeholder:"Task description...",className:"min-h-[50vh] text-sm"}):s.jsx("div",{className:"min-h-[30vh] max-h-[60vh] overflow-y-auto",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.description||s.jsx("span",{className:"text-muted-foreground italic",children:"No description"})})})]})})]})})}function dQe({id:e,title:t,color:n,count:r,children:a,isDragging:i}){const{setNodeRef:o,isOver:l}=vee({id:e});return s.jsxs("div",{ref:o,className:ye("rounded-lg border-2 border-dashed transition-all",n,l&&"ring-2 ring-primary ring-offset-2 scale-[1.02]",i&&"bg-muted/50"),style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[s.jsx("div",{className:ye("p-3 border-b rounded-t-lg",n.replace("border-","bg-").replace("/20","/30")),style:{flexShrink:0},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:t}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground bg-background px-2 py-0.5 rounded-full",children:r})]})}),s.jsxs("div",{className:"p-2 space-y-2",style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:[a,r===0&&s.jsx("div",{className:"flex items-center justify-center h-24 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:"Drop tasks here"})]})]})}const yy=[{id:"pending",title:"Pending",color:"bg-yellow-500/10 border-yellow-500/20"},{id:"in_progress",title:"In Progress",color:"bg-blue-500/10 border-blue-500/20"},{id:"completed",title:"Completed",color:"bg-green-500/10 border-green-500/20"},{id:"cancelled",title:"Cancelled",color:"bg-gray-500/10 border-gray-500/20"}];function hQe({tasks:e,getAssistantName:t,getOrgName:n,getAssignedToName:r,getChatbotName:a,getWhatsappAgentName:i,getCreatedByName:o,onTaskUpdated:l,onTaskDeleted:c,onTaskHidden:u,currentUserId:d,assistants:h=[],teamMembers:f=[],chatbots:m=[],whatsappAgents:v=[]}){const[p,x]=g.useState(null),[y,b]=g.useState(!1),w=MJe(y6(xM,{activationConstraint:{distance:5}}),y6(uee,{activationConstraint:{delay:200,tolerance:5}})),j=yy.reduce((C,k)=>(C[k.id]=e.filter(E=>E.status===k.id),C),{}),N=C=>{const k=e.find(E=>E.id===C.active.id);k&&(x(k),b(!0),navigator.vibrate&&navigator.vibrate(50))},S=async C=>{var M;const{active:k,over:E}=C;if(x(null),b(!1),!E)return;const A=k.id;let P=E.id;const B=e.find($=>$.id===E.id);if(B&&(P=B.status),!yy.find($=>$.id===P))return;const U=e.find($=>$.id===A);if(!U||U.status===P)return;const I={...U,status:P};l(I);const L=async($,R)=>{if(R)if(P==="completed"){const{data:F}=await Y.from("changelog_entries").select("id").eq("entity_id",R).eq("title",U.title).eq("entity_type",$).single();if(F)await Y.from("changelog_entries").update({change_type:"update",status:"completed"}).eq("id",F.id);else{const D=d||U.user_id;console.log("Creating changelog entry:",{entityType:$,entityId:R,title:U.title,userId:D});const{error:H}=await Y.from("changelog_entries").insert({user_id:D,entity_type:$,entity_id:R,change_type:"update",title:U.title,description:U.description,status:"completed",source:"manual"});H&&console.error("Failed to create changelog entry:",H)}}else await Y.from("changelog_entries").update({status:P}).eq("entity_id",R).eq("title",U.title).eq("entity_type",$)};try{const{error:$}=await Y.from("voice_assistant_tasks").update({status:P}).eq("id",A);$?(pe.error("Failed to update task status"),l(U)):(console.log("Task agents for changelog:",{assistant_id:U.assistant_id,chatbot_id:U.chatbot_id,whatsapp_agent_id:U.whatsapp_agent_id}),await Promise.all([L("voice_assistant",U.assistant_id),L("chatbot",U.chatbot_id),L("whatsapp_agent",U.whatsapp_agent_id)]),pe.success(`Moved to ${(M=yy.find(R=>R.id===P))==null?void 0:M.title}`))}catch($){console.error("Error updating task:",$),pe.error("Failed to update task status"),l(U)}};return s.jsx("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:s.jsxs(OXe,{sensors:w,collisionDetection:FJe,onDragStart:N,onDragEnd:S,measuring:{droppable:{strategy:gf.Always}},children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",style:{flex:1,minHeight:0,height:"100%"},children:yy.map(C=>{var k,E,A;return s.jsx(dQe,{id:C.id,title:C.title,color:C.color,count:((k=j[C.id])==null?void 0:k.length)||0,isDragging:y,children:s.jsx(nQe,{items:((E=j[C.id])==null?void 0:E.map(P=>P.id))||[],strategy:eQe,children:(A=j[C.id])==null?void 0:A.map(P=>s.jsx(M6,{task:P,assistantName:t(P.assistant_id),orgName:n(P.org_id,P.team_org_id),assignedToName:r==null?void 0:r(P.assigned_to),chatbotName:a==null?void 0:a(P.chatbot_id),whatsappAgentName:i==null?void 0:i(P.whatsapp_agent_id),createdByName:o==null?void 0:o(P.user_id),onUpdate:l,onDelete:c,onHide:u,currentUserId:d,assistants:h,teamMembers:f,chatbots:m,whatsappAgents:v},P.id))})},C.id)})}),s.jsx(JXe,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:p?s.jsx("div",{className:"rotate-3 scale-105 shadow-2xl",children:s.jsx(M6,{task:p,assistantName:t(p.assistant_id),orgName:n(p.org_id,p.team_org_id),assignedToName:r==null?void 0:r(p.assigned_to),chatbotName:a==null?void 0:a(p.chatbot_id),whatsappAgentName:i==null?void 0:i(p.whatsapp_agent_id),createdByName:o==null?void 0:o(p.user_id),onUpdate:l,onDelete:c,onHide:u,currentUserId:d,isDragging:!0,assistants:h,teamMembers:f,chatbots:m,whatsappAgents:v})}):null})]})})}const fQe=()=>{const{user:e}=Ut(),[t,n]=g.useState([]),[r,a]=g.useState(new Set),[i,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState([]),[h,f]=g.useState([]),[m,v]=g.useState([]),[p,x]=g.useState([]),[y,b]=g.useState(!0),[w,j]=g.useState(""),[N,S]=g.useState("all"),[C,k]=g.useState("all"),[E,A]=g.useState("all"),[P,B]=g.useState("created_at"),[U,I]=g.useState("kanban");g.useEffect(()=>{e&&L()},[e]);const L=async()=>{b(!0);try{const{data:K}=await Y.from("voice_connections").select("*").eq("user_id",e==null?void 0:e.id);c(K||[]);const{data:G}=await Y.from("voice_assistants").select("id, name, org_id").eq("user_id",e==null?void 0:e.id);o(G||[]);const{data:V}=await Y.from("team_members").select("user_id, email");let se=[];if(V){const Ne=[...new Set(V.map(de=>de.user_id))],{data:oe}=await Y.from("profiles").select("user_id, full_name, email").in("user_id",Ne);se=Ne.map(de=>{const Pe=V.find(nt=>nt.user_id===de),Ie=oe==null?void 0:oe.find(nt=>nt.user_id===de);return{user_id:de,email:(Pe==null?void 0:Pe.email)||(Ie==null?void 0:Ie.email),user_name:Ie==null?void 0:Ie.full_name}})}const{data:re}=await Y.from("chatbots").select("id, name").order("name");f(re||[]);const{data:je}=await Y.from("whatsapp_agents").select("id, name, phone_number").order("name");v(je||[]);const{data:be}=await Y.from("team_organizations").select("id, name").order("name");x(be||[]);const{data:ce}=await Y.from("task_hidden_by_users").select("task_id").eq("user_id",e==null?void 0:e.id),Z=new Set((ce||[]).map(Ne=>Ne.task_id));a(Z);const{data:ge,error:ke}=await Y.from("voice_assistant_tasks").select("*").order("created_at",{ascending:!1});if(ke)throw ke;const me=(ge||[]).filter(Ne=>!Z.has(Ne.id));if(n(me),ge&&ge.length>0){const Ne=new Set;ge.forEach(de=>{de.user_id&&Ne.add(de.user_id),de.assigned_to&&Ne.add(de.assigned_to)});const oe=Array.from(Ne);if(oe.length>0){const{data:de}=await Y.from("profiles").select("user_id, full_name, email").in("user_id",oe);if(de){const Pe=new Set(se.map(Ie=>Ie.user_id));de.forEach(Ie=>{Pe.has(Ie.user_id)||se.push({user_id:Ie.user_id,email:Ie.email||void 0,user_name:Ie.full_name||void 0})})}}}d(se)}catch(K){console.error("Error fetching data:",K),pe.error("Failed to load tasks")}finally{b(!1)}},M=K=>{n(G=>[K,...G])},$=K=>{n(G=>G.map(V=>V.id===K.id?K:V))},R=K=>{n(G=>G.filter(V=>V.id!==K))},F=K=>{a(G=>new Set([...G,K])),n(G=>G.filter(V=>V.id!==K))},D=K=>{if(!K)return"Unassigned";const G=i.find(V=>V.id===K);return(G==null?void 0:G.name)||"Unknown Assistant"},H=(K,G)=>{if(G){const V=p.find(se=>se.id===G);if(V)return V.name}if(K){const V=p.find(se=>se.id===K);if(V)return V.name}return p.length>0?p[0].name:"No Organization"},z=K=>{if(!K)return"";const G=u.find(V=>V.user_id===K);return G!=null&&G.user_name?G.user_name:G!=null&&G.email?G.email:`User ${K.slice(0,8)}...`},_=K=>{if(!K)return"";const G=h.find(V=>V.id===K);return(G==null?void 0:G.name)||"Unknown Chatbot"},O=K=>{if(!K)return"";const G=m.find(V=>V.id===K);return(G==null?void 0:G.name)||(G==null?void 0:G.phone_number)||"Unknown Agent"},T=K=>{if(!K)return"Unknown";const G=u.find(V=>V.user_id===K);return G!=null&&G.user_name?G.user_name:G!=null&&G.email?G.email:`User ${K.slice(0,8)}...`},q=t.filter(K=>{var ce;const G=D(K.assistant_id).toLowerCase(),V=w.toLowerCase(),se=K.title.toLowerCase().includes(V)||(((ce=K.description)==null?void 0:ce.toLowerCase().includes(V))??!1)||G.includes(V),re=N==="all"||K.status===N,je=C==="all"||K.priority===C,be=E==="all"||K.org_id===E;return se&&re&&je&&be}).sort((K,G)=>{switch(P){case"due_date":return!K.due_date&&!G.due_date?0:K.due_date?G.due_date?new Date(K.due_date).getTime()-new Date(G.due_date).getTime():-1:1;case"priority":const V={urgent:0,high:1,medium:2,low:3};return(V[K.priority]||2)-(V[G.priority]||2);case"created_at":default:return new Date(G.created_at).getTime()-new Date(K.created_at).getTime()}}),W={total:t.length,pending:t.filter(K=>K.status==="pending").length,inProgress:t.filter(K=>K.status==="in_progress").length,completed:t.filter(K=>K.status==="completed").length,overdue:t.filter(K=>K.due_date&&new Date(K.due_date)<new Date&&K.status!=="completed").length};return y?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"flex flex-col h-[calc(100vh-120px)] overflow-hidden",children:[s.jsxs("div",{className:"flex items-start justify-between flex-shrink-0 mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Task Manager"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage tasks for your voice assistants across all organizations"})]}),s.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",children:[s.jsxs(te,{variant:U==="kanban"?"default":"ghost",size:"sm",onClick:()=>I("kanban"),className:"gap-2",children:[s.jsx(ase,{className:"h-4 w-4"}),"Board"]}),s.jsxs(te,{variant:U==="list"?"default":"ghost",size:"sm",onClick:()=>I("list"),className:"gap-2",children:[s.jsx(ose,{className:"h-4 w-4"}),"List"]})]})]}),s.jsx(J,{className:"flex-shrink-0 mb-4 border-dashed",children:s.jsxs(ee,{className:"pt-4",children:[s.jsx(CJ,{onTaskCreated:M,placeholder:"What needs to be done? Press Enter to add..."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Click on a task to assign it to an assistant"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 flex-shrink-0 mb-4",children:[s.jsx(J,{children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rC,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Tasks"})]})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W.inProgress}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W.completed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-4 w-4 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W.overdue}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overdue"})]})]})})})]}),U==="list"&&s.jsx(J,{className:"flex-shrink-0 mb-4",children:s.jsx(ee,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx(xJe,{searchQuery:w,onSearchChange:j,assistants:i,connections:l}),s.jsxs(He,{value:N,onValueChange:S,children:[s.jsx(Ve,{className:"w-full md:w-[150px]",children:s.jsx(Ge,{placeholder:"Status"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Status"}),s.jsx(ue,{value:"pending",children:"Pending"}),s.jsx(ue,{value:"in_progress",children:"In Progress"}),s.jsx(ue,{value:"completed",children:"Completed"}),s.jsx(ue,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(He,{value:C,onValueChange:k,children:[s.jsx(Ve,{className:"w-full md:w-[150px]",children:s.jsx(Ge,{placeholder:"Priority"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Priority"}),s.jsx(ue,{value:"urgent",children:"Urgent"}),s.jsx(ue,{value:"high",children:"High"}),s.jsx(ue,{value:"medium",children:"Medium"}),s.jsx(ue,{value:"low",children:"Low"})]})]}),s.jsxs(He,{value:E,onValueChange:A,children:[s.jsx(Ve,{className:"w-full md:w-[180px]",children:s.jsx(Ge,{placeholder:"Organization"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Organizations"}),l.filter(K=>K.org_id).map(K=>s.jsx(ue,{value:K.org_id,children:K.org_name||K.org_id||"Unknown"},K.id))]})]}),s.jsxs(He,{value:P,onValueChange:B,children:[s.jsx(Ve,{className:"w-full md:w-[150px]",children:s.jsx(Ge,{placeholder:"Sort by"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"created_at",children:"Newest First"}),s.jsx(ue,{value:"due_date",children:"Due Date"}),s.jsx(ue,{value:"priority",children:"Priority"})]})]})]})})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:U==="kanban"?s.jsx(hQe,{tasks:q,getAssistantName:D,getOrgName:H,getAssignedToName:z,getChatbotName:_,getWhatsappAgentName:O,getCreatedByName:T,onTaskUpdated:$,onTaskDeleted:R,onTaskHidden:F,currentUserId:e==null?void 0:e.id,assistants:i,teamMembers:u,chatbots:h,whatsappAgents:m}):s.jsx("div",{className:"space-y-4 h-full overflow-y-auto pr-2",children:q.length===0?s.jsx(J,{children:s.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(rC,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tasks found"}),s.jsx("p",{className:"text-muted-foreground text-center",children:t.length===0?"Use the quick add above to create your first task":"No tasks match your current filters"})]})}):q.map(K=>s.jsx(vJe,{task:K,assistantName:D(K.assistant_id),orgName:H(K.org_id,K.team_org_id),chatbotName:_(K.chatbot_id),whatsappAgentName:O(K.whatsapp_agent_id),assignedToName:z(K.assigned_to),onUpdate:$,onDelete:R,onHide:F,currentUserId:e==null?void 0:e.id},K.id))})})]})};function mQe(){const{user:e,loading:t}=Ut(),[n,r]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,h]=g.useState("all"),[f,m]=g.useState(null),[v,p]=g.useState(""),[x,y]=g.useState(!1),[b,w]=g.useState([]),[j,N]=g.useState([]),[S,C]=g.useState([]),k=async()=>{if(e)try{i(!0);const{data:F,error:D}=await Y.from("support_tickets").select("*").order("created_at",{ascending:!1});if(D){console.error("Error fetching tickets:",D),pe.error("Failed to load support tickets");return}const H=await Promise.all((F||[]).map(async z=>{const{data:_}=await Y.from("support_ticket_messages").select("*").eq("ticket_id",z.id).order("created_at",{ascending:!0});return{...z,messages:(_||[]).map(O=>({id:O.id,content:O.content,sender_type:O.sender_type,sender_name:O.sender_name,created_at:O.created_at}))}}));r(H),console.log("Fetched tickets:",H)}catch(F){console.error("Error:",F),pe.error("Failed to load support tickets")}finally{i(!1)}},E=async()=>{if(e!=null&&e.id)try{const{data:F,error:D}=await Y.from("team_members").select("team_org_id, user_id, role").eq("user_id",e.id);if(D)throw D;if(F&&F.length>0){const H=F.map(W=>W.team_org_id),{data:z,error:_}=await Y.from("team_members").select("team_org_id, user_id, role").in("team_org_id",H);if(_)throw _;w(z||[]);const{data:O,error:T}=await Y.from("team_organizations").select("id, name").in("id",H);if(T)throw T;N(O||[]);const q=[...new Set((z||[]).map(W=>W.user_id))];if(q.length>0){const{data:W,error:K}=await Y.from("profiles").select("id, full_name, email").in("id",q);if(K)throw K;C(W||[])}}}catch(F){console.error("Error fetching team data:",F)}},A=F=>{var _;if(!F.user_id)return{ownerName:"Unknown",teamName:null,isOwn:!1};if(F.user_id===(e==null?void 0:e.id))return{ownerName:"You",teamName:null,isOwn:!0};const D=S.find(O=>O.id===F.user_id),H=(D==null?void 0:D.full_name)||((_=D==null?void 0:D.email)==null?void 0:_.split("@")[0])||"Unknown",z=b.find(O=>O.user_id===F.user_id&&b.some(T=>T.team_org_id===O.team_org_id&&T.user_id===(e==null?void 0:e.id)));if(z){const O=j.find(T=>T.id===z.team_org_id);return{ownerName:H,teamName:(O==null?void 0:O.name)||null,isOwn:!1}}return{ownerName:H,teamName:null,isOwn:!1}};if(g.useEffect(()=>{if(e){k(),E();const F=Y.channel("support-tickets-changes").on("postgres_changes",{event:"*",schema:"public",table:"support_tickets"},()=>{k()}).subscribe();return()=>{Y.removeChannel(F)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(Os,{to:"/auth",replace:!0});const P=F=>{switch(F){case"open":return s.jsx(ui,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(Dt,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(Gr,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(ui,{className:"h-4 w-4"})}},B=F=>{const D={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(xe,{variant:D[F]||"default",className:"capitalize",children:F.replace("_"," ")})},U=F=>{const D={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(xe,{className:`${D[F]||""} capitalize`,variant:"outline",children:F})},I=n.filter(F=>{const D=F.subject.toLowerCase().includes(o.toLowerCase())||F.customer_name.toLowerCase().includes(o.toLowerCase())||F.customer_email.toLowerCase().includes(o.toLowerCase()),H=c==="all"||F.status===c,z=d==="all"||F.priority===d;return D&&H&&z}),L=async(F,D)=>{const{error:H}=await Y.from("support_tickets").update({status:D}).eq("id",F);if(H){pe.error("Failed to update status");return}r(z=>z.map(_=>_.id===F?{..._,status:D,updated_at:new Date().toISOString()}:_)),(f==null?void 0:f.id)===F&&m(z=>z?{...z,status:D}:null),pe.success("Ticket status updated")},M=async()=>{if(!(!v.trim()||!f)){y(!0);try{const{data:F,error:D}=await Y.from("support_ticket_messages").insert({ticket_id:f.id,content:v,sender_type:"agent",sender_name:"Support Team"}).select().single();if(D){pe.error("Failed to send reply");return}const H={id:F.id,content:F.content,sender_type:F.sender_type,sender_name:F.sender_name,created_at:F.created_at};r(z=>z.map(_=>_.id===f.id?{..._,messages:[..._.messages,H],updated_at:new Date().toISOString()}:_)),m(z=>z?{...z,messages:[...z.messages,H]}:null),p(""),pe.success("Reply sent successfully");try{await Xhe({ticket_id:f.id,ticket_subject:f.subject,customer_email:f.customer_email,customer_name:f.customer_name,reply_content:v,agent_name:"Support Team"}),console.log("Email notification sent to customer")}catch(z){console.error("Failed to send email notification:",z)}}finally{y(!1)}}},$=n.filter(F=>F.status==="open").length,R=n.filter(F=>F.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage support requests from the customer portal"})]}),s.jsxs(te,{variant:"outline",onClick:k,disabled:a,children:[s.jsx(Ps,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(sa,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:$})]}),s.jsx(ui,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R})]}),s.jsx(Dt,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(F=>F.status==="resolved"||F.status==="closed").length})]}),s.jsx(Gr,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search tickets...",value:o,onChange:F=>l(F.target.value),className:"pl-10"})]}),s.jsxs(He,{value:c,onValueChange:u,children:[s.jsx(Ve,{className:"w-full md:w-40",children:s.jsx(Ge,{placeholder:"Status"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Status"}),s.jsx(ue,{value:"open",children:"Open"}),s.jsx(ue,{value:"in_progress",children:"In Progress"}),s.jsx(ue,{value:"resolved",children:"Resolved"}),s.jsx(ue,{value:"closed",children:"Closed"})]})]}),s.jsxs(He,{value:d,onValueChange:h,children:[s.jsx(Ve,{className:"w-full md:w-40",children:s.jsx(Ge,{placeholder:"Priority"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Priority"}),s.jsx(ue,{value:"urgent",children:"Urgent"}),s.jsx(ue,{value:"high",children:"High"}),s.jsx(ue,{value:"medium",children:"Medium"}),s.jsx(ue,{value:"low",children:"Low"})]})]})]})})}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{children:["Tickets (",I.length,")"]}),s.jsx(Se,{children:"Click on a ticket to view details and respond"})]}),s.jsx(ee,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):I.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(sa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets found"}),s.jsx("p",{className:"text-muted-foreground",children:o||c!=="all"||d!=="all"?"Try adjusting your filters":"Support tickets from customers will appear here"})]}):s.jsx("div",{className:"space-y-3",children:I.map(F=>{const D=A(F);return s.jsx("div",{onClick:()=>m(F),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[P(F.status),s.jsx("h4",{className:"font-medium truncate",children:F.subject}),D.isOwn?s.jsx(xe,{variant:"outline",className:"text-xs shrink-0",children:"Your ticket"}):s.jsxs(xe,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[s.jsx(dn,{className:"h-2.5 w-2.5"}),D.ownerName,D.teamName&&s.jsxs("span",{className:"text-muted-foreground",children:["(",D.teamName,")"]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:F.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"h-3 w-3"}),F.customer_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(F.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"h-3 w-3"}),F.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[B(F.status),U(F.priority)]})]})},F.id)})})})]}),s.jsx(zn,{open:!!f,onOpenChange:F=>!F&&m(null),children:s.jsx(Dn,{className:"max-w-2xl max-h-[90vh]",children:f&&s.jsxs(s.Fragment,{children:[s.jsx(In,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Rn,{children:f.subject}),s.jsxs(la,{className:"mt-1",children:["From ",f.customer_name," (",f.customer_email,")"]}),(()=>{const F=A(f);return s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Managed by:"}),F.isOwn?s.jsx(xe,{variant:"outline",className:"text-xs",children:"You"}):s.jsxs(xe,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[s.jsx(dn,{className:"h-2.5 w-2.5"}),F.ownerName,F.teamName&&s.jsxs("span",{children:["(",F.teamName,")"]})]})]})})()]}),s.jsxs("div",{className:"flex gap-2",children:[B(f.status),U(f.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(He,{value:f.status,onValueChange:F=>L(f.id,F),children:[s.jsx(Ve,{className:"w-40",children:s.jsx(Ge,{})}),s.jsxs(We,{children:[s.jsx(ue,{value:"open",children:"Open"}),s.jsx(ue,{value:"in_progress",children:"In Progress"}),s.jsx(ue,{value:"resolved",children:"Resolved"}),s.jsx(ue,{value:"closed",children:"Closed"})]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",ct(new Date(f.created_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsx(ls,{}),s.jsx($a,{className:"h-64",children:s.jsxs("div",{className:"space-y-4 pr-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:f.customer_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ct(new Date(f.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:f.description})]}),f.messages.map(F=>s.jsxs("div",{className:`p-3 rounded-lg ${F.sender_type==="customer"?"bg-muted":"bg-primary/10 ml-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:F.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ct(new Date(F.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:F.content})]},F.id))]})}),s.jsx(ls,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(dt,{placeholder:"Type your reply...",value:v,onChange:F=>p(F.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsx(te,{onClick:M,disabled:!v.trim()||x,children:x?"Sending...":"Send Reply"})})]})]})]})})})]})}function pQe(){const{customer:e,loading:t}=hs(),[n,r]=g.useState([]),[a,i]=g.useState(!0),[o,l]=g.useState(null),[c,u]=g.useState(""),[d,h]=g.useState(!1),f=async()=>{if(e)try{i(!0);const{data:b,error:w}=await Y.from("support_tickets").select("*").eq("customer_id",e.id).order("created_at",{ascending:!1});if(w){console.error("Error fetching tickets:",w),pe.error("Failed to load support tickets");return}const j=await Promise.all((b||[]).map(async N=>{const{data:S}=await Y.from("support_ticket_messages").select("*").eq("ticket_id",N.id).order("created_at",{ascending:!0});return{...N,messages:(S||[]).map(C=>({id:C.id,content:C.content,sender_type:C.sender_type,sender_name:C.sender_name,created_at:C.created_at}))}}));r(j)}catch(b){console.error("Error:",b),pe.error("Failed to load support tickets")}finally{i(!1)}};if(g.useEffect(()=>{if(e){f();const b=Y.channel("customer-ticket-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},()=>{f()}).subscribe();return()=>{Y.removeChannel(b)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(Os,{to:"/customer-login",replace:!0});const m=b=>{switch(b){case"open":return s.jsx(ui,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(Dt,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(Gr,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Gr,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(ui,{className:"h-4 w-4"})}},v=b=>{const w={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(xe,{variant:w[b]||"default",className:"capitalize",children:b.replace("_"," ")})},p=b=>{const w={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(xe,{className:`${w[b]||""} capitalize`,variant:"outline",children:b})},x=async()=>{if(!(!c.trim()||!o)){h(!0);try{const{data:b,error:w}=await Y.from("support_ticket_messages").insert({ticket_id:o.id,content:c,sender_type:"customer",sender_name:e.full_name}).select().single();if(w){pe.error("Failed to send reply");return}const j={id:b.id,content:b.content,sender_type:b.sender_type,sender_name:b.sender_name,created_at:b.created_at};r(N=>N.map(S=>S.id===o.id?{...S,messages:[...S.messages,j],updated_at:new Date().toISOString()}:S)),l(N=>N?{...N,messages:[...N.messages,j]}:null),u(""),pe.success("Reply sent successfully");try{const{data:N}=await Y.from("profiles").select("email").eq("user_id",o.user_id).single();N!=null&&N.email&&await Qhe({ticket_id:o.id,ticket_subject:o.subject,customer_email:e.email,customer_name:e.full_name,message_content:c,admin_email:N.email})}catch(N){console.error("Failed to send admin notification:",N)}}finally{h(!1)}}},y=n.filter(b=>b.status==="open"||b.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and respond to your support requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(te,{variant:"outline",onClick:f,disabled:a,children:[s.jsx(Ps,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),s.jsx(WE,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(sa,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y})]}),s.jsx(Dt,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(J,{children:s.jsx(ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(b=>b.status==="resolved"||b.status==="closed").length})]}),s.jsx(Gr,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Your Tickets"}),s.jsx(Se,{children:"Click on a ticket to view details and respond"})]}),s.jsx(ee,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(sa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Need help? Create a support ticket and we'll get back to you."}),s.jsx(WE,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f,trigger:s.jsxs(te,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})})]}):s.jsx("div",{className:"space-y-3",children:n.map(b=>s.jsx("div",{onClick:()=>l(b),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m(b.status),s.jsx("h4",{className:"font-medium truncate",children:b.subject})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:b.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(b.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"h-3 w-3"}),b.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[v(b.status),p(b.priority)]})]})},b.id))})})]}),s.jsx(zn,{open:!!o,onOpenChange:b=>!b&&l(null),children:s.jsx(Dn,{className:"max-w-2xl max-h-[90vh]",children:o&&s.jsxs(s.Fragment,{children:[s.jsx(In,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Rn,{children:o.subject}),s.jsxs(la,{className:"mt-1",children:["Created on ",ct(new Date(o.created_at),"MMMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex gap-2",children:[v(o.status),p(o.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ls,{}),s.jsx($a,{className:"h-[300px] pr-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 ml-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ct(new Date(o.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o.description})]}),o.messages.map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${b.sender_type==="customer"?"bg-primary/10 ml-8":"bg-muted mr-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:b.sender_type==="customer"?"You":b.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ct(new Date(b.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content})]},b.id))]})}),o.status!=="closed"&&s.jsxs(s.Fragment,{children:[s.jsx(ls,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{placeholder:"Type your reply...",value:c,onChange:b=>u(b.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(te,{onClick:x,disabled:d||!c.trim(),children:[s.jsx(xu,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Reply"]})})]})]}),o.status==="closed"&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"This ticket is closed. Please create a new ticket if you need further assistance."})]})]})})})]})}function gQe(){const{customer:e}=hs(),[t,n]=g.useState([]),[r,a]=g.useState(!0),[i,o]=g.useState(!1),[l,c]=g.useState(""),[u,d]=g.useState("all");g.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e)try{a(!0);const y=await Mb();n(y.leads||[])}catch(y){console.error("Error fetching leads:",y),pe.error("Failed to load leads")}finally{a(!1)}},f=async()=>{if(e){o(!0);try{const y=await Mb();n(y.leads||[]),pe.success("Leads refreshed")}catch(y){console.error("Error refreshing leads:",y),pe.error("Failed to refresh leads")}finally{o(!1)}}},m=t.filter(y=>{var N,S,C,k;const b=u==="all"||y.source_type===u,w=l.toLowerCase(),j=l===""||((N=y.name)==null?void 0:N.toLowerCase().includes(w))||((S=y.email)==null?void 0:S.toLowerCase().includes(w))||((C=y.phone_number)==null?void 0:C.includes(l))||((k=y.source_name)==null?void 0:k.toLowerCase().includes(w));return b&&j}),v=y=>{switch(y){case"chatbot":return s.jsx(Ze,{className:"h-4 w-4"});case"voice":return s.jsx(Nt,{className:"h-4 w-4"});case"whatsapp":return s.jsx(Jt,{className:"h-4 w-4"});default:return s.jsx(dn,{className:"h-4 w-4"})}},p=y=>{switch(y){case"chatbot":return"default";case"voice":return"secondary";case"whatsapp":return"outline";default:return"default"}},x={total:t.length,chatbot:t.filter(y=>y.source_type==="chatbot").length,voice:t.filter(y=>y.source_type==="voice").length,whatsapp:t.filter(y=>y.source_type==="whatsapp").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leads"}),s.jsx("p",{className:"text-muted-foreground",children:"View extracted lead data from your agents"})]}),s.jsxs(te,{onClick:f,disabled:i,variant:"outline",children:[s.jsx(Ps,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),i?"Refreshing...":"Refresh"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.total})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"From Chatbots"}),s.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.chatbot})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"From Voice"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.voice})})]}),s.jsxs(J,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"From WhatsApp"}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ee,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.whatsapp})})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"All Leads"}),s.jsx(Se,{children:"Browse and search through all extracted lead information"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(he,{placeholder:"Search by name, email, phone...",value:l,onChange:y=>c(y.target.value),className:"pl-10"})]}),s.jsxs(He,{value:u,onValueChange:d,children:[s.jsx(Ve,{className:"w-full sm:w-[180px]",children:s.jsx(Ge,{placeholder:"Filter by source"})}),s.jsxs(We,{children:[s.jsx(ue,{value:"all",children:"All Sources"}),s.jsx(ue,{value:"chatbot",children:"Chatbots"}),s.jsx(ue,{value:"voice",children:"Voice Assistants"}),s.jsx(ue,{value:"whatsapp",children:"WhatsApp Agents"})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading leads..."})}):m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(dn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No leads found"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:t.length===0?"Leads will appear here as your agents collect contact information.":"Try adjusting your search or filter criteria."})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(r_,{children:[s.jsx(s_,{children:s.jsxs(Tu,{children:[s.jsx(Br,{children:"Source"}),s.jsx(Br,{children:"Agent"}),s.jsx(Br,{children:"Name"}),s.jsx(Br,{children:"Contact"}),s.jsx(Br,{children:"Date"})]})}),s.jsx(a_,{children:m.map(y=>{var b,w;return s.jsxs(Tu,{children:[s.jsx(Ur,{children:s.jsxs(xe,{variant:p(y.source_type),className:"gap-1",children:[v(y.source_type),s.jsx("span",{className:"capitalize",children:y.source_type})]})}),s.jsx(Ur,{className:"font-medium",children:y.source_name||"Unknown"}),s.jsx(Ur,{children:y.name?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:y.name})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Ur,{children:s.jsxs("div",{className:"space-y-1",children:[y.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ls,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"truncate max-w-[200px]",children:y.email})]}),y.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Nt,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:y.phone_number})]}),((b=y.additional_data)==null?void 0:b.caller_id)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(mse,{className:"h-3 w-3"}),s.jsxs("span",{children:["Called from: ",y.additional_data.caller_id]})]}),!y.email&&!y.phone_number&&!((w=y.additional_data)!=null&&w.caller_id)&&s.jsx("span",{className:"text-muted-foreground",children:"-"})]})}),s.jsx(Ur,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Jr,{className:"h-3 w-3"}),ct(new Date(y.extracted_at),"MMM d, yyyy")]})})]},y.id)})})]})})]})]})]})}const vQe=()=>{const{user:e}=Ut(),[t,n]=g.useState([]),[r,a]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState(!0),[h,f]=g.useState(!1),[m,v]=g.useState(!1),[p,x]=g.useState(!1),[y,b]=g.useState(""),[w,j]=g.useState(""),[N,S]=g.useState(""),[C,k]=g.useState(null);g.useEffect(()=>{e&&E()},[e]),g.useEffect(()=>{r&&(A(r.id),P(r.id))},[r]);const E=async()=>{d(!0);try{const{data:H,error:z}=await Y.from("team_organizations").select("*").order("created_at",{ascending:!1});if(z)throw z;n(H||[]),H&&H.length>0&&!r&&a(H[0])}catch(H){console.error("Error fetching teams:",H),pe.error("Failed to load teams")}finally{d(!1)}},A=async H=>{try{const{data:z,error:_}=await Y.from("team_members").select("*").eq("team_org_id",H).order("joined_at",{ascending:!0});if(_)throw _;if(!z||z.length===0){o([]);return}const O=z.map(K=>K.user_id),{data:T}=await Y.from("profiles").select("user_id, full_name, email").in("user_id",O),q=new Map;T&&T.forEach(K=>{q.set(K.user_id,{full_name:K.full_name||void 0,email:K.email||void 0})});const W=z.map(K=>{const G=q.get(K.user_id),V=K.email;return{...K,user_name:G==null?void 0:G.full_name,user_email:V||(G==null?void 0:G.email)}});o(W)}catch(z){console.error("Error fetching team members:",z)}},P=async H=>{try{const{data:z,error:_}=await Y.from("team_invitations").select("*").eq("team_org_id",H).eq("status","pending").order("created_at",{ascending:!1});if(_)throw _;c(z||[])}catch(z){console.error("Error fetching invitations:",z)}},B=H=>H.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").substring(0,50)+"-"+Date.now().toString(36),U=async()=>{if(!y.trim()){pe.error("Please enter a team name");return}f(!0);try{const{data:H,error:z}=await Y.from("team_organizations").insert({name:y.trim(),slug:B(y),description:w.trim()||null,created_by:e==null?void 0:e.id}).select().single();if(z)throw z;pe.success(`Team "${y}" created successfully`),b(""),j(""),x(!1),await E(),a(H)}catch(H){console.error("Error creating team:",H),pe.error(H.message||"Failed to create team")}finally{f(!1)}},I=async()=>{var z,_;if(!N.trim()||!r){pe.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.trim())){pe.error("Please enter a valid email address");return}v(!0);try{const O=N.trim().toLowerCase();await Y.from("team_invitations").delete().eq("team_org_id",r.id).ilike("email",O).neq("status","pending");const{data:T,error:q}=await Y.from("team_invitations").insert({team_org_id:r.id,email:O,invited_by:e==null?void 0:e.id}).select().single();if(q){if(q.code==="23505"){pe.error("This email already has a pending invitation to this team");return}throw q}const W=`${window.location.origin}/invite/${T.token}`,K="https://api.voxtro.io".replace(/\/$/,"");console.log("[Teams] Sending invitation email to:",O),console.log("[Teams] API URL:",`${K}/api/notifications/team-invite`);try{const{data:G}=await Y.auth.getSession(),V=(z=G==null?void 0:G.session)==null?void 0:z.access_token;console.log("[Teams] Auth token present:",!!V);const se={email:O,team_name:r.name,inviter_name:((_=e==null?void 0:e.user_metadata)==null?void 0:_.full_name)||(e==null?void 0:e.email),invite_url:W};console.log("[Teams] Request body:",se);const re=await fetch(`${K}/api/notifications/team-invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify(se)});console.log("[Teams] Email response status:",re.status);const je=await re.json().catch(()=>({}));console.log("[Teams] Email response data:",je),re.ok?pe.success(`Invitation sent to ${O}!`,{description:"They'll receive an email with instructions to join.",duration:5e3}):(console.error("[Teams] Failed to send invitation email:",je),await navigator.clipboard.writeText(W),pe.success(`Invitation created for ${O}`,{description:"Email failed to send, but link copied to clipboard.",duration:5e3}))}catch(G){console.error("[Teams] Email sending error:",G),await navigator.clipboard.writeText(W),pe.success(`Invitation created for ${O}`,{description:"Email failed to send, but link copied to clipboard.",duration:5e3})}S(""),await P(r.id)}catch(O){console.error("Error inviting member:",O),pe.error(O.message||"Failed to send invitation")}finally{v(!1)}},L=async H=>{try{const{error:z}=await Y.from("team_invitations").delete().eq("id",H);if(z)throw z;pe.success("Invitation cancelled"),r&&await P(r.id)}catch(z){console.error("Error cancelling invitation:",z),pe.error("Failed to cancel invitation")}},M=async(H,z)=>{if(z===(e==null?void 0:e.id)){pe.error("You cannot remove yourself from the team");return}try{const{error:_}=await Y.from("team_members").delete().eq("id",H);if(_)throw _;pe.success("Member removed from team"),r&&await A(r.id)}catch(_){console.error("Error removing member:",_),pe.error("Failed to remove member")}},$=async H=>{const z=i.find(_=>_.user_id===(e==null?void 0:e.id));if(z){if(z.role==="owner"&&i.filter(O=>O.role==="owner"&&O.user_id!==(e==null?void 0:e.id)).length===0){pe.error("You cannot leave the team as the only owner. Transfer ownership first or delete the team.");return}try{const{error:_}=await Y.from("team_members").delete().eq("team_org_id",H).eq("user_id",e==null?void 0:e.id);if(_)throw _;pe.success("You have left the team"),a(null),await E()}catch(_){console.error("Error leaving team:",_),pe.error("Failed to leave team")}}},R=async H=>{if(confirm("Are you sure you want to delete this team? This action cannot be undone."))try{const{error:z}=await Y.from("team_organizations").delete().eq("id",H);if(z)throw z;pe.success("Team deleted successfully"),a(null),await E()}catch(z){console.error("Error deleting team:",z),pe.error("Failed to delete team")}},F=async H=>{const z=`${window.location.origin}/invite/${H}`;await navigator.clipboard.writeText(z),k(H),pe.success("Invite link copied to clipboard"),setTimeout(()=>k(null),2e3)},D=H=>i.some(z=>z.team_org_id===H&&z.user_id===(e==null?void 0:e.id)&&z.role==="owner");return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(xt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Teams"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage team organizations to collaborate with others"})]}),s.jsxs(zn,{open:p,onOpenChange:x,children:[s.jsx(qu,{asChild:!0,children:s.jsxs(te,{children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Create Team"]})}),s.jsxs(Dn,{children:[s.jsxs(In,{children:[s.jsx(Rn,{children:"Create a New Team"}),s.jsx(la,{children:"Create a team organization to share tasks, support tickets, and agents with your teammates."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"team-name",children:"Team Name"}),s.jsx(he,{id:"team-name",placeholder:"e.g., Marketing Team, Engineering",value:y,onChange:H=>b(H.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"team-description",children:"Description (optional)"}),s.jsx(he,{id:"team-description",placeholder:"What is this team for?",value:w,onChange:H=>j(H.target.value)})]})]}),s.jsxs(Ev,{children:[s.jsx(te,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(te,{onClick:U,disabled:h||!y.trim(),children:h?s.jsxs(s.Fragment,{children:[s.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Team"})]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(J,{className:"lg:col-span-1",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Sw,{className:"h-5 w-5"}),"Your Teams"]}),s.jsx(Se,{children:"Select a team to manage members and settings"})]}),s.jsx(ee,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any teams yet"}),s.jsxs(te,{variant:"outline",onClick:()=>x(!0),children:[s.jsx(Ft,{className:"h-4 w-4 mr-2"}),"Create Your First Team"]})]}):s.jsx("div",{className:"space-y-2",children:t.map(H=>s.jsx("button",{onClick:()=>a(H),className:`w-full p-3 rounded-lg border text-left transition-colors ${(r==null?void 0:r.id)===H.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:H.name}),H.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:H.description})]}),H.created_by===(e==null?void 0:e.id)&&s.jsx(FD,{className:"h-4 w-4 text-yellow-500"})]})},H.id))})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:r?s.jsxs(s.Fragment,{children:[s.jsx(J,{children:s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:r.name}),r.description&&s.jsx(Se,{children:r.description})]}),D(r.id)?s.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>R(r.id),children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Delete Team"]}):s.jsxs(te,{variant:"outline",size:"sm",onClick:()=>$(r.id),children:[s.jsx(zP,{className:"h-4 w-4 mr-2"}),"Leave Team"]})]})})}),D(r.id)&&s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"h-5 w-5"}),"Invite Members"]}),s.jsx(Se,{children:"Send invitations to add teammates to your organization"})]}),s.jsxs(ee,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{type:"email",placeholder:"Enter email address",value:N,onChange:H=>S(H.target.value),onKeyDown:H=>H.key==="Enter"&&I()}),s.jsx(te,{onClick:I,disabled:m,children:m?s.jsx(xt,{className:"h-4 w-4 animate-spin"}):"Invite"})]}),l.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(ne,{className:"text-sm text-muted-foreground",children:"Pending Invitations"}),l.map(H=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:H.email}),s.jsx(xe,{variant:"secondary",className:"text-xs",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>F(H.token),children:C===H.token?s.jsx(ac,{className:"h-4 w-4 text-green-500"}):s.jsx(Hp,{className:"h-4 w-4"})}),s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>L(H.id),children:s.jsx($t,{className:"h-4 w-4 text-destructive"})})]})]},H.id))]})]})]}),s.jsxs(J,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"h-5 w-5"}),"Team Members (",i.length,")"]}),s.jsx(Se,{children:"People who have access to this team's resources"})]}),s.jsx(ee,{children:s.jsx("div",{className:"space-y-3",children:i.map(H=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:H.role==="owner"?s.jsx(FD,{className:"h-5 w-5 text-yellow-500"}):s.jsx(_n,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:H.user_id===(e==null?void 0:e.id)?"You":H.user_name||H.user_email||`User ${H.user_id.slice(0,8)}...`}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[H.user_email&&H.user_id!==(e==null?void 0:e.id)&&s.jsx("span",{className:"mr-2",children:H.user_email}),"Joined ",new Date(H.joined_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xe,{variant:H.role==="owner"?"default":"secondary",children:H.role==="owner"?"Owner":"Teammate"}),D(r.id)&&H.user_id!==(e==null?void 0:e.id)&&s.jsx(te,{variant:"ghost",size:"sm",onClick:()=>M(H.id,H.user_id),children:s.jsx($t,{className:"h-4 w-4 text-destructive"})})]})]},H.id))})})]})]}):s.jsx(J,{children:s.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(dn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Team"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Choose a team from the list to view and manage its members"})]})})})]})]})};function xQe(){var b;const{token:e}=lv(),t=Ar(),{user:n,loading:r}=Ut(),[a,i]=g.useState(null),[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(null),[f,m]=g.useState(!1),v=g.useRef(!1);g.useEffect(()=>{console.log("[AcceptInvite] Component mounted, token:",e),e&&p()},[e]),g.useEffect(()=>{var w,j;console.log("[AcceptInvite] Auth state check:",{authLoading:r,user:n==null?void 0:n.email,invite:a==null?void 0:a.email,error:d,success:f,accepting:c,acceptAttempted:v.current}),!r&&n&&a&&!d&&!f&&!c&&!v.current&&(console.log("[AcceptInvite] Checking email match:",(w=n.email)==null?void 0:w.toLowerCase(),"vs",a.email.toLowerCase()),((j=n.email)==null?void 0:j.toLowerCase())===a.email.toLowerCase()&&(console.log("[AcceptInvite] Email matches, auto-accepting..."),v.current=!0,x()))},[n,r,a,d,f,c]);const p=async()=>{var w;console.log("[AcceptInvite] Fetching invite details for token:",e);try{const{data:j,error:N}=await Y.from("team_invitations").select(`
          id,
          team_org_id,
          email,
          status,
          expires_at,
          team_organizations (name)
        `).eq("token",e).single();if(console.log("[AcceptInvite] Fetch result:",{data:j,fetchError:N}),N||!j){console.error("[AcceptInvite] Invalid or missing invitation:",N),h("This invitation link is invalid or has already been used."),l(!1);return}if(new Date(j.expires_at)<new Date){h("This invitation has expired. Please ask the team owner to send a new invitation."),l(!1);return}if(j.status!=="pending"){h("This invitation has already been used."),l(!1);return}i({...j,team_name:((w=j.team_organizations)==null?void 0:w.name)||"Unknown Team"})}catch(j){console.error("Error fetching invite:",j),h("Failed to load invitation details.")}finally{l(!1)}},x=async()=>{if(console.log("[AcceptInvite] handleAcceptInvite called",{invite:a,userEmail:n==null?void 0:n.email,token:e,accepting:c}),!a||!n){console.log("[AcceptInvite] Missing invite or user, aborting");return}if(c){console.log("[AcceptInvite] Already accepting, skipping");return}u(!0);try{console.log("[AcceptInvite] Calling accept_team_invitation RPC with token:",e);const{data:w,error:j}=await Y.rpc("accept_team_invitation",{invitation_token:e});if(console.log("[AcceptInvite] RPC result:",{data:w,acceptError:j}),j)throw console.error("[AcceptInvite] RPC error:",j),new Error(j.message||"Database error while accepting invitation");if(!w)throw console.error("[AcceptInvite] No data returned from RPC"),new Error("No response from server. Please try again.");const N=w;if(console.log("[AcceptInvite] Parsed result:",N),!N.success)throw new Error(N.error||"Failed to accept invitation");m(!0),pe.success(`You've joined ${a.team_name}!`),console.log("[AcceptInvite] Successfully joined team, redirecting..."),setTimeout(()=>{t("/teams")},2e3)}catch(w){console.error("[AcceptInvite] Error accepting invite:",w),h(w.message||"Failed to accept invitation"),pe.error(w.message||"Failed to accept invitation"),v.current=!1}finally{u(!1)}},y=w=>{e&&localStorage.setItem("pending_invite_token",e),t(w)};return o||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading invitation..."})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(ae,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:pr,alt:"Voxtro",className:"h-12"})}),s.jsx(ie,{className:"text-2xl",children:"Team Invitation"}),s.jsx(Se,{children:d?"Something went wrong":f?"Welcome to the team!":"You've been invited to join a team"})]}),s.jsx(ee,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Cw,{className:"h-16 w-16 mx-auto text-destructive"}),s.jsx("p",{className:"text-muted-foreground",children:d}),s.jsx(te,{asChild:!0,className:"w-full",children:s.jsx(Je,{to:"/dashboard",children:"Go to Dashboard"})})]}):f?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Qn,{className:"h-16 w-16 mx-auto text-green-500"}),s.jsxs("p",{className:"text-muted-foreground",children:["You're now a member of ",s.jsx("strong",{children:a==null?void 0:a.team_name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to your teams..."})]}):a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(dn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:a.team_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Invited: ",a.email]})]})]}),n?((b=n.email)==null?void 0:b.toLowerCase())===a.email.toLowerCase()?s.jsx("div",{className:"space-y-4",children:c?s.jsxs("div",{className:"text-center",children:[s.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Joining team..."})]}):s.jsxs(te,{onClick:x,className:"w-full",size:"lg",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Accept Invitation"]})}):s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsxs("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:["This invitation was sent to ",s.jsx("strong",{children:a.email}),", but you're signed in as ",s.jsx("strong",{children:n.email}),"."]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please sign out and sign in with the correct account, or ask for a new invitation."}),s.jsx(te,{variant:"outline",asChild:!0,className:"w-full",children:s.jsx(Je,{to:"/dashboard",children:"Go to Dashboard"})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Sign in or create an account to join this team"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs(te,{onClick:()=>y("/auth"),className:"w-full",size:"lg",children:[s.jsx(lse,{className:"h-4 w-4 mr-2"}),"Sign In"]}),s.jsxs(te,{variant:"outline",onClick:()=>y("/auth?signup=true"),className:"w-full",size:"lg",children:[s.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Create Account"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Make sure to use the email: ",s.jsx("strong",{children:a.email})]})]})]}):null})]})})}const yQe=new Coe({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:5*60*1e3}}}),bQe=()=>s.jsx(Toe,{client:yQe,children:s.jsx(xfe,{children:s.jsx(yfe,{children:s.jsxs(xz,{children:[s.jsx(oae,{}),s.jsx(Iae,{}),s.jsx(Vle,{children:s.jsx(Hme,{children:s.jsxs(Ile,{children:[s.jsx(tt,{path:"/",element:s.jsx(Gme,{})}),s.jsx(tt,{path:"/auth",element:s.jsx(Jme,{})}),s.jsx(tt,{path:"/auth/confirm",element:s.jsx(Qme,{})}),s.jsx(tt,{path:"/dashboard",element:s.jsx(wr,{children:s.jsx(Hge,{})})}),s.jsx(tt,{path:"/chatbots",element:s.jsx(wr,{children:s.jsx(u6e,{})})}),s.jsx(tt,{path:"/conversations",element:s.jsx(wr,{children:s.jsx(vqe,{})})}),s.jsx(tt,{path:"/forms",element:s.jsx(wr,{children:s.jsx(Sqe,{})})}),s.jsx(tt,{path:"/flows",element:s.jsx(wr,{children:s.jsx(kqe,{})})}),s.jsx(tt,{path:"/customers",element:s.jsx(wr,{children:s.jsx(gVe,{})})}),s.jsx(tt,{path:"/voice-assistants",element:s.jsx(wr,{children:s.jsx(P7e,{})})}),s.jsx(tt,{path:"/voice-assistants/:assistantId/edit",element:s.jsx(yHe,{})}),s.jsx(tt,{path:"/voice-tasks",element:s.jsx(wr,{children:s.jsx(fQe,{})})}),s.jsx(tt,{path:"/whatsapp-agents",element:s.jsx(wr,{children:s.jsx(bHe,{})})}),s.jsx(tt,{path:"/usage",element:s.jsx(wr,{children:s.jsx(xqe,{})})}),s.jsx(tt,{path:"/support-tickets",element:s.jsx(wr,{children:s.jsx(mQe,{})})}),s.jsx(tt,{path:"/settings",element:s.jsx(wr,{children:s.jsx(wqe,{})})}),s.jsx(tt,{path:"/teams",element:s.jsx(wr,{children:s.jsx(vQe,{})})}),s.jsx(tt,{path:"/invite/:token",element:s.jsx(xQe,{})}),s.jsx(tt,{path:"/billing",element:s.jsx(wr,{children:s.jsx(jqe,{})})}),s.jsx(tt,{path:"/changelog",element:s.jsx(LHe,{})}),s.jsx(tt,{path:"/create-chatbot",element:s.jsx(f6e,{})}),s.jsx(tt,{path:"/edit-chatbot/:chatbotId",element:s.jsx(p6e,{})}),s.jsx(tt,{path:"/embed/:chatbotId",element:s.jsx(v6e,{})}),s.jsx(tt,{path:"/messenger/:chatbotId",element:s.jsx(pqe,{})}),s.jsx(tt,{path:"/widget-test",element:s.jsx(gqe,{})}),s.jsx(tt,{path:"/customer-login",element:s.jsx(Aqe,{})}),s.jsxs(tt,{path:"/customer-dashboard",element:s.jsx(Iqe,{}),children:[s.jsx(tt,{index:!0,element:s.jsx($qe,{})}),s.jsx(tt,{path:"conversations",element:s.jsx(Wqe,{})}),s.jsx(tt,{path:"voice-assistants",element:s.jsx(iVe,{})}),s.jsx(tt,{path:"whatsapp-agents",element:s.jsx(oVe,{})}),s.jsx(tt,{path:"leads",element:s.jsx(gQe,{})}),s.jsx(tt,{path:"support-tickets",element:s.jsx(pQe,{})}),s.jsx(tt,{path:"forms",element:s.jsx(dVe,{})}),s.jsx(tt,{path:"analytics",element:s.jsx(hVe,{})}),s.jsx(tt,{path:"settings",element:s.jsx(fVe,{})})]}),s.jsx(tt,{path:"/docs",element:s.jsx(jHe,{})}),s.jsx(tt,{path:"/api",element:s.jsx(_He,{})}),s.jsx(tt,{path:"/guides",element:s.jsx(NHe,{})}),s.jsx(tt,{path:"/support",element:s.jsx(SHe,{})}),s.jsx(tt,{path:"/status",element:s.jsx(CHe,{})}),s.jsx(tt,{path:"/about",element:s.jsx(kHe,{})}),s.jsx(tt,{path:"/careers",element:s.jsx(EHe,{})}),s.jsx(tt,{path:"/contact",element:s.jsx(PHe,{})}),s.jsx(tt,{path:"/privacy",element:s.jsx(AHe,{})}),s.jsx(tt,{path:"/terms",element:s.jsx(THe,{})}),s.jsx(tt,{path:"/cookies",element:s.jsx(OHe,{})}),s.jsx(tt,{path:"*",element:s.jsx(MHe,{})})]})})})]})})})});nU(document.getElementById("root")).render(s.jsx(bQe,{}));
