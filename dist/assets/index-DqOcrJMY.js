var XX=Object.defineProperty;var aO=e=>{throw TypeError(e)};var QX=(e,t,n)=>t in e?XX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ct=(e,t,n)=>QX(e,typeof t!="symbol"?t+"":t,n),Wj=(e,t,n)=>t.has(e)||aO("Cannot "+n);var oe=(e,t,n)=>(Wj(e,t,"read from private field"),n?n.call(e):t.get(e)),st=(e,t,n)=>t.has(e)?aO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),He=(e,t,n,r)=>(Wj(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),jt=(e,t,n)=>(Wj(e,t,"access private method"),n);var Pv=(e,t,n,r)=>({set _(a){He(e,t,a,n)},get _(){return oe(e,t,r)}});function ZX(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var uF={exports:{}},C0={},dF={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=Symbol.for("react.element"),eQ=Symbol.for("react.portal"),tQ=Symbol.for("react.fragment"),nQ=Symbol.for("react.strict_mode"),rQ=Symbol.for("react.profiler"),sQ=Symbol.for("react.provider"),aQ=Symbol.for("react.context"),iQ=Symbol.for("react.forward_ref"),oQ=Symbol.for("react.suspense"),lQ=Symbol.for("react.memo"),cQ=Symbol.for("react.lazy"),iO=Symbol.iterator;function uQ(e){return e===null||typeof e!="object"?null:(e=iO&&e[iO]||e["@@iterator"],typeof e=="function"?e:null)}var hF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fF=Object.assign,mF={};function Yh(e,t,n){this.props=e,this.context=t,this.refs=mF,this.updater=n||hF}Yh.prototype.isReactComponent={};Yh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pF(){}pF.prototype=Yh.prototype;function IE(e,t,n){this.props=e,this.context=t,this.refs=mF,this.updater=n||hF}var RE=IE.prototype=new pF;RE.constructor=IE;fF(RE,Yh.prototype);RE.isPureReactComponent=!0;var oO=Array.isArray,gF=Object.prototype.hasOwnProperty,$E={current:null},vF={key:!0,ref:!0,__self:!0,__source:!0};function xF(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)gF.call(t,r)&&!vF.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:_g,type:e,key:i,ref:o,props:a,_owner:$E.current}}function dQ(e,t){return{$$typeof:_g,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function LE(e){return typeof e=="object"&&e!==null&&e.$$typeof===_g}function hQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lO=/\/+/g;function Hj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hQ(""+e.key):t.toString(36)}function Bx(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _g:case eQ:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Hj(o,0):r,oO(a)?(n="",e!=null&&(n=e.replace(lO,"$&/")+"/"),Bx(a,t,n,"",function(u){return u})):a!=null&&(LE(a)&&(a=dQ(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(lO,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",oO(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Hj(i,l);o+=Bx(i,t,n,c,a)}else if(c=uQ(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Hj(i,l++),o+=Bx(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Av(e,t,n){if(e==null)return e;var r=[],a=0;return Bx(e,r,"","",function(i){return t.call(n,i,a++)}),r}function fQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var es={current:null},Ux={transition:null},mQ={ReactCurrentDispatcher:es,ReactCurrentBatchConfig:Ux,ReactCurrentOwner:$E};function yF(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Av,forEach:function(e,t,n){Av(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Av(e,function(){t++}),t},toArray:function(e){return Av(e,function(t){return t})||[]},only:function(e){if(!LE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=Yh;xt.Fragment=tQ;xt.Profiler=rQ;xt.PureComponent=IE;xt.StrictMode=nQ;xt.Suspense=oQ;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mQ;xt.act=yF;xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fF({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=$E.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gF.call(t,c)&&!vF.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_g,type:e.type,key:a,ref:i,props:r,_owner:o}};xt.createContext=function(e){return e={$$typeof:aQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sQ,_context:e},e.Consumer=e};xt.createElement=xF;xt.createFactory=function(e){var t=xF.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:iQ,render:e}};xt.isValidElement=LE;xt.lazy=function(e){return{$$typeof:cQ,_payload:{_status:-1,_result:e},_init:fQ}};xt.memo=function(e,t){return{$$typeof:lQ,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=Ux.transition;Ux.transition={};try{e()}finally{Ux.transition=t}};xt.unstable_act=yF;xt.useCallback=function(e,t){return es.current.useCallback(e,t)};xt.useContext=function(e){return es.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return es.current.useDeferredValue(e)};xt.useEffect=function(e,t){return es.current.useEffect(e,t)};xt.useId=function(){return es.current.useId()};xt.useImperativeHandle=function(e,t,n){return es.current.useImperativeHandle(e,t,n)};xt.useInsertionEffect=function(e,t){return es.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return es.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return es.current.useMemo(e,t)};xt.useReducer=function(e,t,n){return es.current.useReducer(e,t,n)};xt.useRef=function(e){return es.current.useRef(e)};xt.useState=function(e){return es.current.useState(e)};xt.useSyncExternalStore=function(e,t,n){return es.current.useSyncExternalStore(e,t,n)};xt.useTransition=function(){return es.current.useTransition()};xt.version="18.3.1";dF.exports=xt;var y=dF.exports;const J=qt(y),bF=ZX({__proto__:null,default:J},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pQ=y,gQ=Symbol.for("react.element"),vQ=Symbol.for("react.fragment"),xQ=Object.prototype.hasOwnProperty,yQ=pQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bQ={key:!0,ref:!0,__self:!0,__source:!0};function wF(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)xQ.call(t,r)&&!bQ.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:gQ,type:e,key:i,ref:o,props:a,_owner:yQ.current}}C0.Fragment=vQ;C0.jsx=wF;C0.jsxs=wF;uF.exports=C0;var s=uF.exports,jF={exports:{}},Ks={},_F={exports:{}},NF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var I=D.length;D.push(L);e:for(;0<I;){var z=I-1>>>1,H=D[z];if(0<a(H,L))D[z]=L,D[I]=H,I=z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],I=D.pop();if(I!==L){D[0]=I;e:for(var z=0,H=D.length,j=H>>>1;z<j;){var P=2*(z+1)-1,O=D[P],V=P+1,W=D[V];if(0>a(O,I))V<H&&0>a(W,O)?(D[z]=W,D[V]=I,z=V):(D[z]=O,D[P]=I,z=P);else if(V<H&&0>a(W,I))D[z]=W,D[V]=I,z=V;else break e}}return L}function a(D,L){var I=D.sortIndex-L.sortIndex;return I!==0?I:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=D)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function _(D){if(g=!1,w(D),!p)if(n(c)!==null)p=!0,M(N);else{var L=n(u);L!==null&&R(_,L.startTime-D)}}function N(D,L){p=!1,g&&(g=!1,x(k),k=-1),m=!0;var I=f;try{for(w(L),h=n(c);h!==null&&(!(h.expirationTime>L)||D&&!E());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var H=z(h.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?h.callback=H:h===n(c)&&r(c),w(L)}else r(c);h=n(c)}if(h!==null)var j=!0;else{var P=n(u);P!==null&&R(_,P.startTime-L),j=!1}return j}finally{h=null,f=I,m=!1}}var S=!1,C=null,k=-1,A=5,T=-1;function E(){return!(e.unstable_now()-T<A)}function B(){if(C!==null){var D=e.unstable_now();T=D;var L=!0;try{L=C(!0,D)}finally{L?U():(S=!1,C=null)}}else S=!1}var U;if(typeof b=="function")U=function(){b(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=B,U=function(){F.postMessage(null)}}else U=function(){v(B,0)};function M(D){C=D,S||(S=!0,U())}function R(D,L){k=v(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,M(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var I=f;f=L;try{return D()}finally{f=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=f;f=D;try{return L()}finally{f=I}},e.unstable_scheduleCallback=function(D,L,I){var z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=I+H,D={id:d++,callback:L,priorityLevel:D,startTime:I,expirationTime:H,sortIndex:-1},I>z?(D.sortIndex=I,t(u,D),n(c)===null&&D===n(u)&&(g?(x(k),k=-1):g=!0,R(_,I-z))):(D.sortIndex=H,t(c,D),p||m||(p=!0,M(N))),D},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(D){var L=f;return function(){var I=f;f=L;try{return D.apply(this,arguments)}finally{f=I}}}})(NF);_F.exports=NF;var wQ=_F.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jQ=y,Gs=wQ;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SF=new Set,sp={};function bu(e,t){eh(e,t),eh(e+"Capture",t)}function eh(e,t){for(sp[e]=t,e=0;e<t.length;e++)SF.add(t[e])}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uN=Object.prototype.hasOwnProperty,_Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cO={},uO={};function NQ(e){return uN.call(uO,e)?!0:uN.call(cO,e)?!1:_Q.test(e)?uO[e]=!0:(cO[e]=!0,!1)}function SQ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CQ(e,t,n,r){if(t===null||typeof t>"u"||SQ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ts(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new ts(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new ts(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new ts(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new ts(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new ts(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new ts(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new ts(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new ts(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new ts(e,5,!1,e.toLowerCase(),null,!1,!1)});var FE=/[\-:]([a-z])/g;function BE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(FE,BE);wr[t]=new ts(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(FE,BE);wr[t]=new ts(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(FE,BE);wr[t]=new ts(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new ts(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new ts("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new ts(e,1,!1,e.toLowerCase(),null,!0,!0)});function UE(e,t,n,r){var a=wr.hasOwnProperty(t)?wr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CQ(t,n,a,r)&&(n=null),r||a===null?NQ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var To=jQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tv=Symbol.for("react.element"),td=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),CF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),qE=Symbol.for("react.forward_ref"),hN=Symbol.for("react.suspense"),fN=Symbol.for("react.suspense_list"),VE=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),EF=Symbol.for("react.offscreen"),dO=Symbol.iterator;function Bf(e){return e===null||typeof e!="object"?null:(e=dO&&e[dO]||e["@@iterator"],typeof e=="function"?e:null)}var Sn=Object.assign,Gj;function gm(e){if(Gj===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gj=t&&t[1]||""}return`
`+Gj+e}var Yj=!1;function Kj(e,t){if(!e||Yj)return"";Yj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gm(e):""}function kQ(e){switch(e.tag){case 5:return gm(e.type);case 16:return gm("Lazy");case 13:return gm("Suspense");case 19:return gm("SuspenseList");case 0:case 2:case 15:return e=Kj(e.type,!1),e;case 11:return e=Kj(e.type.render,!1),e;case 1:return e=Kj(e.type,!0),e;default:return""}}function mN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case td:return"Portal";case dN:return"Profiler";case zE:return"StrictMode";case hN:return"Suspense";case fN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kF:return(e.displayName||"Context")+".Consumer";case CF:return(e._context.displayName||"Context")+".Provider";case qE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case VE:return t=e.displayName||null,t!==null?t:mN(e.type)||"Memo";case Zo:t=e._payload,e=e._init;try{return mN(e(t))}catch{}}return null}function EQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mN(t);case 8:return t===zE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PQ(e){var t=PF(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ov(e){e._valueTracker||(e._valueTracker=PQ(e))}function AF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PF(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pN(e,t){var n=t.checked;return Sn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TF(e,t){t=t.checked,t!=null&&UE(e,"checked",t,!1)}function gN(e,t){TF(e,t);var n=Dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vN(e,t.type,n):t.hasOwnProperty("defaultValue")&&vN(e,t.type,Dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vN(e,t,n){(t!=="number"||xy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vm=Array.isArray;function gd(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function xN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Sn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(vm(n)){if(1<n.length)throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dl(n)}}function OF(e,t){var n=Dl(t.value),r=Dl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mv,DF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mv=Mv||document.createElement("div"),Mv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ap(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Am={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AQ=["Webkit","ms","Moz","O"];Object.keys(Am).forEach(function(e){AQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Am[t]=Am[e]})});function IF(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Am.hasOwnProperty(e)&&Am[e]?(""+t).trim():t+"px"}function RF(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=IF(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var TQ=Sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bN(e,t){if(t){if(TQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function wN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jN=null;function WE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _N=null,vd=null,xd=null;function gO(e){if(e=Cg(e)){if(typeof _N!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=T0(t),_N(e.stateNode,e.type,t))}}function $F(e){vd?xd?xd.push(e):xd=[e]:vd=e}function LF(){if(vd){var e=vd,t=xd;if(xd=vd=null,gO(e),t)for(e=0;e<t.length;e++)gO(t[e])}}function FF(e,t){return e(t)}function BF(){}var Jj=!1;function UF(e,t,n){if(Jj)return e(t,n);Jj=!0;try{return FF(e,t,n)}finally{Jj=!1,(vd!==null||xd!==null)&&(BF(),LF())}}function ip(e,t){var n=e.stateNode;if(n===null)return null;var r=T0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var NN=!1;if(wo)try{var Uf={};Object.defineProperty(Uf,"passive",{get:function(){NN=!0}}),window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{NN=!1}function OQ(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Tm=!1,yy=null,by=!1,SN=null,MQ={onError:function(e){Tm=!0,yy=e}};function DQ(e,t,n,r,a,i,o,l,c){Tm=!1,yy=null,OQ.apply(MQ,arguments)}function IQ(e,t,n,r,a,i,o,l,c){if(DQ.apply(this,arguments),Tm){if(Tm){var u=yy;Tm=!1,yy=null}else throw Error(ke(198));by||(by=!0,SN=u)}}function wu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vO(e){if(wu(e)!==e)throw Error(ke(188))}function RQ(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return vO(a),e;if(i===r)return vO(a),t;i=i.sibling}throw Error(ke(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function qF(e){return e=RQ(e),e!==null?VF(e):null}function VF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VF(e);if(t!==null)return t;e=e.sibling}return null}var WF=Gs.unstable_scheduleCallback,xO=Gs.unstable_cancelCallback,$Q=Gs.unstable_shouldYield,LQ=Gs.unstable_requestPaint,On=Gs.unstable_now,FQ=Gs.unstable_getCurrentPriorityLevel,HE=Gs.unstable_ImmediatePriority,HF=Gs.unstable_UserBlockingPriority,wy=Gs.unstable_NormalPriority,BQ=Gs.unstable_LowPriority,GF=Gs.unstable_IdlePriority,k0=null,Di=null;function UQ(e){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(k0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ka=Math.clz32?Math.clz32:VQ,zQ=Math.log,qQ=Math.LN2;function VQ(e){return e>>>=0,e===0?32:31-(zQ(e)/qQ|0)|0}var Dv=64,Iv=4194304;function xm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jy(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=xm(l):(i&=o,i!==0&&(r=xm(i)))}else o=n&~a,o!==0?r=xm(o):i!==0&&(r=xm(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ka(t),a=1<<n,r|=e[n],t&=~a;return r}function WQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ka(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=WQ(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function CN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YF(){var e=Dv;return Dv<<=1,!(Dv&4194240)&&(Dv=64),e}function Xj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ng(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ka(t),e[t]=n}function GQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ka(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function GE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ka(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ht=0;function KF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JF,YE,XF,QF,ZF,kN=!1,Rv=[],wl=null,jl=null,_l=null,op=new Map,lp=new Map,al=[],YQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yO(e,t){switch(e){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":op.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lp.delete(t.pointerId)}}function zf(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Cg(t),t!==null&&YE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function KQ(e,t,n,r,a){switch(t){case"focusin":return wl=zf(wl,e,t,n,r,a),!0;case"dragenter":return jl=zf(jl,e,t,n,r,a),!0;case"mouseover":return _l=zf(_l,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return op.set(i,zf(op.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,lp.set(i,zf(lp.get(i)||null,e,t,n,r,a)),!0}return!1}function e6(e){var t=_c(e.target);if(t!==null){var n=wu(t);if(n!==null){if(t=n.tag,t===13){if(t=zF(n),t!==null){e.blockedOn=t,ZF(e.priority,function(){XF(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=EN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jN=r,n.target.dispatchEvent(r),jN=null}else return t=Cg(n),t!==null&&YE(t),e.blockedOn=n,!1;t.shift()}return!0}function bO(e,t,n){zx(e)&&n.delete(t)}function JQ(){kN=!1,wl!==null&&zx(wl)&&(wl=null),jl!==null&&zx(jl)&&(jl=null),_l!==null&&zx(_l)&&(_l=null),op.forEach(bO),lp.forEach(bO)}function qf(e,t){e.blockedOn===t&&(e.blockedOn=null,kN||(kN=!0,Gs.unstable_scheduleCallback(Gs.unstable_NormalPriority,JQ)))}function cp(e){function t(a){return qf(a,e)}if(0<Rv.length){qf(Rv[0],e);for(var n=1;n<Rv.length;n++){var r=Rv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wl!==null&&qf(wl,e),jl!==null&&qf(jl,e),_l!==null&&qf(_l,e),op.forEach(t),lp.forEach(t),n=0;n<al.length;n++)r=al[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<al.length&&(n=al[0],n.blockedOn===null);)e6(n),n.blockedOn===null&&al.shift()}var yd=To.ReactCurrentBatchConfig,_y=!0;function XQ(e,t,n,r){var a=Ht,i=yd.transition;yd.transition=null;try{Ht=1,KE(e,t,n,r)}finally{Ht=a,yd.transition=i}}function QQ(e,t,n,r){var a=Ht,i=yd.transition;yd.transition=null;try{Ht=4,KE(e,t,n,r)}finally{Ht=a,yd.transition=i}}function KE(e,t,n,r){if(_y){var a=EN(e,t,n,r);if(a===null)o_(e,t,r,Ny,n),yO(e,r);else if(KQ(a,e,t,n,r))r.stopPropagation();else if(yO(e,r),t&4&&-1<YQ.indexOf(e)){for(;a!==null;){var i=Cg(a);if(i!==null&&JF(i),i=EN(e,t,n,r),i===null&&o_(e,t,r,Ny,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else o_(e,t,r,null,n)}}var Ny=null;function EN(e,t,n,r){if(Ny=null,e=WE(r),e=_c(e),e!==null)if(t=wu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zF(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ny=e,null}function t6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FQ()){case HE:return 1;case HF:return 4;case wy:case BQ:return 16;case GF:return 536870912;default:return 16}default:return 16}}var vl=null,JE=null,qx=null;function n6(){if(qx)return qx;var e,t=JE,n=t.length,r,a="value"in vl?vl.value:vl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return qx=a.slice(e,1<r?1-r:void 0)}function Vx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $v(){return!0}function wO(){return!1}function Js(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$v:wO,this.isPropagationStopped=wO,this}return Sn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$v)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$v)},persist:function(){},isPersistent:$v}),t}var Kh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XE=Js(Kh),Sg=Sn({},Kh,{view:0,detail:0}),ZQ=Js(Sg),Qj,Zj,Vf,E0=Sn({},Sg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vf&&(Vf&&e.type==="mousemove"?(Qj=e.screenX-Vf.screenX,Zj=e.screenY-Vf.screenY):Zj=Qj=0,Vf=e),Qj)},movementY:function(e){return"movementY"in e?e.movementY:Zj}}),jO=Js(E0),eZ=Sn({},E0,{dataTransfer:0}),tZ=Js(eZ),nZ=Sn({},Sg,{relatedTarget:0}),e_=Js(nZ),rZ=Sn({},Kh,{animationName:0,elapsedTime:0,pseudoElement:0}),sZ=Js(rZ),aZ=Sn({},Kh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iZ=Js(aZ),oZ=Sn({},Kh,{data:0}),_O=Js(oZ),lZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uZ[e])?!!t[e]:!1}function QE(){return dZ}var hZ=Sn({},Sg,{key:function(e){if(e.key){var t=lZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QE,charCode:function(e){return e.type==="keypress"?Vx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fZ=Js(hZ),mZ=Sn({},E0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NO=Js(mZ),pZ=Sn({},Sg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QE}),gZ=Js(pZ),vZ=Sn({},Kh,{propertyName:0,elapsedTime:0,pseudoElement:0}),xZ=Js(vZ),yZ=Sn({},E0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bZ=Js(yZ),wZ=[9,13,27,32],ZE=wo&&"CompositionEvent"in window,Om=null;wo&&"documentMode"in document&&(Om=document.documentMode);var jZ=wo&&"TextEvent"in window&&!Om,r6=wo&&(!ZE||Om&&8<Om&&11>=Om),SO=" ",CO=!1;function s6(e,t){switch(e){case"keyup":return wZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rd=!1;function _Z(e,t){switch(e){case"compositionend":return a6(t);case"keypress":return t.which!==32?null:(CO=!0,SO);case"textInput":return e=t.data,e===SO&&CO?null:e;default:return null}}function NZ(e,t){if(rd)return e==="compositionend"||!ZE&&s6(e,t)?(e=n6(),qx=JE=vl=null,rd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return r6&&t.locale!=="ko"?null:t.data;default:return null}}var SZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SZ[e.type]:t==="textarea"}function i6(e,t,n,r){$F(r),t=Sy(t,"onChange"),0<t.length&&(n=new XE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mm=null,up=null;function CZ(e){v6(e,0)}function P0(e){var t=id(e);if(AF(t))return e}function kZ(e,t){if(e==="change")return t}var o6=!1;if(wo){var t_;if(wo){var n_="oninput"in document;if(!n_){var EO=document.createElement("div");EO.setAttribute("oninput","return;"),n_=typeof EO.oninput=="function"}t_=n_}else t_=!1;o6=t_&&(!document.documentMode||9<document.documentMode)}function PO(){Mm&&(Mm.detachEvent("onpropertychange",l6),up=Mm=null)}function l6(e){if(e.propertyName==="value"&&P0(up)){var t=[];i6(t,up,e,WE(e)),UF(CZ,t)}}function EZ(e,t,n){e==="focusin"?(PO(),Mm=t,up=n,Mm.attachEvent("onpropertychange",l6)):e==="focusout"&&PO()}function PZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return P0(up)}function AZ(e,t){if(e==="click")return P0(t)}function TZ(e,t){if(e==="input"||e==="change")return P0(t)}function OZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ni=typeof Object.is=="function"?Object.is:OZ;function dp(e,t){if(ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!uN.call(t,a)||!ni(e[a],t[a]))return!1}return!0}function AO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TO(e,t){var n=AO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AO(n)}}function c6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?c6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function u6(){for(var e=window,t=xy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xy(e.document)}return t}function e2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MZ(e){var t=u6(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&c6(n.ownerDocument.documentElement,n)){if(r!==null&&e2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=TO(n,i);var o=TO(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DZ=wo&&"documentMode"in document&&11>=document.documentMode,sd=null,PN=null,Dm=null,AN=!1;function OO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AN||sd==null||sd!==xy(r)||(r=sd,"selectionStart"in r&&e2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dm&&dp(Dm,r)||(Dm=r,r=Sy(PN,"onSelect"),0<r.length&&(t=new XE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sd)))}function Lv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ad={animationend:Lv("Animation","AnimationEnd"),animationiteration:Lv("Animation","AnimationIteration"),animationstart:Lv("Animation","AnimationStart"),transitionend:Lv("Transition","TransitionEnd")},r_={},d6={};wo&&(d6=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function A0(e){if(r_[e])return r_[e];if(!ad[e])return e;var t=ad[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in d6)return r_[e]=t[n];return e}var h6=A0("animationend"),f6=A0("animationiteration"),m6=A0("animationstart"),p6=A0("transitionend"),g6=new Map,MO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(e,t){g6.set(e,t),bu(t,[e])}for(var s_=0;s_<MO.length;s_++){var a_=MO[s_],IZ=a_.toLowerCase(),RZ=a_[0].toUpperCase()+a_.slice(1);Hl(IZ,"on"+RZ)}Hl(h6,"onAnimationEnd");Hl(f6,"onAnimationIteration");Hl(m6,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(p6,"onTransitionEnd");eh("onMouseEnter",["mouseout","mouseover"]);eh("onMouseLeave",["mouseout","mouseover"]);eh("onPointerEnter",["pointerout","pointerover"]);eh("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$Z=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function DO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,IQ(r,t,void 0,e),e.currentTarget=null}function v6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;DO(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;DO(a,l,u),i=c}}}if(by)throw e=SN,by=!1,SN=null,e}function mn(e,t){var n=t[IN];n===void 0&&(n=t[IN]=new Set);var r=e+"__bubble";n.has(r)||(x6(t,e,2,!1),n.add(r))}function i_(e,t,n){var r=0;t&&(r|=4),x6(n,e,r,t)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function hp(e){if(!e[Fv]){e[Fv]=!0,SF.forEach(function(n){n!=="selectionchange"&&($Z.has(n)||i_(n,!1,e),i_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fv]||(t[Fv]=!0,i_("selectionchange",!1,t))}}function x6(e,t,n,r){switch(t6(t)){case 1:var a=XQ;break;case 4:a=QQ;break;default:a=KE}n=a.bind(null,t,n,e),a=void 0,!NN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function o_(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_c(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}UF(function(){var u=i,d=WE(n),h=[];e:{var f=g6.get(e);if(f!==void 0){var m=XE,p=e;switch(e){case"keypress":if(Vx(n)===0)break e;case"keydown":case"keyup":m=fZ;break;case"focusin":p="focus",m=e_;break;case"focusout":p="blur",m=e_;break;case"beforeblur":case"afterblur":m=e_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gZ;break;case h6:case f6:case m6:m=sZ;break;case p6:m=xZ;break;case"scroll":m=ZQ;break;case"wheel":m=bZ;break;case"copy":case"cut":case"paste":m=iZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=NO}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=ip(b,x),_!=null&&g.push(fp(b,_,w)))),v)break;b=b.return}0<g.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==jN&&(p=n.relatedTarget||n.fromElement)&&(_c(p)||p[jo]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?_c(p):null,p!==null&&(v=wu(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=jO,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=NO,_="onPointerLeave",x="onPointerEnter",b="pointer"),v=m==null?f:id(m),w=p==null?f:id(p),f=new g(_,b+"leave",m,n,d),f.target=v,f.relatedTarget=w,_=null,_c(d)===u&&(g=new g(x,b+"enter",p,n,d),g.target=w,g.relatedTarget=v,_=g),v=_,m&&p)t:{for(g=m,x=p,b=0,w=g;w;w=Ru(w))b++;for(w=0,_=x;_;_=Ru(_))w++;for(;0<b-w;)g=Ru(g),b--;for(;0<w-b;)x=Ru(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ru(g),x=Ru(x)}g=null}else g=null;m!==null&&IO(h,f,m,g,!1),p!==null&&v!==null&&IO(h,v,p,g,!0)}}e:{if(f=u?id(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=kZ;else if(kO(f))if(o6)N=TZ;else{N=PZ;var S=EZ}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=AZ);if(N&&(N=N(e,u))){i6(h,N,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&vN(f,"number",f.value)}switch(S=u?id(u):window,e){case"focusin":(kO(S)||S.contentEditable==="true")&&(sd=S,PN=u,Dm=null);break;case"focusout":Dm=PN=sd=null;break;case"mousedown":AN=!0;break;case"contextmenu":case"mouseup":case"dragend":AN=!1,OO(h,n,d);break;case"selectionchange":if(DZ)break;case"keydown":case"keyup":OO(h,n,d)}var C;if(ZE)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rd?s6(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(r6&&n.locale!=="ko"&&(rd||k!=="onCompositionStart"?k==="onCompositionEnd"&&rd&&(C=n6()):(vl=d,JE="value"in vl?vl.value:vl.textContent,rd=!0)),S=Sy(u,k),0<S.length&&(k=new _O(k,e,null,n,d),h.push({event:k,listeners:S}),C?k.data=C:(C=a6(n),C!==null&&(k.data=C)))),(C=jZ?_Z(e,n):NZ(e,n))&&(u=Sy(u,"onBeforeInput"),0<u.length&&(d=new _O("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}v6(h,t)})}function fp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sy(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ip(e,n),i!=null&&r.unshift(fp(e,i,a)),i=ip(e,t),i!=null&&r.push(fp(e,i,a))),e=e.return}return r}function Ru(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function IO(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=ip(n,i),c!=null&&o.unshift(fp(n,c,l))):a||(c=ip(n,i),c!=null&&o.push(fp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var LZ=/\r\n?/g,FZ=/\u0000|\uFFFD/g;function RO(e){return(typeof e=="string"?e:""+e).replace(LZ,`
`).replace(FZ,"")}function Bv(e,t,n){if(t=RO(t),RO(e)!==t&&n)throw Error(ke(425))}function Cy(){}var TN=null,ON=null;function MN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var DN=typeof setTimeout=="function"?setTimeout:void 0,BZ=typeof clearTimeout=="function"?clearTimeout:void 0,$O=typeof Promise=="function"?Promise:void 0,UZ=typeof queueMicrotask=="function"?queueMicrotask:typeof $O<"u"?function(e){return $O.resolve(null).then(e).catch(zZ)}:DN;function zZ(e){setTimeout(function(){throw e})}function l_(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),cp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);cp(t)}function Nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jh=Math.random().toString(36).slice(2),Ei="__reactFiber$"+Jh,mp="__reactProps$"+Jh,jo="__reactContainer$"+Jh,IN="__reactEvents$"+Jh,qZ="__reactListeners$"+Jh,VZ="__reactHandles$"+Jh;function _c(e){var t=e[Ei];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jo]||n[Ei]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=LO(e);e!==null;){if(n=e[Ei])return n;e=LO(e)}return t}e=n,n=e.parentNode}return null}function Cg(e){return e=e[Ei]||e[jo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function id(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function T0(e){return e[mp]||null}var RN=[],od=-1;function Gl(e){return{current:e}}function vn(e){0>od||(e.current=RN[od],RN[od]=null,od--)}function ln(e,t){od++,RN[od]=e.current,e.current=t}var Il={},Br=Gl(Il),hs=Gl(!1),Xc=Il;function th(e,t){var n=e.type.contextTypes;if(!n)return Il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fs(e){return e=e.childContextTypes,e!=null}function ky(){vn(hs),vn(Br)}function FO(e,t,n){if(Br.current!==Il)throw Error(ke(168));ln(Br,t),ln(hs,n)}function y6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ke(108,EQ(e)||"Unknown",a));return Sn({},n,r)}function Ey(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Il,Xc=Br.current,ln(Br,e),ln(hs,hs.current),!0}function BO(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=y6(e,t,Xc),r.__reactInternalMemoizedMergedChildContext=e,vn(hs),vn(Br),ln(Br,e)):vn(hs),ln(hs,n)}var ao=null,O0=!1,c_=!1;function b6(e){ao===null?ao=[e]:ao.push(e)}function WZ(e){O0=!0,b6(e)}function Yl(){if(!c_&&ao!==null){c_=!0;var e=0,t=Ht;try{var n=ao;for(Ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ao=null,O0=!1}catch(a){throw ao!==null&&(ao=ao.slice(e+1)),WF(HE,Yl),a}finally{Ht=t,c_=!1}}return null}var ld=[],cd=0,Py=null,Ay=0,oa=[],la=0,Qc=null,io=1,oo="";function mc(e,t){ld[cd++]=Ay,ld[cd++]=Py,Py=e,Ay=t}function w6(e,t,n){oa[la++]=io,oa[la++]=oo,oa[la++]=Qc,Qc=e;var r=io;e=oo;var a=32-Ka(r)-1;r&=~(1<<a),n+=1;var i=32-Ka(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,io=1<<32-Ka(t)+a|n<<a|r,oo=i+e}else io=1<<i|n<<a|r,oo=e}function t2(e){e.return!==null&&(mc(e,1),w6(e,1,0))}function n2(e){for(;e===Py;)Py=ld[--cd],ld[cd]=null,Ay=ld[--cd],ld[cd]=null;for(;e===Qc;)Qc=oa[--la],oa[la]=null,oo=oa[--la],oa[la]=null,io=oa[--la],oa[la]=null}var Vs=null,Us=null,xn=!1,Va=null;function j6(e,t){var n=da(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function UO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vs=e,Us=Nl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vs=e,Us=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qc!==null?{id:io,overflow:oo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=da(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vs=e,Us=null,!0):!1;default:return!1}}function $N(e){return(e.mode&1)!==0&&(e.flags&128)===0}function LN(e){if(xn){var t=Us;if(t){var n=t;if(!UO(e,t)){if($N(e))throw Error(ke(418));t=Nl(n.nextSibling);var r=Vs;t&&UO(e,t)?j6(r,n):(e.flags=e.flags&-4097|2,xn=!1,Vs=e)}}else{if($N(e))throw Error(ke(418));e.flags=e.flags&-4097|2,xn=!1,Vs=e}}}function zO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vs=e}function Uv(e){if(e!==Vs)return!1;if(!xn)return zO(e),xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!MN(e.type,e.memoizedProps)),t&&(t=Us)){if($N(e))throw _6(),Error(ke(418));for(;t;)j6(e,t),t=Nl(t.nextSibling)}if(zO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Us=Nl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Us=null}}else Us=Vs?Nl(e.stateNode.nextSibling):null;return!0}function _6(){for(var e=Us;e;)e=Nl(e.nextSibling)}function nh(){Us=Vs=null,xn=!1}function r2(e){Va===null?Va=[e]:Va.push(e)}var HZ=To.ReactCurrentBatchConfig;function Wf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function zv(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qO(e){var t=e._init;return t(e._payload)}function N6(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=El(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,_){return b===null||b.tag!==6?(b=g_(w,x.mode,_),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,_){var N=w.type;return N===nd?d(x,b,w.props.children,_,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zo&&qO(N)===b.type)?(_=a(b,w.props),_.ref=Wf(x,b,w),_.return=x,_):(_=Xx(w.type,w.key,w.props,null,x.mode,_),_.ref=Wf(x,b,w),_.return=x,_)}function u(x,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=v_(w,x.mode,_),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function d(x,b,w,_,N){return b===null||b.tag!==7?(b=qc(w,x.mode,_,N),b.return=x,b):(b=a(b,w),b.return=x,b)}function h(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=g_(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tv:return w=Xx(b.type,b.key,b.props,null,x.mode,w),w.ref=Wf(x,null,b),w.return=x,w;case td:return b=v_(b,x.mode,w),b.return=x,b;case Zo:var _=b._init;return h(x,_(b._payload),w)}if(vm(b)||Bf(b))return b=qc(b,x.mode,w,null),b.return=x,b;zv(x,b)}return null}function f(x,b,w,_){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tv:return w.key===N?c(x,b,w,_):null;case td:return w.key===N?u(x,b,w,_):null;case Zo:return N=w._init,f(x,b,N(w._payload),_)}if(vm(w)||Bf(w))return N!==null?null:d(x,b,w,_,null);zv(x,w)}return null}function m(x,b,w,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(b,x,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tv:return x=x.get(_.key===null?w:_.key)||null,c(b,x,_,N);case td:return x=x.get(_.key===null?w:_.key)||null,u(b,x,_,N);case Zo:var S=_._init;return m(x,b,w,S(_._payload),N)}if(vm(_)||Bf(_))return x=x.get(w)||null,d(b,x,_,N,null);zv(b,_)}return null}function p(x,b,w,_){for(var N=null,S=null,C=b,k=b=0,A=null;C!==null&&k<w.length;k++){C.index>k?(A=C,C=null):A=C.sibling;var T=f(x,C,w[k],_);if(T===null){C===null&&(C=A);break}e&&C&&T.alternate===null&&t(x,C),b=i(T,b,k),S===null?N=T:S.sibling=T,S=T,C=A}if(k===w.length)return n(x,C),xn&&mc(x,k),N;if(C===null){for(;k<w.length;k++)C=h(x,w[k],_),C!==null&&(b=i(C,b,k),S===null?N=C:S.sibling=C,S=C);return xn&&mc(x,k),N}for(C=r(x,C);k<w.length;k++)A=m(C,x,k,w[k],_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),b=i(A,b,k),S===null?N=A:S.sibling=A,S=A);return e&&C.forEach(function(E){return t(x,E)}),xn&&mc(x,k),N}function g(x,b,w,_){var N=Bf(w);if(typeof N!="function")throw Error(ke(150));if(w=N.call(w),w==null)throw Error(ke(151));for(var S=N=null,C=b,k=b=0,A=null,T=w.next();C!==null&&!T.done;k++,T=w.next()){C.index>k?(A=C,C=null):A=C.sibling;var E=f(x,C,T.value,_);if(E===null){C===null&&(C=A);break}e&&C&&E.alternate===null&&t(x,C),b=i(E,b,k),S===null?N=E:S.sibling=E,S=E,C=A}if(T.done)return n(x,C),xn&&mc(x,k),N;if(C===null){for(;!T.done;k++,T=w.next())T=h(x,T.value,_),T!==null&&(b=i(T,b,k),S===null?N=T:S.sibling=T,S=T);return xn&&mc(x,k),N}for(C=r(x,C);!T.done;k++,T=w.next())T=m(C,x,k,T.value,_),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),b=i(T,b,k),S===null?N=T:S.sibling=T,S=T);return e&&C.forEach(function(B){return t(x,B)}),xn&&mc(x,k),N}function v(x,b,w,_){if(typeof w=="object"&&w!==null&&w.type===nd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tv:e:{for(var N=w.key,S=b;S!==null;){if(S.key===N){if(N=w.type,N===nd){if(S.tag===7){n(x,S.sibling),b=a(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zo&&qO(N)===S.type){n(x,S.sibling),b=a(S,w.props),b.ref=Wf(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===nd?(b=qc(w.props.children,x.mode,_,w.key),b.return=x,x=b):(_=Xx(w.type,w.key,w.props,null,x.mode,_),_.ref=Wf(x,b,w),_.return=x,x=_)}return o(x);case td:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=v_(w,x.mode,_),b.return=x,x=b}return o(x);case Zo:return S=w._init,v(x,b,S(w._payload),_)}if(vm(w))return p(x,b,w,_);if(Bf(w))return g(x,b,w,_);zv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=a(b,w),b.return=x,x=b):(n(x,b),b=g_(w,x.mode,_),b.return=x,x=b),o(x)):n(x,b)}return v}var rh=N6(!0),S6=N6(!1),Ty=Gl(null),Oy=null,ud=null,s2=null;function a2(){s2=ud=Oy=null}function i2(e){var t=Ty.current;vn(Ty),e._currentValue=t}function FN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bd(e,t){Oy=e,s2=ud=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cs=!0),e.firstContext=null)}function ba(e){var t=e._currentValue;if(s2!==e)if(e={context:e,memoizedValue:t,next:null},ud===null){if(Oy===null)throw Error(ke(308));ud=e,Oy.dependencies={lanes:0,firstContext:e}}else ud=ud.next=e;return t}var Nc=null;function o2(e){Nc===null?Nc=[e]:Nc.push(e)}function C6(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,o2(t)):(n.next=a.next,a.next=n),t.interleaved=n,_o(e,r)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var el=!1;function l2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,_o(e,n)}return a=r.interleaved,a===null?(t.next=t,o2(r)):(t.next=a.next,a.next=t),r.interleaved=t,_o(e,n)}function Wx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,GE(e,n)}}function VO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function My(e,t,n,r){var a=e.updateQueue;el=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(f=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=Sn({},h,f);break e;case 2:el=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);eu|=o,e.lanes=o,e.memoizedState=h}}function WO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ke(191,a));a.call(r)}}}var kg={},Ii=Gl(kg),pp=Gl(kg),gp=Gl(kg);function Sc(e){if(e===kg)throw Error(ke(174));return e}function c2(e,t){switch(ln(gp,t),ln(pp,e),ln(Ii,kg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yN(t,e)}vn(Ii),ln(Ii,t)}function sh(){vn(Ii),vn(pp),vn(gp)}function E6(e){Sc(gp.current);var t=Sc(Ii.current),n=yN(t,e.type);t!==n&&(ln(pp,e),ln(Ii,n))}function u2(e){pp.current===e&&(vn(Ii),vn(pp))}var wn=Gl(0);function Dy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var u_=[];function d2(){for(var e=0;e<u_.length;e++)u_[e]._workInProgressVersionPrimary=null;u_.length=0}var Hx=To.ReactCurrentDispatcher,d_=To.ReactCurrentBatchConfig,Zc=0,_n=null,qn=null,sr=null,Iy=!1,Im=!1,vp=0,GZ=0;function Sr(){throw Error(ke(321))}function h2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ni(e[n],t[n]))return!1;return!0}function f2(e,t,n,r,a,i){if(Zc=i,_n=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hx.current=e===null||e.memoizedState===null?XZ:QZ,e=n(r,a),Im){i=0;do{if(Im=!1,vp=0,25<=i)throw Error(ke(301));i+=1,sr=qn=null,t.updateQueue=null,Hx.current=ZZ,e=n(r,a)}while(Im)}if(Hx.current=Ry,t=qn!==null&&qn.next!==null,Zc=0,sr=qn=_n=null,Iy=!1,t)throw Error(ke(300));return e}function m2(){var e=vp!==0;return vp=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?_n.memoizedState=sr=e:sr=sr.next=e,sr}function wa(){if(qn===null){var e=_n.alternate;e=e!==null?e.memoizedState:null}else e=qn.next;var t=sr===null?_n.memoizedState:sr.next;if(t!==null)sr=t,qn=e;else{if(e===null)throw Error(ke(310));qn=e,e={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},sr===null?_n.memoizedState=sr=e:sr=sr.next=e}return sr}function xp(e,t){return typeof t=="function"?t(e):t}function h_(e){var t=wa(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=qn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Zc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,_n.lanes|=d,eu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ni(r,t.memoizedState)||(cs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,_n.lanes|=i,eu|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function f_(e){var t=wa(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ni(i,t.memoizedState)||(cs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function P6(){}function A6(e,t){var n=_n,r=wa(),a=t(),i=!ni(r.memoizedState,a);if(i&&(r.memoizedState=a,cs=!0),r=r.queue,p2(M6.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||sr!==null&&sr.memoizedState.tag&1){if(n.flags|=2048,yp(9,O6.bind(null,n,r,a,t),void 0,null),lr===null)throw Error(ke(349));Zc&30||T6(n,t,a)}return a}function T6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O6(e,t,n,r){t.value=n,t.getSnapshot=r,D6(t)&&I6(e)}function M6(e,t,n){return n(function(){D6(t)&&I6(e)})}function D6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ni(e,n)}catch{return!0}}function I6(e){var t=_o(e,1);t!==null&&Ja(t,e,1,-1)}function HO(e){var t=yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:e},t.queue=e,e=e.dispatch=JZ.bind(null,_n,e),[t.memoizedState,e]}function yp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_n.updateQueue,t===null?(t={lastEffect:null,stores:null},_n.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function R6(){return wa().memoizedState}function Gx(e,t,n,r){var a=yi();_n.flags|=e,a.memoizedState=yp(1|t,n,void 0,r===void 0?null:r)}function M0(e,t,n,r){var a=wa();r=r===void 0?null:r;var i=void 0;if(qn!==null){var o=qn.memoizedState;if(i=o.destroy,r!==null&&h2(r,o.deps)){a.memoizedState=yp(t,n,i,r);return}}_n.flags|=e,a.memoizedState=yp(1|t,n,i,r)}function GO(e,t){return Gx(8390656,8,e,t)}function p2(e,t){return M0(2048,8,e,t)}function $6(e,t){return M0(4,2,e,t)}function L6(e,t){return M0(4,4,e,t)}function F6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B6(e,t,n){return n=n!=null?n.concat([e]):null,M0(4,4,F6.bind(null,t,e),n)}function g2(){}function U6(e,t){var n=wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&h2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function z6(e,t){var n=wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&h2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function q6(e,t,n){return Zc&21?(ni(n,t)||(n=YF(),_n.lanes|=n,eu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cs=!0),e.memoizedState=n)}function YZ(e,t){var n=Ht;Ht=n!==0&&4>n?n:4,e(!0);var r=d_.transition;d_.transition={};try{e(!1),t()}finally{Ht=n,d_.transition=r}}function V6(){return wa().memoizedState}function KZ(e,t,n){var r=kl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W6(e))H6(t,n);else if(n=C6(e,t,n,r),n!==null){var a=Qr();Ja(n,e,r,a),G6(n,t,r)}}function JZ(e,t,n){var r=kl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W6(e))H6(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,ni(l,o)){var c=t.interleaved;c===null?(a.next=a,o2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=C6(e,t,a,r),n!==null&&(a=Qr(),Ja(n,e,r,a),G6(n,t,r))}}function W6(e){var t=e.alternate;return e===_n||t!==null&&t===_n}function H6(e,t){Im=Iy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function G6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,GE(e,n)}}var Ry={readContext:ba,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},XZ={readContext:ba,useCallback:function(e,t){return yi().memoizedState=[e,t===void 0?null:t],e},useContext:ba,useEffect:GO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gx(4194308,4,F6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gx(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KZ.bind(null,_n,e),[r.memoizedState,e]},useRef:function(e){var t=yi();return e={current:e},t.memoizedState=e},useState:HO,useDebugValue:g2,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=HO(!1),t=e[0];return e=YZ.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_n,a=yi();if(xn){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=t(),lr===null)throw Error(ke(349));Zc&30||T6(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,GO(M6.bind(null,r,i,e),[e]),r.flags|=2048,yp(9,O6.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=lr.identifierPrefix;if(xn){var n=oo,r=io;n=(r&~(1<<32-Ka(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GZ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QZ={readContext:ba,useCallback:U6,useContext:ba,useEffect:p2,useImperativeHandle:B6,useInsertionEffect:$6,useLayoutEffect:L6,useMemo:z6,useReducer:h_,useRef:R6,useState:function(){return h_(xp)},useDebugValue:g2,useDeferredValue:function(e){var t=wa();return q6(t,qn.memoizedState,e)},useTransition:function(){var e=h_(xp)[0],t=wa().memoizedState;return[e,t]},useMutableSource:P6,useSyncExternalStore:A6,useId:V6,unstable_isNewReconciler:!1},ZZ={readContext:ba,useCallback:U6,useContext:ba,useEffect:p2,useImperativeHandle:B6,useInsertionEffect:$6,useLayoutEffect:L6,useMemo:z6,useReducer:f_,useRef:R6,useState:function(){return f_(xp)},useDebugValue:g2,useDeferredValue:function(e){var t=wa();return qn===null?t.memoizedState=e:q6(t,qn.memoizedState,e)},useTransition:function(){var e=f_(xp)[0],t=wa().memoizedState;return[e,t]},useMutableSource:P6,useSyncExternalStore:A6,useId:V6,unstable_isNewReconciler:!1};function $a(e,t){if(e&&e.defaultProps){t=Sn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function BN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Sn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var D0={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qr(),a=kl(e),i=mo(r,a);i.payload=t,n!=null&&(i.callback=n),t=Sl(e,i,a),t!==null&&(Ja(t,e,a,r),Wx(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qr(),a=kl(e),i=mo(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Sl(e,i,a),t!==null&&(Ja(t,e,a,r),Wx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qr(),r=kl(e),a=mo(n,r);a.tag=2,t!=null&&(a.callback=t),t=Sl(e,a,r),t!==null&&(Ja(t,e,r,n),Wx(t,e,r))}};function YO(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!dp(n,r)||!dp(a,i):!0}function Y6(e,t,n){var r=!1,a=Il,i=t.contextType;return typeof i=="object"&&i!==null?i=ba(i):(a=fs(t)?Xc:Br.current,r=t.contextTypes,i=(r=r!=null)?th(e,a):Il),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=D0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function KO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&D0.enqueueReplaceState(t,t.state,null)}function UN(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},l2(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ba(i):(i=fs(t)?Xc:Br.current,a.context=th(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(BN(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&D0.enqueueReplaceState(a,a.state,null),My(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ah(e,t){try{var n="",r=t;do n+=kQ(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function m_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eee=typeof WeakMap=="function"?WeakMap:Map;function K6(e,t,n){n=mo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ly||(Ly=!0,QN=r),zN(e,t)},n}function J6(e,t,n){n=mo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){zN(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zN(e,t),typeof r!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function JO(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eee;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=mee.bind(null,e,t,n),t.then(e,e))}function XO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function QO(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mo(-1,1),t.tag=2,Sl(n,t,1))),n.lanes|=1),e)}var tee=To.ReactCurrentOwner,cs=!1;function Yr(e,t,n,r){t.child=e===null?S6(t,null,n,r):rh(t,e.child,n,r)}function ZO(e,t,n,r,a){n=n.render;var i=t.ref;return bd(t,a),r=f2(e,t,n,r,i,a),n=m2(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,No(e,t,a)):(xn&&n&&t2(t),t.flags|=1,Yr(e,t,r,a),t.child)}function eM(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!N2(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,X6(e,t,i,r,a)):(e=Xx(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dp,n(o,r)&&e.ref===t.ref)return No(e,t,a)}return t.flags|=1,e=El(i,r),e.ref=t.ref,e.return=t,t.child=e}function X6(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(dp(i,r)&&e.ref===t.ref)if(cs=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(cs=!0);else return t.lanes=e.lanes,No(e,t,a)}return qN(e,t,n,r,a)}function Q6(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(hd,Rs),Rs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ln(hd,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ln(hd,Rs),Rs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ln(hd,Rs),Rs|=r;return Yr(e,t,a,n),t.child}function Z6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qN(e,t,n,r,a){var i=fs(n)?Xc:Br.current;return i=th(t,i),bd(t,a),n=f2(e,t,n,r,i,a),r=m2(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,No(e,t,a)):(xn&&r&&t2(t),t.flags|=1,Yr(e,t,n,a),t.child)}function tM(e,t,n,r,a){if(fs(n)){var i=!0;Ey(t)}else i=!1;if(bd(t,a),t.stateNode===null)Yx(e,t),Y6(t,n,r),UN(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ba(u):(u=fs(n)?Xc:Br.current,u=th(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&KO(t,o,r,u),el=!1;var f=t.memoizedState;o.state=f,My(t,r,o,a),c=t.memoizedState,l!==r||f!==c||hs.current||el?(typeof d=="function"&&(BN(t,n,d,r),c=t.memoizedState),(l=el||YO(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,k6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$a(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ba(c):(c=fs(n)?Xc:Br.current,c=th(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&KO(t,o,r,c),el=!1,f=t.memoizedState,o.state=f,My(t,r,o,a);var p=t.memoizedState;l!==h||f!==p||hs.current||el?(typeof m=="function"&&(BN(t,n,m,r),p=t.memoizedState),(u=el||YO(t,n,u,r,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return VN(e,t,n,r,i,a)}function VN(e,t,n,r,a,i){Z6(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&BO(t,n,!1),No(e,t,i);r=t.stateNode,tee.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rh(t,e.child,null,i),t.child=rh(t,null,l,i)):Yr(e,t,l,i),t.memoizedState=r.state,a&&BO(t,n,!0),t.child}function eB(e){var t=e.stateNode;t.pendingContext?FO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FO(e,t.context,!1),c2(e,t.containerInfo)}function nM(e,t,n,r,a){return nh(),r2(a),t.flags|=256,Yr(e,t,n,r),t.child}var WN={dehydrated:null,treeContext:null,retryLane:0};function HN(e){return{baseLanes:e,cachePool:null,transitions:null}}function tB(e,t,n){var r=t.pendingProps,a=wn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ln(wn,a&1),e===null)return LN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$0(o,r,0,null),e=qc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=HN(n),t.memoizedState=WN,e):v2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return nee(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=El(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=El(l,i):(i=qc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?HN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=WN,r}return i=e.child,e=i.sibling,r=El(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function v2(e,t){return t=$0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qv(e,t,n,r){return r!==null&&r2(r),rh(t,e.child,null,n),e=v2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nee(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=m_(Error(ke(422))),qv(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=$0({mode:"visible",children:r.children},a,0,null),i=qc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&rh(t,e.child,null,o),t.child.memoizedState=HN(o),t.memoizedState=WN,i);if(!(t.mode&1))return qv(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ke(419)),r=m_(i,r,void 0),qv(e,t,o,r)}if(l=(o&e.childLanes)!==0,cs||l){if(r=lr,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,_o(e,a),Ja(r,e,a,-1))}return _2(),r=m_(Error(ke(421))),qv(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pee.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Us=Nl(a.nextSibling),Vs=t,xn=!0,Va=null,e!==null&&(oa[la++]=io,oa[la++]=oo,oa[la++]=Qc,io=e.id,oo=e.overflow,Qc=t),t=v2(t,r.children),t.flags|=4096,t)}function rM(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),FN(e.return,t,n)}function p_(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function nB(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Yr(e,t,r.children,n),r=wn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rM(e,n,t);else if(e.tag===19)rM(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ln(wn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Dy(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),p_(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dy(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}p_(t,!0,n,null,i);break;case"together":p_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function No(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),eu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=El(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=El(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ree(e,t,n){switch(t.tag){case 3:eB(t),nh();break;case 5:E6(t);break;case 1:fs(t.type)&&Ey(t);break;case 4:c2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ln(Ty,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ln(wn,wn.current&1),t.flags|=128,null):n&t.child.childLanes?tB(e,t,n):(ln(wn,wn.current&1),e=No(e,t,n),e!==null?e.sibling:null);ln(wn,wn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nB(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ln(wn,wn.current),r)break;return null;case 22:case 23:return t.lanes=0,Q6(e,t,n)}return No(e,t,n)}var rB,GN,sB,aB;rB=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};GN=function(){};sB=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Sc(Ii.current);var i=null;switch(n){case"input":a=pN(e,a),r=pN(e,r),i=[];break;case"select":a=Sn({},a,{value:void 0}),r=Sn({},r,{value:void 0}),i=[];break;case"textarea":a=xN(e,a),r=xN(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cy)}bN(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};aB=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hf(e,t){if(!xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function see(e,t,n){var r=t.pendingProps;switch(n2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(t),null;case 1:return fs(t.type)&&ky(),Cr(t),null;case 3:return r=t.stateNode,sh(),vn(hs),vn(Br),d2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Va!==null&&(tS(Va),Va=null))),GN(e,t),Cr(t),null;case 5:u2(t);var a=Sc(gp.current);if(n=t.type,e!==null&&t.stateNode!=null)sB(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return Cr(t),null}if(e=Sc(Ii.current),Uv(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ei]=t,r[mp]=i,e=(t.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(a=0;a<ym.length;a++)mn(ym[a],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":hO(r,i),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mn("invalid",r);break;case"textarea":mO(r,i),mn("invalid",r)}bN(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bv(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bv(r.textContent,l,e),a=["children",""+l]):sp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mn("scroll",r)}switch(n){case"input":Ov(r),fO(r,i,!0);break;case"textarea":Ov(r),pO(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cy)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MF(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ei]=t,e[mp]=r,rB(e,t,!1,!1),t.stateNode=e;e:{switch(o=wN(n,r),n){case"dialog":mn("cancel",e),mn("close",e),a=r;break;case"iframe":case"object":case"embed":mn("load",e),a=r;break;case"video":case"audio":for(a=0;a<ym.length;a++)mn(ym[a],e);a=r;break;case"source":mn("error",e),a=r;break;case"img":case"image":case"link":mn("error",e),mn("load",e),a=r;break;case"details":mn("toggle",e),a=r;break;case"input":hO(e,r),a=pN(e,r),mn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Sn({},r,{value:void 0}),mn("invalid",e);break;case"textarea":mO(e,r),a=xN(e,r),mn("invalid",e);break;default:a=r}bN(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?RF(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DF(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ap(e,c):typeof c=="number"&&ap(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&mn("scroll",e):c!=null&&UE(e,i,c,o))}switch(n){case"input":Ov(e),fO(e,r,!1);break;case"textarea":Ov(e),pO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?gd(e,!!r.multiple,i,!1):r.defaultValue!=null&&gd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cr(t),null;case 6:if(e&&t.stateNode!=null)aB(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));if(n=Sc(gp.current),Sc(Ii.current),Uv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ei]=t,(i=r.nodeValue!==n)&&(e=Vs,e!==null))switch(e.tag){case 3:Bv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bv(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ei]=t,t.stateNode=r}return Cr(t),null;case 13:if(vn(wn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xn&&Us!==null&&t.mode&1&&!(t.flags&128))_6(),nh(),t.flags|=98560,i=!1;else if(i=Uv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ke(317));i[Ei]=t}else nh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cr(t),i=!1}else Va!==null&&(tS(Va),Va=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||wn.current&1?Wn===0&&(Wn=3):_2())),t.updateQueue!==null&&(t.flags|=4),Cr(t),null);case 4:return sh(),GN(e,t),e===null&&hp(t.stateNode.containerInfo),Cr(t),null;case 10:return i2(t.type._context),Cr(t),null;case 17:return fs(t.type)&&ky(),Cr(t),null;case 19:if(vn(wn),i=t.memoizedState,i===null)return Cr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Hf(i,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dy(e),o!==null){for(t.flags|=128,Hf(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ln(wn,wn.current&1|2),t.child}e=e.sibling}i.tail!==null&&On()>ih&&(t.flags|=128,r=!0,Hf(i,!1),t.lanes=4194304)}else{if(!r)if(e=Dy(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xn)return Cr(t),null}else 2*On()-i.renderingStartTime>ih&&n!==1073741824&&(t.flags|=128,r=!0,Hf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=On(),t.sibling=null,n=wn.current,ln(wn,r?n&1|2:n&1),t):(Cr(t),null);case 22:case 23:return j2(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rs&1073741824&&(Cr(t),t.subtreeFlags&6&&(t.flags|=8192)):Cr(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function aee(e,t){switch(n2(t),t.tag){case 1:return fs(t.type)&&ky(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sh(),vn(hs),vn(Br),d2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u2(t),null;case 13:if(vn(wn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));nh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vn(wn),null;case 4:return sh(),null;case 10:return i2(t.type._context),null;case 22:case 23:return j2(),null;case 24:return null;default:return null}}var Vv=!1,Tr=!1,iee=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function dd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kn(e,t,r)}else n.current=null}function YN(e,t,n){try{n()}catch(r){kn(e,t,r)}}var sM=!1;function oee(e,t){if(TN=_y,e=u6(),e2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ON={focusedElem:e,selectionRange:n},_y=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:$a(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(_){kn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return p=sM,sM=!1,p}function Rm(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&YN(t,n,i)}a=a.next}while(a!==r)}}function I0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function KN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iB(e){var t=e.alternate;t!==null&&(e.alternate=null,iB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ei],delete t[mp],delete t[IN],delete t[qZ],delete t[VZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oB(e){return e.tag===5||e.tag===3||e.tag===4}function aM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function JN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cy));else if(r!==4&&(e=e.child,e!==null))for(JN(e,t,n),e=e.sibling;e!==null;)JN(e,t,n),e=e.sibling}function XN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(XN(e,t,n),e=e.sibling;e!==null;)XN(e,t,n),e=e.sibling}var vr=null,Fa=!1;function Bo(e,t,n){for(n=n.child;n!==null;)lB(e,t,n),n=n.sibling}function lB(e,t,n){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(k0,n)}catch{}switch(n.tag){case 5:Tr||dd(n,t);case 6:var r=vr,a=Fa;vr=null,Bo(e,t,n),vr=r,Fa=a,vr!==null&&(Fa?(e=vr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(Fa?(e=vr,n=n.stateNode,e.nodeType===8?l_(e.parentNode,n):e.nodeType===1&&l_(e,n),cp(e)):l_(vr,n.stateNode));break;case 4:r=vr,a=Fa,vr=n.stateNode.containerInfo,Fa=!0,Bo(e,t,n),vr=r,Fa=a;break;case 0:case 11:case 14:case 15:if(!Tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&YN(n,t,o),a=a.next}while(a!==r)}Bo(e,t,n);break;case 1:if(!Tr&&(dd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kn(n,t,l)}Bo(e,t,n);break;case 21:Bo(e,t,n);break;case 22:n.mode&1?(Tr=(r=Tr)||n.memoizedState!==null,Bo(e,t,n),Tr=r):Bo(e,t,n);break;default:Bo(e,t,n)}}function iM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iee),t.forEach(function(r){var a=gee.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ta(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:vr=l.stateNode,Fa=!1;break e;case 3:vr=l.stateNode.containerInfo,Fa=!0;break e;case 4:vr=l.stateNode.containerInfo,Fa=!0;break e}l=l.return}if(vr===null)throw Error(ke(160));lB(i,o,a),vr=null,Fa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){kn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cB(t,e),t=t.sibling}function cB(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ta(t,e),vi(e),r&4){try{Rm(3,e,e.return),I0(3,e)}catch(g){kn(e,e.return,g)}try{Rm(5,e,e.return)}catch(g){kn(e,e.return,g)}}break;case 1:Ta(t,e),vi(e),r&512&&n!==null&&dd(n,n.return);break;case 5:if(Ta(t,e),vi(e),r&512&&n!==null&&dd(n,n.return),e.flags&32){var a=e.stateNode;try{ap(a,"")}catch(g){kn(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&TF(a,i),wN(l,o);var u=wN(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?RF(a,h):d==="dangerouslySetInnerHTML"?DF(a,h):d==="children"?ap(a,h):UE(a,d,h,u)}switch(l){case"input":gN(a,i);break;case"textarea":OF(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?gd(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?gd(a,!!i.multiple,i.defaultValue,!0):gd(a,!!i.multiple,i.multiple?[]:"",!1))}a[mp]=i}catch(g){kn(e,e.return,g)}}break;case 6:if(Ta(t,e),vi(e),r&4){if(e.stateNode===null)throw Error(ke(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){kn(e,e.return,g)}}break;case 3:if(Ta(t,e),vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cp(t.containerInfo)}catch(g){kn(e,e.return,g)}break;case 4:Ta(t,e),vi(e);break;case 13:Ta(t,e),vi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(b2=On())),r&4&&iM(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Tr=(u=Tr)||d,Ta(t,e),Tr=u):Ta(t,e),vi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ve=e,d=e.child;d!==null;){for(h=Ve=d;Ve!==null;){switch(f=Ve,m=f.child,f.tag){case 0:case 11:case 14:case 15:Rm(4,f,f.return);break;case 1:dd(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){kn(r,n,g)}}break;case 5:dd(f,f.return);break;case 22:if(f.memoizedState!==null){lM(h);continue}}m!==null?(m.return=f,Ve=m):lM(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=IF("display",o))}catch(g){kn(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ta(t,e),vi(e),r&4&&iM(e);break;case 21:break;default:Ta(t,e),vi(e)}}function vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oB(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ap(a,""),r.flags&=-33);var i=aM(e);XN(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=aM(e);JN(e,l,o);break;default:throw Error(ke(161))}}catch(c){kn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lee(e,t,n){Ve=e,uB(e)}function uB(e,t,n){for(var r=(e.mode&1)!==0;Ve!==null;){var a=Ve,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Vv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Tr;l=Vv;var u=Tr;if(Vv=o,(Tr=c)&&!u)for(Ve=a;Ve!==null;)o=Ve,c=o.child,o.tag===22&&o.memoizedState!==null?cM(a):c!==null?(c.return=o,Ve=c):cM(a);for(;i!==null;)Ve=i,uB(i),i=i.sibling;Ve=a,Vv=l,Tr=u}oM(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ve=i):oM(e)}}function oM(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tr||I0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:$a(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&WO(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}WO(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Tr||t.flags&512&&KN(t)}catch(f){kn(t,t.return,f)}}if(t===e){Ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function lM(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function cM(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{I0(4,t)}catch(c){kn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){kn(t,a,c)}}var i=t.return;try{KN(t)}catch(c){kn(t,i,c)}break;case 5:var o=t.return;try{KN(t)}catch(c){kn(t,o,c)}}}catch(c){kn(t,t.return,c)}if(t===e){Ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ve=l;break}Ve=t.return}}var cee=Math.ceil,$y=To.ReactCurrentDispatcher,x2=To.ReactCurrentOwner,pa=To.ReactCurrentBatchConfig,At=0,lr=null,Ln=null,br=0,Rs=0,hd=Gl(0),Wn=0,bp=null,eu=0,R0=0,y2=0,$m=null,os=null,b2=0,ih=1/0,to=null,Ly=!1,QN=null,Cl=null,Wv=!1,xl=null,Fy=0,Lm=0,ZN=null,Kx=-1,Jx=0;function Qr(){return At&6?On():Kx!==-1?Kx:Kx=On()}function kl(e){return e.mode&1?At&2&&br!==0?br&-br:HZ.transition!==null?(Jx===0&&(Jx=YF()),Jx):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:t6(e.type)),e):1}function Ja(e,t,n,r){if(50<Lm)throw Lm=0,ZN=null,Error(ke(185));Ng(e,n,r),(!(At&2)||e!==lr)&&(e===lr&&(!(At&2)&&(R0|=n),Wn===4&&il(e,br)),ms(e,r),n===1&&At===0&&!(t.mode&1)&&(ih=On()+500,O0&&Yl()))}function ms(e,t){var n=e.callbackNode;HQ(e,t);var r=jy(e,e===lr?br:0);if(r===0)n!==null&&xO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xO(n),t===1)e.tag===0?WZ(uM.bind(null,e)):b6(uM.bind(null,e)),UZ(function(){!(At&6)&&Yl()}),n=null;else{switch(KF(r)){case 1:n=HE;break;case 4:n=HF;break;case 16:n=wy;break;case 536870912:n=GF;break;default:n=wy}n=xB(n,dB.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dB(e,t){if(Kx=-1,Jx=0,At&6)throw Error(ke(327));var n=e.callbackNode;if(wd()&&e.callbackNode!==n)return null;var r=jy(e,e===lr?br:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=By(e,r);else{t=r;var a=At;At|=2;var i=fB();(lr!==e||br!==t)&&(to=null,ih=On()+500,zc(e,t));do try{hee();break}catch(l){hB(e,l)}while(!0);a2(),$y.current=i,At=a,Ln!==null?t=0:(lr=null,br=0,t=Wn)}if(t!==0){if(t===2&&(a=CN(e),a!==0&&(r=a,t=eS(e,a))),t===1)throw n=bp,zc(e,0),il(e,r),ms(e,On()),n;if(t===6)il(e,r);else{if(a=e.current.alternate,!(r&30)&&!uee(a)&&(t=By(e,r),t===2&&(i=CN(e),i!==0&&(r=i,t=eS(e,i))),t===1))throw n=bp,zc(e,0),il(e,r),ms(e,On()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ke(345));case 2:pc(e,os,to);break;case 3:if(il(e,r),(r&130023424)===r&&(t=b2+500-On(),10<t)){if(jy(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Qr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=DN(pc.bind(null,e,os,to),t);break}pc(e,os,to);break;case 4:if(il(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ka(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cee(r/1960))-r,10<r){e.timeoutHandle=DN(pc.bind(null,e,os,to),r);break}pc(e,os,to);break;case 5:pc(e,os,to);break;default:throw Error(ke(329))}}}return ms(e,On()),e.callbackNode===n?dB.bind(null,e):null}function eS(e,t){var n=$m;return e.current.memoizedState.isDehydrated&&(zc(e,t).flags|=256),e=By(e,t),e!==2&&(t=os,os=n,t!==null&&tS(t)),e}function tS(e){os===null?os=e:os.push.apply(os,e)}function uee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ni(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function il(e,t){for(t&=~y2,t&=~R0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ka(t),r=1<<n;e[n]=-1,t&=~r}}function uM(e){if(At&6)throw Error(ke(327));wd();var t=jy(e,0);if(!(t&1))return ms(e,On()),null;var n=By(e,t);if(e.tag!==0&&n===2){var r=CN(e);r!==0&&(t=r,n=eS(e,r))}if(n===1)throw n=bp,zc(e,0),il(e,t),ms(e,On()),n;if(n===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pc(e,os,to),ms(e,On()),null}function w2(e,t){var n=At;At|=1;try{return e(t)}finally{At=n,At===0&&(ih=On()+500,O0&&Yl())}}function tu(e){xl!==null&&xl.tag===0&&!(At&6)&&wd();var t=At;At|=1;var n=pa.transition,r=Ht;try{if(pa.transition=null,Ht=1,e)return e()}finally{Ht=r,pa.transition=n,At=t,!(At&6)&&Yl()}}function j2(){Rs=hd.current,vn(hd)}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,BZ(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(n2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ky();break;case 3:sh(),vn(hs),vn(Br),d2();break;case 5:u2(r);break;case 4:sh();break;case 13:vn(wn);break;case 19:vn(wn);break;case 10:i2(r.type._context);break;case 22:case 23:j2()}n=n.return}if(lr=e,Ln=e=El(e.current,null),br=Rs=t,Wn=0,bp=null,y2=R0=eu=0,os=$m=null,Nc!==null){for(t=0;t<Nc.length;t++)if(n=Nc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Nc=null}return e}function hB(e,t){do{var n=Ln;try{if(a2(),Hx.current=Ry,Iy){for(var r=_n.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Iy=!1}if(Zc=0,sr=qn=_n=null,Im=!1,vp=0,x2.current=null,n===null||n.return===null){Wn=1,bp=t,Ln=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=br,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=XO(o);if(m!==null){m.flags&=-257,QO(m,o,l,i,t),m.mode&1&&JO(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){JO(i,u,t),_2();break e}c=Error(ke(426))}}else if(xn&&l.mode&1){var v=XO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),QO(v,o,l,i,t),r2(ah(c,l));break e}}i=c=ah(c,l),Wn!==4&&(Wn=2),$m===null?$m=[i]:$m.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=K6(i,c,t);VO(i,x);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cl===null||!Cl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=J6(i,l,t);VO(i,_);break e}}i=i.return}while(i!==null)}pB(n)}catch(N){t=N,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(!0)}function fB(){var e=$y.current;return $y.current=Ry,e===null?Ry:e}function _2(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),lr===null||!(eu&268435455)&&!(R0&268435455)||il(lr,br)}function By(e,t){var n=At;At|=2;var r=fB();(lr!==e||br!==t)&&(to=null,zc(e,t));do try{dee();break}catch(a){hB(e,a)}while(!0);if(a2(),At=n,$y.current=r,Ln!==null)throw Error(ke(261));return lr=null,br=0,Wn}function dee(){for(;Ln!==null;)mB(Ln)}function hee(){for(;Ln!==null&&!$Q();)mB(Ln)}function mB(e){var t=vB(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,t===null?pB(e):Ln=t,x2.current=null}function pB(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aee(n,t),n!==null){n.flags&=32767,Ln=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,Ln=null;return}}else if(n=see(n,t,Rs),n!==null){Ln=n;return}if(t=t.sibling,t!==null){Ln=t;return}Ln=t=e}while(t!==null);Wn===0&&(Wn=5)}function pc(e,t,n){var r=Ht,a=pa.transition;try{pa.transition=null,Ht=1,fee(e,t,n,r)}finally{pa.transition=a,Ht=r}return null}function fee(e,t,n,r){do wd();while(xl!==null);if(At&6)throw Error(ke(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(GQ(e,i),e===lr&&(Ln=lr=null,br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wv||(Wv=!0,xB(wy,function(){return wd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pa.transition,pa.transition=null;var o=Ht;Ht=1;var l=At;At|=4,x2.current=null,oee(e,n),cB(n,e),MZ(ON),_y=!!TN,ON=TN=null,e.current=n,lee(n),LQ(),At=l,Ht=o,pa.transition=i}else e.current=n;if(Wv&&(Wv=!1,xl=e,Fy=a),i=e.pendingLanes,i===0&&(Cl=null),UQ(n.stateNode),ms(e,On()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ly)throw Ly=!1,e=QN,QN=null,e;return Fy&1&&e.tag!==0&&wd(),i=e.pendingLanes,i&1?e===ZN?Lm++:(Lm=0,ZN=e):Lm=0,Yl(),null}function wd(){if(xl!==null){var e=KF(Fy),t=pa.transition,n=Ht;try{if(pa.transition=null,Ht=16>e?16:e,xl===null)var r=!1;else{if(e=xl,xl=null,Fy=0,At&6)throw Error(ke(331));var a=At;for(At|=4,Ve=e.current;Ve!==null;){var i=Ve,o=i.child;if(Ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ve=u;Ve!==null;){var d=Ve;switch(d.tag){case 0:case 11:case 15:Rm(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ve=h;else for(;Ve!==null;){d=Ve;var f=d.sibling,m=d.return;if(iB(d),d===u){Ve=null;break}if(f!==null){f.return=m,Ve=f;break}Ve=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ve=o;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rm(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ve=x;break e}Ve=i.return}}var b=e.current;for(Ve=b;Ve!==null;){o=Ve;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ve=w;else e:for(o=b;Ve!==null;){if(l=Ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:I0(9,l)}}catch(N){kn(l,l.return,N)}if(l===o){Ve=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ve=_;break e}Ve=l.return}}if(At=a,Yl(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(k0,e)}catch{}r=!0}return r}finally{Ht=n,pa.transition=t}}return!1}function dM(e,t,n){t=ah(n,t),t=K6(e,t,1),e=Sl(e,t,1),t=Qr(),e!==null&&(Ng(e,1,t),ms(e,t))}function kn(e,t,n){if(e.tag===3)dM(e,e,n);else for(;t!==null;){if(t.tag===3){dM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cl===null||!Cl.has(r))){e=ah(n,e),e=J6(t,e,1),t=Sl(t,e,1),e=Qr(),t!==null&&(Ng(t,1,e),ms(t,e));break}}t=t.return}}function mee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qr(),e.pingedLanes|=e.suspendedLanes&n,lr===e&&(br&n)===n&&(Wn===4||Wn===3&&(br&130023424)===br&&500>On()-b2?zc(e,0):y2|=n),ms(e,t)}function gB(e,t){t===0&&(e.mode&1?(t=Iv,Iv<<=1,!(Iv&130023424)&&(Iv=4194304)):t=1);var n=Qr();e=_o(e,t),e!==null&&(Ng(e,t,n),ms(e,n))}function pee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gB(e,n)}function gee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(t),gB(e,n)}var vB;vB=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hs.current)cs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cs=!1,ree(e,t,n);cs=!!(e.flags&131072)}else cs=!1,xn&&t.flags&1048576&&w6(t,Ay,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yx(e,t),e=t.pendingProps;var a=th(t,Br.current);bd(t,n),a=f2(null,t,r,e,a,n);var i=m2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(r)?(i=!0,Ey(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,l2(t),a.updater=D0,t.stateNode=a,a._reactInternals=t,UN(t,r,e,n),t=VN(null,t,r,!0,i,n)):(t.tag=0,xn&&i&&t2(t),Yr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yx(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=xee(r),e=$a(r,e),a){case 0:t=qN(null,t,r,e,n);break e;case 1:t=tM(null,t,r,e,n);break e;case 11:t=ZO(null,t,r,e,n);break e;case 14:t=eM(null,t,r,$a(r.type,e),n);break e}throw Error(ke(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),qN(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),tM(e,t,r,a,n);case 3:e:{if(eB(t),e===null)throw Error(ke(387));r=t.pendingProps,i=t.memoizedState,a=i.element,k6(e,t),My(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ah(Error(ke(423)),t),t=nM(e,t,r,n,a);break e}else if(r!==a){a=ah(Error(ke(424)),t),t=nM(e,t,r,n,a);break e}else for(Us=Nl(t.stateNode.containerInfo.firstChild),Vs=t,xn=!0,Va=null,n=S6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nh(),r===a){t=No(e,t,n);break e}Yr(e,t,r,n)}t=t.child}return t;case 5:return E6(t),e===null&&LN(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,MN(r,a)?o=null:i!==null&&MN(r,i)&&(t.flags|=32),Z6(e,t),Yr(e,t,o,n),t.child;case 6:return e===null&&LN(t),null;case 13:return tB(e,t,n);case 4:return c2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rh(t,null,r,n):Yr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),ZO(e,t,r,a,n);case 7:return Yr(e,t,t.pendingProps,n),t.child;case 8:return Yr(e,t,t.pendingProps.children,n),t.child;case 12:return Yr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ln(Ty,r._currentValue),r._currentValue=o,i!==null)if(ni(i.value,o)){if(i.children===a.children&&!hs.current){t=No(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=mo(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),FN(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ke(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),FN(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,bd(t,n),a=ba(a),r=r(a),t.flags|=1,Yr(e,t,r,n),t.child;case 14:return r=t.type,a=$a(r,t.pendingProps),a=$a(r.type,a),eM(e,t,r,a,n);case 15:return X6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$a(r,a),Yx(e,t),t.tag=1,fs(r)?(e=!0,Ey(t)):e=!1,bd(t,n),Y6(t,r,a),UN(t,r,a,n),VN(null,t,r,!0,e,n);case 19:return nB(e,t,n);case 22:return Q6(e,t,n)}throw Error(ke(156,t.tag))};function xB(e,t){return WF(e,t)}function vee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(e,t,n,r){return new vee(e,t,n,r)}function N2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xee(e){if(typeof e=="function")return N2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qE)return 11;if(e===VE)return 14}return 2}function El(e,t){var n=e.alternate;return n===null?(n=da(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xx(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")N2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nd:return qc(n.children,a,i,t);case zE:o=8,a|=8;break;case dN:return e=da(12,n,t,a|2),e.elementType=dN,e.lanes=i,e;case hN:return e=da(13,n,t,a),e.elementType=hN,e.lanes=i,e;case fN:return e=da(19,n,t,a),e.elementType=fN,e.lanes=i,e;case EF:return $0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CF:o=10;break e;case kF:o=9;break e;case qE:o=11;break e;case VE:o=14;break e;case Zo:o=16,r=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=da(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function qc(e,t,n,r){return e=da(7,e,r,t),e.lanes=n,e}function $0(e,t,n,r){return e=da(22,e,r,t),e.elementType=EF,e.lanes=n,e.stateNode={isHidden:!1},e}function g_(e,t,n){return e=da(6,e,null,t),e.lanes=n,e}function v_(e,t,n){return t=da(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yee(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xj(0),this.expirationTimes=Xj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xj(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function S2(e,t,n,r,a,i,o,l,c){return e=new yee(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=da(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l2(i),e}function bee(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:td,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yB(e){if(!e)return Il;e=e._reactInternals;e:{if(wu(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var n=e.type;if(fs(n))return y6(e,n,t)}return t}function bB(e,t,n,r,a,i,o,l,c){return e=S2(n,r,!0,e,a,i,o,l,c),e.context=yB(null),n=e.current,r=Qr(),a=kl(n),i=mo(r,a),i.callback=t??null,Sl(n,i,a),e.current.lanes=a,Ng(e,a,r),ms(e,r),e}function L0(e,t,n,r){var a=t.current,i=Qr(),o=kl(a);return n=yB(n),t.context===null?t.context=n:t.pendingContext=n,t=mo(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sl(a,t,o),e!==null&&(Ja(e,a,o,i),Wx(e,a,o)),o}function Uy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function C2(e,t){hM(e,t),(e=e.alternate)&&hM(e,t)}function wee(){return null}var wB=typeof reportError=="function"?reportError:function(e){console.error(e)};function k2(e){this._internalRoot=e}F0.prototype.render=k2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));L0(e,t,null,null)};F0.prototype.unmount=k2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tu(function(){L0(null,e,null,null)}),t[jo]=null}};function F0(e){this._internalRoot=e}F0.prototype.unstable_scheduleHydration=function(e){if(e){var t=QF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<al.length&&t!==0&&t<al[n].priority;n++);al.splice(n,0,e),n===0&&e6(e)}};function E2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function B0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fM(){}function jee(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Uy(o);i.call(u)}}var o=bB(t,r,e,0,null,!1,!1,"",fM);return e._reactRootContainer=o,e[jo]=o.current,hp(e.nodeType===8?e.parentNode:e),tu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Uy(c);l.call(u)}}var c=S2(e,0,!1,null,null,!1,!1,"",fM);return e._reactRootContainer=c,e[jo]=c.current,hp(e.nodeType===8?e.parentNode:e),tu(function(){L0(t,c,n,r)}),c}function U0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Uy(o);l.call(c)}}L0(t,o,e,a)}else o=jee(n,t,e,a,r);return Uy(o)}JF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xm(t.pendingLanes);n!==0&&(GE(t,n|1),ms(t,On()),!(At&6)&&(ih=On()+500,Yl()))}break;case 13:tu(function(){var r=_o(e,1);if(r!==null){var a=Qr();Ja(r,e,1,a)}}),C2(e,1)}};YE=function(e){if(e.tag===13){var t=_o(e,134217728);if(t!==null){var n=Qr();Ja(t,e,134217728,n)}C2(e,134217728)}};XF=function(e){if(e.tag===13){var t=kl(e),n=_o(e,t);if(n!==null){var r=Qr();Ja(n,e,t,r)}C2(e,t)}};QF=function(){return Ht};ZF=function(e,t){var n=Ht;try{return Ht=e,t()}finally{Ht=n}};_N=function(e,t,n){switch(t){case"input":if(gN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=T0(r);if(!a)throw Error(ke(90));AF(r),gN(r,a)}}}break;case"textarea":OF(e,n);break;case"select":t=n.value,t!=null&&gd(e,!!n.multiple,t,!1)}};FF=w2;BF=tu;var _ee={usingClientEntryPoint:!1,Events:[Cg,id,T0,$F,LF,w2]},Gf={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nee={bundleType:Gf.bundleType,version:Gf.version,rendererPackageName:Gf.rendererPackageName,rendererConfig:Gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:To.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qF(e),e===null?null:e.stateNode},findFiberByHostInstance:Gf.findFiberByHostInstance||wee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hv.isDisabled&&Hv.supportsFiber)try{k0=Hv.inject(Nee),Di=Hv}catch{}}Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ee;Ks.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E2(t))throw Error(ke(200));return bee(e,t,null,n)};Ks.createRoot=function(e,t){if(!E2(e))throw Error(ke(299));var n=!1,r="",a=wB;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=S2(e,1,!1,null,null,n,!1,r,a),e[jo]=t.current,hp(e.nodeType===8?e.parentNode:e),new k2(t)};Ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=qF(t),e=e===null?null:e.stateNode,e};Ks.flushSync=function(e){return tu(e)};Ks.hydrate=function(e,t,n){if(!B0(t))throw Error(ke(200));return U0(null,e,t,!0,n)};Ks.hydrateRoot=function(e,t,n){if(!E2(e))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=wB;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bB(t,null,e,1,n??null,a,!1,i,o),e[jo]=t.current,hp(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new F0(t)};Ks.render=function(e,t,n){if(!B0(t))throw Error(ke(200));return U0(null,e,t,!1,n)};Ks.unmountComponentAtNode=function(e){if(!B0(e))throw Error(ke(40));return e._reactRootContainer?(tu(function(){U0(null,null,e,!1,function(){e._reactRootContainer=null,e[jo]=null})}),!0):!1};Ks.unstable_batchedUpdates=w2;Ks.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!B0(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return U0(e,t,n,!1,r)};Ks.version="18.3.1-next-f1338f8080-20240426";function jB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jB)}catch(e){console.error(e)}}jB(),jF.exports=Ks;var ha=jF.exports;const _B=qt(ha);var NB,mM=ha;NB=mM.createRoot,mM.hydrateRoot;const See=1,Cee=1e6;let x_=0;function kee(){return x_=(x_+1)%Number.MAX_SAFE_INTEGER,x_.toString()}const y_=new Map,pM=e=>{if(y_.has(e))return;const t=setTimeout(()=>{y_.delete(e),Fm({type:"REMOVE_TOAST",toastId:e})},Cee);y_.set(e,t)},Eee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,See)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?pM(n):e.toasts.forEach(r=>{pM(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Qx=[];let Zx={toasts:[]};function Fm(e){Zx=Eee(Zx,e),Qx.forEach(t=>{t(Zx)})}function De({...e}){const t=kee(),n=a=>Fm({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Fm({type:"DISMISS_TOAST",toastId:t});return Fm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function bn(){const[e,t]=y.useState(Zx);return y.useEffect(()=>(Qx.push(t),()=>{const n=Qx.indexOf(t);n>-1&&Qx.splice(n,1)}),[e]),{...e,toast:De,dismiss:n=>Fm({type:"DISMISS_TOAST",toastId:n})}}function Ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Pee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function z0(...e){return t=>e.forEach(n=>Pee(n,t))}function Xe(...e){return y.useCallback(z0(...e),e)}function Aee(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,v=y.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=y.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Tee(a,...t)]}function Tee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var js=y.forwardRef((e,t)=>{const{children:n,...r}=e,a=y.Children.toArray(n),i=a.find(Oee);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(nS,{...r,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(nS,{...r,ref:t,children:n})});js.displayName="Slot";var nS=y.forwardRef((e,t)=>{const{children:n,...r}=e;if(y.isValidElement(n)){const a=Dee(n);return y.cloneElement(n,{...Mee(r,n.props),ref:t?z0(t,a):a})}return y.Children.count(n)>1?y.Children.only(null):null});nS.displayName="SlotClone";var P2=({children:e})=>s.jsx(s.Fragment,{children:e});function Oee(e){return y.isValidElement(e)&&e.type===P2}function Mee(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Dee(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Eg(e){const t=e+"CollectionProvider",[n,r]=Aee(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:p,children:g}=m,v=J.useRef(null),x=J.useRef(new Map).current;return s.jsx(a,{scope:p,itemMap:x,collectionRef:v,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=J.forwardRef((m,p)=>{const{scope:g,children:v}=m,x=i(l,g),b=Xe(p,x.collectionRef);return s.jsx(js,{ref:b,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=J.forwardRef((m,p)=>{const{scope:g,children:v,...x}=m,b=J.useRef(null),w=Xe(p,b),_=i(u,g);return J.useEffect(()=>(_.itemMap.set(b,{ref:b,...x}),()=>void _.itemMap.delete(b))),s.jsx(js,{[d]:"",ref:w,children:v})});h.displayName=u;function f(m){const p=i(e+"CollectionConsumer",m);return J.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((_,N)=>x.indexOf(_.ref.current)-x.indexOf(N.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function Iee(e,t){const n=y.createContext(t),r=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=y.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Ur(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:m,...p}=h,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,v=y.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,p=y.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Ree(a,...t)]}function Ree(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var $ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=$ee.reduce((e,t)=>{const n=y.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?js:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function A2(e,t){e&&ha.flushSync(()=>e.dispatchEvent(t))}function jn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Lee(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e);y.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Fee="DismissableLayer",rS="dismissableLayer.update",Bee="dismissableLayer.pointerDownOutside",Uee="dismissableLayer.focusOutside",gM,SB=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ju=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(SB),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),p=Xe(t,C=>h(C)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,N=qee(C=>{const k=C.target,A=[...u.branches].some(T=>T.contains(k));!_||A||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),S=Vee(C=>{const k=C.target;[...u.branches].some(T=>T.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return Lee(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gM=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),vM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=gM)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),vM())},[d,u]),y.useEffect(()=>{const C=()=>m({});return document.addEventListener(rS,C),()=>document.removeEventListener(rS,C)},[]),s.jsx(ze.div,{...c,ref:p,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,N.onPointerDownCapture)})});ju.displayName=Fee;var zee="DismissableLayerBranch",CB=y.forwardRef((e,t)=>{const n=y.useContext(SB),r=y.useRef(null),a=Xe(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(ze.div,{...e,ref:a})});CB.displayName=zee;function qee(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e),r=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){kB(Bee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Vee(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e),r=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!r.current&&kB(Uee,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vM(){const e=new CustomEvent(rS);document.dispatchEvent(e)}function kB(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?A2(a,i):a.dispatchEvent(i)}var Wee=ju,Hee=CB,ur=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Gee="Portal",Xh=y.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=y.useState(!1);ur(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?_B.createPortal(s.jsx(ze.div,{...r,ref:t}),o):null});Xh.displayName=Gee;function Yee(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Un=e=>{const{present:t,children:n}=e,r=Kee(t),a=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Xe(r.ref,Jee(a));return typeof n=="function"||r.isPresent?y.cloneElement(a,{ref:i}):null};Un.displayName="Presence";function Kee(e){const[t,n]=y.useState(),r=y.useRef({}),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Yee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Gv(r.current);i.current=l==="mounted"?u:"none"},[l]),ur(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=Gv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ur(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=Gv(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(i.current=Gv(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Gv(e){return(e==null?void 0:e.animationName)||"none"}function Jee(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _s({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Xee({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=jn(n),c=y.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function Xee({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,a=y.useRef(r),i=jn(t);return y.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Qee="VisuallyHidden",Pg=y.forwardRef((e,t)=>s.jsx(ze.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Pg.displayName=Qee;var Zee=Pg,T2="ToastProvider",[O2,ete,tte]=Eg("Toast"),[EB,TGe]=Ur("Toast",[tte]),[nte,q0]=EB(T2),PB=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${T2}\`. Expected non-empty \`string\`.`),s.jsx(O2.Provider,{scope:t,children:s.jsx(nte,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};PB.displayName=T2;var AB="ToastViewport",rte=["F8"],sS="toast.viewportPause",aS="toast.viewportResume",TB=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=rte,label:a="Notifications ({hotkey})",...i}=e,o=q0(AB,n),l=ete(n),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=Xe(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const v=x=>{var w;r.length!==0&&r.every(_=>x[_]||x.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),y.useEffect(()=>{const v=c.current,x=h.current;if(p&&v&&x){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(sS);x.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(aS);x.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!v.contains(S.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",_),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const _=w.ref.current,N=[_,...gte(_)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return y.useEffect(()=>{const v=h.current;if(v){const x=b=>{var N,S,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const k=document.activeElement,A=b.shiftKey;if(b.target===v&&A){(N=u.current)==null||N.focus();return}const B=g({tabbingDirection:A?"backwards":"forwards"}),U=B.findIndex($=>$===k);b_(B.slice(U+1))?b.preventDefault():A?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,g]),s.jsxs(Hee,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&s.jsx(iS,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});b_(v)}}),s.jsx(O2.Slot,{scope:n,children:s.jsx(ze.ol,{tabIndex:-1,...i,ref:f})}),p&&s.jsx(iS,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});b_(v)}})]})});TB.displayName=AB;var OB="ToastFocusProxy",iS=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=q0(OB,n);return s.jsx(Pg,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});iS.displayName=OB;var V0="Toast",ste="toast.swipeStart",ate="toast.swipeMove",ite="toast.swipeCancel",ote="toast.swipeEnd",MB=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=_s({prop:r,defaultProp:a,onChange:i});return s.jsx(Un,{present:n||l,children:s.jsx(ute,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:jn(e.onPause),onResume:jn(e.onResume),onSwipeStart:Ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});MB.displayName=V0;var[lte,cte]=EB(V0,{onClose(){}}),ute=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...p}=e,g=q0(V0,n),[v,x]=y.useState(null),b=Xe(t,$=>x($)),w=y.useRef(null),_=y.useRef(null),N=a||g.duration,S=y.useRef(0),C=y.useRef(N),k=y.useRef(0),{onToastAdd:A,onToastRemove:T}=g,E=jn(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),o()}),B=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(E,$))},[E]);y.useEffect(()=>{const $=g.viewport;if($){const F=()=>{B(C.current),u==null||u()},M=()=>{const R=new Date().getTime()-S.current;C.current=C.current-R,window.clearTimeout(k.current),c==null||c()};return $.addEventListener(sS,M),$.addEventListener(aS,F),()=>{$.removeEventListener(sS,M),$.removeEventListener(aS,F)}}},[g.viewport,N,c,u,B]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&B(N)},[i,N,g.isClosePausedRef,B]),y.useEffect(()=>(A(),()=>T()),[A,T]);const U=y.useMemo(()=>v?BB(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(dte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(lte,{scope:n,onClose:E,children:ha.createPortal(s.jsx(O2.ItemSlot,{scope:n,children:s.jsx(Wee,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||E(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Ne(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ne(e.onPointerMove,$=>{if(!w.current)return;const F=$.clientX-w.current.x,M=$.clientY-w.current.y,R=!!_.current,D=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=D?L(0,F):0,z=D?0:L(0,M),H=$.pointerType==="touch"?10:2,j={x:I,y:z},P={originalEvent:$,delta:j};R?(_.current=j,Yv(ate,h,P,{discrete:!1})):xM(j,g.swipeDirection,H)?(_.current=j,Yv(ste,d,P,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>H||Math.abs(M)>H)&&(w.current=null)}),onPointerUp:Ne(e.onPointerUp,$=>{const F=_.current,M=$.target;if(M.hasPointerCapture($.pointerId)&&M.releasePointerCapture($.pointerId),_.current=null,w.current=null,F){const R=$.currentTarget,D={originalEvent:$,delta:F};xM(F,g.swipeDirection,g.swipeThreshold)?Yv(ote,m,D,{discrete:!0}):Yv(ite,f,D,{discrete:!0}),R.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),dte=e=>{const{__scopeToast:t,children:n,...r}=e,a=q0(V0,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return mte(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Xh,{asChild:!0,children:s.jsx(Pg,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},hte="ToastTitle",DB=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(ze.div,{...r,ref:t})});DB.displayName=hte;var fte="ToastDescription",IB=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(ze.div,{...r,ref:t})});IB.displayName=fte;var RB="ToastAction",$B=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(FB,{altText:n,asChild:!0,children:s.jsx(M2,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${RB}\`. Expected non-empty \`string\`.`),null)});$B.displayName=RB;var LB="ToastClose",M2=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=cte(LB,n);return s.jsx(FB,{asChild:!0,children:s.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ne(e.onClick,a.onClose)})})});M2.displayName=LB;var FB=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function BB(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),pte(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...BB(r))}}),t}function Yv(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?A2(a,i):a.dispatchEvent(i)}var xM=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function mte(e=()=>{}){const t=jn(e);ur(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function pte(e){return e.nodeType===e.ELEMENT_NODE}function gte(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function b_(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var vte=PB,UB=TB,zB=MB,qB=DB,VB=IB,WB=$B,HB=M2;function GB(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=GB(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=GB(e))&&(r&&(r+=" "),r+=t);return r}const yM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bM=kt,Qh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=yM(d)||yM(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,h,f]:u},[]);return bM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...yte,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YB("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=y.forwardRef(({className:r,...a},i)=>y.createElement(bte,{ref:i,iconNode:t,className:YB(`lucide-${xte(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=_e("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=_e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=_e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=_e("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=_e("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=_e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=_e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=_e("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=_e("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=_e("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=_e("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=_e("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=_e("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=_e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=_e("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=_e("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=_e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=_e("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=_e("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=_e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=_e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=_e("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=_e("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=_e("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=_e("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=_e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=_e("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=_e("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=_e("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=_e("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=_e("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=_e("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=_e("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=_e("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=_e("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),W2="-",Kte=e=>{const t=Xte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(W2);return l[0]===""&&l.length!==1&&l.shift(),a8(l,t)||Jte(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},a8=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?a8(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(W2);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},kM=/^\[(.+)\]$/,Jte=e=>{if(kM.test(e)){const t=kM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Xte=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Zte(Object.entries(e.classGroups),n).forEach(([i,o])=>{fS(o,r,i,t)}),r},fS=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:EM(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(Qte(a)){fS(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{fS(o,EM(t,i),n,r)})})},EM=(e,t)=>{let n=e;return t.split(W2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Qte=e=>e.isThemeGetter,Zte=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,ene=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},i8="!",tne=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(r||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(i8),p=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},nne=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},rne=e=>({cache:ene(e.cacheSize),parseClassName:tne(e),...Kte(e)}),sne=/\s+/,ane=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(sne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let p=!!m,g=r(p?f.substring(0,m):f);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=nne(d).join(":"),x=h?v+i8:v,b=x+g;if(i.includes(b))continue;i.push(b);const w=a(g,p);for(let _=0;_<w.length;++_){const N=w[_];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function ine(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=o8(t))&&(r&&(r+=" "),r+=n);return r}const o8=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=o8(e[r]))&&(n&&(n+=" "),n+=t);return n};function one(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=rne(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=ane(c,n);return a(c,d),d}return function(){return i(ine.apply(null,arguments))}}const fn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},l8=/^\[(?:([a-z-]+):)?(.+)\]$/i,lne=/^\d+\/\d+$/,cne=new Set(["px","full","screen"]),une=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ki=e=>_d(e)||cne.has(e)||lne.test(e),zo=e=>ef(e,"length",jne),_d=e=>!!e&&!Number.isNaN(Number(e)),j_=e=>ef(e,"number",_d),Yf=e=>!!e&&Number.isInteger(Number(e)),pne=e=>e.endsWith("%")&&_d(e.slice(0,-1)),ht=e=>l8.test(e),qo=e=>une.test(e),gne=new Set(["length","size","percentage"]),vne=e=>ef(e,gne,c8),xne=e=>ef(e,"position",c8),yne=new Set(["image","url"]),bne=e=>ef(e,yne,Nne),wne=e=>ef(e,"",_ne),Kf=()=>!0,ef=(e,t,n)=>{const r=l8.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},jne=e=>dne.test(e)&&!hne.test(e),c8=()=>!1,_ne=e=>fne.test(e),Nne=e=>mne.test(e),Sne=()=>{const e=fn("colors"),t=fn("spacing"),n=fn("blur"),r=fn("brightness"),a=fn("borderColor"),i=fn("borderRadius"),o=fn("borderSpacing"),l=fn("borderWidth"),c=fn("contrast"),u=fn("grayscale"),d=fn("hueRotate"),h=fn("invert"),f=fn("gap"),m=fn("gradientColorStops"),p=fn("gradientColorStopPositions"),g=fn("inset"),v=fn("margin"),x=fn("opacity"),b=fn("padding"),w=fn("saturate"),_=fn("scale"),N=fn("sepia"),S=fn("skew"),C=fn("space"),k=fn("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ht,t],B=()=>[ht,t],U=()=>["",Ki,zo],$=()=>["auto",_d,ht],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ht],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[_d,ht];return{cacheSize:500,separator:":",theme:{colors:[Kf],spacing:[Ki,zo],blur:["none","",qo,ht],brightness:z(),borderColor:[e],borderRadius:["none","","full",qo,ht],borderSpacing:B(),borderWidth:U(),contrast:z(),grayscale:L(),hueRotate:z(),invert:L(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[pne,zo],inset:E(),margin:E(),opacity:z(),padding:B(),saturate:z(),scale:z(),sepia:L(),skew:z(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ht]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yf,ht]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Yf,ht]}],"grid-cols":[{"grid-cols":[Kf]}],"col-start-end":[{col:["auto",{span:["full",Yf,ht]},ht]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Kf]}],"row-start-end":[{row:["auto",{span:[Yf,ht]},ht]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ht,t]}],"min-w":[{"min-w":[ht,t,"min","max","fit"]}],"max-w":[{"max-w":[ht,t,"none","full","min","max","fit","prose",{screen:[qo]},qo]}],h:[{h:[ht,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ht,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ht,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ht,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qo,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",j_]}],"font-family":[{font:[Kf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ht]}],"line-clamp":[{"line-clamp":["none",_d,j_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ki,ht]}],"list-image":[{"list-image":["none",ht]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ki,zo]}],"underline-offset":[{"underline-offset":["auto",Ki,ht]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),xne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Ki,ht]}],"outline-w":[{outline:[Ki,zo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ki,zo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qo,wne]}],"shadow-color":[{shadow:[Kf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qo,ht]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Yf,ht]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ki,zo,j_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cne=one(Sne);function xe(...e){return Cne(kt(e))}const kne=vte,u8=y.forwardRef(({className:e,...t},n)=>s.jsx(UB,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));u8.displayName=UB.displayName;const Ene=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d8=y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(zB,{ref:r,className:xe(Ene({variant:t}),e),...n}));d8.displayName=zB.displayName;const Pne=y.forwardRef(({className:e,...t},n)=>s.jsx(WB,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pne.displayName=WB.displayName;const h8=y.forwardRef(({className:e,...t},n)=>s.jsx(HB,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Kl,{className:"h-4 w-4"})}));h8.displayName=HB.displayName;const f8=y.forwardRef(({className:e,...t},n)=>s.jsx(qB,{ref:n,className:xe("text-sm font-semibold",e),...t}));f8.displayName=qB.displayName;const m8=y.forwardRef(({className:e,...t},n)=>s.jsx(VB,{ref:n,className:xe("text-sm opacity-90",e),...t}));m8.displayName=VB.displayName;function Ane(){const{toasts:e}=bn();return s.jsxs(kne,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(d8,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(f8,{children:n}),r&&s.jsx(m8,{children:r})]}),a,s.jsx(h8,{})]},t)}),s.jsx(u8,{})]})}var PM=["light","dark"],Tne="(prefers-color-scheme: dark)",One=y.createContext(void 0),Mne={setTheme:e=>{},themes:[]},H2=()=>{var e;return(e=y.useContext(One))!=null?e:Mne};y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?PM.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(p,g=!1,v=!0)=>{let x=o?o[p]:p,b=g?p+"|| ''":`'${x}'`,w="";return a&&v&&!g&&PM.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),n==="class"?g||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Tne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Dne=e=>{switch(e){case"success":return $ne;case"info":return Fne;case"warning":return Lne;case"error":return Bne;default:return null}},Ine=Array(12).fill(0),Rne=({visible:e})=>J.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},J.createElement("div",{className:"sonner-spinner"},Ine.map((t,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),$ne=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Lne=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Fne=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Bne=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Une=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},mS=1,zne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:mS++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let a=t instanceof Promise?t:t(),i=r!==void 0;return a.then(async o=>{if(Vne(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||mS++;return this.create({jsx:t(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Is=new zne,qne=(e,t)=>{let n=(t==null?void 0:t.id)||mS++;return Is.addToast({title:e,...t,id:n}),n},Vne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Wne=qne,Hne=()=>Is.toasts,ve=Object.assign(Wne,{success:Is.success,info:Is.info,warning:Is.warning,error:Is.error,custom:Is.custom,message:Is.message,promise:Is.promise,dismiss:Is.dismiss,loading:Is.loading},{getHistory:Hne});function Gne(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Gne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kv(e){return e.label!==void 0}var Yne=3,Kne="32px",Jne=4e3,Xne=356,Qne=14,Zne=20,ere=200;function tre(...e){return e.filter(Boolean).join(" ")}var nre=e=>{var t,n,r,a,i,o,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:p,setHeights:g,visibleToasts:v,heights:x,index:b,toasts:w,expanded:_,removeToast:N,defaultRichColors:S,closeButton:C,style:k,cancelButtonStyle:A,actionButtonStyle:T,className:E="",descriptionClassName:B="",duration:U,position:$,gap:F,loadingIcon:M,expandByDefault:R,classNames:D,icons:L,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:z,cn:H}=e,[j,P]=J.useState(!1),[O,V]=J.useState(!1),[W,Z]=J.useState(!1),[te,q]=J.useState(!1),[X,re]=J.useState(0),[pe,ye]=J.useState(0),le=J.useRef(null),be=J.useRef(null),Se=b===0,Oe=b+1<=v,qe=f.type,Ge=f.dismissible!==!1,he=f.className||"",me=f.descriptionClassName||"",Ae=J.useMemo(()=>x.findIndex(ce=>ce.toastId===f.id)||0,[x,f.id]),Ye=J.useMemo(()=>{var ce;return(ce=f.closeButton)!=null?ce:C},[f.closeButton,C]),yt=J.useMemo(()=>f.duration||U||Jne,[f.duration,U]),K=J.useRef(0),de=J.useRef(0),Pe=J.useRef(0),Ie=J.useRef(null),[Qe,Yt]=$.split("-"),Zn=J.useMemo(()=>x.reduce((ce,Te,Re)=>Re>=Ae?ce:ce+Te.height,0),[x,Ae]),er=Une(),Vt=f.invert||h,An=qe==="loading";de.current=J.useMemo(()=>Ae*F+Zn,[Ae,Zn]),J.useEffect(()=>{P(!0)},[]),J.useLayoutEffect(()=>{if(!j)return;let ce=be.current,Te=ce.style.height;ce.style.height="auto";let Re=ce.getBoundingClientRect().height;ce.style.height=Te,ye(Re),g(bt=>bt.find(lt=>lt.toastId===f.id)?bt.map(lt=>lt.toastId===f.id?{...lt,height:Re}:lt):[{toastId:f.id,height:Re,position:f.position},...bt])},[j,f.title,f.description,g,f.id]);let Zt=J.useCallback(()=>{V(!0),re(de.current),g(ce=>ce.filter(Te=>Te.toastId!==f.id)),setTimeout(()=>{N(f)},ere)},[f,N,g,de]);J.useEffect(()=>{if(f.promise&&qe==="loading"||f.duration===1/0||f.type==="loading")return;let ce,Te=yt;return _||p||z&&er?(()=>{if(Pe.current<K.current){let Re=new Date().getTime()-K.current;Te=Te-Re}Pe.current=new Date().getTime()})():Te!==1/0&&(K.current=new Date().getTime(),ce=setTimeout(()=>{var Re;(Re=f.onAutoClose)==null||Re.call(f,f),Zt()},Te)),()=>clearTimeout(ce)},[_,p,R,f,yt,Zt,f.promise,qe,z,er]),J.useEffect(()=>{let ce=be.current;if(ce){let Te=ce.getBoundingClientRect().height;return ye(Te),g(Re=>[{toastId:f.id,height:Te,position:f.position},...Re]),()=>g(Re=>Re.filter(bt=>bt.toastId!==f.id))}},[g,f.id]),J.useEffect(()=>{f.delete&&Zt()},[Zt,f.delete]);function Zs(){return L!=null&&L.loading?J.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},L.loading):M?J.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},M):J.createElement(Rne,{visible:qe==="loading"})}return J.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:be,className:H(E,he,D==null?void 0:D.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[qe],(n=f==null?void 0:f.classNames)==null?void 0:n[qe]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":j,"data-promise":!!f.promise,"data-removed":O,"data-visible":Oe,"data-y-position":Qe,"data-x-position":Yt,"data-index":b,"data-front":Se,"data-swiping":W,"data-dismissible":Ge,"data-type":qe,"data-invert":Vt,"data-swipe-out":te,"data-expanded":!!(_||R&&j),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${O?X:de.current}px`,"--initial-height":R?"auto":`${pe}px`,...k,...f.style},onPointerDown:ce=>{An||!Ge||(le.current=new Date,re(de.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Z(!0),Ie.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Te,Re,bt;if(te||!Ge)return;Ie.current=null;let lt=Number(((ce=be.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount").replace("px",""))||0),tr=new Date().getTime()-((Te=le.current)==null?void 0:Te.getTime()),qr=Math.abs(lt)/tr;if(Math.abs(lt)>=Zne||qr>.11){re(de.current),(Re=f.onDismiss)==null||Re.call(f,f),Zt(),q(!0);return}(bt=be.current)==null||bt.style.setProperty("--swipe-amount","0px"),Z(!1)},onPointerMove:ce=>{var Te;if(!Ie.current||!Ge)return;let Re=ce.clientY-Ie.current.y,bt=ce.clientX-Ie.current.x,lt=(Qe==="top"?Math.min:Math.max)(0,Re),tr=ce.pointerType==="touch"?10:2;Math.abs(lt)>tr?(Te=be.current)==null||Te.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(bt)>tr&&(Ie.current=null)}},Ye&&!f.jsx?J.createElement("button",{"aria-label":I,"data-disabled":An,"data-close-button":!0,onClick:An||!Ge?()=>{}:()=>{var ce;Zt(),(ce=f.onDismiss)==null||ce.call(f,f)},className:H(D==null?void 0:D.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||J.isValidElement(f.title)?f.jsx||f.title:J.createElement(J.Fragment,null,qe||f.icon||f.promise?J.createElement("div",{"data-icon":"",className:H(D==null?void 0:D.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Zs():null,f.type!=="loading"?f.icon||(L==null?void 0:L[qe])||Dne(qe):null):null,J.createElement("div",{"data-content":"",className:H(D==null?void 0:D.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},J.createElement("div",{"data-title":"",className:H(D==null?void 0:D.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?J.createElement("div",{"data-description":"",className:H(B,me,D==null?void 0:D.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),J.isValidElement(f.cancel)?f.cancel:f.cancel&&Kv(f.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:ce=>{var Te,Re;Kv(f.cancel)&&Ge&&((Re=(Te=f.cancel).onClick)==null||Re.call(Te,ce),Zt())},className:H(D==null?void 0:D.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,J.isValidElement(f.action)?f.action:f.action&&Kv(f.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:ce=>{var Te,Re;Kv(f.action)&&(ce.defaultPrevented||((Re=(Te=f.action).onClick)==null||Re.call(Te,ce),Zt()))},className:H(D==null?void 0:D.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function AM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var rre=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=Yne,toastOptions:m,dir:p=AM(),gap:g=Qne,loadingIcon:v,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:_=tre}=e,[N,S]=J.useState([]),C=J.useMemo(()=>Array.from(new Set([n].concat(N.filter(z=>z.position).map(z=>z.position)))),[N,n]),[k,A]=J.useState([]),[T,E]=J.useState(!1),[B,U]=J.useState(!1),[$,F]=J.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=J.useRef(null),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=J.useRef(null),L=J.useRef(!1),I=J.useCallback(z=>{var H;(H=N.find(j=>j.id===z.id))!=null&&H.delete||Is.dismiss(z.id),S(j=>j.filter(({id:P})=>P!==z.id))},[N]);return J.useEffect(()=>Is.subscribe(z=>{if(z.dismiss){S(H=>H.map(j=>j.id===z.id?{...j,delete:!0}:j));return}setTimeout(()=>{_B.flushSync(()=>{S(H=>{let j=H.findIndex(P=>P.id===z.id);return j!==-1?[...H.slice(0,j),{...H[j],...z},...H.slice(j+1)]:[z,...H]})})})}),[]),J.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{F(z?"dark":"light")})},[c]),J.useEffect(()=>{N.length<=1&&E(!1)},[N]),J.useEffect(()=>{let z=H=>{var j,P;r.every(O=>H[O]||H.code===O)&&(E(!0),(j=M.current)==null||j.focus()),H.code==="Escape"&&(document.activeElement===M.current||(P=M.current)!=null&&P.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[r]),J.useEffect(()=>{if(M.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,L.current=!1)}},[M.current]),N.length?J.createElement("section",{"aria-label":`${b} ${R}`,tabIndex:-1},C.map((z,H)=>{var j;let[P,O]=z.split("-");return J.createElement("ol",{key:z,dir:p==="auto"?AM():p,tabIndex:-1,ref:M,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":P,"data-x-position":O,style:{"--front-toast-height":`${((j=k[0])==null?void 0:j.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Kne,"--width":`${Xne}px`,"--gap":`${g}px`,...h},onBlur:V=>{L.current&&!V.currentTarget.contains(V.relatedTarget)&&(L.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||L.current||(L.current=!0,D.current=V.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{B||E(!1)},onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(V=>!V.position&&H===0||V.position===z).map((V,W)=>{var Z,te;return J.createElement(nre,{key:V.id,icons:x,index:W,toast:V,defaultRichColors:u,duration:(Z=m==null?void 0:m.duration)!=null?Z:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:f,closeButton:(te=m==null?void 0:m.closeButton)!=null?te:i,interacting:B,position:z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:I,toasts:N.filter(q=>q.position==V.position),heights:k.filter(q=>q.position==V.position),setHeights:A,expandByDefault:a,gap:g,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:w,cn:_})}))})):null};const sre=({...e})=>{const{theme:t="system"}=H2();return s.jsx(rre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var are=bF.useId||(()=>{}),ire=0;function Ws(e){const[t,n]=y.useState(are());return ur(()=>{n(r=>r??String(ire++))},[e]),t?`radix-${t}`:""}const ore=["top","right","bottom","left"],Ll=Math.min,Ls=Math.max,zy=Math.round,Jv=Math.floor,Fl=e=>({x:e,y:e}),lre={left:"right",right:"left",bottom:"top",top:"bottom"},cre={start:"end",end:"start"};function pS(e,t,n){return Ls(e,Ll(t,n))}function So(e,t){return typeof e=="function"?e(t):e}function Co(e){return e.split("-")[0]}function tf(e){return e.split("-")[1]}function G2(e){return e==="x"?"y":"x"}function Y2(e){return e==="y"?"height":"width"}function Bl(e){return["top","bottom"].includes(Co(e))?"y":"x"}function K2(e){return G2(Bl(e))}function ure(e,t,n){n===void 0&&(n=!1);const r=tf(e),a=K2(e),i=Y2(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=qy(o)),[o,qy(o)]}function dre(e){const t=qy(e);return[gS(e),t,gS(t)]}function gS(e){return e.replace(/start|end/g,t=>cre[t])}function hre(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function fre(e,t,n,r){const a=tf(e);let i=hre(Co(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(gS)))),i}function qy(e){return e.replace(/left|right|bottom|top/g,t=>lre[t])}function mre(e){return{top:0,right:0,bottom:0,left:0,...e}}function p8(e){return typeof e!="number"?mre(e):{top:e,right:e,bottom:e,left:e}}function Vy(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function TM(e,t,n){let{reference:r,floating:a}=e;const i=Bl(t),o=K2(t),l=Y2(o),c=Co(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(tf(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const pre=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=TM(u,r,c),f=r,m={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:b,y:w,data:_,reset:N}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,h=w??h,m={...m,[v]:{...m[v],..._}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:h}=TM(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function jp(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=So(t,e),p=p8(m),v=l[f?h==="floating"?"reference":"floating":h],x=Vy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Vy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-N.top+p.top)/_.y,bottom:(N.bottom-x.bottom+p.bottom)/_.y,left:(x.left-N.left+p.left)/_.x,right:(N.right-x.right+p.right)/_.x}}const gre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=So(e,t)||{};if(u==null)return{};const h=p8(d),f={x:n,y:r},m=K2(a),p=Y2(m),g=await o.getDimensions(u),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[p]+i.reference[m]-f[m]-i.floating[p],N=f[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||i.floating[p]);const k=_/2-N/2,A=C/2-g[p]/2-1,T=Ll(h[x],A),E=Ll(h[b],A),B=T,U=C-g[p]-E,$=C/2-g[p]/2+k,F=pS(B,$,U),M=!c.arrow&&tf(a)!=null&&$!==F&&i.reference[p]/2-($<B?T:E)-g[p]/2<0,R=M?$<B?$-B:$-U:0;return{[m]:f[m]+R,data:{[m]:F,centerOffset:$-F-R,...M&&{alignmentOffset:R}},reset:M}}}),vre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=So(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Co(a),b=Bl(l),w=Co(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(w||!g?[qy(l)]:dre(l)),S=p!=="none";!f&&S&&N.push(...fre(l,g,p,_));const C=[l,...N],k=await jp(t,v),A=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(k[x]),h){const $=ure(a,o,_);A.push(k[$[0]],k[$[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every($=>$<=0)){var E,B;const $=(((E=i.flip)==null?void 0:E.index)||0)+1,F=C[$];if(F)return{data:{index:$,overflows:T},reset:{placement:F}};let M=(B=T.filter(R=>R.overflows[0]<=0).sort((R,D)=>R.overflows[1]-D.overflows[1])[0])==null?void 0:B.placement;if(!M)switch(m){case"bestFit":{var U;const R=(U=T.filter(D=>{if(S){const L=Bl(D.placement);return L===b||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,I)=>L+I,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:U[0];R&&(M=R);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function OM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function MM(e){return ore.some(t=>e[t]>=0)}const xre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=So(e,t);switch(r){case"referenceHidden":{const i=await jp(t,{...a,elementContext:"reference"}),o=OM(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:MM(o)}}}case"escaped":{const i=await jp(t,{...a,altBoundary:!0}),o=OM(i,n.floating);return{data:{escapedOffsets:o,escaped:MM(o)}}}default:return{}}}}};async function yre(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Co(n),l=tf(n),c=Bl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=So(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const bre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await yre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},wre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=So(e,t),u={x:n,y:r},d=await jp(t,c),h=Bl(Co(a)),f=G2(h);let m=u[f],p=u[h];if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=m+d[v],w=m-d[x];m=pS(b,m,w)}if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=p+d[v],w=p-d[x];p=pS(b,p,w)}const g=l.fn({...t,[f]:m,[h]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},jre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=So(e,t),d={x:n,y:r},h=Bl(a),f=G2(h);let m=d[f],p=d[h];const g=So(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",_=i.reference[f]-i.floating[w]+v.mainAxis,N=i.reference[f]+i.reference[w]-v.mainAxis;m<_?m=_:m>N&&(m=N)}if(u){var x,b;const w=f==="y"?"width":"height",_=["top","left"].includes(Co(a)),N=i.reference[h]-i.floating[w]+(_&&((x=o.offset)==null?void 0:x[h])||0)+(_?0:v.crossAxis),S=i.reference[h]+i.reference[w]+(_?0:((b=o.offset)==null?void 0:b[h])||0)-(_?v.crossAxis:0);p<N?p=N:p>S&&(p=S)}return{[f]:m,[h]:p}}}},_re=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=So(e,t),d=await jp(t,u),h=Co(a),f=tf(a),m=Bl(a)==="y",{width:p,height:g}=i.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=p-d.left-d.right,_=Ll(g-d[v],b),N=Ll(p-d[x],w),S=!t.middlewareData.shift;let C=_,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),S&&!f){const T=Ls(d.left,0),E=Ls(d.right,0),B=Ls(d.top,0),U=Ls(d.bottom,0);m?k=p-2*(T!==0||E!==0?T+E:Ls(d.left,d.right)):C=g-2*(B!==0||U!==0?B+U:Ls(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const A=await o.getDimensions(l.floating);return p!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function H0(){return typeof window<"u"}function nf(e){return g8(e)?(e.nodeName||"").toLowerCase():"#document"}function Hs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qi(e){var t;return(t=(g8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function g8(e){return H0()?e instanceof Node||e instanceof Hs(e).Node:!1}function ri(e){return H0()?e instanceof Element||e instanceof Hs(e).Element:!1}function Fi(e){return H0()?e instanceof HTMLElement||e instanceof Hs(e).HTMLElement:!1}function DM(e){return!H0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hs(e).ShadowRoot}function Tg(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=si(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function Nre(e){return["table","td","th"].includes(nf(e))}function G0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function J2(e){const t=X2(),n=ri(e)?si(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Sre(e){let t=Ul(e);for(;Fi(t)&&!uh(t);){if(J2(t))return t;if(G0(t))return null;t=Ul(t)}return null}function X2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uh(e){return["html","body","#document"].includes(nf(e))}function si(e){return Hs(e).getComputedStyle(e)}function Y0(e){return ri(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ul(e){if(nf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DM(e)&&e.host||qi(e);return DM(t)?t.host:t}function v8(e){const t=Ul(e);return uh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fi(t)&&Tg(t)?t:v8(t)}function _p(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=v8(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Hs(a);if(i){const l=vS(o);return t.concat(o,o.visualViewport||[],Tg(a)?a:[],l&&n?_p(l):[])}return t.concat(a,_p(a,[],n))}function vS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function x8(e){const t=si(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Fi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=zy(n)!==i||zy(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Q2(e){return ri(e)?e:e.contextElement}function Nd(e){const t=Q2(e);if(!Fi(t))return Fl(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=x8(t);let o=(i?zy(n.width):n.width)/r,l=(i?zy(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Cre=Fl(0);function y8(e){const t=Hs(e);return!X2()||!t.visualViewport?Cre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Hs(e)?!1:t}function ru(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Q2(e);let o=Fl(1);t&&(r?ri(r)&&(o=Nd(r)):o=Nd(e));const l=kre(i,n,r)?y8(i):Fl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=Hs(i),m=r&&ri(r)?Hs(r):r;let p=f,g=vS(p);for(;g&&r&&m!==p;){const v=Nd(g),x=g.getBoundingClientRect(),b=si(g),w=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=x.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=w,u+=_,p=Hs(g),g=vS(p)}}return Vy({width:d,height:h,x:c,y:u})}function Ere(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=qi(r),l=t?G0(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Fl(1);const d=Fl(0),h=Fi(r);if((h||!h&&!i)&&((nf(r)!=="body"||Tg(o))&&(c=Y0(r)),Fi(r))){const f=ru(r);u=Nd(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function Pre(e){return Array.from(e.getClientRects())}function xS(e,t){const n=Y0(e).scrollLeft;return t?t.left+n:ru(qi(e)).left+n}function Are(e){const t=qi(e),n=Y0(e),r=e.ownerDocument.body,a=Ls(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ls(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+xS(e);const l=-n.scrollTop;return si(r).direction==="rtl"&&(o+=Ls(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Tre(e,t){const n=Hs(e),r=qi(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=X2();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Ore(e,t){const n=ru(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Fi(e)?Nd(e):Fl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function IM(e,t,n){let r;if(t==="viewport")r=Tre(e,n);else if(t==="document")r=Are(qi(e));else if(ri(t))r=Ore(t,n);else{const a=y8(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return Vy(r)}function b8(e,t){const n=Ul(e);return n===t||!ri(n)||uh(n)?!1:si(n).position==="fixed"||b8(n,t)}function Mre(e,t){const n=t.get(e);if(n)return n;let r=_p(e,[],!1).filter(l=>ri(l)&&nf(l)!=="body"),a=null;const i=si(e).position==="fixed";let o=i?Ul(e):e;for(;ri(o)&&!uh(o);){const l=si(o),c=J2(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Tg(o)&&!c&&b8(e,o))?r=r.filter(d=>d!==o):a=l,o=Ul(o)}return t.set(e,r),r}function Dre(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?G0(t)?[]:Mre(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=IM(t,d,a);return u.top=Ls(h.top,u.top),u.right=Ll(h.right,u.right),u.bottom=Ll(h.bottom,u.bottom),u.left=Ls(h.left,u.left),u},IM(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ire(e){const{width:t,height:n}=x8(e);return{width:t,height:n}}function Rre(e,t,n){const r=Fi(t),a=qi(t),i=n==="fixed",o=ru(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Fl(0);if(r||!r&&!i)if((nf(t)!=="body"||Tg(a))&&(l=Y0(t)),r){const m=ru(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=xS(a));let u=0,d=0;if(a&&!r&&!i){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-xS(a,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function __(e){return si(e).position==="static"}function RM(e,t){if(!Fi(e)||si(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qi(e)===n&&(n=n.ownerDocument.body),n}function w8(e,t){const n=Hs(e);if(G0(e))return n;if(!Fi(e)){let a=Ul(e);for(;a&&!uh(a);){if(ri(a)&&!__(a))return a;a=Ul(a)}return n}let r=RM(e,t);for(;r&&Nre(r)&&__(r);)r=RM(r,t);return r&&uh(r)&&__(r)&&!J2(r)?n:r||Sre(e)||n}const $re=async function(e){const t=this.getOffsetParent||w8,n=this.getDimensions,r=await n(e.floating);return{reference:Rre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lre(e){return si(e).direction==="rtl"}const Fre={convertOffsetParentRelativeRectToViewportRelativeRect:Ere,getDocumentElement:qi,getClippingRect:Dre,getOffsetParent:w8,getElementRects:$re,getClientRects:Pre,getDimensions:Ire,getScale:Nd,isElement:ri,isRTL:Lre};function Bre(e,t){let n=null,r;const a=qi(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const m=Jv(d),p=Jv(a.clientWidth-(u+h)),g=Jv(a.clientHeight-(d+f)),v=Jv(u),b={rootMargin:-m+"px "+-p+"px "+-g+"px "+-v+"px",threshold:Ls(0,Ll(1,c))||1};let w=!0;function _(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return o(!0),i}function Ure(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Q2(e),d=a||i?[...u?_p(u):[],..._p(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?Bre(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?ru(e):null;c&&v();function v(){const x=ru(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,p=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const zre=bre,qre=wre,Vre=vre,Wre=_re,Hre=xre,$M=gre,Gre=jre,Yre=(e,t,n)=>{const r=new Map,a={platform:Fre,...n},i={...a.platform,_c:r};return pre(e,t,{...a,platform:i})};var ey=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Wy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wy(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Wy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function j8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function LM(e,t){const n=j8(e);return Math.round(t*n)/n}function N_(e){const t=y.useRef(e);return ey(()=>{t.current=e}),t}function Kre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(r);Wy(f,r)||m(r);const[p,g]=y.useState(null),[v,x]=y.useState(null),b=y.useCallback(D=>{D!==S.current&&(S.current=D,g(D))},[]),w=y.useCallback(D=>{D!==C.current&&(C.current=D,x(D))},[]),_=i||p,N=o||v,S=y.useRef(null),C=y.useRef(null),k=y.useRef(d),A=c!=null,T=N_(c),E=N_(a),B=N_(u),U=y.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:n,middleware:f};E.current&&(D.platform=E.current),Yre(S.current,C.current,D).then(L=>{const I={...L,isPositioned:B.current!==!1};$.current&&!Wy(k.current,I)&&(k.current=I,ha.flushSync(()=>{h(I)}))})},[f,t,n,E,B]);ey(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const $=y.useRef(!1);ey(()=>($.current=!0,()=>{$.current=!1}),[]),ey(()=>{if(_&&(S.current=_),N&&(C.current=N),_&&N){if(T.current)return T.current(_,N,U);U()}},[_,N,U,T,A]);const F=y.useMemo(()=>({reference:S,floating:C,setReference:b,setFloating:w}),[b,w]),M=y.useMemo(()=>({reference:_,floating:N}),[_,N]),R=y.useMemo(()=>{const D={position:n,left:0,top:0};if(!M.floating)return D;const L=LM(M.floating,d.x),I=LM(M.floating,d.y);return l?{...D,transform:"translate("+L+"px, "+I+"px)",...j8(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:I}},[n,l,M.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:U,refs:F,elements:M,floatingStyles:R}),[d,U,F,M,R])}const Jre=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$M({element:r.current,padding:a}).fn(n):{}:r?$M({element:r,padding:a}).fn(n):{}}}},Xre=(e,t)=>({...zre(e),options:[e,t]}),Qre=(e,t)=>({...qre(e),options:[e,t]}),Zre=(e,t)=>({...Gre(e),options:[e,t]}),ese=(e,t)=>({...Vre(e),options:[e,t]}),tse=(e,t)=>({...Wre(e),options:[e,t]}),nse=(e,t)=>({...Hre(e),options:[e,t]}),rse=(e,t)=>({...Jre(e),options:[e,t]});var sse="Arrow",_8=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(ze.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});_8.displayName=sse;var ase=_8;function ise(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,v=y.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=y.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,ose(a,...t)]}function ose(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Og(e){const[t,n]=y.useState(void 0);return ur(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Z2="Popper",[N8,Jl]=ise(Z2),[lse,S8]=N8(Z2),C8=e=>{const{__scopePopper:t,children:n}=e,[r,a]=y.useState(null);return s.jsx(lse,{scope:t,anchor:r,onAnchorChange:a,children:n})};C8.displayName=Z2;var k8="PopperAnchor",E8=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=S8(k8,n),o=y.useRef(null),l=Xe(t,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(ze.div,{...a,ref:l})});E8.displayName=k8;var eP="PopperContent",[cse,use]=N8(eP),P8=y.forwardRef((e,t)=>{var W,Z,te,q,X,re;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,v=S8(eP,n),[x,b]=y.useState(null),w=Xe(t,pe=>b(pe)),[_,N]=y.useState(null),S=Og(_),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,A=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],B=E.length>0,U={padding:T,boundary:E.filter(hse),altBoundary:B},{refs:$,floatingStyles:F,placement:M,isPositioned:R,middlewareData:D}=Kre({strategy:"fixed",placement:A,whileElementsMounted:(...pe)=>Ure(...pe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Xre({mainAxis:a+k,alignmentAxis:o}),c&&Qre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Zre():void 0,...U}),c&&ese({...U}),tse({...U,apply:({elements:pe,rects:ye,availableWidth:le,availableHeight:be})=>{const{width:Se,height:Oe}=ye.reference,qe=pe.floating.style;qe.setProperty("--radix-popper-available-width",`${le}px`),qe.setProperty("--radix-popper-available-height",`${be}px`),qe.setProperty("--radix-popper-anchor-width",`${Se}px`),qe.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),_&&rse({element:_,padding:l}),fse({arrowWidth:C,arrowHeight:k}),f&&nse({strategy:"referenceHidden",...U})]}),[L,I]=O8(M),z=jn(p);ur(()=>{R&&(z==null||z())},[R,z]);const H=(W=D.arrow)==null?void 0:W.x,j=(Z=D.arrow)==null?void 0:Z.y,P=((te=D.arrow)==null?void 0:te.centerOffset)!==0,[O,V]=y.useState();return ur(()=>{x&&V(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:R?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(q=D.transformOrigin)==null?void 0:q.x,(X=D.transformOrigin)==null?void 0:X.y].join(" "),...((re=D.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(cse,{scope:n,placedSide:L,onArrowChange:N,arrowX:H,arrowY:j,shouldHideArrow:P,children:s.jsx(ze.div,{"data-side":L,"data-align":I,...g,ref:w,style:{...g.style,animation:R?void 0:"none"}})})})});P8.displayName=eP;var A8="PopperArrow",dse={top:"bottom",right:"left",bottom:"top",left:"right"},T8=y.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=use(A8,r),o=dse[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(ase,{...a,ref:n,style:{...a.style,display:"block"}})})});T8.displayName=A8;function hse(e){return e!==null}var fse=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:n,rects:r,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=O8(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?h:`${f}px`,g=`${-c}px`):u==="top"?(p=o?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?h:`${m}px`):u==="left"&&(p=`${r.floating.width+c}px`,g=o?h:`${m}px`),{data:{x:p,y:g}}}});function O8(e){const[t,n="center"]=e.split("-");return[t,n]}var K0=C8,Mg=E8,J0=P8,X0=T8,[Q0,MGe]=Ur("Tooltip",[Jl]),Z0=Jl(),M8="TooltipProvider",mse=700,yS="tooltip.open",[pse,tP]=Q0(M8),D8=e=>{const{__scopeTooltip:t,delayDuration:n=mse,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(pse,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};D8.displayName=M8;var ew="Tooltip",[gse,tw]=Q0(ew),I8=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=tP(ew,e.__scopeTooltip),u=Z0(t),[d,h]=y.useState(null),f=Ws(),m=y.useRef(0),p=o??c.disableHoverableContent,g=l??c.delayDuration,v=y.useRef(!1),[x=!1,b]=_s({prop:r,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(yS))):c.onClose(),i==null||i(C)}}),w=y.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),_=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,b(!0)},[b]),N=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),S=y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,b(!0),m.current=0},g)},[g,b]);return y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(K0,{...u,children:s.jsx(gse,{scope:t,contentId:f,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayed?S():_()},[c.isOpenDelayed,S,_]),onTriggerLeave:y.useCallback(()=>{p?N():(window.clearTimeout(m.current),m.current=0)},[N,p]),onOpen:_,onClose:N,disableHoverableContent:p,children:n})})};I8.displayName=ew;var bS="TooltipTrigger",R8=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=tw(bS,n),i=tP(bS,n),o=Z0(n),l=y.useRef(null),c=Xe(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Mg,{asChild:!0,...o,children:s.jsx(ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:Ne(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ne(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ne(e.onBlur,a.onClose),onClick:Ne(e.onClick,a.onClose)})})});R8.displayName=bS;var vse="TooltipPortal",[DGe,xse]=Q0(vse,{forceMount:void 0}),dh="TooltipContent",$8=y.forwardRef((e,t)=>{const n=xse(dh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=tw(dh,e.__scopeTooltip);return s.jsx(Un,{present:r||o.open,children:o.disableHoverableContent?s.jsx(L8,{side:a,...i,ref:t}):s.jsx(yse,{side:a,...i,ref:t})})}),yse=y.forwardRef((e,t)=>{const n=tw(dh,e.__scopeTooltip),r=tP(dh,e.__scopeTooltip),a=y.useRef(null),i=Xe(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{l(null),h(!1)},[h]),m=y.useCallback((p,g)=>{const v=p.currentTarget,x={x:p.clientX,y:p.clientY},b=_se(x,v.getBoundingClientRect()),w=Nse(x,b),_=Sse(g.getBoundingClientRect()),N=kse([...w,..._]);l(N),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(c&&d){const p=v=>m(v,d),g=v=>m(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[c,d,m,f]),y.useEffect(()=>{if(o){const p=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!Cse(x,o);b?f():w&&(f(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,o,u,f]),s.jsx(L8,{...e,ref:i})}),[bse,wse]=Q0(ew,{isInside:!1}),L8=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=tw(dh,n),u=Z0(n),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(yS,d),()=>document.removeEventListener(yS,d)),[d]),y.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(J0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(P2,{children:r}),s.jsx(bse,{scope:n,isInside:!0,children:s.jsx(Zee,{id:c.contentId,role:"tooltip",children:a||r})})]})})});$8.displayName=dh;var F8="TooltipArrow",jse=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Z0(n);return wse(F8,n).isInside?null:s.jsx(X0,{...a,...r,ref:t})});jse.displayName=F8;function _se(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Nse(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Sse(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Cse(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function kse(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ese(t)}function Ese(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Pse=D8,Ase=I8,Tse=R8,B8=$8;const U8=Pse,Ose=Ase,Mse=Tse,z8=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(B8,{ref:r,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));z8.displayName=B8.displayName;var Dg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},su=typeof window>"u"||"Deno"in globalThis;function aa(){}function Dse(e,t){return typeof e=="function"?e(t):e}function wS(e){return typeof e=="number"&&e>=0&&e!==1/0}function q8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Sd(e,t){return typeof e=="function"?e(t):e}function Wa(e,t){return typeof e=="function"?e(t):e}function FM(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==nP(o,t.options))return!1}else if(!Sp(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function BM(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Np(t.options.mutationKey)!==Np(i))return!1}else if(!Sp(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function nP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Np)(e)}function Np(e){return JSON.stringify(e,(t,n)=>_S(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Sp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Sp(e[n],t[n])):!1}function V8(e,t){if(e===t)return e;const n=UM(e)&&UM(t);if(n||_S(e)&&_S(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=V8(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function jS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function UM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _S(e){if(!zM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!zM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zM(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ise(e){return new Promise(t=>{setTimeout(t,e)})}function NS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?V8(e,t):t}function Rse(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $se(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rP=Symbol();function W8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ic,ul,Ud,eF,Lse=(eF=class extends Dg{constructor(){super();st(this,Ic);st(this,ul);st(this,Ud);He(this,Ud,t=>{if(!su&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,ul)||this.setEventListener(oe(this,Ud))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,ul))==null||t.call(this),He(this,ul,void 0))}setEventListener(t){var n;He(this,Ud,t),(n=oe(this,ul))==null||n.call(this),He(this,ul,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){oe(this,Ic)!==t&&(He(this,Ic,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof oe(this,Ic)=="boolean"?oe(this,Ic):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ic=new WeakMap,ul=new WeakMap,Ud=new WeakMap,eF),sP=new Lse,zd,dl,qd,tF,Fse=(tF=class extends Dg{constructor(){super();st(this,zd,!0);st(this,dl);st(this,qd);He(this,qd,t=>{if(!su&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,dl)||this.setEventListener(oe(this,qd))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,dl))==null||t.call(this),He(this,dl,void 0))}setEventListener(t){var n;He(this,qd,t),(n=oe(this,dl))==null||n.call(this),He(this,dl,t(this.setOnline.bind(this)))}setOnline(t){oe(this,zd)!==t&&(He(this,zd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return oe(this,zd)}},zd=new WeakMap,dl=new WeakMap,qd=new WeakMap,tF),Hy=new Fse;function SS(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Bse(e){return Math.min(1e3*2**e,3e4)}function H8(e){return(e??"online")==="online"?Hy.isOnline():!0}var G8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function S_(e){return e instanceof G8}function Y8(e){let t=!1,n=0,r=!1,a;const i=SS(),o=g=>{var v;r||(f(new G8(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>sP.isFocused()&&(e.networkMode==="always"||Hy.isOnline())&&e.canRun(),d=()=>H8(e.networkMode)&&e.canRun(),h=g=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),i.resolve(g))},f=g=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),i.reject(g))},m=()=>new Promise(g=>{var v;a=x=>{(r||u())&&g(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,r||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(r)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var S;if(r)return;const b=e.retry??(su?0:3),w=e.retryDelay??Bse,_=typeof w=="function"?w(n,x):w,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(t||!N){f(x);return}n++,(S=e.onFail)==null||S.call(e,n,x),Ise(_).then(()=>u()?void 0:m()).then(()=>{t?f(x):p()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),i)}}function Use(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var xr=Use(),Rc,nF,K8=(nF=class{constructor(){st(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wS(this.gcTime)&&He(this,Rc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(su?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Rc)&&(clearTimeout(oe(this,Rc)),He(this,Rc,void 0))}},Rc=new WeakMap,nF),Vd,Wd,sa,Er,yg,$c,La,Qi,rF,zse=(rF=class extends K8{constructor(t){super();st(this,La);st(this,Vd);st(this,Wd);st(this,sa);st(this,Er);st(this,yg);st(this,$c);He(this,$c,!1),He(this,yg,t.defaultOptions),this.setOptions(t.options),this.observers=[],He(this,sa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,He(this,Vd,qse(this.options)),this.state=t.state??oe(this,Vd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=oe(this,Er))==null?void 0:t.promise}setOptions(t){this.options={...oe(this,yg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,sa).remove(this)}setData(t,n){const r=NS(this.state.data,t,this.options);return jt(this,La,Qi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){jt(this,La,Qi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=oe(this,Er))==null?void 0:r.promise;return(a=oe(this,Er))==null||a.cancel(t),n?n.then(aa).catch(aa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Vd))}isActive(){return this.observers.some(t=>Wa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!q8(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=oe(this,Er))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=oe(this,Er))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),oe(this,sa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(oe(this,Er)&&(oe(this,$c)?oe(this,Er).cancel({revert:!0}):oe(this,Er).cancelRetry()),this.scheduleGc()),oe(this,sa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||jt(this,La,Qi).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Er))return oe(this,Er).continueRetry(),oe(this,Er).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(He(this,$c,!0),r.signal)})},i=()=>{const h=W8(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),He(this,$c,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),He(this,Wd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&jt(this,La,Qi).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,p,g;S_(h)&&h.silent||jt(this,La,Qi).call(this,{type:"error",error:h}),S_(h)||((m=(f=oe(this,sa).config).onError)==null||m.call(f,h,this),(g=(p=oe(this,sa).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return He(this,Er,Y8({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,p,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(m=(f=oe(this,sa).config).onSuccess)==null||m.call(f,h,this),(g=(p=oe(this,sa).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{jt(this,La,Qi).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{jt(this,La,Qi).call(this,{type:"pause"})},onContinue:()=>{jt(this,La,Qi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),oe(this,Er).start()}},Vd=new WeakMap,Wd=new WeakMap,sa=new WeakMap,Er=new WeakMap,yg=new WeakMap,$c=new WeakMap,La=new WeakSet,Qi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...J8(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return S_(a)&&a.revert&&oe(this,Wd)?{...oe(this,Wd),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),xr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),oe(this,sa).notify({query:this,type:"updated",action:t})})},rF);function J8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qse(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _i,sF,Vse=(sF=class extends Dg{constructor(t={}){super();st(this,_i);this.config=t,He(this,_i,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??nP(a,n);let o=this.get(i);return o||(o=new zse({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){oe(this,_i).has(t.queryHash)||(oe(this,_i).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=oe(this,_i).get(t.queryHash);n&&(t.destroy(),n===t&&oe(this,_i).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return oe(this,_i).get(t)}getAll(){return[...oe(this,_i).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>FM(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>FM(t,r)):n}notify(t){xr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){xr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_i=new WeakMap,sF),Ni,Hr,Lc,Si,Yo,aF,Wse=(aF=class extends K8{constructor(t){super();st(this,Si);st(this,Ni);st(this,Hr);st(this,Lc);this.mutationId=t.mutationId,He(this,Hr,t.mutationCache),He(this,Ni,[]),this.state=t.state||Hse(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){oe(this,Ni).includes(t)||(oe(this,Ni).push(t),this.clearGcTimeout(),oe(this,Hr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){He(this,Ni,oe(this,Ni).filter(n=>n!==t)),this.scheduleGc(),oe(this,Hr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){oe(this,Ni).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Hr).remove(this))}continue(){var t;return((t=oe(this,Lc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,h,f,m,p,g,v,x,b,w,_,N,S,C;He(this,Lc,Y8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{jt(this,Si,Yo).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{jt(this,Si,Yo).call(this,{type:"pause"})},onContinue:()=>{jt(this,Si,Yo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Hr).canRun(this)}));const n=this.state.status==="pending",r=!oe(this,Lc).canStart();try{if(!n){jt(this,Si,Yo).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=oe(this,Hr).config).onMutate)==null?void 0:i.call(a,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&jt(this,Si,Yo).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const k=await oe(this,Lc).start();return await((u=(c=oe(this,Hr).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,t,this.state.context)),await((m=(f=oe(this,Hr).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,k,null,t,this.state.context)),jt(this,Si,Yo).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=oe(this,Hr).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,k,t,this.state.context)),await((N=(_=oe(this,Hr).config).onSettled)==null?void 0:N.call(_,void 0,k,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,k,t,this.state.context)),k}finally{jt(this,Si,Yo).call(this,{type:"error",error:k})}}finally{oe(this,Hr).runNext(this)}}},Ni=new WeakMap,Hr=new WeakMap,Lc=new WeakMap,Si=new WeakSet,Yo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xr.batch(()=>{oe(this,Ni).forEach(r=>{r.onMutationUpdate(t)}),oe(this,Hr).notify({mutation:this,type:"updated",action:t})})},aF);function Hse(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ds,bg,iF,Gse=(iF=class extends Dg{constructor(t={}){super();st(this,Ds);st(this,bg);this.config=t,He(this,Ds,new Map),He(this,bg,Date.now())}build(t,n,r){const a=new Wse({mutationCache:this,mutationId:++Pv(this,bg)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=Xv(t),r=oe(this,Ds).get(n)??[];r.push(t),oe(this,Ds).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Xv(t);if(oe(this,Ds).has(n)){const a=(r=oe(this,Ds).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?oe(this,Ds).delete(n):oe(this,Ds).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=oe(this,Ds).get(Xv(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=oe(this,Ds).get(Xv(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){xr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...oe(this,Ds).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>BM(n,r))}findAll(t={}){return this.getAll().filter(n=>BM(t,n))}notify(t){xr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return xr.batch(()=>Promise.all(t.map(n=>n.continue().catch(aa))))}},Ds=new WeakMap,bg=new WeakMap,iF);function Xv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function qM(e){return{onFetch:(t,n)=>{var d,h,f,m,p;const r=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=W8(t.options,t.fetchOptions),b=async(w,_,N)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};v(S);const C=await x(S),{maxPages:k}=t.options,A=N?$se:Rse;return{pages:A(w.pages,C,k),pageParams:A(w.pageParams,_,k)}};if(a&&i.length){const w=a==="backward",_=w?Yse:VM,N={pages:i,pageParams:o},S=_(r,N);l=await b(N,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:VM(r,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function VM(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Yse(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Cn,hl,fl,Hd,Gd,ml,Yd,Kd,oF,Kse=(oF=class{constructor(e={}){st(this,Cn);st(this,hl);st(this,fl);st(this,Hd);st(this,Gd);st(this,ml);st(this,Yd);st(this,Kd);He(this,Cn,e.queryCache||new Vse),He(this,hl,e.mutationCache||new Gse),He(this,fl,e.defaultOptions||{}),He(this,Hd,new Map),He(this,Gd,new Map),He(this,ml,0)}mount(){Pv(this,ml)._++,oe(this,ml)===1&&(He(this,Yd,sP.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,Cn).onFocus())})),He(this,Kd,Hy.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,Cn).onOnline())})))}unmount(){var e,t;Pv(this,ml)._--,oe(this,ml)===0&&((e=oe(this,Yd))==null||e.call(this),He(this,Yd,void 0),(t=oe(this,Kd))==null||t.call(this),He(this,Kd,void 0))}isFetching(e){return oe(this,Cn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return oe(this,hl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=oe(this,Cn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=oe(this,Cn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Sd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return oe(this,Cn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=oe(this,Cn).get(r.queryHash),i=a==null?void 0:a.state.data,o=Dse(t,i);if(o!==void 0)return oe(this,Cn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return xr.batch(()=>oe(this,Cn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=oe(this,Cn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=oe(this,Cn);xr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=oe(this,Cn),r={type:"active",...e};return xr.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=xr.batch(()=>oe(this,Cn).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(aa).catch(aa)}invalidateQueries(e={},t={}){return xr.batch(()=>{if(oe(this,Cn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=xr.batch(()=>oe(this,Cn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(aa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(aa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=oe(this,Cn).build(this,t);return n.isStaleByTime(Sd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(aa).catch(aa)}fetchInfiniteQuery(e){return e.behavior=qM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(aa).catch(aa)}ensureInfiniteQueryData(e){return e.behavior=qM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hy.isOnline()?oe(this,hl).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Cn)}getMutationCache(){return oe(this,hl)}getDefaultOptions(){return oe(this,fl)}setDefaultOptions(e){He(this,fl,e)}setQueryDefaults(e,t){oe(this,Hd).set(Np(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,Hd).values()];let n={};return t.forEach(r=>{Sp(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){oe(this,Gd).set(Np(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,Gd).values()];let n={};return t.forEach(r=>{Sp(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...oe(this,fl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===rP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...oe(this,fl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){oe(this,Cn).clear(),oe(this,hl).clear()}},Cn=new WeakMap,hl=new WeakMap,fl=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,ml=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,oF),is,Nt,wg,Gr,Fc,Jd,pl,Ci,jg,Xd,Qd,Bc,Uc,gl,Zd,Ut,wm,CS,kS,ES,PS,AS,TS,OS,X8,lF,Jse=(lF=class extends Dg{constructor(t,n){super();st(this,Ut);st(this,is);st(this,Nt);st(this,wg);st(this,Gr);st(this,Fc);st(this,Jd);st(this,pl);st(this,Ci);st(this,jg);st(this,Xd);st(this,Qd);st(this,Bc);st(this,Uc);st(this,gl);st(this,Zd,new Set);this.options=n,He(this,is,t),He(this,Ci,null),He(this,pl,SS()),this.options.experimental_prefetchInRender||oe(this,pl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(oe(this,Nt).addObserver(this),WM(oe(this,Nt),this.options)?jt(this,Ut,wm).call(this):this.updateResult(),jt(this,Ut,PS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return MS(oe(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return MS(oe(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,jt(this,Ut,AS).call(this),jt(this,Ut,TS).call(this),oe(this,Nt).removeObserver(this)}setOptions(t,n){const r=this.options,a=oe(this,Nt);if(this.options=oe(this,is).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wa(this.options.enabled,oe(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");jt(this,Ut,OS).call(this),oe(this,Nt).setOptions(this.options),r._defaulted&&!jS(this.options,r)&&oe(this,is).getQueryCache().notify({type:"observerOptionsUpdated",query:oe(this,Nt),observer:this});const i=this.hasListeners();i&&HM(oe(this,Nt),a,this.options,r)&&jt(this,Ut,wm).call(this),this.updateResult(n),i&&(oe(this,Nt)!==a||Wa(this.options.enabled,oe(this,Nt))!==Wa(r.enabled,oe(this,Nt))||Sd(this.options.staleTime,oe(this,Nt))!==Sd(r.staleTime,oe(this,Nt)))&&jt(this,Ut,CS).call(this);const o=jt(this,Ut,kS).call(this);i&&(oe(this,Nt)!==a||Wa(this.options.enabled,oe(this,Nt))!==Wa(r.enabled,oe(this,Nt))||o!==oe(this,gl))&&jt(this,Ut,ES).call(this,o)}getOptimisticResult(t){const n=oe(this,is).getQueryCache().build(oe(this,is),t),r=this.createResult(n,t);return Qse(this,r)&&(He(this,Gr,r),He(this,Jd,this.options),He(this,Fc,oe(this,Nt).state)),r}getCurrentResult(){return oe(this,Gr)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){oe(this,Zd).add(t)}getCurrentQuery(){return oe(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=oe(this,is).defaultQueryOptions(t),r=oe(this,is).getQueryCache().build(oe(this,is),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return jt(this,Ut,wm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),oe(this,Gr)))}createResult(t,n){var k;const r=oe(this,Nt),a=this.options,i=oe(this,Gr),o=oe(this,Fc),l=oe(this,Jd),u=t!==r?t.state:oe(this,wg),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const A=this.hasListeners(),T=!A&&WM(t,n),E=A&&HM(t,r,n,a);(T||E)&&(h={...h,...J8(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===oe(this,jg))m=oe(this,Xd);else try{He(this,jg,n.select),m=n.select(h.data),m=NS(i==null?void 0:i.data,m,n),He(this,Xd,m),He(this,Ci,null)}catch(A){He(this,Ci,A)}else m=h.data;if(n.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((k=oe(this,Qd))==null?void 0:k.state.data,oe(this,Qd)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),He(this,Ci,null)}catch(T){He(this,Ci,T)}A!==void 0&&(v="success",m=NS(i==null?void 0:i.data,A,n),f=!0)}oe(this,Ci)&&(p=oe(this,Ci),m=oe(this,Xd),g=Date.now(),v="error");const x=h.fetchStatus==="fetching",b=v==="pending",w=v==="error",_=b&&x,N=m!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:aP(t,n),refetch:this.refetch,promise:oe(this,pl)};if(this.options.experimental_prefetchInRender){const A=B=>{C.status==="error"?B.reject(C.error):C.data!==void 0&&B.resolve(C.data)},T=()=>{const B=He(this,pl,C.promise=SS());A(B)},E=oe(this,pl);switch(E.status){case"pending":t.queryHash===r.queryHash&&A(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&T();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&T();break}}return C}updateResult(t){const n=oe(this,Gr),r=this.createResult(oe(this,Nt),this.options);if(He(this,Fc,oe(this,Nt).state),He(this,Jd,this.options),oe(this,Fc).data!==void 0&&He(this,Qd,oe(this,Nt)),jS(r,n))return;He(this,Gr,r);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!oe(this,Zd).size)return!0;const c=new Set(l??oe(this,Zd));return this.options.throwOnError&&c.add("error"),Object.keys(oe(this,Gr)).some(u=>{const d=u;return oe(this,Gr)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),jt(this,Ut,X8).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&jt(this,Ut,PS).call(this)}},is=new WeakMap,Nt=new WeakMap,wg=new WeakMap,Gr=new WeakMap,Fc=new WeakMap,Jd=new WeakMap,pl=new WeakMap,Ci=new WeakMap,jg=new WeakMap,Xd=new WeakMap,Qd=new WeakMap,Bc=new WeakMap,Uc=new WeakMap,gl=new WeakMap,Zd=new WeakMap,Ut=new WeakSet,wm=function(t){jt(this,Ut,OS).call(this);let n=oe(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(aa)),n},CS=function(){jt(this,Ut,AS).call(this);const t=Sd(this.options.staleTime,oe(this,Nt));if(su||oe(this,Gr).isStale||!wS(t))return;const r=q8(oe(this,Gr).dataUpdatedAt,t)+1;He(this,Bc,setTimeout(()=>{oe(this,Gr).isStale||this.updateResult()},r))},kS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(oe(this,Nt)):this.options.refetchInterval)??!1},ES=function(t){jt(this,Ut,TS).call(this),He(this,gl,t),!(su||Wa(this.options.enabled,oe(this,Nt))===!1||!wS(oe(this,gl))||oe(this,gl)===0)&&He(this,Uc,setInterval(()=>{(this.options.refetchIntervalInBackground||sP.isFocused())&&jt(this,Ut,wm).call(this)},oe(this,gl)))},PS=function(){jt(this,Ut,CS).call(this),jt(this,Ut,ES).call(this,jt(this,Ut,kS).call(this))},AS=function(){oe(this,Bc)&&(clearTimeout(oe(this,Bc)),He(this,Bc,void 0))},TS=function(){oe(this,Uc)&&(clearInterval(oe(this,Uc)),He(this,Uc,void 0))},OS=function(){const t=oe(this,is).getQueryCache().build(oe(this,is),this.options);if(t===oe(this,Nt))return;const n=oe(this,Nt);He(this,Nt,t),He(this,wg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},X8=function(t){xr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(oe(this,Gr))}),oe(this,is).getQueryCache().notify({query:oe(this,Nt),type:"observerResultsUpdated"})})},lF);function Xse(e,t){return Wa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function WM(e,t){return Xse(e,t)||e.state.data!==void 0&&MS(e,t,t.refetchOnMount)}function MS(e,t,n){if(Wa(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&aP(e,t)}return!1}function HM(e,t,n,r){return(e!==t||Wa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&aP(e,n)}function aP(e,t){return Wa(t.enabled,e)!==!1&&e.isStaleByTime(Sd(t.staleTime,e))}function Qse(e,t){return!jS(e.getCurrentResult(),t)}var Q8=y.createContext(void 0),Zse=e=>{const t=y.useContext(Q8);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eae=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Q8.Provider,{value:e,children:t})),Z8=y.createContext(!1),tae=()=>y.useContext(Z8);Z8.Provider;function nae(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rae=y.createContext(nae()),sae=()=>y.useContext(rae);function aae(e,t){return typeof e=="function"?e(...t):!!e}function iae(){}var oae=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},lae=e=>{y.useEffect(()=>{e.clearReset()},[e])},cae=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&aae(n,[e.error,r]),uae=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},dae=(e,t)=>e.isLoading&&e.isFetching&&!t,hae=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,GM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fae(e,t,n){var d,h,f,m,p;const r=Zse(),a=tae(),i=sae(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",uae(o),oae(o,i),lae(i);const l=!r.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(g=>{const v=a?()=>{}:c.subscribe(xr.batchCalls(g));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),hae(o,u))throw GM(o,c,i);if(cae({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,u),o.experimental_prefetchInRender&&!su&&dae(u,a)){const g=l?GM(o,c,i):(p=r.getQueryCache().get(o.queryHash))==null?void 0:p.promise;g==null||g.catch(iae).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function mae(e,t){return fae(e,Jse)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}var yl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yl||(yl={}));const YM="popstate";function pae(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return DS("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Gy(a)}return vae(t,n,null,e)}function Nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gae(){return Math.random().toString(36).substr(2,8)}function KM(e,t){return{usr:e.state,key:e.key,idx:t}}function DS(e,t,n,r){return n===void 0&&(n=null),Cp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rf(t):t,{state:n,key:t&&t.key||r||gae()})}function Gy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vae(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=yl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=yl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:x})}function f(v,x){l=yl.Push;let b=DS(g.location,v,x);u=d()+1;let w=KM(b,u),_=g.createHref(b);try{o.pushState(w,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(v,x){l=yl.Replace;let b=DS(g.location,v,x);u=d();let w=KM(b,u),_=g.createHref(b);o.replaceState(w,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function p(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Gy(v);return b=b.replace(/ $/,"%20"),Nn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(YM,h),c=v,()=>{a.removeEventListener(YM,h),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(v){return o.go(v)}};return g}var JM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(JM||(JM={}));function xae(e,t,n){return n===void 0&&(n="/"),yae(e,t,n,!1)}function yae(e,t,n,r){let a=typeof t=="string"?rf(t):t,i=hh(a.pathname||"/",n);if(i==null)return null;let o=tU(e);bae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Tae(i);l=Pae(o[c],u,r)}return l}function tU(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Nn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Pl([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Nn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tU(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:kae(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of nU(i.path))a(i,o,c)}),t}function nU(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=nU(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function bae(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Eae(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wae=/^:[\w-]+$/,jae=3,_ae=2,Nae=1,Sae=10,Cae=-2,XM=e=>e==="*";function kae(e,t){let n=e.split("/"),r=n.length;return n.some(XM)&&(r+=Cae),t&&(r+=_ae),n.filter(a=>!XM(a)).reduce((a,i)=>a+(wae.test(i)?jae:i===""?Nae:Sae),r)}function Eae(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Pae(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Yy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Yy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Pl([i,h.pathname]),pathnameBase:Iae(Pl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Pl([i,h.pathnameBase]))}return o}function Yy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Aae(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Aae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Tae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Oae(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?rf(e):e;return{pathname:n?n.startsWith("/")?n:Mae(n,t):t,search:Rae(r),hash:$ae(a)}}function Mae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function C_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iP(e,t){let n=Dae(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oP(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=rf(e):(a=Cp({},e),Nn(!a.pathname||!a.pathname.includes("?"),C_("?","pathname","search",a)),Nn(!a.pathname||!a.pathname.includes("#"),C_("#","pathname","hash",a)),Nn(!a.search||!a.search.includes("#"),C_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Oae(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pl=e=>e.join("/").replace(/\/\/+/g,"/"),Iae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$ae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rU=["post","put","patch","delete"];new Set(rU);const Fae=["get",...rU];new Set(Fae);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(this,arguments)}const nw=y.createContext(null),sU=y.createContext(null),Oo=y.createContext(null),rw=y.createContext(null),Vi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),aU=y.createContext(null);function Bae(e,t){let{relative:n}=t===void 0?{}:t;sf()||Nn(!1);let{basename:r,navigator:a}=y.useContext(Oo),{hash:i,pathname:o,search:l}=sw(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Pl([r,o])),a.createHref({pathname:c,search:l,hash:i})}function sf(){return y.useContext(rw)!=null}function ui(){return sf()||Nn(!1),y.useContext(rw).location}function iU(e){y.useContext(Oo).static||y.useLayoutEffect(e)}function Nr(){let{isDataRoute:e}=y.useContext(Vi);return e?tie():Uae()}function Uae(){sf()||Nn(!1);let e=y.useContext(nw),{basename:t,future:n,navigator:r}=y.useContext(Oo),{matches:a}=y.useContext(Vi),{pathname:i}=ui(),o=JSON.stringify(iP(a,n.v7_relativeSplatPath)),l=y.useRef(!1);return iU(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=oP(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Pl([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const zae=y.createContext(null);function qae(e){let t=y.useContext(Vi).outlet;return t&&y.createElement(zae.Provider,{value:e},t)}function Ig(){let{matches:e}=y.useContext(Vi),t=e[e.length-1];return t?t.params:{}}function sw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Oo),{matches:a}=y.useContext(Vi),{pathname:i}=ui(),o=JSON.stringify(iP(a,r.v7_relativeSplatPath));return y.useMemo(()=>oP(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Vae(e,t){return Wae(e,t)}function Wae(e,t,n,r){sf()||Nn(!1);let{navigator:a}=y.useContext(Oo),{matches:i}=y.useContext(Vi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ui(),d;if(t){var h;let v=typeof t=="string"?rf(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Nn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=xae(e,{pathname:m}),g=Jae(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&g?y.createElement(rw.Provider,{value:{location:kp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yl.Pop}},g):g}function Hae(){let e=eie(),t=Lae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,null)}const Gae=y.createElement(Hae,null);class Yae extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Vi.Provider,{value:this.props.routeContext},y.createElement(aU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kae(e){let{routeContext:t,match:n,children:r}=e,a=y.useContext(nw);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Vi.Provider,{value:t},r)}function Jae(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Nn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,p=!1,g=null,v=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||Gae,c&&(u<0&&f===0?(p=!0,v=null):u===f&&(p=!0,v=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=g:p?w=v:h.route.Component?w=y.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,y.createElement(Kae,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(Yae,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var oU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oU||{}),Ky=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ky||{});function Xae(e){let t=y.useContext(nw);return t||Nn(!1),t}function Qae(e){let t=y.useContext(sU);return t||Nn(!1),t}function Zae(e){let t=y.useContext(Vi);return t||Nn(!1),t}function lU(e){let t=Zae(),n=t.matches[t.matches.length-1];return n.route.id||Nn(!1),n.route.id}function eie(){var e;let t=y.useContext(aU),n=Qae(Ky.UseRouteError),r=lU(Ky.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function tie(){let{router:e}=Xae(oU.UseNavigateStable),t=lU(Ky.UseNavigateStable),n=y.useRef(!1);return iU(()=>{n.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,kp({fromRouteId:t},i)))},[e,t])}function vs(e){let{to:t,replace:n,state:r,relative:a}=e;sf()||Nn(!1);let{future:i,static:o}=y.useContext(Oo),{matches:l}=y.useContext(Vi),{pathname:c}=ui(),u=Nr(),d=oP(t,iP(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function nie(e){return qae(e.context)}function Ze(e){Nn(!1)}function rie(e){let{basename:t="/",children:n=null,location:r,navigationType:a=yl.Pop,navigator:i,static:o=!1,future:l}=e;sf()&&Nn(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:kp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=rf(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:p="default"}=r,g=y.useMemo(()=>{let v=hh(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:p},navigationType:a}},[c,d,h,f,m,p,a]);return g==null?null:y.createElement(Oo.Provider,{value:u},y.createElement(rw.Provider,{children:n,value:g}))}function sie(e){let{children:t,location:n}=e;return Vae(IS(t),n)}new Promise(()=>{});function IS(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let i=[...t,a];if(r.type===y.Fragment){n.push.apply(n,IS(r.props.children,i));return}r.type!==Ze&&Nn(!1),!r.props.index||!r.props.children||Nn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=IS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(this,arguments)}function cU(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function aie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iie(e,t){return e.button===0&&(!t||t==="_self")&&!aie(e)}function RS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function oie(e,t){let n=RS(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const lie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cie=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uie="6";try{window.__reactRouterVersion=uie}catch{}const die=y.createContext({isTransitioning:!1}),hie="startTransition",QM=bF[hie];function fie(e){let{basename:t,children:n,future:r,window:a}=e,i=y.useRef();i.current==null&&(i.current=pae({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&QM?QM(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(rie,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const mie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=y.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=cU(t,lie),{basename:m}=y.useContext(Oo),p,g=!1;if(typeof u=="string"&&pie.test(u)&&(p=u,mie))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=hh(_.pathname,m);_.origin===w.origin&&N!=null?u=N+_.search+_.hash:g=!0}catch{}let v=Bae(u,{relative:a}),x=vie(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function b(w){r&&r(w),w.defaultPrevented||x(w)}return y.createElement("a",Jy({},f,{href:p||v,onClick:g||i?r:b,ref:n,target:c}))}),$S=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=cU(t,cie),f=sw(c,{relative:h.relative}),m=ui(),p=y.useContext(sU),{navigator:g,basename:v}=y.useContext(Oo),x=p!=null&&yie(f)&&u===!0,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=m.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=hh(_,v)||_);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let S=w===b||!o&&w.startsWith(b)&&w.charAt(N)==="/",C=_!=null&&(_===b||!o&&_.startsWith(b)&&_.charAt(b.length)==="/"),k={isActive:S,isPending:C,isTransitioning:x},A=S?r:void 0,T;typeof i=="function"?T=i(k):T=[i,S?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(k):l;return y.createElement(Je,Jy({},h,{"aria-current":A,className:T,ref:n,style:E,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var LS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(LS||(LS={}));var ZM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ZM||(ZM={}));function gie(e){let t=y.useContext(nw);return t||Nn(!1),t}function vie(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nr(),u=ui(),d=sw(e,{relative:o});return y.useCallback(h=>{if(iie(h,n)){h.preventDefault();let f=r!==void 0?r:Gy(u)===Gy(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function xie(e){let t=y.useRef(RS(e)),n=y.useRef(!1),r=ui(),a=y.useMemo(()=>oie(r.search,n.current?null:t.current),[r.search]),i=Nr(),o=y.useCallback((l,c)=>{const u=RS(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function yie(e,t){t===void 0&&(t={});let n=y.useContext(die);n==null&&Nn(!1);let{basename:r}=gie(LS.useViewTransitionState),a=sw(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=hh(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yy(a.pathname,o)!=null||Yy(a.pathname,i)!=null}const bie="modulepreload",wie=function(e){return"/"+e},eD={},Rg=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=wie(c),c in eD)return;eD[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":bie,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},jie=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rg(async()=>{const{default:r}=await Promise.resolve().then(()=>af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class lP extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class _ie extends lP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tD extends lP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nD extends lP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var FS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FS||(FS={}));var Nie=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Sie{constructor(t,{headers:n={},customFetch:r,region:a=FS.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=jie(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Nie(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(g=>{throw new _ie(g)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new tD(h);if(!h.ok)throw new nD(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield h.json():m==="application/octet-stream"?p=yield h.blob():m==="text/event-stream"?p=h:m==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof nD||a instanceof tD?a.context:void 0}}})}}var ls={},cP={},aw={},$g={},iw={},ow={},Cie=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fh=Cie();const kie=fh.fetch,uU=fh.fetch.bind(fh),dU=fh.Headers,Eie=fh.Request,Pie=fh.Response,af=Object.freeze(Object.defineProperty({__proto__:null,Headers:dU,Request:Eie,Response:Pie,default:uU,fetch:kie},Symbol.toStringTag,{value:"Module"})),Aie=cF(af);var lw={};Object.defineProperty(lw,"__esModule",{value:!0});let Tie=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lw.default=Tie;var hU=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ow,"__esModule",{value:!0});const Oie=hU(Aie),Mie=hU(lw);let Die=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Oie.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&g===""?(f=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new Mie.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};ow.default=Die;var Iie=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iw,"__esModule",{value:!0});const Rie=Iie(ow);let $ie=class extends Rie.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};iw.default=$ie;var Lie=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($g,"__esModule",{value:!0});const Fie=Lie(iw);let Bie=class extends Fie.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$g.default=Bie;var Uie=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aw,"__esModule",{value:!0});const Jf=Uie($g);let zie=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Jf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Jf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};aw.default=zie;var cw={},uw={};Object.defineProperty(uw,"__esModule",{value:!0});uw.version=void 0;uw.version="0.0.0-automated";Object.defineProperty(cw,"__esModule",{value:!0});cw.DEFAULT_HEADERS=void 0;const qie=uw;cw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${qie.version}`};var fU=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cP,"__esModule",{value:!0});const Vie=fU(aw),Wie=fU($g),Hie=cw;let Gie=class mU{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Hie.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new Vie.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||a?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Wie.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};cP.default=Gie;var of=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});ls.PostgrestError=ls.PostgrestBuilder=ls.PostgrestTransformBuilder=ls.PostgrestFilterBuilder=ls.PostgrestQueryBuilder=ls.PostgrestClient=void 0;const pU=of(cP);ls.PostgrestClient=pU.default;const gU=of(aw);ls.PostgrestQueryBuilder=gU.default;const vU=of($g);ls.PostgrestFilterBuilder=vU.default;const xU=of(iw);ls.PostgrestTransformBuilder=xU.default;const yU=of(ow);ls.PostgrestBuilder=yU.default;const bU=of(lw);ls.PostgrestError=bU.default;var Yie=ls.default={PostgrestClient:pU.default,PostgrestQueryBuilder:gU.default,PostgrestFilterBuilder:vU.default,PostgrestTransformBuilder:xU.default,PostgrestBuilder:yU.default,PostgrestError:bU.default};const{PostgrestClient:Kie,PostgrestQueryBuilder:BGe,PostgrestFilterBuilder:UGe,PostgrestTransformBuilder:zGe,PostgrestBuilder:qGe,PostgrestError:VGe}=Yie;function Jie(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Xie=Jie(),Qie="2.11.15",Zie=`realtime-js/${Qie}`,eoe="1.0.0",wU=1e4,toe=1e3;var Um;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Um||(Um={}));var kr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kr||(kr={}));var Ba;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ba||(Ba={}));var BS;(function(e){e.websocket="websocket"})(BS||(BS={}));var wc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wc||(wc={}));class noe{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class jU{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rn||(rn={}));const rD=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=roe(o,e,t,a),i),{})},roe=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?_U(i,o):US(o)},_U=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ooe(t,n)}switch(e){case rn.bool:return soe(t);case rn.float4:case rn.float8:case rn.int2:case rn.int4:case rn.int8:case rn.numeric:case rn.oid:return aoe(t);case rn.json:case rn.jsonb:return ioe(t);case rn.timestamp:return loe(t);case rn.abstime:case rn.date:case rn.daterange:case rn.int4range:case rn.int8range:case rn.money:case rn.reltime:case rn.text:case rn.time:case rn.timestamptz:case rn.timetz:case rn.tsrange:case rn.tstzrange:return US(t);default:return US(t)}},US=e=>e,soe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aoe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ioe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ooe=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_U(t,l))}return e},loe=e=>typeof e=="string"?e.replace(" ","T"):e,NU=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class k_{constructor(t,n,r={},a=wU){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sD||(sD={}));class zm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=zm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),m=h.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),g=h.filter(v=>f.indexOf(v.presence_ref)<0);p.length>0&&(l[u]=p),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var aD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(aD||(aD={}));var iD;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iD||(iD={}));var no;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(no||(no={}));class uP{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new k_(this,Ba.join,this.params,this.timeout),this.rejoinTimer=new jU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ba.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new zm(this),this.broadcastEndpointURL=NU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==kr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(no.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(no.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(no.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,p=[];for(let g=0;g<m;g++){const v=f[g],{filter:{event:x,schema:b,table:w,filter:_}}=v,N=d&&d[g];if(N&&N.event===x&&N.schema===b&&N.table===w&&N.filter===_)p.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=kr.errored,t==null||t(no.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(no.SUBSCRIBED);return}}).receive("error",d=>{this.state=kr.errored,t==null||t(no.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(no.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ba.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new k_(this,Ba.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new k_(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ba;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,g,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,g,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,N=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:g,table:v,commit_timestamp:x,type:b,errors:w}=p;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(f,r)})}_isClosed(){return this.state===kr.closed}_isJoined(){return this.state===kr.joined}_isJoining(){return this.state===kr.joining}_isLeaving(){return this.state===kr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&uP.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ba.close,{},t)}_onError(t){this._on(Ba.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=rD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=rD(t.columns,t.old_record)),n}}const oD=()=>{},coe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uoe{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wU,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oD,this.ref=0,this.logger=oD,this.conn=null,this.sendBuffer=[],this.serializer=new noe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Rg(async()=>{const{default:c}=await Promise.resolve().then(()=>af);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${BS.websocket}`,this.httpEndpoint=NU(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xie),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eoe}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Um.connecting:return wc.Connecting;case Um.open:return wc.Open;case Um.closing:return wc.Closing;default:return wc.Closed}}isConnected(){return this.connectionState()===wc.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new uP(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Zie};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Ba.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(toe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ba.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([coe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class dP extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class doe extends dP{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zS extends dP{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var hoe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const SU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rg(async()=>{const{default:r}=await Promise.resolve().then(()=>af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},foe=()=>hoe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rg(()=>Promise.resolve().then(()=>af),void 0)).Response:Response}),qS=e=>{if(Array.isArray(e))return e.map(n=>qS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=qS(r)}),t};var _u=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const E_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),moe=(e,t,n)=>_u(void 0,void 0,void 0,function*(){const r=yield foe();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new doe(E_(a),e.status||500))}).catch(a=>{t(new zS(E_(a),a))}):t(new zS(E_(e),e))}),poe=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Lg(e,t,n,r,a,i){return _u(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,poe(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>moe(c,l,r))})})}function Xy(e,t,n,r){return _u(this,void 0,void 0,function*(){return Lg(e,"GET",t,n,r)})}function tl(e,t,n,r,a){return _u(this,void 0,void 0,function*(){return Lg(e,"POST",t,r,a,n)})}function goe(e,t,n,r,a){return _u(this,void 0,void 0,function*(){return Lg(e,"PUT",t,r,a,n)})}function voe(e,t,n,r){return _u(this,void 0,void 0,function*(){return Lg(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function CU(e,t,n,r,a){return _u(this,void 0,void 0,function*(){return Lg(e,"DELETE",t,r,a,n)})}var ss=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const xoe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yoe{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=SU(a)}uploadOrUpdate(t,n,r,a){return ss(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},lD),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(nr(i))return{data:null,error:i};throw i}})}upload(t,n,r){return ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return ss(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:lD.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(nr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ss(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield tl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new dP("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}update(t,n,r){return ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ss(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(nr(a))return{data:null,error:a};throw a}})}copy(t,n,r){return ss(this,void 0,void 0,function*(){try{return{data:{path:(yield tl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(nr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return ss(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield tl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(nr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return ss(this,void 0,void 0,function*(){try{const a=yield tl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(nr(a))return{data:null,error:a};throw a}})}download(t,n){return ss(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Xy(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(nr(l))return{data:null,error:l};throw l}})}info(t){return ss(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Xy(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:qS(r),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}exists(t){return ss(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield voe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(nr(r)&&r instanceof zS){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ss(this,void 0,void 0,function*(){try{return{data:yield CU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}list(t,n,r){return ss(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},xoe),n),{prefix:t||""});return{data:yield tl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(nr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const boe="2.7.1",woe={"X-Client-Info":`storage-js/${boe}`};var $u=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class joe{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},woe),n),this.fetch=SU(r)}listBuckets(){return $u(this,void 0,void 0,function*(){try{return{data:yield Xy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nr(t))return{data:null,error:t};throw t}})}getBucket(t){return $u(this,void 0,void 0,function*(){try{return{data:yield Xy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $u(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $u(this,void 0,void 0,function*(){try{return{data:yield goe(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $u(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $u(this,void 0,void 0,function*(){try{return{data:yield CU(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(nr(n))return{data:null,error:n};throw n}})}}class _oe extends joe{constructor(t,n={},r){super(t,n,r)}from(t){return new yoe(this.url,this.headers,t,this.fetch)}}const Noe="2.51.0";let jm="";typeof Deno<"u"?jm="deno":typeof document<"u"?jm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jm="react-native":jm="node";const Soe={"X-Client-Info":`supabase-js-${jm}/${Noe}`},Coe={headers:Soe},koe={schema:"public"},Eoe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Poe={};var Aoe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Toe=e=>{let t;return e?t=e:typeof fetch>"u"?t=uU:t=fetch,(...n)=>t(...n)},Ooe=()=>typeof Headers>"u"?dU:Headers,Moe=(e,t,n)=>{const r=Toe(n),a=Ooe();return(i,o)=>Aoe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Doe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Ioe(e){return e.endsWith("/")?e:e+"/"}function Roe(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Doe(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const kU="2.71.0",Zu=30*1e3,VS=3,P_=VS*Zu,$oe="http://localhost:9999",Loe="supabase.auth.token",Foe={"X-Client-Info":`gotrue-js/${kU}`},WS="X-Supabase-Api-Version",EU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Boe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uoe=10*60*1e3;class hP extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zoe extends hP{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qoe(e){return ut(e)&&e.name==="AuthApiError"}class PU extends hP{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xl extends hP{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Ko extends Xl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Voe(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Qv extends Xl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zv extends Xl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ex extends Xl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Woe(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class cD extends Xl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class HS extends Xl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function A_(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class uD extends Xl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class GS extends Xl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dD=` 	
\r=`.split(""),Hoe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dD.length;t+=1)e[dD[t].charCodeAt(0)]=-2;for(let t=0;t<Qy.length;t+=1)e[Qy[t].charCodeAt(0)]=t;return e})();function hD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Qy[r]),t.queuedBits-=6}}function AU(e,t,n){const r=Hoe[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fD(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Koe(o,r,n)};for(let o=0;o<e.length;o+=1)AU(e.charCodeAt(o),a,i);return t.join("")}function Goe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Yoe(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Goe(r,t)}}function Koe(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Joe(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)AU(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Xoe(e){const t=[];return Yoe(e,n=>t.push(n)),new Uint8Array(t)}function Qoe(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>hD(a,n,r)),hD(null,n,r),t.join("")}function Zoe(e){return Math.round(Date.now()/1e3)+e}function ele(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Da=()=>typeof window<"u"&&typeof document<"u",oc={tested:!1,writable:!1},TU=()=>{if(!Da())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oc.tested)return oc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oc.tested=!0,oc.writable=!0}catch{oc.tested=!0,oc.writable=!1}return oc.writable};function tle(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const OU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rg(async()=>{const{default:r}=await Promise.resolve().then(()=>af);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},nle=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ed=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},lc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vo=async(e,t)=>{await e.removeItem(t)};class dw{constructor(){this.promise=new dw.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dw.promiseConstructor=Promise;function T_(e){const t=e.split(".");if(t.length!==3)throw new GS("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Boe.test(t[r]))throw new GS("JWT not in base64url format");return{header:JSON.parse(fD(t[0])),payload:JSON.parse(fD(t[1])),signature:Joe(t[2]),raw:{header:t[0],payload:t[1]}}}async function rle(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sle(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function ale(e){return("0"+e.toString(16)).substr(-2)}function ile(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,ale).join("")}async function ole(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function lle(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ole(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lu(e,t,n=!1){const r=ile();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await ed(e,`${t}-code-verifier`,a);const i=await lle(r);return[i,r===i?"plain":"s256"]}const cle=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ule(e){const t=e.headers.get(WS);if(!t||!t.match(cle))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dle(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hle(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fle=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fu(e){if(!fle.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function O_(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var mle=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const gc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ple=[502,503,504];async function mD(e){var t;if(!nle(e))throw new HS(gc(e),0);if(ple.includes(e.status))throw new HS(gc(e),e.status);let n;try{n=await e.json()}catch(i){throw new PU(gc(i),i)}let r;const a=ule(e);if(a&&a.getTime()>=EU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uD(gc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ko}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new uD(gc(n),e.status,n.weak_password.reasons);throw new zoe(gc(n),e.status||500,r)}const gle=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function gt(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[WS]||(i[WS]=EU["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await vle(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function vle(e,t,n,r,a,i){const o=gle(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new HS(gc(c),0)}if(l.ok||await mD(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await mD(c)}}function Zi(e){var t;let n=null;wle(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zoe(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function pD(e){const t=Zi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ol(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xle(e){return{data:e,error:null}}function yle(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=mle(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ble(e){return e}function wle(e){return e.access_token&&e.refresh_token&&e.expires_in}const M_=["global","local","others"];var jle=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class _le{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=OU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=M_[0]){if(M_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${M_.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ol})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jle(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:yle,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ol})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ble});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ut(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fu(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ol})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fu(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ol})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fu(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ol})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fu(t.userId);try{const{data:n,error:r}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fu(t.userId),Fu(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function gD(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Nle(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bu={debug:!!(globalThis&&TU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sle extends MU{}async function Cle(e,t,n){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Bu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sle(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Nle();const kle={url:$oe,storageKey:Loe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Foe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vD(e,t,n){return await n()}const Uu={};class Ep{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ep.nextInstanceID,Ep.nextInstanceID+=1,this.instanceID>0&&Da()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},kle),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _le({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=OU(a.fetch),this.lock=a.lock||vD,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Da()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cle:this.lock=vD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:TU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gD(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=gD(this.memoryStorage)),Da()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Uu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Uu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Uu[this.storageKey]=Object.assign(Object.assign({},Uu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=tle(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Da()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Woe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?{error:n}:{error:new PU("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zi}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Lu(this.storage,this.storageKey)),i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Zi})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zi})}else throw new Zv("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ut(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pD})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pD})}else throw new Zv("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qv}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,m;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let _;if(Da())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:x}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Qoe(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Zi});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Qv}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(ut(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zi});if(await Vo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qv}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ut(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Lu(this.storage,this.storageKey));const{error:h}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Zv("You must provide either an email or phone number.")}catch(l){if(ut(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Zi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Lu(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:xle})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ko;const{error:a}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ut(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await gt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await gt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Zv("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<P_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await lc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=O_()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ol}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ko}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ol})})}catch(n){if(ut(n))return Voe(n)&&(await this._removeSession(),await Vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ko;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Lu(this.storage,this.storageKey));const{data:u,error:d}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ol});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ko;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=T_(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ut(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ko;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ut(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Da())throw new ex("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ex(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ex("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cD("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ex("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Zu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(ut(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(qoe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ele(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Lu(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ut(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Da()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ut(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sle(async a=>(a>0&&await rle(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&A_(i)&&Date.now()+o-r<Zu})}catch(r){if(this._debug(n,"error",r),ut(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Da()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await lc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ed(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:O_()}else if(a&&!a.user&&!a.user){const o=await lc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Vo(this.storage,this.storageKey+"-user"),await ed(this.storage,this.storageKey,a)):a.user=O_()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<P_;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${P_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),A_(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ko;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new dw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ko;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ut(i)){const o={session:null,error:i};return A_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ed(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await ed(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await ed(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Vo(this.storage,this.storageKey),await Vo(this.storage,this.storageKey+"-code-verifier"),await Vo(this.storage,this.storageKey+"-user"),this.userStorage&&await Vo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Da()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Zu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Zu}ms, refresh threshold is ${VS} ticks`),a<=VS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof MU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Da()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Lu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ut(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=T_(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Uoe>a)return r;const{data:i,error:o}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=T_(r);n!=null&&n.allowExpired||dle(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=hle(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Xoe(`${l}.${c}`)))throw new GS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}}Ep.nextInstanceID=0;const Ele=Ep;class Ple extends Ele{constructor(t){super(t)}}var Ale=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Tle{constructor(t,n,r){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Ioe(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:koe,realtime:Poe,auth:Object.assign(Object.assign({},Eoe),{storageKey:u}),global:Coe},h=Roe(r??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Moe(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Kie(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Sie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _oe(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ale(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ple({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new uoe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ole=(e,t,n)=>new Tle(e,t,n),Mle="https://nzqzmvsrsfynatxojuil.supabase.co",Dle="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",G=Ole(Mle,Dle,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),DU=y.createContext(void 0);function Ile({children:e}){const[t,n]=y.useState(null),[r,a]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{const{data:{subscription:f}}=G.auth.onAuthStateChange((m,p)=>{console.log("Auth state change:",m,"session exists:",!!p),a(p),n((p==null?void 0:p.user)??null),o(!1)});return G.auth.getSession().then(({data:{session:m}})=>{console.log("Initial session check:",!!m),a(m),n((m==null?void 0:m.user)??null),o(!1)}),()=>f.unsubscribe()},[]);const l=async(f,m,p)=>{const g=`${window.location.origin}/`,{error:v}=await G.auth.signUp({email:f,password:m,options:{emailRedirectTo:g,data:{full_name:p}}});return{error:v}},c=async(f,m)=>{const{error:p}=await G.auth.signInWithPassword({email:f,password:m});return{error:p}},u=async f=>{const{error:m}=await G.auth.signInWithOAuth({provider:f,options:{redirectTo:`${window.location.origin}/auth`}});return{error:m}},d=async()=>{var f,m;console.log("Starting sign out process...");try{a(null),n(null),localStorage.removeItem("sb-nzqzmvsrsfynatxojuil-auth-token");const{error:p}=await G.auth.signOut();if(console.log("Sign out response:",{error:p}),p){if((f=p.message)!=null&&f.includes("Auth session missing")){console.log("Session already missing, clearing local state");return}throw console.error("Sign out error:",p),p}console.log("Sign out successful")}catch(p){if((m=p==null?void 0:p.message)!=null&&m.includes("Auth session missing")){console.log("Handling missing session in catch block");return}throw console.error("Sign out catch block:",p),p}},h=async f=>{const m=`${window.location.origin}/auth`,{error:p}=await G.auth.resetPasswordForEmail(f,{redirectTo:m});return{error:p}};return s.jsx(DU.Provider,{value:{user:t,session:r,loading:i,signUp:l,signIn:c,signInWithProvider:u,signOut:d,resetPassword:h},children:e})}function Dt(){const e=y.useContext(DU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const IU=y.createContext(void 0);function Rle({children:e}){const[t,n]=y.useState(null),[r,a]=y.useState(!0);y.useEffect(()=>{i()},[]);const i=async()=>{var d,h,f;try{console.log("Checking customer session...");const{data:{session:m}}=await G.auth.getSession();if(console.log("Session found:",!!m,"User:",(d=m==null?void 0:m.user)==null?void 0:d.email),(f=(h=m==null?void 0:m.user)==null?void 0:h.user_metadata)!=null&&f.is_customer){console.log("User is a customer, fetching profile...");const p=m.user.email;let{data:g,error:v}=await G.from("customers").select("*").eq("email",p).maybeSingle();if(v||!g){console.log("Direct query failed, trying RPC function...");const{data:x,error:b}=await G.rpc("verify_customer_for_signin",{p_email:p});!b&&(x!=null&&x[0])&&(g=x[0],v=null)}console.log("Customer profile fetch result:",g,v),!v&&g?(console.log("Setting customer data:",g),n(g)):(console.log("No customer data found or error occurred, clearing session"),await G.auth.signOut())}else console.log("User is not a customer or no session")}catch(m){console.error("Error checking customer session:",m)}finally{a(!1)}},o=async(d,h)=>{var f,m,p;console.log("Customer sign in attempt for:",d);try{const{data:g,error:v}=await G.rpc("verify_customer_for_signin",{p_email:d}),x=(g==null?void 0:g[0])||null;if(console.log("Customer lookup result:",x?"found":"not found",v),v||!x)return{error:{message:"Customer not found or access denied"}};console.log("Attempting auth sign in...");const{data:b,error:w}=await G.auth.signInWithPassword({email:d,password:h});return console.log("Auth sign in result:",b.user?"success":"failed",w),w?{error:{message:"Invalid email or password"}}:(console.log("User metadata:",(f=b.user)==null?void 0:f.user_metadata),(p=(m=b.user)==null?void 0:m.user_metadata)!=null&&p.is_customer?(console.log("Customer sign in successful"),n(x),await G.from("customers").update({last_login:new Date().toISOString()}).eq("id",x.id),{error:null}):(console.log("User does not have customer metadata, signing out"),await G.auth.signOut(),{error:{message:"Access denied - not a customer account"}}))}catch(g){return console.error("Sign in error:",g),{error:g}}},l=async()=>{try{const{error:d}=await G.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/customer-dashboard`}});return{error:d}}catch(d){return{error:d}}},c=async()=>{await G.auth.signOut(),n(null)},u=async d=>{if(!t)return{error:{message:"Not authenticated"}};try{const{data:h,error:f}=await G.from("customers").update(d).eq("id",t.id).select().single();return!f&&h&&n(h),{error:f}}catch(h){return{error:h}}};return s.jsx(IU.Provider,{value:{customer:t,loading:r,signIn:o,signInWithGoogle:l,signOut:c,updateProfile:u},children:e})}function Cs(){const e=y.useContext(IU);if(e===void 0)throw new Error("useCustomerAuth must be used within a CustomerAuthProvider");return e}const D_=768;function $le(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${D_-1}px)`),r=()=>{t(window.innerWidth<D_)};return n.addEventListener("change",r),t(window.innerWidth<D_),()=>n.removeEventListener("change",r)},[]),!!e}const Pp=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?js:"button";return s.jsx(o,{className:xe(Pp({variant:t,size:n,className:e})),ref:i,...a})});ee.displayName="Button";const ue=y.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ue.displayName="Input";var Lle="Separator",xD="horizontal",Fle=["horizontal","vertical"],RU=y.forwardRef((e,t)=>{const{decorative:n,orientation:r=xD,...a}=e,i=Ble(r)?r:xD,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ze.div,{"data-orientation":i,...l,...a,ref:t})});RU.displayName=Lle;function Ble(e){return Fle.includes(e)}var $U=RU;const Zr=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx($U,{ref:a,decorative:n,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Zr.displayName=$U.displayName;var I_="focusScope.autoFocusOnMount",R_="focusScope.autoFocusOnUnmount",yD={bubbles:!1,cancelable:!0},Ule="FocusScope",Fg=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=jn(a),d=jn(i),h=y.useRef(null),f=Xe(t,g=>c(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:Jo(h.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Jo(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Jo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[r,l,m.paused]),y.useEffect(()=>{if(l){wD.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(I_,yD);l.addEventListener(I_,u),l.dispatchEvent(x),x.defaultPrevented||(zle(Gle(LU(l)),{select:!0}),document.activeElement===g&&Jo(l))}return()=>{l.removeEventListener(I_,u),setTimeout(()=>{const x=new CustomEvent(R_,yD);l.addEventListener(R_,d),l.dispatchEvent(x),x.defaultPrevented||Jo(g??document.body,{select:!0}),l.removeEventListener(R_,d),wD.remove(m)},0)}}},[l,u,d,m]);const p=y.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const b=g.currentTarget,[w,_]=qle(b);w&&_?!g.shiftKey&&x===_?(g.preventDefault(),n&&Jo(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),n&&Jo(_,{select:!0})):x===b&&g.preventDefault()}},[n,r,m.paused]);return s.jsx(ze.div,{tabIndex:-1,...o,ref:f,onKeyDown:p})});Fg.displayName=Ule;function zle(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Jo(r,{select:t}),document.activeElement!==n)return}function qle(e){const t=LU(e),n=bD(t,e),r=bD(t.reverse(),e);return[n,r]}function LU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bD(e,t){for(const n of e)if(!Vle(n,{upTo:t}))return n}function Vle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wle(e){return e instanceof HTMLInputElement&&"select"in e}function Jo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Wle(e)&&t&&e.select()}}var wD=Hle();function Hle(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=jD(e,t),e.unshift(t)},remove(t){var n;e=jD(e,t),(n=e[0])==null||n.resume()}}}function jD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Gle(e){return e.filter(t=>t.tagName!=="A")}var $_=0;function hw(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_D()),document.body.insertAdjacentElement("beforeend",e[1]??_D()),$_++,()=>{$_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$_--}},[])}function _D(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pi=function(){return Pi=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pi.apply(this,arguments)};function FU(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Yle(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ty="right-scroll-bar-position",ny="width-before-scroll-bar",Kle="with-scroll-bars-hidden",Jle="--removed-body-scroll-bar-size";function L_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Xle(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Qle=typeof window<"u"?y.useLayoutEffect:y.useEffect,ND=new WeakMap;function Zle(e,t){var n=Xle(null,function(r){return e.forEach(function(a){return L_(a,r)})});return Qle(function(){var r=ND.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||L_(l,null)}),i.forEach(function(l){a.has(l)||L_(l,o)})}ND.set(n,e)},[e]),n}function ece(e){return e}function tce(e,t){t===void 0&&(t=ece);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function nce(e){e===void 0&&(e={});var t=tce(null);return t.options=Pi({async:!0,ssr:!1},e),t}var BU=function(e){var t=e.sideCar,n=FU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Pi({},n))};BU.isSideCarExport=!0;function rce(e,t){return e.useMedium(t),BU}var UU=nce(),F_=function(){},fw=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:F_,onWheelCapture:F_,onTouchMoveCapture:F_}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,w=FU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,N=Zle([n,t]),S=Pi(Pi({},w),a);return y.createElement(y.Fragment,null,d&&y.createElement(_,{sideCar:UU,removeScrollBar:u,shards:h,noIsolation:m,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(l),Pi(Pi({},S),{ref:N})):y.createElement(x,Pi({},S,{className:c,ref:N}),l))});fw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fw.classNames={fullWidth:ny,zeroRight:ty};var sce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ace(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sce();return t&&e.setAttribute("nonce",t),e}function ice(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lce=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ace())&&(ice(t,n),oce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cce=function(){var e=lce();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},zU=function(){var e=cce(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},uce={left:0,top:0,right:0,gap:0},B_=function(e){return parseInt(e||"",10)||0},dce=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[B_(n),B_(r),B_(a)]},hce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uce;var t=dce(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fce=zU(),Cd="data-scroll-locked",mce=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Kle,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Cd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ty,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ny,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ty," .").concat(ty,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ny," .").concat(ny,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cd,`] {
    `).concat(Jle,": ").concat(l,`px;
  }
`)},SD=function(){var e=parseInt(document.body.getAttribute(Cd)||"0",10);return isFinite(e)?e:0},pce=function(){y.useEffect(function(){return document.body.setAttribute(Cd,(SD()+1).toString()),function(){var e=SD()-1;e<=0?document.body.removeAttribute(Cd):document.body.setAttribute(Cd,e.toString())}},[])},gce=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;pce();var i=y.useMemo(function(){return hce(a)},[a]);return y.createElement(fce,{styles:mce(i,!t,a,n?"":"!important")})},YS=!1;if(typeof window<"u")try{var tx=Object.defineProperty({},"passive",{get:function(){return YS=!0,!0}});window.addEventListener("test",tx,tx),window.removeEventListener("test",tx,tx)}catch{YS=!1}var zu=YS?{passive:!1}:!1,vce=function(e){return e.tagName==="TEXTAREA"},qU=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vce(e)&&n[t]==="visible")},xce=function(e){return qU(e,"overflowY")},yce=function(e){return qU(e,"overflowX")},CD=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=VU(e,r);if(a){var i=WU(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bce=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},wce=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},VU=function(e,t){return e==="v"?xce(t):yce(t)},WU=function(e,t){return e==="v"?bce(t):wce(t)},jce=function(e,t){return e==="h"&&t==="rtl"?-1:1},_ce=function(e,t,n,r,a){var i=jce(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=WU(e,l),p=m[0],g=m[1],v=m[2],x=g-v-i*p;(p||x)&&VU(e,l)&&(h+=x,f+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},nx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kD=function(e){return[e.deltaX,e.deltaY]},ED=function(e){return e&&"current"in e?e.current:e},Nce=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sce=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cce=0,qu=[];function kce(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),a=y.useState(Cce++)[0],i=y.useState(zU)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Yle([e.lockRef.current],(e.shards||[]).map(ED),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=nx(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-x[0],_="deltaY"in g?g.deltaY:b[1]-x[1],N,S=g.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var k=CD(C,S);if(!k)return!0;if(k?N=C:(N=C==="v"?"h":"v",k=CD(C,S)),!k)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=N),!N)return!0;var A=r.current||N;return _ce(A,v,g,A==="h"?w:_,!0)},[]),c=y.useCallback(function(g){var v=g;if(!(!qu.length||qu[qu.length-1]!==i)){var x="deltaY"in v?kD(v):nx(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Nce(N.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(ED).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(g,v,x,b){var w={name:g,delta:v,target:x,should:b,shadowParent:Ece(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(g){n.current=nx(g),r.current=void 0},[]),h=y.useCallback(function(g){u(g.type,kD(g),g.target,l(g,e.lockRef.current))},[]),f=y.useCallback(function(g){u(g.type,nx(g),g.target,l(g,e.lockRef.current))},[]);y.useEffect(function(){return qu.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,zu),document.addEventListener("touchmove",c,zu),document.addEventListener("touchstart",d,zu),function(){qu=qu.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,zu),document.removeEventListener("touchmove",c,zu),document.removeEventListener("touchstart",d,zu)}},[]);var m=e.removeScrollBar,p=e.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:Sce(a)}):null,m?y.createElement(gce,{gapMode:e.gapMode}):null)}function Ece(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pce=rce(UU,kce);var Bg=y.forwardRef(function(e,t){return y.createElement(fw,Pi({},e,{ref:t,sideCar:Pce}))});Bg.classNames=fw.classNames;var Ace=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vu=new WeakMap,rx=new WeakMap,sx={},U_=0,HU=function(e){return e&&(e.host||HU(e.parentNode))},Tce=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=HU(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Oce=function(e,t,n,r){var a=Tce(t,Array.isArray(e)?e:[e]);sx[n]||(sx[n]=new WeakMap);var i=sx[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),p=m!==null&&m!=="false",g=(Vu.get(f)||0)+1,v=(i.get(f)||0)+1;Vu.set(f,g),i.set(f,v),o.push(f),g===1&&p&&rx.set(f,!0),v===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),U_++,function(){o.forEach(function(h){var f=Vu.get(h)-1,m=i.get(h)-1;Vu.set(h,f),i.set(h,m),f||(rx.has(h)||h.removeAttribute(r),rx.delete(h)),m||h.removeAttribute(n)}),U_--,U_||(Vu=new WeakMap,Vu=new WeakMap,rx=new WeakMap,sx={})}},mw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Ace(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Oce(r,a,n,"aria-hidden")):function(){return null}},fP="Dialog",[GU,YU]=Ur(fP),[Mce,di]=GU(fP),KU=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u=!1,d]=_s({prop:r,defaultProp:a,onChange:i});return s.jsx(Mce,{scope:t,triggerRef:l,contentRef:c,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};KU.displayName=fP;var JU="DialogTrigger",XU=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=di(JU,n),i=Xe(t,a.triggerRef);return s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gP(a.open),...r,ref:i,onClick:Ne(e.onClick,a.onOpenToggle)})});XU.displayName=JU;var mP="DialogPortal",[Dce,QU]=GU(mP,{forceMount:void 0}),ZU=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=di(mP,t);return s.jsx(Dce,{scope:t,forceMount:n,children:y.Children.map(r,o=>s.jsx(Un,{present:n||i.open,children:s.jsx(Xh,{asChild:!0,container:a,children:o})}))})};ZU.displayName=mP;var Zy="DialogOverlay",ez=y.forwardRef((e,t)=>{const n=QU(Zy,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=di(Zy,e.__scopeDialog);return i.modal?s.jsx(Un,{present:r||i.open,children:s.jsx(Ice,{...a,ref:t})}):null});ez.displayName=Zy;var Ice=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=di(Zy,n);return s.jsx(Bg,{as:js,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ze.div,{"data-state":gP(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),au="DialogContent",tz=y.forwardRef((e,t)=>{const n=QU(au,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=di(au,e.__scopeDialog);return s.jsx(Un,{present:r||i.open,children:i.modal?s.jsx(Rce,{...a,ref:t}):s.jsx($ce,{...a,ref:t})})});tz.displayName=au;var Rce=y.forwardRef((e,t)=>{const n=di(au,e.__scopeDialog),r=y.useRef(null),a=Xe(t,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return mw(i)},[]),s.jsx(nz,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),$ce=y.forwardRef((e,t)=>{const n=di(au,e.__scopeDialog),r=y.useRef(!1),a=y.useRef(!1);return s.jsx(nz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),nz=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=di(au,n),c=y.useRef(null),u=Xe(t,c);return hw(),s.jsxs(s.Fragment,{children:[s.jsx(Fg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ju,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Fce,{titleId:l.titleId}),s.jsx(Uce,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pP="DialogTitle",rz=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=di(pP,n);return s.jsx(ze.h2,{id:a.titleId,...r,ref:t})});rz.displayName=pP;var sz="DialogDescription",az=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=di(sz,n);return s.jsx(ze.p,{id:a.descriptionId,...r,ref:t})});az.displayName=sz;var iz="DialogClose",oz=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=di(iz,n);return s.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});oz.displayName=iz;function gP(e){return e?"open":"closed"}var lz="DialogTitleWarning",[Lce,cz]=Iee(lz,{contentName:au,titleName:pP,docsSlug:"dialog"}),Fce=({titleId:e})=>{const t=cz(lz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Bce="DialogDescriptionWarning",Uce=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cz(Bce).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vP=KU,uz=XU,xP=ZU,Ug=ez,zg=tz,qg=rz,Vg=az,pw=oz;const Wg=vP,zce=xP,dz=y.forwardRef(({className:e,...t},n)=>s.jsx(Ug,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));dz.displayName=Ug.displayName;const qce=Qh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),lf=y.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(zce,{children:[s.jsx(dz,{}),s.jsxs(zg,{ref:a,className:xe(qce({side:e}),t),...r,children:[n,s.jsxs(pw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lf.displayName=zg.displayName;const Hg=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hg.displayName="SheetHeader";const Gg=y.forwardRef(({className:e,...t},n)=>s.jsx(qg,{ref:n,className:xe("text-lg font-semibold text-foreground",e),...t}));Gg.displayName=qg.displayName;const Yg=y.forwardRef(({className:e,...t},n)=>s.jsx(Vg,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));Yg.displayName=Vg.displayName;function Fs({className:e,...t}){return s.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",e),...t})}const Vce="sidebar:state",Wce=60*60*24*7,Hce="16rem",Gce="18rem",Yce="3rem",Kce="b",hz=y.createContext(null);function cf(){const e=y.useContext(hz);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const yP=y.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const c=$le(),[u,d]=y.useState(!1),[h,f]=y.useState(e),m=t??h,p=y.useCallback(b=>{const w=typeof b=="function"?b(m):b;n?n(w):f(w),document.cookie=`${Vce}=${w}; path=/; max-age=${Wce}`},[n,m]),g=y.useCallback(()=>c?d(b=>!b):p(b=>!b),[c,p,d]);y.useEffect(()=>{const b=w=>{w.key===Kce&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),g())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[g]);const v=m?"expanded":"collapsed",x=y.useMemo(()=>({state:v,open:m,setOpen:p,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[v,m,p,c,u,d,g]);return s.jsx(hz.Provider,{value:x,children:s.jsx(U8,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Hce,"--sidebar-width-icon":Yce,...a},className:xe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});yP.displayName="SidebarProvider";const bP=y.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=cf();return n==="none"?s.jsx("div",{className:xe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?s.jsx(Wg,{open:u,onOpenChange:d,...i,children:s.jsx(lf,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Gce},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:xe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:xe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});bP.displayName="Sidebar";const gw=y.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=cf();return s.jsxs(ee,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:xe("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...n,children:[s.jsx(Rte,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});gw.displayName="SidebarTrigger";const Jce=y.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=cf();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:xe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Jce.displayName="SidebarRail";const Xce=y.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:xe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Xce.displayName="SidebarInset";const Qce=y.forwardRef(({className:e,...t},n)=>s.jsx(ue,{ref:n,"data-sidebar":"input",className:xe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Qce.displayName="SidebarInput";const fz=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:xe("flex flex-col gap-2 p-2",e),...t}));fz.displayName="SidebarHeader";const mz=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:xe("flex flex-col gap-2 p-2",e),...t}));mz.displayName="SidebarFooter";const Zce=y.forwardRef(({className:e,...t},n)=>s.jsx(Zr,{ref:n,"data-sidebar":"separator",className:xe("mx-2 w-auto bg-sidebar-border",e),...t}));Zce.displayName="SidebarSeparator";const wP=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:xe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));wP.displayName="SidebarContent";const kd=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:xe("relative flex w-full min-w-0 flex-col p-2",e),...t}));kd.displayName="SidebarGroup";const qm=y.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?js:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:xe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});qm.displayName="SidebarGroupLabel";const eue=y.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?js:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:xe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});eue.displayName="SidebarGroupAction";const Ed=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:xe("w-full text-sm",e),...t}));Ed.displayName="SidebarGroupContent";const Cc=y.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:xe("flex w-full min-w-0 flex-col gap-1",e),...t}));Cc.displayName="SidebarMenu";const kc=y.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:xe("group/menu-item relative",e),...t}));kc.displayName="SidebarMenuItem";const tue=Qh("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ec=y.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const c=e?js:"button",{isMobile:u,state:d}=cf(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:xe(tue({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Ose,{children:[s.jsx(Mse,{asChild:!0,children:h}),s.jsx(z8,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):h});Ec.displayName="SidebarMenuButton";const nue=y.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const i=t?js:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:xe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});nue.displayName="SidebarMenuAction";const rue=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:xe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));rue.displayName="SidebarMenuBadge";const sue=y.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:xe("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Fs,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Fs,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});sue.displayName="SidebarMenuSkeleton";const aue=y.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:xe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));aue.displayName="SidebarMenuSub";const iue=y.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));iue.displayName="SidebarMenuSubItem";const oue=y.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},i)=>{const o=e?js:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:xe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});oue.displayName="SidebarMenuSubButton";const lue={theme:"system",setTheme:()=>null},pz=y.createContext(lue);function cue({children:e,defaultTheme:t="light",storageKey:n="vite-ui-theme",...r}){const[a,i]=y.useState(()=>localStorage.getItem(n)||t);y.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return s.jsx(pz.Provider,{...r,value:o,children:e})}const Kg=()=>{const e=y.useContext(pz);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Vc="/assets/voxtro-logo-dark-Z6DETYOB.png",uue=[{title:"Dashboard",url:"/dashboard",icon:F2},{title:"Voice Assistants",url:"/voice-assistants",icon:Ot},{title:"WhatsApp Agents",url:"/whatsapp-agents",icon:Ft},{title:"Chatbots",url:"/chatbots",icon:it},{title:"Tasks",url:"/voice-tasks",icon:uS},{title:"Forms",url:"/forms",icon:Fn},{title:"Flows",url:"/flows",icon:hS},{title:"Customers",url:"/customers",icon:dn},{title:"Support Tickets",url:"/support-tickets",icon:ei},{title:"Usage",url:"/usage",icon:po},{title:"Changelog",url:"/changelog",icon:_te}],due=[{title:"Teams",url:"/teams",icon:W0},{title:"Settings",url:"/settings",icon:gs}];function hue(){const{state:e}=cf(),t=ui(),{theme:n}=Kg(),{signOut:r}=Dt();t.pathname;const a=({isActive:c})=>c?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",i=e==="collapsed",o=n==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":Vc,l=async()=>{try{await r(),window.location.href="/auth"}catch(c){De({title:"Error",description:`Failed to sign out: ${(c==null?void 0:c.message)||"Unknown error"}`,variant:"destructive"})}};return s.jsxs(bP,{className:i?"w-14":"w-60",collapsible:"icon",children:[s.jsx("div",{className:"p-4 border-b bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center justify-start",children:s.jsx("img",{src:o,alt:"Voxtro",className:"h-10 w-auto"})})}),s.jsxs(wP,{children:[s.jsxs(kd,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[!i&&s.jsx(qm,{children:"Navigation"}),s.jsx(gw,{className:i?"mx-auto":""})]}),s.jsx(Ed,{children:s.jsx(Cc,{children:uue.map(c=>s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs($S,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]}),s.jsxs(kd,{children:[s.jsx(qm,{children:"Tools"}),s.jsx(Ed,{children:s.jsx(Cc,{children:s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs("a",{href:"https://build.voxtro.io",target:"_blank",rel:"noopener noreferrer",className:"text-sidebar-foreground hover:bg-sidebar-accent/50 flex items-center",children:[s.jsx(t8,{className:"mr-2 h-4 w-4"}),!i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Voice Agent Studio"}),s.jsx(ZB,{className:"ml-auto h-3 w-3 opacity-50"})]})]})})})})})]}),s.jsxs(kd,{children:[s.jsx(qm,{children:"Account"}),s.jsx(Ed,{children:s.jsx(Cc,{children:due.map(c=>s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs($S,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]})]}),s.jsx(mz,{className:"border-t",children:s.jsx(Cc,{children:s.jsx(kc,{children:s.jsxs(Ec,{onClick:l,className:"text-sidebar-foreground hover:bg-sidebar-accent/50 cursor-pointer",children:[s.jsx(B2,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:"Sign Out"})]})})})})]})}function fue(){const{user:e}=Dt(),t=Nr(),[n,r]=y.useState([]),a=y.useRef(null),[i,o]=y.useState(!1);y.useEffect(()=>(a.current=new Audio("/chime-alert.wav"),a.current.volume=.5,a.current.addEventListener("canplaythrough",()=>{o(!0)}),a.current.load(),()=>{a.current&&(a.current.pause(),a.current=null)}),[]);const l=()=>{a.current&&i&&(a.current.currentTime=0,a.current.play().catch(f=>{console.log("Audio play failed:",f)}))};y.useEffect(()=>{if(!(e!=null&&e.id))return;console.log("Setting up realtime subscription for user:",e.id);const f=G.channel("admin-new-tickets").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_tickets",filter:`user_id=eq.${e.id}`},p=>{const g=p.new;console.log("New support ticket received:",g);const v={id:`ticket-${g.id}`,type:"new_ticket",subject:g.subject,customerName:g.customer_name,priority:g.priority,ticketId:g.id,createdAt:g.created_at};r(x=>[v,...x].slice(0,5)),l()}).subscribe(p=>{console.log("Tickets channel status:",p)}),m=G.channel("admin-ticket-replies").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},async p=>{var w;const g=p.new;if(console.log("New ticket message received:",g),g.sender_type!=="customer"){console.log("Ignoring non-customer message");return}const{data:v,error:x}=await G.from("support_tickets").select("id, subject, customer_name, priority, user_id").eq("id",g.ticket_id).single();if(x){console.error("Error fetching ticket:",x);return}if(v.user_id!==e.id){console.log("Ticket does not belong to this user");return}const b={id:`message-${g.id}`,type:"ticket_reply",subject:v.subject,customerName:v.customer_name,priority:v.priority,ticketId:v.id,createdAt:g.created_at,content:(w=g.content)==null?void 0:w.substring(0,100)};r(_=>[b,..._].slice(0,5)),l()}).subscribe(p=>{console.log("Messages channel status:",p)});return()=>{console.log("Cleaning up realtime subscriptions"),G.removeChannel(f),G.removeChannel(m)}},[e==null?void 0:e.id,i]);const c=f=>{r(m=>m.filter(p=>p.id!==f))},u=()=>{r([])},d=f=>{var m;t(`/support-tickets?ticket=${f}`),c(((m=n.find(p=>p.ticketId===f))==null?void 0:m.id)||"")},h=f=>{switch(f==null?void 0:f.toLowerCase()){case"urgent":return"bg-red-500/10 text-red-600 border-red-200";case"high":return"bg-orange-500/10 text-orange-600 border-orange-200";case"medium":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";default:return"bg-blue-500/10 text-blue-600 border-blue-200"}};return n.length===0?null:s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-2",children:[n.map((f,m)=>{var p,g,v;return s.jsx("div",{className:"pointer-events-auto border-l-4 rounded-lg shadow-lg border bg-card animate-in slide-in-from-top-5 duration-300",style:{animationDelay:`${m*100}ms`,borderLeftColor:((p=f.priority)==null?void 0:p.toLowerCase())==="urgent"?"rgb(239 68 68)":((g=f.priority)==null?void 0:g.toLowerCase())==="high"?"rgb(249 115 22)":((v=f.priority)==null?void 0:v.toLowerCase())==="medium"?"rgb(234 179 8)":"rgb(59 130 246)"},children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${f.type==="new_ticket"?"bg-primary/10":"bg-blue-500/10"}`,children:f.type==="new_ticket"?s.jsx(D2,{className:"h-4 w-4 text-primary"}):s.jsx(un,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:f.type==="new_ticket"?"New Support Ticket":"Customer Reply"}),f.priority&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${h(f.priority)}`,children:f.priority})]}),s.jsx("p",{className:"font-medium text-sm truncate",children:f.subject}),f.type==="ticket_reply"&&f.content&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:['"',f.content,'..."']}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["From: ",f.customerName]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>d(f.ticketId),className:"text-xs h-7",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"View"]}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-7 w-7",children:s.jsx(Kl,{className:"h-4 w-4"})})]})]})})},f.id)}),n.length>1&&s.jsx("div",{className:"pointer-events-auto flex justify-center",children:s.jsxs(ee,{variant:"outline",size:"sm",onClick:u,className:"text-xs shadow-md bg-card border",children:["Dismiss All (",n.length,")"]})})]})})}function pr({children:e}){var l;const{user:t,loading:n}=Dt(),[r,a]=y.useState(""),i=((l=t==null?void 0:t.user_metadata)==null?void 0:l.is_customer)===!0;if(!n&&i)return s.jsx(vs,{to:"/customer-login",replace:!0});const o=async()=>{if(t)try{const{data:c,error:u}=await G.from("profiles").select("full_name").eq("user_id",t.id).maybeSingle();a(!u&&c?c.full_name||t.email||"":t.email||"")}catch(c){console.error("Error fetching profile:",c),a(t.email||"")}};return y.useEffect(()=>{o();const c=G.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`user_id=eq.${t==null?void 0:t.id}`},()=>{o()}).subscribe();return()=>{G.removeChannel(c)}},[t]),s.jsxs(yP,{children:[s.jsx(fue,{}),s.jsxs("div",{className:"min-h-screen flex w-full",children:[s.jsx(hue,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(gw,{className:"lg:hidden"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-muted-foreground",children:r})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})]})}function mue({children:e}){const r=ui().pathname.startsWith("/customer-")?"voxtro-customer-theme":"voxtro-admin-theme";return s.jsx(cue,{defaultTheme:"dark",storageKey:r,children:e})}const pue=()=>{const{user:e,loading:t}=Dt();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(vs,{to:"/dashboard",replace:!0}):s.jsx(vs,{to:"/auth",replace:!0})};var gue="Label",gz=y.forwardRef((e,t)=>s.jsx(ze.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gz.displayName=gue;var vz=gz;const vue=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=y.forwardRef(({className:e,...t},n)=>s.jsx(vz,{ref:n,className:xe(vue(),e),...t}));ne.displayName=vz.displayName;const cr="/assets/voxtro-logo-BTHQL5eT.png";function xue(){var w;const{user:e,signUp:t,signIn:n,signInWithProvider:r,loading:a,session:i,resetPassword:o}=Dt(),{toast:l}=bn(),{resolvedTheme:c}=H2(),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[m,p]=y.useState(!1);if(console.log("Auth page - loading:",a,"user:",!!e,"session:",!!i),a)return console.log("Auth page showing loading..."),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(it,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})});if(!a&&e){if(((w=e.user_metadata)==null?void 0:w.is_customer)===!0)return console.log("Auth page redirecting to customer portal - user is a customer"),s.jsx(vs,{to:"/customer-login",replace:!0});const N=localStorage.getItem("pending_invite_token");return N?(console.log("Auth page redirecting to invite acceptance - pending invite token found"),localStorage.removeItem("pending_invite_token"),s.jsx(vs,{to:`/invite/${N}`,replace:!0})):(console.log("Auth page redirecting to dashboard - user exists"),s.jsx(vs,{to:"/dashboard",replace:!0}))}const g=async _=>{_.preventDefault(),d(!0);const N=new FormData(_.currentTarget),S=N.get("email"),C=N.get("password"),k=N.get("confirmPassword"),A=N.get("fullName");if(C!==k){l({title:"Error",description:"Passwords do not match.",variant:"destructive"}),d(!1);return}const{error:T}=await t(S,C,A);l(T?{title:"Error",description:T.message,variant:"destructive"}:{title:"Success",description:"Please check your email to confirm your account."}),d(!1)},v=async _=>{_.preventDefault(),d(!0);const N=new FormData(_.currentTarget),S=N.get("email"),C=N.get("password"),{error:k}=await n(S,C);k&&l({title:"Error",description:k.message,variant:"destructive"}),d(!1)},x=async _=>{_.preventDefault(),d(!0);const S=new FormData(_.currentTarget).get("email"),{error:C}=await o(S);C?l({title:"Error",description:C.message,variant:"destructive"}):(l({title:"Success",description:"Password reset email sent. Please check your inbox."}),f(!1)),d(!1)},b=async _=>{const{error:N}=await r(_);N&&l({title:"Error",description:N.message,variant:"destructive"})};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-black relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full px-12",children:[s.jsx("div",{className:"mb-8",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-24 drop-shadow-2xl"})}),s.jsx("h1",{className:"text-4xl font-normal text-white text-center",style:{fontFamily:"Montserrat, sans-serif"},children:"AI-Powered Customer Engagement"})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white force-light",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:s.jsx("img",{src:c==="dark"?cr:Vc,alt:"Voxtro",className:"h-16"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:m?"Create your account":"Welcome back"}),s.jsx("p",{className:"mt-2 text-gray-600",children:m?"Start building amazing chatbots today":"Sign in to continue to your dashboard"})]}),m?s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-name",className:"text-gray-700",children:"Full Name"}),s.jsx(ue,{id:"signup-name",name:"fullName",type:"text",placeholder:"John Doe",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-email",className:"text-gray-700",children:"Email"}),s.jsx(ue,{id:"signup-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-password",className:"text-gray-700",children:"Password"}),s.jsx(ue,{id:"signup-password",name:"password",type:"password",placeholder:"Create a password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signup-confirm-password",className:"text-gray-700",children:"Confirm Password"}),s.jsx(ue,{id:"signup-confirm-password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsx(ee,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium mt-2",disabled:u,children:u?"Creating account...":"Create account"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50 text-gray-700 bg-white",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>p(!1),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign in"})]})]}):s.jsxs(s.Fragment,{children:[h?s.jsxs("form",{onSubmit:x,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"reset-email",className:"text-gray-700",children:"Email"}),s.jsx(ue,{id:"reset-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsx(ee,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e]",disabled:u,children:u?"Sending...":"Send reset link"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-sm text-gray-600 hover:text-gray-900",children:"Back to sign in"})]}):s.jsxs("form",{onSubmit:v,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signin-email",className:"text-gray-700",children:"Email"}),s.jsx(ue,{id:"signin-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"signin-password",className:"text-gray-700",children:"Password"}),s.jsx(ue,{id:"signin-password",name:"password",type:"password",placeholder:"Enter your password",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133] text-gray-900 bg-white"})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-[#e45133] hover:text-[#cc472e] font-medium",children:"Forgot password?"})}),s.jsx(ee,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium",disabled:u,children:u?"Signing in...":"Sign in"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50 text-gray-700 bg-white",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{type:"button",onClick:()=>p(!0),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign up for free"})]})]}),s.jsxs("p",{className:"mt-8 text-center text-xs text-gray-500",children:["By continuing, you agree to our"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Privacy Policy"})]})]})})]})}const Y=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const se=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));se.displayName="CardHeader";const ae=y.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const je=y.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));je.displayName="CardDescription";const Q=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("p-6 pt-0",e),...t}));Q.displayName="CardContent";const yue=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",e),...t}));yue.displayName="CardFooter";function bue(){const[e]=xie(),t=Nr(),{toast:n}=bn(),{resolvedTheme:r}=H2(),[a,i]=y.useState(!0),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,h]=y.useState(null),[f,m]=y.useState(""),[p,g]=y.useState(""),[v,x]=y.useState(!1),[b,w]=y.useState(!1),[_,N]=y.useState(!1),[S,C]=y.useState(!1),k=e.get("token_hash"),A=e.get("type"),T=e.get("next")||"/auth";y.useEffect(()=>{(async()=>{if(!k||!A){h("Invalid or missing verification parameters."),l(!1),i(!1);return}try{if(A==="recovery"){const{data:U,error:$}=await G.auth.verifyOtp({token_hash:k,type:"recovery"});$?(console.error("Token verification error:",$),h($.message||"Failed to verify reset token. It may have expired."),u(!1)):U.session?(console.log("Token verified successfully"),u(!0)):(h("Unable to verify reset token."),u(!1))}else if(A==="signup"||A==="email_change"){const{error:U}=await G.auth.verifyOtp({token_hash:k,type:A==="signup"?"signup":"email_change"});if(U)h(U.message||"Failed to verify email.");else{n({title:"Email Verified",description:"Your email has been verified successfully."}),t(T);return}}else h("Unknown verification type.")}catch(U){console.error("Verification error:",U),h(U.message||"An unexpected error occurred.")}l(!1),i(!1)})()},[k,A,t,T,n]);const E=async B=>{if(B.preventDefault(),f!==p){n({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}if(f.length<6){n({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}N(!0);try{const{error:U}=await G.auth.updateUser({password:f});U?n({title:"Error",description:U.message,variant:"destructive"}):(C(!0),n({title:"Success",description:"Your password has been updated successfully."}),setTimeout(async()=>{await G.auth.signOut(),t("/auth")},2e3))}catch(U){n({title:"Error",description:U.message||"Failed to update password.",variant:"destructive"})}N(!1)};return a||o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifying your request..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?cr:Vc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(Y,{className:"border-0 shadow-lg",children:[s.jsxs(se,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(JB,{className:"h-12 w-12 text-destructive"})}),s.jsx(ae,{className:"text-2xl",children:"Verification Failed"}),s.jsx(je,{className:"text-destructive",children:d})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"The link may have expired or already been used. Please request a new password reset."}),s.jsx(ee,{onClick:()=>t("/auth"),className:"w-full",children:"Back to Sign In"})]})]})]})}):S?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?cr:Vc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(Y,{className:"border-0 shadow-lg",children:[s.jsxs(se,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ar,{className:"h-12 w-12 text-green-500"})}),s.jsx(ae,{className:"text-2xl",children:"Password Updated!"}),s.jsx(je,{children:"Your password has been successfully changed."})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirecting you to the sign in page..."}),s.jsx(ee,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In Now"})]})]})]})}):c&&A==="recovery"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?cr:Vc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(Y,{className:"border-0 shadow-lg",children:[s.jsxs(se,{className:"text-center",children:[s.jsx(ae,{className:"text-2xl",children:"Set New Password"}),s.jsx(je,{children:"Enter your new password below"})]}),s.jsxs(Q,{children:[s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"new-password",type:v?"text":"password",placeholder:"Enter your new password",value:f,onChange:B=>m(B.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>x(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:v?s.jsx(wp,{className:"h-4 w-4"}):s.jsx(ja,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm your new password",value:p,onChange:B=>g(B.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:b?s.jsx(wp,{className:"h-4 w-4"}):s.jsx(ja,{className:"h-4 w-4"})})]})]}),f&&p&&f!==p&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"}),s.jsx(ee,{type:"submit",className:"w-full",disabled:_||!f||!p||f!==p,children:_?"Updating...":"Update Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:()=>t("/auth"),className:"text-sm text-muted-foreground hover:underline",children:"Back to Sign In"})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Something went wrong. Please try again."}),s.jsx(ee,{onClick:()=>t("/auth"),className:"mt-4",children:"Back to Sign In"})]})})}const wue=Qh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...n}){return s.jsx("div",{className:xe(wue({variant:t}),e),...n})}function Et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ss(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ar(e,t){const n=Et(e);return isNaN(t)?Ss(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ai(e,t){const n=Et(e);if(isNaN(t))return Ss(e,NaN);if(!t)return n;const r=n.getDate(),a=Ss(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const jP=6048e5,jue=864e5,xz=6e4,yz=36e5;let _ue={};function Jg(){return _ue}function Bi(e,t){var l,c,u,d;const n=Jg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Et(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function iu(e){return Bi(e,{weekStartsOn:1})}function bz(e){const t=Et(e),n=t.getFullYear(),r=Ss(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=iu(r),i=Ss(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=iu(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function mh(e){const t=Et(e);return t.setHours(0,0,0,0),t}function eb(e){const t=Et(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ti(e,t){const n=mh(e),r=mh(t),a=+n-eb(n),i=+r-eb(r);return Math.round((a-i)/jue)}function Nue(e){const t=bz(e),n=Ss(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),iu(n)}function KS(e,t){const n=t*7;return Ar(e,n)}function Sue(e,t){return ai(e,t*12)}function Cue(e){let t;return e.forEach(function(n){const r=Et(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function kue(e){let t;return e.forEach(n=>{const r=Et(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function wz(e){return Ss(e,Date.now())}function Lr(e,t){const n=mh(e),r=mh(t);return+n==+r}function _P(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Eue(e){if(!_P(e)&&typeof e!="number")return!1;const t=Et(e);return!isNaN(Number(t))}function Ap(e,t){const n=Et(e),r=Et(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function Pue(e,t,n){const r=Bi(e,n),a=Bi(t,n),i=+r-eb(r),o=+a-eb(a);return Math.round((i-o)/jP)}function NP(e){const t=Et(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function xs(e){const t=Et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jz(e){const t=Et(e),n=Ss(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function SP(e,t){var l,c,u,d;const n=Jg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Et(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function _z(e){return SP(e,{weekStartsOn:1})}const Aue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tue=(e,t,n)=>{let r;const a=Aue[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function z_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Oue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Due={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iue={date:z_({formats:Oue,defaultWidth:"full"}),time:z_({formats:Mue,defaultWidth:"full"}),dateTime:z_({formats:Due,defaultWidth:"full"})},Rue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$ue=(e,t,n,r)=>Rue[e];function Xf(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Lue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},que={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vue=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wue={ordinalNumber:Vue,era:Xf({values:Lue,defaultWidth:"wide"}),quarter:Xf({values:Fue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xf({values:Bue,defaultWidth:"wide"}),day:Xf({values:Uue,defaultWidth:"wide"}),dayPeriod:Xf({values:zue,defaultWidth:"wide",formattingValues:que,defaultFormattingWidth:"wide"})};function Qf(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Gue(l,h=>h.test(o)):Hue(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Hue(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Gue(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Yue(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Kue=/^(\d+)(th|st|nd|rd)?/i,Jue=/\d+/i,Xue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Que={any:[/^b/i,/^(a|c)/i]},Zue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ede={any:[/1/i,/2/i,/3/i,/4/i]},tde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ade={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ide={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ode={ordinalNumber:Yue({matchPattern:Kue,parsePattern:Jue,valueCallback:e=>parseInt(e,10)}),era:Qf({matchPatterns:Xue,defaultMatchWidth:"wide",parsePatterns:Que,defaultParseWidth:"any"}),quarter:Qf({matchPatterns:Zue,defaultMatchWidth:"wide",parsePatterns:ede,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qf({matchPatterns:tde,defaultMatchWidth:"wide",parsePatterns:nde,defaultParseWidth:"any"}),day:Qf({matchPatterns:rde,defaultMatchWidth:"wide",parsePatterns:sde,defaultParseWidth:"any"}),dayPeriod:Qf({matchPatterns:ade,defaultMatchWidth:"any",parsePatterns:ide,defaultParseWidth:"any"})},Nz={code:"en-US",formatDistance:Tue,formatLong:Iue,formatRelative:$ue,localize:Wue,match:ode,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lde(e){const t=Et(e);return Ti(t,jz(t))+1}function Sz(e){const t=Et(e),n=+iu(t)-+Nue(t);return Math.round(n/jP)+1}function Cz(e,t){var d,h,f,m;const n=Et(e),r=n.getFullYear(),a=Jg(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ss(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Bi(o,t),c=Ss(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Bi(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function cde(e,t){var l,c,u,d;const n=Jg(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Cz(e,t),i=Ss(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Bi(i,t)}function kz(e,t){const n=Et(e),r=+Bi(n,t)-+cde(n,t);return Math.round(r/jP)+1}function Wt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Wo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Wt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Wt(n+1,2)},d(e,t){return Wt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Wt(e.getHours()%12||12,t.length)},H(e,t){return Wt(e.getHours(),t.length)},m(e,t){return Wt(e.getMinutes(),t.length)},s(e,t){return Wt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Wt(a,t.length)}},Wu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PD={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Wo.y(e,t)},Y:function(e,t,n,r){const a=Cz(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Wt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Wt(i,t.length)},R:function(e,t){const n=bz(e);return Wt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Wt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Wt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Wt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Wo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Wt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=kz(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Wt(a,t.length)},I:function(e,t,n){const r=Sz(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Wt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Wo.d(e,t)},D:function(e,t,n){const r=lde(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Wt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Wt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Wt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Wt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Wu.noon:r===0?a=Wu.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Wu.evening:r>=12?a=Wu.afternoon:r>=4?a=Wu.morning:a=Wu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Wo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Wt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Wt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Wo.s(e,t)},S:function(e,t){return Wo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return TD(r);case"XXXX":case"XX":return vc(r);case"XXXXX":case"XXX":default:return vc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return TD(r);case"xxxx":case"xx":return vc(r);case"xxxxx":case"xxx":default:return vc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AD(r,":");case"OOOO":default:return"GMT"+vc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AD(r,":");case"zzzz":default:return"GMT"+vc(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Wt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Wt(r,t.length)}};function AD(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Wt(i,2)}function TD(e,t){return e%60===0?(e>0?"-":"+")+Wt(Math.abs(e)/60,2):vc(e,t)}function vc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Wt(Math.trunc(r/60),2),i=Wt(r%60,2);return n+a+t+i}const OD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ez=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ude=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return OD(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",OD(r,t)).replace("{{time}}",Ez(a,t))},dde={p:Ez,P:ude},hde=/^D+$/,fde=/^Y+$/,mde=["D","DD","YY","YYYY"];function pde(e){return hde.test(e)}function gde(e){return fde.test(e)}function vde(e,t,n){const r=xde(e,t,n);if(console.warn(r),mde.includes(e))throw new RangeError(r)}function xde(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wde=/^'([^]*?)'?$/,jde=/''/g,_de=/[a-zA-Z]/;function at(e,t,n){var d,h,f,m,p,g,v,x;const r=Jg(),a=(n==null?void 0:n.locale)??r.locale??Nz,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Et(e);if(!Eue(l))throw new RangeError("Invalid time value");let c=t.match(bde).map(b=>{const w=b[0];if(w==="p"||w==="P"){const _=dde[w];return _(b,a.formatLong)}return b}).join("").match(yde).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Nde(b)};if(PD[w])return{isToken:!0,value:b};if(w.match(_de))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&gde(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&pde(w))&&vde(w,t,String(e));const _=PD[w[0]];return _(l,w,a.localize,u)}).join("")}function Nde(e){const t=e.match(wde);return t?t[1].replace(jde,"'"):e}function Sde(e){const t=Et(e),n=t.getFullYear(),r=t.getMonth(),a=Ss(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Cde(e){return Math.trunc(+Et(e)/1e3)}function kde(e){const t=Et(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Ede(e,t){return Pue(kde(e),xs(e),t)+1}function JS(e,t){const n=Et(e),r=Et(t);return n.getTime()>r.getTime()}function Pz(e,t){const n=Et(e),r=Et(t);return+n<+r}function Az(e){return+Et(e)<Date.now()}function CP(e,t){const n=Et(e),r=Et(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Pde(e,t){const n=Et(e),r=Et(t);return n.getFullYear()===r.getFullYear()}function XS(e){return Lr(e,wz(e))}function Ade(e){return Lr(e,Ar(wz(e),1))}function q_(e,t){return Ar(e,-t)}function QS(e,t){const r=Dde(e);let a;if(r.date){const c=Ide(r.date,2);a=Rde(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=$de(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=Lde(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const ax={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Tde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ode=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Mde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dde(e){const t={},n=e.split(ax.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ax.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ax.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=ax.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Ide(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Rde(e,t){if(t===null)return new Date(NaN);const n=e.match(Tde);if(!n)return new Date(NaN);const r=!!n[4],a=Zf(n[1]),i=Zf(n[2])-1,o=Zf(n[3]),l=Zf(n[4]),c=Zf(n[5])-1;if(r)return qde(t,l,c)?Fde(t,l,c):new Date(NaN);{const u=new Date(0);return!Ude(t,i,o)||!zde(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Zf(e){return e?parseInt(e):1}function $de(e){const t=e.match(Ode);if(!t)return NaN;const n=V_(t[1]),r=V_(t[2]),a=V_(t[3]);return Vde(n,r,a)?n*yz+r*xz+a*1e3:NaN}function V_(e){return e&&parseFloat(e.replace(",","."))||0}function Lde(e){if(e==="Z")return 0;const t=e.match(Mde);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Wde(r,a)?n*(r*yz+a*xz):NaN}function Fde(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const Bde=[31,null,31,30,31,30,31,31,30,31,30,31];function Tz(e){return e%400===0||e%4===0&&e%100!==0}function Ude(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Bde[t]||(Tz(e)?29:28))}function zde(e,t){return t>=1&&t<=(Tz(e)?366:365)}function qde(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Vde(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Wde(e,t){return t>=0&&t<=59}function W_(e,t){const n=Et(e),r=n.getFullYear(),a=n.getDate(),i=Ss(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=Sde(i);return n.setMonth(t,Math.min(a,o)),n}function MD(e,t){const n=Et(e);return isNaN(+n)?Ss(e,NaN):(n.setFullYear(t),n)}function Hde(){const{user:e,loading:t}=Dt(),{toast:n}=bn(),r=Nr(),[a,i]=y.useState({totalChatbots:0,activeChatbots:0,totalConversations:0,totalMessages:0,totalVoiceAssistants:0,totalVoiceCalls:0,totalCallMinutes:0,avgMessagesPerConversation:0,avgCallDuration:0,totalWhatsAppAgents:0,activeWhatsAppAgents:0,totalWhatsAppConversations:0,totalWhatsAppMessages:0,totalCustomers:0,openTickets:0}),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState(!0),f=async()=>{if(!(e!=null&&e.id)){h(!1);return}try{const{data:b,error:w}=await G.from("chatbots").select("id, is_active").eq("user_id",e.id);if(w)throw w;const _=(b==null?void 0:b.length)||0,N=(b==null?void 0:b.filter(q=>q.is_active).length)||0,S=(b==null?void 0:b.map(q=>q.id))||[];let C=0;if(S.length>0){const{count:q,error:X}=await G.from("conversations").select("*",{count:"exact",head:!0}).in("chatbot_id",S);if(X)throw X;C=q||0}let k=0;if(S.length>0){const{count:q,error:X}=await G.from("messages").select("id, conversations!inner(chatbot_id)",{count:"exact",head:!0}).in("conversations.chatbot_id",S);if(X)throw X;k=q||0}const{data:A,error:T}=await G.from("voice_assistants").select("id, name, org_id").eq("user_id",e.id);if(T)throw T;const E=(A==null?void 0:A.length)||0,B=(A==null?void 0:A.map(q=>q.id))||[];u(A||[]);let U=0,$=0,F=0;if(B.length>0){const{data:q,error:X}=await G.from("voice_assistant_calls").select("duration_seconds, status").in("assistant_id",B);if(X)throw X;if(U=(q==null?void 0:q.length)||0,q&&q.length>0){const re=q.filter(ye=>ye.duration_seconds!=null&&ye.duration_seconds>0),pe=re.reduce((ye,le)=>ye+(le.duration_seconds||0),0);$=re.length>0?Math.round(pe/re.length):0,F=Math.round(pe/60)}}const{data:M,error:R}=await G.from("whatsapp_agents").select("id, status").eq("user_id",e.id);if(R)throw R;const D=(M==null?void 0:M.length)||0,L=(M==null?void 0:M.filter(q=>q.status==="active").length)||0,I=(M==null?void 0:M.map(q=>q.id))||[];let z=0;if(I.length>0){const{count:q,error:X}=await G.from("whatsapp_conversations").select("*",{count:"exact",head:!0}).in("agent_id",I);if(X)throw X;z=q||0}let H=0;if(I.length>0){const{count:q,error:X}=await G.from("whatsapp_messages").select("id, whatsapp_conversations!inner(agent_id)",{count:"exact",head:!0}).in("whatsapp_conversations.agent_id",I);if(X)throw X;H=q||0}const{count:j,error:P}=await G.from("customers").select("*",{count:"exact",head:!0});if(P)throw P;const{count:O,error:V}=await G.from("support_tickets").select("*",{count:"exact",head:!0}).eq("user_id",e.id).in("status",["open","in_progress"]);if(V)throw V;const{data:W,error:Z}=await G.from("voice_assistant_tasks").select("*").eq("user_id",e.id).in("status",["pending","in-progress"]).order("due_date",{ascending:!0,nullsFirst:!1}).limit(5);if(Z)throw Z;l(W||[]);const te=C>0?Math.round(k/C):0;i({totalChatbots:_,activeChatbots:N,totalConversations:C,totalMessages:k,totalVoiceAssistants:E,totalVoiceCalls:U,totalCallMinutes:F,avgMessagesPerConversation:te,avgCallDuration:$,totalWhatsAppAgents:D,activeWhatsAppAgents:L,totalWhatsAppConversations:z,totalWhatsAppMessages:H,totalCustomers:j||0,openTickets:O||0})}catch(b){console.error("Error fetching stats:",b),n({title:"Error",description:"Failed to load dashboard statistics",variant:"destructive"})}finally{h(!1)}};y.useEffect(()=>{if(!t&&!(e!=null&&e.id)){h(!1);return}if(e!=null&&e.id&&!t){f();const b=G.channel("dashboard-chatbots").on("postgres_changes",{event:"*",schema:"public",table:"chatbots"},f).subscribe(),w=G.channel("dashboard-conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},f).subscribe(),_=G.channel("dashboard-messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},f).subscribe(),N=G.channel("dashboard-assistants").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistants"},f).subscribe(),S=G.channel("dashboard-calls").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls"},f).subscribe(),C=G.channel("dashboard-tasks").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_tasks"},f).subscribe(),k=G.channel("dashboard-whatsapp-agents").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_agents"},f).subscribe(),A=G.channel("dashboard-whatsapp-conversations").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},f).subscribe(),T=G.channel("dashboard-whatsapp-messages").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_messages"},f).subscribe();return()=>{G.removeChannel(b),G.removeChannel(w),G.removeChannel(_),G.removeChannel(N),G.removeChannel(S),G.removeChannel(C),G.removeChannel(k),G.removeChannel(A),G.removeChannel(T)}}},[e==null?void 0:e.id,t]);const m=b=>{const w=c.find(_=>_.id===b);return(w==null?void 0:w.name)||"Unknown Assistant"},p=b=>{switch(b){case"urgent":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},g=b=>{switch(b){case"completed":return s.jsx(Qa,{className:"h-4 w-4 text-green-500"});case"in-progress":return s.jsx(Tt,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"})}},v=b=>{if(!b)return null;const w=QS(b);return Az(w)&&!XS(w)?{label:"Overdue",className:"text-destructive"}:XS(w)?{label:"Today",className:"text-primary"}:Ade(w)?{label:"Tomorrow",className:"text-yellow-600"}:{label:at(w,"MMM d"),className:"text-muted-foreground"}},x=b=>{if(b<60)return`${b}s`;const w=Math.floor(b/60);if(w<60)return`${w}m`;const _=Math.floor(w/60),N=w%60;return`${_}h ${N}m`};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oh,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})}):!t&&!e?s.jsx(vs,{to:"/auth",replace:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overview of your AI agents and platform activity"})]}),d?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[...Array(6)].map((b,w)=>s.jsx("div",{className:"h-20 bg-muted rounded-lg animate-pulse"},w))})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(Y,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/chatbots"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(it,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalChatbots})]})]})}),s.jsx(Y,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/voice-assistants"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-5/10 rounded-lg",children:s.jsx(Ot,{className:"h-4 w-4 text-chart-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice Assistants"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalVoiceAssistants})]})]})}),s.jsx(Y,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/whatsapp-agents"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Ft,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppAgents})]})]})}),s.jsx(Y,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/customers"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-2/10 rounded-lg",children:s.jsx(dn,{className:"h-4 w-4 text-chart-2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalCustomers})]})]})}),s.jsx(Y,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/support-tickets"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsx(ei,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Tickets"}),s.jsx("p",{className:"text-xl font-bold",children:a.openTickets})]})]})}),s.jsx(Y,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/voice-tasks"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-3/10 rounded-lg",children:s.jsx(jr,{className:"h-4 w-4 text-chart-3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Tasks"}),s.jsx("p",{className:"text-xl font-bold",children:o.length})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Y,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-primary"}),s.jsx(ae,{className:"text-base",children:"Chatbots"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>r("/chatbots"),children:s.jsx(us,{className:"h-4 w-4"})})]})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalMessages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsxs("span",{className:"font-medium",children:[a.activeChatbots," / ",a.totalChatbots]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.avgMessagesPerConversation})]})]})]})]}),s.jsxs(Y,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-chart-5"}),s.jsx(ae,{className:"text-base",children:"Voice Assistants"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>r("/voice-assistants"),children:s.jsx(us,{className:"h-4 w-4"})})]})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalVoiceCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalCallMinutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:a.totalVoiceAssistants})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg duration"}),s.jsx("span",{className:"font-medium",children:x(a.avgCallDuration)})]})]})]})]}),s.jsxs(Y,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-4 w-4 text-green-500"}),s.jsx(ae,{className:"text-base",children:"WhatsApp Agents"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>r("/whatsapp-agents"),children:s.jsx(us,{className:"h-4 w-4"})})]})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppMessages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active agents"}),s.jsxs("span",{className:"font-medium",children:[a.activeWhatsAppAgents," / ",a.totalWhatsAppAgents]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.totalWhatsAppConversations>0?Math.round(a.totalWhatsAppMessages/a.totalWhatsAppConversations):0})]})]})]})]})]}),s.jsxs(Y,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"h-4 w-4 text-chart-3"}),s.jsx(ae,{className:"text-base",children:"Upcoming Tasks"})]}),s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>r("/voice-tasks"),children:["View All",s.jsx(us,{className:"h-4 w-4 ml-1"})]})]})}),s.jsx(Q,{children:o.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Qa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No pending tasks"}),s.jsx(ee,{variant:"link",size:"sm",onClick:()=>r("/voice-tasks"),className:"mt-1",children:"Create a task"})]}):s.jsx("div",{className:"space-y-2",children:o.map(b=>{const w=v(b.due_date);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>r("/voice-tasks"),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[g(b.status),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:b.title}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:m(b.assistant_id)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Ce,{variant:p(b.priority),className:"capitalize text-xs",children:b.priority}),w&&s.jsx("span",{className:`text-xs font-medium ${w.className}`,children:w.label})]})]},b.id)})})})]})]})]})}var Gde=Array.isArray,ks=Gde,Yde=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,Oz=Yde,Kde=Oz,Jde=typeof self=="object"&&self&&self.Object===Object&&self,Xde=Kde||Jde||Function("return this")(),Wi=Xde,Qde=Wi,Zde=Qde.Symbol,Xg=Zde,DD=Xg,Mz=Object.prototype,ehe=Mz.hasOwnProperty,the=Mz.toString,em=DD?DD.toStringTag:void 0;function nhe(e){var t=ehe.call(e,em),n=e[em];try{e[em]=void 0;var r=!0}catch{}var a=the.call(e);return r&&(t?e[em]=n:delete e[em]),a}var rhe=nhe,she=Object.prototype,ahe=she.toString;function ihe(e){return ahe.call(e)}var ohe=ihe,ID=Xg,lhe=rhe,che=ohe,uhe="[object Null]",dhe="[object Undefined]",RD=ID?ID.toStringTag:void 0;function hhe(e){return e==null?e===void 0?dhe:uhe:RD&&RD in Object(e)?lhe(e):che(e)}var Mo=hhe;function fhe(e){return e!=null&&typeof e=="object"}var Do=fhe,mhe=Mo,phe=Do,ghe="[object Symbol]";function vhe(e){return typeof e=="symbol"||phe(e)&&mhe(e)==ghe}var uf=vhe,xhe=ks,yhe=uf,bhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,whe=/^\w*$/;function jhe(e,t){if(xhe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||yhe(e)?!0:whe.test(e)||!bhe.test(e)||t!=null&&e in Object(t)}var kP=jhe;function _he(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ql=_he;const df=qt(Ql);var Nhe=Mo,She=Ql,Che="[object AsyncFunction]",khe="[object Function]",Ehe="[object GeneratorFunction]",Phe="[object Proxy]";function Ahe(e){if(!She(e))return!1;var t=Nhe(e);return t==khe||t==Ehe||t==Che||t==Phe}var EP=Ahe;const vt=qt(EP);var The=Wi,Ohe=The["__core-js_shared__"],Mhe=Ohe,H_=Mhe,$D=function(){var e=/[^.]+$/.exec(H_&&H_.keys&&H_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dhe(e){return!!$D&&$D in e}var Ihe=Dhe,Rhe=Function.prototype,$he=Rhe.toString;function Lhe(e){if(e!=null){try{return $he.call(e)}catch{}try{return e+""}catch{}}return""}var Dz=Lhe,Fhe=EP,Bhe=Ihe,Uhe=Ql,zhe=Dz,qhe=/[\\^$.*+?()[\]{}|]/g,Vhe=/^\[object .+?Constructor\]$/,Whe=Function.prototype,Hhe=Object.prototype,Ghe=Whe.toString,Yhe=Hhe.hasOwnProperty,Khe=RegExp("^"+Ghe.call(Yhe).replace(qhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jhe(e){if(!Uhe(e)||Bhe(e))return!1;var t=Fhe(e)?Khe:Vhe;return t.test(zhe(e))}var Xhe=Jhe;function Qhe(e,t){return e==null?void 0:e[t]}var Zhe=Qhe,efe=Xhe,tfe=Zhe;function nfe(e,t){var n=tfe(e,t);return efe(n)?n:void 0}var Nu=nfe,rfe=Nu,sfe=rfe(Object,"create"),vw=sfe,LD=vw;function afe(){this.__data__=LD?LD(null):{},this.size=0}var ife=afe;function ofe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lfe=ofe,cfe=vw,ufe="__lodash_hash_undefined__",dfe=Object.prototype,hfe=dfe.hasOwnProperty;function ffe(e){var t=this.__data__;if(cfe){var n=t[e];return n===ufe?void 0:n}return hfe.call(t,e)?t[e]:void 0}var mfe=ffe,pfe=vw,gfe=Object.prototype,vfe=gfe.hasOwnProperty;function xfe(e){var t=this.__data__;return pfe?t[e]!==void 0:vfe.call(t,e)}var yfe=xfe,bfe=vw,wfe="__lodash_hash_undefined__";function jfe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bfe&&t===void 0?wfe:t,this}var _fe=jfe,Nfe=ife,Sfe=lfe,Cfe=mfe,kfe=yfe,Efe=_fe;function hf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hf.prototype.clear=Nfe;hf.prototype.delete=Sfe;hf.prototype.get=Cfe;hf.prototype.has=kfe;hf.prototype.set=Efe;var Pfe=hf;function Afe(){this.__data__=[],this.size=0}var Tfe=Afe;function Ofe(e,t){return e===t||e!==e&&t!==t}var PP=Ofe,Mfe=PP;function Dfe(e,t){for(var n=e.length;n--;)if(Mfe(e[n][0],t))return n;return-1}var xw=Dfe,Ife=xw,Rfe=Array.prototype,$fe=Rfe.splice;function Lfe(e){var t=this.__data__,n=Ife(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():$fe.call(t,n,1),--this.size,!0}var Ffe=Lfe,Bfe=xw;function Ufe(e){var t=this.__data__,n=Bfe(t,e);return n<0?void 0:t[n][1]}var zfe=Ufe,qfe=xw;function Vfe(e){return qfe(this.__data__,e)>-1}var Wfe=Vfe,Hfe=xw;function Gfe(e,t){var n=this.__data__,r=Hfe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Yfe=Gfe,Kfe=Tfe,Jfe=Ffe,Xfe=zfe,Qfe=Wfe,Zfe=Yfe;function ff(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ff.prototype.clear=Kfe;ff.prototype.delete=Jfe;ff.prototype.get=Xfe;ff.prototype.has=Qfe;ff.prototype.set=Zfe;var yw=ff,eme=Nu,tme=Wi,nme=eme(tme,"Map"),AP=nme,FD=Pfe,rme=yw,sme=AP;function ame(){this.size=0,this.__data__={hash:new FD,map:new(sme||rme),string:new FD}}var ime=ame;function ome(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var lme=ome,cme=lme;function ume(e,t){var n=e.__data__;return cme(t)?n[typeof t=="string"?"string":"hash"]:n.map}var bw=ume,dme=bw;function hme(e){var t=dme(this,e).delete(e);return this.size-=t?1:0,t}var fme=hme,mme=bw;function pme(e){return mme(this,e).get(e)}var gme=pme,vme=bw;function xme(e){return vme(this,e).has(e)}var yme=xme,bme=bw;function wme(e,t){var n=bme(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var jme=wme,_me=ime,Nme=fme,Sme=gme,Cme=yme,kme=jme;function mf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mf.prototype.clear=_me;mf.prototype.delete=Nme;mf.prototype.get=Sme;mf.prototype.has=Cme;mf.prototype.set=kme;var TP=mf,Iz=TP,Eme="Expected a function";function OP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Eme);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(OP.Cache||Iz),n}OP.Cache=Iz;var Rz=OP;const Pme=qt(Rz);var Ame=Rz,Tme=500;function Ome(e){var t=Ame(e,function(r){return n.size===Tme&&n.clear(),r}),n=t.cache;return t}var Mme=Ome,Dme=Mme,Ime=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rme=/\\(\\)?/g,$me=Dme(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ime,function(n,r,a,i){t.push(a?i.replace(Rme,"$1"):r||n)}),t}),Lme=$me;function Fme(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var MP=Fme,BD=Xg,Bme=MP,Ume=ks,zme=uf,qme=1/0,UD=BD?BD.prototype:void 0,zD=UD?UD.toString:void 0;function $z(e){if(typeof e=="string")return e;if(Ume(e))return Bme(e,$z)+"";if(zme(e))return zD?zD.call(e):"";var t=e+"";return t=="0"&&1/e==-qme?"-0":t}var Vme=$z,Wme=Vme;function Hme(e){return e==null?"":Wme(e)}var Lz=Hme,Gme=ks,Yme=kP,Kme=Lme,Jme=Lz;function Xme(e,t){return Gme(e)?e:Yme(e,t)?[e]:Kme(Jme(e))}var Fz=Xme,Qme=uf,Zme=1/0;function epe(e){if(typeof e=="string"||Qme(e))return e;var t=e+"";return t=="0"&&1/e==-Zme?"-0":t}var ww=epe,tpe=Fz,npe=ww;function rpe(e,t){t=tpe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[npe(t[n++])];return n&&n==r?e:void 0}var DP=rpe,spe=DP;function ape(e,t,n){var r=e==null?void 0:spe(e,t);return r===void 0?n:r}var Bz=ape;const ga=qt(Bz);function ipe(e){return e==null}var ope=ipe;const wt=qt(ope);var lpe=Mo,cpe=ks,upe=Do,dpe="[object String]";function hpe(e){return typeof e=="string"||!cpe(e)&&upe(e)&&lpe(e)==dpe}var fpe=hpe;const Qg=qt(fpe);var Uz={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=Symbol.for("react.element"),RP=Symbol.for("react.portal"),jw=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),Nw=Symbol.for("react.profiler"),Sw=Symbol.for("react.provider"),Cw=Symbol.for("react.context"),mpe=Symbol.for("react.server_context"),kw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),Pw=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),Tw=Symbol.for("react.lazy"),ppe=Symbol.for("react.offscreen"),zz;zz=Symbol.for("react.module.reference");function Ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IP:switch(e=e.type,e){case jw:case Nw:case _w:case Ew:case Pw:return e;default:switch(e=e&&e.$$typeof,e){case mpe:case Cw:case kw:case Tw:case Aw:case Sw:return e;default:return t}}case RP:return t}}}Gt.ContextConsumer=Cw;Gt.ContextProvider=Sw;Gt.Element=IP;Gt.ForwardRef=kw;Gt.Fragment=jw;Gt.Lazy=Tw;Gt.Memo=Aw;Gt.Portal=RP;Gt.Profiler=Nw;Gt.StrictMode=_w;Gt.Suspense=Ew;Gt.SuspenseList=Pw;Gt.isAsyncMode=function(){return!1};Gt.isConcurrentMode=function(){return!1};Gt.isContextConsumer=function(e){return Ea(e)===Cw};Gt.isContextProvider=function(e){return Ea(e)===Sw};Gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IP};Gt.isForwardRef=function(e){return Ea(e)===kw};Gt.isFragment=function(e){return Ea(e)===jw};Gt.isLazy=function(e){return Ea(e)===Tw};Gt.isMemo=function(e){return Ea(e)===Aw};Gt.isPortal=function(e){return Ea(e)===RP};Gt.isProfiler=function(e){return Ea(e)===Nw};Gt.isStrictMode=function(e){return Ea(e)===_w};Gt.isSuspense=function(e){return Ea(e)===Ew};Gt.isSuspenseList=function(e){return Ea(e)===Pw};Gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jw||e===Nw||e===_w||e===Ew||e===Pw||e===ppe||typeof e=="object"&&e!==null&&(e.$$typeof===Tw||e.$$typeof===Aw||e.$$typeof===Sw||e.$$typeof===Cw||e.$$typeof===kw||e.$$typeof===zz||e.getModuleId!==void 0)};Gt.typeOf=Ea;Uz.exports=Gt;var qz=Uz.exports,gpe=Mo,vpe=Do,xpe="[object Number]";function ype(e){return typeof e=="number"||vpe(e)&&gpe(e)==xpe}var Vz=ype;const bpe=qt(Vz);var wpe=Vz;function jpe(e){return wpe(e)&&e!=+e}var _pe=jpe;const Zg=qt(_pe);var Ya=function(t){return t===0?0:t>0?1:-1},Pc=function(t){return Qg(t)&&t.indexOf("%")===t.length-1},Me=function(t){return bpe(t)&&!Zg(t)},Hn=function(t){return Me(t)||Qg(t)},Npe=0,ev=function(t){var n=++Npe;return"".concat(t||"").concat(n)},ou=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&!Qg(t))return r;var i;if(Pc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Zg(i)&&(i=r),a&&i>n&&(i=n),i},ll=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Spe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Ha=function(t,n){return Me(t)&&Me(n)?function(r){return t+r*(n-t)}:function(){return n}};function tb(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ga(r,t))===n})}function Pd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ZS(e){"@babel/helpers - typeof";return ZS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZS(e)}var Cpe=["viewBox","children"],kpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qD=["points","pathLength"],G_={svg:Cpe,polygon:qD,polyline:qD},$P=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nb=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(y.isValidElement(t)&&(r=t.props),!df(r))return null;var a={};return Object.keys(r).forEach(function(i){$P.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},Epe=function(t,n,r){return function(a){return t(n,r,a),null}},rb=function(t,n,r){if(!df(t)||ZS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];$P.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Epe(o,n,r))}),a},Ppe=["children"],Ape=["children"];function VD(e,t){if(e==null)return{};var n=Tpe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eC(e){"@babel/helpers - typeof";return eC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eC(e)}var WD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},go=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},HD=null,Y_=null,LP=function e(t){if(t===HD&&Array.isArray(Y_))return Y_;var n=[];return y.Children.forEach(t,function(r){wt(r)||(qz.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Y_=n,HD=t,n};function va(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return go(a)}):r=[go(t)],LP(e).forEach(function(a){var i=ga(a,"type.displayName")||ga(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function $s(e,t){var n=va(e,t);return n&&n[0]}var GD=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Me(r)||r<=0||!Me(a)||a<=0)},Ope=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mpe=function(t){return t&&t.type&&Qg(t.type)&&Ope.indexOf(t.type)>=0},Dpe=function(t){return t&&eC(t)==="object"&&"clipDot"in t},Ipe=function(t,n,r,a){var i,o=(i=G_==null?void 0:G_[a])!==null&&i!==void 0?i:[];return!vt(t)&&(a&&o.includes(n)||kpe.includes(n))||r&&$P.includes(n)},Ct=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!df(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Ipe((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},tC=function e(t,n){if(t===n)return!0;var r=y.Children.count(t);if(r!==y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return YD(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!YD(i,o))return!1}return!0},YD=function(t,n){if(wt(t)&&wt(n))return!0;if(!wt(t)&&!wt(n)){var r=t.props||{},a=r.children,i=VD(r,Ppe),o=n.props||{},l=o.children,c=VD(o,Ape);return a&&l?Pd(i,c)&&tC(a,l):!a&&!l?Pd(i,c):!1}return!1},KD=function(t,n){var r=[],a={};return LP(t).forEach(function(i,o){if(Mpe(i))r.push(i);else if(i){var l=go(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);r.push(h),a[l]=!0}}}),r},Rpe=function(t){var n=t&&t.type;return n&&WD[n]?WD[n]:null},$pe=function(t,n){return LP(n).indexOf(t)},Lpe=["children","width","height","viewBox","className","style","title","desc"];function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nC.apply(this,arguments)}function Fpe(e,t){if(e==null)return{};var n=Bpe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rC(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Fpe(e,Lpe),d=a||{width:n,height:r,x:0,y:0},h=kt("recharts-surface",i);return J.createElement("svg",nC({},Ct(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),J.createElement("title",null,l),J.createElement("desc",null,c),t)}var Upe=["children","className"];function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sC.apply(this,arguments)}function zpe(e,t){if(e==null)return{};var n=qpe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Mn=J.forwardRef(function(e,t){var n=e.children,r=e.className,a=zpe(e,Upe),i=kt("recharts-layer",r);return J.createElement("g",sC({className:i},Ct(a,!0),{ref:t}),n)}),vo=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Vpe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Wpe=Vpe,Hpe=Wpe;function Gpe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Hpe(e,t,n)}var Ype=Gpe,Kpe="\\ud800-\\udfff",Jpe="\\u0300-\\u036f",Xpe="\\ufe20-\\ufe2f",Qpe="\\u20d0-\\u20ff",Zpe=Jpe+Xpe+Qpe,ege="\\ufe0e\\ufe0f",tge="\\u200d",nge=RegExp("["+tge+Kpe+Zpe+ege+"]");function rge(e){return nge.test(e)}var Wz=rge;function sge(e){return e.split("")}var age=sge,Hz="\\ud800-\\udfff",ige="\\u0300-\\u036f",oge="\\ufe20-\\ufe2f",lge="\\u20d0-\\u20ff",cge=ige+oge+lge,uge="\\ufe0e\\ufe0f",dge="["+Hz+"]",aC="["+cge+"]",iC="\\ud83c[\\udffb-\\udfff]",hge="(?:"+aC+"|"+iC+")",Gz="[^"+Hz+"]",Yz="(?:\\ud83c[\\udde6-\\uddff]){2}",Kz="[\\ud800-\\udbff][\\udc00-\\udfff]",fge="\\u200d",Jz=hge+"?",Xz="["+uge+"]?",mge="(?:"+fge+"(?:"+[Gz,Yz,Kz].join("|")+")"+Xz+Jz+")*",pge=Xz+Jz+mge,gge="(?:"+[Gz+aC+"?",aC,Yz,Kz,dge].join("|")+")",vge=RegExp(iC+"(?="+iC+")|"+gge+pge,"g");function xge(e){return e.match(vge)||[]}var yge=xge,bge=age,wge=Wz,jge=yge;function _ge(e){return wge(e)?jge(e):bge(e)}var Nge=_ge,Sge=Ype,Cge=Wz,kge=Nge,Ege=Lz;function Pge(e){return function(t){t=Ege(t);var n=Cge(t)?kge(t):void 0,r=n?n[0]:t.charAt(0),a=n?Sge(n,1).join(""):t.slice(1);return r[e]()+a}}var Age=Pge,Tge=Age,Oge=Tge("toUpperCase"),Mge=Oge;const Ow=qt(Mge);function on(e){return function(){return e}}const Qz=Math.cos,sb=Math.sin,hi=Math.sqrt,ab=Math.PI,Mw=2*ab,oC=Math.PI,lC=2*oC,xc=1e-6,Dge=lC-xc;function Zz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ige(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Zz;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Rge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Zz:Ige(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>xc)if(!(Math.abs(h*c-u*d)>xc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,p=a-l,g=c*c+u*u,v=m*m+p*p,x=Math.sqrt(g),b=Math.sqrt(f),w=i*Math.tan((oC-Math.acos((g+f-v)/(2*x*b)))/2),_=w/b,N=w/x;Math.abs(_-1)>xc&&this._append`L${t+_*d},${n+_*h}`,this._append`A${i},${i},0,0,${+(h*m>d*p)},${this._x1=t+N*c},${this._y1=n+N*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xc||Math.abs(this._y1-d)>xc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%lC+lC),f>Dge?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>xc&&this._append`A${r},${r},0,${+(f>=oC)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function FP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Rge(t)}function BP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eq(e){this._context=e}eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dw(e){return new eq(e)}function tq(e){return e[0]}function nq(e){return e[1]}function rq(e,t){var n=on(!0),r=null,a=Dw,i=null,o=FP(l);e=typeof e=="function"?e:e===void 0?tq:on(e),t=typeof t=="function"?t:t===void 0?nq:on(t);function l(c){var u,d=(c=BP(c)).length,h,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:on(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:on(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:on(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function ix(e,t,n){var r=null,a=on(!0),i=null,o=Dw,l=null,c=FP(u);e=typeof e=="function"?e:e===void 0?tq:on(+e),t=typeof t=="function"?t:on(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?nq:on(+n);function u(h){var f,m,p,g=(h=BP(h)).length,v,x=!1,b,w=new Array(g),_=new Array(g);for(i==null&&(l=o(b=c())),f=0;f<=g;++f){if(!(f<g&&a(v=h[f],f,h))===x)if(x=!x)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=m;--p)l.point(w[p],_[p]);l.lineEnd(),l.areaEnd()}x&&(w[f]=+e(v,f,h),_[f]=+t(v,f,h),l.point(r?+r(v,f,h):w[f],n?+n(v,f,h):_[f]))}if(b)return l=null,b+""||null}function d(){return rq().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:on(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:on(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:on(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:on(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:on(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:on(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:on(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class sq{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function $ge(e){return new sq(e,!0)}function Lge(e){return new sq(e,!1)}const UP={draw(e,t){const n=hi(t/ab);e.moveTo(n,0),e.arc(0,0,n,0,Mw)}},Fge={draw(e,t){const n=hi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aq=hi(1/3),Bge=aq*2,Uge={draw(e,t){const n=hi(t/Bge),r=n*aq;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},zge={draw(e,t){const n=hi(t),r=-n/2;e.rect(r,r,n,n)}},qge=.8908130915292852,iq=sb(ab/10)/sb(7*ab/10),Vge=sb(Mw/10)*iq,Wge=-Qz(Mw/10)*iq,Hge={draw(e,t){const n=hi(t*qge),r=Vge*n,a=Wge*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Mw*i/5,l=Qz(o),c=sb(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},K_=hi(3),Gge={draw(e,t){const n=-hi(t/(K_*3));e.moveTo(0,n*2),e.lineTo(-K_*n,-n),e.lineTo(K_*n,-n),e.closePath()}},ta=-.5,na=hi(3)/2,cC=1/hi(12),Yge=(cC/2+1)*3,Kge={draw(e,t){const n=hi(t/Yge),r=n/2,a=n*cC,i=r,o=n*cC+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ta*r-na*a,na*r+ta*a),e.lineTo(ta*i-na*o,na*i+ta*o),e.lineTo(ta*l-na*c,na*l+ta*c),e.lineTo(ta*r+na*a,ta*a-na*r),e.lineTo(ta*i+na*o,ta*o-na*i),e.lineTo(ta*l+na*c,ta*c-na*l),e.closePath()}};function Jge(e,t){let n=null,r=FP(a);e=typeof e=="function"?e:on(e||UP),t=typeof t=="function"?t:on(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:on(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:on(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function ib(){}function ob(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oq(e){this._context=e}oq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xge(e){return new oq(e)}function lq(e){this._context=e}lq.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qge(e){return new lq(e)}function cq(e){this._context=e}cq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zge(e){return new cq(e)}function uq(e){this._context=e}uq.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eve(e){return new uq(e)}function JD(e){return e<0?-1:1}function XD(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(JD(i)+JD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function QD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function J_(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function lb(e){this._context=e}lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J_(this,this._t0,QD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,J_(this,QD(this,n=XD(this,e,t)),n);break;default:J_(this,this._t0,n=XD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dq(e){this._context=new hq(e)}(dq.prototype=Object.create(lb.prototype)).point=function(e,t){lb.prototype.point.call(this,t,e)};function hq(e){this._context=e}hq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function tve(e){return new lb(e)}function nve(e){return new dq(e)}function fq(e){this._context=e}fq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ZD(e),a=ZD(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZD(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function rve(e){return new fq(e)}function Iw(e,t){this._context=e,this._t=t}Iw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function sve(e){return new Iw(e,.5)}function ave(e){return new Iw(e,0)}function ive(e){return new Iw(e,1)}function ph(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function uC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ove(e,t){return e[t]}function lve(e){const t=[];return t.key=e,t}function cve(){var e=on([]),t=uC,n=ph,r=ove;function a(i){var o=Array.from(e.apply(this,arguments),lve),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=BP(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:on(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:on(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?uC:typeof i=="function"?i:on(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??ph,a):n},a}function uve(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}ph(e,t)}}function dve(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}ph(e,t)}}function hve(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,p=0;p<l;++p){var g=e[t[p]],v=g[r][1]||0,x=g[r-1][1]||0;m+=v-x}c+=h,u+=m*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,ph(e,t)}}function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}var fve=["type","size","sizeType"];function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dC.apply(this,arguments)}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mve(e,t,n){return t=pve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pve(e){var t=gve(e,"string");return Tp(t)=="symbol"?t:t+""}function gve(e,t){if(Tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vve(e,t){if(e==null)return{};var n=xve(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mq={symbolCircle:UP,symbolCross:Fge,symbolDiamond:Uge,symbolSquare:zge,symbolStar:Hge,symbolTriangle:Gge,symbolWye:Kge},yve=Math.PI/180,bve=function(t){var n="symbol".concat(Ow(t));return mq[n]||UP},wve=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*yve;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},jve=function(t,n){mq["symbol".concat(Ow(t))]=n},zP=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=vve(t,fve),u=tI(tI({},c),{},{type:r,size:i,sizeType:l}),d=function(){var v=bve(r),x=Jge().type(v).size(wve(i,l,r));return x()},h=u.className,f=u.cx,m=u.cy,p=Ct(u,!0);return f===+f&&m===+m&&i===+i?J.createElement("path",dC({},p,{className:kt("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};zP.registerSymbol=jve;function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hC.apply(this,arguments)}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){Op(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gq(r.key),r)}}function Cve(e,t,n){return t&&Sve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kve(e,t,n){return t=cb(t),Eve(e,pq()?Reflect.construct(t,n||[],cb(e).constructor):t.apply(e,n))}function Eve(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pve(e)}function Pve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(e)}function Ave(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fC(e,t)}function Op(e,t,n){return t=gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=Tve(e,"string");return gh(t)=="symbol"?t:t+""}function Tve(e,t){if(gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=32,qP=function(e){function t(){return Nve(this,t),kve(this,t,arguments)}return Ave(t,e),Cve(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ra/2,o=ra/6,l=ra/3,c=r.inactive?a:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ra,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ra,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-ra,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var u=_ve({},r);return delete u.legendIcon,J.cloneElement(r.legendIcon,u)}return J.createElement(zP,{fill:c,cx:i,cy:i,size:ra,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ra,height:ra},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,p){var g=m.formatter||c,v=kt(Op(Op({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=vt(m.value)?null:m.value;vo(!vt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return J.createElement("li",hC({className:v,style:h,key:"legend-item-".concat(p)},rb(r.props,m,p)),J.createElement(rC,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,m,p):x))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Op(qP,"displayName","Legend");Op(qP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ove=yw;function Mve(){this.__data__=new Ove,this.size=0}var Dve=Mve;function Ive(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Rve=Ive;function $ve(e){return this.__data__.get(e)}var Lve=$ve;function Fve(e){return this.__data__.has(e)}var Bve=Fve,Uve=yw,zve=AP,qve=TP,Vve=200;function Wve(e,t){var n=this.__data__;if(n instanceof Uve){var r=n.__data__;if(!zve||r.length<Vve-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qve(r)}return n.set(e,t),this.size=n.size,this}var Hve=Wve,Gve=yw,Yve=Dve,Kve=Rve,Jve=Lve,Xve=Bve,Qve=Hve;function pf(e){var t=this.__data__=new Gve(e);this.size=t.size}pf.prototype.clear=Yve;pf.prototype.delete=Kve;pf.prototype.get=Jve;pf.prototype.has=Xve;pf.prototype.set=Qve;var vq=pf,Zve="__lodash_hash_undefined__";function exe(e){return this.__data__.set(e,Zve),this}var txe=exe;function nxe(e){return this.__data__.has(e)}var rxe=nxe,sxe=TP,axe=txe,ixe=rxe;function ub(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sxe;++t<n;)this.add(e[t])}ub.prototype.add=ub.prototype.push=axe;ub.prototype.has=ixe;var xq=ub;function oxe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yq=oxe;function lxe(e,t){return e.has(t)}var bq=lxe,cxe=xq,uxe=yq,dxe=bq,hxe=1,fxe=2;function mxe(e,t,n,r,a,i){var o=n&hxe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&fxe?new cxe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var p=e[h],g=t[h];if(r)var v=o?r(g,p,h,t,e,i):r(p,g,h,e,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!uxe(t,function(x,b){if(!dxe(m,b)&&(p===x||a(p,x,n,r,i)))return m.push(b)})){f=!1;break}}else if(!(p===g||a(p,g,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var wq=mxe,pxe=Wi,gxe=pxe.Uint8Array,vxe=gxe;function xxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var yxe=xxe;function bxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var VP=bxe,rI=Xg,sI=vxe,wxe=PP,jxe=wq,_xe=yxe,Nxe=VP,Sxe=1,Cxe=2,kxe="[object Boolean]",Exe="[object Date]",Pxe="[object Error]",Axe="[object Map]",Txe="[object Number]",Oxe="[object RegExp]",Mxe="[object Set]",Dxe="[object String]",Ixe="[object Symbol]",Rxe="[object ArrayBuffer]",$xe="[object DataView]",aI=rI?rI.prototype:void 0,X_=aI?aI.valueOf:void 0;function Lxe(e,t,n,r,a,i,o){switch(n){case $xe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rxe:return!(e.byteLength!=t.byteLength||!i(new sI(e),new sI(t)));case kxe:case Exe:case Txe:return wxe(+e,+t);case Pxe:return e.name==t.name&&e.message==t.message;case Oxe:case Dxe:return e==t+"";case Axe:var l=_xe;case Mxe:var c=r&Sxe;if(l||(l=Nxe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Cxe,o.set(e,t);var d=jxe(l(e),l(t),r,a,i,o);return o.delete(e),d;case Ixe:if(X_)return X_.call(e)==X_.call(t)}return!1}var Fxe=Lxe;function Bxe(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var jq=Bxe,Uxe=jq,zxe=ks;function qxe(e,t,n){var r=t(e);return zxe(e)?r:Uxe(r,n(e))}var Vxe=qxe;function Wxe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Hxe=Wxe;function Gxe(){return[]}var Yxe=Gxe,Kxe=Hxe,Jxe=Yxe,Xxe=Object.prototype,Qxe=Xxe.propertyIsEnumerable,iI=Object.getOwnPropertySymbols,Zxe=iI?function(e){return e==null?[]:(e=Object(e),Kxe(iI(e),function(t){return Qxe.call(e,t)}))}:Jxe,eye=Zxe;function tye(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var nye=tye,rye=Mo,sye=Do,aye="[object Arguments]";function iye(e){return sye(e)&&rye(e)==aye}var oye=iye,oI=oye,lye=Do,_q=Object.prototype,cye=_q.hasOwnProperty,uye=_q.propertyIsEnumerable,dye=oI(function(){return arguments}())?oI:function(e){return lye(e)&&cye.call(e,"callee")&&!uye.call(e,"callee")},WP=dye,db={exports:{}};function hye(){return!1}var fye=hye;db.exports;(function(e,t){var n=Wi,r=fye,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(db,db.exports);var Nq=db.exports,mye=9007199254740991,pye=/^(?:0|[1-9]\d*)$/;function gye(e,t){var n=typeof e;return t=t??mye,!!t&&(n=="number"||n!="symbol"&&pye.test(e))&&e>-1&&e%1==0&&e<t}var HP=gye,vye=9007199254740991;function xye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vye}var GP=xye,yye=Mo,bye=GP,wye=Do,jye="[object Arguments]",_ye="[object Array]",Nye="[object Boolean]",Sye="[object Date]",Cye="[object Error]",kye="[object Function]",Eye="[object Map]",Pye="[object Number]",Aye="[object Object]",Tye="[object RegExp]",Oye="[object Set]",Mye="[object String]",Dye="[object WeakMap]",Iye="[object ArrayBuffer]",Rye="[object DataView]",$ye="[object Float32Array]",Lye="[object Float64Array]",Fye="[object Int8Array]",Bye="[object Int16Array]",Uye="[object Int32Array]",zye="[object Uint8Array]",qye="[object Uint8ClampedArray]",Vye="[object Uint16Array]",Wye="[object Uint32Array]",pn={};pn[$ye]=pn[Lye]=pn[Fye]=pn[Bye]=pn[Uye]=pn[zye]=pn[qye]=pn[Vye]=pn[Wye]=!0;pn[jye]=pn[_ye]=pn[Iye]=pn[Nye]=pn[Rye]=pn[Sye]=pn[Cye]=pn[kye]=pn[Eye]=pn[Pye]=pn[Aye]=pn[Tye]=pn[Oye]=pn[Mye]=pn[Dye]=!1;function Hye(e){return wye(e)&&bye(e.length)&&!!pn[yye(e)]}var Gye=Hye;function Yye(e){return function(t){return e(t)}}var Sq=Yye,hb={exports:{}};hb.exports;(function(e,t){var n=Oz,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(hb,hb.exports);var Kye=hb.exports,Jye=Gye,Xye=Sq,lI=Kye,cI=lI&&lI.isTypedArray,Qye=cI?Xye(cI):Jye,Cq=Qye,Zye=nye,ebe=WP,tbe=ks,nbe=Nq,rbe=HP,sbe=Cq,abe=Object.prototype,ibe=abe.hasOwnProperty;function obe(e,t){var n=tbe(e),r=!n&&ebe(e),a=!n&&!r&&nbe(e),i=!n&&!r&&!a&&sbe(e),o=n||r||a||i,l=o?Zye(e.length,String):[],c=l.length;for(var u in e)(t||ibe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rbe(u,c)))&&l.push(u);return l}var lbe=obe,cbe=Object.prototype;function ube(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||cbe;return e===n}var dbe=ube;function hbe(e,t){return function(n){return e(t(n))}}var kq=hbe,fbe=kq,mbe=fbe(Object.keys,Object),pbe=mbe,gbe=dbe,vbe=pbe,xbe=Object.prototype,ybe=xbe.hasOwnProperty;function bbe(e){if(!gbe(e))return vbe(e);var t=[];for(var n in Object(e))ybe.call(e,n)&&n!="constructor"&&t.push(n);return t}var wbe=bbe,jbe=EP,_be=GP;function Nbe(e){return e!=null&&_be(e.length)&&!jbe(e)}var tv=Nbe,Sbe=lbe,Cbe=wbe,kbe=tv;function Ebe(e){return kbe(e)?Sbe(e):Cbe(e)}var Rw=Ebe,Pbe=Vxe,Abe=eye,Tbe=Rw;function Obe(e){return Pbe(e,Tbe,Abe)}var Mbe=Obe,uI=Mbe,Dbe=1,Ibe=Object.prototype,Rbe=Ibe.hasOwnProperty;function $be(e,t,n,r,a,i){var o=n&Dbe,l=uI(e),c=l.length,u=uI(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:Rbe.call(t,f)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){f=l[h];var x=e[f],b=t[f];if(r)var w=o?r(b,x,f,t,e,i):r(x,b,f,e,t,i);if(!(w===void 0?x===b||a(x,b,n,r,i):w)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(g=!1)}return i.delete(e),i.delete(t),g}var Lbe=$be,Fbe=Nu,Bbe=Wi,Ube=Fbe(Bbe,"DataView"),zbe=Ube,qbe=Nu,Vbe=Wi,Wbe=qbe(Vbe,"Promise"),Hbe=Wbe,Gbe=Nu,Ybe=Wi,Kbe=Gbe(Ybe,"Set"),Eq=Kbe,Jbe=Nu,Xbe=Wi,Qbe=Jbe(Xbe,"WeakMap"),Zbe=Qbe,mC=zbe,pC=AP,gC=Hbe,vC=Eq,xC=Zbe,Pq=Mo,gf=Dz,dI="[object Map]",e0e="[object Object]",hI="[object Promise]",fI="[object Set]",mI="[object WeakMap]",pI="[object DataView]",t0e=gf(mC),n0e=gf(pC),r0e=gf(gC),s0e=gf(vC),a0e=gf(xC),yc=Pq;(mC&&yc(new mC(new ArrayBuffer(1)))!=pI||pC&&yc(new pC)!=dI||gC&&yc(gC.resolve())!=hI||vC&&yc(new vC)!=fI||xC&&yc(new xC)!=mI)&&(yc=function(e){var t=Pq(e),n=t==e0e?e.constructor:void 0,r=n?gf(n):"";if(r)switch(r){case t0e:return pI;case n0e:return dI;case r0e:return hI;case s0e:return fI;case a0e:return mI}return t});var i0e=yc,Q_=vq,o0e=wq,l0e=Fxe,c0e=Lbe,gI=i0e,vI=ks,xI=Nq,u0e=Cq,d0e=1,yI="[object Arguments]",bI="[object Array]",ox="[object Object]",h0e=Object.prototype,wI=h0e.hasOwnProperty;function f0e(e,t,n,r,a,i){var o=vI(e),l=vI(t),c=o?bI:gI(e),u=l?bI:gI(t);c=c==yI?ox:c,u=u==yI?ox:u;var d=c==ox,h=u==ox,f=c==u;if(f&&xI(e)){if(!xI(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new Q_),o||u0e(e)?o0e(e,t,n,r,a,i):l0e(e,t,c,n,r,a,i);if(!(n&d0e)){var m=d&&wI.call(e,"__wrapped__"),p=h&&wI.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return i||(i=new Q_),a(g,v,n,r,i)}}return f?(i||(i=new Q_),c0e(e,t,n,r,a,i)):!1}var m0e=f0e,p0e=m0e,jI=Do;function Aq(e,t,n,r,a){return e===t?!0:e==null||t==null||!jI(e)&&!jI(t)?e!==e&&t!==t:p0e(e,t,n,r,Aq,a)}var YP=Aq,g0e=vq,v0e=YP,x0e=1,y0e=2;function b0e(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new g0e;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?v0e(d,u,x0e|y0e,r,h):f))return!1}}return!0}var w0e=b0e,j0e=Ql;function _0e(e){return e===e&&!j0e(e)}var Tq=_0e,N0e=Tq,S0e=Rw;function C0e(e){for(var t=S0e(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,N0e(a)]}return t}var k0e=C0e;function E0e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Oq=E0e,P0e=w0e,A0e=k0e,T0e=Oq;function O0e(e){var t=A0e(e);return t.length==1&&t[0][2]?T0e(t[0][0],t[0][1]):function(n){return n===e||P0e(n,e,t)}}var M0e=O0e;function D0e(e,t){return e!=null&&t in Object(e)}var I0e=D0e,R0e=Fz,$0e=WP,L0e=ks,F0e=HP,B0e=GP,U0e=ww;function z0e(e,t,n){t=R0e(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=U0e(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&B0e(a)&&F0e(o,a)&&(L0e(e)||$0e(e)))}var q0e=z0e,V0e=I0e,W0e=q0e;function H0e(e,t){return e!=null&&W0e(e,t,V0e)}var G0e=H0e,Y0e=YP,K0e=Bz,J0e=G0e,X0e=kP,Q0e=Tq,Z0e=Oq,ewe=ww,twe=1,nwe=2;function rwe(e,t){return X0e(e)&&Q0e(t)?Z0e(ewe(e),t):function(n){var r=K0e(n,e);return r===void 0&&r===t?J0e(n,e):Y0e(t,r,twe|nwe)}}var swe=rwe;function awe(e){return e}var vf=awe;function iwe(e){return function(t){return t==null?void 0:t[e]}}var owe=iwe,lwe=DP;function cwe(e){return function(t){return lwe(t,e)}}var uwe=cwe,dwe=owe,hwe=uwe,fwe=kP,mwe=ww;function pwe(e){return fwe(e)?dwe(mwe(e)):hwe(e)}var gwe=pwe,vwe=M0e,xwe=swe,ywe=vf,bwe=ks,wwe=gwe;function jwe(e){return typeof e=="function"?e:e==null?ywe:typeof e=="object"?bwe(e)?xwe(e[0],e[1]):vwe(e):wwe(e)}var Zl=jwe;function _we(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Mq=_we;function Nwe(e){return e!==e}var Swe=Nwe;function Cwe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var kwe=Cwe,Ewe=Mq,Pwe=Swe,Awe=kwe;function Twe(e,t,n){return t===t?Awe(e,t,n):Ewe(e,Pwe,n)}var Owe=Twe,Mwe=Owe;function Dwe(e,t){var n=e==null?0:e.length;return!!n&&Mwe(e,t,0)>-1}var Iwe=Dwe;function Rwe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var $we=Rwe;function Lwe(){}var Fwe=Lwe,Z_=Eq,Bwe=Fwe,Uwe=VP,zwe=1/0,qwe=Z_&&1/Uwe(new Z_([,-0]))[1]==zwe?function(e){return new Z_(e)}:Bwe,Vwe=qwe,Wwe=xq,Hwe=Iwe,Gwe=$we,Ywe=bq,Kwe=Vwe,Jwe=VP,Xwe=200;function Qwe(e,t,n){var r=-1,a=Hwe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=Gwe;else if(i>=Xwe){var u=t?null:Kwe(e);if(u)return Jwe(u);o=!1,a=Ywe,c=new Wwe}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var Zwe=Qwe,eje=Zl,tje=Zwe;function nje(e,t){return e&&e.length?tje(e,eje(t)):[]}var rje=nje;const _I=qt(rje);function Dq(e,t,n){return t===!0?_I(e,n):vt(t)?_I(e,t):e}function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}var sje=["ref"];function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){$w(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rq(r.key),r)}}function ije(e,t,n){return t&&SI(e.prototype,t),n&&SI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oje(e,t,n){return t=fb(t),lje(e,Iq()?Reflect.construct(t,n||[],fb(e).constructor):t.apply(e,n))}function lje(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cje(e)}function cje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!e})()}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fb(e)}function uje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},yC(e,t)}function $w(e,t,n){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rq(e){var t=dje(e,"string");return vh(t)=="symbol"?t:t+""}function dje(e,t){if(vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hje(e,t){if(e==null)return{};var n=fje(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mje(e){return e.value}function pje(e,t){if(J.isValidElement(e))return J.cloneElement(e,t);if(typeof e=="function")return J.createElement(e,t);t.ref;var n=hje(t,sje);return J.createElement(qP,n)}var CI=1,Ad=function(e){function t(){var n;aje(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=oje(this,t,[].concat(a)),$w(n,"lastBoundingBox",{width:-1,height:-1}),n}return uje(t,e),ije(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>CI||Math.abs(a.height-this.lastBoundingBox.height)>CI)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ji({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();f={top:((d||0)-p.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ji(Ji({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Ji(Ji({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return J.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},pje(i,Ji(Ji({},this.props),{},{payload:Dq(d,u,mje)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Ji(Ji({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Me(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(y.PureComponent);$w(Ad,"displayName","Legend");$w(Ad,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kI=Xg,gje=WP,vje=ks,EI=kI?kI.isConcatSpreadable:void 0;function xje(e){return vje(e)||gje(e)||!!(EI&&e&&e[EI])}var yje=xje,bje=jq,wje=yje;function $q(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=wje),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?$q(l,t-1,n,r,a):bje(a,l):r||(a[a.length]=l)}return a}var Lq=$q;function jje(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var _je=jje,Nje=_je,Sje=Nje(),Cje=Sje,kje=Cje,Eje=Rw;function Pje(e,t){return e&&kje(e,t,Eje)}var Fq=Pje,Aje=tv;function Tje(e,t){return function(n,r){if(n==null)return n;if(!Aje(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Oje=Tje,Mje=Fq,Dje=Oje,Ije=Dje(Mje),KP=Ije,Rje=KP,$je=tv;function Lje(e,t){var n=-1,r=$je(e)?Array(e.length):[];return Rje(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var Bq=Lje;function Fje(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Bje=Fje,PI=uf;function Uje(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=PI(e),o=t!==void 0,l=t===null,c=t===t,u=PI(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var zje=Uje,qje=zje;function Vje(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=qje(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Wje=Vje,e1=MP,Hje=DP,Gje=Zl,Yje=Bq,Kje=Bje,Jje=Sq,Xje=Wje,Qje=vf,Zje=ks;function e_e(e,t,n){t.length?t=e1(t,function(i){return Zje(i)?function(o){return Hje(o,i.length===1?i[0]:i)}:i}):t=[Qje];var r=-1;t=e1(t,Jje(Gje));var a=Yje(e,function(i,o,l){var c=e1(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return Kje(a,function(i,o){return Xje(i,o,n)})}var t_e=e_e;function n_e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var r_e=n_e,s_e=r_e,AI=Math.max;function a_e(e,t,n){return t=AI(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=AI(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),s_e(e,this,l)}}var i_e=a_e;function o_e(e){return function(){return e}}var l_e=o_e,c_e=Nu,u_e=function(){try{var e=c_e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Uq=u_e,d_e=l_e,TI=Uq,h_e=vf,f_e=TI?function(e,t){return TI(e,"toString",{configurable:!0,enumerable:!1,value:d_e(t),writable:!0})}:h_e,m_e=f_e,p_e=800,g_e=16,v_e=Date.now;function x_e(e){var t=0,n=0;return function(){var r=v_e(),a=g_e-(r-n);if(n=r,a>0){if(++t>=p_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var y_e=x_e,b_e=m_e,w_e=y_e,j_e=w_e(b_e),__e=j_e,N_e=vf,S_e=i_e,C_e=__e;function k_e(e,t){return C_e(S_e(e,t,N_e),e+"")}var E_e=k_e,P_e=PP,A_e=tv,T_e=HP,O_e=Ql;function M_e(e,t,n){if(!O_e(n))return!1;var r=typeof t;return(r=="number"?A_e(n)&&T_e(t,n.length):r=="string"&&t in n)?P_e(n[t],e):!1}var Lw=M_e,D_e=Lq,I_e=t_e,R_e=E_e,OI=Lw,$_e=R_e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&OI(e,t[0],t[1])?t=[]:n>2&&OI(t[0],t[1],t[2])&&(t=[t[0]]),I_e(e,D_e(t,1),[])}),L_e=$_e;const JP=qt(L_e);function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bC.apply(this,arguments)}function F_e(e,t){return q_e(e)||z_e(e,t)||U_e(e,t)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(e,t){if(e){if(typeof e=="string")return MI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(e,t)}}function MI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function q_e(e){if(Array.isArray(e))return e}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function t1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){V_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V_e(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=H_e(e,"string");return Mp(t)=="symbol"?t:t+""}function H_e(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G_e(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var Y_e=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var B={padding:0,margin:0},U=(f?JP(d,f):d).map(function($,F){if($.type==="none")return null;var M=t1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),R=$.formatter||h||G_e,D=$.value,L=$.name,I=D,z=L;if(R&&I!=null&&z!=null){var H=R(D,L,$,F,d);if(Array.isArray(H)){var j=F_e(H,2);I=j[0],z=j[1]}else I=H}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:M},Hn(z)?J.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Hn(z)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},I),J.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:B},U)}return null},_=t1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=t1({margin:0},u),S=!wt(g),C=S?g:"",k=kt("recharts-default-tooltip",m),A=kt("recharts-tooltip-label",p);S&&v&&d!==void 0&&d!==null&&(C=v(g,d));var T=b?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",bC({className:k,style:_},T),J.createElement("p",{className:A,style:N},J.isValidElement(C)?C:"".concat(C)),w())};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function lx(e,t,n){return t=K_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K_e(e){var t=J_e(e,"string");return Dp(t)=="symbol"?t:t+""}function J_e(e,t){if(Dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tm="recharts-tooltip-wrapper",X_e={visibility:"hidden"};function Q_e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return kt(tm,lx(lx(lx(lx({},"".concat(tm,"-right"),Me(n)&&t&&Me(t.x)&&n>=t.x),"".concat(tm,"-left"),Me(n)&&t&&Me(t.x)&&n<t.x),"".concat(tm,"-bottom"),Me(r)&&t&&Me(t.y)&&r>=t.y),"".concat(tm,"-top"),Me(r)&&t&&Me(t.y)&&r<t.y))}function II(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Me(i[r]))return i[r];var d=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?d:h;if(o[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var p=h+l,g=c[r]+u;return p>g?Math.max(d,c[r]):Math.max(h,c[r])}function Z_e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function e1e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=II({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=II({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Z_e({translateX:d,translateY:h,useTranslate3d:l})):u=X_e,{cssProperties:u,cssClasses:Q_e({translateX:d,translateY:h,coordinate:n})}}function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){jC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qq(r.key),r)}}function r1e(e,t,n){return t&&n1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s1e(e,t,n){return t=mb(t),a1e(e,zq()?Reflect.construct(t,n||[],mb(e).constructor):t.apply(e,n))}function a1e(e,t){if(t&&(xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(e)}function i1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(e)}function o1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wC(e,t)}function jC(e,t,n){return t=qq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=l1e(e,"string");return xh(t)=="symbol"?t:t+""}function l1e(e,t){if(xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LI=1,c1e=function(e){function t(){var n;t1e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=s1e(this,t,[].concat(a)),jC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return o1e(t,e),r1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LI||Math.abs(r.height-this.state.lastBoundingBox.height)>LI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=e1e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=w.cssClasses,N=w.cssProperties,S=$I($I({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return J.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){r.wrapperNode=k}},u)}}])}(y.PureComponent),u1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xo={isSsr:u1e(),get:function(t){return xo[t]},set:function(t,n){if(typeof t=="string")xo[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){xo[a]=t[a]})}}};function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){XP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wq(r.key),r)}}function f1e(e,t,n){return t&&h1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m1e(e,t,n){return t=pb(t),p1e(e,Vq()?Reflect.construct(t,n||[],pb(e).constructor):t.apply(e,n))}function p1e(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g1e(e)}function g1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(e)}function v1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_C(e,t)}function XP(e,t,n){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wq(e){var t=x1e(e,"string");return yh(t)=="symbol"?t:t+""}function x1e(e,t){if(yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y1e(e){return e.dataKey}function b1e(e,t){return J.isValidElement(e)?J.cloneElement(e,t):typeof e=="function"?J.createElement(e,t):J.createElement(Y_e,t)}var Ua=function(e){function t(){return d1e(this,t),m1e(this,t,arguments)}return v1e(t,e),f1e(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,N=p??[];h&&N.length&&(N=Dq(p.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,y1e));var S=N.length>0;return J.createElement(c1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:_},b1e(u,BI(BI({},this.props),{},{payload:N})))}}])}(y.PureComponent);XP(Ua,"displayName","Tooltip");XP(Ua,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var w1e=Wi,j1e=function(){return w1e.Date.now()},_1e=j1e,N1e=/\s/;function S1e(e){for(var t=e.length;t--&&N1e.test(e.charAt(t)););return t}var C1e=S1e,k1e=C1e,E1e=/^\s+/;function P1e(e){return e&&e.slice(0,k1e(e)+1).replace(E1e,"")}var A1e=P1e,T1e=A1e,UI=Ql,O1e=uf,zI=NaN,M1e=/^[-+]0x[0-9a-f]+$/i,D1e=/^0b[01]+$/i,I1e=/^0o[0-7]+$/i,R1e=parseInt;function $1e(e){if(typeof e=="number")return e;if(O1e(e))return zI;if(UI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=UI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=T1e(e);var n=D1e.test(e);return n||I1e.test(e)?R1e(e.slice(2),n?2:8):M1e.test(e)?zI:+e}var Hq=$1e,L1e=Ql,n1=_1e,qI=Hq,F1e="Expected a function",B1e=Math.max,U1e=Math.min;function z1e(e,t,n){var r,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(F1e);t=qI(t)||0,L1e(n)&&(d=!!n.leading,h="maxWait"in n,i=h?B1e(qI(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(S){var C=r,k=a;return r=a=void 0,u=S,o=e.apply(k,C),o}function p(S){return u=S,l=setTimeout(x,t),d?m(S):o}function g(S){var C=S-c,k=S-u,A=t-C;return h?U1e(A,i-k):A}function v(S){var C=S-c,k=S-u;return c===void 0||C>=t||C<0||h&&k>=i}function x(){var S=n1();if(v(S))return b(S);l=setTimeout(x,g(S))}function b(S){return l=void 0,f&&r?m(S):(r=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function _(){return l===void 0?o:b(n1())}function N(){var S=n1(),C=v(S);if(r=arguments,a=this,c=S,C){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return N.cancel=w,N.flush=_,N}var q1e=z1e,V1e=q1e,W1e=Ql,H1e="Expected a function";function G1e(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(H1e);return W1e(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),V1e(e,t,{leading:r,maxWait:t,trailing:a})}var Y1e=G1e;const Gq=qt(Y1e);function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){K1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K1e(e,t,n){return t=J1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J1e(e){var t=X1e(e,"string");return Ip(t)=="symbol"?t:t+""}function X1e(e,t){if(Ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q1e(e,t){return nNe(e)||tNe(e,t)||eNe(e,t)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eNe(e,t){if(e){if(typeof e=="string")return WI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(e,t)}}function WI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function nNe(e){if(Array.isArray(e))return e}var gb=y.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,x=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,N=y.useRef(null),S=y.useRef();S.current=b,y.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=y.useState({containerWidth:a.width,containerHeight:a.height}),k=Q1e(C,2),A=k[0],T=k[1],E=y.useCallback(function(U,$){T(function(F){var M=Math.round(U),R=Math.round($);return F.containerWidth===M&&F.containerHeight===R?F:{containerWidth:M,containerHeight:R}})},[]);y.useEffect(function(){var U=function(L){var I,z=L[0].contentRect,H=z.width,j=z.height;E(H,j),(I=S.current)===null||I===void 0||I.call(S,H,j)};g>0&&(U=Gq(U,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(U),F=N.current.getBoundingClientRect(),M=F.width,R=F.height;return E(M,R),$.observe(N.current),function(){$.disconnect()}},[E,g]);var B=y.useMemo(function(){var U=A.containerWidth,$=A.containerHeight;if(U<0||$<0)return null;vo(Pc(o)||Pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Pc(o)?U:o,M=Pc(c)?$:c;n&&n>0&&(F?M=F/n:M&&(F=M*n),f&&M>f&&(M=f)),vo(F>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,M,o,c,d,h,n);var R=!Array.isArray(m)&&go(m.type).endsWith("Chart");return J.Children.map(m,function(D){return qz.isElement(D)?y.cloneElement(D,cx({width:F,height:M},R?{style:cx({height:"100%",width:"100%",maxHeight:M,maxWidth:F},D.props.style)}:{})):D})},[n,m,c,f,h,d,A,o]);return J.createElement("div",{id:v?"".concat(v):void 0,className:kt("recharts-responsive-container",x),style:cx(cx({},_),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:N},B)}),Yq=function(t){return null};Yq.displayName="Cell";function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){rNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rNe(e,t,n){return t=sNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sNe(e){var t=aNe(e,"string");return Rp(t)=="symbol"?t:t+""}function aNe(e,t){if(Rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hu={widthCache:{},cacheCount:0},iNe=2e3,oNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GI="recharts_measurement_span";function lNe(e){var t=NC({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Vm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xo.isSsr)return{width:0,height:0};var r=lNe(n),a=JSON.stringify({text:t,copyStyle:r});if(Hu.widthCache[a])return Hu.widthCache[a];try{var i=document.getElementById(GI);i||(i=document.createElement("span"),i.setAttribute("id",GI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=NC(NC({},oNe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Hu.widthCache[a]=c,++Hu.cacheCount>iNe&&(Hu.cacheCount=0,Hu.widthCache={}),c}catch{return{width:0,height:0}}},cNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function vb(e,t){return fNe(e)||hNe(e,t)||dNe(e,t)||uNe()}function uNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dNe(e,t){if(e){if(typeof e=="string")return YI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(e,t)}}function YI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fNe(e){if(Array.isArray(e))return e}function mNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gNe(r.key),r)}}function pNe(e,t,n){return t&&KI(e.prototype,t),n&&KI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gNe(e){var t=vNe(e,"string");return $p(t)=="symbol"?t:t+""}function vNe(e,t){if($p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bNe=Object.keys(Kq),fd="NaN";function wNe(e,t){return e*Kq[t]}var ux=function(){function e(t,n){mNe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!xNe.test(n)&&(this.num=NaN,this.unit=""),bNe.includes(n)&&(this.num=wNe(t,n),this.unit="px")}return pNe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=yNe.exec(n))!==null&&r!==void 0?r:[],i=vb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Jq(e){if(e.includes(fd))return fd;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=JI.exec(t))!==null&&n!==void 0?n:[],a=vb(r,4),i=a[1],o=a[2],l=a[3],c=ux.parse(i??""),u=ux.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return fd;t=t.replace(JI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=XI.exec(t))!==null&&h!==void 0?h:[],m=vb(f,4),p=m[1],g=m[2],v=m[3],x=ux.parse(p??""),b=ux.parse(v??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return fd;t=t.replace(XI,w.toString())}return t}var QI=/\(([^()]*)\)/;function jNe(e){for(var t=e;t.includes("(");){var n=QI.exec(t),r=vb(n,2),a=r[1];t=t.replace(QI,Jq(a))}return t}function _Ne(e){var t=e.replace(/\s+/g,"");return t=jNe(t),t=Jq(t),t}function NNe(e){try{return _Ne(e)}catch{return fd}}function r1(e){var t=NNe(e.slice(5,-1));return t===fd?"":t}var SNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CNe=["dx","dy","angle","className","breakAll"];function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(this,arguments)}function ZI(e,t){if(e==null)return{};var n=kNe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eR(e,t){return TNe(e)||ANe(e,t)||PNe(e,t)||ENe()}function ENe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(e,t){if(e){if(typeof e=="string")return tR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(e,t)}}function tR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ANe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TNe(e){if(Array.isArray(e))return e}var Xq=/[ \f\n\r\t\v\u2028\u2029]+/,Qq=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];wt(n)||(r?i=n.toString().split(""):i=n.toString().split(Xq));var o=i.map(function(c){return{word:c,width:Vm(c,a).width}}),l=r?0:Vm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ONe=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Me(o),h=l,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(M,R){var D=R.word,L=R.width,I=M[M.length-1];if(I&&(a==null||i||I.width+L+r<Number(a)))I.words.push(D),I.width+=L+r;else{var z={words:[D],width:L};M.push(z)}return M},[])},m=f(n),p=function(F){return F.reduce(function(M,R){return M.width>R.width?M:R})};if(!d)return m;for(var g="",v=function(F){var M=h.slice(0,F),R=Qq({breakAll:u,style:c,children:M+g}).wordsWithComputedWidth,D=f(R),L=D.length>o||p(D).width>Number(a);return[L,D]},x=0,b=h.length-1,w=0,_;x<=b&&w<=h.length-1;){var N=Math.floor((x+b)/2),S=N-1,C=v(S),k=eR(C,2),A=k[0],T=k[1],E=v(N),B=eR(E,1),U=B[0];if(!A&&!U&&(x=N+1),A&&U&&(b=N-1),!A&&U){_=T;break}w++}return _||m},nR=function(t){var n=wt(t)?[]:t.toString().split(Xq);return[{words:n}]},MNe=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!xo.isSsr){var c,u,d=Qq({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return nR(a);return ONe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return nR(a)},rR="#808080",xb=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,x=v===void 0?rR:v,b=ZI(t,SNe),w=y.useMemo(function(){return MNe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),_=b.dx,N=b.dy,S=b.angle,C=b.className,k=b.breakAll,A=ZI(b,CNe);if(!Hn(r)||!Hn(i))return null;var T=r+(Me(_)?_:0),E=i+(Me(N)?N:0),B;switch(g){case"start":B=r1("calc(".concat(u,")"));break;case"middle":B=r1("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:B=r1("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(h){var $=w[0].width,F=b.width;U.push("scale(".concat((Me(F)?F/$:1)/$,")"))}return S&&U.push("rotate(".concat(S,", ").concat(T,", ").concat(E,")")),U.length&&(A.transform=U.join(" ")),J.createElement("text",SC({},Ct(A,!0),{x:T,y:E,className:kt("recharts-text",C),textAnchor:m,fill:x.includes("url")?rR:x}),w.map(function(M,R){var D=M.words.join(k?"":" ");return J.createElement("tspan",{x:T,dy:R===0?B:l,key:"".concat(D,"-").concat(R)},D)}))};function Al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QP(e){let t,n,r;e.length!==2?(t=Al,n=(l,c)=>Al(e(l),c),r=(l,c)=>e(l)-c):(t=e===Al||e===DNe?e:INe,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function INe(){return 0}function Zq(e){return e===null?NaN:+e}function*RNe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $Ne=QP(Al),nv=$Ne.right;QP(Zq).center;class sR extends Map{constructor(t,n=BNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(aR(this,t))}has(t){return super.has(aR(this,t))}set(t,n){return super.set(LNe(this,t),n)}delete(t){return super.delete(FNe(this,t))}}function aR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function LNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function FNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function BNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UNe(e=Al){if(e===Al)return eV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function eV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zNe=Math.sqrt(50),qNe=Math.sqrt(10),VNe=Math.sqrt(2);function yb(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=zNe?10:i>=qNe?5:i>=VNe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?yb(e,t,n*2):[l,c,u]}function CC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?yb(t,e,n):yb(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function kC(e,t,n){return t=+t,e=+e,n=+n,yb(e,t,n)[2]}function EC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?kC(t,e,n):kC(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function iR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tV(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?eV:UNe(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),p=Math.min(r,Math.floor(t+(c-u)*h/c+f));tV(e,t,m,p,a)}const i=e[t];let o=n,l=r;for(nm(e,n,t),a(e[r],i)>0&&nm(e,n,r);o<l;){for(nm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?nm(e,n,l):(++l,nm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function nm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function WNe(e,t,n){if(e=Float64Array.from(RNe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return oR(e);if(t>=1)return iR(e);var r,a=(r-1)*t,i=Math.floor(a),o=iR(tV(e,i).subarray(0,i+1)),l=oR(e.subarray(i+1));return o+(l-o)*(a-i)}}function HNe(e,t,n=Zq){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function GNe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Io(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PC=Symbol("implicit");function ZP(){var e=new sR,t=[],n=[],r=PC;function a(i){let o=e.get(i);if(o===void 0){if(r!==PC)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new sR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ZP(t,n).unknown(r)},Pa.apply(a,arguments),a}function Lp(){var e=ZP().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<r,p=m?a:r,g=m?r:a;i=(g-p)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),p+=(g-p-i*(f-c))*d,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=GNe(f).map(function(x){return p+i*x});return n(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return Lp(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Pa.apply(h(),arguments)}function nV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nV(t())},e}function Wm(){return nV(Lp.apply(null,arguments).paddingInner(1))}function eA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rv(){}var Fp=.7,bb=1/Fp,Td="\\s*([+-]?\\d+)\\s*",Bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YNe=/^#([0-9a-f]{3,8})$/,KNe=new RegExp(`^rgb\\(${Td},${Td},${Td}\\)$`),JNe=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),XNe=new RegExp(`^rgba\\(${Td},${Td},${Td},${Bp}\\)$`),QNe=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Bp}\\)$`),ZNe=new RegExp(`^hsl\\(${Bp},${Ri},${Ri}\\)$`),eSe=new RegExp(`^hsla\\(${Bp},${Ri},${Ri},${Bp}\\)$`),lR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eA(rv,Up,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cR,formatHex:cR,formatHex8:tSe,formatHsl:nSe,formatRgb:uR,toString:uR});function cR(){return this.rgb().formatHex()}function tSe(){return this.rgb().formatHex8()}function nSe(){return sV(this).formatHsl()}function uR(){return this.rgb().formatRgb()}function Up(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=YNe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?dR(t):n===3?new ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KNe.exec(e))?new ds(t[1],t[2],t[3],1):(t=JNe.exec(e))?new ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XNe.exec(e))?dx(t[1],t[2],t[3],t[4]):(t=QNe.exec(e))?dx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZNe.exec(e))?mR(t[1],t[2]/100,t[3]/100,1):(t=eSe.exec(e))?mR(t[1],t[2]/100,t[3]/100,t[4]):lR.hasOwnProperty(e)?dR(lR[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}function dR(e){return new ds(e>>16&255,e>>8&255,e&255,1)}function dx(e,t,n,r){return r<=0&&(e=t=n=NaN),new ds(e,t,n,r)}function rSe(e){return e instanceof rv||(e=Up(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}function AC(e,t,n,r){return arguments.length===1?rSe(e):new ds(e,t,n,r??1)}function ds(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}eA(ds,AC,rV(rv,{brighter(e){return e=e==null?bb:Math.pow(bb,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fp:Math.pow(Fp,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds(Wc(this.r),Wc(this.g),Wc(this.b),wb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hR,formatHex:hR,formatHex8:sSe,formatRgb:fR,toString:fR}));function hR(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function sSe(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function fR(){const e=wb(this.opacity);return`${e===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${e===1?")":`, ${e})`}`}function wb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ac(e){return e=Wc(e),(e<16?"0":"")+e.toString(16)}function mR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ga(e,t,n,r)}function sV(e){if(e instanceof Ga)return new Ga(e.h,e.s,e.l,e.opacity);if(e instanceof rv||(e=Up(e)),!e)return new Ga;if(e instanceof Ga)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ga(o,l,c,e.opacity)}function aSe(e,t,n,r){return arguments.length===1?sV(e):new Ga(e,t,n,r??1)}function Ga(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}eA(Ga,aSe,rV(rv,{brighter(e){return e=e==null?bb:Math.pow(bb,e),new Ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fp:Math.pow(Fp,e),new Ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ds(s1(e>=240?e-240:e+120,a,r),s1(e,a,r),s1(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ga(pR(this.h),hx(this.s),hx(this.l),wb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wb(this.opacity);return`${e===1?"hsl(":"hsla("}${pR(this.h)}, ${hx(this.s)*100}%, ${hx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pR(e){return e=(e||0)%360,e<0?e+360:e}function hx(e){return Math.max(0,Math.min(1,e||0))}function s1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tA=e=>()=>e;function iSe(e,t){return function(n){return e+n*t}}function oSe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lSe(e){return(e=+e)==1?aV:function(t,n){return n-t?oSe(t,n,e):tA(isNaN(t)?n:t)}}function aV(e,t){var n=t-e;return n?iSe(e,n):tA(isNaN(e)?t:e)}const gR=function e(t){var n=lSe(t);function r(a,i){var o=n((a=AC(a)).r,(i=AC(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=aV(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function cSe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function uSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dSe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=xf(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function hSe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fSe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=xf(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var TC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a1=new RegExp(TC.source,"g");function mSe(e){return function(){return e}}function pSe(e){return function(t){return e(t)+""}}function gSe(e,t){var n=TC.lastIndex=a1.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=TC.exec(e))&&(a=a1.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:jb(r,a)})),n=a1.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?pSe(c[0].x):mSe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function xf(e,t){var n=typeof t,r;return t==null||n==="boolean"?tA(t):(n==="number"?jb:n==="string"?(r=Up(t))?(t=r,gR):gSe:t instanceof Up?gR:t instanceof Date?hSe:uSe(t)?cSe:Array.isArray(t)?dSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fSe:jb)(e,t)}function nA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vSe(e,t){t===void 0&&(t=e,e=xf);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function xSe(e){return function(){return e}}function _b(e){return+e}var vR=[0,1];function Xr(e){return e}function OC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xSe(isNaN(t)?NaN:.5)}function ySe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bSe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=OC(a,r),i=n(o,i)):(r=OC(r,a),i=n(i,o)),function(l){return i(r(l))}}function wSe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=OC(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=nv(e,l,1,r)-1;return i[c](a[c](l))}}function sv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fw(){var e=vR,t=vR,n=xf,r,a,i,o=Xr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Xr&&(o=ySe(e[0],e[f-1])),l=f>2?wSe:bSe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(r),jb)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,_b),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=nA,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Xr,d()):o!==Xr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,a=m,d()}}function rA(){return Fw()(Xr,Xr)}function jSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bh(e){return e=Nb(Math.abs(e)),e?e[1]:NaN}function _Se(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function NSe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var SSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zp(e){if(!(t=SSe.exec(e)))throw new Error("invalid format: "+e);var t;return new sA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zp.prototype=sA.prototype;function sA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CSe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var iV;function kSe(e,t){var n=Nb(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(iV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Nb(e,Math.max(0,t+i-1))[0]}function xR(e,t){var n=Nb(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const yR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xR(e*100,t),r:xR,s:kSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bR(e){return e}var wR=Array.prototype.map,jR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ESe(e){var t=e.grouping===void 0||e.thousands===void 0?bR:_Se(wR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bR:NSe(wR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=zp(h);var f=h.fill,m=h.align,p=h.sign,g=h.symbol,v=h.zero,x=h.width,b=h.comma,w=h.precision,_=h.trim,N=h.type;N==="n"?(b=!0,N="g"):yR[N]||(w===void 0&&(w=12),_=!0,N="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=g==="$"?r:/[%p]/.test(N)?o:"",k=yR[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(E){var B=S,U=C,$,F,M;if(N==="c")U=k(E)+U,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),w),_&&(E=CSe(E)),R&&+E==0&&p!=="+"&&(R=!1),B=(R?p==="("?p:l:p==="-"||p==="("?"":p)+B,U=(N==="s"?jR[8+iV/3]:"")+U+(R&&p==="("?")":""),A){for($=-1,F=E.length;++$<F;)if(M=E.charCodeAt($),48>M||M>57){U=(M===46?a+E.slice($+1):E.slice($))+U,E=E.slice(0,$);break}}}b&&!v&&(E=t(E,1/0));var D=B.length+E.length+U.length,L=D<x?new Array(x-D+1).join(f):"";switch(b&&v&&(E=t(L+E,L.length?x-U.length:1/0),L=""),m){case"<":E=B+E+U+L;break;case"=":E=B+L+E+U;break;case"^":E=L.slice(0,D=L.length>>1)+B+E+U+L.slice(D);break;default:E=L+B+E+U;break}return i(E)}return T.toString=function(){return h+""},T}function d(h,f){var m=u((h=zp(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(bh(f)/3)))*3,g=Math.pow(10,-p),v=jR[8+p/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var fx,aA,oV;PSe({thousands:",",grouping:[3],currency:["$",""]});function PSe(e){return fx=ESe(e),aA=fx.format,oV=fx.formatPrefix,fx}function ASe(e){return Math.max(0,-bh(Math.abs(e)))}function TSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bh(t)/3)))*3-bh(Math.abs(e)))}function OSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bh(t)-bh(e))+1}function lV(e,t,n,r){var a=EC(e,t,n),i;switch(r=zp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=TSe(a,o))&&(r.precision=i),oV(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=OSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ASe(a))&&(r.precision=i-(r.type==="%")*2);break}}return aA(r)}function ec(e){var t=e.domain;return e.ticks=function(n){var r=t();return CC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return lV(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=kC(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Sb(){var e=rA();return e.copy=function(){return sv(e,Sb())},Pa.apply(e,arguments),ec(e)}function cV(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,_b),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return cV(e).unknown(t)},e=arguments.length?Array.from(e,_b):[0,1],ec(n)}function uV(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function _R(e){return Math.log(e)}function NR(e){return Math.exp(e)}function MSe(e){return-Math.log(-e)}function DSe(e){return-Math.exp(-e)}function ISe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RSe(e){return e===10?ISe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $Se(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SR(e){return(t,n)=>-e(-t,n)}function iA(e){const t=e(_R,NR),n=t.domain;let r=10,a,i;function o(){return a=$Se(r),i=RSe(r),n()[0]<0?(a=SR(a),i=SR(i),e(MSe,DSe)):e(_R,NR),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),p,g;const v=l==null?10:+l;let x=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(p=1;p<r;++p)if(g=f<0?p/i(-f):p*i(f),!(g<u)){if(g>d)break;x.push(g)}}else for(;f<=m;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/i(-f):p*i(f),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=CC(u,d,v))}else x=CC(f,m,Math.min(m-f,v)).map(i);return h?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=zp(c)).precision==null&&(c.trim=!0),c=aA(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(uV(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function dV(){const e=iA(Fw()).domain([1,10]);return e.copy=()=>sv(e,dV()).base(e.base()),Pa.apply(e,arguments),e}function CR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oA(e){var t=1,n=e(CR(t),kR(t));return n.constant=function(r){return arguments.length?e(CR(t=+r),kR(t)):t},ec(n)}function hV(){var e=oA(Fw());return e.copy=function(){return sv(e,hV()).constant(e.constant())},Pa.apply(e,arguments)}function ER(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FSe(e){return e<0?-e*e:e*e}function lA(e){var t=e(Xr,Xr),n=1;function r(){return n===1?e(Xr,Xr):n===.5?e(LSe,FSe):e(ER(n),ER(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},ec(t)}function cA(){var e=lA(Fw());return e.copy=function(){return sv(e,cA()).exponent(e.exponent())},Pa.apply(e,arguments),e}function BSe(){return cA.apply(null,arguments).exponent(.5)}function PR(e){return Math.sign(e)*e*e}function USe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fV(){var e=rA(),t=[0,1],n=!1,r;function a(i){var o=USe(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(PR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,_b)).map(PR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fV(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Pa.apply(a,arguments),ec(a)}function mV(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=HNe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[nv(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Al),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return mV().domain(e).range(t).unknown(r)},Pa.apply(i,arguments)}function pV(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[nv(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return pV().domain([e,t]).range(a).unknown(i)},Pa.apply(ec(o),arguments)}function gV(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[nv(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return gV().domain(e).range(t).unknown(n)},Pa.apply(a,arguments)}const i1=new Date,o1=new Date;function Qn(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Qn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(i1.setTime(+i),o1.setTime(+o),e(i1),e(o1),Math.floor(n(i1,o1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Cb=Qn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cb);Cb.range;const lo=1e3,fa=lo*60,co=fa*60,ko=co*24,uA=ko*7,AR=ko*30,l1=ko*365,Tc=Qn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getUTCSeconds());Tc.range;const dA=Qn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lo)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getMinutes());dA.range;const hA=Qn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fa)},(e,t)=>(t-e)/fa,e=>e.getUTCMinutes());hA.range;const fA=Qn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lo-e.getMinutes()*fa)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getHours());fA.range;const mA=Qn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCHours());mA.range;const av=Qn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fa)/ko,e=>e.getDate()-1);av.range;const Bw=Qn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ko,e=>e.getUTCDate()-1);Bw.range;const vV=Qn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ko,e=>Math.floor(e/ko));vV.range;function Su(e){return Qn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fa)/uA)}const Uw=Su(0),kb=Su(1),zSe=Su(2),qSe=Su(3),wh=Su(4),VSe=Su(5),WSe=Su(6);Uw.range;kb.range;zSe.range;qSe.range;wh.range;VSe.range;WSe.range;function Cu(e){return Qn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uA)}const zw=Cu(0),Eb=Cu(1),HSe=Cu(2),GSe=Cu(3),jh=Cu(4),YSe=Cu(5),KSe=Cu(6);zw.range;Eb.range;HSe.range;GSe.range;jh.range;YSe.range;KSe.range;const pA=Qn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pA.range;const gA=Qn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gA.range;const Eo=Qn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Eo.range;const Po=Qn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Po.range;function xV(e,t,n,r,a,i){const o=[[Tc,1,lo],[Tc,5,5*lo],[Tc,15,15*lo],[Tc,30,30*lo],[i,1,fa],[i,5,5*fa],[i,15,15*fa],[i,30,30*fa],[a,1,co],[a,3,3*co],[a,6,6*co],[a,12,12*co],[r,1,ko],[r,2,2*ko],[n,1,uA],[t,1,AR],[t,3,3*AR],[e,1,l1]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),p=m?m.range(u,+d+1):[];return f?p.reverse():p}function c(u,d,h){const f=Math.abs(d-u)/h,m=QP(([,,v])=>v).right(o,f);if(m===o.length)return e.every(EC(u/l1,d/l1,h));if(m===0)return Cb.every(Math.max(EC(u,d,h),1));const[p,g]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return p.every(g)}return[l,c]}const[JSe,XSe]=xV(Po,gA,zw,vV,mA,hA),[QSe,ZSe]=xV(Eo,pA,Uw,av,fA,dA);function c1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function eCe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=sm(a),d=am(a),h=sm(i),f=am(i),m=sm(o),p=am(o),g=sm(l),v=am(l),x=sm(c),b=am(c),w={a:R,A:D,b:L,B:I,c:null,d:RR,e:RR,f:_Ce,g:MCe,G:ICe,H:bCe,I:wCe,j:jCe,L:yV,m:NCe,M:SCe,p:z,q:H,Q:FR,s:BR,S:CCe,u:kCe,U:ECe,V:PCe,w:ACe,W:TCe,x:null,X:null,y:OCe,Y:DCe,Z:RCe,"%":LR},_={a:j,A:P,b:O,B:V,c:null,d:$R,e:$R,f:BCe,g:JCe,G:QCe,H:$Ce,I:LCe,j:FCe,L:wV,m:UCe,M:zCe,p:W,q:Z,Q:FR,s:BR,S:qCe,u:VCe,U:WCe,V:HCe,w:GCe,W:YCe,x:null,X:null,y:KCe,Y:XCe,Z:ZCe,"%":LR},N={a:T,A:E,b:B,B:U,c:$,d:DR,e:DR,f:gCe,g:MR,G:OR,H:IR,I:IR,j:hCe,L:pCe,m:dCe,M:fCe,p:A,q:uCe,Q:xCe,s:yCe,S:mCe,u:aCe,U:iCe,V:oCe,w:sCe,W:lCe,x:F,X:M,y:MR,Y:OR,Z:cCe,"%":vCe};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(te,q){return function(X){var re=[],pe=-1,ye=0,le=te.length,be,Se,Oe;for(X instanceof Date||(X=new Date(+X));++pe<le;)te.charCodeAt(pe)===37&&(re.push(te.slice(ye,pe)),(Se=TR[be=te.charAt(++pe)])!=null?be=te.charAt(++pe):Se=be==="e"?" ":"0",(Oe=q[be])&&(be=Oe(X,Se)),re.push(be),ye=pe+1);return re.push(te.slice(ye,pe)),re.join("")}}function C(te,q){return function(X){var re=rm(1900,void 0,1),pe=k(re,te,X+="",0),ye,le;if(pe!=X.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(q&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ye=u1(rm(re.y,0,1)),le=ye.getUTCDay(),ye=le>4||le===0?Eb.ceil(ye):Eb(ye),ye=Bw.offset(ye,(re.V-1)*7),re.y=ye.getUTCFullYear(),re.m=ye.getUTCMonth(),re.d=ye.getUTCDate()+(re.w+6)%7):(ye=c1(rm(re.y,0,1)),le=ye.getDay(),ye=le>4||le===0?kb.ceil(ye):kb(ye),ye=av.offset(ye,(re.V-1)*7),re.y=ye.getFullYear(),re.m=ye.getMonth(),re.d=ye.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),le="Z"in re?u1(rm(re.y,0,1)).getUTCDay():c1(rm(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(le+5)%7:re.w+re.U*7-(le+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,u1(re)):c1(re)}}function k(te,q,X,re){for(var pe=0,ye=q.length,le=X.length,be,Se;pe<ye;){if(re>=le)return-1;if(be=q.charCodeAt(pe++),be===37){if(be=q.charAt(pe++),Se=N[be in TR?q.charAt(pe++):be],!Se||(re=Se(te,X,re))<0)return-1}else if(be!=X.charCodeAt(re++))return-1}return re}function A(te,q,X){var re=u.exec(q.slice(X));return re?(te.p=d.get(re[0].toLowerCase()),X+re[0].length):-1}function T(te,q,X){var re=m.exec(q.slice(X));return re?(te.w=p.get(re[0].toLowerCase()),X+re[0].length):-1}function E(te,q,X){var re=h.exec(q.slice(X));return re?(te.w=f.get(re[0].toLowerCase()),X+re[0].length):-1}function B(te,q,X){var re=x.exec(q.slice(X));return re?(te.m=b.get(re[0].toLowerCase()),X+re[0].length):-1}function U(te,q,X){var re=g.exec(q.slice(X));return re?(te.m=v.get(re[0].toLowerCase()),X+re[0].length):-1}function $(te,q,X){return k(te,t,q,X)}function F(te,q,X){return k(te,n,q,X)}function M(te,q,X){return k(te,r,q,X)}function R(te){return o[te.getDay()]}function D(te){return i[te.getDay()]}function L(te){return c[te.getMonth()]}function I(te){return l[te.getMonth()]}function z(te){return a[+(te.getHours()>=12)]}function H(te){return 1+~~(te.getMonth()/3)}function j(te){return o[te.getUTCDay()]}function P(te){return i[te.getUTCDay()]}function O(te){return c[te.getUTCMonth()]}function V(te){return l[te.getUTCMonth()]}function W(te){return a[+(te.getUTCHours()>=12)]}function Z(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var q=S(te+="",w);return q.toString=function(){return te},q},parse:function(te){var q=C(te+="",!1);return q.toString=function(){return te},q},utcFormat:function(te){var q=S(te+="",_);return q.toString=function(){return te},q},utcParse:function(te){var q=C(te+="",!0);return q.toString=function(){return te},q}}}var TR={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,tCe=/^%/,nCe=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function rCe(e){return e.replace(nCe,"\\$&")}function sm(e){return new RegExp("^(?:"+e.map(rCe).join("|")+")","i")}function am(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sCe(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aCe(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iCe(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function oCe(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lCe(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function OR(e,t,n){var r=hr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function MR(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cCe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uCe(e,t,n){var r=hr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dCe(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DR(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hCe(e,t,n){var r=hr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function IR(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fCe(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mCe(e,t,n){var r=hr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pCe(e,t,n){var r=hr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gCe(e,t,n){var r=hr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vCe(e,t,n){var r=tCe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xCe(e,t,n){var r=hr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yCe(e,t,n){var r=hr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function RR(e,t){return Mt(e.getDate(),t,2)}function bCe(e,t){return Mt(e.getHours(),t,2)}function wCe(e,t){return Mt(e.getHours()%12||12,t,2)}function jCe(e,t){return Mt(1+av.count(Eo(e),e),t,3)}function yV(e,t){return Mt(e.getMilliseconds(),t,3)}function _Ce(e,t){return yV(e,t)+"000"}function NCe(e,t){return Mt(e.getMonth()+1,t,2)}function SCe(e,t){return Mt(e.getMinutes(),t,2)}function CCe(e,t){return Mt(e.getSeconds(),t,2)}function kCe(e){var t=e.getDay();return t===0?7:t}function ECe(e,t){return Mt(Uw.count(Eo(e)-1,e),t,2)}function bV(e){var t=e.getDay();return t>=4||t===0?wh(e):wh.ceil(e)}function PCe(e,t){return e=bV(e),Mt(wh.count(Eo(e),e)+(Eo(e).getDay()===4),t,2)}function ACe(e){return e.getDay()}function TCe(e,t){return Mt(kb.count(Eo(e)-1,e),t,2)}function OCe(e,t){return Mt(e.getFullYear()%100,t,2)}function MCe(e,t){return e=bV(e),Mt(e.getFullYear()%100,t,2)}function DCe(e,t){return Mt(e.getFullYear()%1e4,t,4)}function ICe(e,t){var n=e.getDay();return e=n>=4||n===0?wh(e):wh.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function RCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function $R(e,t){return Mt(e.getUTCDate(),t,2)}function $Ce(e,t){return Mt(e.getUTCHours(),t,2)}function LCe(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function FCe(e,t){return Mt(1+Bw.count(Po(e),e),t,3)}function wV(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function BCe(e,t){return wV(e,t)+"000"}function UCe(e,t){return Mt(e.getUTCMonth()+1,t,2)}function zCe(e,t){return Mt(e.getUTCMinutes(),t,2)}function qCe(e,t){return Mt(e.getUTCSeconds(),t,2)}function VCe(e){var t=e.getUTCDay();return t===0?7:t}function WCe(e,t){return Mt(zw.count(Po(e)-1,e),t,2)}function jV(e){var t=e.getUTCDay();return t>=4||t===0?jh(e):jh.ceil(e)}function HCe(e,t){return e=jV(e),Mt(jh.count(Po(e),e)+(Po(e).getUTCDay()===4),t,2)}function GCe(e){return e.getUTCDay()}function YCe(e,t){return Mt(Eb.count(Po(e)-1,e),t,2)}function KCe(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function JCe(e,t){return e=jV(e),Mt(e.getUTCFullYear()%100,t,2)}function XCe(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function QCe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jh(e):jh.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function ZCe(){return"+0000"}function LR(){return"%"}function FR(e){return+e}function BR(e){return Math.floor(+e/1e3)}var Gu,_V,NV;eke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eke(e){return Gu=eCe(e),_V=Gu.format,Gu.parse,NV=Gu.utcFormat,Gu.utcParse,Gu}function tke(e){return new Date(e)}function nke(e){return e instanceof Date?+e:+new Date(+e)}function vA(e,t,n,r,a,i,o,l,c,u){var d=rA(),h=d.invert,f=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?p:o(S)<S?g:i(S)<S?v:r(S)<S?a(S)<S?x:b:n(S)<S?w:_)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,nke)):f().map(tke)},d.ticks=function(S){var C=f();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?N:u(C)},d.nice=function(S){var C=f();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?f(uV(C,S)):d},d.copy=function(){return sv(d,vA(e,t,n,r,a,i,o,l,c,u))},d}function rke(){return Pa.apply(vA(QSe,ZSe,Eo,pA,Uw,av,fA,dA,Tc,_V).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ske(){return Pa.apply(vA(JSe,XSe,Po,gA,zw,Bw,mA,hA,Tc,NV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qw(){var e=0,t=1,n,r,a,i,o=Xr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,p;return arguments.length?([m,p]=f,o=h(m,p),u):[o(0),o(1)]}}return u.range=d(xf),u.rangeRound=d(nA),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),u}}function tc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SV(){var e=ec(qw()(Xr));return e.copy=function(){return tc(e,SV())},Io.apply(e,arguments)}function CV(){var e=iA(qw()).domain([1,10]);return e.copy=function(){return tc(e,CV()).base(e.base())},Io.apply(e,arguments)}function kV(){var e=oA(qw());return e.copy=function(){return tc(e,kV()).constant(e.constant())},Io.apply(e,arguments)}function xA(){var e=lA(qw());return e.copy=function(){return tc(e,xA()).exponent(e.exponent())},Io.apply(e,arguments)}function ake(){return xA.apply(null,arguments).exponent(.5)}function EV(){var e=[],t=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return t((nv(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Al),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>WNe(e,i/r))},n.copy=function(){return EV(t).domain(e)},Io.apply(n,arguments)}function Vw(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=Xr,d,h=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-i)*(r*g<r*i?l:c),u(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=vSe(g,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(xf),m.rangeRound=p(nA),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return d=g,a=g(e),i=g(t),o=g(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function PV(){var e=ec(Vw()(Xr));return e.copy=function(){return tc(e,PV())},Io.apply(e,arguments)}function AV(){var e=iA(Vw()).domain([.1,1,10]);return e.copy=function(){return tc(e,AV()).base(e.base())},Io.apply(e,arguments)}function TV(){var e=oA(Vw());return e.copy=function(){return tc(e,TV()).constant(e.constant())},Io.apply(e,arguments)}function yA(){var e=lA(Vw());return e.copy=function(){return tc(e,yA()).exponent(e.exponent())},Io.apply(e,arguments)}function ike(){return yA.apply(null,arguments).exponent(.5)}const UR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lp,scaleDiverging:PV,scaleDivergingLog:AV,scaleDivergingPow:yA,scaleDivergingSqrt:ike,scaleDivergingSymlog:TV,scaleIdentity:cV,scaleImplicit:PC,scaleLinear:Sb,scaleLog:dV,scaleOrdinal:ZP,scalePoint:Wm,scalePow:cA,scaleQuantile:mV,scaleQuantize:pV,scaleRadial:fV,scaleSequential:SV,scaleSequentialLog:CV,scaleSequentialPow:xA,scaleSequentialQuantile:EV,scaleSequentialSqrt:ake,scaleSequentialSymlog:kV,scaleSqrt:BSe,scaleSymlog:hV,scaleThreshold:gV,scaleTime:rke,scaleUtc:ske,tickFormat:lV},Symbol.toStringTag,{value:"Module"}));var oke=uf;function lke(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!oke(o):n(o,l)))var l=o,c=i}return c}var OV=lke;function cke(e,t){return e>t}var uke=cke,dke=OV,hke=uke,fke=vf;function mke(e){return e&&e.length?dke(e,fke,hke):void 0}var pke=mke;const Ww=qt(pke);function gke(e,t){return e<t}var vke=gke,xke=OV,yke=vke,bke=vf;function wke(e){return e&&e.length?xke(e,bke,yke):void 0}var jke=wke;const Hw=qt(jke);var _ke=MP,Nke=Zl,Ske=Bq,Cke=ks;function kke(e,t){var n=Cke(e)?_ke:Ske;return n(e,Nke(t))}var Eke=kke,Pke=Lq,Ake=Eke;function Tke(e,t){return Pke(Ake(e,t),1)}var Oke=Tke;const Mke=qt(Oke);var Dke=YP;function Ike(e,t){return Dke(e,t)}var Rke=Ike;const Gw=qt(Rke);var yf=1e9,$ke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wA,yn=!0,_a="[DecimalError] ",Hc=_a+"Invalid argument: ",bA=_a+"Exponent out of range: ",bf=Math.floor,bc=Math.pow,Lke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bs,rr=1e7,gn=7,MV=9007199254740991,Pb=bf(MV/gn),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(e){return yo(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,n=t.constructor;return nn(yo(t,new n(e),0,1),n.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return Bn(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Bs))throw Error(_a+"NaN");if(n.s<1)throw Error(_a+(n.s?"NaN":"-Infinity"));return n.eq(Bs)?new r(0):(yn=!1,t=yo(qp(n,i),qp(e,i),i),yn=!0,nn(t,a))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RV(t,e):DV(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(_a+"NaN");return n.s?(yn=!1,t=yo(n,e,0,1).times(e),yn=!0,n.minus(t)):nn(new r(n),a)};We.naturalExponential=We.exp=function(){return IV(this)};We.naturalLogarithm=We.ln=function(){return qp(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DV(t,e):RV(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hc+e);if(t=Bn(a)+1,r=a.d.length-1,n=r*gn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};We.squareRoot=We.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_a+"NaN")}for(e=Bn(l),yn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Oi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(yo(l,i,o+2)).times(.5),Oi(i.d).slice(0,o)===(t=Oi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(nn(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return yn=!0,nn(r,n)};We.times=We.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%rr|0,t=l/rr|0;i[a]=(i[a]+t)%rr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,yn?nn(e,h.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ui(e,0,yf),t===void 0?t=r.rounding:Ui(t,0,8),nn(n,e+Bn(n)+1,t))};We.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=lu(r,!0):(Ui(e,0,yf),t===void 0?t=a.rounding:Ui(t,0,8),r=nn(new a(r),e+1,t),n=lu(r,!0,e+1)),n};We.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?lu(a):(Ui(e,0,yf),t===void 0?t=i.rounding:Ui(t,0,8),r=nn(new i(a),e+Bn(a)+1,t),n=lu(r.abs(),!1,e+Bn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return nn(new t(e),Bn(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Bs);if(l=new c(l),!l.s){if(e.s<1)throw Error(_a+"Infinity");return l}if(l.eq(Bs))return l;if(r=c.precision,e.eq(Bs))return nn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=MV){for(a=new c(Bs),t=Math.ceil(r/gn+4),yn=!1;n%2&&(a=a.times(l),qR(a.d,t)),n=bf(n/2),n!==0;)l=l.times(l),qR(l.d,t);return yn=!0,e.s<0?new c(Bs).div(a):nn(a,r)}}else if(i<0)throw Error(_a+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,yn=!1,a=e.times(qp(l,r+u)),yn=!0,a=IV(a),a.s=i,a};We.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Bn(a),r=lu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ui(e,1,yf),t===void 0?t=i.rounding:Ui(t,0,8),a=nn(new i(a),e,t),n=Bn(a),r=lu(a,e<=n||n<=i.toExpNeg,e)),r};We.toSignificantDigits=We.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ui(e,1,yf),t===void 0?t=r.rounding:Ui(t,0,8)),nn(new r(n),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bn(e),n=e.constructor;return lu(e,t<=n.toExpNeg||t>=n.toExpPos)};function DV(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yn?nn(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(h/gn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/rr|0,c[i]%=rr;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,yn?nn(t,h):t}function Ui(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hc+e)}function Oi(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=gn-r.length,n&&(i+=nl(n)),i+=r;o=e[t],r=o+"",n=gn-r.length,n&&(i+=nl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yo=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%rr|0,o=i/rr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*rr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,h,f,m,p,g,v,x,b,w,_,N,S,C,k,A=r.constructor,T=r.s==a.s?1:-1,E=r.d,B=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(_a+"Division by zero");for(c=r.e-a.e,C=B.length,N=E.length,m=new A(T),p=m.d=[],u=0;B[u]==(E[u]||0);)++u;if(B[u]>(E[u]||0)&&--c,i==null?b=i=A.precision:o?b=i+(Bn(r)-Bn(a))+1:b=i,b<0)return new A(0);if(b=b/gn+2|0,u=0,C==1)for(d=0,B=B[0],b++;(u<N||d)&&b--;u++)w=d*rr+(E[u]||0),p[u]=w/B|0,d=w%B|0;else{for(d=rr/(B[0]+1)|0,d>1&&(B=e(B,d),E=e(E,d),C=B.length,N=E.length),_=C,g=E.slice(0,C),v=g.length;v<C;)g[v++]=0;k=B.slice(),k.unshift(0),S=B[0],B[1]>=rr/2&&++S;do d=0,l=t(B,g,C,v),l<0?(x=g[0],C!=v&&(x=x*rr+(g[1]||0)),d=x/S|0,d>1?(d>=rr&&(d=rr-1),h=e(B,d),f=h.length,v=g.length,l=t(h,g,f,v),l==1&&(d--,n(h,C<f?k:B,f))):(d==0&&(l=d=1),h=B.slice()),f=h.length,f<v&&h.unshift(0),n(g,h,v),l==-1&&(v=g.length,l=t(B,g,C,v),l<1&&(d++,n(g,C<v?k:B,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=E[_]||0:(g=[E[_]],v=1);while((_++<N||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,nn(m,o?i+Bn(m)+1:i)}}();function IV(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(Bn(e)>16)throw Error(bA+Bn(e));if(!e.s)return new d(Bs);for(t==null?(yn=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(bc(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(Bs),d.precision=l;;){if(a=nn(a.times(e),l),n=n.times(++c),o=i.plus(yo(a,n,l)),Oi(o.d).slice(0,l)===Oi(i.d).slice(0,l)){for(;u--;)i=nn(i.times(i),l);return d.precision=h,t==null?(yn=!0,nn(i,h)):i}i=o}}function Bn(e){for(var t=e.e*gn,n=e.d[0];n>=10;n/=10)t++;return t}function d1(e,t,n){if(t>e.LN10.sd())throw yn=!0,n&&(e.precision=n),Error(_a+"LN10 precision limit exceeded");return nn(new e(e.LN10),t)}function nl(e){for(var t="";e--;)t+="0";return t}function qp(e,t){var n,r,a,i,o,l,c,u,d,h=1,f=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(_a+(m.s?"NaN":"-Infinity"));if(m.eq(Bs))return new g(0);if(t==null?(yn=!1,u=v):u=t,m.eq(10))return t==null&&(yn=!0),d1(g,u);if(u+=f,g.precision=u,n=Oi(p),r=n.charAt(0),i=Bn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Oi(m.d),r=n.charAt(0),h++;i=Bn(m),r>1?(m=new g("0."+n),i++):m=new g(r+"."+n.slice(1))}else return c=d1(g,u+2,v).times(i+""),m=qp(new g(r+"."+n.slice(1)),u-f).plus(c),g.precision=v,t==null?(yn=!0,nn(m,v)):m;for(l=o=m=yo(m.minus(Bs),m.plus(Bs),u),d=nn(m.times(m),u),a=3;;){if(o=nn(o.times(d),u),c=l.plus(yo(o,new g(a),u)),Oi(c.d).slice(0,u)===Oi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(d1(g,u+2,v).times(i+""))),l=yo(l,new g(h),u),g.precision=v,t==null?(yn=!0,nn(l,v)):l;l=c,a+=2}}function zR(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=bf(n/gn),e.d=[],r=(n+1)%gn,n<0&&(r+=gn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=gn;r<a;)e.d.push(+t.slice(r,r+=gn));t=t.slice(r),r=gn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),yn&&(e.e>Pb||e.e<-Pb))throw Error(bA+n)}else e.s=0,e.e=0,e.d=[0];return e}function nn(e,t,n){var r,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=gn,a=t,u=h[d=0];else{if(d=Math.ceil((r+1)/gn),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=gn,a=r-gn+o}if(n!==void 0&&(i=bc(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/bc(10,o-a):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=Bn(e),h.length=1,t=t-i-1,h[0]=bc(10,(gn-t%gn)%gn),e.e=bf(-t/gn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=bc(10,gn-r),h[d]=a>0?(u/bc(10,o-a)%bc(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==rr&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=rr)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(yn&&(e.e>Pb||e.e<-Pb))throw Error(bA+Bn(e));return e}function RV(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),yn?nn(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),a=Math.max(Math.ceil(m/gn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=rr-1;--c[i],c[a]+=rr}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,yn?nn(t,m):t):new f(0)}function lu(e,t,n){var r,a=Bn(e),i=Oi(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+nl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+nl(-a-1)+i,n&&(r=n-o)>0&&(i+=nl(r))):a>=o?(i+=nl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+nl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=nl(r))),e.s<0?"-"+i:i}function qR(e,t){if(e.length>t)return e.length=t,!0}function $V(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return zR(o,i.toString())}else if(typeof i!="string")throw Error(Hc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Lke.test(i))zR(o,i);else throw Error(Hc+i)}if(a.prototype=We,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$V,a.config=a.set=Fke,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Fke(e){if(!e||typeof e!="object")throw Error(_a+"Object expected");var t,n,r,a=["precision",1,yf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(bf(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hc+n+": "+r);return this}var wA=$V($ke);Bs=new wA(1);const Kt=wA;function Bke(e){return Vke(e)||qke(e)||zke(e)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zke(e,t){if(e){if(typeof e=="string")return MC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(e,t)}}function qke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Vke(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wke=function(t){return t},LV={"@@functional/placeholder":!0},FV=function(t){return t===LV},VR=function(t){return function n(){return arguments.length===0||arguments.length===1&&FV(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Hke=function e(t,n){return t===1?n:VR(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==LV}).length;return o>=t?n.apply(void 0,a):e(t-o,VR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return FV(h)?c.shift():h});return n.apply(void 0,Bke(d).concat(c))}))})},Yw=function(t){return Hke(t.length,t)},DC=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},Gke=Yw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Yke=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Wke;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},IC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},BV=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function Kke(e){var t;return e===0?t=1:t=Math.floor(new Kt(e).abs().log(10).toNumber())+1,t}function Jke(e,t,n){for(var r=new Kt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Xke=Yw(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),Qke=Yw(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Zke=Yw(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Kw={rangeStep:Jke,getDigitCount:Kke,interpolateNumber:Xke,uninterpolateNumber:Qke,uninterpolateTruncation:Zke};function RC(e){return nEe(e)||tEe(e)||UV(e)||eEe()}function eEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nEe(e){if(Array.isArray(e))return $C(e)}function Vp(e,t){return aEe(e)||sEe(e,t)||UV(e,t)||rEe()}function rEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(e,t){if(e){if(typeof e=="string")return $C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $C(e,t)}}function $C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sEe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function aEe(e){if(Array.isArray(e))return e}function zV(e){var t=Vp(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function qV(e,t,n){if(e.lte(0))return new Kt(0);var r=Kw.getDigitCount(e.toNumber()),a=new Kt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Kt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Kt(Math.ceil(c))}function iEe(e,t,n){var r=1,a=new Kt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Kt(10).pow(Kw.getDigitCount(e)-1),a=new Kt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Kt(Math.floor(e)))}else e===0?a=new Kt(Math.floor((t-1)/2)):n||(a=new Kt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Yke(Gke(function(c){return a.add(new Kt(c-o).mul(r)).toNumber()}),DC);return l(0,t)}function VV(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var i=qV(new Kt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Kt(0):(o=new Kt(e).add(t).div(2),o=o.sub(new Kt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Kt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?VV(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Kt(l).mul(i)),tickMax:o.add(new Kt(c).mul(i))})}function oEe(e){var t=Vp(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=zV([n,r]),c=Vp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(RC(DC(0,a-1).map(function(){return 1/0}))):[].concat(RC(DC(0,a-1).map(function(){return-1/0})),[d]);return n>r?IC(h):h}if(u===d)return iEe(u,a,i);var f=VV(u,d,o,i),m=f.step,p=f.tickMin,g=f.tickMax,v=Kw.rangeStep(p,g.add(new Kt(.1).mul(m)),m);return n>r?IC(v):v}function lEe(e,t){var n=Vp(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=zV([r,a]),l=Vp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),h=qV(new Kt(u).sub(c).div(d-1),i,0),f=[].concat(RC(Kw.rangeStep(new Kt(c),new Kt(u).sub(new Kt(.99).mul(h)),h)),[u]);return r>a?IC(f):f}var cEe=BV(oEe),uEe=BV(lEe),dEe="Invariant failed";function cu(e,t){throw new Error(dEe)}var hEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(this,arguments)}function fEe(e,t){return vEe(e)||gEe(e,t)||pEe(e,t)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pEe(e,t){if(e){if(typeof e=="string")return WR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vEe(e){if(Array.isArray(e))return e}function xEe(e,t){if(e==null)return{};var n=yEe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GV(r.key),r)}}function jEe(e,t,n){return t&&wEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ee(e,t,n){return t=Tb(t),NEe(e,WV()?Reflect.construct(t,n||[],Tb(e).constructor):t.apply(e,n))}function NEe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SEe(e)}function SEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(e)}function CEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},LC(e,t)}function HV(e,t,n){return t=GV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t=kEe(e,"string");return _h(t)=="symbol"?t:t+""}function kEe(e,t){if(_h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iv=function(e){function t(){return bEe(this,t),_Ee(this,t,arguments)}return CEe(t,e),jEe(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=xEe(r,hEe),m=Ct(f,!1);this.props.direction==="x"&&d.type!=="number"&&cu();var p=c.map(function(g){var v=u(g,l),x=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],S,C;if(Array.isArray(_)){var k=fEe(_,2);S=k[0],C=k[1]}else S=C=_;if(i==="vertical"){var A=d.scale,T=b+a,E=T+o,B=T-o,U=A(w-S),$=A(w+C);N.push({x1:$,y1:E,x2:$,y2:B}),N.push({x1:U,y1:T,x2:$,y2:T}),N.push({x1:U,y1:E,x2:U,y2:B})}else if(i==="horizontal"){var F=h.scale,M=x+a,R=M-o,D=M+o,L=F(w-S),I=F(w+C);N.push({x1:R,y1:I,x2:D,y2:I}),N.push({x1:M,y1:L,x2:M,y2:I}),N.push({x1:R,y1:L,x2:D,y2:L})}return J.createElement(Mn,Ab({className:"recharts-errorBar",key:"bar-".concat(N.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},m),N.map(function(z){return J.createElement("line",Ab({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return J.createElement(Mn,{className:"recharts-errorBars"},p)}}])}(J.Component);HV(iv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HV(iv,"displayName","ErrorBar");function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){EEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EEe(e,t,n){return t=PEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PEe(e){var t=AEe(e,"string");return Wp(t)=="symbol"?t:t+""}function AEe(e,t){if(Wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YV=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=$s(n,Ad);if(!o)return null;var l=Ad.defaultProps,c=l!==void 0?cc(cc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?cc(cc({},f),h.props):{},p=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:p,type:c.iconType||v||"square",color:jA(h),value:g||p,payload:m}}),cc(cc(cc({},c),Ad.getWithHeight(o,a)),{},{payload:u,item:o})};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function GR(e){return DEe(e)||MEe(e)||OEe(e)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OEe(e,t){if(e){if(typeof e=="string")return FC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FC(e,t)}}function MEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DEe(e){if(Array.isArray(e))return FC(e)}function FC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(r){Od(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Od(e,t,n){return t=IEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IEe(e){var t=REe(e,"string");return Hp(t)=="symbol"?t:t+""}function REe(e,t){if(Hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ys(e,t,n){return wt(e)||wt(t)?n:Hn(t)?ga(e,t,n):vt(t)?t(e):n}function Hm(e,t,n,r){var a=Mke(e,function(l){return Ys(l,t)});if(n==="number"){var i=a.filter(function(l){return Me(l)||parseFloat(l)});return i.length?[Hw(i),Ww(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!wt(l)}):a;return o.map(function(l){return Hn(l)||l instanceof Date?l:""})}var $Ee=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Ya(h-d)!==Ya(f-h)){var p=[];if(Ya(f-h)===Ya(c[1]-c[0])){m=f;var g=h+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=f+c[1]-c[0];p[0]=Math.min(h,(v+h)/2),p[1]=Math.max(h,(v+h)/2)}var x=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>x[0]&&t<=x[1]||t>=p[0]&&t<=p[1]){o=a[u].index;break}}else{var b=Math.min(d,f),w=Math.max(d,f);if(t>(b+h)/2&&t<=(w+h)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},jA=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?En(En({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},LEe=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var p=d[h[f]],g=p.items,v=p.cateAxisId,x=g.filter(function(C){return go(C.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?En(En({},b),x[0].props):x[0].props,_=w.barSize,N=w[v];o[N]||(o[N]=[]);var S=wt(_)?n:_;o[N].push({item:x[0],stackList:x.slice(1),barSize:wt(S)?void 0:ou(S,r,0)})}}return o},FEe=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=ou(n,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,p=o.reduce(function(_,N){return _+N.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&m>0&&(f=!0,m*=.9,p=c*m);var g=(a-p)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(_,N){var S={item:N.item,position:{offset:v.offset+v.size+u,size:f?m:N.barSize}},C=[].concat(GR(_),[S]);return v=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){C.push({item:k,position:v})}),C},h)}else{var x=ou(r,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(_,N,S){var C=[].concat(GR(_),[{item:N.item,position:{offset:x+(b+u)*S+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},h)}return d},BEe=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=YV({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Me(t[m]))return En(En({},t),{},Od({},m,t[m]+(h||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Me(t[p]))return En(En({},t),{},Od({},p,t[p]+(f||0)))}return t},UEe=function(t,n,r){return wt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},KV=function(t,n,r,a,i){var o=n.props.children,l=va(o,iv).filter(function(u){return UEe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Ys(d,r);if(wt(h))return u;var f=Array.isArray(h)?[Hw(h),Ww(h)]:[h,h],m=c.reduce(function(p,g){var v=Ys(d,g,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},zEe=function(t,n,r,a,i){var o=n.map(function(l){return KV(t,l,r,i,a)}).filter(function(l){return!wt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},JV=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&KV(t,c,u,a)||Hm(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},XV=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},QV=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},uo=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ya(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Zg(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},h1=new WeakMap,mx=function(t,n){if(typeof n!="function")return t;h1.has(t)||h1.set(t,new WeakMap);var r=h1.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},qEe=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Lp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Sb(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Wm(),realScaleType:"point"}:i==="category"?{scale:Lp(),realScaleType:"band"}:{scale:Sb(),realScaleType:"linear"};if(Qg(a)){var c="scale".concat(Ow(a));return{scale:(UR[c]||Wm)(),realScaleType:UR[c]?c:"point"}}return vt(a)?{scale:a}:{scale:Wm(),realScaleType:"point"}},KR=1e-4,VEe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-KR,o=Math.max(a[0],a[1])+KR,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},WEe=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},HEe=function(t,n){if(!n||n.length!==2||!Me(n[0])||!Me(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Me(t[0])||t[0]<r)&&(i[0]=r),(!Me(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},GEe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Zg(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},YEe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Zg(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},KEe={sign:GEe,expand:uve,none:ph,silhouette:dve,wiggle:hve,positive:YEe},JEe=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=KEe[r],o=cve().keys(a).value(function(l,c){return+Ys(l,c,0)}).order(uC).offset(i);return o(t)},XEe=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var m,p=(m=f.type)!==null&&m!==void 0&&m.defaultProps?En(En({},f.type.defaultProps),f.props):f.props,g=p.stackId,v=p.hide;if(v)return h;var x=p[r],b=h[x]||{hasStack:!1,stackGroups:{}};if(Hn(g)){var w=b.stackGroups[g]||{numericAxisId:r,cateAxisId:a,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[ev("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return En(En({},h),{},Od({},x,b))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return En(En({},g),{},Od({},v,{numericAxisId:r,cateAxisId:a,items:x.items,stackedData:JEe(t,x.items,i)}))},p)}return En(En({},h),{},Od({},f,m))},d)},QEe=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=cEe(u,i,l);return t.domain([Hw(d),Ww(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=uEe(h,i,l);return{niceTicks:f}}return null};function JR(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!wt(a[t.dataKey])){var l=tb(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Ys(a,wt(o)?t.dataKey:o);return wt(c)?null:t.scale(c)}var XR=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Ys(o,n.dataKey,n.domain[l]);return wt(c)?null:n.scale(c)-i/2+a},ZEe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},e2e=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?En(En({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Hn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},t2e=function(t){return t.reduce(function(n,r){return[Hw(r.concat([n[0]]).filter(Me)),Ww(r.concat([n[1]]).filter(Me))]},[1/0,-1/0])},ZV=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=t2e(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},QR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BC=function(t,n,r){if(vt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Me(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(QR.test(t[0])){var i=+QR.exec(t[0])[1];a[0]=n[0]-i}else vt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Me(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(ZR.test(t[1])){var o=+ZR.exec(t[1])[1];a[1]=n[1]+o}else vt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Ob=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=JP(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},e4=function(t,n,r){return!t||!t.length||Gw(t,ga(r,"type.defaultProps.domain"))?n:t},eW=function(t,n){var r=t.type.defaultProps?En(En({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return En(En({},Ct(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:jA(t),value:Ys(n,a),type:c,payload:n,chartType:u,hide:d})};function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(r){n2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n2e(e,t,n){return t=r2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r2e(e){var t=s2e(e,"string");return Gp(t)=="symbol"?t:t+""}function s2e(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mb=Math.PI/180,a2e=function(t){return t*180/Math.PI},yr=function(t,n,r,a){return{x:t+Math.cos(-Mb*a)*r,y:n+Math.sin(-Mb*a)*r}},i2e=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},o2e=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=i2e({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:a2e(u),angleInRadian:u}},l2e=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},c2e=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},r4=function(t,n){var r=t.x,a=t.y,i=o2e({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=l2e(n),h=d.startAngle,f=d.endAngle,m=l,p;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}return p?n4(n4({},n),{},{radius:o,angle:c2e(m,n)}):null};function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}var u2e=["offset"];function d2e(e){return p2e(e)||m2e(e)||f2e(e)||h2e()}function h2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f2e(e,t){if(e){if(typeof e=="string")return UC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(e,t)}}function m2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p2e(e){if(Array.isArray(e))return UC(e)}function UC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g2e(e,t){if(e==null)return{};var n=v2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(r){x2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x2e(e,t,n){return t=y2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y2e(e){var t=b2e(e,"string");return Yp(t)=="symbol"?t:t+""}function b2e(e,t){if(Yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kp.apply(this,arguments)}var w2e=function(t){var n=t.value,r=t.formatter,a=wt(t.children)?n:t.children;return vt(r)?r(a):a},j2e=function(t,n){var r=Ya(n-t),a=Math.min(Math.abs(n-t),360);return r*a},_2e=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(h+f)/2,x=j2e(m,p),b=x>=0?1:-1,w,_;a==="insideStart"?(w=m+b*o,_=g):a==="insideEnd"?(w=p-b*o,_=!g):a==="end"&&(w=p+b*o,_=g),_=x<=0?_:!_;var N=yr(u,d,v,w),S=yr(u,d,v,w+(_?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=wt(t.id)?ev("recharts-radial-line-"):t.id;return J.createElement("text",Kp({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",l)}),J.createElement("defs",null,J.createElement("path",{id:k,d:C})),J.createElement("textPath",{xlinkHref:"#".concat(k)},n))},N2e=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=yr(o,l,u+r,f),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=yr(o,l,v,f),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},S2e=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",p=h>0?"start":"end",g=u>=0?1:-1,v=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return zn(zn({},w),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:p};return zn(zn({},_),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return zn(zn({},N),r?{width:Math.max(N.x-r.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return zn(zn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return i==="insideLeft"?zn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?zn({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideTop"?zn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:p},C):i==="insideBottom"?zn({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?zn({x:l+v,y:c+f,textAnchor:b,verticalAnchor:p},C):i==="insideTopRight"?zn({x:l+u-v,y:c+f,textAnchor:x,verticalAnchor:p},C):i==="insideBottomLeft"?zn({x:l+v,y:c+d-f,textAnchor:b,verticalAnchor:m},C):i==="insideBottomRight"?zn({x:l+u-v,y:c+d-f,textAnchor:x,verticalAnchor:m},C):df(i)&&(Me(i.x)||Pc(i.x))&&(Me(i.y)||Pc(i.y))?zn({x:l+ou(i.x,u),y:c+ou(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):zn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},C2e=function(t){return"cx"in t&&Me(t.cx)};function Or(e){var t=e.offset,n=t===void 0?5:t,r=g2e(e,u2e),a=zn({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||wt(l)&&wt(c)&&!y.isValidElement(u)&&!vt(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(vt(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=w2e(a);var p=C2e(i),g=Ct(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _2e(a,m,g);var v=p?N2e(a):S2e(a);return J.createElement(xb,Kp({className:kt("recharts-label",h)},g,v,{breakAll:f}),m)}Or.displayName="Label";var tW=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,p=t.left,g=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Me(g)&&Me(v)){if(Me(h)&&Me(f))return{x:h,y:f,width:g,height:v};if(Me(m)&&Me(p))return{x:m,y:p,width:g,height:v}}return Me(h)&&Me(f)?{x:h,y:f,width:0,height:0}:Me(n)&&Me(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},k2e=function(t,n){return t?t===!0?J.createElement(Or,{key:"label-implicit",viewBox:n}):Hn(t)?J.createElement(Or,{key:"label-implicit",viewBox:n,value:t}):y.isValidElement(t)?t.type===Or?y.cloneElement(t,{key:"label-implicit",viewBox:n}):J.createElement(Or,{key:"label-implicit",content:t,viewBox:n}):vt(t)?J.createElement(Or,{key:"label-implicit",content:t,viewBox:n}):df(t)?J.createElement(Or,Kp({viewBox:n},t,{key:"label-implicit"})):null:null},E2e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=tW(t),o=va(a,Or).map(function(c,u){return y.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=k2e(t.label,n||i);return[l].concat(d2e(o))};Or.parseViewBox=tW;Or.renderCallByParent=E2e;function P2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var A2e=P2e;const T2e=qt(A2e);function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}var O2e=["valueAccessor"],M2e=["data","dataKey","clockWise","id","textBreakAll"];function D2e(e){return L2e(e)||$2e(e)||R2e(e)||I2e()}function I2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R2e(e,t){if(e){if(typeof e=="string")return zC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(e,t)}}function $2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L2e(e){if(Array.isArray(e))return zC(e)}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(this,arguments)}function a4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(n),!0).forEach(function(r){F2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F2e(e,t,n){return t=B2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B2e(e){var t=U2e(e,"string");return Jp(t)=="symbol"?t:t+""}function U2e(e,t){if(Jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o4(e,t){if(e==null)return{};var n=z2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function z2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var q2e=function(t){return Array.isArray(t.value)?T2e(t.value):t.value};function Tl(e){var t=e.valueAccessor,n=t===void 0?q2e:t,r=o4(e,O2e),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=o4(r,M2e);return!a||!a.length?null:J.createElement(Mn,{className:"recharts-label-list"},a.map(function(d,h){var f=wt(i)?n(d,h):Ys(d&&d.payload,i),m=wt(l)?{}:{id:"".concat(l,"-").concat(h)};return J.createElement(Or,Db({},Ct(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Or.parseViewBox(wt(o)?d:i4(i4({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Tl.displayName="LabelList";function V2e(e,t){return e?e===!0?J.createElement(Tl,{key:"labelList-implicit",data:t}):J.isValidElement(e)||vt(e)?J.createElement(Tl,{key:"labelList-implicit",data:t,content:e}):df(e)?J.createElement(Tl,Db({data:t},e,{key:"labelList-implicit"})):null:null}function W2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=va(r,Tl).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=V2e(e.label,t);return[i].concat(D2e(a))}Tl.renderCallByParent=W2e;function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qC.apply(this,arguments)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function c4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(r){H2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H2e(e,t,n){return t=G2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G2e(e){var t=Y2e(e,"string");return Xp(t)=="symbol"?t:t+""}function Y2e(e,t){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K2e=function(t,n){var r=Ya(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},px=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/Mb,f=u?i:i+o*h,m=yr(n,r,d,f),p=yr(n,r,a,f),g=u?i-o*h:i,v=yr(n,r,d*Math.cos(h*Mb),g);return{center:m,circleTangency:p,lineTangency:v,theta:h}},nW=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=K2e(o,l),u=o+c,d=yr(n,r,i,o),h=yr(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=yr(n,r,a,o),p=yr(n,r,a,u);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},J2e=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=Ya(d-u),f=px({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,p=f.lineTangency,g=f.theta,v=px({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(_<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nW({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=px({cx:n,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,k=S.lineTangency,A=S.theta,T=px({cx:n,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=T.circleTangency,B=T.lineTangency,U=T.theta,$=c?Math.abs(u-d):Math.abs(u-d)-A-U;if($<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},X2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rW=function(t){var n=c4(c4({},X2e),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var m=kt("recharts-sector",f),p=o-i,g=ou(l,p,0,!0),v;return g>0&&Math.abs(d-h)<360?v=J2e({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=nW({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),J.createElement("path",qC({},Ct(n,!0),{className:m,d:v,role:"img"}))};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VC.apply(this,arguments)}function u4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function d4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(n),!0).forEach(function(r){Q2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q2e(e,t,n){return t=Z2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z2e(e){var t=ePe(e,"string");return Qp(t)=="symbol"?t:t+""}function ePe(e,t){if(Qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h4={curveBasisClosed:Qge,curveBasisOpen:Zge,curveBasis:Xge,curveBumpX:$ge,curveBumpY:Lge,curveLinearClosed:eve,curveLinear:Dw,curveMonotoneX:tve,curveMonotoneY:nve,curveNatural:rve,curveStep:sve,curveStepAfter:ive,curveStepBefore:ave},gx=function(t){return t.x===+t.x&&t.y===+t.y},im=function(t){return t.x},om=function(t){return t.y},tPe=function(t,n){if(vt(t))return t;var r="curve".concat(Ow(t));return(r==="curveMonotone"||r==="curveBump")&&n?h4["".concat(r).concat(n==="vertical"?"Y":"X")]:h4[r]||Dw},nPe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=tPe(r,l),h=u?i.filter(function(g){return gx(g)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(g){return gx(g)}):o,p=h.map(function(g,v){return d4(d4({},g),{},{base:m[v]})});return l==="vertical"?f=ix().y(om).x1(im).x0(function(g){return g.base.x}):f=ix().x(im).y1(om).y0(function(g){return g.base.y}),f.defined(gx).curve(d),f(p)}return l==="vertical"&&Me(o)?f=ix().y(om).x1(im).x0(o):Me(o)?f=ix().x(im).y1(om).y0(o):f=rq().x(im).y(om),f.defined(gx).curve(d),f(h)},WC=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?nPe(t):a;return J.createElement("path",VC({},Ct(t,!1),nb(t),{className:kt("recharts-curve",n),d:o,ref:i}))},sW={exports:{}},rPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sPe=rPe,aPe=sPe;function aW(){}function iW(){}iW.resetWarningCache=aW;var iPe=function(){function e(r,a,i,o,l,c){if(c!==aPe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iW,resetWarningCache:aW};return n.PropTypes=n,n};sW.exports=iPe();var oPe=sW.exports;const mt=qt(oPe);var lPe=Object.getOwnPropertyNames,cPe=Object.getOwnPropertySymbols,uPe=Object.prototype.hasOwnProperty;function f4(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function vx(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function m4(e){return lPe(e).concat(cPe(e))}var oW=Object.hasOwn||function(e,t){return uPe.call(e,t)};function wf(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var lW="_owner",p4=Object.getOwnPropertyDescriptor,g4=Object.keys;function dPe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function hPe(e,t){return wf(e.getTime(),t.getTime())}function v4(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],p=l.value,g=p[0],v=p[1];!u&&!r[d]&&(u=n.equals(f,g,i,d,e,t,n)&&n.equals(m,v,f,g,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;i++}return!0}function fPe(e,t,n){var r=g4(e),a=r.length;if(g4(t).length!==a)return!1;for(var i;a-- >0;)if(i=r[a],i===lW&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!oW(t,i)||!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function lm(e,t,n){var r=m4(e),a=r.length;if(m4(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],i===lW&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!oW(t,i)||!n.equals(e[i],t[i],i,i,e,t,n)||(o=p4(e,i),l=p4(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function mPe(e,t){return wf(e.valueOf(),t.valueOf())}function pPe(e,t){return e.source===t.source&&e.flags===t.flags}function x4(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(i.value,o.value,i.value,o.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function gPe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var vPe="[object Arguments]",xPe="[object Boolean]",yPe="[object Date]",bPe="[object Map]",wPe="[object Number]",jPe="[object Object]",_Pe="[object RegExp]",NPe="[object Set]",SPe="[object String]",CPe=Array.isArray,y4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,b4=Object.assign,kPe=Object.prototype.toString.call.bind(Object.prototype.toString);function EPe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return a(d,h,f);if(CPe(d))return t(d,h,f);if(y4!=null&&y4(d))return c(d,h,f);if(m===Date)return n(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return r(d,h,f);if(m===Set)return l(d,h,f);var p=kPe(d);return p===yPe?n(d,h,f):p===_Pe?o(d,h,f):p===bPe?r(d,h,f):p===NPe?l(d,h,f):p===jPe?typeof d.then!="function"&&typeof h.then!="function"&&a(d,h,f):p===vPe?a(d,h,f):p===xPe||p===wPe||p===SPe?i(d,h,f):!1}}function PPe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?lm:dPe,areDatesEqual:hPe,areMapsEqual:r?f4(v4,lm):v4,areObjectsEqual:r?lm:fPe,arePrimitiveWrappersEqual:mPe,areRegExpsEqual:pPe,areSetsEqual:r?f4(x4,lm):x4,areTypedArraysEqual:r?lm:gPe};if(n&&(a=b4({},a,n(a))),t){var i=vx(a.areArraysEqual),o=vx(a.areMapsEqual),l=vx(a.areObjectsEqual),c=vx(a.areSetsEqual);a=b4({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function APe(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function TPe(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var OPe=nc();nc({strict:!0});nc({circular:!0});nc({circular:!0,strict:!0});nc({createInternalComparator:function(){return wf}});nc({strict:!0,createInternalComparator:function(){return wf}});nc({circular:!0,createInternalComparator:function(){return wf}});nc({circular:!0,createInternalComparator:function(){return wf},strict:!0});function nc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=PPe(e),c=EPe(l),u=r?r(c):APe(c);return TPe({circular:n,comparator:c,createState:a,equals:u,strict:o})}function MPe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function w4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):MPe(a)};requestAnimationFrame(r)}function HC(e){"@babel/helpers - typeof";return HC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HC(e)}function DPe(e){return LPe(e)||$Pe(e)||RPe(e)||IPe()}function IPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(e,t){if(e){if(typeof e=="string")return j4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j4(e,t)}}function j4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $Pe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LPe(e){if(Array.isArray(e))return e}function FPe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=DPe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){w4(a.bind(null,u),c);return}a(c),w4(a.bind(null,u));return}HC(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function N4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){cW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cW(e,t,n){return t=BPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BPe(e){var t=UPe(e,"string");return Zp(t)==="symbol"?t:String(t)}function UPe(e,t){if(Zp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zPe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},qPe=function(t){return t},VPe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Gm=function(t,n){return Object.keys(n).reduce(function(r,a){return N4(N4({},r),{},cW({},a,t(a,n[a])))},{})},S4=function(t,n,r){return t.map(function(a){return"".concat(VPe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function WPe(e,t){return YPe(e)||GPe(e,t)||uW(e,t)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YPe(e){if(Array.isArray(e))return e}function KPe(e){return QPe(e)||XPe(e)||uW(e)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){if(e){if(typeof e=="string")return GC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(e,t)}}function XPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QPe(e){if(Array.isArray(e))return GC(e)}function GC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ib=1e-4,dW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},hW=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},C4=function(t,n){return function(r){var a=dW(t,n);return hW(a,r)}},ZPe=function(t,n){return function(r){var a=dW(t,n),i=[].concat(KPe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hW(i,r)}},k4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=WPe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=C4(a,o),f=C4(i,l),m=ZPe(a,o),p=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,_=0;_<8;++_){var N=h(w)-b,S=m(w);if(Math.abs(N-b)<Ib||S<Ib)return f(w);w=p(w-N/S)}return f(w)};return g.isStepper=!1,g},eAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*r,p=f*i,g=f+(m-p)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Ib&&Math.abs(g)<Ib?[h,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},tAe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return k4(a);case"spring":return eAe();default:if(a.split("(")[0]==="cubic-bezier")return k4(a)}return typeof a=="function"?a:null};function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function E4(e){return sAe(e)||rAe(e)||fW(e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sAe(e){if(Array.isArray(e))return KC(e)}function P4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(n),!0).forEach(function(r){YC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YC(e,t,n){return t=aAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aAe(e){var t=iAe(e,"string");return eg(t)==="symbol"?t:String(t)}function iAe(e,t){if(eg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oAe(e,t){return uAe(e)||cAe(e,t)||fW(e,t)||lAe()}function lAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fW(e,t){if(e){if(typeof e=="string")return KC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(e,t)}}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uAe(e){if(Array.isArray(e))return e}var Rb=function(t,n,r){return t+(n-t)*r},JC=function(t){var n=t.from,r=t.to;return n!==r},dAe=function e(t,n,r){var a=Gm(function(i,o){if(JC(o)){var l=t(o.from,o.to,o.velocity),c=oAe(l,2),u=c[0],d=c[1];return gr(gr({},o),{},{from:u,velocity:d})}return o},n);return r<1?Gm(function(i,o){return JC(o)?gr(gr({},o),{},{velocity:Rb(o.velocity,a[i].velocity,r),from:Rb(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const hAe=function(e,t,n,r,a){var i=zPe(e,t),o=i.reduce(function(v,x){return gr(gr({},v),{},YC({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return gr(gr({},v),{},YC({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Gm(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(JC).length},p=function(x){u||(u=x);var b=x-u,w=b/n.dt;l=dAe(n,l,w),a(gr(gr(gr({},e),t),f())),u=x,m()||(c=requestAnimationFrame(h))},g=function(x){d||(d=x);var b=(x-d)/r,w=Gm(function(N,S){return Rb.apply(void 0,E4(S).concat([n(b)]))},o);if(a(gr(gr(gr({},e),t),w)),b<1)c=requestAnimationFrame(h);else{var _=Gm(function(N,S){return Rb.apply(void 0,E4(S).concat([n(1)]))},o);a(gr(gr(gr({},e),t),_))}};return h=n.isStepper?p:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}var fAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mAe(e,t){if(e==null)return{};var n=pAe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function f1(e){return yAe(e)||xAe(e)||vAe(e)||gAe()}function gAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vAe(e,t){if(e){if(typeof e=="string")return XC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(e,t)}}function xAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yAe(e){if(Array.isArray(e))return XC(e)}function XC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(n),!0).forEach(function(r){_m(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _m(e,t,n){return t=mW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mW(r.key),r)}}function jAe(e,t,n){return t&&wAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mW(e){var t=_Ae(e,"string");return Nh(t)==="symbol"?t:String(t)}function _Ae(e,t){if(Nh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QC(e,t)}function QC(e,t){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},QC(e,t)}function SAe(e){var t=CAe();return function(){var r=$b(e),a;if(t){var i=$b(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return ZC(this,a)}}function ZC(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ek(e)}function ek(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$b(e)}var Ao=function(e){NAe(n,e);var t=SAe(n);function n(r,a){var i;bAe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ek(i)),i.changeStyle=i.changeStyle.bind(ek(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),ZC(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},ZC(i);i.state={style:c?_m({},c,u):u}}else i.state={style:{}};return i}return jAe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?_m({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(OPe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?h:a.to;if(this.state&&f){var v={style:c?_m({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(v)}this.runAnimation(Oa(Oa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=hAe(o,l,tAe(u),c,this.changeStyle),p=function(){i.stopJSAnimation=m()};this.manager.start([f,d,p,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(g,v,x){if(x===0)return g;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,S=v.properties,C=v.onAnimationEnd,k=x>0?o[x-1]:v,A=S||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(f1(g),[i.runJSAnimation.bind(i,{from:k.style,to:N,duration:b,easing:_}),b]);var T=S4(A,b,_),E=Oa(Oa(Oa({},k.style),N),{},{transition:T});return[].concat(f1(g),[E,b,C]).filter(qPe)};return this.manager.start([c].concat(f1(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=FPe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var g=l?_m({},l,c):c,v=S4(Object.keys(g),o,u);p.start([d,i,Oa(Oa({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=mAe(a,fAe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,x=p.className,b=y.cloneElement(m,Oa(Oa({},c),{},{style:Oa(Oa({},v),d),className:x}));return b};return u===1?h(y.Children.only(i)):J.createElement("div",null,y.Children.map(i,function(f){return h(f)}))}}]),n}(y.PureComponent);Ao.displayName="Animate";Ao.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ao.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};mt.object,mt.object,mt.object,mt.element;mt.object,mt.object,mt.object,mt.oneOfType([mt.array,mt.element]),mt.any;function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lb.apply(this,arguments)}function kAe(e,t){return TAe(e)||AAe(e,t)||PAe(e,t)||EAe()}function EAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(e,t){if(e){if(typeof e=="string")return T4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T4(e,t)}}function T4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function TAe(e){if(Array.isArray(e))return e}function O4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(n),!0).forEach(function(r){OAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OAe(e,t,n){return t=MAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MAe(e){var t=DAe(e,"string");return tg(t)=="symbol"?t:t+""}function DAe(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D4=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),d+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);d="M ".concat(t,",").concat(n+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(n,`
            L `).concat(t+r-c*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*p,`
            L `).concat(t+r,",").concat(n+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+r-c*p,",").concat(n+a,`
            L `).concat(t+c*p,",").concat(n+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*p," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},IAe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&a>=h&&a<=f}return!1},RAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_A=function(t){var n=M4(M4({},RAe),t),r=y.useRef(),a=y.useState(-1),i=kAe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,p=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=kt("recharts-rectangle",m);return b?J.createElement(Ao,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(_){var N=_.width,S=_.height,C=_.x,k=_.y;return J.createElement(Ao,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:p},J.createElement("path",Lb({},Ct(n,!0),{className:w,d:D4(C,k,N,S,f),ref:r})))}):J.createElement("path",Lb({},Ct(n,!0),{className:w,d:D4(c,u,d,h,f)}))};function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(this,arguments)}var NA=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=kt("recharts-dot",i);return n===+n&&r===+r&&a===+a?J.createElement("circle",tk({},Ct(t,!1),nb(t),{className:o,cx:n,cy:r,r:a})):null};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var $Ae=["x","y","top","left","width","height","className"];function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(this,arguments)}function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(n),!0).forEach(function(r){FAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FAe(e,t,n){return t=BAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BAe(e){var t=UAe(e,"string");return ng(t)=="symbol"?t:t+""}function UAe(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zAe(e,t){if(e==null)return{};var n=qAe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var VAe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},WAe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,p=t.className,g=zAe(t,$Ae),v=LAe({x:r,y:i,top:l,left:u,width:h,height:m},g);return!Me(r)||!Me(i)||!Me(h)||!Me(m)||!Me(l)||!Me(u)?null:J.createElement("path",nk({},Ct(v,!0),{className:kt("recharts-cross",p),d:VAe(r,i,h,m,l,u)}))},HAe=kq,GAe=HAe(Object.getPrototypeOf,Object),YAe=GAe,KAe=Mo,JAe=YAe,XAe=Do,QAe="[object Object]",ZAe=Function.prototype,eTe=Object.prototype,pW=ZAe.toString,tTe=eTe.hasOwnProperty,nTe=pW.call(Object);function rTe(e){if(!XAe(e)||KAe(e)!=QAe)return!1;var t=JAe(e);if(t===null)return!0;var n=tTe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&pW.call(n)==nTe}var sTe=rTe;const aTe=qt(sTe);var iTe=Mo,oTe=Do,lTe="[object Boolean]";function cTe(e){return e===!0||e===!1||oTe(e)&&iTe(e)==lTe}var uTe=cTe;const dTe=qt(uTe);function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(this,arguments)}function hTe(e,t){return gTe(e)||pTe(e,t)||mTe(e,t)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mTe(e,t){if(e){if(typeof e=="string")return R4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R4(e,t)}}function R4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gTe(e){if(Array.isArray(e))return e}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){vTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vTe(e,t,n){return t=xTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xTe(e){var t=yTe(e,"string");return rg(t)=="symbol"?t:t+""}function yTe(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F4=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},bTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wTe=function(t){var n=L4(L4({},bTe),t),r=y.useRef(),a=y.useState(-1),i=hTe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,p=n.animationEasing,g=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=kt("recharts-trapezoid",m);return x?J.createElement(Ao,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:x},function(w){var _=w.upperWidth,N=w.lowerWidth,S=w.height,C=w.x,k=w.y;return J.createElement(Ao,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},J.createElement("path",Fb({},Ct(n,!0),{className:b,d:F4(C,k,_,N,S),ref:r})))}):J.createElement("g",null,J.createElement("path",Fb({},Ct(n,!0),{className:b,d:F4(c,u,d,h,f)})))},jTe=["option","shapeType","propTransformer","activeClassName","isActive"];function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function _Te(e,t){if(e==null)return{};var n=NTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function NTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(r){STe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function STe(e,t,n){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CTe(e){var t=kTe(e,"string");return sg(t)=="symbol"?t:t+""}function kTe(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e,t){return Bb(Bb({},t),e)}function PTe(e,t){return e==="symbols"}function U4(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return J.createElement(_A,n);case"trapezoid":return J.createElement(wTe,n);case"sector":return J.createElement(rW,n);case"symbols":if(PTe(t))return J.createElement(zP,n);break;default:return null}}function ATe(e){return y.isValidElement(e)?e.props:e}function TTe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?ETe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=_Te(e,jTe),u;if(y.isValidElement(t))u=y.cloneElement(t,Bb(Bb({},c),ATe(t)));else if(vt(t))u=t(c);else if(aTe(t)&&!dTe(t)){var d=a(t,c);u=J.createElement(U4,{shapeType:n,elementProps:d})}else{var h=c;u=J.createElement(U4,{shapeType:n,elementProps:h})}return l?J.createElement(Mn,{className:o},u):u}function Jw(e,t){return t!=null&&"trapezoids"in e.props}function Xw(e,t){return t!=null&&"sectors"in e.props}function ag(e,t){return t!=null&&"points"in e.props}function OTe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function MTe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function DTe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function ITe(e,t){var n;return Jw(e,t)?n=OTe:Xw(e,t)?n=MTe:ag(e,t)&&(n=DTe),n}function RTe(e,t){var n;return Jw(e,t)?n="trapezoids":Xw(e,t)?n="sectors":ag(e,t)&&(n="points"),n}function $Te(e,t){if(Jw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ag(e,t)?t.payload:{}}function LTe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=RTe(n,t),i=$Te(n,t),o=r.filter(function(c,u){var d=Gw(i,c),h=n.props[a].filter(function(p){var g=ITe(n,t);return g(p,t)}),f=n.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var FTe=Math.ceil,BTe=Math.max;function UTe(e,t,n,r){for(var a=-1,i=BTe(FTe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var zTe=UTe,qTe=Hq,z4=1/0,VTe=17976931348623157e292;function WTe(e){if(!e)return e===0?e:0;if(e=qTe(e),e===z4||e===-z4){var t=e<0?-1:1;return t*VTe}return e===e?e:0}var gW=WTe,HTe=zTe,GTe=Lw,m1=gW;function YTe(e){return function(t,n,r){return r&&typeof r!="number"&&GTe(t,n,r)&&(n=r=void 0),t=m1(t),n===void 0?(n=t,t=0):n=m1(n),r=r===void 0?t<n?1:-1:m1(r),HTe(t,n,r,e)}}var KTe=YTe,JTe=KTe,XTe=JTe(),QTe=XTe;const Ub=qt(QTe);function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(n),!0).forEach(function(r){vW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vW(e,t,n){return t=ZTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZTe(e){var t=eOe(e,"string");return ig(t)=="symbol"?t:t+""}function eOe(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tOe=["Webkit","Moz","O","ms"],nOe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=tOe.reduce(function(i,o){return V4(V4({},i),{},vW({},o+r,n))},{});return a[t]=n,a};function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zb.apply(this,arguments)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function p1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(r){Ms(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yW(r.key),r)}}function sOe(e,t,n){return t&&H4(e.prototype,t),n&&H4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aOe(e,t,n){return t=qb(t),iOe(e,xW()?Reflect.construct(t,n||[],qb(e).constructor):t.apply(e,n))}function iOe(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOe(e)}function oOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xW=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qb(e)}function lOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rk(e,t)}function Ms(e,t,n){return t=yW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=cOe(e,"string");return Sh(t)=="symbol"?t:t+""}function cOe(e,t){if(Sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uOe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Wm().domain(Ub(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},G4=function(t){return t.changedTouches&&!!t.changedTouches.length},Ch=function(e){function t(n){var r;return rOe(this,t),r=aOe(this,t,[n]),Ms(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Ms(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Ms(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Ms(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ms(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ms(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ms(r,"handleSlideDragStart",function(a){var i=G4(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lOe(t,e),sOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),p=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ys(i[r],l,r);return vt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,p=c.onChange,g=r.pageX-i;g>0?g=Math.min(g,u+d-h-l,u+d-h-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==f||v.endIndex!==m)&&p&&p(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=G4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,h+f-m-u):b<0&&(b=Math.max(b,h-u)),x[o]=u+b;var w=this.getIndex(x),_=w.startIndex,N=w.endIndex,S=function(){var k=v.length-1;return o==="startX"&&(l>c?_%g===0:N%g===0)||l<c&&N===k||o==="endX"&&(l>c?N%g===0:_%g===0)||l>c&&N===k};this.setState(Ms(Ms({},o,u+b),"brushMoveStartX",r.pageX),function(){p&&S()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ms({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return J.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=y.Children.only(u);return h?J.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,x=Math.max(r,this.props.x),b=p1(p1({},Ct(this.props,!1)),{},{x,y:u,width:d,height:h}),w=m||"Min value: ".concat((i=p[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return J.createElement(Mn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,h=Math.max(Math.abs(a-r)-u,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,p={pointerEvents:"none",fill:u};return J.createElement(Mn,{className:"recharts-brush-texts"},J.createElement(xb,zb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},p),this.getTextOfTick(a)),J.createElement(xb,zb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,p=f.endX,g=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,b=f.isTravellerFocused;if(!a||!a.length||!Me(l)||!Me(c)||!Me(u)||!Me(d)||u<=0||d<=0)return null;var w=kt("recharts-brush",i),_=J.Children.count(o)===1,N=nOe("userSelect","none");return J.createElement(Mn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||x||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),J.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return J.isValidElement(r)?i=J.cloneElement(r,a):vt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return p1({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?uOe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(y.PureComponent);Ms(Ch,"displayName","Brush");Ms(Ch,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dOe=KP;function hOe(e,t){var n;return dOe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var fOe=hOe,mOe=yq,pOe=Zl,gOe=fOe,vOe=ks,xOe=Lw;function yOe(e,t,n){var r=vOe(e)?mOe:gOe;return n&&xOe(e,t,n)&&(t=void 0),r(e,pOe(t))}var bOe=yOe;const wOe=qt(bOe);var $i=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},Y4=Uq;function jOe(e,t,n){t=="__proto__"&&Y4?Y4(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _Oe=jOe,NOe=_Oe,SOe=Fq,COe=Zl;function kOe(e,t){var n={};return t=COe(t),SOe(e,function(r,a,i){NOe(n,a,t(r,a,i))}),n}var EOe=kOe;const POe=qt(EOe);function AOe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var TOe=AOe,OOe=KP;function MOe(e,t){var n=!0;return OOe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var DOe=MOe,IOe=TOe,ROe=DOe,$Oe=Zl,LOe=ks,FOe=Lw;function BOe(e,t,n){var r=LOe(e)?IOe:ROe;return n&&FOe(e,t,n)&&(t=void 0),r(e,$Oe(t))}var UOe=BOe;const bW=qt(UOe);var zOe=["x","y"];function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sk.apply(this,arguments)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(r){qOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qOe(e,t,n){return t=VOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VOe(e){var t=WOe(e,"string");return og(t)=="symbol"?t:t+""}function WOe(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HOe(e,t){if(e==null)return{};var n=GOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YOe(e,t){var n=e.x,r=e.y,a=HOe(e,zOe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return cm(cm(cm(cm(cm({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function J4(e){return J.createElement(TTe,sk({shapeType:"rectangle",propTransformer:YOe,activeClassName:"recharts-active-bar"},e))}var KOe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,a):(i||cu(),n)}},JOe=["value","background"],wW;function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function XOe(e,t){if(e==null)return{};var n=QOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(this,arguments)}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(r){bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_W(r.key),r)}}function eMe(e,t,n){return t&&Q4(e.prototype,t),n&&Q4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tMe(e,t,n){return t=Wb(t),nMe(e,jW()?Reflect.construct(t,n||[],Wb(e).constructor):t.apply(e,n))}function nMe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rMe(e)}function rMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jW=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wb(e)}function sMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ak(e,t)}function bl(e,t,n){return t=_W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=aMe(e,"string");return kh(t)=="symbol"?t:t+""}function aMe(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zl=function(e){function t(){var n;ZOe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=tMe(this,t,[].concat(a)),bl(n,"state",{isAnimationFinished:!1}),bl(n,"id",ev("recharts-bar-")),bl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),bl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return sMe(t,e),eMe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ct(this.props,!1);return r&&r.map(function(h,f){var m=f===c,p=m?u:o,g=Rn(Rn(Rn({},d),h),{},{isActive:m,option:p,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return J.createElement(Mn,Vb({className:"recharts-bar-rectangle"},rb(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),J.createElement(J4,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return J.createElement(Ao,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=i.map(function(v,x){var b=f&&f[x];if(b){var w=Ha(b.x,v.x),_=Ha(b.y,v.y),N=Ha(b.width,v.width),S=Ha(b.height,v.height);return Rn(Rn({},v),{},{x:w(p),y:_(p),width:N(p),height:S(p)})}if(o==="horizontal"){var C=Ha(0,v.height),k=C(p);return Rn(Rn({},v),{},{y:v.y+v.height-k,height:k})}var A=Ha(0,v.width),T=A(p);return Rn(Rn({},v),{},{width:T})});return J.createElement(Mn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Gw(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ct(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=XOe(u,JOe);if(!h)return null;var m=Rn(Rn(Rn(Rn(Rn({},f),{},{fill:"#eee"},h),c),rb(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return J.createElement(J4,Vb({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=va(d,iv);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Ys(v,x)}},p={clipPath:r?"url(#clipPath-".concat(a,")"):null};return J.createElement(Mn,p,h.map(function(g){return J.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,p=r.background,g=r.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=kt("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,N=wt(g)?this.id:g;return J.createElement(Mn,{className:x},b||w?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(N)},J.createElement("rect",{x:b?u:u-h/2,y:w?d:d-f/2,width:b?h:h*2,height:w?f:f*2}))):null,J.createElement(Mn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!m||v)&&Tl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(y.PureComponent);wW=zl;bl(zl,"displayName","Bar");bl(zl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bl(zl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=WEe(r,n);if(!m)return null;var p=t.layout,g=n.type.defaultProps,v=g!==void 0?Rn(Rn({},g),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,_=p==="horizontal"?o:i,N=u?_.scale.domain():null,S=ZEe({numericAxis:_}),C=va(b,Yq),k=h.map(function(A,T){var E,B,U,$,F,M;u?E=HEe(u[d+T],N):(E=Ys(A,x),Array.isArray(E)||(E=[S,E]));var R=KOe(w,wW.defaultProps.minPointSize)(E[1],T);if(p==="horizontal"){var D,L=[o.scale(E[0]),o.scale(E[1])],I=L[0],z=L[1];B=XR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:A,index:T}),U=(D=z??I)!==null&&D!==void 0?D:void 0,$=m.size;var H=I-z;if(F=Number.isNaN(H)?0:H,M={x:B,y:o.y,width:$,height:o.height},Math.abs(R)>0&&Math.abs(F)<Math.abs(R)){var j=Ya(F||R)*(Math.abs(R)-Math.abs(F));U-=j,F+=j}}else{var P=[i.scale(E[0]),i.scale(E[1])],O=P[0],V=P[1];if(B=O,U=XR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:A,index:T}),$=V-O,F=m.size,M={x:i.x,y:U,width:i.width,height:F},Math.abs(R)>0&&Math.abs($)<Math.abs(R)){var W=Ya($||R)*(Math.abs(R)-Math.abs($));$+=W}}return Rn(Rn(Rn({},A),{},{x:B,y:U,width:$,height:F,value:u?E:E[1],payload:A,background:M},C&&C[T]&&C[T].props),{},{tooltipPayload:[eW(n,A)],tooltipPosition:{x:B+$/2,y:U+F/2}})});return Rn({data:k,layout:p},f)});function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function iMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NW(r.key),r)}}function oMe(e,t,n){return t&&Z4(e.prototype,t),n&&Z4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){Qw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qw(e,t,n){return t=NW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=lMe(e,"string");return lg(t)=="symbol"?t:t+""}function lMe(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SW=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!$s(u,zl);return d.reduce(function(m,p){var g=n[p],v=g.orientation,x=g.domain,b=g.padding,w=b===void 0?{}:b,_=g.mirror,N=g.reversed,S="".concat(v).concat(_?"Mirror":""),C,k,A,T,E;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var B=x[1]-x[0],U=1/0,$=g.categoricalDomain.sort();if($.forEach(function(P,O){O>0&&(U=Math.min((P||0)-($[O-1]||0),U))}),Number.isFinite(U)){var F=U/B,M=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(C=F*M/2),g.padding==="no-gap"){var R=ou(t.barCategoryGap,F*M),D=F*M/2;C=D-R-(D-R)/M*R}}}a==="xAxis"?k=[r.left+(w.left||0)+(C||0),r.left+r.width-(w.right||0)-(C||0)]:a==="yAxis"?k=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(C||0),r.top+r.height-(w.bottom||0)-(C||0)]:k=g.range,N&&(k=[k[1],k[0]]);var L=qEe(g,i,f),I=L.scale,z=L.realScaleType;I.domain(x).range(k),VEe(I);var H=QEe(I,za(za({},g),{},{realScaleType:z}));a==="xAxis"?(E=v==="top"&&!_||v==="bottom"&&_,A=r.left,T=h[S]-E*g.height):a==="yAxis"&&(E=v==="left"&&!_||v==="right"&&_,A=h[S]-E*g.width,T=r.top);var j=za(za(za({},g),H),{},{realScaleType:z,x:A,y:T,scale:I,width:a==="xAxis"?r.width:g.width,height:a==="yAxis"?r.height:g.height});return j.bandSize=Ob(j,H),!g.hide&&a==="xAxis"?h[S]+=(E?-1:1)*j.height:g.hide||(h[S]+=(E?-1:1)*j.width),za(za({},m),{},Qw({},p,j))},{})},CW=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},cMe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return CW({x:n,y:r},{x:a,y:i})},kW=function(){function e(t){iMe(this,e),this.scale=t}return oMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Qw(kW,"EPS",1e-4);var SA=function(t){var n=Object.keys(t).reduce(function(r,a){return za(za({},r),{},Qw({},a,kW.create(t[a])))},{});return za(za({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return POe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return bW(a,function(i,o){return n[o].isInRange(i)})}})};function uMe(e){return(e%180+180)%180}var dMe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uMe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},hMe=Zl,fMe=tv,mMe=Rw;function pMe(e){return function(t,n,r){var a=Object(t);if(!fMe(t)){var i=hMe(n);t=mMe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var gMe=pMe,vMe=gW;function xMe(e){var t=vMe(e),n=t%1;return t===t?n?t-n:t:0}var yMe=xMe,bMe=Mq,wMe=Zl,jMe=yMe,_Me=Math.max;function NMe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:jMe(n);return a<0&&(a=_Me(r+a,0)),bMe(e,wMe(t),a)}var SMe=NMe,CMe=gMe,kMe=SMe,EMe=CMe(kMe),PMe=EMe;const AMe=qt(PMe);var TMe=Pme(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),CA=y.createContext(void 0),kA=y.createContext(void 0),EW=y.createContext(void 0),PW=y.createContext({}),AW=y.createContext(void 0),TW=y.createContext(0),OW=y.createContext(0),t$=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=TMe(i);return J.createElement(CA.Provider,{value:r},J.createElement(kA.Provider,{value:a},J.createElement(PW.Provider,{value:i},J.createElement(EW.Provider,{value:d},J.createElement(AW.Provider,{value:o},J.createElement(TW.Provider,{value:u},J.createElement(OW.Provider,{value:c},l)))))))},OMe=function(){return y.useContext(AW)},MW=function(t){var n=y.useContext(CA);n==null&&cu();var r=n[t];return r==null&&cu(),r},MMe=function(){var t=y.useContext(CA);return ll(t)},DMe=function(){var t=y.useContext(kA),n=AMe(t,function(r){return bW(r.domain,Number.isFinite)});return n||ll(t)},DW=function(t){var n=y.useContext(kA);n==null&&cu();var r=n[t];return r==null&&cu(),r},IMe=function(){var t=y.useContext(EW);return t},RMe=function(){return y.useContext(PW)},EA=function(){return y.useContext(OW)},PA=function(){return y.useContext(TW)};function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function $Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RW(r.key),r)}}function FMe(e,t,n){return t&&LMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BMe(e,t,n){return t=Hb(t),UMe(e,IW()?Reflect.construct(t,n||[],Hb(e).constructor):t.apply(e,n))}function UMe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zMe(e)}function zMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(e)}function qMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}function ik(e,t){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ik(e,t)}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function r$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){AA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AA(e,t,n){return t=RW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=VMe(e,"string");return Eh(t)=="symbol"?t:t+""}function VMe(e,t){if(Eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WMe(e,t){return KMe(e)||YMe(e,t)||GMe(e,t)||HMe()}function HMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMe(e,t){if(e){if(typeof e=="string")return s$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s$(e,t)}}function s$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KMe(e){if(Array.isArray(e))return e}function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok.apply(this,arguments)}var JMe=function(t,n){var r;return J.isValidElement(t)?r=J.cloneElement(t,n):vt(t)?r=t(n):r=J.createElement("line",ok({},n,{className:"recharts-reference-line-line"})),r},XMe=function(t,n,r,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(r){var p=u.y,g=t.y.apply(p,{position:o});if($i(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+f,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(n){var x=u.x,b=t.x.apply(x,{position:o});if($i(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:h+m},{x:b,y:h}];return l==="top"?w.reverse():w}if(a){var _=u.segment,N=_.map(function(S){return t.apply(S,{position:o})});return $i(u,"discard")&&wOe(N,function(S){return!t.isInRange(S)})?null:N}return null};function QMe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=OMe(),d=MW(a),h=DW(i),f=IMe();if(!u||!f)return null;vo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=SA({x:d.scale,y:h.scale}),p=Hn(t),g=Hn(n),v=r&&r.length===2,x=XMe(m,p,g,v,f,e.position,d.orientation,h.orientation,e);if(!x)return null;var b=WMe(x,2),w=b[0],_=w.x,N=w.y,S=b[1],C=S.x,k=S.y,A=$i(e,"hidden")?"url(#".concat(u,")"):void 0,T=r$(r$({clipPath:A},Ct(e,!0)),{},{x1:_,y1:N,x2:C,y2:k});return J.createElement(Mn,{className:kt("recharts-reference-line",l)},JMe(o,T),Or.renderCallByParent(e,cMe({x1:_,y1:N,x2:C,y2:k})))}var TA=function(e){function t(){return $Me(this,t),BMe(this,t,arguments)}return qMe(t,e),FMe(t,[{key:"render",value:function(){return J.createElement(QMe,this.props)}}])}(J.Component);AA(TA,"displayName","ReferenceLine");AA(TA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(this,arguments)}function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function a$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(n),!0).forEach(function(r){Zw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LW(r.key),r)}}function tDe(e,t,n){return t&&eDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nDe(e,t,n){return t=Gb(t),rDe(e,$W()?Reflect.construct(t,n||[],Gb(e).constructor):t.apply(e,n))}function rDe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sDe(e)}function sDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(e)}function aDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ck(e,t)}function Zw(e,t,n){return t=LW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=iDe(e,"string");return Ph(t)=="symbol"?t:t+""}function iDe(e,t){if(Ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oDe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=SA({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return $i(t,"discard")&&!o.isInRange(l)?null:l},ej=function(e){function t(){return ZMe(this,t),nDe(this,t,arguments)}return aDe(t,e),tDe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Hn(a),d=Hn(i);if(vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=oDe(this.props);if(!h)return null;var f=h.x,m=h.y,p=this.props,g=p.shape,v=p.className,x=$i(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=i$(i$({clipPath:x},Ct(this.props,!0)),{},{cx:f,cy:m});return J.createElement(Mn,{className:kt("recharts-reference-dot",v)},t.renderDot(g,b),Or.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(J.Component);Zw(ej,"displayName","ReferenceDot");Zw(ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zw(ej,"renderDot",function(e,t){var n;return J.isValidElement(e)?n=J.cloneElement(e,t):vt(e)?n=e(t):n=J.createElement(NA,lk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(this,arguments)}function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){tj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BW(r.key),r)}}function uDe(e,t,n){return t&&cDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dDe(e,t,n){return t=Yb(t),hDe(e,FW()?Reflect.construct(t,n||[],Yb(e).constructor):t.apply(e,n))}function hDe(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fDe(e)}function fDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function mDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dk(e,t)}function tj(e,t,n){return t=BW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=pDe(e,"string");return Ah(t)=="symbol"?t:t+""}function pDe(e,t){if(Ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gDe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=SA({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return $i(i,"discard")&&(!f.isInRange(m)||!f.isInRange(p))?null:CW(m,p)},nj=function(e){function t(){return lDe(this,t),dDe(this,t,arguments)}return mDe(t,e),uDe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;vo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Hn(a),f=Hn(i),m=Hn(o),p=Hn(l),g=this.props.shape;if(!h&&!f&&!m&&!p&&!g)return null;var v=gDe(h,f,m,p,this.props);if(!v&&!g)return null;var x=$i(this.props,"hidden")?"url(#".concat(d,")"):void 0;return J.createElement(Mn,{className:kt("recharts-reference-area",c)},t.renderRect(g,l$(l$({clipPath:x},Ct(this.props,!0)),v)),Or.renderCallByParent(this.props,v))}}])}(J.Component);tj(nj,"displayName","ReferenceArea");tj(nj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tj(nj,"renderRect",function(e,t){var n;return J.isValidElement(e)?n=J.cloneElement(e,t):vt(e)?n=e(t):n=J.createElement(_A,uk({},t,{className:"recharts-reference-area-rect"})),n});function UW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function vDe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dMe(r,n)}function xDe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Kb(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function yDe(e,t){return UW(e,t+1)}function bDe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:UW(r,u)};var g=c,v,x=function(){return v===void 0&&(v=n(p,g)),v},b=p.coordinate,w=c===0||Kb(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(n),!0).forEach(function(r){wDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wDe(e,t,n){return t=jDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jDe(e){var t=_De(e,"string");return cg(t)=="symbol"?t:t+""}function _De(e,t){if(cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NDe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],p,g=function(){return p===void 0&&(p=n(m,f)),p};if(f===o-1){var v=e*(m.coordinate+e*g()/2-c);i[f]=m=Pr(Pr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[f]=m=Pr(Pr({},m),{},{tickCoord:m.coordinate});var x=Kb(e,m.tickCoord,g,l,c);x&&(c=m.tickCoord-e*(g()/2+a),i[f]=Pr(Pr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function SDe(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=Pr(Pr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=Kb(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=Pr(Pr({},d),{},{isShow:!0}))}for(var p=i?l-1:l,g=function(b){var w=o[b],_,N=function(){return _===void 0&&(_=n(w,b)),_};if(b===0){var S=e*(w.coordinate-e*N()/2-c);o[b]=w=Pr(Pr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[b]=w=Pr(Pr({},w),{},{tickCoord:w.coordinate});var C=Kb(e,w.tickCoord,N,c,u);C&&(c=w.tickCoord+e*(N()/2+a),o[b]=Pr(Pr({},w),{},{isShow:!0}))},v=0;v<p;v++)g(v);return o}function OA(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(Me(c)||xo.isSsr)return yDe(a,typeof c=="number"&&Me(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?Vm(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(w,_){var N=vt(u)?u(w.value,_):w.value;return m==="width"?vDe(Vm(N,{fontSize:t,letterSpacing:n}),p,h):Vm(N,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?Ya(a[1].coordinate-a[0].coordinate):1,x=xDe(i,v,m);return c==="equidistantPreserveStart"?bDe(v,x,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=SDe(v,x,g,a,o,c==="preserveStartEnd"):f=NDe(v,x,g,a,o),f.filter(function(b){return b.isShow}))}var CDe=["viewBox"],kDe=["viewBox"],EDe=["ticks"];function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function u$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(n),!0).forEach(function(r){MA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g1(e,t){if(e==null)return{};var n=PDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ADe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qW(r.key),r)}}function TDe(e,t,n){return t&&d$(e.prototype,t),n&&d$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ODe(e,t,n){return t=Jb(t),MDe(e,zW()?Reflect.construct(t,n||[],Jb(e).constructor):t.apply(e,n))}function MDe(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DDe(e)}function DDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(e)}function IDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hk(e,t)}function MA(e,t,n){return t=qW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=RDe(e,"string");return Th(t)=="symbol"?t:t+""}function RDe(e,t){if(Th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=function(e){function t(n){var r;return ADe(this,t),r=ODe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return IDe(t,e),TDe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=g1(r,CDe),l=this.props,c=l.viewBox,u=g1(l,kDe);return!Pd(i,c)||!Pd(o,u)||!Pd(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,p,g,v,x,b,w=h?-1:1,_=r.tickSize||d,N=Me(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=p=r.coordinate,v=o+ +!h*c,g=v-w*_,b=g-w*f,x=N;break;case"left":g=v=r.coordinate,p=i+ +!h*l,m=p-w*_,x=m-w*f,b=N;break;case"right":g=v=r.coordinate,p=i+ +h*l,m=p+w*_,x=m+w*f,b=N;break;default:m=p=r.coordinate,v=o+ +h*c,g=v+w*_,b=g+w*f,x=N;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Vr(Vr(Vr({},Ct(this.props,!1)),Ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Vr(Vr({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Vr(Vr({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return J.createElement("line",md({},h,{className:kt("recharts-cartesian-axis-line",ga(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=OA(Vr(Vr({},this.props),{},{ticks:r}),a,i),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ct(this.props,!1),x=Ct(d,!1),b=Vr(Vr({},v),{},{fill:"none"},Ct(c,!1)),w=m.map(function(_,N){var S=o.getTickLineCoord(_),C=S.line,k=S.tick,A=Vr(Vr(Vr(Vr({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),k),{},{index:N,payload:_,visibleTicksCount:m.length,tickFormatter:h});return J.createElement(Mn,md({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},rb(o.props,_,N)),c&&J.createElement("line",md({},b,C,{className:kt("recharts-cartesian-axis-tick-line",ga(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(vt(h)?h(_.value,N):_.value).concat(f||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=g1(h,EDe),p=f;return vt(c)&&(p=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:J.createElement(Mn,{className:kt("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return J.isValidElement(r)?o=J.cloneElement(r,a):vt(r)?o=r(a):o=J.createElement(xb,md({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);MA(jf,"displayName","CartesianAxis");MA(jf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $De=["x1","y1","x2","y2","key"],LDe=["offset"];function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function h$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(n),!0).forEach(function(r){FDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FDe(e,t,n){return t=BDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BDe(e){var t=UDe(e,"string");return uu(t)=="symbol"?t:t+""}function UDe(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oc.apply(this,arguments)}function f$(e,t){if(e==null)return{};var n=zDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qDe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return J.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VW(e,t){var n;if(J.isValidElement(e))n=J.cloneElement(e,t);else if(vt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=f$(t,$De),u=Ct(c,!1);u.offset;var d=f$(u,LDe);n=J.createElement("line",Oc({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function VDe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Mr(Mr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return VW(a,u)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function WDe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Mr(Mr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return VW(a,u)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function HDe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var p=!d[m+1],g=p?a+o-f:d[m+1]-f;if(g<=0)return null;var v=m%t.length;return J.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function GDe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var p=!d[m+1],g=p?i+l-f:d[m+1]-f;if(g<=0)return null;var v=m%r.length;return J.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:g,height:c,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var YDe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return QV(OA(Mr(Mr(Mr({},jf.defaultProps),r),{},{ticks:uo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},KDe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return QV(OA(Mr(Mr(Mr({},jf.defaultProps),r),{},{ticks:uo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Yu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function WW(e){var t,n,r,a,i,o,l=EA(),c=PA(),u=RMe(),d=Mr(Mr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Yu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Yu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Yu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Yu.verticalFill,x:Me(e.x)?e.x:u.left,y:Me(e.y)?e.y:u.top,width:Me(e.width)?e.width:u.width,height:Me(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=MMe(),w=DMe();if(!Me(m)||m<=0||!Me(p)||p<=0||!Me(h)||h!==+h||!Me(f)||f!==+f)return null;var _=d.verticalCoordinatesGenerator||YDe,N=d.horizontalCoordinatesGenerator||KDe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&vt(N)){var k=v&&v.length,A=N({yAxis:w?Mr(Mr({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);vo(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uu(A),"]")),Array.isArray(A)&&(S=A)}if((!C||!C.length)&&vt(_)){var T=x&&x.length,E=_({xAxis:b?Mr(Mr({},b),{},{ticks:T?x:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:g);vo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uu(E),"]")),Array.isArray(E)&&(C=E)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(qDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),J.createElement(VDe,Oc({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),J.createElement(WDe,Oc({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:w})),J.createElement(HDe,Oc({},d,{horizontalPoints:S})),J.createElement(GDe,Oc({},d,{verticalPoints:C})))}WW.displayName="CartesianGrid";var JDe=["type","layout","connectNulls","ref"],XDe=["key"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function m$(e,t){if(e==null)return{};var n=QDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ym.apply(this,arguments)}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(n),!0).forEach(function(r){qa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ku(e){return nIe(e)||tIe(e)||eIe(e)||ZDe()}function ZDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eIe(e,t){if(e){if(typeof e=="string")return fk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(e,t)}}function tIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nIe(e){if(Array.isArray(e))return fk(e)}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GW(r.key),r)}}function sIe(e,t,n){return t&&g$(e.prototype,t),n&&g$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aIe(e,t,n){return t=Xb(t),iIe(e,HW()?Reflect.construct(t,n||[],Xb(e).constructor):t.apply(e,n))}function iIe(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oIe(e)}function oIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xb(e)}function lIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mk(e,t)}function qa(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=cIe(e,"string");return Oh(t)=="symbol"?t:t+""}function cIe(e,t){if(Oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f=function(e){function t(){var n;rIe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=aIe(this,t,[].concat(a)),qa(n,"state",{isAnimationFinished:!0,totalLength:0}),qa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),qa(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>h){m=[].concat(Ku(c.slice(0,p)),[h-g]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(Ku(t.repeat(c,d)),Ku(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),qa(n,"id",ev("recharts-line-")),qa(n,"pathRef",function(o){n.mainCurve=o}),qa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),qa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return lIe(t,e),sIe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=va(d,iv);if(!h)return null;var f=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Ys(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return J.createElement(Mn,m,h.map(function(p){return J.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Ct(this.props,!1),f=Ct(c,!0),m=u.map(function(g,v){var x=Ts(Ts(Ts({key:"dot-".concat(v),r:3},h),f),{},{value:g.value,dataKey:d,cx:g.x,cy:g.y,index:v,payload:g.payload});return t.renderDotItem(c,x)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return J.createElement(Mn,Ym({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=m$(l,JDe),f=Ts(Ts(Ts({},Ct(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return J.createElement(WC,Ym({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,p=o.animateNewValues,g=o.width,v=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return J.createElement(Ao,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(b){var S=b.length/l.length,C=l.map(function(B,U){var $=Math.floor(U*S);if(b[$]){var F=b[$],M=Ha(F.x,B.x),R=Ha(F.y,B.y);return Ts(Ts({},B),{},{x:M(N),y:R(N)})}if(p){var D=Ha(g*2,B.x),L=Ha(v/2,B.y);return Ts(Ts({},B),{},{x:D(N),y:L(N)})}return Ts(Ts({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(C,r,a)}var k=Ha(0,w),A=k(N),T;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});T=i.getStrokeDasharray(A,w,E)}else T=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,r,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Gw(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=kt("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=_||N,C=wt(v)?this.id:v,k=(r=Ct(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=k.r,T=A===void 0?3:A,E=k.strokeWidth,B=E===void 0?2:E,U=Dpe(o)?o:{},$=U.clipDot,F=$===void 0?!0:$,M=T*2+B;return J.createElement(Mn,{className:w},_||N?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(C)},J.createElement("rect",{x:_?f:f-m/2,y:N?h:h-p/2,width:_?m:m*2,height:N?p:p*2})),!F&&J.createElement("clipPath",{id:"clipPath-dots-".concat(C)},J.createElement("rect",{x:f-M/2,y:h-M/2,width:m+M,height:p+M}))):null,!b&&this.renderCurve(S,C),this.renderErrorBar(S,C),(b||o)&&this.renderDots(S,F,C),(!g||x)&&Tl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Ku(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(Ku(o),Ku(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(J.isValidElement(r))i=J.cloneElement(r,a);else if(vt(r))i=r(a);else{var o=a.key,l=m$(a,XDe),c=kt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=J.createElement(NA,Ym({key:o},l,{className:c}))}return i}}])}(y.PureComponent);qa(_f,"displayName","Line");qa(_f,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qa(_f,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var p=Ys(f,o);return d==="horizontal"?{x:JR({axis:n,ticks:a,bandSize:l,entry:f,index:m}),y:wt(p)?null:r.scale(p),value:p,payload:f}:{x:wt(p)?null:n.scale(p),y:JR({axis:r,ticks:i,bandSize:l,entry:f,index:m}),value:p,payload:f}});return Ts({points:h,layout:d},u)});function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function uIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JW(r.key),r)}}function hIe(e,t,n){return t&&dIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fIe(e,t,n){return t=Qb(t),mIe(e,YW()?Reflect.construct(t,n||[],Qb(e).constructor):t.apply(e,n))}function mIe(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pIe(e)}function pIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(e)}function gIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pk(e,t)}function KW(e,t,n){return t=JW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=vIe(e,"string");return Mh(t)=="symbol"?t:t+""}function vIe(e,t){if(Mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gk.apply(this,arguments)}function xIe(e){var t=e.xAxisId,n=EA(),r=PA(),a=MW(t);return a==null?null:J.createElement(jf,gk({},a,{className:kt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return uo(o,!0)}}))}var du=function(e){function t(){return uIe(this,t),fIe(this,t,arguments)}return gIe(t,e),hIe(t,[{key:"render",value:function(){return J.createElement(xIe,this.props)}}])}(J.Component);KW(du,"displayName","XAxis");KW(du,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function yIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZW(r.key),r)}}function wIe(e,t,n){return t&&bIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jIe(e,t,n){return t=Zb(t),_Ie(e,XW()?Reflect.construct(t,n||[],Zb(e).constructor):t.apply(e,n))}function _Ie(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NIe(e)}function NIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(e)}function SIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vk(e,t)}function vk(e,t){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vk(e,t)}function QW(e,t,n){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=CIe(e,"string");return Dh(t)=="symbol"?t:t+""}function CIe(e,t){if(Dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xk.apply(this,arguments)}var kIe=function(t){var n=t.yAxisId,r=EA(),a=PA(),i=DW(n);return i==null?null:J.createElement(jf,xk({},i,{className:kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return uo(l,!0)}}))},hu=function(e){function t(){return yIe(this,t),jIe(this,t,arguments)}return SIe(t,e),wIe(t,[{key:"render",value:function(){return J.createElement(kIe,this.props)}}])}(J.Component);QW(hu,"displayName","YAxis");QW(hu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function v$(e){return TIe(e)||AIe(e)||PIe(e)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PIe(e,t){if(e){if(typeof e=="string")return yk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(e,t)}}function AIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TIe(e){if(Array.isArray(e))return yk(e)}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bk=function(t,n,r,a,i){var o=va(t,TA),l=va(t,ej),c=[].concat(v$(o),v$(l)),u=va(t,nj),d="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(g,v){if(v.props[d]===r&&$i(v.props,"extendDomain")&&Me(v.props[h])){var x=v.props[h];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},f)),u.length){var m="".concat(h,"1"),p="".concat(h,"2");f=u.reduce(function(g,v){if(v.props[d]===r&&$i(v.props,"extendDomain")&&Me(v.props[m])&&Me(v.props[p])){var x=v.props[m],b=v.props[p];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},f)}return i&&i.length&&(f=i.reduce(function(g,v){return Me(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},f)),f},e9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,p=new Array(m);f<m;f++)p[f]=h[f].fn;return p},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,p){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,h);break;case 4:v[w].fn.call(v[w].context,d,h,f);break;default:if(!b)for(N=1,b=new Array(x-1);N<x;N++)b[N-1]=arguments[N];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!f||p.once)&&(!h||p.context===h)&&o(this,m);else{for(var g=0,v=[],x=p.length;g<x;g++)(p[g].fn!==d||f&&!p[g].once||h&&p[g].context!==h)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(e9);var OIe=e9.exports;const MIe=qt(OIe);var v1=new MIe,x1="recharts.syncMouseEvents";function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function DIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t9(r.key),r)}}function RIe(e,t,n){return t&&IIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y1(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=$Ie(e,"string");return ug(t)=="symbol"?t:t+""}function $Ie(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LIe=function(){function e(){DIe(this,e),y1(this,"activeIndex",0),y1(this,"coordinateList",[]),y1(this,"layout","horizontal")}return RIe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function FIe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Me(r)&&Me(a))return!0}return!1}function BIe(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function n9(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=yr(t,n,r,a),l=yr(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function UIe(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=yr(l,c,u,h),m=yr(l,c,d,h);r=f.x,a=f.y,i=m.x,o=m.y}else return n9(t);return[{x:r,y:a},{x:i,y:o}]}function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function x$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(n),!0).forEach(function(r){zIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zIe(e,t,n){return t=qIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qIe(e){var t=VIe(e,"string");return dg(t)=="symbol"?t:t+""}function VIe(e,t){if(dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WIe(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var p,g=WC;if(f==="ScatterChart")p=o,g=WAe;else if(f==="BarChart")p=BIe(h,o,c,d),g=_A;else if(h==="radial"){var v=n9(o),x=v.cx,b=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;p={cx:x,cy:b,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},g=rW}else p={points:UIe(h,o,c)},g=WC;var S=xx(xx(xx(xx({stroke:"#ccc",pointerEvents:"none"},c),p),Ct(m,!1)),{},{payload:l,payloadIndex:u,className:kt("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(g,S)}var HIe=["item"],GIe=["children","className","width","height","style","compact","title","desc"];function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Km.apply(this,arguments)}function y$(e,t){return JIe(e)||KIe(e,t)||s9(e,t)||YIe()}function YIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JIe(e){if(Array.isArray(e))return e}function b$(e,t){if(e==null)return{};var n=XIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a9(r.key),r)}}function eRe(e,t,n){return t&&ZIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tRe(e,t,n){return t=e0(t),nRe(e,r9()?Reflect.construct(t,n||[],e0(e).constructor):t.apply(e,n))}function nRe(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!e})()}function e0(e){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(e)}function sRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wk(e,t)}function Rh(e){return oRe(e)||iRe(e)||s9(e)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s9(e,t){if(e){if(typeof e=="string")return jk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jk(e,t)}}function iRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oRe(e){if(Array.isArray(e))return jk(e)}function jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(n),!0).forEach(function(r){et(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function et(e,t,n){return t=a9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=lRe(e,"string");return Ih(t)=="symbol"?t:t+""}function lRe(e,t){if(Ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cRe={xAxis:["bottom","top"],yAxis:["left","right"]},uRe={width:"100%",height:"100%"},i9={x:0,y:0};function yx(e){return e}var dRe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},hRe=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ge(ge(ge({},a),yr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ge(ge(ge({},a),yr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return i9},rj=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Rh(l),Rh(u)):l},[]);return o.length>0?o:t&&t.length&&Me(a)&&Me(i)?t.slice(a,i+1):[]};function o9(e){return e==="number"?[0,"auto"]:void 0}var _k=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=rj(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=tb(m,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(Rh(c),[eW(u,f)]):c},[])},j$=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=dRe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=$Ee(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=_k(t,n,d,h),m=hRe(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},fRe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=XV(d,i);return r.reduce(function(p,g){var v,x=g.type.defaultProps!==void 0?ge(ge({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,_=x.allowDataOverflow,N=x.allowDuplicatedCategory,S=x.scale,C=x.ticks,k=x.includeHidden,A=x[o];if(p[A])return p;var T=rj(t.data,{graphicalItems:a.filter(function(H){var j,P=o in H.props?H.props[o]:(j=H.type.defaultProps)===null||j===void 0?void 0:j[o];return P===A}),dataStartIndex:c,dataEndIndex:u}),E=T.length,B,U,$;FIe(x.domain,_,b)&&(B=BC(x.domain,null,_),m&&(b==="number"||S!=="auto")&&($=Hm(T,w,"category")));var F=o9(b);if(!B||B.length===0){var M,R=(M=x.domain)!==null&&M!==void 0?M:F;if(w){if(B=Hm(T,w,b),b==="category"&&m){var D=Spe(B);N&&D?(U=B,B=Ub(0,E)):N||(B=e4(R,B,g).reduce(function(H,j){return H.indexOf(j)>=0?H:[].concat(Rh(H),[j])},[]))}else if(b==="category")N?B=B.filter(function(H){return H!==""&&!wt(H)}):B=e4(R,B,g).reduce(function(H,j){return H.indexOf(j)>=0||j===""||wt(j)?H:[].concat(Rh(H),[j])},[]);else if(b==="number"){var L=zEe(T,a.filter(function(H){var j,P,O=o in H.props?H.props[o]:(j=H.type.defaultProps)===null||j===void 0?void 0:j[o],V="hide"in H.props?H.props.hide:(P=H.type.defaultProps)===null||P===void 0?void 0:P.hide;return O===A&&(k||!V)}),w,i,d);L&&(B=L)}m&&(b==="number"||S!=="auto")&&($=Hm(T,w,"category"))}else m?B=Ub(0,E):l&&l[A]&&l[A].hasStack&&b==="number"?B=f==="expand"?[0,1]:ZV(l[A].stackGroups,c,u):B=JV(T,a.filter(function(H){var j=o in H.props?H.props[o]:H.type.defaultProps[o],P="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return j===A&&(k||!P)}),b,d,!0);if(b==="number")B=bk(h,B,A,i,C),R&&(B=BC(R,B,_));else if(b==="category"&&R){var I=R,z=B.every(function(H){return I.indexOf(H)>=0});z&&(B=I)}}return ge(ge({},p),{},et({},A,ge(ge({},x),{},{axisType:i,domain:B,categoricalDomain:$,duplicateDomain:U,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},mRe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=rj(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,p=XV(d,i),g=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?ge(ge({},x.type.defaultProps),x.props):x.props,w=b[o],_=o9("number");if(!v[w]){g++;var N;return p?N=Ub(0,m):l&&l[w]&&l[w].hasStack?(N=ZV(l[w].stackGroups,c,u),N=bk(h,N,w,i)):(N=BC(_,JV(f,r.filter(function(S){var C,k,A=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],T="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),N=bk(h,N,w,i)),ge(ge({},v),{},et({},w,ge(ge({axisType:i},a.defaultProps),{},{hide:!0,orientation:ga(cRe,"".concat(i,".").concat(g%2),null),domain:N,originalDomain:_,isCategorical:p,layout:d})))}return v},{})},pRe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=va(d,i),m={};return f&&f.length?m=fRe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=mRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},gRe=function(t){var n=ll(t),r=uo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:JP(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ob(n,r)}},_$=function(t){var n=t.children,r=t.defaultShowTooltip,a=$s(n,Ch),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},vRe=function(t){return!t||!t.length?!1:t.some(function(n){var r=go(n&&n.type);return r&&r.indexOf("Bar")>=0})},N$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xRe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=$s(h,Ch),p=$s(h,Ad),g=Object.keys(c).reduce(function(N,S){var C=c[S],k=C.orientation;return!C.mirror&&!C.hide?ge(ge({},N),{},et({},k,N[k]+C.width)):N},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(N,S){var C=o[S],k=C.orientation;return!C.mirror&&!C.hide?ge(ge({},N),{},et({},k,ga(N,"".concat(k))+C.height)):N},{top:f.top||0,bottom:f.bottom||0}),x=ge(ge({},v),g),b=x.bottom;m&&(x.bottom+=m.props.height||Ch.defaultProps.height),p&&n&&(x=BEe(x,a,r,n));var w=u-x.left-x.right,_=d-x.top-x.bottom;return ge(ge({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},yRe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},l9=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(v,x){var b=x.graphicalItems,w=x.stackGroups,_=x.offset,N=x.updateId,S=x.dataStartIndex,C=x.dataEndIndex,k=v.barSize,A=v.layout,T=v.barGap,E=v.barCategoryGap,B=v.maxBarSize,U=N$(A),$=U.numericAxisName,F=U.cateAxisName,M=vRe(b),R=[];return b.forEach(function(D,L){var I=rj(v.data,{graphicalItems:[D],dataStartIndex:S,dataEndIndex:C}),z=D.type.defaultProps!==void 0?ge(ge({},D.type.defaultProps),D.props):D.props,H=z.dataKey,j=z.maxBarSize,P=z["".concat($,"Id")],O=z["".concat(F,"Id")],V={},W=c.reduce(function(Ge,he){var me=x["".concat(he.axisType,"Map")],Ae=z["".concat(he.axisType,"Id")];me&&me[Ae]||he.axisType==="zAxis"||cu();var Ye=me[Ae];return ge(ge({},Ge),{},et(et({},he.axisType,Ye),"".concat(he.axisType,"Ticks"),uo(Ye)))},V),Z=W[F],te=W["".concat(F,"Ticks")],q=w&&w[P]&&w[P].hasStack&&e2e(D,w[P].stackGroups),X=go(D.type).indexOf("Bar")>=0,re=Ob(Z,te),pe=[],ye=M&&LEe({barSize:k,stackGroups:w,totalSize:yRe(W,F)});if(X){var le,be,Se=wt(j)?B:j,Oe=(le=(be=Ob(Z,te,!0))!==null&&be!==void 0?be:Se)!==null&&le!==void 0?le:0;pe=FEe({barGap:T,barCategoryGap:E,bandSize:Oe!==re?Oe:re,sizeList:ye[O],maxBarSize:Se}),Oe!==re&&(pe=pe.map(function(Ge){return ge(ge({},Ge),{},{position:ge(ge({},Ge.position),{},{offset:Ge.position.offset-Oe/2})})}))}var qe=D&&D.type&&D.type.getComposedData;qe&&R.push({props:ge(ge({},qe(ge(ge({},W),{},{displayedData:I,props:v,dataKey:H,item:D,bandSize:re,barPosition:pe,offset:_,stackedData:q,layout:A,dataStartIndex:S,dataEndIndex:C}))),{},et(et(et({key:D.key||"item-".concat(L)},$,W[$]),F,W[F]),"animationId",N)),childIndex:$pe(D,v.children),item:D})}),R},m=function(v,x){var b=v.props,w=v.dataStartIndex,_=v.dataEndIndex,N=v.updateId;if(!GD({props:b}))return null;var S=b.children,C=b.layout,k=b.stackOffset,A=b.data,T=b.reverseStackOrder,E=N$(C),B=E.numericAxisName,U=E.cateAxisName,$=va(S,r),F=XEe(A,$,"".concat(B,"Id"),"".concat(U,"Id"),k,T),M=c.reduce(function(z,H){var j="".concat(H.axisType,"Map");return ge(ge({},z),{},et({},j,pRe(b,ge(ge({},H),{},{graphicalItems:$,stackGroups:H.axisType===B&&F,dataStartIndex:w,dataEndIndex:_}))))},{}),R=xRe(ge(ge({},M),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(z){M[z]=d(b,M[z],R,z.replace("Map",""),n)});var D=M["".concat(U,"Map")],L=gRe(D),I=f(b,ge(ge({},M),{},{dataStartIndex:w,dataEndIndex:_,updateId:N,graphicalItems:$,stackGroups:F,offset:R}));return ge(ge({formattedGraphicalItems:I,graphicalItems:$,offset:R,stackGroups:F},L),M)},p=function(g){function v(x){var b,w,_;return QIe(this,v),_=tRe(this,v,[x]),et(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(_,"accessibilityManager",new LIe),et(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,C=S.dataStartIndex,k=S.dataEndIndex,A=S.updateId;_.setState(ge({legendBBox:N},m({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:A},ge(ge({},_.state),{},{legendBBox:N}))))}}),et(_,"handleReceiveSyncEvent",function(N,S,C){if(_.props.syncId===N){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),et(_,"handleBrushChange",function(N){var S=N.startIndex,C=N.endIndex;if(S!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return ge({dataStartIndex:S,dataEndIndex:C},m({props:_.props,dataStartIndex:S,dataEndIndex:C,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),et(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var C=ge(ge({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseEnter;vt(k)&&k(C,N)}}),et(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),C=S?ge(ge({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseMove;vt(k)&&k(C,N)}),et(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),et(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),et(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),et(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var C=_.props.onMouseLeave;vt(C)&&C(S,N)}),et(_,"handleOuterEvent",function(N){var S=Rpe(N),C=ga(_.props,"".concat(S));if(S&&vt(C)){var k,A;/.*touch.*/i.test(S)?A=_.getMouseInfo(N.changedTouches[0]):A=_.getMouseInfo(N),C((k=A)!==null&&k!==void 0?k:{},N)}}),et(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var C=ge(ge({},S),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onClick;vt(k)&&k(C,N)}}),et(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(vt(S)){var C=_.getMouseInfo(N);S(C,N)}}),et(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(vt(S)){var C=_.getMouseInfo(N);S(C,N)}}),et(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),et(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),et(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),et(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&v1.emit(x1,_.props.syncId,N,_.eventEmitterSymbol)}),et(_,"applySyncEvent",function(N){var S=_.props,C=S.layout,k=S.syncMethod,A=_.state.updateId,T=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(ge({dataStartIndex:T,dataEndIndex:E},m({props:_.props,dataStartIndex:T,dataEndIndex:E,updateId:A},_.state)));else if(N.activeTooltipIndex!==void 0){var B=N.chartX,U=N.chartY,$=N.activeTooltipIndex,F=_.state,M=F.offset,R=F.tooltipTicks;if(!M)return;if(typeof k=="function")$=k(R,N);else if(k==="value"){$=-1;for(var D=0;D<R.length;D++)if(R[D].value===N.activeLabel){$=D;break}}var L=ge(ge({},M),{},{x:M.left,y:M.top}),I=Math.min(B,L.x+L.width),z=Math.min(U,L.y+L.height),H=R[$]&&R[$].value,j=_k(_.state,_.props.data,$),P=R[$]?{x:C==="horizontal"?R[$].coordinate:I,y:C==="horizontal"?z:R[$].coordinate}:i9;_.setState(ge(ge({},N),{},{activeLabel:H,activeCoordinate:P,activePayload:j,activeTooltipIndex:$}))}else _.setState(N)}),et(_,"renderCursor",function(N){var S,C=_.state,k=C.isTooltipActive,A=C.activeCoordinate,T=C.activePayload,E=C.offset,B=C.activeTooltipIndex,U=C.tooltipAxisBandSize,$=_.getTooltipEventType(),F=(S=N.props.active)!==null&&S!==void 0?S:k,M=_.props.layout,R=N.key||"_recharts-cursor";return J.createElement(WIe,{key:R,activeCoordinate:A,activePayload:T,activeTooltipIndex:B,chartName:n,element:N,isActive:F,layout:M,offset:E,tooltipAxisBandSize:U,tooltipEventType:$})}),et(_,"renderPolarAxis",function(N,S,C){var k=ga(N,"type.axisType"),A=ga(_.state,"".concat(k,"Map")),T=N.type.defaultProps,E=T!==void 0?ge(ge({},T),N.props):N.props,B=A&&A[E["".concat(k,"Id")]];return y.cloneElement(N,ge(ge({},B),{},{className:kt(k,B.className),key:N.key||"".concat(S,"-").concat(C),ticks:uo(B,!0)}))}),et(_,"renderPolarGrid",function(N){var S=N.props,C=S.radialLines,k=S.polarAngles,A=S.polarRadius,T=_.state,E=T.radiusAxisMap,B=T.angleAxisMap,U=ll(E),$=ll(B),F=$.cx,M=$.cy,R=$.innerRadius,D=$.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(k)?k:uo($,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(A)?A:uo(U,!0).map(function(L){return L.coordinate}),cx:F,cy:M,innerRadius:R,outerRadius:D,key:N.key||"polar-grid",radialLines:C})}),et(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,C=S.children,k=S.width,A=S.height,T=_.props.margin||{},E=k-(T.left||0)-(T.right||0),B=YV({children:C,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!B)return null;var U=B.item,$=b$(B,HIe);return y.cloneElement(U,ge(ge({},$),{},{chartWidth:k,chartHeight:A,margin:T,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),et(_,"renderTooltip",function(){var N,S=_.props,C=S.children,k=S.accessibilityLayer,A=$s(C,Ua);if(!A)return null;var T=_.state,E=T.isTooltipActive,B=T.activeCoordinate,U=T.activePayload,$=T.activeLabel,F=T.offset,M=(N=A.props.active)!==null&&N!==void 0?N:E;return y.cloneElement(A,{viewBox:ge(ge({},F),{},{x:F.left,y:F.top}),active:M,label:$,payload:M?U:[],coordinate:B,accessibilityLayer:k})}),et(_,"renderBrush",function(N){var S=_.props,C=S.margin,k=S.data,A=_.state,T=A.offset,E=A.dataStartIndex,B=A.dataEndIndex,U=A.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:mx(_.handleBrushChange,N.props.onChange),data:k,x:Me(N.props.x)?N.props.x:T.left,y:Me(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(C.bottom||0),width:Me(N.props.width)?N.props.width:T.width,startIndex:E,endIndex:B,updateId:"brush-".concat(U)})}),et(_,"renderReferenceElement",function(N,S,C){if(!N)return null;var k=_,A=k.clipPathId,T=_.state,E=T.xAxisMap,B=T.yAxisMap,U=T.offset,$=N.type.defaultProps||{},F=N.props,M=F.xAxisId,R=M===void 0?$.xAxisId:M,D=F.yAxisId,L=D===void 0?$.yAxisId:D;return y.cloneElement(N,{key:N.key||"".concat(S,"-").concat(C),xAxis:E[R],yAxis:B[L],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:A})}),et(_,"renderActivePoints",function(N){var S=N.item,C=N.activePoint,k=N.basePoint,A=N.childIndex,T=N.isRange,E=[],B=S.props.key,U=S.item.type.defaultProps!==void 0?ge(ge({},S.item.type.defaultProps),S.item.props):S.item.props,$=U.activeDot,F=U.dataKey,M=ge(ge({index:A,dataKey:F,cx:C.x,cy:C.y,r:4,fill:jA(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ct($,!1)),nb($));return E.push(v.renderActiveDot($,M,"".concat(B,"-activePoint-").concat(A))),k?E.push(v.renderActiveDot($,ge(ge({},M),{},{cx:k.x,cy:k.y}),"".concat(B,"-basePoint-").concat(A))):T&&E.push(null),E}),et(_,"renderGraphicChild",function(N,S,C){var k=_.filterFormatItem(N,S,C);if(!k)return null;var A=_.getTooltipEventType(),T=_.state,E=T.isTooltipActive,B=T.tooltipAxis,U=T.activeTooltipIndex,$=T.activeLabel,F=_.props.children,M=$s(F,Ua),R=k.props,D=R.points,L=R.isRange,I=R.baseLine,z=k.item.type.defaultProps!==void 0?ge(ge({},k.item.type.defaultProps),k.item.props):k.item.props,H=z.activeDot,j=z.hide,P=z.activeBar,O=z.activeShape,V=!!(!j&&E&&M&&(H||P||O)),W={};A!=="axis"&&M&&M.props.trigger==="click"?W={onClick:mx(_.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(W={onMouseLeave:mx(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:mx(_.handleItemMouseEnter,N.props.onMouseEnter)});var Z=y.cloneElement(N,ge(ge({},k.props),W));function te(he){return typeof B.dataKey=="function"?B.dataKey(he.payload):null}if(V)if(U>=0){var q,X;if(B.dataKey&&!B.allowDuplicatedCategory){var re=typeof B.dataKey=="function"?te:"payload.".concat(B.dataKey.toString());q=tb(D,re,$),X=L&&I&&tb(I,re,$)}else q=D==null?void 0:D[U],X=L&&I&&I[U];if(O||P){var pe=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[y.cloneElement(N,ge(ge(ge({},k.props),W),{},{activeIndex:pe})),null,null]}if(!wt(q))return[Z].concat(Rh(_.renderActivePoints({item:k,activePoint:q,basePoint:X,childIndex:U,isRange:L})))}else{var ye,le=(ye=_.getItemByXY(_.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:Z},be=le.graphicalItem,Se=be.item,Oe=Se===void 0?N:Se,qe=be.childIndex,Ge=ge(ge(ge({},k.props),W),{},{activeIndex:qe});return[y.cloneElement(Oe,Ge),null,null]}return L?[Z,null,null]:[Z,null]}),et(_,"renderCustomized",function(N,S,C){return y.cloneElement(N,ge(ge({key:"recharts-customized-".concat(C)},_.props),_.state))}),et(_,"renderMap",{CartesianGrid:{handler:yx,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:yx},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:yx},YAxis:{handler:yx},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:ev("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=Gq(_.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return sRe(v,g),eRe(v,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,N=b.height,S=b.layout,C=$s(w,Ua);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,T=_k(this.state,_,k,A),E=this.state.tooltipTicks[k].coordinate,B=(this.state.offset.top+N)/2,U=S==="horizontal",$=U?{x:E,y:B}:{y:E,x:B},F=this.state.formattedGraphicalItems.find(function(R){var D=R.item;return D.type.name==="Scatter"});F&&($=ge(ge({},$),F.props.points[k].tooltipPosition),T=F.props.points[k].tooltipPayload);var M={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:A,activePayload:T,activeCoordinate:$};this.setState(M),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){tC([$s(b.children,Ua)],[$s(this.props.children,Ua)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=$s(this.props.children,Ua);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),N=cNe(_),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},C=_.width/w.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,C);if(!k)return null;var A=this.state,T=A.xAxisMap,E=A.yAxisMap,B=this.getTooltipEventType();if(B!=="axis"&&T&&E){var U=ll(T).scale,$=ll(E).scale,F=U&&U.invert?U.invert(S.chartX):null,M=$&&$.invert?$.invert(S.chartY):null;return ge(ge({},S),{},{xValue:F,yValue:M})}var R=j$(this.state,this.props.data,this.props.layout,k);return R?ge(ge({},S),R):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/_,C=w/_;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,A=S>=k.left&&S<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return A?{x:S,y:C}:null}var T=this.state,E=T.angleAxisMap,B=T.radiusAxisMap;if(E&&B){var U=ll(E);return r4({x:S,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=$s(b,Ua),N={};_&&w==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=nb(this.props,this.handleOuterEvent);return ge(ge({},S),N)}},{key:"addListener",value:function(){v1.on(x1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){v1.removeListener(x1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var N=this.state.formattedGraphicalItems,S=0,C=N.length;S<C;S++){var k=N[S];if(k.item===b||k.props.key===b.key||w===go(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,N=w.top,S=w.height,C=w.width;return J.createElement("defs",null,J.createElement("clipPath",{id:b},J.createElement("rect",{x:_,y:N,height:S,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var N=y$(_,2),S=N[0],C=N[1];return ge(ge({},w),{},et({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var N=y$(_,2),S=N[0],C=N[1];return ge(ge({},w),{},et({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,N=w.activeItem;if(_&&_.length)for(var S=0,C=_.length;S<C;S++){var k=_[S],A=k.props,T=k.item,E=T.type.defaultProps!==void 0?ge(ge({},T.type.defaultProps),T.props):T.props,B=go(T.type);if(B==="Bar"){var U=(A.data||[]).find(function(R){return IAe(b,R)});if(U)return{graphicalItem:k,payload:U}}else if(B==="RadialBar"){var $=(A.data||[]).find(function(R){return r4(b,R)});if($)return{graphicalItem:k,payload:$}}else if(Jw(k,N)||Xw(k,N)||ag(k,N)){var F=LTe({graphicalItem:k,activeTooltipItem:N,itemData:E.data}),M=E.activeIndex===void 0?F:E.activeIndex;return{graphicalItem:ge(ge({},k),{},{childIndex:M}),payload:ag(k,N)?E.data[F]:k.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!GD(this))return null;var w=this.props,_=w.children,N=w.className,S=w.width,C=w.height,k=w.style,A=w.compact,T=w.title,E=w.desc,B=b$(w,GIe),U=Ct(B,!1);if(A)return J.createElement(t$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(rC,Km({},U,{width:S,height:C,title:T,desc:E}),this.renderClipPath(),KD(_,this.renderMap)));if(this.props.accessibilityLayer){var $,F;U.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,U.role=(F=this.props.role)!==null&&F!==void 0?F:"application",U.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},U.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return J.createElement(t$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",Km({className:kt("recharts-wrapper",N),style:ge({position:"relative",cursor:"default",width:S,height:C},k)},M,{ref:function(D){b.container=D}}),J.createElement(rC,Km({},U,{width:S,height:C,title:T,desc:E,style:uRe}),this.renderClipPath(),KD(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);return et(p,"displayName",n),et(p,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),et(p,"getDerivedStateFromProps",function(g,v){var x=g.dataKey,b=g.data,w=g.children,_=g.width,N=g.height,S=g.layout,C=g.stackOffset,k=g.margin,A=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var E=_$(g);return ge(ge(ge({},E),{},{updateId:0},m(ge(ge({props:g},E),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:w})}if(x!==v.prevDataKey||b!==v.prevData||_!==v.prevWidth||N!==v.prevHeight||S!==v.prevLayout||C!==v.prevStackOffset||!Pd(k,v.prevMargin)){var B=_$(g),U={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=ge(ge({},j$(v,b,S)),{},{updateId:v.updateId+1}),F=ge(ge(ge({},B),U),$);return ge(ge(ge({},F),m(ge({props:g},F),v)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:C,prevMargin:k,prevChildren:w})}if(!tC(w,v.prevChildren)){var M,R,D,L,I=$s(w,Ch),z=I&&(M=(R=I.props)===null||R===void 0?void 0:R.startIndex)!==null&&M!==void 0?M:A,H=I&&(D=(L=I.props)===null||L===void 0?void 0:L.endIndex)!==null&&D!==void 0?D:T,j=z!==A||H!==T,P=!wt(b),O=P&&!j?v.updateId:v.updateId+1;return ge(ge({updateId:O},m(ge(ge({props:g},v),{},{updateId:O,dataStartIndex:z,dataEndIndex:H}),v)),{},{prevChildren:w,dataStartIndex:z,dataEndIndex:H})}return null}),et(p,"renderActiveDot",function(g,v,x){var b;return y.isValidElement(g)?b=y.cloneElement(g,v):vt(g)?b=g(v):b=J.createElement(NA,v),J.createElement(Mn,{className:"recharts-active-dot",key:x},b)}),function(v){return J.createElement(p,v)}},c9=l9({chartName:"LineChart",GraphicalChild:_f,axisComponents:[{axisType:"xAxis",AxisComp:du},{axisType:"yAxis",AxisComp:hu}],formatAxisMap:SW}),bRe=l9({chartName:"BarChart",GraphicalChild:zl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:du},{axisType:"yAxis",AxisComp:hu}],formatAxisMap:SW});const wRe={light:"",dark:".dark"},u9=y.createContext(null);function d9(){const e=y.useContext(u9);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Nk=y.forwardRef(({id:e,className:t,children:n,config:r,...a},i)=>{const o=y.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(u9.Provider,{value:{config:r},children:s.jsxs("div",{"data-chart":l,ref:i,className:xe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(jRe,{id:l,config:r}),s.jsx(gb,{children:n})]})})});Nk.displayName="Chart";const jRe=({id:e,config:t})=>{const n=Object.entries(t).filter(([r,a])=>a.theme||a.color);return n.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(wRe).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},S$=Ua,Sk=y.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:p}=d9(),g=y.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[x]=t,b=`${f||x.dataKey||x.name||"value"}`,w=Ck(p,x,b),_=!f&&typeof o=="string"?((N=p[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?s.jsx("div",{className:xe("font-medium",c),children:l(_,t)}):_?s.jsx("div",{className:xe("font-medium",c),children:_}):null},[o,l,t,a,c,p,f]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&r!=="dot";return s.jsxs("div",{ref:m,className:xe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:g,s.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${h||x.name||x.dataKey||"value"}`,_=Ck(p,x,w),N=d||x.payload.fill||x.color;return s.jsx("div",{className:xe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):s.jsxs(s.Fragment,{children:[_!=null&&_.icon?s.jsx(_.icon,{}):!i&&s.jsx("div",{className:xe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":v&&r==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:xe("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,s.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});Sk.displayName="ChartTooltip";const _Re=y.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:a},i)=>{const{config:o}=d9();return n!=null&&n.length?s.jsx("div",{ref:i,className:xe("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,u=Ck(o,l,c);return s.jsxs("div",{className:xe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});_Re.displayName="ChartLegend";function Ck(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:r&&n in r&&typeof r[n]=="string"&&(a=r[n]),a in e?e[a]:e[n]}function NRe({chatbotId:e}){var o;const[t,n]=y.useState({totalConversations:0,totalMessages:0,avgMessagesPerConversation:0,dailyStats:[],hourlyStats:[]}),[r,a]=y.useState(!0);y.useEffect(()=>{i()},[e]);const i=async()=>{try{a(!0);const{count:l}=await G.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",e),{count:c}=await G.from("messages").select("*, conversations!inner(*)",{count:"exact",head:!0}).eq("conversations.chatbot_id",e),u=new Date;u.setDate(u.getDate()-7);const{data:d}=await G.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",u.toISOString()),{data:h}=await G.from("messages").select("created_at, conversations!inner(chatbot_id)").eq("conversations.chatbot_id",e).gte("created_at",u.toISOString()),f=new Map;for(let g=6;g>=0;g--){const v=new Date;v.setDate(v.getDate()-g);const x=v.toISOString().split("T")[0];f.set(x,{date:x,conversations:0,messages:0})}d==null||d.forEach(g=>{const v=g.created_at.split("T")[0],x=f.get(v);x&&x.conversations++}),h==null||h.forEach(g=>{const v=g.created_at.split("T")[0],x=f.get(v);x&&x.messages++});const{data:m}=await G.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),p=new Map;for(let g=0;g<24;g++)p.set(g,{hour:g,conversations:0});m==null||m.forEach(g=>{const v=new Date(g.created_at).getHours(),x=p.get(v);x&&x.conversations++}),n({totalConversations:l||0,totalMessages:c||0,avgMessagesPerConversation:l>0?Math.round((c||0)/l*10)/10:0,dailyStats:Array.from(f.values()),hourlyStats:Array.from(p.values())})}catch(l){console.error("Error fetching analytics:",l)}finally{a(!1)}};return r?s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((l,c)=>s.jsxs(Y,{children:[s.jsx(se,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(Q,{children:s.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"})})]},c))})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalConversations})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalMessages})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.avgMessagesPerConversation})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Today"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:((o=t.dailyStats[t.dailyStats.length-1])==null?void 0:o.conversations)||0})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Daily Activity (Last 7 Days)"}),s.jsx(je,{children:"Conversations and messages over time"})]}),s.jsx(Q,{children:s.jsx(Nk,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"},messages:{label:"Messages",color:"hsl(var(--secondary))"}},className:"h-[200px]",children:s.jsx(gb,{width:"100%",height:"100%",children:s.jsxs(bRe,{data:t.dailyStats,children:[s.jsx(du,{dataKey:"date",tickFormatter:l=>new Date(l).toLocaleDateString("en-US",{weekday:"short"})}),s.jsx(hu,{}),s.jsx(S$,{content:s.jsx(Sk,{})}),s.jsx(zl,{dataKey:"conversations",fill:"hsl(var(--primary))"}),s.jsx(zl,{dataKey:"messages",fill:"hsl(var(--secondary))"})]})})})})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Hourly Distribution (Last 24h)"}),s.jsx(je,{children:"When users are most active"})]}),s.jsx(Q,{children:s.jsx(Nk,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"}},className:"h-[200px]",children:s.jsx(gb,{width:"100%",height:"100%",children:s.jsxs(c9,{data:t.hourlyStats,children:[s.jsx(du,{dataKey:"hour",tickFormatter:l=>`${l}:00`}),s.jsx(hu,{}),s.jsx(S$,{content:s.jsx(Sk,{})}),s.jsx(_f,{type:"monotone",dataKey:"conversations",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})})]})]})]})}function hg(e,[t,n]){return Math.min(n,Math.max(t,e))}var SRe=y.createContext(void 0);function ku(e){const t=y.useContext(SRe);return e||t||"ltr"}function ov(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var CRe=[" ","Enter","ArrowUp","ArrowDown"],kRe=[" ","Enter"],lv="Select",[sj,aj,ERe]=Eg(lv),[Nf,WGe]=Ur(lv,[ERe,Jl]),ij=Jl(),[PRe,rc]=Nf(lv),[ARe,TRe]=Nf(lv),h9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:p}=e,g=ij(t),[v,x]=y.useState(null),[b,w]=y.useState(null),[_,N]=y.useState(!1),S=ku(u),[C=!1,k]=_s({prop:r,defaultProp:a,onChange:i}),[A,T]=_s({prop:o,defaultProp:l,onChange:c}),E=y.useRef(null),B=v?p||!!v.closest("form"):!0,[U,$]=y.useState(new Set),F=Array.from(U).map(M=>M.props.value).join(";");return s.jsx(K0,{...g,children:s.jsxs(PRe,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Ws(),value:A,onValueChange:T,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:E,disabled:f,children:[s.jsx(sj.Provider,{scope:t,children:s.jsx(ARe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(M=>{$(R=>new Set(R).add(M))},[]),onNativeOptionRemove:y.useCallback(M=>{$(R=>{const D=new Set(R);return D.delete(M),D})},[]),children:n})}),B?s.jsxs($9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:M=>T(M.target.value),disabled:f,form:p,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},F):null]})})};h9.displayName=lv;var f9="SelectTrigger",m9=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=ij(n),o=rc(f9,n),l=o.disabled||r,c=Xe(t,o.onTriggerChange),u=aj(n),d=y.useRef("touch"),[h,f,m]=L9(g=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),b=F9(v,g,x);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Mg,{asChild:!0,...i,children:s.jsx(ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":R9(o.value)?"":void 0,...a,ref:c,onClick:Ne(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:Ne(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:Ne(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&CRe.includes(g.key)&&(p(),g.preventDefault())})})})});m9.displayName=f9;var p9="SelectValue",g9=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=rc(p9,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Xe(t,c.onValueNodeChange);return ur(()=>{u(d)},[u,d]),s.jsx(ze.span,{...l,ref:h,style:{pointerEvents:"none"},children:R9(c.value)?s.jsx(s.Fragment,{children:o}):i})});g9.displayName=p9;var ORe="SelectIcon",v9=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(ze.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});v9.displayName=ORe;var MRe="SelectPortal",x9=e=>s.jsx(Xh,{asChild:!0,...e});x9.displayName=MRe;var fu="SelectContent",y9=y.forwardRef((e,t)=>{const n=rc(fu,e.__scopeSelect),[r,a]=y.useState();if(ur(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?ha.createPortal(s.jsx(b9,{scope:e.__scopeSelect,children:s.jsx(sj.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(w9,{...e,ref:t})});y9.displayName=fu;var Ia=10,[b9,sc]=Nf(fu),DRe="SelectContentImpl",w9=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...x}=e,b=rc(fu,n),[w,_]=y.useState(null),[N,S]=y.useState(null),C=Xe(t,W=>_(W)),[k,A]=y.useState(null),[T,E]=y.useState(null),B=aj(n),[U,$]=y.useState(!1),F=y.useRef(!1);y.useEffect(()=>{if(w)return mw(w)},[w]),hw();const M=y.useCallback(W=>{const[Z,...te]=B().map(re=>re.ref.current),[q]=te.slice(-1),X=document.activeElement;for(const re of W)if(re===X||(re==null||re.scrollIntoView({block:"nearest"}),re===Z&&N&&(N.scrollTop=0),re===q&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==X))return},[B,N]),R=y.useCallback(()=>M([k,w]),[M,k,w]);y.useEffect(()=>{U&&R()},[U,R]);const{onOpenChange:D,triggerPointerDownPosRef:L}=b;y.useEffect(()=>{if(w){let W={x:0,y:0};const Z=q=>{var X,re;W={x:Math.abs(Math.round(q.pageX)-(((X=L.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(q.pageY)-(((re=L.current)==null?void 0:re.y)??0))}},te=q=>{W.x<=10&&W.y<=10?q.preventDefault():w.contains(q.target)||D(!1),document.removeEventListener("pointermove",Z),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",te,{capture:!0})}}},[w,D,L]),y.useEffect(()=>{const W=()=>D(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[D]);const[I,z]=L9(W=>{const Z=B().filter(X=>!X.disabled),te=Z.find(X=>X.ref.current===document.activeElement),q=F9(Z,W,te);q&&setTimeout(()=>q.ref.current.focus())}),H=y.useCallback((W,Z,te)=>{const q=!F.current&&!te;(b.value!==void 0&&b.value===Z||q)&&(A(W),q&&(F.current=!0))},[b.value]),j=y.useCallback(()=>w==null?void 0:w.focus(),[w]),P=y.useCallback((W,Z,te)=>{const q=!F.current&&!te;(b.value!==void 0&&b.value===Z||q)&&E(W)},[b.value]),O=r==="popper"?kk:j9,V=O===kk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(b9,{scope:n,content:w,viewport:N,onViewportChange:S,itemRefCallback:H,selectedItem:k,onItemLeave:j,itemTextRefCallback:P,focusSelectedItem:R,selectedItemText:T,position:r,isPositioned:U,searchRef:I,children:s.jsx(Bg,{as:js,allowPinchZoom:!0,children:s.jsx(Fg,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Ne(a,W=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),W.preventDefault()}),children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(O,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault(),...x,...V,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ne(x.onKeyDown,W=>{const Z=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Z&&W.key.length===1&&z(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let q=B().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(W.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const X=W.target,re=q.indexOf(X);q=q.slice(re+1)}setTimeout(()=>M(q)),W.preventDefault()}})})})})})})});w9.displayName=DRe;var IRe="SelectItemAlignedPosition",j9=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=rc(fu,n),o=sc(fu,n),[l,c]=y.useState(null),[u,d]=y.useState(null),h=Xe(t,C=>d(C)),f=aj(n),m=y.useRef(!1),p=y.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&x){const C=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const X=T.left-k.left,re=A.left-X,pe=C.left-re,ye=C.width+pe,le=Math.max(ye,k.width),be=window.innerWidth-Ia,Se=hg(re,[Ia,Math.max(Ia,be-le)]);l.style.minWidth=ye+"px",l.style.left=Se+"px"}else{const X=k.right-T.right,re=window.innerWidth-A.right-X,pe=window.innerWidth-C.right-re,ye=C.width+pe,le=Math.max(ye,k.width),be=window.innerWidth-Ia,Se=hg(re,[Ia,Math.max(Ia,be-le)]);l.style.minWidth=ye+"px",l.style.right=Se+"px"}const E=f(),B=window.innerHeight-Ia*2,U=g.scrollHeight,$=window.getComputedStyle(u),F=parseInt($.borderTopWidth,10),M=parseInt($.paddingTop,10),R=parseInt($.borderBottomWidth,10),D=parseInt($.paddingBottom,10),L=F+M+U+D+R,I=Math.min(v.offsetHeight*5,L),z=window.getComputedStyle(g),H=parseInt(z.paddingTop,10),j=parseInt(z.paddingBottom,10),P=C.top+C.height/2-Ia,O=B-P,V=v.offsetHeight/2,W=v.offsetTop+V,Z=F+M+W,te=L-Z;if(Z<=P){const X=E.length>0&&v===E[E.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-g.offsetTop-g.offsetHeight,pe=Math.max(O,V+(X?j:0)+re+R),ye=Z+pe;l.style.height=ye+"px"}else{const X=E.length>0&&v===E[0].ref.current;l.style.top="0px";const pe=Math.max(P,F+g.offsetTop+(X?H:0)+V)+te;l.style.height=pe+"px",g.scrollTop=Z-P+g.offsetTop}l.style.margin=`${Ia}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,v,x,i.dir,r]);ur(()=>w(),[w]);const[_,N]=y.useState();ur(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(C=>{C&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return s.jsx($Re,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(ze.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});j9.displayName=IRe;var RRe="SelectPopperPosition",kk=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ia,...i}=e,o=ij(n);return s.jsx(J0,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kk.displayName=RRe;var[$Re,DA]=Nf(fu,{}),Ek="SelectViewport",_9=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=sc(Ek,n),o=DA(Ek,n),l=Xe(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(sj.Slot,{scope:n,children:s.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ne(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-Ia*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(g,v);if(x<p){const b=x+m,w=Math.min(p,b),_=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});_9.displayName=Ek;var N9="SelectGroup",[LRe,FRe]=Nf(N9),BRe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ws();return s.jsx(LRe,{scope:n,id:a,children:s.jsx(ze.div,{role:"group","aria-labelledby":a,...r,ref:t})})});BRe.displayName=N9;var S9="SelectLabel",C9=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=FRe(S9,n);return s.jsx(ze.div,{id:a.id,...r,ref:t})});C9.displayName=S9;var t0="SelectItem",[URe,k9]=Nf(t0),E9=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=rc(t0,n),c=sc(t0,n),u=l.value===r,[d,h]=y.useState(i??""),[f,m]=y.useState(!1),p=Xe(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,a)}),g=Ws(),v=y.useRef("touch"),x=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(URe,{scope:n,value:r,disabled:a,textId:g,isSelected:u,onItemTextChange:y.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(sj.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(ze.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:Ne(o.onFocus,()=>m(!0)),onBlur:Ne(o.onBlur,()=>m(!1)),onClick:Ne(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Ne(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Ne(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ne(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ne(o.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(kRe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});E9.displayName=t0;var Nm="SelectItemText",P9=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=rc(Nm,n),l=sc(Nm,n),c=k9(Nm,n),u=TRe(Nm,n),[d,h]=y.useState(null),f=Xe(t,x=>h(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return ur(()=>(g(p),()=>v(p)),[g,v,p]),s.jsxs(s.Fragment,{children:[s.jsx(ze.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ha.createPortal(i.children,o.valueNode):null]})});P9.displayName=Nm;var A9="SelectItemIndicator",T9=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return k9(A9,n).isSelected?s.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});T9.displayName=A9;var Pk="SelectScrollUpButton",O9=y.forwardRef((e,t)=>{const n=sc(Pk,e.__scopeSelect),r=DA(Pk,e.__scopeSelect),[a,i]=y.useState(!1),o=Xe(t,r.onScrollButtonChange);return ur(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(D9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});O9.displayName=Pk;var Ak="SelectScrollDownButton",M9=y.forwardRef((e,t)=>{const n=sc(Ak,e.__scopeSelect),r=DA(Ak,e.__scopeSelect),[a,i]=y.useState(!1),o=Xe(t,r.onScrollButtonChange);return ur(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(D9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});M9.displayName=Ak;var D9=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=sc("SelectScrollButton",n),o=y.useRef(null),l=aj(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),ur(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ne(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ne(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ne(a.onPointerLeave,()=>{c()})})}),zRe="SelectSeparator",I9=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});I9.displayName=zRe;var Tk="SelectArrow",qRe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ij(n),i=rc(Tk,n),o=sc(Tk,n);return i.open&&o.position==="popper"?s.jsx(X0,{...a,...r,ref:t}):null});qRe.displayName=Tk;function R9(e){return e===""||e===void 0}var $9=y.forwardRef((e,t)=>{const{value:n,...r}=e,a=y.useRef(null),i=Xe(t,a),o=ov(n);return y.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(Pg,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});$9.displayName="BubbleSelect";function L9(e){const t=jn(e),n=y.useRef(""),r=y.useRef(0),a=y.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function F9(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=VRe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function VRe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WRe=h9,B9=m9,HRe=g9,GRe=v9,YRe=x9,U9=y9,KRe=_9,z9=C9,q9=E9,JRe=P9,XRe=T9,V9=O9,W9=M9,H9=I9;const Be=WRe,Ue=HRe,Le=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(B9,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(GRe,{asChild:!0,children:s.jsx(Zh,{className:"h-4 w-4 opacity-50"})})]}));Le.displayName=B9.displayName;const G9=y.forwardRef(({className:e,...t},n)=>s.jsx(V9,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(I2,{className:"h-4 w-4"})}));G9.displayName=V9.displayName;const Y9=y.forwardRef(({className:e,...t},n)=>s.jsx(W9,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Zh,{className:"h-4 w-4"})}));Y9.displayName=W9.displayName;const Fe=y.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(YRe,{children:s.jsxs(U9,{ref:a,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(G9,{}),s.jsx(KRe,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Y9,{})]})}));Fe.displayName=U9.displayName;const QRe=y.forwardRef(({className:e,...t},n)=>s.jsx(z9,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));QRe.displayName=z9.displayName;const ie=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(q9,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(XRe,{children:s.jsx(Ag,{className:"h-4 w-4"})})}),s.jsx(JRe,{children:t})]}));ie.displayName=q9.displayName;const ZRe=y.forwardRef(({className:e,...t},n)=>s.jsx(H9,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));ZRe.displayName=H9.displayName;const K9=({onConversationSelect:e,chatbotId:t,hideFilter:n=!1})=>{const{user:r}=Dt(),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(t||"all"),[d,h]=y.useState(""),[f,m]=y.useState(!0),p=async()=>{if(!r)return;const{data:b,error:w}=await G.from("chatbots").select("id, name").eq("user_id",r.id).order("name");if(w){De({title:"Error",description:"Failed to fetch chatbots",variant:"destructive"});return}l(b||[])},g=async()=>{if(!r)return;m(!0);let b=G.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name,
            user_id
          )
        )
      `).eq("conversations.chatbots.user_id",r.id).order("created_at",{ascending:!1});c!=="all"&&(b=b.eq("conversations.chatbot_id",c));const{data:w,error:_}=await b;if(_){console.error("Error fetching conversations:",_),De({title:"Error",description:"Failed to fetch conversations",variant:"destructive"}),m(!1);return}const N=new Map;w==null||w.forEach(C=>{const k=C.conversation_id;N.has(k)||N.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),N.get(k).messages.push(C)});const S=[];N.forEach((C,k)=>{const A=C.messages.sort((T,E)=>new Date(E.created_at).getTime()-new Date(T.created_at).getTime());if(A.length>0){const T=A[0],E={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:T.content,last_message_time:T.created_at,message_count:A.length,last_sender:T.role};(!d||E.last_message.toLowerCase().includes(d.toLowerCase())||E.chatbot_name.toLowerCase().includes(d.toLowerCase()))&&S.push(E)}}),S.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),i(S),m(!1)};y.useEffect(()=>{n||p()},[r,n]),y.useEffect(()=>{t&&u(t)},[t]),y.useEffect(()=>{g()},[r,c,d]);const v=b=>{const w=new Date(b),N=new Date().getTime()-w.getTime(),S=Math.floor(N/(1e3*60*60*24));return S===0?w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):S===1?"Yesterday":S<7?w.toLocaleDateString([],{weekday:"short"}):w.toLocaleDateString([],{month:"short",day:"numeric"})},x=(b,w=60)=>b.length>w?b.substring(0,w)+"...":b;return r?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-4 border-b bg-background",children:s.jsxs("div",{className:"flex gap-4",children:[!n&&s.jsxs(Be,{value:c,onValueChange:u,children:[s.jsx(Le,{className:"w-[200px]",children:s.jsx(Ue,{placeholder:"Filter by chatbot"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Chatbots"}),o.map(b=>s.jsx(ie,{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ca,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search conversations...",value:d,onChange:b=>h(b.target.value),className:"pl-8"})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto",children:f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversations..."})}):a.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No conversations found."}):s.jsx("div",{className:"p-2",children:a.map(b=>s.jsx(Y,{className:"mb-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>e(b.id),children:s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(un,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:b.chatbot_name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.message_count," messages"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.jsx("span",{className:"font-medium",children:b.last_sender==="user"?"User: ":"Bot: "}),x(b.last_message)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground ml-4 flex-shrink-0",children:v(b.last_message_time)})]})})},b.id))})})]}):s.jsx("div",{children:"Please log in to view conversations."})},J9=({conversationId:e,onBack:t})=>{const{user:n}=Dt(),[r,a]=y.useState([]),[i,o]=y.useState(null),[l,c]=y.useState(!0),u=y.useRef(null),d=()=>{var p;(p=u.current)==null||p.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:p,error:g}=await G.from("messages").select(`
        id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          created_at,
          chatbots!inner(
            name,
            user_id
          )
        )
      `).eq("conversation_id",e).eq("conversations.chatbots.user_id",n.id).order("created_at",{ascending:!0});if(g){console.error("Error fetching conversation:",g),De({title:"Error",description:"Failed to fetch conversation",variant:"destructive"}),c(!1);return}p&&p.length>0&&(a(p.map(v=>({id:v.id,content:v.content,role:v.role,created_at:v.created_at}))),o({id:e,chatbot_name:p[0].conversations.chatbots.name,created_at:p[0].conversations.created_at})),c(!1)};y.useEffect(()=>{h()},[e,n]),y.useEffect(()=>{d()},[r]);const f=p=>new Date(p).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=p=>new Date(p).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(se,{className:"flex-shrink-0 border-b bg-background",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:t,children:[s.jsx(_r,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-lg",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})]})}),s.jsx(Q,{className:"flex-1 overflow-auto p-0",children:s.jsxs("div",{className:"p-4 space-y-4",children:[r.map(p=>s.jsxs("div",{className:`flex items-start gap-3 ${p.role==="user"?"justify-end":"justify-start"}`,children:[p.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(it,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${p.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:p.content}),s.jsx("p",{className:`text-xs mt-1 ${p.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(p.created_at)})]}),p.role==="user"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:s.jsx(Yn,{className:"w-4 h-4 text-secondary-foreground"})})]},p.id)),s.jsx("div",{ref:u})]})})]}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})},pt=y.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));pt.displayName="Textarea";var X9=["PageUp","PageDown"],Q9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Sf="Slider",[Ok,e4e,t4e]=Eg(Sf),[e7,HGe]=Ur(Sf,[t4e]),[n4e,oj]=e7(Sf),t7=y.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:p,...g}=e,v=y.useRef(new Set),x=y.useRef(0),w=o==="horizontal"?r4e:s4e,[_=[],N]=_s({prop:d,defaultProp:u,onChange:E=>{var U;(U=[...v.current][x.current])==null||U.focus(),h(E)}}),S=y.useRef(_);function C(E){const B=c4e(_,E);T(E,B)}function k(E){T(E,x.current)}function A(){const E=S.current[x.current];_[x.current]!==E&&f(_)}function T(E,B,{commit:U}={commit:!1}){const $=f4e(i),F=m4e(Math.round((E-r)/i)*i+r,$),M=hg(F,[r,a]);N((R=[])=>{const D=o4e(R,M,B);if(h4e(D,c*i)){x.current=D.indexOf(M);const L=String(D)!==String(R);return L&&U&&f(D),L?D:R}else return R})}return s.jsx(n4e,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:x,thumbs:v.current,values:_,orientation:o,form:p,children:s.jsx(Ok.Provider,{scope:e.__scopeSlider,children:s.jsx(Ok.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Ne(g.onPointerDown,()=>{l||(S.current=_)}),min:r,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&T(r,0,{commit:!0}),onEndKeyDown:()=>!l&&T(a,_.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:B})=>{if(!l){const F=X9.includes(E.key)||E.shiftKey&&Q9.includes(E.key)?10:1,M=x.current,R=_[M],D=i*F*B;T(R+D,M,{commit:!0})}}})})})})});t7.displayName=Sf;var[n7,r7]=e7(Sf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),r4e=y.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=y.useState(null),m=Xe(t,w=>f(w)),p=y.useRef(),g=ku(a),v=g==="ltr",x=v&&!i||!v&&i;function b(w){const _=p.current||h.getBoundingClientRect(),N=[0,_.width],C=IA(N,x?[n,r]:[r,n]);return p.current=_,C(w-_.left)}return s.jsx(n7,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(s7,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=b(w.clientX);o==null||o(_)},onSlideMove:w=>{const _=b(w.clientX);l==null||l(_)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=Z9[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:N?-1:1})}})})}),s4e=y.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=y.useRef(null),h=Xe(t,d),f=y.useRef(),m=!a;function p(g){const v=f.current||d.current.getBoundingClientRect(),x=[0,v.height],w=IA(x,m?[r,n]:[n,r]);return f.current=v,w(g-v.top)}return s.jsx(n7,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(s7,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=p(g.clientY);i==null||i(v)},onSlideMove:g=>{const v=p(g.clientY);o==null||o(v)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:g=>{const x=Z9[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:x?-1:1})}})})}),s7=y.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=oj(Sf,n);return s.jsx(ze.span,{...u,ref:t,onKeyDown:Ne(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):X9.concat(Q9).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Ne(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Ne(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:Ne(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),a7="SliderTrack",i7=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=oj(a7,n);return s.jsx(ze.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});i7.displayName=a7;var Mk="SliderRange",o7=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=oj(Mk,n),i=r7(Mk,n),o=y.useRef(null),l=Xe(t,o),c=a.values.length,u=a.values.map(f=>c7(f,a.min,a.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(ze.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});o7.displayName=Mk;var Dk="SliderThumb",l7=y.forwardRef((e,t)=>{const n=e4e(e.__scopeSlider),[r,a]=y.useState(null),i=Xe(t,l=>a(l)),o=y.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(a4e,{...e,ref:i,index:o})}),a4e=y.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=oj(Dk,n),l=r7(Dk,n),[c,u]=y.useState(null),d=Xe(t,b=>u(b)),h=c?o.form||!!c.closest("form"):!0,f=Og(c),m=o.values[r],p=m===void 0?0:c7(m,o.min,o.max),g=l4e(r,o.values.length),v=f==null?void 0:f[l.size],x=v?u4e(v,p,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${x}px)`},children:[s.jsx(Ok.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(ze.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Ne(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&s.jsx(i4e,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});l7.displayName=Dk;var i4e=e=>{const{value:t,...n}=e,r=y.useRef(null),a=ov(t);return y.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function o4e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,i)=>a-i)}function c7(e,t,n){const i=100/(n-t)*(e-t);return hg(i,[0,100])}function l4e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function c4e(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function u4e(e,t,n){const r=e/2,i=IA([0,50],[0,r]);return(r-i(t)*n)*n}function d4e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function h4e(e,t){if(t>0){const n=d4e(e);return Math.min(...n)>=t}return!0}function IA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function f4e(e){return(String(e).split(".")[1]||"").length}function m4e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var u7=t7,p4e=i7,g4e=o7,v4e=l7;const $h=y.forwardRef(({className:e,...t},n)=>s.jsxs(u7,{ref:n,className:xe("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(p4e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(g4e,{className:"absolute h-full bg-primary"})}),s.jsx(v4e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));$h.displayName=u7.displayName;var RA="Switch",[x4e,GGe]=Ur(RA),[y4e,b4e]=x4e(RA),d7=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=y.useState(null),p=Xe(t,w=>m(w)),g=y.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,b]=_s({prop:a,defaultProp:i,onChange:u});return s.jsxs(y4e,{scope:n,checked:x,disabled:l,children:[s.jsx(ze.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":m7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onClick:Ne(e.onClick,w=>{b(_=>!_),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&s.jsx(w4e,{control:f,bubbles:!g.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});d7.displayName=RA;var h7="SwitchThumb",f7=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=b4e(h7,n);return s.jsx(ze.span,{"data-state":m7(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});f7.displayName=h7;var w4e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=y.useRef(null),o=ov(n),l=Og(t);return y.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m7(e){return e?"checked":"unchecked"}var p7=d7,j4e=f7;const Rt=y.forwardRef(({className:e,...t},n)=>s.jsx(p7,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(j4e,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=p7.displayName;function _4e(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...p}=h,g=(f==null?void 0:f[e][c])||l,v=y.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,p=y.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,N4e(a,...t)]}function N4e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var b1="rovingFocusGroup.onEntryFocus",S4e={bubbles:!1,cancelable:!0},lj="RovingFocusGroup",[Ik,g7,C4e]=Eg(lj),[k4e,Cf]=_4e(lj,[C4e]),[E4e,P4e]=k4e(lj),v7=y.forwardRef((e,t)=>s.jsx(Ik.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ik.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(A4e,{...e,ref:t})})}));v7.displayName=lj;var A4e=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=y.useRef(null),m=Xe(t,f),p=ku(i),[g=null,v]=_s({prop:o,defaultProp:l,onChange:c}),[x,b]=y.useState(!1),w=jn(u),_=g7(n),N=y.useRef(!1),[S,C]=y.useState(0);return y.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(b1,w),()=>k.removeEventListener(b1,w)},[w]),s.jsx(E4e,{scope:n,orientation:r,dir:p,loop:a,currentTabStopId:g,onItemFocus:y.useCallback(k=>v(k),[v]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>C(k=>k-1),[]),children:s.jsx(ze.div,{tabIndex:x||S===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{N.current=!0}),onFocus:Ne(e.onFocus,k=>{const A=!N.current;if(k.target===k.currentTarget&&A&&!x){const T=new CustomEvent(b1,S4e);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const E=_().filter(M=>M.focusable),B=E.find(M=>M.active),U=E.find(M=>M.id===g),F=[B,U,...E].filter(Boolean).map(M=>M.ref.current);b7(F,d)}}N.current=!1}),onBlur:Ne(e.onBlur,()=>b(!1))})})}),x7="RovingFocusGroupItem",y7=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=Ws(),c=i||l,u=P4e(x7,n),d=u.currentTabStopId===c,h=g7(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return y.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),s.jsx(Ik.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(ze.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ne(e.onMouseDown,p=>{r?u.onItemFocus(c):p.preventDefault()}),onFocus:Ne(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ne(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=M4e(p,u.orientation,u.dir);if(g!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let x=h().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const b=x.indexOf(p.currentTarget);x=u.loop?D4e(x,b+1):x.slice(b+1)}setTimeout(()=>b7(x))}})})})});y7.displayName=x7;var T4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O4e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function M4e(e,t,n){const r=O4e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T4e[r]}function b7(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function D4e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $A=v7,LA=y7,FA="Tabs",[I4e,YGe]=Ur(FA,[Cf]),w7=Cf(),[R4e,BA]=I4e(FA),j7=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ku(l),[h,f]=_s({prop:r,onChange:a,defaultProp:i});return s.jsx(R4e,{scope:n,baseId:Ws(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(ze.div,{dir:d,"data-orientation":o,...u,ref:t})})});j7.displayName=FA;var _7="TabsList",N7=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=BA(_7,n),o=w7(n);return s.jsx($A,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(ze.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});N7.displayName=_7;var S7="TabsTrigger",C7=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=BA(S7,n),l=w7(n),c=P7(o.baseId,r),u=A7(o.baseId,r),d=r===o.value;return s.jsx(LA,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(ze.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ne(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ne(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});C7.displayName=S7;var k7="TabsContent",E7=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=BA(k7,n),c=P7(l.baseId,r),u=A7(l.baseId,r),d=r===l.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Un,{present:a||d,children:({present:f})=>s.jsx(ze.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});E7.displayName=k7;function P7(e,t){return`${e}-trigger-${t}`}function A7(e,t){return`${e}-content-${t}`}var $4e=j7,T7=N7,O7=C7,M7=E7;const kf=$4e,Eu=y.forwardRef(({className:e,...t},n)=>s.jsx(T7,{ref:n,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Eu.displayName=T7.displayName;const Jt=y.forwardRef(({className:e,...t},n)=>s.jsx(O7,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Jt.displayName=O7.displayName;const Xt=y.forwardRef(({className:e,...t},n)=>s.jsx(M7,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xt.displayName=M7.displayName;var UA="Checkbox",[L4e,KGe]=Ur(UA),[F4e,B4e]=L4e(UA),D7=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=y.useState(null),p=Xe(t,_=>m(_)),g=y.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,b]=_s({prop:a,defaultProp:i,onChange:u}),w=y.useRef(x);return y.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const N=()=>b(w.current);return _.addEventListener("reset",N),()=>_.removeEventListener("reset",N)}},[f,b]),s.jsxs(F4e,{scope:n,state:x,disabled:l,children:[s.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":Ol(x)?"mixed":x,"aria-required":o,"data-state":$7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onKeyDown:Ne(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ne(e.onClick,_=>{b(N=>Ol(N)?!0:!N),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&s.jsx(U4e,{control:f,bubbles:!g.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ol(i)?!1:i})]})});D7.displayName=UA;var I7="CheckboxIndicator",R7=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=B4e(I7,n);return s.jsx(Un,{present:r||Ol(i.state)||i.state===!0,children:s.jsx(ze.span,{"data-state":$7(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});R7.displayName=I7;var U4e=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=y.useRef(null),l=ov(n),c=Og(t);y.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const p=new Event("click",{bubbles:r});d.indeterminate=Ol(n),m.call(d,Ol(n)?!1:n),d.dispatchEvent(p)}},[l,n,r]);const u=y.useRef(Ol(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ol(e){return e==="indeterminate"}function $7(e){return Ol(e)?"indeterminate":e?"checked":"unchecked"}var L7=D7,z4e=R7;const Lh=y.forwardRef(({className:e,...t},n)=>s.jsx(L7,{ref:n,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(z4e,{className:xe("flex items-center justify-center text-current"),children:s.jsx(Ag,{className:"h-4 w-4"})})}));Lh.displayName=L7.displayName;function F7(e,t){return function(){return e.apply(t,arguments)}}const{toString:q4e}=Object.prototype,{getPrototypeOf:zA}=Object,{iterator:cj,toStringTag:B7}=Symbol,uj=(e=>t=>{const n=q4e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fi=e=>(e=e.toLowerCase(),t=>uj(t)===e),dj=e=>t=>typeof t===e,{isArray:Ef}=Array,Fh=dj("undefined");function cv(e){return e!==null&&!Fh(e)&&e.constructor!==null&&!Fh(e.constructor)&&ys(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const U7=fi("ArrayBuffer");function V4e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&U7(e.buffer),t}const W4e=dj("string"),ys=dj("function"),z7=dj("number"),uv=e=>e!==null&&typeof e=="object",H4e=e=>e===!0||e===!1,ry=e=>{if(uj(e)!=="object")return!1;const t=zA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(B7 in e)&&!(cj in e)},G4e=e=>{if(!uv(e)||cv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Y4e=fi("Date"),K4e=fi("File"),J4e=fi("Blob"),X4e=fi("FileList"),Q4e=e=>uv(e)&&ys(e.pipe),Z4e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ys(e.append)&&((t=uj(e))==="formdata"||t==="object"&&ys(e.toString)&&e.toString()==="[object FormData]"))},e$e=fi("URLSearchParams"),[t$e,n$e,r$e,s$e]=["ReadableStream","Request","Response","Headers"].map(fi),a$e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Ef(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(cv(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function q7(e,t){if(cv(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,V7=e=>!Fh(e)&&e!==Mc;function Rk(){const{caseless:e,skipUndefined:t}=V7(this)&&this||{},n={},r=(a,i)=>{const o=e&&q7(n,i)||i;ry(n[o])&&ry(a)?n[o]=Rk(n[o],a):ry(a)?n[o]=Rk({},a):Ef(a)?n[o]=a.slice():(!t||!Fh(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&dv(arguments[a],r);return n}const i$e=(e,t,n,{allOwnKeys:r}={})=>(dv(t,(a,i)=>{n&&ys(a)?e[i]=F7(a,n):e[i]=a},{allOwnKeys:r}),e),o$e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),l$e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},c$e=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&zA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},u$e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},d$e=e=>{if(!e)return null;if(Ef(e))return e;let t=e.length;if(!z7(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},h$e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zA(Uint8Array)),f$e=(e,t)=>{const r=(e&&e[cj]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},m$e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},p$e=fi("HTMLFormElement"),g$e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),C$=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),v$e=fi("RegExp"),W7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};dv(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},x$e=e=>{W7(e,(t,n)=>{if(ys(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ys(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},y$e=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Ef(e)?r(e):r(String(e).split(t)),n},b$e=()=>{},w$e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function j$e(e){return!!(e&&ys(e.append)&&e[B7]==="FormData"&&e[cj])}const _$e=e=>{const t=new Array(10),n=(r,a)=>{if(uv(r)){if(t.indexOf(r)>=0)return;if(cv(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Ef(r)?[]:{};return dv(r,(o,l)=>{const c=n(o,a+1);!Fh(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},N$e=fi("AsyncFunction"),S$e=e=>e&&(uv(e)||ys(e))&&ys(e.then)&&ys(e.catch),H7=((e,t)=>e?setImmediate:t?((n,r)=>(Mc.addEventListener("message",({source:a,data:i})=>{a===Mc&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Mc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ys(Mc.postMessage)),C$e=typeof queueMicrotask<"u"?queueMicrotask.bind(Mc):typeof process<"u"&&process.nextTick||H7,k$e=e=>e!=null&&ys(e[cj]),fe={isArray:Ef,isArrayBuffer:U7,isBuffer:cv,isFormData:Z4e,isArrayBufferView:V4e,isString:W4e,isNumber:z7,isBoolean:H4e,isObject:uv,isPlainObject:ry,isEmptyObject:G4e,isReadableStream:t$e,isRequest:n$e,isResponse:r$e,isHeaders:s$e,isUndefined:Fh,isDate:Y4e,isFile:K4e,isBlob:J4e,isRegExp:v$e,isFunction:ys,isStream:Q4e,isURLSearchParams:e$e,isTypedArray:h$e,isFileList:X4e,forEach:dv,merge:Rk,extend:i$e,trim:a$e,stripBOM:o$e,inherits:l$e,toFlatObject:c$e,kindOf:uj,kindOfTest:fi,endsWith:u$e,toArray:d$e,forEachEntry:f$e,matchAll:m$e,isHTMLForm:p$e,hasOwnProperty:C$,hasOwnProp:C$,reduceDescriptors:W7,freezeMethods:x$e,toObjectSet:y$e,toCamelCase:g$e,noop:b$e,toFiniteNumber:w$e,findKey:q7,global:Mc,isContextDefined:V7,isSpecCompliantForm:j$e,toJSONObject:_$e,isAsyncFn:N$e,isThenable:S$e,setImmediate:H7,asap:C$e,isIterable:k$e};function dt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}fe.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const G7=dt.prototype,Y7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y7[e]={value:e}});Object.defineProperties(dt,Y7);Object.defineProperty(G7,"isAxiosError",{value:!0});dt.from=(e,t,n,r,a,i)=>{const o=Object.create(G7);fe.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return dt.call(o,l,c,n,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const E$e=null;function $k(e){return fe.isPlainObject(e)||fe.isArray(e)}function K7(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function k$(e,t,n){return e?e.concat(t).map(function(a,i){return a=K7(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function P$e(e){return fe.isArray(e)&&!e.some($k)}const A$e=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function hj(e,t,n){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!fe.isUndefined(v[g])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(fe.isDate(p))return p.toISOString();if(fe.isBoolean(p))return p.toString();if(!c&&fe.isBlob(p))throw new dt("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(p)||fe.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,v){let x=p;if(p&&!v&&typeof p=="object"){if(fe.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(fe.isArray(p)&&P$e(p)||(fe.isFileList(p)||fe.endsWith(g,"[]"))&&(x=fe.toArray(p)))return g=K7(g),x.forEach(function(w,_){!(fe.isUndefined(w)||w===null)&&t.append(o===!0?k$([g],_,i):o===null?g:g+"[]",u(w))}),!1}return $k(p)?!0:(t.append(k$(v,g,i),u(p)),!1)}const h=[],f=Object.assign(A$e,{defaultVisitor:d,convertValue:u,isVisitable:$k});function m(p,g){if(!fe.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),fe.forEach(p,function(x,b){(!(fe.isUndefined(x)||x===null)&&a.call(t,x,fe.isString(b)?b.trim():b,g,f))===!0&&m(x,g?g.concat(b):[b])}),h.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return m(e),t}function E$(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function qA(e,t){this._pairs=[],e&&hj(e,this,t)}const J7=qA.prototype;J7.append=function(t,n){this._pairs.push([t,n])};J7.toString=function(t){const n=t?function(r){return t.call(this,r,E$)}:E$;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function T$e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function X7(e,t,n){if(!t)return e;const r=n&&n.encode||T$e;fe.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=fe.isURLSearchParams(t)?t.toString():new qA(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class P${constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Q7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O$e=typeof URLSearchParams<"u"?URLSearchParams:qA,M$e=typeof FormData<"u"?FormData:null,D$e=typeof Blob<"u"?Blob:null,I$e={isBrowser:!0,classes:{URLSearchParams:O$e,FormData:M$e,Blob:D$e},protocols:["http","https","file","blob","url","data"]},VA=typeof window<"u"&&typeof document<"u",Lk=typeof navigator=="object"&&navigator||void 0,R$e=VA&&(!Lk||["ReactNative","NativeScript","NS"].indexOf(Lk.product)<0),$$e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L$e=VA&&window.location.href||"http://localhost",F$e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VA,hasStandardBrowserEnv:R$e,hasStandardBrowserWebWorkerEnv:$$e,navigator:Lk,origin:L$e},Symbol.toStringTag,{value:"Module"})),$r={...F$e,...I$e};function B$e(e,t){return hj(e,new $r.classes.URLSearchParams,{visitor:function(n,r,a,i){return $r.isNode&&fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function U$e(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function z$e(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Z7(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&fe.isArray(a)?a.length:o,c?(fe.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!fe.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&fe.isArray(a[o])&&(a[o]=z$e(a[o])),!l)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const n={};return fe.forEachEntry(e,(r,a)=>{t(U$e(r),a,n,0)}),n}return null}function q$e(e,t,n){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const hv={transitional:Q7,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=fe.isObject(t);if(i&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return a?JSON.stringify(Z7(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B$e(t,this.formSerializer).toString();if((l=fe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return hj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),q$e(t)):t}],transformResponse:[function(t){const n=this.transitional||hv.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?dt.from(l,dt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$r.classes.FormData,Blob:$r.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{hv.headers[e]={}});const V$e=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W$e=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&V$e[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},A$=Symbol("internals");function um(e){return e&&String(e).trim().toLowerCase()}function sy(e){return e===!1||e==null?e:fe.isArray(e)?e.map(sy):String(e)}function H$e(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const G$e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function w1(e,t,n,r,a){if(fe.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!fe.isString(t)){if(fe.isString(r))return t.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(t)}}function Y$e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function K$e(e,t){const n=fe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class bs{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const d=um(c);if(!d)throw new Error("header name must be a non-empty string");const h=fe.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=sy(l))}const o=(l,c)=>fe.forEach(l,(u,d)=>i(u,d,c));if(fe.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(fe.isString(t)&&(t=t.trim())&&!G$e(t))o(W$e(t),n);else if(fe.isObject(t)&&fe.isIterable(t)){let l={},c,u;for(const d of t){if(!fe.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?fe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=um(t),t){const r=fe.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return H$e(a);if(fe.isFunction(n))return n.call(this,a,r);if(fe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=um(t),t){const r=fe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||w1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=um(o),o){const l=fe.findKey(r,o);l&&(!n||w1(r,r[l],l,n))&&(delete r[l],a=!0)}}return fe.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||w1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return fe.forEach(this,(a,i)=>{const o=fe.findKey(r,i);if(o){n[o]=sy(a),delete n[i];return}const l=t?Y$e(i):String(i).trim();l!==i&&delete n[i],n[l]=sy(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return fe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[A$]=this[A$]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=um(o);r[l]||(K$e(a,o),r[l]=!0)}return fe.isArray(t)?t.forEach(i):i(t),this}}bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(bs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});fe.freezeMethods(bs);function j1(e,t){const n=this||hv,r=t||n,a=bs.from(r.headers);let i=r.data;return fe.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function eH(e){return!!(e&&e.__CANCEL__)}function Pf(e,t,n){dt.call(this,e??"canceled",dt.ERR_CANCELED,t,n),this.name="CanceledError"}fe.inherits(Pf,dt,{__CANCEL__:!0});function tH(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new dt("Request failed with status code "+n.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function J$e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function X$e(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[a]=c,r[a]=u;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function Q$e(e,t){let n=0,r=1e3/t,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const n0=(e,t,n=3)=>{let r=0;const a=X$e(50,250);return Q$e(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},T$=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},O$=e=>(...t)=>fe.asap(()=>e(...t)),Z$e=$r.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$r.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($r.origin),$r.navigator&&/(msie|trident)/i.test($r.navigator.userAgent)):()=>!0,eLe=$r.hasStandardBrowserEnv?{write(e,t,n,r,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];fe.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),fe.isString(r)&&l.push(`path=${r}`),fe.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),fe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tLe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nLe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nH(e,t,n){let r=!tLe(t);return e&&(r||n==!1)?nLe(e,t):t}const M$=e=>e instanceof bs?{...e}:e;function mu(e,t){t=t||{};const n={};function r(u,d,h,f){return fe.isPlainObject(u)&&fe.isPlainObject(d)?fe.merge.call({caseless:f},u,d):fe.isPlainObject(d)?fe.merge({},d):fe.isArray(d)?d.slice():d}function a(u,d,h,f){if(fe.isUndefined(d)){if(!fe.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!fe.isUndefined(d))return r(void 0,d)}function o(u,d){if(fe.isUndefined(d)){if(!fe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(M$(u),M$(d),h,!0)};return fe.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||a,f=h(e[d],t[d],d);fe.isUndefined(f)&&h!==l||(n[d]=f)}),n}const rH=e=>{const t=mu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=bs.from(o),t.url=X7(nH(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),fe.isFormData(n)){if($r.hasStandardBrowserEnv||$r.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(fe.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if($r.hasStandardBrowserEnv&&(r&&fe.isFunction(r)&&(r=r(t)),r||r!==!1&&Z$e(t.url))){const c=a&&i&&eLe.read(i);c&&o.set(a,c)}return t},rLe=typeof XMLHttpRequest<"u",sLe=rLe&&function(e){return new Promise(function(n,r){const a=rH(e);let i=a.data;const o=bs.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,f,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const w=bs.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};tH(function(C){n(C),g()},function(C){r(C),g()},N),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(r(new dt("Request aborted",dt.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const N=_&&_.message?_.message:"Network Error",S=new dt(N,dt.ERR_NETWORK,e,v);S.event=_||null,r(S),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||Q7;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),r(new dt(_,N.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&fe.forEach(o.toJSON(),function(_,N){v.setRequestHeader(N,_)}),fe.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([f,p]=n0(u,!0),v.addEventListener("progress",f)),c&&v.upload&&([h,m]=n0(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(r(!w||w.type?new Pf(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=J$e(a.url);if(b&&$r.protocols.indexOf(b)===-1){r(new dt("Unsupported protocol "+b+":",dt.ERR_BAD_REQUEST,e));return}v.send(i||null)})},aLe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof dt?d:new Pf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new dt(`timeout ${t} of ms exceeded`,dt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>fe.asap(l),c}},iLe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},oLe=async function*(e,t){for await(const n of lLe(e))yield*iLe(n,t)},lLe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},D$=(e,t,n,r)=>{const a=oLe(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},I$=64*1024,{isFunction:bx}=fe,cLe=(({Request:e,Response:t})=>({Request:e,Response:t}))(fe.global),{ReadableStream:R$,TextEncoder:$$}=fe.global,L$=(e,...t)=>{try{return!!e(...t)}catch{return!1}},uLe=e=>{e=fe.merge.call({skipUndefined:!0},cLe,e);const{fetch:t,Request:n,Response:r}=e,a=t?bx(t):typeof fetch=="function",i=bx(n),o=bx(r);if(!a)return!1;const l=a&&bx(R$),c=a&&(typeof $$=="function"?(p=>g=>p.encode(g))(new $$):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=i&&l&&L$(()=>{let p=!1;const g=new n($r.origin,{body:new R$,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=o&&l&&L$(()=>fe.isReadableStream(new r("").body)),h={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(g,v)=>{let x=g&&g[p];if(x)return x.call(g);throw new dt(`Response type '${p}' is not supported`,dt.ERR_NOT_SUPPORT,v)})});const f=async p=>{if(p==null)return 0;if(fe.isBlob(p))return p.size;if(fe.isSpecCompliantForm(p))return(await new n($r.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(p)||fe.isArrayBuffer(p))return p.byteLength;if(fe.isURLSearchParams(p)&&(p=p+""),fe.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const v=fe.toFiniteNumber(p.getContentLength());return v??f(g)};return async p=>{let{url:g,method:v,data:x,signal:b,cancelToken:w,timeout:_,onDownloadProgress:N,onUploadProgress:S,responseType:C,headers:k,withCredentials:A="same-origin",fetchOptions:T}=rH(p),E=t||fetch;C=C?(C+"").toLowerCase():"text";let B=aLe([b,w&&w.toAbortSignal()],_),U=null;const $=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let F;try{if(S&&u&&v!=="get"&&v!=="head"&&(F=await m(k,x))!==0){let z=new n(g,{method:"POST",body:x,duplex:"half"}),H;if(fe.isFormData(x)&&(H=z.headers.get("content-type"))&&k.setContentType(H),z.body){const[j,P]=T$(F,n0(O$(S)));x=D$(z.body,I$,j,P)}}fe.isString(A)||(A=A?"include":"omit");const M=i&&"credentials"in n.prototype,R={...T,signal:B,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:M?A:void 0};U=i&&new n(g,R);let D=await(i?E(U,T):E(g,R));const L=d&&(C==="stream"||C==="response");if(d&&(N||L&&$)){const z={};["status","statusText","headers"].forEach(O=>{z[O]=D[O]});const H=fe.toFiniteNumber(D.headers.get("content-length")),[j,P]=N&&T$(H,n0(O$(N),!0))||[];D=new r(D$(D.body,I$,j,()=>{P&&P(),$&&$()}),z)}C=C||"text";let I=await h[fe.findKey(h,C)||"text"](D,p);return!L&&$&&$(),await new Promise((z,H)=>{tH(z,H,{data:I,headers:bs.from(D.headers),status:D.status,statusText:D.statusText,config:p,request:U})})}catch(M){throw $&&$(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,p,U),{cause:M.cause||M}):dt.from(M,M&&M.code,p,U)}}},dLe=new Map,sH=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let o=i.length,l=o,c,u,d=dLe;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:uLe(t)),d=u;return u};sH();const WA={http:E$e,xhr:sLe,fetch:{get:sH}};fe.forEach(WA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const F$=e=>`- ${e}`,hLe=e=>fe.isFunction(e)||e===null||e===!1;function fLe(e,t){e=fe.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(a=r,!hLe(r)&&(a=WA[(l=String(r)).toLowerCase()],a===void 0))throw new dt(`Unknown adapter '${l}'`);if(a&&(fe.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(F$).join(`
`):" "+F$(o[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const aH={getAdapter:fLe,adapters:WA};function _1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pf(null,e)}function B$(e){return _1(e),e.headers=bs.from(e.headers),e.data=j1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aH.getAdapter(e.adapter||hv.adapter,e)(e).then(function(r){return _1(e),r.data=j1.call(e,e.transformResponse,r),r.headers=bs.from(r.headers),r},function(r){return eH(r)||(_1(e),r&&r.response&&(r.response.data=j1.call(e,e.transformResponse,r.response),r.response.headers=bs.from(r.response.headers))),Promise.reject(r)})}const iH="1.13.2",fj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const U$={};fj.transitional=function(t,n,r){function a(i,o){return"[Axios v"+iH+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new dt(a(o," has been removed"+(n?" in "+n:"")),dt.ERR_DEPRECATED);return n&&!U$[o]&&(U$[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};fj.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function mLe(e,t,n){if(typeof e!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new dt("option "+i+" must be "+c,dt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dt("Unknown option "+i,dt.ERR_BAD_OPTION)}}const ay={assertOptions:mLe,validators:fj},xi=ay.validators;class Gc{constructor(t){this.defaults=t||{},this.interceptors={request:new P$,response:new P$}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mu(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&ay.assertOptions(r,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),a!=null&&(fe.isFunction(a)?n.paramsSerializer={serialize:a}:ay.assertOptions(a,{encode:xi.function,serialize:xi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ay.assertOptions(n,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&fe.merge(i.common,i[n.method]);i&&fe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=bs.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,f;if(!c){const p=[B$.bind(this),void 0];for(p.unshift(...l),p.push(...u),f=p.length,d=Promise.resolve(n);h<f;)d=d.then(p[h++],p[h++]);return d}f=l.length;let m=n;for(;h<f;){const p=l[h++],g=l[h++];try{m=p(m)}catch(v){g.call(this,v);break}}try{d=B$.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=mu(this.defaults,t);const n=nH(t.baseURL,t.url,t.allowAbsoluteUrls);return X7(n,t.params,t.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(t){Gc.prototype[t]=function(n,r){return this.request(mu(r||{},{method:t,url:n,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(mu(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Gc.prototype[t]=n(),Gc.prototype[t+"Form"]=n(!0)});class HA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Pf(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new HA(function(a){t=a}),cancel:t}}}function pLe(e){return function(n){return e.apply(null,n)}}function gLe(e){return fe.isObject(e)&&e.isAxiosError===!0}const Fk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fk).forEach(([e,t])=>{Fk[t]=e});function oH(e){const t=new Gc(e),n=F7(Gc.prototype.request,t);return fe.extend(n,Gc.prototype,t,{allOwnKeys:!0}),fe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return oH(mu(e,a))},n}const Dn=oH(hv);Dn.Axios=Gc;Dn.CanceledError=Pf;Dn.CancelToken=HA;Dn.isCancel=eH;Dn.VERSION=iH;Dn.toFormData=hj;Dn.AxiosError=dt;Dn.Cancel=Dn.CanceledError;Dn.all=function(t){return Promise.all(t)};Dn.spread=pLe;Dn.isAxiosError=gLe;Dn.mergeConfig=mu;Dn.AxiosHeaders=bs;Dn.formToJSON=e=>Z7(fe.isHTMLForm(e)?new FormData(e):e);Dn.getAdapter=aH.getAdapter;Dn.HttpStatusCode=Fk;Dn.default=Dn;const vLe="https://voxtro-backend.onrender.com";class xLe{constructor(){ct(this,"client");this.client=Dn.create({baseURL:vLe,headers:{"Content-Type":"application/json"},timeout:3e4}),this.client.interceptors.request.use(async t=>{try{const{data:{session:n}}=await G.auth.getSession();n!=null&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error getting session:",n)}return t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var r,a,i;((r=t.response)==null?void 0:r.status)===401&&(console.error("Authentication error - redirecting to login"),window.location.href="/auth");const n=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.detail)||t.message||"An unexpected error occurred";return Promise.reject(new Error(n))})}async get(t,n){return(await this.client.get(t,{params:n})).data}async post(t,n){return(await this.client.post(t,n)).data}async patch(t,n){return(await this.client.patch(t,n)).data}async delete(t){return(await this.client.delete(t)).data}async put(t,n){return(await this.client.put(t,n)).data}}const In=new xLe;async function yLe(e){return In.post("/api/chat/message",e)}async function z$(e){return In.post("/api/chat/crawl",e)}function GA({chatbotId:e,websiteUrl:t="",websiteContent:n,crawlStatus:r="pending",lastCrawledAt:a,onWebsiteUpdate:i,onCrawlComplete:o}){const[l,c]=y.useState(t),[u,d]=y.useState(!1),[h,f]=y.useState([]),[m,p]=y.useState([]),[g,v]=y.useState(!1),{toast:x}=bn(),b=async()=>{if(l.trim()){d(!0);try{const N=await z$({chatbot_id:e,url:l,discover_only:!0});N!=null&&N.pages&&(f(N.pages),p(N.pages.slice(0,5)),v(!0))}catch{x({title:"Error",description:"Failed to discover pages",variant:"destructive"})}finally{d(!1)}}},w=async()=>{if(!l.trim()){x({title:"Error",description:"Please enter a website URL",variant:"destructive"});return}if(!e){x({title:"Error",description:"No chatbot selected",variant:"destructive"});return}d(!0);try{i==null||i(l);const N=await z$({chatbot_id:e,url:l,selected_pages:m.length>0?m:void 0});N!=null&&N.success?(x({title:"Success",description:`Website crawled successfully! ${N.pagesCount} pages processed.`}),o==null||o()):x({title:"Error",description:(N==null?void 0:N.error)||"Failed to crawl website",variant:"destructive"})}catch(N){console.error("Crawl error:",N),x({title:"Error",description:"Failed to crawl website",variant:"destructive"})}finally{d(!1)}},_=()=>{switch(r){case"completed":return s.jsxs(Ce,{variant:"default",className:"bg-green-100 text-green-800",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Completed"]});case"crawling":return s.jsxs(Ce,{variant:"secondary",children:[s.jsx(Gn,{className:"h-3 w-3 mr-1 animate-spin"}),"Crawling..."]});case"failed":return s.jsxs(Ce,{variant:"destructive",children:[s.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return s.jsx(Ce,{variant:"outline",children:"Pending"})}};return s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(lh,{className:"h-5 w-5"}),"Website Content"]}),s.jsx(je,{children:"Crawl your website to provide context to your chatbot"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{type:"url",placeholder:"https://example.com",value:l,onChange:N=>c(N.target.value),className:"flex-1",disabled:u}),s.jsx(ee,{onClick:b,disabled:u||!l.trim(),variant:"outline",className:"min-w-[100px]",children:"Discover Pages"}),s.jsx(ee,{onClick:w,disabled:u||!l.trim()||g&&m.length===0,className:"min-w-[100px]",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"h-4 w-4 mr-2 animate-spin"}),"Crawling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ps,{className:"h-4 w-4 mr-2"}),n?"Re-crawl":"Crawl"]})})]}),g&&h.length>0&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("h4",{className:"font-semibold mb-2",children:["Select Pages to Crawl (",m.length," selected)"]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:h.map((N,S)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lh,{id:`page-${S}`,checked:m.includes(N),onCheckedChange:C=>{p(C?[...m,N]:m.filter(k=>k!==N))}}),s.jsx("label",{htmlFor:`page-${S}`,className:"text-sm cursor-pointer flex-1 truncate",children:N})]},S))})]}),l&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),_()]}),a&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last crawled: ",new Date(a).toLocaleString()]})]})]})]})}const dr=vP,Pu=uz,bLe=xP,lH=y.forwardRef(({className:e,...t},n)=>s.jsx(Ug,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lH.displayName=Ug.displayName;const Kn=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(bLe,{children:[s.jsx(lH,{}),s.jsxs(zg,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(pw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kn.displayName=zg.displayName;const Jn=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jn.displayName="DialogHeader";const YA=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});YA.displayName="DialogFooter";const Xn=y.forwardRef(({className:e,...t},n)=>s.jsx(qg,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));Xn.displayName=qg.displayName;const Hi=y.forwardRef(({className:e,...t},n)=>s.jsx(Vg,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));Hi.displayName=Vg.displayName;const N1=[{id:"email_send",name:"Send Email",description:"Send emails to users or notify team members",icon:Ns},{id:"webhook_call",name:"Webhook Call",description:"Call external APIs or services",icon:Hte},{id:"custom_tool",name:"Custom Tool",description:"Create a custom tool with configurable parameters for automation",icon:gs}];function q$({chatbotId:e,onSuccess:t,action:n}){var S,C,k;const[r,a]=y.useState((n==null?void 0:n.action_type)||""),[i,o]=y.useState((n==null?void 0:n.name)||""),[l,c]=y.useState((n==null?void 0:n.description)||""),[u,d]=y.useState((n==null?void 0:n.configuration)||{}),[h,f]=y.useState(!1),[m,p]=y.useState((n==null?void 0:n.action_type)==="custom_tool"&&((S=n==null?void 0:n.configuration)!=null&&S.parameters)?n.configuration.parameters:[]),{toast:g}=bn(),v=async A=>{if(A.preventDefault(),!r||!i.trim()){g({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f(!0);try{const T=r==="custom_tool"?{...u,parameters:m}:u;if(n){const{error:E}=await G.from("chatbot_actions").update({action_type:r,name:i.trim(),description:l.trim(),configuration:T}).eq("id",n.id);if(E)throw E;g({title:"Success",description:"Action updated successfully"})}else{const{error:E}=await G.from("chatbot_actions").insert({chatbot_id:e,action_type:r,name:i.trim(),description:l.trim(),configuration:T,is_active:!0});if(E)throw E;g({title:"Success",description:"Action created successfully"})}t()}catch(T){console.error("Error creating action:",T),g({title:"Error",description:"Failed to create action",variant:"destructive"})}finally{f(!1)}},x=(A,T)=>{d(E=>({...E,[A]:T}))},b=()=>{p(A=>[...A,{name:"",type:"text",description:"",required:!1}])},w=A=>{p(T=>T.filter((E,B)=>B!==A))},_=(A,T,E)=>{p(B=>B.map((U,$)=>$===A?{...U,[T]:E}:U))},N=()=>{var A,T,E,B,U;switch(r){case"email_send":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-provider",children:"Email Provider"}),s.jsxs(Be,{value:u.provider||"",onValueChange:$=>x("provider",$),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select email provider"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"smtp",children:"SMTP"}),s.jsx(ie,{value:"sendgrid",children:"SendGrid"}),s.jsx(ie,{value:"mailgun",children:"Mailgun"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-from",children:"From Email"}),s.jsx(ue,{id:"email-from",type:"email",placeholder:"noreply@yourcompany.com",value:u.fromEmail||"",onChange:$=>x("fromEmail",$.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-to",children:"Default To Email"}),s.jsx(ue,{id:"email-to",type:"email",placeholder:"support@yourcompany.com",value:u.defaultToEmail||"",onChange:$=>x("defaultToEmail",$.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-template",children:"Email Template"}),s.jsx(pt,{id:"email-template",placeholder:"Enter email template...",value:u.emailTemplate||"",onChange:$=>x("emailTemplate",$.target.value)})]})]});case"webhook_call":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(ue,{id:"webhook-url",type:"url",placeholder:"https://api.yourservice.com/webhook",value:u.webhookUrl||"",onChange:$=>x("webhookUrl",$.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-method",children:"HTTP Method"}),s.jsxs(Be,{value:u.method||"POST",onValueChange:$=>x("method",$),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select HTTP method"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"POST",children:"POST"}),s.jsx(ie,{value:"PUT",children:"PUT"}),s.jsx(ie,{value:"PATCH",children:"PATCH"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-headers",children:"Headers (JSON)"}),s.jsx(pt,{id:"webhook-headers",placeholder:'{"Authorization": "Bearer YOUR_TOKEN"}',value:u.headers||"",onChange:$=>x("headers",$.target.value)})]})]});case"custom_tool":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(ue,{id:"webhook-url",type:"url",placeholder:"https://hook.make.com/your-webhook-id",value:u.webhookUrl||"",onChange:$=>x("webhookUrl",$.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Connect to Make.com, Zapier, or any webhook endpoint"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"tool-trigger",children:"Tool Trigger Phrase"}),s.jsx(ue,{id:"tool-trigger",placeholder:"e.g., 'book appointment', 'send notification'",value:u.triggerPhrase||"",onChange:$=>x("triggerPhrase",$.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"When users say this phrase, the tool will be triggered"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(ne,{children:"Custom Parameters"}),s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),"Add Parameter"]})]}),m.map(($,F)=>s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-name-${F}`,children:"Parameter Name"}),s.jsx(ue,{id:`param-name-${F}`,placeholder:"e.g., customer_email",value:$.name,onChange:M=>_(F,"name",M.target.value)})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-type-${F}`,children:"Parameter Type"}),s.jsxs(Be,{value:$.type,onValueChange:M=>_(F,"type",M),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"text",children:"Text"}),s.jsx(ie,{value:"email",children:"Email"}),s.jsx(ie,{value:"number",children:"Number"}),s.jsx(ie,{value:"date",children:"Date"}),s.jsx(ie,{value:"phone",children:"Phone"})]})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ne,{htmlFor:`param-desc-${F}`,children:"Description"}),s.jsx(ue,{id:`param-desc-${F}`,placeholder:"Describe what this parameter is for",value:$.description,onChange:M=>_(F,"description",M.target.value)})]}),s.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:$.required,onChange:M=>_(F,"required",M.target.checked),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:"Required parameter"})]}),s.jsxs(ee,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(F),className:"flex items-center gap-2",children:[s.jsx(zt,{className:"h-4 w-4"}),"Remove"]})]})]})},F)),m.length===0&&s.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"No parameters added yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add parameters that your automation tool needs"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Ns,{className:"h-5 w-5"})," Email Automation"]}),s.jsx(je,{children:"Automatically send emails when this tool is triggered and all required parameters are collected"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"email-automation-enabled",checked:((A=u.emailAutomation)==null?void 0:A.enabled)||!1,onChange:$=>x("emailAutomation",{...u.emailAutomation,enabled:$.target.checked}),className:"rounded border-gray-300"}),s.jsx(ne,{htmlFor:"email-automation-enabled",children:"Enable email trigger for this tool"})]}),((T=u.emailAutomation)==null?void 0:T.enabled)&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(ue,{id:"email-subject",placeholder:"e.g., New Lead from {{bot_name}}",value:((E=u.emailAutomation)==null?void 0:E.subject)||"",onChange:$=>x("emailAutomation",{...u.emailAutomation,subject:$.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use ","{{bot_name}}"," for chatbot name and parameter names like ","{{name}}, {{email}}"]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-body",children:"Email Body Template"}),s.jsx(pt,{id:"email-body",placeholder:`Name: {{name}}
Email: {{email}}
Service: {{service}}
Notes: {{notes}}`,value:((B=u.emailAutomation)==null?void 0:B.body)||"",onChange:$=>x("emailAutomation",{...u.emailAutomation,body:$.target.value}),rows:6}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use dynamic variables from your tool parameters (e.g., ","{{name}}, {{email}}, {{service}}",")"]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email-recipients",children:"Recipient Email(s)"}),s.jsx(ue,{id:"email-recipients",placeholder:"admin@company.com, {{email}}",value:((U=u.emailAutomation)==null?void 0:U.recipients)||"",onChange:$=>x("emailAutomation",{...u.emailAutomation,recipients:$.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Comma-separated emails. Use ","{{email}}"," or other parameters as recipients"]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:" Example Configuration:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Subject:"})," New Lead from ","{{bot_name}}"]}),s.jsx("p",{children:s.jsx("strong",{children:"Body:"})}),s.jsxs("pre",{className:"bg-background p-2 rounded text-xs whitespace-pre-wrap",children:["Name: ","{{name}}",`
`,"Email: ","{{email}}",`
`,"Service: ","{{service}}",`
`,"Notes: ","{{notes}}"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Recipients:"})," support@company.com, ","{{email}}"]})]})]})]})]})]})]});default:return null}};return s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"action-type",children:"Action Type"}),s.jsxs(Be,{value:r,onValueChange:a,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select action type"})}),s.jsx(Fe,{children:N1.map(A=>s.jsx(ie,{value:A.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A.icon,{className:"h-4 w-4"}),A.name]})},A.id))})]})]}),r&&s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:(C=N1.find(A=>A.id===r))==null?void 0:C.name}),s.jsx(je,{children:(k=N1.find(A=>A.id===r))==null?void 0:k.description})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"action-name",children:"Action Name"}),s.jsx(ue,{id:"action-name",placeholder:"e.g., Book Appointment",value:i,onChange:A=>o(A.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"action-description",children:"Description"}),s.jsx(pt,{id:"action-description",placeholder:"Describe what this action does...",value:l,onChange:A=>c(A.target.value)})]}),N()]})})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(ee,{type:"submit",disabled:h||!r||!i.trim(),children:h?n?"Updating...":"Creating...":n?"Update Action":"Create Action"})})]})}function cH({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(null),{toast:u}=bn();y.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:g,error:v}=await G.from("chatbot_actions").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(v)throw v;n(g||[])}catch(g){console.error("Error fetching actions:",g),u({title:"Error",description:"Failed to fetch actions",variant:"destructive"})}finally{a(!1)}},h=async(g,v)=>{try{const{error:x}=await G.from("chatbot_actions").update({is_active:!v}).eq("id",g);if(x)throw x;await d(),u({title:"Success",description:`Action ${v?"disabled":"enabled"} successfully`})}catch(x){console.error("Error toggling action:",x),u({title:"Error",description:"Failed to toggle action",variant:"destructive"})}},f=async g=>{try{const{error:v}=await G.from("chatbot_actions").delete().eq("id",g);if(v)throw v;await d(),u({title:"Success",description:"Action deleted successfully"})}catch(v){console.error("Error deleting action:",v),u({title:"Error",description:"Failed to delete action",variant:"destructive"})}},m=g=>{switch(g){case"calendar_booking":return"Calendar Booking";case"email_send":return"Send Email";case"webhook_call":return"Webhook Call";case"zapier_trigger":return"Zapier Trigger";case"custom_tool":return"Custom Tool";default:return g}},p=g=>{switch(g){case"calendar_booking":return"bg-blue-100 text-blue-800";case"email_send":return"bg-green-100 text-green-800";case"webhook_call":return"bg-purple-100 text-purple-800";case"zapier_trigger":return"bg-orange-100 text-orange-800";case"custom_tool":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx(Y,{children:s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(je,{children:"Loading actions..."})]})}):s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(je,{children:"Configure actions your chatbot can perform, like booking appointments or sending emails"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.length," action",t.length!==1?"s":""," configured"]}),s.jsxs(dr,{open:i,onOpenChange:o,children:[s.jsx(Pu,{asChild:!0,children:s.jsxs(ee,{size:"sm",type:"button",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Add Action"]})}),s.jsxs(Kn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:"Add New Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:s.jsx(q$,{chatbotId:e,onSuccess:()=>{o(!1),d()}})})]})]})]}),s.jsx(dr,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(Kn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:"Edit Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:l&&s.jsx(q$,{chatbotId:e,action:l,onSuccess:()=>{c(null),d()}})})]})}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"font-semibold mb-2",children:"No actions configured"}),s.jsx("p",{className:"text-sm mb-4",children:"Add actions to let your chatbot perform tasks like booking appointments or sending emails"}),s.jsxs(ee,{onClick:()=>o(!0),type:"button",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Add Your First Action"]})]}):s.jsx("div",{className:"space-y-3",children:t.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium",children:g.name}),s.jsx(Ce,{className:p(g.action_type),children:m(g.action_type)}),s.jsx(Ce,{variant:g.is_active?"default":"secondary",children:g.is_active?"Active":"Inactive"})]}),g.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(g.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:"ghost",size:"sm",type:"button",onClick:()=>c(g),title:"Edit action",children:s.jsx(dS,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"sm",type:"button",onClick:()=>h(g.id,g.is_active),children:g.is_active?s.jsx(Ute,{className:"h-4 w-4"}):s.jsx(r8,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"sm",type:"button",onClick:()=>f(g.id),children:s.jsx(zt,{className:"h-4 w-4"})})]})]},g.id))})]})]})}function uH({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!1),[i,o]=y.useState({question:"",answer:""}),{toast:l}=bn();y.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:m,error:p}=await G.from("chatbot_faqs").select("*").eq("chatbot_id",e).order("sort_order");if(p)throw p;n(m||[])}catch{l({title:"Error",description:"Failed to fetch FAQs",variant:"destructive"})}},u=async()=>{if(!(!i.question.trim()||!i.answer.trim())){a(!0);try{const m=Math.max(...t.map(g=>g.sort_order),-1),{error:p}=await G.from("chatbot_faqs").insert({chatbot_id:e,question:i.question.trim(),answer:i.answer.trim(),sort_order:m+1});if(p)throw p;o({question:"",answer:""}),c(),l({title:"Success",description:"FAQ added successfully"})}catch{l({title:"Error",description:"Failed to add FAQ",variant:"destructive"})}finally{a(!1)}}},d=async m=>{if(confirm("Are you sure you want to delete this FAQ?"))try{const{error:p}=await G.from("chatbot_faqs").delete().eq("id",m);if(p)throw p;c(),l({title:"Success",description:"FAQ deleted successfully"})}catch{l({title:"Error",description:"Failed to delete FAQ",variant:"destructive"})}},h=async(m,p)=>{try{const{error:g}=await G.from("chatbot_faqs").update({is_active:p}).eq("id",m);if(g)throw g;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}},f=async(m,p,g)=>{try{const{error:v}=await G.from("chatbot_faqs").update({[p]:g}).eq("id",m);if(v)throw v;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}};return s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-5 w-5 text-primary"}),"Frequently Asked Questions"]}),s.jsx(je,{children:"Create quick-send buttons for common questions that visitors can click to ask"})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/10",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"new-question",className:"text-sm font-medium",children:"Question"}),s.jsx(ue,{id:"new-question",placeholder:"Enter a frequently asked question...",value:i.question,onChange:m=>o(p=>({...p,question:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"new-answer",className:"text-sm font-medium",children:"Answer"}),s.jsx(pt,{id:"new-answer",placeholder:"Enter the answer the chatbot should give...",value:i.answer,onChange:m=>o(p=>({...p,answer:m.target.value})),rows:3})]}),s.jsxs(ee,{onClick:u,disabled:r||!i.question.trim()||!i.answer.trim(),className:"w-full",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Add FAQ"]})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ft,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No FAQs yet. Add your first FAQ to get started!"})]}):t.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{checked:m.is_active,onCheckedChange:p=>h(m.id,p)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:m.is_active?"Active":"Inactive"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>d(m.id),className:"text-destructive hover:text-destructive",children:s.jsx(zt,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Question"}),s.jsx(ue,{value:m.question,onChange:p=>f(m.id,"question",p.target.value),placeholder:"Enter the question visitors will see...",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Answer"}),s.jsx(pt,{value:m.answer||"",onChange:p=>f(m.id,"answer",p.target.value),placeholder:"Enter the answer the chatbot should give...",rows:3,className:"mt-1 resize-none"})]})]},m.id))}),t.length>0&&s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[s.jsx("strong",{children:"Tip:"})," These questions will appear as clickable buttons in your chat widget, making it easy for visitors to ask common questions. Only active FAQs will be shown."]})]})]})}function dH({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0);y.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:c,error:u}=await G.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(u)throw u;n(c||[])}catch(c){console.error("Error fetching forms:",c),ve.error("Failed to load forms")}finally{a(!1)}},o=async(c,u)=>{try{const{error:d}=await G.from("chatbot_forms").update({is_active:!u}).eq("id",c);if(d)throw d;n(t.map(h=>h.id===c?{...h,is_active:!u}:h)),ve.success(`Form ${u?"deactivated":"activated"}`)}catch(d){console.error("Error toggling form status:",d),ve.error("Failed to update form status")}},l=async c=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:u}=await G.from("chatbot_forms").delete().eq("id",c);if(u)throw u;n(t.filter(d=>d.id!==c)),ve.success("Form deleted successfully")}catch(u){console.error("Error deleting form:",u),ve.error("Failed to delete form")}};return r?s.jsx("div",{children:"Loading forms..."}):t.length===0?s.jsx(Y,{children:s.jsx(Q,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No forms created yet. Go to the Forms section to create forms for this chatbot."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage which forms are active for this chatbot. Active forms will be triggered when users mention the associated keywords."}),t.map(c=>s.jsxs(Y,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Lh,{checked:c.is_active,onCheckedChange:()=>o(c.id,c.is_active)}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm",children:c.form_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.form_title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{variant:c.is_active?"default":"secondary",children:c.is_active?"Active":"Inactive"}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>l(c.id),className:"text-destructive hover:text-destructive",children:s.jsx(zt,{className:"h-4 w-4"})})]})]})}),c.form_description&&s.jsx(Q,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:c.form_description})}),c.trigger_keywords&&c.trigger_keywords.length>0&&s.jsx(Q,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Keywords:"}),c.trigger_keywords.map((u,d)=>s.jsx(Ce,{variant:"outline",className:"text-xs",children:u},d))]})})]},c.id))]})}async function iy(){return In.post("/api/voice/sync")}async function wLe(e,t){return In.patch(`/api/voice/${e}`,t)}async function jLe(e,t){return In.post("/api/voice/validate",{api_key:e,public_key:t||null})}async function _Le(){return In.get("/api/voice/token")}async function NLe(e){return In.post("/api/whatsapp/validate-elevenlabs",{api_key:e})}async function V$(){return In.post("/api/whatsapp/sync")}async function SLe(e,t){return In.patch(`/api/whatsapp/${e}`,t)}async function CLe(e){return In.get(`/api/whatsapp/${e}`)}async function kLe(e){return In.post(`/api/whatsapp/${e}/fetch-conversations`)}async function hH(e){return In.post("/api/notifications/email",e)}async function ELe(e){return In.post("/api/notifications/contact",e)}async function PLe(e){return In.post("/api/notifications/ticket-reply",e)}async function ALe(e){return In.post("/api/notifications/admin-ticket",e)}async function TLe(e){return In.post("/api/customers",e)}async function OLe(e){return In.post(`/api/customers/send-login-link?email=${encodeURIComponent(e)}`)}async function MLe(e){return In.post("/api/customers/portal/tickets",e)}async function Bk(){return In.get("/api/customers/portal/leads")}async function DLe(){return In.post("/api/customers/portal/sync-whatsapp-conversations")}async function ILe(){return In.post("/api/customers/portal/sync-voice-calls")}const RLe="https://nzqzmvsrsfynatxojuil.supabase.co",$Le="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",oy={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"};async function fH(e){try{console.log("[Branding API] Fetching branding for email:",e);const t=`${RLe}/functions/v1/get-customer-branding`;console.log("[Branding API] URL:",t);const n=await Dn.get(t,{params:{email:e},headers:{Authorization:`Bearer ${$Le}`,"Content-Type":"application/json"},timeout:1e4});return console.log("[Branding API] Response:",n.data),n.data}catch(t){return console.error("[Branding API] Error fetching branding:",t),oy}}const LLe=[{value:"basic",label:"Basic Condition"},{value:"message_content",label:"Message Content"},{value:"custom_parameter",label:"Custom Parameter"},{value:"parameter_exists",label:"Parameter Exists"}],FLe=[{value:"always",label:"Always send email"}],W$=[{value:"conversation_length",label:"Conversation Length (messages)"},{value:"conversation_duration",label:"Duration (minutes)"},{value:"user_rating",label:"User Rating"},{value:"summary_sentiment",label:"Summary Sentiment"},{value:"agent_name",label:"Agent/Bot Name"}],BLe=[{value:"user",label:"User"},{value:"bot",label:"Bot"},{value:"any",label:"Any"}],H$=[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"starts_with",label:"Starts With"},{value:"ends_with",label:"Ends With"},{value:"not_contains",label:"Does Not Contain"},{value:"not_equals",label:"Does Not Equal"}],G$=[{value:"equals",label:"Equals"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_than_equal",label:"Greater Than or Equal"},{value:"less_than_equal",label:"Less Than or Equal"},{value:"not_equals",label:"Not Equal"}],ULe=["{{user_name}}","{{bot_name}}","{{conversation_summary}}","{{timestamp}}","{{first_message}}","{{last_message}}"];function mH({chatbotId:e,template:t,conditions:n,notificationEmail:r,onTemplateChange:a,onConditionsChange:i}){const[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState([]),[f,m]=y.useState([]),{toast:p}=bn();y.useEffect(()=>{g(),v()},[e]);const g=async()=>{try{const{data:U,error:$}=await G.from("chatbot_custom_parameters").select("id, parameter_name, parameter_type, is_required").eq("chatbot_id",e);if($)throw $;h(U||[])}catch(U){console.error("Error loading custom parameters:",U)}},v=async()=>{try{const{data:U,error:$}=await G.from("chatbot_actions").select("name, configuration").eq("chatbot_id",e).eq("action_type","custom_tool").eq("is_active",!0);if($)throw $;const F=[];U==null||U.forEach(M=>{const R=M.configuration;((R==null?void 0:R.parameters)||[]).forEach(L=>{F.push({tool_name:M.name,parameter_name:L.name,parameter_type:L.type,is_required:L.required})})}),m(F)}catch(U){console.error("Error loading tool parameters:",U)}},x=n.groups?n:{logic:n.logic||"AND",groups:[{logic:"AND",rules:n.rules||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},b=()=>{const U={...x,groups:[...x.groups,{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]};i(U)},w=U=>{const $={...x,groups:x.groups.map((F,M)=>M===U?{...F,rules:[...F.rules,{type:"basic",field:"always",operator:"equals",value:"true"}]}:F)};i($)},_=U=>{if(x.groups.length===1)return;const $={...x,groups:x.groups.filter((F,M)=>M!==U)};i($)},N=(U,$)=>{if(x.groups[U].rules.length===1)return;const M={...x,groups:x.groups.map((R,D)=>D===U?{...R,rules:R.rules.filter((L,I)=>I!==$)}:R)};i(M)},S=(U,$,F,M)=>{const R={...x,groups:x.groups.map((D,L)=>L===U?{...D,rules:D.rules.map((I,z)=>z===$?{...I,[F]:M}:I)}:D)};i(R)},C=(U,$)=>{const F={...x,groups:x.groups.map((M,R)=>R===U?{...M,logic:$}:M)};i(F)},k=U=>{i({...x,logic:U})},A=U=>{if(U.type==="custom_parameter"){const $=W$.find(M=>M.value===U.field);if(($==null?void 0:$.value)==="conversation_length"||($==null?void 0:$.value)==="conversation_duration"||($==null?void 0:$.value)==="user_rating")return G$;const F=d.find(M=>M.parameter_name===U.field);if((F==null?void 0:F.parameter_type)==="number")return G$}return H$},T=U=>{const $=document.getElementById("email-template");if($){const F=$.selectionStart,M=$.selectionEnd,R=t.slice(0,F)+U+t.slice(M);a(R),setTimeout(()=>{$.focus(),$.setSelectionRange(F+U.length,F+U.length)},0)}},E=()=>{const U={user_name:"John Doe",bot_name:"SalesBot",conversation_summary:"The user inquired about pricing for the premium package and asked about scheduling a demo. The conversation covered features, pricing tiers, and implementation timeline.",timestamp:new Date().toLocaleString(),first_message:"Hi, I'm interested in learning more about your premium package.",last_message:"Thank you for the information. I'll discuss this with my team and get back to you soon."};let $=t;return Object.entries(U).forEach(([F,M])=>{const R=new RegExp(`\\{\\{${F}\\}\\}`,"g");$=$.replace(R,M)}),d.forEach(F=>{const M=new RegExp(`\\{\\{${F.parameter_name}\\}\\}`,"g");$=$.replace(M,`[Mock ${F.parameter_name}]`)}),f.forEach(F=>{const M=new RegExp(`\\{\\{tool_${F.parameter_name}\\}\\}`,"g");$=$.replace(M,`[Mock Tool Data: ${F.parameter_name}]`)}),$},B=async()=>{if(!r){p({title:"Error",description:"Please set a notification email address first.",variant:"destructive"});return}u(!0);try{const U=E();await hH({to_email:r,subject:" Test Email - End-of-Chat Template",html_content:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
              <div style="background-color: #3b82f6; color: white; padding: 15px; border-radius: 8px 8px 0 0;">
                <h2 style="margin: 0;"> Test Email - End-of-Chat Template</h2>
              </div>
              <div style="border: 1px solid #e2e8f0; border-top: none; padding: 20px; border-radius: 0 0 8px 8px;">
                <p><strong>This is a test of your custom email template.</strong></p>
                <hr style="margin: 20px 0; border: 1px solid #e2e8f0;">
                <div style="white-space: pre-line; line-height: 1.6;">
                  ${U.replace(/\n/g,"<br>")}
                </div>
              </div>
            </div>
          `,from_name:"Voxtro Chatbots"}),p({title:"Test Email Sent",description:`Test email sent successfully to ${r}`})}catch(U){console.error("Error sending test email:",U),p({title:"Error",description:`Failed to send test email: ${U.message}`,variant:"destructive"})}finally{u(!1)}};return s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"End-of-Chat Email Settings"}),s.jsx(je,{children:"Customize your email template and set conditions for when emails should be sent"})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{htmlFor:"email-template",className:"text-sm font-medium",children:"Email Template"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Available variables:"}),ULe.map(U=>s.jsx(Ce,{variant:"secondary",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>T(U),children:U},U)),d.map(U=>s.jsxs(Ce,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>T(`{{${U.parameter_name}}}`),children:["{{","$",U.parameter_name,"}}"]},U.parameter_name)),f.map(U=>s.jsxs(Ce,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs border-orange-500 text-orange-700",onClick:()=>T(`{{tool_${U.parameter_name}}}`),children:["{{tool_","$",U.parameter_name,"}}"]},`${U.tool_name}-${U.parameter_name}`))]}),f.length>0&&s.jsx("p",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded",children:" Tool parameters (orange badges) are collected when your custom tools execute during conversations"}),s.jsx(pt,{id:"email-template",value:t,onChange:U=>a(U.target.value),placeholder:"Enter your custom email template...",className:"min-h-[200px] font-mono text-sm"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Email Sending Conditions"}),s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:b,children:[s.jsx(Bt,{className:"h-4 w-4 mr-1"}),"Add Rule Group"]})]}),x.groups.length>1&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Between groups use:"}),s.jsxs(Be,{value:x.logic,onValueChange:U=>k(U),children:[s.jsx(Le,{className:"w-20",children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"AND",children:"AND"}),s.jsx(ie,{value:"OR",children:"OR"})]})]})]}),s.jsx("div",{className:"space-y-4",children:x.groups.map((U,$)=>s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Rule Group ",$+1]}),U.rules.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Logic:"}),s.jsxs(Be,{value:U.logic,onValueChange:F=>C($,F),children:[s.jsx(Le,{className:"w-16 h-6 text-xs",children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"AND",children:"AND"}),s.jsx(ie,{value:"OR",children:"OR"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>w($),children:s.jsx(Bt,{className:"h-3 w-3"})}),x.groups.length>1&&s.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>_($),children:s.jsx(zt,{className:"h-3 w-3 text-destructive"})})]})]}),s.jsx("div",{className:"space-y-2",children:U.rules.map((F,M)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/30 flex-wrap",children:[s.jsxs(Be,{value:F.type,onValueChange:R=>{var I;let D={type:R,field:"",operator:"equals",value:""};R==="basic"?(D.field="always",D.value="true"):R==="message_content"?(D.field="any_message",D.operator="contains",D.sender="any",D.case_sensitive=!1):R==="custom_parameter"?(D.field="conversation_length",D.operator="greater_than",D.value="5"):R==="parameter_exists"&&(D.field="parameter_exists",D.operator="exists",D.parameter_name=((I=d[0])==null?void 0:I.parameter_name)||"",D.value="true");const L={...x,groups:x.groups.map((z,H)=>H===$?{...z,rules:z.rules.map((j,P)=>P===M?D:j)}:z)};i(L)},children:[s.jsx(Le,{className:"w-36",children:s.jsx(Ue,{})}),s.jsx(Fe,{children:LLe.map(R=>s.jsx(ie,{value:R.value,children:R.label},R.value))})]}),F.type==="basic"&&s.jsxs(Be,{value:F.field,onValueChange:R=>S($,M,"field",R),children:[s.jsx(Le,{className:"w-40",children:s.jsx(Ue,{})}),s.jsx(Fe,{children:FLe.map(R=>s.jsx(ie,{value:R.value,children:R.label},R.value))})]}),F.type==="message_content"&&s.jsxs(s.Fragment,{children:[s.jsxs(Be,{value:F.sender||"any",onValueChange:R=>S($,M,"sender",R),children:[s.jsx(Le,{className:"w-24",children:s.jsx(Ue,{})}),s.jsx(Fe,{children:BLe.map(R=>s.jsx(ie,{value:R.value,children:R.label},R.value))})]}),s.jsxs(Be,{value:F.operator,onValueChange:R=>S($,M,"operator",R),children:[s.jsx(Le,{className:"w-32",children:s.jsx(Ue,{})}),s.jsx(Fe,{children:H$.map(R=>s.jsx(ie,{value:R.value,children:R.label},R.value))})]}),s.jsx(ue,{value:F.value,onChange:R=>S($,M,"value",R.target.value),placeholder:"Search text...",className:"flex-1 min-w-[120px]"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{checked:F.case_sensitive||!1,onCheckedChange:R=>S($,M,"case_sensitive",R)}),s.jsx(ne,{className:"text-xs",children:"Case"})]})]}),F.type==="custom_parameter"&&s.jsxs(s.Fragment,{children:[s.jsxs(Be,{value:F.field,onValueChange:R=>S($,M,"field",R),children:[s.jsx(Le,{className:"w-48",children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[W$.map(R=>s.jsx(ie,{value:R.value,children:R.label},R.value)),d.map(R=>s.jsxs(ie,{value:R.parameter_name,children:["Custom: ",R.parameter_name," (",R.parameter_type,")"]},R.parameter_name)),f.map(R=>s.jsxs(ie,{value:`tool_${R.parameter_name}`,children:['Tool "',R.tool_name,'": ',R.parameter_name," (",R.parameter_type,")"]},`tool_${R.parameter_name}`))]})]}),s.jsxs(Be,{value:F.operator,onValueChange:R=>S($,M,"operator",R),children:[s.jsx(Le,{className:"w-36",children:s.jsx(Ue,{})}),s.jsx(Fe,{children:A(F).map(R=>s.jsx(ie,{value:R.value,children:R.label},R.value))})]}),s.jsx(ue,{value:F.value,onChange:R=>S($,M,"value",R.target.value),placeholder:"Value...",className:"flex-1 min-w-[100px]"})]}),F.type==="parameter_exists"&&s.jsxs(s.Fragment,{children:[s.jsxs(Be,{value:F.parameter_name||"",onValueChange:R=>S($,M,"parameter_name",R),children:[s.jsx(Le,{className:"w-40",children:s.jsx(Ue,{placeholder:"Select parameter"})}),s.jsxs(Fe,{children:[d.map(R=>s.jsxs(ie,{value:R.parameter_name,children:[R.parameter_name," (",R.parameter_type,")"]},R.id)),f.map(R=>s.jsxs(ie,{value:`tool_${R.parameter_name}`,children:['Tool "',R.tool_name,'": ',R.parameter_name," (",R.parameter_type,")"]},`tool_${R.parameter_name}`))]})]}),s.jsxs(Be,{value:F.operator,onValueChange:R=>S($,M,"operator",R),children:[s.jsx(Le,{className:"w-32",children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"exists",children:"Exists"}),s.jsx(ie,{value:"not_exists",children:"Does Not Exist"})]})]})]}),U.rules.length>1&&s.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>N($,M),children:s.jsx(zt,{className:"h-4 w-4 text-destructive"})})]},M))})]})},$))})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>l(!o),children:[o?s.jsx(wp,{className:"h-4 w-4 mr-2"}):s.jsx(ja,{className:"h-4 w-4 mr-2"}),o?"Hide Preview":"Show Preview"]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:B,disabled:c||!r,children:[s.jsx(Vte,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test Email"]})]}),o&&s.jsxs(Y,{children:[s.jsx(se,{children:s.jsx(ae,{className:"text-sm",children:"Email Preview (with mock data)"})}),s.jsx(Q,{children:s.jsx("div",{className:"p-4 border rounded-lg bg-muted/30 text-sm whitespace-pre-line",style:{fontFamily:"Arial, sans-serif"},children:E()})})]})]})]})}const zLe=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Yes/No"},{value:"email",label:"Email Address"},{value:"phone",label:"Phone Number"}],Y$={text:{patterns:["name is *","my name is *","call me *"]},email:{patterns:["email is *","my email is *","contact me at *"],validation_regex:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"},phone:{patterns:["phone is *","my phone is *","call me at *"],validation_regex:"^[\\+]?[1-9][\\d]{0,15}$"},number:{patterns:["age is *","I am * years old"]},boolean:{patterns:["yes","no","true","false"]}};function pH({chatbotId:e,onParametersChange:t}){const[n,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(!1),{toast:c}=bn();y.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:g,error:v}=await G.from("chatbot_custom_parameters").select("*").eq("chatbot_id",e).order("created_at");if(v)throw v;const x=(g==null?void 0:g.map(b=>({id:b.id,parameter_name:b.parameter_name,parameter_type:b.parameter_type,extraction_rules:b.extraction_rules||{},is_required:b.is_required,validation_rules:b.validation_rules||{}})))||[];r(x),t==null||t(x)}catch(g){console.error("Error loading parameters:",g),c({title:"Error",description:"Failed to load custom parameters",variant:"destructive"})}finally{i(!1)}},d=()=>{const g={parameter_name:"",parameter_type:"text",extraction_rules:Y$.text,is_required:!1,validation_rules:{}};r([...n,g])},h=(g,v)=>{const x=n.map((b,w)=>{if(w===g){const _={...b,...v};return v.parameter_type&&v.parameter_type!==b.parameter_type&&(_.extraction_rules=Y$[v.parameter_type]||{}),_}return b});r(x)},f=g=>{const v=n[g];r(n.filter((x,b)=>b!==g)),v.id&&m(v.id)},m=async g=>{try{const{error:v}=await G.from("chatbot_custom_parameters").delete().eq("id",g);if(v)throw v}catch(v){console.error("Error deleting parameter:",v),c({title:"Error",description:"Failed to delete parameter",variant:"destructive"})}},p=async()=>{l(!0);try{if(n.filter(w=>!w.parameter_name.trim()).length>0){c({title:"Validation Error",description:"All parameters must have a name",variant:"destructive"});return}const v=n.map(w=>w.parameter_name.toLowerCase().trim());if(v.filter((w,_)=>v.indexOf(w)!==_).length>0){c({title:"Validation Error",description:"Parameter names must be unique",variant:"destructive"});return}const{error:b}=await G.from("chatbot_custom_parameters").delete().eq("chatbot_id",e);if(b)throw b;if(n.length>0){const{error:w}=await G.from("chatbot_custom_parameters").insert(n.map(_=>({chatbot_id:e,parameter_name:_.parameter_name.trim(),parameter_type:_.parameter_type,extraction_rules:_.extraction_rules,is_required:_.is_required,validation_rules:_.validation_rules})));if(w)throw w}c({title:"Success",description:"Custom parameters saved successfully"}),await u()}catch(g){console.error("Error saving parameters:",g),c({title:"Error",description:"Failed to save parameters",variant:"destructive"})}finally{l(!1)}};return a?s.jsx("div",{className:"p-4",children:"Loading parameters..."}):s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Custom Parameters"]}),s.jsx(je,{children:"Define custom parameters your chatbot should extract from conversations. These can be used in email conditions and templates."})]}),s.jsxs(Q,{className:"space-y-4",children:[n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No custom parameters defined yet."}),s.jsx("p",{className:"text-sm",children:"Add parameters to extract structured data from conversations."})]}):s.jsx("div",{className:"space-y-4",children:n.map((g,v)=>s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-name-${v}`,children:"Parameter Name"}),s.jsx(ue,{id:`param-name-${v}`,value:g.parameter_name,onChange:x=>h(v,{parameter_name:x.target.value}),placeholder:"e.g., name, email, phone_number"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-type-${v}`,children:"Type"}),s.jsxs(Be,{value:g.parameter_type,onValueChange:x=>h(v,{parameter_type:x}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsx(Fe,{children:zLe.map(x=>s.jsx(ie,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:`param-required-${v}`,checked:g.is_required,onCheckedChange:x=>h(v,{is_required:x})}),s.jsx(ne,{htmlFor:`param-required-${v}`,children:"Required"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:`param-patterns-${v}`,children:"Extraction Patterns"}),s.jsx(pt,{id:`param-patterns-${v}`,value:(g.extraction_rules.patterns||[]).join(`
`),onChange:x=>h(v,{extraction_rules:{...g.extraction_rules,patterns:x.target.value.split(`
`).filter(b=>b.trim())}}),placeholder:`Enter patterns (one per line):
my name is *
call me *
email is *`,className:"min-h-[80px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use * as wildcard. Example: "my name is *" will extract "John" from "my name is John"'})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(v),children:s.jsx(zt,{className:"h-4 w-4 text-destructive"})})})]})},v))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:d,children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Add Parameter"]}),n.length>0&&s.jsx(ee,{onClick:p,disabled:o,children:o?"Saving...":"Save Parameters"})]}),n.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Usage in Email Conditions:"}),' Once saved, these parameters will be available in the email conditions as "Parameter Exists/Does Not Exist" and "Parameter Value" conditions.']})})]})]})}function gH({formData:e,onChange:t,availableForms:n}){var l;const r=[{value:"phone",label:"Phone",icon:Ot},{value:"email",label:"Email",icon:Ns},{value:"message",label:"Message",icon:un},{value:"user",label:"Contact",icon:Yn}],a=()=>{var d;const c={id:`btn_${Date.now()}`,label:"Contact Us",icon:"phone",formId:((d=n[0])==null?void 0:d.id)||"",color:e.widget_button_color||"#3b82f6"},u=[...e.widget_form_buttons||[],c];t({target:{name:"widget_form_buttons",value:u}})},i=(c,u,d)=>{const h=[...e.widget_form_buttons||[]];h[c]={...h[c],[u]:d},t({target:{name:"widget_form_buttons",value:h}})},o=c=>{var d;const u=((d=e.widget_form_buttons)==null?void 0:d.filter((h,f)=>f!==c))||[];t({target:{name:"widget_form_buttons",value:u}})};return s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Widget Customization"}),s.jsx(je,{children:"Customize how your chat widget appears on your website"})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_button_text",children:"Button Text"}),s.jsx(ue,{id:"widget_button_text",name:"widget_button_text",value:e.widget_button_text,onChange:t,placeholder:"Chat with us"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_position",children:"Widget Position"}),s.jsxs(Be,{value:e.widget_position,onValueChange:c=>t({target:{name:"widget_position",value:c}}),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select position"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"center",children:"Center"}),s.jsx(ie,{value:"bottom-right",children:"Bottom Right"}),s.jsx(ie,{value:"bottom-left",children:"Bottom Left"}),s.jsx(ie,{value:"top-right",children:"Top Right"}),s.jsx(ie,{value:"top-left",children:"Top Left"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_button_color",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ue,{id:"widget_button_color",name:"widget_button_color",type:"color",value:e.widget_button_color||"#3b82f6",onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(ue,{name:"widget_button_color",value:e.widget_button_color||"#3b82f6",onChange:t,placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_text_color",children:"Text Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ue,{id:"widget_text_color",name:"widget_text_color",type:"color",value:e.widget_text_color,onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(ue,{name:"widget_text_color",value:e.widget_text_color,onChange:t,placeholder:"#ffffff",className:"flex-1"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_size",children:"Widget Size"}),s.jsxs(Be,{value:e.widget_size,onValueChange:c=>t({target:{name:"widget_size",value:c}}),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select size"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"small",children:"Small"}),s.jsx(ie,{value:"medium",children:"Medium"}),s.jsx(ie,{value:"large",children:"Large"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_border_radius",children:"Border Radius"}),s.jsxs(Be,{value:e.widget_border_radius,onValueChange:c=>t({target:{name:"widget_border_radius",value:c}}),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select border radius"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"0",children:"Square"}),s.jsx(ie,{value:"8px",children:"Rounded"}),s.jsx(ie,{value:"50%",children:"Circular"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"widget_custom_css",children:"Custom CSS"}),s.jsx(pt,{id:"widget_custom_css",name:"widget_custom_css",value:e.widget_custom_css,onChange:t,placeholder:`/* Example: Customize widget button */
#voxtro-button {
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  animation: pulse 2s infinite;
}

/* Customize chat window */
#voxtro-chat {
  border-radius: 20px !important;
}

/* Customize messages */
.voxtro-user-message {
  background: linear-gradient(45deg, #667eea, #764ba2);
}

.voxtro-bot-message {
  background: #f8f9fa;
  border-left: 4px solid #007bff;
}`,className:"min-h-32 font-mono text-sm"}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:s.jsx("strong",{children:"Available CSS selectors:"})}),s.jsxs("div",{className:"bg-muted p-2 rounded text-xs font-mono space-y-0.5",children:[s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-widget"})," - Main widget container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-button"})," - Chat button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-chat"})," - Chat window container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-messages"})," - Messages container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-input"})," - Input field"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-send"})," - Send button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-faq-container"})," - FAQ suggestions container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-end-conversation"})," - End conversation button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-overlay"})," - Background overlay"]})]})]})]}),s.jsx(Zr,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-base font-medium",children:"Form Buttons"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add buttons that open contact forms instead of the chat"})]}),s.jsxs(ee,{type:"button",onClick:a,size:"sm",disabled:n.length===0,children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Add Button"]})]}),e.widget_form_buttons&&e.widget_form_buttons.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx(ne,{htmlFor:"widget_form_buttons_layout",children:"Button Layout"}),s.jsxs(Be,{value:e.widget_form_buttons_layout||"vertical",onValueChange:c=>t({target:{name:"widget_form_buttons_layout",value:c}}),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select layout"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"vertical",children:"Vertical (Stacked)"}),s.jsx(ie,{value:"horizontal",children:"Horizontal (Side by Side)"})]})]})]}),n.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"No forms available. Create some forms first to add form buttons to your widget."}),s.jsx("div",{className:"space-y-4",children:(l=e.widget_form_buttons)==null?void 0:l.map((c,u)=>{var h;const d=((h=r.find(f=>f.value===c.icon))==null?void 0:h.icon)||Ot;return s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Form Button ",u+1]})]}),s.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(u),children:s.jsx(zt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Button Label"}),s.jsx(ue,{value:c.label,onChange:f=>i(u,"label",f.target.value),placeholder:"Contact Us"})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Icon"}),s.jsxs(Be,{value:c.icon,onValueChange:f=>i(u,"icon",f),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsx(Fe,{children:r.map(f=>s.jsx(ie,{value:f.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f.icon,{className:"h-4 w-4"}),f.label]})},f.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Form to Open"}),s.jsxs(Be,{value:c.formId,onValueChange:f=>i(u,"formId",f),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select form"})}),s.jsx(Fe,{children:n.map(f=>s.jsx(ie,{value:f.id,children:f.form_title||f.form_name},f.id))})]})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ue,{type:"color",value:c.color,onChange:f=>i(u,"color",f.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(ue,{value:c.color,onChange:f=>i(u,"color",f.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]})]})]})},c.id)})})]})]})]})}const qLe=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function VLe({chatbotId:e,onSave:t}){const{user:n}=Dt(),{toast:r}=bn(),[a,i]=y.useState(!1),[o,l]=y.useState(!0),[c,u]=y.useState([]),[d,h]=y.useState(""),[f,m]=y.useState(!1),[p,g]=y.useState(null),[v,x]=y.useState([]),[b,w]=y.useState(!1),[_,N]=y.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});y.useEffect(()=>{e&&(S(),C())},[e]);const S=async()=>{var F;try{const{data:M,error:R}=await G.from("chatbots").select("*").eq("id",e).eq("user_id",n==null?void 0:n.id).single();if(R||!M)throw new Error("Chatbot not found or you do not have permission to edit it");g(M),N({name:M.name,description:M.description||"",system_prompt:M.system_prompt,model:M.model,temperature:[M.temperature],max_tokens:M.max_tokens,is_active:M.is_active,website_url:M.website_url||"",theme_color:M.theme_color,theme_color_type:M.theme_color_type||"solid",theme_gradient_start:M.theme_gradient_start||"#3b82f6",theme_gradient_end:M.theme_gradient_end||"#8b5cf6",theme_gradient_angle:M.theme_gradient_angle||135,session_timeout_minutes:M.session_timeout_minutes||30,welcome_message:M.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:M.daily_token_limit||1e5,monthly_token_limit:M.monthly_token_limit||1e6,cache_enabled:M.cache_enabled??!0,cache_duration_hours:M.cache_duration_hours||168,end_chat_notification_enabled:M.end_chat_notification_enabled||!1,end_chat_notification_email:M.end_chat_notification_email||"",email_template:M.email_template||"",email_conditions:typeof M.email_conditions=="object"&&M.email_conditions!==null?M.email_conditions.groups?M.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((F=M.email_conditions.rules)==null?void 0:F.map(D=>({type:"basic",...D})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:M.widget_button_text||"Chat with us",widget_position:M.widget_position||"bottom-right",widget_button_color:M.widget_button_color||"#3b82f6",widget_text_color:M.widget_text_color||"#ffffff",widget_size:M.widget_size||"medium",widget_border_radius:M.widget_border_radius||"50%",widget_custom_css:M.widget_custom_css||"",widget_form_buttons:Array.isArray(M.widget_form_buttons)?M.widget_form_buttons:[],widget_form_buttons_layout:M.widget_form_buttons_layout||"vertical",hide_branding:M.hide_branding||!1}),u([{role:"assistant",content:M.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch(M){r({title:"Error",description:M.message,variant:"destructive"})}finally{l(!1)}},C=async()=>{try{const{data:F,error:M}=await G.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if(M){console.error("Error fetching forms:",M);return}x(F||[])}catch(F){console.error("Error fetching forms:",F)}},k=(F,M)=>{N(R=>({...R,[F]:M})),F==="welcome_message"&&M&&u([{role:"assistant",content:M,timestamp:new Date}])},A=F=>{const{name:M,value:R}=F.target;k(M,R)},T=()=>{S(),r({title:"Website Crawled",description:"Your website content has been updated."})},E=async F=>{F.preventDefault(),i(!0);try{const M=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],R={},D={};if(p)for(const I of M){const z=p[I],H=I==="temperature"?_.temperature[0]:_[I];z!==H&&(R[I]=z,D[I]=H)}const{error:L}=await G.from("chatbots").update({..._,temperature:_.temperature[0]}).eq("id",e).eq("user_id",n==null?void 0:n.id);if(L)throw L;if(Object.keys(D).length>0&&e&&n){const I=Object.keys(D).join(", ");await G.from("changelog_entries").insert({user_id:n.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${I}`,description:`Updated settings for chatbot "${_.name}"`,previous_values:R,new_values:D,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."}),t==null||t()}catch(M){r({title:"Error",description:M.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},B=()=>{e&&window.open(`/embed/${e}`,"_blank")},U=async()=>{if(!d.trim()||f)return;const F={role:"user",content:d.trim(),timestamp:new Date};u(M=>[...M,F]),h(""),m(!0);try{const M=[{role:"system",content:_.system_prompt},...c.filter(z=>z.role!=="system").map(z=>({role:z.role,content:z.content.replace(" (Live Preview)","")})),{role:"user",content:F.content}],D=await fetch("https://voxtro-backend.onrender.com/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:M.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:_.system_prompt,model:_.model,temperature:_.temperature[0],max_tokens:_.max_tokens}})});if(!D.ok)throw new Error("Failed to get AI response");const I={role:"assistant",content:(await D.json()).response,timestamp:new Date};u(z=>[...z,I])}catch(M){console.error("Preview error:",M);const R={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(D=>[...D,R])}finally{m(!1)}},$=F=>{F.key==="Enter"&&U()};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Gn,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading chatbot..."})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(kf,{defaultValue:"basic",className:"space-y-4",children:[s.jsxs(Eu,{className:"grid w-full grid-cols-6",children:[s.jsx(Jt,{value:"basic",children:"Basic"}),s.jsx(Jt,{value:"ai",children:"AI Config"}),s.jsx(Jt,{value:"widget",children:"Widget"}),s.jsx(Jt,{value:"actions",children:"Actions & FAQs"}),s.jsx(Jt,{value:"notifications",children:"Notifications"}),s.jsx(Jt,{value:"preview",children:"Preview"})]}),s.jsxs("form",{onSubmit:E,children:[s.jsx(Xt,{value:"basic",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(je,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(ue,{id:"name",value:_.name,onChange:F=>k("name",F.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(pt,{id:"description",value:_.description,onChange:F=>k("description",F.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(pt,{id:"welcome_message",value:_.welcome_message,onChange:F=>k("welcome_message",F.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"website_url",children:"Website URL"}),s.jsx(ue,{id:"website_url",value:_.website_url,onChange:F=>k("website_url",F.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(GA,{chatbotId:p==null?void 0:p.id,websiteUrl:_.website_url,websiteContent:p==null?void 0:p.website_content,crawlStatus:p==null?void 0:p.crawl_status,lastCrawledAt:p==null?void 0:p.last_crawled_at,onWebsiteUpdate:F=>k("website_url",F),onCrawlComplete:T}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Rt,{checked:_.is_active,onCheckedChange:F=>k("is_active",F)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Rt,{checked:_.hide_branding,onCheckedChange:F=>k("hide_branding",F)})]})]})]})}),s.jsx(Xt,{value:"ai",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"AI Configuration"}),s.jsx(je,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(pt,{id:"system_prompt",value:_.system_prompt,onChange:F=>k("system_prompt",F.target.value),placeholder:"Define how your chatbot should behave...",rows:6,required:!0}),s.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>w(!0),title:"Expand editor",children:s.jsx(U2,{className:"h-4 w-4"})})]})]}),s.jsx(dr,{open:b,onOpenChange:w,children:s.jsxs(Kn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:"Edit System Prompt"})}),s.jsx(pt,{value:_.system_prompt,onChange:F=>k("system_prompt",F.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"AI Model"}),s.jsxs(Be,{value:_.model,onValueChange:F=>k("model",F),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsx(Fe,{children:qLe.map(F=>s.jsx(ie,{value:F.value,children:F.label},F.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Creativity Level: ",_.temperature[0]]}),s.jsx($h,{value:_.temperature,onValueChange:F=>k("temperature",F),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(ue,{id:"max_tokens",type:"number",value:_.max_tokens,onChange:F=>k("max_tokens",parseInt(F.target.value)),min:100,max:4e3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(ue,{id:"session_timeout_minutes",type:"number",value:_.session_timeout_minutes,onChange:F=>k("session_timeout_minutes",parseInt(F.target.value)),min:1,max:1440})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h4",{className:"font-medium",children:"Usage Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(ue,{id:"daily_token_limit",type:"number",value:_.daily_token_limit,onChange:F=>k("daily_token_limit",parseInt(F.target.value)||0),min:0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(ue,{id:"monthly_token_limit",type:"number",value:_.monthly_token_limit,onChange:F=>k("monthly_token_limit",parseInt(F.target.value)||0),min:0})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Rt,{checked:_.cache_enabled,onCheckedChange:F=>k("cache_enabled",F)})]}),_.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(ue,{id:"cache_duration_hours",type:"number",value:_.cache_duration_hours,onChange:F=>k("cache_duration_hours",parseInt(F.target.value)||0),min:1,max:8760})]})]})]})]})}),s.jsxs(Xt,{value:"widget",className:"space-y-4",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Appearance"}),s.jsx(je,{children:"Customize how your chatbot looks"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Color Type"}),s.jsxs(Be,{value:_.theme_color_type||"solid",onValueChange:F=>k("theme_color_type",F),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"solid",children:"Solid Color"}),s.jsx(ie,{value:"gradient",children:"Gradient"})]})]})]}),_.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Gradient Start"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{type:"color",value:_.theme_gradient_start,onChange:F=>k("theme_gradient_start",F.target.value),className:"w-16 h-10 p-1"}),s.jsx(ue,{value:_.theme_gradient_start,onChange:F=>k("theme_gradient_start",F.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Gradient End"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{type:"color",value:_.theme_gradient_end,onChange:F=>k("theme_gradient_end",F.target.value),className:"w-16 h-10 p-1"}),s.jsx(ue,{value:_.theme_gradient_end,onChange:F=>k("theme_gradient_end",F.target.value),className:"flex-1"})]})]})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Theme Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{type:"color",value:_.theme_color,onChange:F=>k("theme_color",F.target.value),className:"w-16 h-10 p-1"}),s.jsx(ue,{value:_.theme_color,onChange:F=>k("theme_color",F.target.value),className:"flex-1"})]})]})]})]}),s.jsx(gH,{formData:_,onChange:A,availableForms:v})]}),s.jsxs(Xt,{value:"actions",className:"space-y-4",children:[s.jsx(cH,{chatbotId:e}),s.jsx(uH,{chatbotId:e}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Connected Forms"}),s.jsx(je,{children:"Manage which forms are active for this chatbot"})]}),s.jsx(Q,{children:s.jsx(dH,{chatbotId:e})})]})]}),s.jsxs(Xt,{value:"notifications",className:"space-y-4",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"End of Chat Notifications"}),s.jsx(je,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end"})]}),s.jsx(Rt,{checked:_.end_chat_notification_enabled,onCheckedChange:F=>k("end_chat_notification_enabled",F)})]}),_.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(ue,{id:"end_chat_notification_email",type:"email",value:_.end_chat_notification_email,onChange:F=>k("end_chat_notification_email",F.target.value),placeholder:"notifications@yourdomain.com"})]})]})]}),_.end_chat_notification_enabled&&s.jsxs(s.Fragment,{children:[s.jsx(pH,{chatbotId:e}),s.jsx(mH,{chatbotId:e,template:_.email_template,conditions:_.email_conditions,notificationEmail:_.end_chat_notification_email,onTemplateChange:F=>k("email_template",F),onConditionsChange:F=>k("email_conditions",F)})]})]}),s.jsx(Xt,{value:"preview",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"Live Preview"}),s.jsx(je,{children:"Test your chatbot configuration"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:_.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((F,M)=>s.jsx("div",{className:`flex ${F.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${F.role==="user"?"text-white":"bg-background border"}`,style:F.role==="user"?_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}:{},children:F.content})},M)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:F=>h(F.target.value),onKeyPress:$,disabled:f}),s.jsx(ee,{type:"button",size:"sm",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color},onClick:U,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"Widget Preview"}),s.jsx(je,{children:"How the chat widget appears on your website"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-muted/50 to-muted h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-full"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-5/6"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer ${_.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":_.widget_position==="top-left"?"top-4 left-4":_.widget_position==="top-right"?"top-4 right-4":_.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${_.widget_size==="small"?"w-12 h-12":_.widget_size==="large"?"w-20 h-20":"w-16 h-16"}`,style:{backgroundColor:_.widget_button_color,color:_.widget_text_color,borderRadius:_.widget_border_radius},children:s.jsx(Ft,{className:`${_.widget_size==="small"?"h-4 w-4":_.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]})})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t mt-6",children:[s.jsxs(ee,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:B,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Open Preview"]})]})]})]})})}function WLe(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var KA="ScrollArea",[vH,JGe]=Ur(KA),[HLe,Aa]=vH(KA),xH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[h,f]=y.useState(null),[m,p]=y.useState(null),[g,v]=y.useState(null),[x,b]=y.useState(0),[w,_]=y.useState(0),[N,S]=y.useState(!1),[C,k]=y.useState(!1),A=Xe(t,E=>c(E)),T=ku(a);return s.jsx(HLe,{scope:n,type:r,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:_,children:s.jsx(ze.div,{dir:T,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});xH.displayName=KA;var yH="ScrollAreaViewport",bH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:i,...o}=e,l=Aa(yH,n),c=y.useRef(null),u=Xe(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n3e({asChild:a,children:r},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});bH.displayName=yH;var Gi="ScrollAreaScrollbar",JA=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Aa(Gi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(GLe,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(YLe,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(wH,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(XA,{...r,ref:t}):null});JA.displayName=Gi;var GLe=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Aa(Gi,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Un,{present:n||i,children:s.jsx(wH,{"data-state":i?"visible":"hidden",...r,ref:t})})}),YLe=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Aa(Gi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=pj(()=>c("SCROLL_END"),100),[l,c]=WLe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(Un,{present:n||l!=="hidden",children:s.jsx(XA,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),wH=y.forwardRef((e,t)=>{const n=Aa(Gi,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=pj(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Bh(n.viewport,c),Bh(n.content,c),s.jsx(Un,{present:r||i,children:s.jsx(XA,{"data-state":i?"visible":"hidden",...a,ref:t})})}),XA=y.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Aa(Gi,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=CH(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return e3e(f,o.current,l,m)}return n==="horizontal"?s.jsx(KLe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=K$(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(JLe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=K$(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),KLe=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Aa(Gi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Xe(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(_H,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),EH(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:s0(o.paddingLeft),paddingEnd:s0(o.paddingRight)}})}})}),JLe=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Aa(Gi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Xe(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(_H,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),EH(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:s0(o.paddingTop),paddingEnd:s0(o.paddingBottom)}})}})}),[XLe,jH]=vH(Gi),_H=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Aa(Gi,n),[p,g]=y.useState(null),v=Xe(t,A=>g(A)),x=y.useRef(null),b=y.useRef(""),w=m.viewport,_=r.content-r.viewport,N=jn(d),S=jn(c),C=pj(h,10);function k(A){if(x.current){const T=A.clientX-x.current.left,E=A.clientY-x.current.top;u({x:T,y:E})}}return y.useEffect(()=>{const A=T=>{const E=T.target;(p==null?void 0:p.contains(E))&&N(T,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,p,_,N]),y.useEffect(S,[r,S]),Bh(p,C),Bh(m.content,C),s.jsx(XLe,{scope:n,scrollbar:p,hasThumb:a,onThumbChange:jn(i),onThumbPointerUp:jn(o),onThumbPositionChange:S,onThumbPointerDown:jn(l),children:s.jsx(ze.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Ne(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),x.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(A))}),onPointerMove:Ne(e.onPointerMove,k),onPointerUp:Ne(e.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),r0="ScrollAreaThumb",NH=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=jH(r0,e.__scopeScrollArea);return s.jsx(Un,{present:n||a.hasThumb,children:s.jsx(QLe,{ref:t,...r})})}),QLe=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Aa(r0,n),o=jH(r0,n),{onThumbPositionChange:l}=o,c=Xe(t,h=>o.onThumbChange(h)),u=y.useRef(),d=pj(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=t3e(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(ze.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ne(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),p=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:Ne(e.onPointerUp,o.onThumbPointerUp)})});NH.displayName=r0;var QA="ScrollAreaCorner",SH=y.forwardRef((e,t)=>{const n=Aa(QA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(ZLe,{...e,ref:t}):null});SH.displayName=QA;var ZLe=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Aa(QA,n),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return Bh(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Bh(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(ze.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function s0(e){return e?parseInt(e,10):0}function CH(e,t){const n=e/t;return isNaN(n)?0:n}function mj(e){const t=CH(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function e3e(e,t,n,r="ltr"){const a=mj(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return kH([c,u],h)(e)}function K$(e,t,n="ltr"){const r=mj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=hg(e,c);return kH([0,o],[0,l])(u)}function kH(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function EH(e,t){return e>0&&e<t}var t3e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function pj(e,t){const n=jn(e),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Bh(e,t){const n=jn(t);ur(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function n3e(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=y.Children.only(r);return y.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var PH=xH,r3e=bH,s3e=SH;const Na=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(PH,{ref:r,className:xe("relative overflow-hidden",e),...n,children:[s.jsx(r3e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(AH,{}),s.jsx(s3e,{})]}));Na.displayName=PH.displayName;const AH=y.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(JA,{ref:r,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(NH,{className:"relative flex-1 rounded-full bg-border"})}));AH.displayName=JA.displayName;function a3e(){const{user:e,signOut:t,loading:n}=Dt(),r=Nr(),{toast:a}=bn(),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[h,f]=y.useState(!0),[m,p]=y.useState(null),[g,v]=y.useState(""),[x,b]=y.useState(!1),[w,_]=y.useState(""),[N,S]=y.useState(null),[C,k]=y.useState("conversations"),[A,T]=y.useState("mine"),[E,B]=y.useState([]),[U,$]=y.useState([]),[F,M]=y.useState([]),R=async()=>{if(e!=null&&e.id)try{const{data:le,error:be}=await G.from("chatbots").select("*").order("created_at",{ascending:!1});if(be)throw be;const Se=await Promise.all((le||[]).map(async Oe=>{const{count:qe}=await G.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",Oe.id);return{...Oe,conversationCount:qe||0}}));o(Se)}catch{a({title:"Error",description:"Failed to load chatbots",variant:"destructive"})}finally{f(!1)}},D=async()=>{if(e!=null&&e.id)try{const le=[],{data:be}=await G.from("chatbots").select("id").eq("user_id",e.id),Se=(be==null?void 0:be.map(Ae=>Ae.id))||[],{data:Oe}=await G.from("voice_assistants").select("id").eq("user_id",e.id),qe=(Oe==null?void 0:Oe.map(Ae=>Ae.id))||[],{data:Ge}=await G.from("whatsapp_agents").select("id").eq("user_id",e.id),he=(Ge==null?void 0:Ge.map(Ae=>Ae.id))||[];if(Se.length>0){const{data:Ae}=await G.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",Se);Ae&&le.push(...Ae)}if(qe.length>0){const{data:Ae}=await G.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",qe);Ae&&le.push(...Ae)}if(he.length>0){const{data:Ae}=await G.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",he);Ae&&le.push(...Ae)}const me=Array.from(new Map(le.map(Ae=>[Ae.id,Ae])).values());c(me)}catch(le){console.error("Error fetching customers:",le)}},L=async()=>{if(e!=null&&e.id)try{const{data:le,error:be}=await G.from("customer_chatbot_assignments").select(`
          id,
          chatbot_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(be)throw be;const Se=(le==null?void 0:le.map(Oe=>({id:Oe.id,chatbot_id:Oe.chatbot_id,customer:Oe.customers})))||[];d(Se)}catch(le){console.error("Error fetching assignments:",le)}},I=async()=>{if(e!=null&&e.id)try{const{data:le,error:be}=await G.from("team_members").select("team_org_id, user_id, role").eq("user_id",e.id);if(be)throw be;if(le&&le.length>0){const Se=le.map(Ae=>Ae.team_org_id),{data:Oe,error:qe}=await G.from("team_members").select("team_org_id, user_id, role").in("team_org_id",Se);if(qe)throw qe;B(Oe||[]);const{data:Ge,error:he}=await G.from("team_organizations").select("id, name").in("id",Se);if(he)throw he;$(Ge||[]);const me=[...new Set((Oe||[]).map(Ae=>Ae.user_id))];if(me.length>0){const{data:Ae,error:Ye}=await G.from("profiles").select("id, full_name, email").in("id",me);if(Ye)throw Ye;M(Ae||[])}}}catch(le){console.error("Error fetching team data:",le)}};if(y.useEffect(()=>{e!=null&&e.id&&!n&&(R(),D(),L(),I())},[e==null?void 0:e.id,n]),y.useEffect(()=>{i.length>0&&!m&&p(i[0].id)},[i,m]),n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Gn,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!n&&!e)return s.jsx(vs,{to:"/auth",replace:!0});const z=()=>{r("/create-chatbot")},H=async le=>{var be;try{const{error:Se}=await G.from("chatbots").delete().eq("id",le);if(Se)throw Se;o(i.filter(Oe=>Oe.id!==le)),m===le&&p(((be=i.filter(Oe=>Oe.id!==le)[0])==null?void 0:be.id)||null),a({title:"Success",description:"Chatbot deleted successfully"})}catch{a({title:"Error",description:"Failed to delete chatbot",variant:"destructive"})}},j=async le=>{try{const{data:be,error:Se}=await G.from("chatbots").select("*").eq("id",le).single();if(Se)throw Se;const Oe={...be,id:void 0,name:`Copy of ${be.name}`,is_active:!0,created_at:void 0,updated_at:void 0,last_crawled_at:void 0,crawl_status:"pending",embed_code:void 0,inline_embed_code:void 0,user_id:e==null?void 0:e.id},{data:qe,error:Ge}=await G.from("chatbots").insert(Oe).select().single();if(Ge)throw Ge;const he=qe.id,{data:me}=await G.from("chatbot_actions").select("*").eq("chatbot_id",le);if(me&&me.length>0){const yt=me.map(K=>({...K,id:void 0,chatbot_id:he,created_at:void 0,updated_at:void 0}));await G.from("chatbot_actions").insert(yt)}const{data:Ae}=await G.from("chatbot_faqs").select("*").eq("chatbot_id",le);if(Ae&&Ae.length>0){const yt=Ae.map(K=>({...K,id:void 0,chatbot_id:he,created_at:void 0,updated_at:void 0}));await G.from("chatbot_faqs").insert(yt)}const{data:Ye}=await G.from("chatbot_custom_parameters").select("*").eq("chatbot_id",le);if(Ye&&Ye.length>0){const yt=Ye.map(K=>({...K,id:void 0,chatbot_id:he,created_at:void 0,updated_at:void 0}));await G.from("chatbot_custom_parameters").insert(yt)}R(),a({title:"Success",description:"Chatbot duplicated successfully"})}catch{a({title:"Error",description:"Failed to duplicate chatbot",variant:"destructive"})}},P=async(le,be)=>{try{const{error:Se}=await G.from("chatbots").update({is_active:!be}).eq("id",le);if(Se)throw Se;R(),a({title:"Success",description:`Chatbot ${be?"deactivated":"activated"} successfully`})}catch{a({title:"Error",description:"Failed to update chatbot status",variant:"destructive"})}},O=async()=>{if(!m||!w){a({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:le}=await G.from("customer_chatbot_assignments").insert({customer_id:w,chatbot_id:m,assigned_by:e==null?void 0:e.id});if(le){if(le.code==="23505")a({title:"Error",description:"This customer is already assigned to this chatbot",variant:"destructive"});else throw le;return}a({title:"Success",description:"Chatbot assigned successfully"}),b(!1),_(""),await L()}catch(le){console.error("Error assigning chatbot:",le),a({title:"Error",description:"Failed to assign chatbot",variant:"destructive"})}},V=async le=>{try{const{error:be}=await G.from("customer_chatbot_assignments").delete().eq("id",le);if(be)throw be;a({title:"Success",description:"Assignment removed"}),await L()}catch(be){console.error("Error removing assignment:",be),a({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},W=(le,be="widget")=>{let Se,Oe;const qe="https://voxtro-backend.onrender.com";be==="inline"?(Se=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${qe}/api/widget/${le}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,Oe="Inline chat embed code copied to clipboard"):be==="messenger"?(Se=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${qe}/api/widget/${le}/messenger.js';
    script.async = true;
    script.onload = function() {
      window.openVoxtroMessenger();
    };
    document.head.appendChild(script);
  })();
<\/script>`,Oe="Full-screen messenger embed code copied to clipboard"):(Se=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${qe}/api/widget/${le}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,Oe="Widget embed code copied to clipboard"),navigator.clipboard.writeText(Se),a({title:"Copied!",description:Oe})},Z=le=>{if(!le)return null;const Se={completed:{variant:"default",label:"Crawled"},crawling:{variant:"secondary",label:"Crawling..."},failed:{variant:"destructive",label:"Failed"},pending:{variant:"outline",label:"Pending"}}[le]||{variant:"outline",label:le};return s.jsx(Ce,{variant:Se.variant,className:"text-xs",children:Se.label})},te=le=>{var qe;if(le.user_id===(e==null?void 0:e.id))return null;const be=F.find(Ge=>Ge.id===le.user_id),Se=(be==null?void 0:be.full_name)||((qe=be==null?void 0:be.email)==null?void 0:qe.split("@")[0])||"Unknown",Oe=E.find(Ge=>Ge.user_id===le.user_id&&E.some(he=>he.team_org_id===Ge.team_org_id&&he.user_id===(e==null?void 0:e.id)));if(Oe){const Ge=U.find(he=>he.id===Oe.team_org_id);return{ownerName:Se,teamName:(Ge==null?void 0:Ge.name)||"Unknown Team"}}return{ownerName:Se,teamName:null}},q=i.find(le=>le.id===m),X=u.filter(le=>le.chatbot_id===m),re=i.filter(le=>le.user_id===(e==null?void 0:e.id)),pe=i.filter(le=>le.user_id!==(e==null?void 0:e.id)),ye=(A==="mine"?re:pe).filter(le=>{var be;return(be=le.name)==null?void 0:be.toLowerCase().includes(g.toLowerCase())});return h?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Gn,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Chatbots"})]}),s.jsxs(ee,{onClick:z,size:"sm",className:"gap-1.5",children:[s.jsx(Bt,{className:"h-3.5 w-3.5"}),"New"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ca,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(ue,{placeholder:A==="mine"?"Search my chatbots...":"Search team chatbots...",value:g,onChange:le=>v(le.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx("div",{className:"px-2 pt-2",children:s.jsxs("div",{className:"flex rounded-lg bg-muted p-1",children:[s.jsxs("button",{onClick:()=>T("mine"),className:`flex-1 text-xs py-1.5 px-2 rounded-md transition-colors ${A==="mine"?"bg-background text-foreground shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:["My Chatbots (",re.length,")"]}),s.jsxs("button",{onClick:()=>T("team"),className:`flex-1 text-xs py-1.5 px-2 rounded-md transition-colors ${A==="team"?"bg-background text-foreground shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:["Team (",pe.length,")"]})]})}),s.jsx(Na,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:ye.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(it,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g?"No matching chatbots":A==="mine"?"No chatbots yet":"No team chatbots available"}),!g&&A==="mine"&&s.jsx(ee,{onClick:z,variant:"link",className:"text-xs mt-1 p-0 h-auto",children:"Create your first chatbot"}),!g&&A==="team"&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Join a team or invite teammates to see their chatbots"})]}):ye.map(le=>{const be=u.filter(qe=>qe.chatbot_id===le.id).length,Se=m===le.id,Oe=A==="team"?te(le):null;return s.jsx("button",{onClick:()=>p(le.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${Se?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:le.is_active?"#22c55e":"#94a3b8"}}),s.jsx("p",{className:`font-medium text-sm truncate ${Se?"text-primary":""}`,children:le.name})]}),Oe&&s.jsx("div",{className:"ml-4 mt-0.5",children:s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[Oe.ownerName,Oe.teamName&&`  ${Oe.teamName}`]})}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 ml-4",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[le.conversationCount||0," chats"]}),be>0&&s.jsxs(Ce,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[be," assigned"]})]})]}),Se&&s.jsx(us,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},le.id)})})}),ye.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[ye.length," ",A==="mine"?"chatbots":"team chatbots"]}),s.jsxs("span",{children:[ye.filter(le=>le.is_active).length," active"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:q?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl border",style:{backgroundColor:`${q.theme_color}15`,borderColor:`${q.theme_color}30`},children:s.jsx(it,{className:"h-6 w-6",style:{color:q.theme_color}})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:q.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ce,{variant:q.is_active?"default":"secondary",children:q.is_active?"Active":"Inactive"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",new Date(q.created_at).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(jd,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(ee,{variant:"default",size:"sm",onClick:()=>k("edit"),className:"gap-1.5",children:[s.jsx(cS,{className:"h-4 w-4"}),"Edit"]})]})]}),q.description&&s.jsx(Y,{className:"mb-6",children:s.jsx(Q,{className:"pt-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:q.description})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>r(`/embed/${q.id}`),className:"justify-start gap-2",children:[s.jsx(ja,{className:"h-4 w-4"}),"Preview Widget"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>r(`/messenger/${q.id}`),className:"justify-start gap-2",children:[s.jsx(ZB,{className:"h-4 w-4"}),"Preview Messenger"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>W(q.id,"widget"),className:"justify-start gap-2",children:[s.jsx(oS,{className:"h-4 w-4"}),"Copy Widget Code"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>W(q.id,"messenger"),className:"justify-start gap-2",children:[s.jsx(oS,{className:"h-4 w-4"}),"Copy Messenger Code"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Y,{children:s.jsx(Q,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lh,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Website"}),q.website_url?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:new URL(q.website_url).hostname}),Z(q.crawl_status)]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Not configured"})]})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Conversations"}),s.jsx("p",{className:"text-sm font-medium",children:q.conversationCount||0})]})]})})})]})]}),s.jsxs(kf,{value:C,onValueChange:k,className:"space-y-4",children:[s.jsxs(Eu,{children:[s.jsxs(Jt,{value:"conversations",children:["Conversations (",q.conversationCount||0,")"]}),s.jsx(Jt,{value:"analytics",children:"Analytics"}),s.jsxs(Jt,{value:"customers",children:["Customers (",X.length,")"]}),s.jsxs(Jt,{value:"edit",children:[s.jsx(cS,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),s.jsx(Jt,{value:"actions",children:"Actions"})]}),s.jsx(Xt,{value:"conversations",className:"space-y-4",children:s.jsx(Y,{className:"h-[400px] overflow-hidden",children:s.jsx(Q,{className:"p-0 h-full",children:N?s.jsx(J9,{conversationId:N,onBack:()=>S(null)}):s.jsx(K9,{onConversationSelect:S,chatbotId:q.id,hideFilter:!0})})})}),s.jsx(Xt,{value:"analytics",className:"space-y-4",children:s.jsx(NRe,{chatbotId:q.id})}),s.jsx(Xt,{value:"customers",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{className:"text-lg",children:"Assigned Customers"}),s.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(jd,{className:"h-4 w-4"}),"Assign Customer"]})]}),s.jsx(je,{children:"Customers who have access to this chatbot"})]}),s.jsx(Q,{children:X.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(jd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned"}),s.jsx(ee,{variant:"link",className:"text-xs mt-1 p-0 h-auto",onClick:()=>b(!0),children:"Assign your first customer"})]}):s.jsx("div",{className:"space-y-2",children:X.map(le=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:le.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:le.customer.email}),le.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:le.customer.company_name})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>V(le.id),className:"text-destructive hover:text-destructive",children:s.jsx(zt,{className:"h-4 w-4"})})]},le.id))})})]})}),s.jsx(Xt,{value:"edit",className:"space-y-4",children:s.jsx(VLe,{chatbotId:q.id,onSave:()=>{R(),k("conversations")}})}),s.jsx(Xt,{value:"actions",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsx(se,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(ae,{className:"text-lg",children:"Chatbot Actions"})})}),s.jsx(Q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ee,{variant:"outline",onClick:()=>j(q.id),className:"justify-start gap-2",children:[s.jsx(Cte,{className:"h-4 w-4"}),"Duplicate Chatbot"]}),s.jsxs(ee,{variant:"outline",onClick:()=>P(q.id,q.is_active),className:"justify-start gap-2",children:[s.jsx(r8,{className:"h-4 w-4"}),q.is_active?"Deactivate":"Activate"]}),s.jsxs(ee,{variant:"outline",className:"justify-start gap-2 text-destructive hover:text-destructive",onClick:()=>H(q.id),children:[s.jsx(zt,{className:"h-4 w-4"}),"Delete Chatbot"]})]})})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No chatbot selected"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a chatbot from the sidebar or create a new one"}),s.jsxs(ee,{onClick:z,children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Chatbot"]})]})})}),s.jsx(dr,{open:x,onOpenChange:b,children:s.jsxs(Kn,{children:[s.jsxs(Jn,{children:[s.jsx(Xn,{children:"Assign Chatbot to Customer"}),s.jsx(Hi,{children:"Select a customer to give them access to this chatbot"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs(Be,{value:w,onValueChange:_,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select a customer"})}),s.jsx(Fe,{children:l.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No customers available"}):l.map(le=>s.jsx(ie,{value:le.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:le.full_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:le.email})]})},le.id))})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(ee,{onClick:O,disabled:!w,children:"Assign"})]})]})})]})}const i3e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}],o3e=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];function l3e(){const{user:e}=Dt(),t=Nr(),{toast:n}=bn(),[r,a]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState({name:"",description:"",system_prompt:"You are a helpful assistant that answers questions about our company and helps customers with their inquiries. Be friendly, professional, and concise in your responses.",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",session_timeout_minutes:30,end_chat_notification_enabled:!1,end_chat_notification_email:""});if(!e)return s.jsx(vs,{to:"/auth",replace:!0});const u=(m,p)=>{c(g=>({...g,[m]:p}))},d=async m=>{m.preventDefault(),a(!0);try{const p=crypto.randomUUID(),g="https://voxtro-backend.onrender.com",v=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${g}/api/widget/${p}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,x=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${g}/api/widget/${p}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,{data:b,error:w}=await G.from("chatbots").insert([{...l,temperature:l.temperature[0],embed_code:v,inline_embed_code:x,user_id:e.id}]).select().single();if(w)throw w;if(b){const _=v.replace(p,b.id),N=x.replace(p,b.id);await G.from("chatbots").update({embed_code:_,inline_embed_code:N}).eq("id",b.id),o(b.id)}n({title:"Success!",description:"Your chatbot has been created successfully."}),t("/dashboard")}catch(p){n({title:"Error",description:p.message||"Failed to create chatbot",variant:"destructive"})}finally{a(!1)}},h=()=>{n({title:"Preview Coming Soon",description:"Chatbot preview functionality will be available soon!"})},f=()=>{n({title:"Website Crawled",description:"Your website content has been processed and will be available to your chatbot."})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Create New Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(je,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(ue,{id:"name",value:l.name,onChange:m=>u("name",m.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(pt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"website_url",children:"Website URL"}),s.jsx(ue,{id:"website_url",value:l.website_url,onChange:m=>u("website_url",m.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),i&&s.jsx(GA,{chatbotId:i,websiteUrl:l.website_url,onWebsiteUpdate:m=>u("website_url",m),onCrawlComplete:f})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"AI Configuration"}),s.jsx(je,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsx(pt,{id:"system_prompt",value:l.system_prompt,onChange:m=>u("system_prompt",m.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"AI Model"}),s.jsxs(Be,{value:l.model,onValueChange:m=>u("model",m),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsx(Fe,{children:i3e.map(m=>s.jsx(ie,{value:m.value,children:m.label},m.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Creativity Level: ",l.temperature[0]]}),s.jsx($h,{value:l.temperature,onValueChange:m=>u("temperature",m),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(ue,{id:"max_tokens",type:"number",value:l.max_tokens,onChange:m=>u("max_tokens",parseInt(m.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(ue,{id:"session_timeout_minutes",type:"number",value:l.session_timeout_minutes,onChange:m=>u("session_timeout_minutes",parseInt(m.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Appearance"}),s.jsx(je,{children:"Customize how your chatbot looks"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Theme Color"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:o3e.map(m=>s.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${l.theme_color===m?"border-foreground scale-110":"border-border"}`,style:{backgroundColor:m},onClick:()=>u("theme_color",m)},m))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Rt,{checked:l.is_active,onCheckedChange:m=>u("is_active",m)})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"End of Chat Notifications"}),s.jsx(je,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Rt,{checked:l.end_chat_notification_enabled,onCheckedChange:m=>u("end_chat_notification_enabled",m)})]}),l.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(ue,{id:"end_chat_notification_email",type:"email",value:l.end_chat_notification_email,onChange:m=>u("end_chat_notification_email",m.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ee,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),r?"Creating...":"Create Chatbot"]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:h,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"Live Preview"}),s.jsx(je,{children:"See how your chatbot will appear"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:l.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"bg-background p-2 rounded border",children:[s.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"User:"}),s.jsx("p",{children:"Hello! Can you help me?"})]}),s.jsxs("div",{className:"p-2 rounded text-white",style:{backgroundColor:l.theme_color},children:[s.jsxs("p",{className:"text-xs mb-1 opacity-80",children:[l.name||"Bot",":"]}),s.jsx("p",{children:"Hello! I'd be happy to help you. What can I assist you with today?"})]})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(ue,{placeholder:"Type your message...",className:"flex-1 text-sm",disabled:!0}),s.jsx(ee,{size:"sm",style:{backgroundColor:l.theme_color},disabled:!0,children:"Send"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Model:"}),s.jsx("span",{children:l.model})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Creativity:"}),s.jsx("span",{children:l.temperature[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:l.is_active?"text-green-600":"text-red-600",children:l.is_active?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Session Timeout:"}),s.jsxs("span",{children:[l.session_timeout_minutes," min"]})]})]})]})]})})})]})})})]})}const c3e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function u3e(){const{chatbotId:e}=Ig(),{user:t}=Dt(),n=Nr(),{toast:r}=bn(),[a,i]=y.useState(!1),[o,l]=y.useState(!0),[c,u]=y.useState([]),[d,h]=y.useState(""),[f,m]=y.useState(!1),[p,g]=y.useState(null),[v,x]=y.useState([]),[b,w]=y.useState(!1),[_,N]=y.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});if(!t)return s.jsx(vs,{to:"/auth",replace:!0});y.useEffect(()=>{e&&(S(),C())},[e]);const S=async()=>{var M;try{const{data:R,error:D}=await G.from("chatbots").select("*").eq("id",e).eq("user_id",t.id).single();if(D||!R)throw new Error("Chatbot not found or you do not have permission to edit it");g(R),N({name:R.name,description:R.description||"",system_prompt:R.system_prompt,model:R.model,temperature:[R.temperature],max_tokens:R.max_tokens,is_active:R.is_active,website_url:R.website_url||"",theme_color:R.theme_color,theme_color_type:R.theme_color_type||"solid",theme_gradient_start:R.theme_gradient_start||"#3b82f6",theme_gradient_end:R.theme_gradient_end||"#8b5cf6",theme_gradient_angle:R.theme_gradient_angle||135,session_timeout_minutes:R.session_timeout_minutes||30,welcome_message:R.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:R.daily_token_limit||1e5,monthly_token_limit:R.monthly_token_limit||1e6,cache_enabled:R.cache_enabled??!0,cache_duration_hours:R.cache_duration_hours||168,end_chat_notification_enabled:R.end_chat_notification_enabled||!1,end_chat_notification_email:R.end_chat_notification_email||"",email_template:R.email_template||"",email_conditions:typeof R.email_conditions=="object"&&R.email_conditions!==null?R.email_conditions.groups?R.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((M=R.email_conditions.rules)==null?void 0:M.map(L=>({type:"basic",...L})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:R.widget_button_text||"Chat with us",widget_position:R.widget_position||"bottom-right",widget_button_color:R.widget_button_color||"#3b82f6",widget_text_color:R.widget_text_color||"#ffffff",widget_size:R.widget_size||"medium",widget_border_radius:R.widget_border_radius||"50%",widget_custom_css:R.widget_custom_css||"",widget_form_buttons:Array.isArray(R.widget_form_buttons)?R.widget_form_buttons:[],widget_form_buttons_layout:R.widget_form_buttons_layout||"vertical",hide_branding:R.hide_branding||!1}),u([{role:"assistant",content:R.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch(R){r({title:"Error",description:R.message,variant:"destructive"}),n("/dashboard")}finally{l(!1)}},C=async()=>{try{const{data:M,error:R}=await G.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if(R){console.error("Error fetching forms:",R);return}x(M||[])}catch(M){console.error("Error fetching forms:",M)}},k=(M,R)=>{N(D=>({...D,[M]:R})),M==="welcome_message"&&R&&u([{role:"assistant",content:R,timestamp:new Date}])},A=M=>{const{name:R,value:D}=M.target;k(R,D)},T=()=>{S(),r({title:"Website Crawled",description:"Your website content has been updated."})},E=async M=>{M.preventDefault(),i(!0);try{const R=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],D={},L={};if(p)for(const z of R){const H=p[z],j=z==="temperature"?_.temperature[0]:_[z];H!==j&&(D[z]=H,L[z]=j)}const{error:I}=await G.from("chatbots").update({..._,temperature:_.temperature[0]}).eq("id",e).eq("user_id",t.id);if(I)throw I;if(Object.keys(L).length>0&&e&&t){const z=Object.keys(L).join(", ");await G.from("changelog_entries").insert({user_id:t.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${z}`,description:`Updated settings for chatbot "${_.name}"`,previous_values:D,new_values:L,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."})}catch(R){r({title:"Error",description:R.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},B=async()=>{if(confirm("Are you sure you want to delete this chatbot? This action cannot be undone.")){i(!0);try{const{error:M}=await G.from("chatbots").delete().eq("id",e).eq("user_id",t.id);if(M)throw M;r({title:"Success!",description:"Chatbot deleted successfully."}),n("/dashboard")}catch(M){r({title:"Error",description:M.message||"Failed to delete chatbot",variant:"destructive"})}finally{i(!1)}}},U=()=>{e&&window.open(`/embed/${e}`,"_blank")},$=async()=>{if(!d.trim()||f)return;const M={role:"user",content:d.trim(),timestamp:new Date};u(R=>[...R,M]),h(""),m(!0);try{const R=[{role:"system",content:_.system_prompt},...c.filter(H=>H.role!=="system").map(H=>({role:H.role,content:H.content.replace(" (Live Preview)","")})),{role:"user",content:M.content}],L=await fetch("https://voxtro-backend.onrender.com/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:R.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:_.system_prompt,model:_.model,temperature:_.temperature[0],max_tokens:_.max_tokens}})});if(!L.ok)throw new Error("Failed to get AI response");const z={role:"assistant",content:(await L.json()).response,timestamp:new Date};u(H=>[...H,z])}catch(R){console.error("Preview error:",R);const D={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(L=>[...L,D])}finally{m(!1)}},F=M=>{M.key==="Enter"&&$()};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>n("/dashboard"),children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Edit Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-5",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(je,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(ue,{id:"name",value:_.name,onChange:M=>k("name",M.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"description",children:"Description"}),s.jsx(pt,{id:"description",value:_.description,onChange:M=>k("description",M.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(pt,{id:"welcome_message",value:_.welcome_message,onChange:M=>k("welcome_message",M.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The first message visitors see when they open the chat"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"website_url",children:"Website URL"}),s.jsx(ue,{id:"website_url",value:_.website_url,onChange:M=>k("website_url",M.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(GA,{chatbotId:p==null?void 0:p.id,websiteUrl:_.website_url,websiteContent:p==null?void 0:p.website_content,crawlStatus:p==null?void 0:p.crawl_status,lastCrawledAt:p==null?void 0:p.last_crawled_at,onWebsiteUpdate:M=>k("website_url",M),onCrawlComplete:T})]})]}),s.jsx(cH,{chatbotId:e||""}),s.jsx(uH,{chatbotId:e||""}),s.jsx(gH,{formData:_,onChange:A,availableForms:v}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"AI Configuration"}),s.jsx(je,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(pt,{id:"system_prompt",value:_.system_prompt,onChange:M=>k("system_prompt",M.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>w(!0),title:"Expand editor",children:s.jsx(U2,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsx(dr,{open:b,onOpenChange:w,children:s.jsxs(Kn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:"Edit System Prompt"})}),s.jsx(pt,{value:_.system_prompt,onChange:M=>k("system_prompt",M.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"AI Model"}),s.jsxs(Be,{value:_.model,onValueChange:M=>k("model",M),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsx(Fe,{children:c3e.map(M=>s.jsx(ie,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Creativity Level: ",_.temperature[0]]}),s.jsx($h,{value:_.temperature,onValueChange:M=>k("temperature",M),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(ue,{id:"max_tokens",type:"number",value:_.max_tokens,onChange:M=>k("max_tokens",parseInt(M.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(ue,{id:"session_timeout_minutes",type:"number",value:_.session_timeout_minutes,onChange:M=>k("session_timeout_minutes",parseInt(M.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Usage Limits"}),s.jsx(je,{children:"Set daily and monthly token limits to control usage and costs"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(ue,{id:"daily_token_limit",type:"number",value:_.daily_token_limit,onChange:M=>k("daily_token_limit",parseInt(M.target.value)||0),min:0,placeholder:"100000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per day. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(ue,{id:"monthly_token_limit",type:"number",value:_.monthly_token_limit,onChange:M=>k("monthly_token_limit",parseInt(M.target.value)||0),min:0,placeholder:"1000000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per month. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Rt,{checked:_.cache_enabled,onCheckedChange:M=>k("cache_enabled",M)})]}),_.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(ue,{id:"cache_duration_hours",type:"number",value:_.cache_duration_hours,onChange:M=>k("cache_duration_hours",parseInt(M.target.value)||0),min:1,max:8760,placeholder:"168"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep cached responses (1-8760 hours, default: 168 hours = 1 week)"})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Appearance"}),s.jsx(je,{children:"Customize how your chatbot looks"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Color Type"}),s.jsxs(Be,{value:_.theme_color_type||"solid",onValueChange:M=>k("theme_color_type",M),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"solid",children:"Solid Color"}),s.jsx(ie,{value:"gradient",children:"Gradient"})]})]})]}),_.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"theme_gradient_start",children:"Gradient Start"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ue,{id:"theme_gradient_start",name:"theme_gradient_start",type:"color",value:_.theme_gradient_start||"#3b82f6",onChange:M=>k("theme_gradient_start",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(ue,{name:"theme_gradient_start",value:_.theme_gradient_start||"#3b82f6",onChange:M=>k("theme_gradient_start",M.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"theme_gradient_end",children:"Gradient End"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ue,{id:"theme_gradient_end",name:"theme_gradient_end",type:"color",value:_.theme_gradient_end||"#8b5cf6",onChange:M=>k("theme_gradient_end",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(ue,{name:"theme_gradient_end",value:_.theme_gradient_end||"#8b5cf6",onChange:M=>k("theme_gradient_end",M.target.value),placeholder:"#8b5cf6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"theme_gradient_angle",children:"Gradient Angle"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($h,{id:"theme_gradient_angle",value:[_.theme_gradient_angle||135],onValueChange:M=>k("theme_gradient_angle",M[0]),min:0,max:360,step:15,className:"flex-1"}),s.jsxs("span",{className:"text-sm font-medium w-12",children:[_.theme_gradient_angle||135,""]})]})]}),s.jsx("div",{className:"p-3 rounded-lg border",style:{background:`linear-gradient(${_.theme_gradient_angle||135}deg, ${_.theme_gradient_start||"#3b82f6"}, ${_.theme_gradient_end||"#8b5cf6"})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"theme_color",children:"Theme Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ue,{id:"theme_color",name:"theme_color",type:"color",value:_.theme_color||"#3b82f6",onChange:M=>k("theme_color",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(ue,{name:"theme_color",value:_.theme_color||"#3b82f6",onChange:M=>k("theme_color",M.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a solid color or gradient for your chatbot's theme"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Rt,{checked:_.is_active,onCheckedChange:M=>k("is_active",M)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Rt,{checked:_.hide_branding,onCheckedChange:M=>k("hide_branding",M)})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"End of Chat Notifications"}),s.jsx(je,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Rt,{checked:_.end_chat_notification_enabled,onCheckedChange:M=>k("end_chat_notification_enabled",M)})]}),_.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(ue,{id:"end_chat_notification_email",type:"email",value:_.end_chat_notification_email,onChange:M=>k("end_chat_notification_email",M.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),_.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(pH,{chatbotId:e||""}),s.jsx(mH,{chatbotId:e||"",template:_.email_template,conditions:_.email_conditions,notificationEmail:_.end_chat_notification_email,onTemplateChange:M=>k("email_template",M),onConditionsChange:M=>k("email_conditions",M)})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Connected Forms"}),s.jsx(je,{children:"Manage which forms are active for this chatbot. Create new forms in the Forms section."})]}),s.jsx(Q,{children:s.jsx(dH,{chatbotId:e||""})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ee,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:U,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(ee,{type:"button",variant:"destructive",onClick:B,disabled:a,children:[s.jsx(zt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"sticky top-8 space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"Live Preview"}),s.jsx(je,{children:"Test your chatbot configuration"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:_.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((M,R)=>s.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${M.role==="user"?"text-white":"bg-background border"}`,style:M.role==="user"?_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}:{},children:M.content})},R)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:M=>h(M.target.value),onKeyPress:F,disabled:f}),s.jsx(ee,{size:"sm",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color},onClick:$,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"Widget Preview"}),s.jsx(je,{children:"How the chat widget appears on your website"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer transform hover:scale-105 transition-all duration-200 text-sm font-medium ${_.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":_.widget_position==="top-left"?"top-4 left-4":_.widget_position==="top-right"?"top-4 right-4":_.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${_.widget_size==="small"?"w-12 h-12 text-xs":_.widget_size==="large"?"w-20 h-20 text-base":"w-16 h-16 text-sm"}`,style:{backgroundColor:_.widget_button_color||"#3b82f6",color:_.widget_text_color,borderRadius:_.widget_border_radius},children:_.widget_position==="center"?s.jsx("span",{className:"px-4 py-2",children:_.widget_button_text}):s.jsx(Ft,{className:`${_.widget_size==="small"?"h-4 w-4":_.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Position:"})," ",_.widget_position]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Size:"})," ",_.widget_size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Button Text:"})," ",_.widget_button_text]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Colors:"})," Button: ",_.widget_button_color,", Text: ",_.widget_text_color]})]})]})]})]})})]})})})]})}const d3e="/assets/chime-alert-DWmXsH8Y.wav";function h3e(){const{chatbotId:e}=Ig(),t=Nr(),{toast:n}=bn(),[r,a]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState(!0),[h,f]=y.useState(""),[m,p]=y.useState(!1),[g,v]=y.useState(null),[x]=y.useState(()=>localStorage.getItem("voxtro_visitor_id")||(()=>{const A=`visitor_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem("voxtro_visitor_id",A),A})()),b=y.useState(()=>new Audio(d3e))[0];y.useEffect(()=>{b.volume=.5},[]);const w=()=>{try{b.currentTime=0,b.play().catch(A=>{console.log(" EmbedChat - Sound blocked by browser:",A.message)})}catch(A){console.error(" EmbedChat - Error playing audio:",A)}};y.useEffect(()=>{const A=E=>{E.stopPropagation()},T=document.querySelector(".chat-container");if(T)return T.addEventListener("wheel",A),()=>T.removeEventListener("wheel",A)},[]),y.useEffect(()=>{e&&(N(),_())},[e]);const _=async()=>{if(e)try{const{data:A,error:T}=await G.from("chatbot_faqs").select("id, question, answer, is_active").eq("chatbot_id",e).eq("is_active",!0).order("sort_order").limit(4);!T&&A&&o(A)}catch{console.log("No FAQs configured for this chatbot")}},N=async()=>{try{const{data:A,error:T}=await G.from("chatbots").select("id, name, theme_color, is_active, end_chat_notification_email, welcome_message").eq("id",e).single();if(T||!A)throw new Error("Chatbot not found");a(A);const E=A.welcome_message||`Hi! I'm ${A.name}. How can I help you today?`;c([{role:"assistant",content:`${E}${A.is_active?"":" (Preview Mode)"}`,timestamp:new Date}])}catch{n({title:"Error",description:"Failed to load chatbot",variant:"destructive"})}},S=async()=>{if(!h.trim()||m||!r)return;if(d(!1),!r.is_active){const T={role:"user",content:h.trim(),timestamp:new Date},E={role:"assistant",content:"This is preview mode. The chatbot will respond with actual AI when it's active and embedded on your website.",timestamp:new Date};c(B=>[...B,T,E]),f("");return}const A={role:"user",content:h.trim(),timestamp:new Date};c(T=>[...T,A]),f(""),p(!0);try{const E={role:"assistant",content:(await yLe({chatbot_id:r.id,message:A.content,visitor_id:x})).message,timestamp:new Date};c(B=>[...B,E]),console.log(" Calling playNotificationSound now..."),w(),console.log(" playNotificationSound called"),setTimeout(()=>{g==null||g.scrollIntoView({behavior:"smooth"})},100)}catch{n({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{p(!1)}},C=A=>{A.key==="Enter"&&S()},k=async()=>{if(r!=null&&r.id)try{if(!r.end_chat_notification_email)throw new Error("Please configure an end-of-chat notification email for this chatbot first");await hH({to_email:r.end_chat_notification_email,subject:`Test Email - ${r.name}`,html_content:`<p>Test email for chatbot "${r.name}" - End-of-chat notifications are working correctly!</p>`}),n({title:"Test Email Sent!",description:`Check your inbox at ${r.end_chat_notification_email}`})}catch(A){n({title:"Error",description:A.message||"Failed to send test notification",variant:"destructive"})}};return e?r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-0 md:p-4",children:s.jsxs(Y,{className:"chat-container w-full h-screen md:max-w-md md:h-[600px] flex flex-col overflow-hidden border-0 shadow-xl rounded-none md:rounded-2xl",children:[s.jsx(se,{className:"text-white p-4 border-0",style:{backgroundColor:r.theme_color},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-black font-bold text-sm",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{children:s.jsx("h3",{className:"font-semibold text-white",children:r.name})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:s.jsx(_r,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:k,className:"text-white hover:bg-white/10",children:s.jsx(Ns,{className:"h-4 w-4"})})]})]})}),s.jsxs(Q,{className:"flex-1 flex flex-col p-0 bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100% - 120px)"},children:[l.map((A,T)=>s.jsxs("div",{className:`flex ${A.role==="user"?"justify-end":"justify-start"}`,children:[A.role==="assistant"&&s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm text-gray-800 leading-relaxed",children:A.content})]}),A.role==="user"&&s.jsx("div",{className:"max-w-[85%] p-4 rounded-2xl rounded-tr-md text-sm text-white leading-relaxed",style:{backgroundColor:r.theme_color},children:A.content})]},T)),m&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:v})]}),u&&i.length>0&&s.jsxs("div",{className:"px-4 pb-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"Suggested questions"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(A=>s.jsx("button",{className:"text-left px-4 py-2 bg-white hover:bg-gray-50 transition-all duration-200 rounded-xl text-sm text-gray-700 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow",style:{borderColor:`${r.theme_color}20`},onMouseEnter:T=>{T.currentTarget.style.borderColor=r.theme_color,T.currentTarget.style.color=r.theme_color},onMouseLeave:T=>{T.currentTarget.style.borderColor=`${r.theme_color}20`,T.currentTarget.style.color="#374151"},onClick:()=>{f(A.question),d(!1)},children:A.question},A.id))})]}),s.jsx("div",{className:"px-4 pb-2",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[s.jsx("img",{src:"https://ik.imagekit.io/wrewtbha2/voxtrofavicon.png?updatedAt=1752758574810",alt:"Voxtro",className:"w-4 h-4 object-contain"}),s.jsx("span",{children:"Powered by Voxtro"})]})})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx(ue,{value:h,onChange:A=>f(A.target.value),onKeyPress:C,placeholder:"Message...",disabled:m,className:"border-0 bg-white rounded-full px-4 py-3 text-sm text-gray-900 placeholder:text-gray-500 shadow-sm focus:ring-2 focus:ring-blue-500 focus:shadow-md transition-all",style:{color:"#111827"}})}),s.jsx(ee,{onClick:S,disabled:m||!h.trim(),size:"sm",className:"w-10 h-10 p-0 rounded-full bg-blue-500 hover:bg-blue-600 text-white border-0 shadow-sm",children:s.jsx(nu,{className:"h-4 w-4"})})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsx(vs,{to:"/",replace:!0})}var ZA="Radio",[f3e,TH]=Ur(ZA),[m3e,p3e]=f3e(ZA),OH=y.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,f]=y.useState(null),m=Xe(t,v=>f(v)),p=y.useRef(!1),g=h?u||!!h.closest("form"):!0;return s.jsxs(m3e,{scope:n,checked:a,disabled:o,children:[s.jsx(ze.button,{type:"button",role:"radio","aria-checked":a,"data-state":IH(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:Ne(e.onClick,v=>{a||c==null||c(),g&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),g&&s.jsx(g3e,{control:h,bubbles:!p.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});OH.displayName=ZA;var MH="RadioIndicator",DH=y.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=p3e(MH,n);return s.jsx(Un,{present:r||i.checked,children:s.jsx(ze.span,{"data-state":IH(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});DH.displayName=MH;var g3e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=y.useRef(null),o=ov(n),l=Og(t);return y.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function IH(e){return e?"checked":"unchecked"}var v3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eT="RadioGroup",[x3e,XGe]=Ur(eT,[Cf,TH]),RH=Cf(),$H=TH(),[y3e,b3e]=x3e(eT),LH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,m=RH(n),p=ku(u),[g,v]=_s({prop:i,defaultProp:a,onChange:h});return s.jsx(y3e,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx($A,{asChild:!0,...m,orientation:c,dir:p,loop:d,children:s.jsx(ze.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...f,ref:t})})})});LH.displayName=eT;var FH="RadioGroupItem",BH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=b3e(FH,n),o=i.disabled||r,l=RH(n),c=$H(n),u=y.useRef(null),d=Xe(t,u),h=i.value===a.value,f=y.useRef(!1);return y.useEffect(()=>{const m=g=>{v3e.includes(g.key)&&(f.current=!0)},p=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",p)}},[]),s.jsx(LA,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(OH,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ne(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ne(a.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});BH.displayName=FH;var w3e="RadioGroupIndicator",UH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=$H(n);return s.jsx(DH,{...a,...r,ref:t})});UH.displayName=w3e;var zH=LH,qH=BH,j3e=UH;const VH=y.forwardRef(({className:e,...t},n)=>s.jsx(zH,{className:xe("grid gap-2",e),...t,ref:n}));VH.displayName=zH.displayName;const WH=y.forwardRef(({className:e,...t},n)=>s.jsx(qH,{ref:n,className:xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(j3e,{className:"flex items-center justify-center",children:s.jsx(XB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));WH.displayName=qH.displayName;function _3e({formData:e,onSubmit:t,isSubmitting:n=!1,themeColor:r}){const[a,i]=y.useState({}),[o,l]=y.useState({}),[c,u]=y.useState(!1),d=(p,g)=>{var v,x,b;return p.required&&(!g||g==="")?`${p.label} is required`:p.type==="email"&&g&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)?"Please enter a valid email address":p.type==="phone"&&g&&!/^[\+]?[1-9][\d]{0,15}$/.test(g.replace(/[\s\-\(\)]/g,""))?"Please enter a valid phone number":(v=p.validation)!=null&&v.min&&g&&g.length<p.validation.min?`${p.label} must be at least ${p.validation.min} characters`:(x=p.validation)!=null&&x.max&&g&&g.length>p.validation.max?`${p.label} must be no more than ${p.validation.max} characters`:(b=p.validation)!=null&&b.pattern&&g&&!new RegExp(p.validation.pattern).test(g)?`${p.label} format is invalid`:null},h=p=>{p.preventDefault();const g={};e.fields.forEach(v=>{const x=d(v,a[v.id]);x&&(g[v.id]=x)}),e.require_terms_acceptance&&!c&&(g.terms="You must accept the terms and conditions to proceed"),l(g),Object.keys(g).length===0&&t(a)},f=(p,g)=>{i(v=>({...v,[p]:g})),o[p]&&l(v=>({...v,[p]:""}))},m=p=>{var v,x,b;const g=o[p.id];switch(p.type){case"text":case"email":case"phone":case"number":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:p.id,className:"text-sm font-medium text-foreground",children:[p.label,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(ue,{id:p.id,type:p.type,placeholder:p.placeholder,value:a[p.id]||"",onChange:w=>f(p.id,w.target.value),className:`focus:ring-2 ${g?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":g?void 0:r+"40"}}),g&&s.jsx("p",{className:"text-sm text-destructive",children:g})]},p.id);case"date":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:p.id,className:"text-sm font-medium text-foreground",children:[p.label,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(ue,{id:p.id,type:"date",value:a[p.id]||"",onChange:w=>f(p.id,w.target.value),className:`focus:ring-2 ${g?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":g?void 0:r+"40"}}),g&&s.jsx("p",{className:"text-sm text-destructive",children:g})]},p.id);case"textarea":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:p.id,className:"text-sm font-medium text-foreground",children:[p.label,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(pt,{id:p.id,placeholder:p.placeholder,value:a[p.id]||"",onChange:w=>f(p.id,w.target.value),rows:3,className:`focus:ring-2 resize-none ${g?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":g?void 0:r+"40"}}),g&&s.jsx("p",{className:"text-sm text-destructive",children:g})]},p.id);case"select":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{className:"text-sm font-medium text-foreground",children:[p.label,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(Be,{value:a[p.id]||"",onValueChange:w=>f(p.id,w),children:[s.jsx(Le,{className:g?"border-destructive":"",children:s.jsx(Ue,{placeholder:p.placeholder||"Select an option"})}),s.jsx(Fe,{children:(v=p.options)==null?void 0:v.map(w=>s.jsx(ie,{value:w,children:w},w))})]}),g&&s.jsx("p",{className:"text-sm text-destructive",children:g})]},p.id);case"radio":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ne,{className:"text-sm font-medium text-foreground",children:[p.label,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(VH,{value:a[p.id]||"",onValueChange:w=>f(p.id,w),className:"space-y-2",children:(x=p.options)==null?void 0:x.map(w=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WH,{value:w,id:`${p.id}-${w}`}),s.jsx(ne,{htmlFor:`${p.id}-${w}`,className:"text-sm font-normal",children:w})]},w))}),g&&s.jsx("p",{className:"text-sm text-destructive",children:g})]},p.id);case"checkbox":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ne,{className:"text-sm font-medium text-foreground",children:[p.label,p.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:(b=p.options)==null?void 0:b.map(w=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lh,{id:`${p.id}-${w}`,checked:(a[p.id]||[]).includes(w),onCheckedChange:_=>{const N=a[p.id]||[];_?f(p.id,[...N,w]):f(p.id,N.filter(S=>S!==w))}}),s.jsx(ne,{htmlFor:`${p.id}-${w}`,className:"text-sm font-normal",children:w})]},w))}),g&&s.jsx("p",{className:"text-sm text-destructive",children:g})]},p.id);default:return null}};return s.jsxs(Y,{className:"w-full max-w-md mx-auto shadow-lg border-0 bg-card",children:[s.jsxs(se,{className:"text-center pb-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:r+"20"},children:s.jsx(Fn,{className:"h-5 w-5",style:{color:r}})})}),s.jsx(ae,{className:"text-lg font-semibold text-foreground",children:e.form_title}),e.form_description&&s.jsx(je,{className:"text-sm text-muted-foreground",children:e.form_description})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.fields.map(m),e.require_terms_acceptance&&e.terms_and_conditions&&s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.terms_and_conditions})}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Lh,{id:"terms-acceptance",checked:c,onCheckedChange:p=>{u(!!p),o.terms&&l(g=>({...g,terms:""}))}}),s.jsxs(ne,{htmlFor:"terms-acceptance",className:"text-sm font-normal leading-relaxed",children:["I accept the terms and conditions",s.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),o.terms&&s.jsx("p",{className:"text-sm text-destructive",children:o.terms})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(ee,{type:"submit",disabled:n,className:"w-full text-white font-medium py-2.5 hover:opacity-90 transition-opacity",style:{backgroundColor:r},children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Submit Form"]})})})]})})]})}function N3e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const S3e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,C3e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,k3e={};function J$(e,t){return(k3e.jsx?C3e:S3e).test(e)}const E3e=/[ \t\n\f\r]/g;function P3e(e){return typeof e=="object"?e.type==="text"?X$(e.value):!1:X$(e)}function X$(e){return e.replace(E3e,"")===""}class fv{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}fv.prototype.normal={};fv.prototype.property={};fv.prototype.space=void 0;function HH(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new fv(n,r,t)}function Uk(e){return e.toLowerCase()}class Es{constructor(t,n){this.attribute=n,this.property=t}}Es.prototype.attribute="";Es.prototype.booleanish=!1;Es.prototype.boolean=!1;Es.prototype.commaOrSpaceSeparated=!1;Es.prototype.commaSeparated=!1;Es.prototype.defined=!1;Es.prototype.mustUseProperty=!1;Es.prototype.number=!1;Es.prototype.overloadedBoolean=!1;Es.prototype.property="";Es.prototype.spaceSeparated=!1;Es.prototype.space=void 0;let A3e=0;const ft=Au(),$n=Au(),zk=Au(),Ee=Au(),sn=Au(),Md=Au(),Os=Au();function Au(){return 2**++A3e}const qk=Object.freeze(Object.defineProperty({__proto__:null,boolean:ft,booleanish:$n,commaOrSpaceSeparated:Os,commaSeparated:Md,number:Ee,overloadedBoolean:zk,spaceSeparated:sn},Symbol.toStringTag,{value:"Module"})),S1=Object.keys(qk);class tT extends Es{constructor(t,n,r,a){let i=-1;if(super(t,n),Q$(this,"space",a),typeof r=="number")for(;++i<S1.length;){const o=S1[i];Q$(this,S1[i],(r&qk[o])===qk[o])}}}tT.prototype.defined=!0;function Q$(e,t,n){n&&(e[t]=n)}function Af(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new tT(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Uk(r)]=r,n[Uk(i.attribute)]=r}return new fv(t,n,e.space)}const GH=Af({properties:{ariaActiveDescendant:null,ariaAtomic:$n,ariaAutoComplete:null,ariaBusy:$n,ariaChecked:$n,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:sn,ariaCurrent:null,ariaDescribedBy:sn,ariaDetails:null,ariaDisabled:$n,ariaDropEffect:sn,ariaErrorMessage:null,ariaExpanded:$n,ariaFlowTo:sn,ariaGrabbed:$n,ariaHasPopup:null,ariaHidden:$n,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:sn,ariaLevel:Ee,ariaLive:null,ariaModal:$n,ariaMultiLine:$n,ariaMultiSelectable:$n,ariaOrientation:null,ariaOwns:sn,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:$n,ariaReadOnly:$n,ariaRelevant:null,ariaRequired:$n,ariaRoleDescription:sn,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:$n,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function YH(e,t){return t in e?e[t]:t}function KH(e,t){return YH(e,t.toLowerCase())}const T3e=Af({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Md,acceptCharset:sn,accessKey:sn,action:null,allow:null,allowFullScreen:ft,allowPaymentRequest:ft,allowUserMedia:ft,alt:null,as:null,async:ft,autoCapitalize:null,autoComplete:sn,autoFocus:ft,autoPlay:ft,blocking:sn,capture:null,charSet:null,checked:ft,cite:null,className:sn,cols:Ee,colSpan:null,content:null,contentEditable:$n,controls:ft,controlsList:sn,coords:Ee|Md,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ft,defer:ft,dir:null,dirName:null,disabled:ft,download:zk,draggable:$n,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ft,formTarget:null,headers:sn,height:Ee,hidden:zk,high:Ee,href:null,hrefLang:null,htmlFor:sn,httpEquiv:sn,id:null,imageSizes:null,imageSrcSet:null,inert:ft,inputMode:null,integrity:null,is:null,isMap:ft,itemId:null,itemProp:sn,itemRef:sn,itemScope:ft,itemType:sn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ft,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:ft,muted:ft,name:null,nonce:null,noModule:ft,noValidate:ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ft,optimum:Ee,pattern:null,ping:sn,placeholder:null,playsInline:ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ft,referrerPolicy:null,rel:sn,required:ft,reversed:ft,rows:Ee,rowSpan:Ee,sandbox:sn,scope:null,scoped:ft,seamless:ft,selected:ft,shadowRootClonable:ft,shadowRootDelegatesFocus:ft,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:$n,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:ft,useMap:null,value:$n,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:sn,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ft,declare:ft,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:ft,noHref:ft,noShade:ft,noWrap:ft,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:$n,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ft,disableRemotePlayback:ft,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:KH}),O3e=Af({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Os,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:sn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Md,g2:Md,glyphName:Md,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:Os,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:sn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Os,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Os,rev:Os,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Os,requiredFeatures:Os,requiredFonts:Os,requiredFormats:Os,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:Os,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Os,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Os,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YH}),JH=Af({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),XH=Af({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:KH}),QH=Af({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),M3e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},D3e=/[A-Z]/g,Z$=/-[a-z]/g,I3e=/^data[-\w.:]+$/i;function R3e(e,t){const n=Uk(t);let r=t,a=Es;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&I3e.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(Z$,L3e);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!Z$.test(i)){let o=i.replace(D3e,$3e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=tT}return new a(r,t)}function $3e(e){return"-"+e.toLowerCase()}function L3e(e){return e.charAt(1).toUpperCase()}const F3e=HH([GH,T3e,JH,XH,QH],"html"),nT=HH([GH,O3e,JH,XH,QH],"svg");function B3e(e){return e.join(" ").trim()}var rT={},eL=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,U3e=/\n/g,z3e=/^\s*/,q3e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,V3e=/^:\s*/,W3e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,H3e=/^[;\s]*/,G3e=/^\s+|\s+$/g,Y3e=`
`,tL="/",nL="*",jc="",K3e="comment",J3e="declaration",X3e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(p){var g=p.match(U3e);g&&(n+=g.length);var v=p.lastIndexOf(Y3e);r=~v?p.length-v:r+p.length}function i(){var p={line:n,column:r};return function(g){return g.position=new o(p),u(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(p){var g=p.exec(e);if(g){var v=g[0];return a(v),e=e.slice(v.length),g}}function u(){c(z3e)}function d(p){var g;for(p=p||[];g=h();)g!==!1&&p.push(g);return p}function h(){var p=i();if(!(tL!=e.charAt(0)||nL!=e.charAt(1))){for(var g=2;jc!=e.charAt(g)&&(nL!=e.charAt(g)||tL!=e.charAt(g+1));)++g;if(g+=2,jc===e.charAt(g-1))return l("End of comment missing");var v=e.slice(2,g-2);return r+=2,a(v),e=e.slice(g),r+=2,p({type:K3e,comment:v})}}function f(){var p=i(),g=c(q3e);if(g){if(h(),!c(V3e))return l("property missing ':'");var v=c(W3e),x=p({type:J3e,property:rL(g[0].replace(eL,jc)),value:v?rL(v[0].replace(eL,jc)):jc});return c(H3e),x}}function m(){var p=[];d(p);for(var g;g=f();)g!==!1&&(p.push(g),d(p));return p}return u(),m()};function rL(e){return e?e.replace(G3e,jc):jc}var Q3e=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rT,"__esModule",{value:!0});rT.default=e5e;var Z3e=Q3e(X3e);function e5e(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Z3e.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;a?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}var gj={};Object.defineProperty(gj,"__esModule",{value:!0});gj.camelCase=void 0;var t5e=/^--[a-zA-Z0-9_-]+$/,n5e=/-([a-z])/g,r5e=/^[^-]+$/,s5e=/^-(webkit|moz|ms|o|khtml)-/,a5e=/^-(ms)-/,i5e=function(e){return!e||r5e.test(e)||t5e.test(e)},o5e=function(e,t){return t.toUpperCase()},sL=function(e,t){return"".concat(t,"-")},l5e=function(e,t){return t===void 0&&(t={}),i5e(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(a5e,sL):e=e.replace(s5e,sL),e.replace(n5e,o5e))};gj.camelCase=l5e;var c5e=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u5e=c5e(rT),d5e=gj;function Vk(e,t){var n={};return!e||typeof e!="string"||(0,u5e.default)(e,function(r,a){r&&a&&(n[(0,d5e.camelCase)(r,t)]=a)}),n}Vk.default=Vk;var h5e=Vk;const f5e=qt(h5e),ZH=eG("end"),sT=eG("start");function eG(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function m5e(e){const t=sT(e),n=ZH(e);if(t&&n)return{start:t,end:n}}function Jm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?aL(e.position):"start"in e||"end"in e?aL(e):"line"in e||"column"in e?Wk(e):""}function Wk(e){return iL(e&&e.line)+":"+iL(e&&e.column)}function aL(e){return Wk(e&&e.start)+"-"+Wk(e&&e.end)}function iL(e){return e&&typeof e=="number"?e:1}class zr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=Jm(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}zr.prototype.file="";zr.prototype.name="";zr.prototype.reason="";zr.prototype.message="";zr.prototype.stack="";zr.prototype.column=void 0;zr.prototype.line=void 0;zr.prototype.ancestors=void 0;zr.prototype.cause=void 0;zr.prototype.fatal=void 0;zr.prototype.place=void 0;zr.prototype.ruleId=void 0;zr.prototype.source=void 0;const aT={}.hasOwnProperty,p5e=new Map,g5e=/[A-Z]/g,v5e=new Set(["table","tbody","thead","tfoot","tr"]),x5e=new Set(["td","th"]),tG="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function y5e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=k5e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=C5e(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?nT:F3e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=nG(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function nG(e,t,n){if(t.type==="element")return b5e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return w5e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return _5e(e,t,n);if(t.type==="mdxjsEsm")return j5e(e,t);if(t.type==="root")return N5e(e,t,n);if(t.type==="text")return S5e(e,t)}function b5e(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=nT,e.schema=a),e.ancestors.push(t);const i=sG(e,t.tagName,!1),o=E5e(e,t);let l=oT(e,t);return v5e.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!P3e(c):!0})),rG(e,o,i,t),iT(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function w5e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}fg(e,t.position)}function j5e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);fg(e,t.position)}function _5e(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=nT,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:sG(e,t.name,!0),o=P5e(e,t),l=oT(e,t);return rG(e,o,i,t),iT(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function N5e(e,t,n){const r={};return iT(r,oT(e,t)),e.create(t,e.Fragment,r,n)}function S5e(e,t){return t.value}function rG(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function iT(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function C5e(e,t,n){return r;function r(a,i,o,l){const u=Array.isArray(o.children)?n:t;return l?u(i,o,l):u(i,o)}}function k5e(e,t){return n;function n(r,a,i,o){const l=Array.isArray(i.children),c=sT(r);return t(a,i,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function E5e(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&aT.call(t.properties,a)){const i=A5e(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&x5e.has(t.tagName)?r=l:n[o]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function P5e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else fg(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else fg(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function oT(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:p5e;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;o=c+"-"+u,a.set(c,u+1)}}const l=nG(e,i,o);l!==void 0&&n.push(l)}return n}function A5e(e,t,n){const r=R3e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?N3e(n):B3e(n)),r.property==="style"){let a=typeof n=="object"?n:T5e(e,String(n));return e.stylePropertyNameCase==="css"&&(a=O5e(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?M3e[r.property]||r.property:r.attribute,n]}}function T5e(e,t){try{return f5e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new zr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=tG+"#cannot-parse-style-attribute",a}}function sG(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=J$(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=o}else r=J$(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return aT.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);fg(e)}function fg(e,t){const n=new zr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=tG+"#cannot-handle-mdx-estrees-without-createevaluater",n}function O5e(e){const t={};let n;for(n in e)aT.call(e,n)&&(t[M5e(n)]=e[n]);return t}function M5e(e){let t=e.replace(g5e,D5e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function D5e(e){return"-"+e.toLowerCase()}const C1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},I5e={};function R5e(e,t){const n=I5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return aG(e,r,a)}function aG(e,t,n){if($5e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return oL(e.children,t,n)}return Array.isArray(e)?oL(e,t,n):""}function oL(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=aG(e[a],t,n);return r.join("")}function $5e(e){return!!(e&&typeof e=="object")}const lL=document.createElement("i");function lT(e){const t="&"+e+";";lL.innerHTML=t;const n=lL.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function zi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function ca(e,t){return e.length>0?(zi(e,e.length,0,t),e):t}const cL={}.hasOwnProperty;function L5e(e){const t={};let n=-1;for(;++n<e.length;)F5e(t,e[n]);return t}function F5e(e,t){let n;for(n in t){const a=(cL.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){cL.call(a,o)||(a[o]=[]);const l=i[o];B5e(a[o],Array.isArray(l)?l:l?[l]:[])}}}function B5e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);zi(e,0,0,r)}function iG(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Dd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ai=ac(/[A-Za-z]/),zs=ac(/[\dA-Za-z]/),U5e=ac(/[#-'*+\--9=?A-Z^-~]/);function Hk(e){return e!==null&&(e<32||e===127)}const Gk=ac(/\d/),z5e=ac(/[\dA-Fa-f]/),q5e=ac(/[!-/:-@[-`{-~]/);function rt(e){return e!==null&&e<-2}function ws(e){return e!==null&&(e<0||e===32)}function $t(e){return e===-2||e===-1||e===32}const V5e=ac(new RegExp("\\p{P}|\\p{S}","u")),W5e=ac(/\s/);function ac(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Tf(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&zs(e.charCodeAt(n+1))&&zs(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function cn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(c){return $t(c)?(e.enter(n),l(c)):t(c)}function l(c){return $t(c)&&i++<a?(e.consume(c),l):(e.exit(n),t(c))}}const H5e={tokenize:G5e};function G5e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),cn(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return rt(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const Y5e={tokenize:K5e},uL={tokenize:J5e};function K5e(e){const t=this,n=[];let r=0,a,i,o;return l;function l(w){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const _=t.events.length;let N=_,S;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){S=t.events[N][1].end;break}x(r);let C=_;for(;C<t.events.length;)t.events[C][1].end={...S},C++;return zi(t.events,N+1,0,t.events.slice(_)),t.events.length=C,u(w)}return l(w)}function u(w){if(r===n.length){if(!a)return f(w);if(a.currentConstruct&&a.currentConstruct.concrete)return p(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(uL,d,h)(w)}function d(w){return a&&b(),x(r),f(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(w)}function f(w){return t.containerState={},e.attempt(uL,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function p(w){if(w===null){a&&b(),x(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),g(w)}function g(w){if(w===null){v(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return rt(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),g)}function v(w,_){const N=t.sliceStream(w);if(_&&N.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(N),t.parser.lazy[w.start.line]){let S=a.events.length;for(;S--;)if(a.events[S][1].start.offset<o&&(!a.events[S][1].end||a.events[S][1].end.offset>o))return;const C=t.events.length;let k=C,A,T;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(A){T=t.events[k][1].end;break}A=!0}for(x(r),S=C;S<t.events.length;)t.events[S][1].end={...T},S++;zi(t.events,k+1,0,t.events.slice(C)),t.events.length=S}}function x(w){let _=n.length;for(;_-- >w;){const N=n[_];t.containerState=N[1],N[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function J5e(e,t,n){return cn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dL(e){if(e===null||ws(e)||W5e(e))return 1;if(V5e(e))return 2}function cT(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Yk={name:"attention",resolveAll:X5e,tokenize:Q5e};function X5e(e,t){let n=-1,r,a,i,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};hL(h,-c),hL(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ca(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ca(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=ca(u,cT(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ca(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ca(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,zi(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Q5e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=dL(r);let i;return o;function o(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),d=dL(c),h=!d||d===2&&a||n.includes(c),f=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(a||!f)),u._close=!!(i===42?f:f&&(d||!h)),t(c)}}function hL(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Z5e={name:"autolink",tokenize:eFe};function eFe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ai(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||zs(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||zs(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Hk(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):U5e(m)?(e.consume(m),u):n(m)}function d(m){return zs(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||zs(m))&&r++<63){const p=m===45?f:h;return e.consume(m),p}return n(m)}}const vj={partial:!0,tokenize:tFe};function tFe(e,t,n){return r;function r(i){return $t(i)?cn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||rt(i)?t(i):n(i)}}const oG={continuation:{tokenize:rFe},exit:sFe,name:"blockQuote",tokenize:nFe};function nFe(e,t,n){const r=this;return a;function a(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return $t(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function rFe(e,t,n){const r=this;return a;function a(o){return $t(o)?cn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(oG,t,n)(o)}}function sFe(e){e.exit("blockQuote")}const lG={name:"characterEscape",tokenize:aFe};function aFe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return q5e(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const cG={name:"characterReference",tokenize:iFe};function iFe(e,t,n){const r=this;let a=0,i,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=zs,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=z5e,d):(e.enter("characterReferenceValue"),i=7,o=Gk,d(h))}function d(h){if(h===59&&a){const f=e.exit("characterReferenceValue");return o===zs&&!lT(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&a++<i?(e.consume(h),d):n(h)}}const fL={partial:!0,tokenize:lFe},mL={concrete:!0,name:"codeFenced",tokenize:oFe};function oFe(e,t,n){const r=this,a={partial:!0,tokenize:N};let i=0,o=0,l;return c;function c(S){return u(S)}function u(S){const C=r.events[r.events.length-1];return i=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===l?(o++,e.consume(S),d):o<3?n(S):(e.exit("codeFencedFenceSequence"),$t(S)?cn(e,h,"whitespace")(S):h(S))}function h(S){return S===null||rt(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(fL,g,_)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||rt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):$t(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),cn(e,m,"whitespace")(S)):S===96&&S===l?n(S):(e.consume(S),f)}function m(S){return S===null||rt(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||rt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===l?n(S):(e.consume(S),p)}function g(S){return e.attempt(a,_,v)(S)}function v(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return i>0&&$t(S)?cn(e,b,"linePrefix",i+1)(S):b(S)}function b(S){return S===null||rt(S)?e.check(fL,g,_)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||rt(S)?(e.exit("codeFlowValue"),b(S)):(e.consume(S),w)}function _(S){return e.exit("codeFenced"),t(S)}function N(S,C,k){let A=0;return T;function T(F){return S.enter("lineEnding"),S.consume(F),S.exit("lineEnding"),E}function E(F){return S.enter("codeFencedFence"),$t(F)?cn(S,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):B(F)}function B(F){return F===l?(S.enter("codeFencedFenceSequence"),U(F)):k(F)}function U(F){return F===l?(A++,S.consume(F),U):A>=o?(S.exit("codeFencedFenceSequence"),$t(F)?cn(S,$,"whitespace")(F):$(F)):k(F)}function $(F){return F===null||rt(F)?(S.exit("codeFencedFence"),C(F)):k(F)}}}function lFe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const k1={name:"codeIndented",tokenize:uFe},cFe={partial:!0,tokenize:dFe};function uFe(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),cn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):rt(u)?e.attempt(cFe,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||rt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function dFe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):rt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):cn(e,i,"linePrefix",5)(o)}function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):rt(o)?a(o):n(o)}}const hFe={name:"codeText",previous:mFe,resolve:fFe,tokenize:pFe};function fFe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function mFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pFe(e,t,n){let r=0,a,i;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),a=0,d(h)):rt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||rt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class gFe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&dm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),dm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),dm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);dm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);dm(this.left,n.reverse())}}}function dm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function uG(e){const t={};let n=-1,r,a,i,o,l,c,u;const d=new gFe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,vFe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return zi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function vFe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,h,f=-1,m=n,p=0,g=0;const v=[g];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(g=f+1,v.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):v.pop(),f=v.length;f--;){const x=l.slice(v[f],v[f+1]),b=i.pop();c.push([b,b+x.length-1]),e.splice(b,2,x)}for(c.reverse(),f=-1;++f<c.length;)u[p+c[f][0]]=p+c[f][1],p+=c[f][1]-c[f][0]-1;return u}const xFe={resolve:bFe,tokenize:wFe},yFe={partial:!0,tokenize:jFe};function bFe(e){return uG(e),e}function wFe(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):rt(l)?e.check(yFe,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function jFe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),cn(e,i,"linePrefix")}function i(o){if(o===null||rt(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function dG(e,t,n,r,a,i,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(x){return x===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(x),e.exit(i),f):x===null||x===32||x===41||Hk(x)?n(x):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(x))}function f(x){return x===62?(e.enter(i),e.consume(x),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(l),f(x)):x===null||x===60||rt(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||ws(x))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Hk(x)?n(x):(e.consume(x),x===92?v:g)}function v(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function hG(e,t,n,r,a,i){const o=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):rt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||rt(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!$t(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function fG(e,t,n,r,a,i){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(a),e.consume(f),e.exit(a),o=f===40?41:f,c):n(f)}function c(f){return f===o?(e.enter(a),e.consume(f),e.exit(a),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===o?(e.exit(i),c(o)):f===null?n(f):rt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),cn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||rt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(e.consume(f),d):d(f)}}function Xm(e,t){let n;return r;function r(a){return rt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):$t(a)?cn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const _Fe={name:"definition",tokenize:SFe},NFe={partial:!0,tokenize:CFe};function SFe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return hG.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return a=Dd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return ws(m)?Xm(e,u)(m):u(m)}function u(m){return dG(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(NFe,h,h)(m)}function h(m){return $t(m)?cn(e,f,"whitespace")(m):f(m)}function f(m){return m===null||rt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function CFe(e,t,n){return r;function r(l){return ws(l)?Xm(e,a)(l):n(l)}function a(l){return fG(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return $t(l)?cn(e,o,"whitespace")(l):o(l)}function o(l){return l===null||rt(l)?t(l):n(l)}}const kFe={name:"hardBreakEscape",tokenize:EFe};function EFe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return rt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const PFe={name:"headingAtx",resolve:AFe,tokenize:TFe};function AFe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},zi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function TFe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||ws(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||rt(d)?(e.exit("atxHeading"),t(d)):$t(d)?cn(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||ws(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const OFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pL=["pre","script","style","textarea"],MFe={concrete:!0,name:"htmlFlow",resolveTo:RFe,tokenize:$Fe},DFe={partial:!0,tokenize:FFe},IFe={partial:!0,tokenize:LFe};function RFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function $Fe(e,t,n){const r=this;let a,i,o,l,c;return u;function u(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),h}function h(j){return j===33?(e.consume(j),f):j===47?(e.consume(j),i=!0,g):j===63?(e.consume(j),a=3,r.interrupt?t:I):Ai(j)?(e.consume(j),o=String.fromCharCode(j),v):n(j)}function f(j){return j===45?(e.consume(j),a=2,m):j===91?(e.consume(j),a=5,l=0,p):Ai(j)?(e.consume(j),a=4,r.interrupt?t:I):n(j)}function m(j){return j===45?(e.consume(j),r.interrupt?t:I):n(j)}function p(j){const P="CDATA[";return j===P.charCodeAt(l++)?(e.consume(j),l===P.length?r.interrupt?t:B:p):n(j)}function g(j){return Ai(j)?(e.consume(j),o=String.fromCharCode(j),v):n(j)}function v(j){if(j===null||j===47||j===62||ws(j)){const P=j===47,O=o.toLowerCase();return!P&&!i&&pL.includes(O)?(a=1,r.interrupt?t(j):B(j)):OFe.includes(o.toLowerCase())?(a=6,P?(e.consume(j),x):r.interrupt?t(j):B(j)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):i?b(j):w(j))}return j===45||zs(j)?(e.consume(j),o+=String.fromCharCode(j),v):n(j)}function x(j){return j===62?(e.consume(j),r.interrupt?t:B):n(j)}function b(j){return $t(j)?(e.consume(j),b):T(j)}function w(j){return j===47?(e.consume(j),T):j===58||j===95||Ai(j)?(e.consume(j),_):$t(j)?(e.consume(j),w):T(j)}function _(j){return j===45||j===46||j===58||j===95||zs(j)?(e.consume(j),_):N(j)}function N(j){return j===61?(e.consume(j),S):$t(j)?(e.consume(j),N):w(j)}function S(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),c=j,C):$t(j)?(e.consume(j),S):k(j)}function C(j){return j===c?(e.consume(j),c=null,A):j===null||rt(j)?n(j):(e.consume(j),C)}function k(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||ws(j)?N(j):(e.consume(j),k)}function A(j){return j===47||j===62||$t(j)?w(j):n(j)}function T(j){return j===62?(e.consume(j),E):n(j)}function E(j){return j===null||rt(j)?B(j):$t(j)?(e.consume(j),E):n(j)}function B(j){return j===45&&a===2?(e.consume(j),M):j===60&&a===1?(e.consume(j),R):j===62&&a===4?(e.consume(j),z):j===63&&a===3?(e.consume(j),I):j===93&&a===5?(e.consume(j),L):rt(j)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(DFe,H,U)(j)):j===null||rt(j)?(e.exit("htmlFlowData"),U(j)):(e.consume(j),B)}function U(j){return e.check(IFe,$,H)(j)}function $(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),F}function F(j){return j===null||rt(j)?U(j):(e.enter("htmlFlowData"),B(j))}function M(j){return j===45?(e.consume(j),I):B(j)}function R(j){return j===47?(e.consume(j),o="",D):B(j)}function D(j){if(j===62){const P=o.toLowerCase();return pL.includes(P)?(e.consume(j),z):B(j)}return Ai(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),D):B(j)}function L(j){return j===93?(e.consume(j),I):B(j)}function I(j){return j===62?(e.consume(j),z):j===45&&a===2?(e.consume(j),I):B(j)}function z(j){return j===null||rt(j)?(e.exit("htmlFlowData"),H(j)):(e.consume(j),z)}function H(j){return e.exit("htmlFlow"),t(j)}}function LFe(e,t,n){const r=this;return a;function a(o){return rt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function FFe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(vj,t,n)}}const BFe={name:"htmlText",tokenize:UFe};function UFe(e,t,n){const r=this;let a,i,o;return l;function l(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),c}function c(I){return I===33?(e.consume(I),u):I===47?(e.consume(I),N):I===63?(e.consume(I),w):Ai(I)?(e.consume(I),k):n(I)}function u(I){return I===45?(e.consume(I),d):I===91?(e.consume(I),i=0,p):Ai(I)?(e.consume(I),b):n(I)}function d(I){return I===45?(e.consume(I),m):n(I)}function h(I){return I===null?n(I):I===45?(e.consume(I),f):rt(I)?(o=h,R(I)):(e.consume(I),h)}function f(I){return I===45?(e.consume(I),m):h(I)}function m(I){return I===62?M(I):I===45?f(I):h(I)}function p(I){const z="CDATA[";return I===z.charCodeAt(i++)?(e.consume(I),i===z.length?g:p):n(I)}function g(I){return I===null?n(I):I===93?(e.consume(I),v):rt(I)?(o=g,R(I)):(e.consume(I),g)}function v(I){return I===93?(e.consume(I),x):g(I)}function x(I){return I===62?M(I):I===93?(e.consume(I),x):g(I)}function b(I){return I===null||I===62?M(I):rt(I)?(o=b,R(I)):(e.consume(I),b)}function w(I){return I===null?n(I):I===63?(e.consume(I),_):rt(I)?(o=w,R(I)):(e.consume(I),w)}function _(I){return I===62?M(I):w(I)}function N(I){return Ai(I)?(e.consume(I),S):n(I)}function S(I){return I===45||zs(I)?(e.consume(I),S):C(I)}function C(I){return rt(I)?(o=C,R(I)):$t(I)?(e.consume(I),C):M(I)}function k(I){return I===45||zs(I)?(e.consume(I),k):I===47||I===62||ws(I)?A(I):n(I)}function A(I){return I===47?(e.consume(I),M):I===58||I===95||Ai(I)?(e.consume(I),T):rt(I)?(o=A,R(I)):$t(I)?(e.consume(I),A):M(I)}function T(I){return I===45||I===46||I===58||I===95||zs(I)?(e.consume(I),T):E(I)}function E(I){return I===61?(e.consume(I),B):rt(I)?(o=E,R(I)):$t(I)?(e.consume(I),E):A(I)}function B(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),a=I,U):rt(I)?(o=B,R(I)):$t(I)?(e.consume(I),B):(e.consume(I),$)}function U(I){return I===a?(e.consume(I),a=void 0,F):I===null?n(I):rt(I)?(o=U,R(I)):(e.consume(I),U)}function $(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||ws(I)?A(I):(e.consume(I),$)}function F(I){return I===47||I===62||ws(I)?A(I):n(I)}function M(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function R(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),D}function D(I){return $t(I)?cn(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):L(I)}function L(I){return e.enter("htmlTextData"),o(I)}}const uT={name:"labelEnd",resolveAll:WFe,resolveTo:HFe,tokenize:GFe},zFe={tokenize:YFe},qFe={tokenize:KFe},VFe={tokenize:JFe};function WFe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&zi(e,0,e.length,n),e}function HFe(e,t){let n=e.length,r=0,a,i,o,l;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=ca(l,e.slice(i+1,i+r+3)),l=ca(l,[["enter",d,t]]),l=ca(l,cT(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),l=ca(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=ca(l,e.slice(o+1)),l=ca(l,[["exit",c,t]]),zi(e,i,e.length,l),e}function GFe(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return l;function l(f){return i?i._inactive?h(f):(o=r.parser.defined.includes(Dd(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(zFe,d,o?d:h)(f):f===91?e.attempt(qFe,d,o?u:h)(f):o?d(f):h(f)}function u(f){return e.attempt(VFe,d,h)(f)}function d(f){return t(f)}function h(f){return i._balanced=!0,n(f)}}function YFe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),a}function a(h){return ws(h)?Xm(e,i)(h):i(h)}function i(h){return h===41?d(h):dG(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return ws(h)?Xm(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?fG(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return ws(h)?Xm(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function KFe(e,t,n){const r=this;return a;function a(l){return hG.call(r,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(Dd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function JFe(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const XFe={name:"labelStartImage",resolveAll:uT.resolveAll,tokenize:QFe};function QFe(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const ZFe={name:"labelStartLink",resolveAll:uT.resolveAll,tokenize:e6e};function e6e(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const E1={name:"lineEnding",tokenize:t6e};function t6e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),cn(e,t,"linePrefix")}}const ly={name:"thematicBreak",tokenize:n6e};function n6e(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||rt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===a?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),$t(u)?cn(e,l,"whitespace")(u):l(u))}}const as={continuation:{tokenize:i6e},exit:l6e,name:"list",tokenize:a6e},r6e={partial:!0,tokenize:c6e},s6e={partial:!0,tokenize:o6e};function a6e(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Gk(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ly,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return Gk(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(vj,r.interrupt?n:d,e.attempt(r6e,f,h))}function d(m){return r.containerState.initialBlankLine=!0,i++,f(m)}function h(m){return $t(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function i6e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(vj,a,i);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,cn(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!$t(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(s6e,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,cn(e,e.attempt(as,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function o6e(e,t,n){const r=this;return cn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function l6e(e){e.exit(this.containerState.type)}function c6e(e,t,n){const r=this;return cn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!$t(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const gL={name:"setextUnderline",resolveTo:u6e,tokenize:d6e};function u6e(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function d6e(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),$t(u)?cn(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||rt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const h6e={tokenize:f6e};function f6e(e){const t=this,n=e.attempt(vj,r,e.attempt(this.parser.constructs.flowInitial,a,cn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(xFe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const m6e={resolveAll:pG()},p6e=mG("string"),g6e=mG("text");function mG(e){return{resolveAll:pG(e==="text"?v6e:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,l);return o;function o(d){return u(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=a[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function pG(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function v6e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,l=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const x6e={42:as,43:as,45:as,48:as,49:as,50:as,51:as,52:as,53:as,54:as,55:as,56:as,57:as,62:oG},y6e={91:_Fe},b6e={[-2]:k1,[-1]:k1,32:k1},w6e={35:PFe,42:ly,45:[gL,ly],60:MFe,61:gL,95:ly,96:mL,126:mL},j6e={38:cG,92:lG},_6e={[-5]:E1,[-4]:E1,[-3]:E1,33:XFe,38:cG,42:Yk,60:[Z5e,BFe],91:ZFe,92:[kFe,lG],93:uT,95:Yk,96:hFe},N6e={null:[Yk,m6e]},S6e={null:[42,95]},C6e={null:[]},k6e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:S6e,contentInitial:y6e,disable:C6e,document:x6e,flow:w6e,flowInitial:b6e,insideSpan:N6e,string:j6e,text:_6e},Symbol.toStringTag,{value:"Module"}));function E6e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],l=[];const c={attempt:C(N),check:C(S),consume:b,enter:w,exit:_,interrupt:C(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(E){return o=ca(o,E),v(),o[o.length-1]!==null?[]:(k(t,0),u.events=cT(i,u.events,u),u.events)}function f(E,B){return A6e(m(E),B)}function m(E){return P6e(o,E)}function p(){const{_bufferIndex:E,_index:B,line:U,column:$,offset:F}=r;return{_bufferIndex:E,_index:B,line:U,column:$,offset:F}}function g(E){a[E.line]=E.column,T()}function v(){let E;for(;r._index<o.length;){const B=o[r._index];if(typeof B=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<B.length;)x(B.charCodeAt(r._bufferIndex));else x(B)}}function x(E){d=d(E)}function b(E){rt(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,T()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=E}function w(E,B){const U=B||{};return U.type=E,U.start=p(),u.events.push(["enter",U,u]),l.push(U),U}function _(E){const B=l.pop();return B.end=p(),u.events.push(["exit",B,u]),B}function N(E,B){k(E,B.from)}function S(E,B){B.restore()}function C(E,B){return U;function U($,F,M){let R,D,L,I;return Array.isArray($)?H($):"tokenize"in $?H([$]):z($);function z(V){return W;function W(Z){const te=Z!==null&&V[Z],q=Z!==null&&V.null,X=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(q)?q:q?[q]:[]];return H(X)(Z)}}function H(V){return R=V,D=0,V.length===0?M:j(V[D])}function j(V){return W;function W(Z){return I=A(),L=V,V.partial||(u.currentConstruct=V),V.name&&u.parser.constructs.disable.null.includes(V.name)?O():V.tokenize.call(B?Object.assign(Object.create(u),B):u,c,P,O)(Z)}}function P(V){return E(L,I),F}function O(V){return I.restore(),++D<R.length?j(R[D]):M}}}function k(E,B){E.resolveAll&&!i.includes(E)&&i.push(E),E.resolve&&zi(u.events,B,u.events.length-B,E.resolve(u.events.slice(B),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function A(){const E=p(),B=u.previous,U=u.currentConstruct,$=u.events.length,F=Array.from(l);return{from:$,restore:M};function M(){r=E,u.previous=B,u.currentConstruct=U,u.events.length=$,l=F,T()}}function T(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function P6e(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function A6e(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function T6e(e){const r={constructs:L5e([k6e,...(e||{}).extensions||[]]),content:a(H5e),defined:[],document:a(Y5e),flow:a(h6e),lazy:{},string:a(p6e),text:a(g6e)};return r;function a(i){return o;function o(l){return E6e(r,i,l)}}}function O6e(e){for(;!uG(e););return e}const vL=/[\0\t\n\r]/g;function M6e(){let e=1,t="",n=!0,r;return a;function a(i,o,l){const c=[];let u,d,h,f,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(vL.lastIndex=h,u=vL.exec(i),f=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(f),!u){t=i.slice(h);break}if(m===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(i.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const D6e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function I6e(e){return e.replace(D6e,R6e)}function R6e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return iG(n.slice(i?2:1),i?16:10)}return lT(n)||e}const gG={}.hasOwnProperty;function $6e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),L6e(n)(O6e(T6e(n).document().write(M6e()(e,t,!0))))}function L6e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(qe),autolinkProtocol:A,autolinkEmail:A,atxHeading:i(le),blockQuote:i(q),characterEscape:A,characterReference:A,codeFenced:i(X),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(X,o),codeText:i(re,o),codeTextData:A,data:A,codeFlowValue:A,definition:i(pe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ye),hardBreakEscape:i(be),hardBreakTrailing:i(be),htmlFlow:i(Se,o),htmlFlowData:A,htmlText:i(Se,o),htmlTextData:A,image:i(Oe),label:o,link:i(qe),listItem:i(he),listItemValue:f,listOrdered:i(Ge,h),listUnordered:i(Ge),paragraph:i(me),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(le),strong:i(Ae),thematicBreak:i(yt)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:te,autolinkProtocol:Z,blockQuote:c(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:O,characterReferenceMarkerNumeric:O,characterReferenceValue:V,characterReference:W,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:c(x),codeText:c(F),codeTextData:T,data:T,definition:c(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(U),htmlFlowData:T,htmlText:c($),htmlTextData:T,image:c(R),label:L,labelText:D,lineEnding:E,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:P,resourceDestinationString:I,resourceTitleString:z,resource:H,setextHeading:c(k),setextHeadingLineSequence:C,setextHeadingText:S,strong:c(),thematicBreak:c()}};vG(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(K){let de={type:"root",children:[]};const Pe={stack:[de],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},Ie=[];let Qe=-1;for(;++Qe<K.length;)if(K[Qe][1].type==="listOrdered"||K[Qe][1].type==="listUnordered")if(K[Qe][0]==="enter")Ie.push(Qe);else{const Yt=Ie.pop();Qe=a(K,Yt,Qe)}for(Qe=-1;++Qe<K.length;){const Yt=t[K[Qe][0]];gG.call(Yt,K[Qe][1].type)&&Yt[K[Qe][1].type].call(Object.assign({sliceSerialize:K[Qe][2].sliceSerialize},Pe),K[Qe][1])}if(Pe.tokenStack.length>0){const Yt=Pe.tokenStack[Pe.tokenStack.length-1];(Yt[1]||xL).call(Pe,void 0,Yt[0])}for(de.position={start:Ho(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Ho(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<t.transforms.length;)de=t.transforms[Qe](de)||de;return de}function a(K,de,Pe){let Ie=de-1,Qe=-1,Yt=!1,Zn,er,Vt,An;for(;++Ie<=Pe;){const Zt=K[Ie];switch(Zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zt[0]==="enter"?Qe++:Qe--,An=void 0;break}case"lineEndingBlank":{Zt[0]==="enter"&&(Zn&&!An&&!Qe&&!Vt&&(Vt=Ie),An=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:An=void 0}if(!Qe&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||Qe===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(Zn){let Zs=Ie;for(er=void 0;Zs--;){const ce=K[Zs];if(ce[1].type==="lineEnding"||ce[1].type==="lineEndingBlank"){if(ce[0]==="exit")continue;er&&(K[er][1].type="lineEndingBlank",Yt=!0),ce[1].type="lineEnding",er=Zs}else if(!(ce[1].type==="linePrefix"||ce[1].type==="blockQuotePrefix"||ce[1].type==="blockQuotePrefixWhitespace"||ce[1].type==="blockQuoteMarker"||ce[1].type==="listItemIndent"))break}Vt&&(!er||Vt<er)&&(Zn._spread=!0),Zn.end=Object.assign({},er?K[er][1].start:Zt[1].end),K.splice(er||Ie,0,["exit",Zn,Zt[2]]),Ie++,Pe++}if(Zt[1].type==="listItemPrefix"){const Zs={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0};Zn=Zs,K.splice(Ie,0,["enter",Zs,Zt[2]]),Ie++,Pe++,Vt=void 0,An=!0}}}return K[de][1]._spread=Yt,Pe}function i(K,de){return Pe;function Pe(Ie){l.call(this,K(Ie),Ie),de&&de.call(this,Ie)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(K,de,Pe){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([de,Pe||void 0]),K.position={start:Ho(de.start),end:void 0}}function c(K){return de;function de(Pe){K&&K.call(this,Pe),u.call(this,Pe)}}function u(K,de){const Pe=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==K.type&&(de?de.call(this,K,Ie[0]):(Ie[1]||xL).call(this,K,Ie[0]));else throw new Error("Cannot close `"+K.type+"` ("+Jm({start:K.start,end:K.end})+"): its not open");Pe.position.end=Ho(K.end)}function d(){return R5e(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(K){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function m(){const K=this.resume(),de=this.stack[this.stack.length-1];de.lang=K}function p(){const K=this.resume(),de=this.stack[this.stack.length-1];de.meta=K}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const K=this.resume(),de=this.stack[this.stack.length-1];de.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const K=this.resume(),de=this.stack[this.stack.length-1];de.value=K.replace(/(\r?\n|\r)$/g,"")}function b(K){const de=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=de,Pe.identifier=Dd(this.sliceSerialize(K)).toLowerCase()}function w(){const K=this.resume(),de=this.stack[this.stack.length-1];de.title=K}function _(){const K=this.resume(),de=this.stack[this.stack.length-1];de.url=K}function N(K){const de=this.stack[this.stack.length-1];if(!de.depth){const Pe=this.sliceSerialize(K).length;de.depth=Pe}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(K){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function A(K){const Pe=this.stack[this.stack.length-1].children;let Ie=Pe[Pe.length-1];(!Ie||Ie.type!=="text")&&(Ie=Ye(),Ie.position={start:Ho(K.start),end:void 0},Pe.push(Ie)),this.stack.push(Ie)}function T(K){const de=this.stack.pop();de.value+=this.sliceSerialize(K),de.position.end=Ho(K.end)}function E(K){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=de.children[de.children.length-1];Pe.position.end=Ho(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(de.type)&&(A.call(this,K),T.call(this,K))}function B(){this.data.atHardBreak=!0}function U(){const K=this.resume(),de=this.stack[this.stack.length-1];de.value=K}function $(){const K=this.resume(),de=this.stack[this.stack.length-1];de.value=K}function F(){const K=this.resume(),de=this.stack[this.stack.length-1];de.value=K}function M(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=de,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function R(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=de,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function D(K){const de=this.sliceSerialize(K),Pe=this.stack[this.stack.length-2];Pe.label=I6e(de),Pe.identifier=Dd(de).toLowerCase()}function L(){const K=this.stack[this.stack.length-1],de=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const Ie=K.children;Pe.children=Ie}else Pe.alt=de}function I(){const K=this.resume(),de=this.stack[this.stack.length-1];de.url=K}function z(){const K=this.resume(),de=this.stack[this.stack.length-1];de.title=K}function H(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function P(K){const de=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=de,Pe.identifier=Dd(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function O(K){this.data.characterReferenceType=K.type}function V(K){const de=this.sliceSerialize(K),Pe=this.data.characterReferenceType;let Ie;Pe?(Ie=iG(de,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=lT(de);const Qe=this.stack[this.stack.length-1];Qe.value+=Ie}function W(K){const de=this.stack.pop();de.position.end=Ho(K.end)}function Z(K){T.call(this,K);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(K)}function te(K){T.call(this,K);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(K)}function q(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function le(){return{type:"heading",depth:0,children:[]}}function be(){return{type:"break"}}function Se(){return{type:"html",value:""}}function Oe(){return{type:"image",title:null,url:"",alt:null}}function qe(){return{type:"link",title:null,url:"",children:[]}}function Ge(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function he(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function me(){return{type:"paragraph",children:[]}}function Ae(){return{type:"strong",children:[]}}function Ye(){return{type:"text",value:""}}function yt(){return{type:"thematicBreak"}}}function Ho(e){return{line:e.line,column:e.column,offset:e.offset}}function vG(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?vG(e,r):F6e(e,r)}}function F6e(e,t){let n;for(n in t)if(gG.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function xL(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Jm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Jm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Jm({start:t.start,end:t.end})+") is still open")}function B6e(e){const t=this;t.parser=n;function n(r){return $6e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function U6e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function z6e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function q6e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function V6e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function W6e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H6e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Tf(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function G6e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Y6e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function xG(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function K6e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return xG(e,t);const a={src:Tf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function J6e(e,t){const n={src:Tf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function X6e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Q6e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return xG(e,t);const a={href:Tf(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Z6e(e,t){const n={href:Tf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function eBe(e,t,n){const r=e.all(t),a=n?tBe(n):yG(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function tBe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=yG(n[r])}return t}function yG(e){const t=e.spread;return t??e.children.length>1}function nBe(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function rBe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sBe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function aBe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iBe(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=sT(t.children[1]),c=ZH(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function oBe(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},m=o?o[c]:void 0;m&&(f.align=m);let p={type:"element",tagName:i,properties:f,children:[]};h&&(p.children=e.all(h),e.patch(h,p),p=e.applyData(h,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function lBe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const yL=9,bL=32;function cBe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(wL(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(wL(t.slice(a),a>0,!1)),i.join("")}function wL(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===yL||i===bL;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===yL||i===bL;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function uBe(e,t){const n={type:"text",value:cBe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function dBe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const hBe={blockquote:U6e,break:z6e,code:q6e,delete:V6e,emphasis:W6e,footnoteReference:H6e,heading:G6e,html:Y6e,imageReference:K6e,image:J6e,inlineCode:X6e,linkReference:Q6e,link:Z6e,listItem:eBe,list:nBe,paragraph:rBe,root:sBe,strong:aBe,table:iBe,tableCell:lBe,tableRow:oBe,text:uBe,thematicBreak:dBe,toml:wx,yaml:wx,definition:wx,footnoteDefinition:wx};function wx(){}const bG=-1,xj=0,Qm=1,a0=2,dT=3,hT=4,fT=5,mT=6,wG=7,jG=8,jL=typeof self=="object"?self:globalThis,fBe=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case xj:case bG:return n(o,a);case Qm:{const l=n([],a);for(const c of o)l.push(r(c));return l}case a0:{const l=n({},a);for(const[c,u]of o)l[r(c)]=r(u);return l}case dT:return n(new Date(o),a);case hT:{const{source:l,flags:c}=o;return n(new RegExp(l,c),a)}case fT:{const l=n(new Map,a);for(const[c,u]of o)l.set(r(c),r(u));return l}case mT:{const l=n(new Set,a);for(const c of o)l.add(r(c));return l}case wG:{const{name:l,message:c}=o;return n(new jL[l](c),a)}case jG:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new jL[i](o),a)};return r},_L=e=>fBe(new Map,e)(0),Ju="",{toString:mBe}={},{keys:pBe}=Object,hm=e=>{const t=typeof e;if(t!=="object"||!e)return[xj,t];const n=mBe.call(e).slice(8,-1);switch(n){case"Array":return[Qm,Ju];case"Object":return[a0,Ju];case"Date":return[dT,Ju];case"RegExp":return[hT,Ju];case"Map":return[fT,Ju];case"Set":return[mT,Ju];case"DataView":return[Qm,n]}return n.includes("Array")?[Qm,n]:n.includes("Error")?[wG,n]:[a0,n]},jx=([e,t])=>e===xj&&(t==="function"||t==="symbol"),gBe=(e,t,n,r)=>{const a=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},i=o=>{if(n.has(o))return n.get(o);let[l,c]=hm(o);switch(l){case xj:{let d=o;switch(c){case"bigint":l=jG,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([bG],o)}return a([l,d],o)}case Qm:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),a([c,[...f]],o)}const d=[],h=a([l,d],o);for(const f of o)d.push(i(f));return h}case a0:{if(c)switch(c){case"BigInt":return a([c,o.toString()],o);case"Boolean":case"Number":case"String":return a([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],h=a([l,d],o);for(const f of pBe(o))(e||!jx(hm(o[f])))&&d.push([i(f),i(o[f])]);return h}case dT:return a([l,o.toISOString()],o);case hT:{const{source:d,flags:h}=o;return a([l,{source:d,flags:h}],o)}case fT:{const d=[],h=a([l,d],o);for(const[f,m]of o)(e||!(jx(hm(f))||jx(hm(m))))&&d.push([i(f),i(m)]);return h}case mT:{const d=[],h=a([l,d],o);for(const f of o)(e||!jx(hm(f)))&&d.push(i(f));return h}}const{message:u}=o;return a([l,{name:c,message:u}],o)};return i},NL=(e,{json:t,lossy:n}={})=>{const r=[];return gBe(!(t||n),!!t,new Map,r)(e),r},i0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_L(NL(e,t)):structuredClone(e):(e,t)=>_L(NL(e,t));function vBe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function xBe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function yBe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||vBe,r=e.options.footnoteBackLabel||xBe,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=Tf(h.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(h);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...i0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const _G=function(e){if(e==null)return _Be;if(typeof e=="function")return yj(e);if(typeof e=="object")return Array.isArray(e)?bBe(e):wBe(e);if(typeof e=="string")return jBe(e);throw new Error("Expected function, string, or object as test")};function bBe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_G(e[n]);return yj(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function wBe(e){const t=e;return yj(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function jBe(e){return yj(t);function t(n){return n&&n.type===e}}function yj(e){return t;function t(n,r,a){return!!(NBe(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function _Be(){return!0}function NBe(e){return e!==null&&typeof e=="object"&&"type"in e}const NG=[],SBe=!0,SL=!1,CBe="skip";function kBe(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=_G(a),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=NG,p,g,v;if((!t||i(c,u,d[d.length-1]||void 0))&&(m=EBe(n(c,d)),m[0]===SL))return m;if("children"in c&&c.children){const x=c;if(x.children&&m[0]!==CBe)for(g=(r?x.children.length:-1)+o,v=d.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(p=l(b,g,v)(),p[0]===SL)return p;g=typeof p[1]=="number"?p[1]:g+o}}return m}}}function EBe(e){return Array.isArray(e)?e:typeof e=="number"?[SBe,e]:e==null?NG:[e]}function SG(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),kBe(e,i,l,a);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const Kk={}.hasOwnProperty,PBe={};function ABe(e,t){const n=t||PBe,r=new Map,a=new Map,i=new Map,o={...hBe,...n.handlers},l={all:u,applyData:OBe,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:c,options:n,patch:TBe,wrap:DBe};return SG(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,m=l.handlers[f];if(Kk.call(l.handlers,f)&&m)return m(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:g,...v}=d,x=i0(v);return x.children=l.all(d),x}return i0(d)}return(l.options.unknownHandler||MBe)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const p=l.one(f[m],d);if(p){if(m&&f[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=CL(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=CL(g.value))}Array.isArray(p)?h.push(...p):h.push(p)}}}return h}}function TBe(e,t){e.position&&(t.position=m5e(e))}function OBe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,i0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function MBe(e,t){const n=t.data||{},r="value"in t&&!(Kk.call(n,"hProperties")||Kk.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DBe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function CL(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function kL(e,t){const n=ABe(e,t),r=n.one(e,void 0),a=yBe(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function IBe(e,t){return e&&"run"in e?async function(n,r){const a=kL(n,{file:r,...t});await e.run(a,r)}:function(n,r){return kL(n,{file:r,...e||t})}}function EL(e){if(e)throw e}var cy=Object.prototype.hasOwnProperty,CG=Object.prototype.toString,PL=Object.defineProperty,AL=Object.getOwnPropertyDescriptor,TL=function(t){return typeof Array.isArray=="function"?Array.isArray(t):CG.call(t)==="[object Array]"},OL=function(t){if(!t||CG.call(t)!=="[object Object]")return!1;var n=cy.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&cy.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||cy.call(t,a)},ML=function(t,n){PL&&n.name==="__proto__"?PL(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},DL=function(t,n){if(n==="__proto__")if(cy.call(t,n)){if(AL)return AL(t,n).value}else return;return t[n]},RBe=function e(){var t,n,r,a,i,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=DL(l,n),a=DL(t,n),l!==a&&(d&&a&&(OL(a)||(i=TL(a)))?(i?(i=!1,o=r&&TL(r)?r:[]):o=r&&OL(r)?r:{},ML(l,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&ML(l,{name:n,newValue:a}));return l};const P1=qt(RBe);function Jk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $Be(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(c,...u){const d=e[++i];let h=-1;if(c){o(c);return}for(;++h<a.length;)(u[h]===null||u[h]===void 0)&&(u[h]=a[h]);a=u,d?LBe(d,l)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function LBe(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(a);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return a(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(o,...l){n||(n=!0,t(o,...l))}function i(o){a(null,o)}}const bi={basename:FBe,dirname:BBe,extname:UBe,join:zBe,sep:"/"};function FBe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');mv(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function BBe(e){if(mv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function UBe(e){mv(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function zBe(...e){let t=-1,n;for(;++t<e.length;)mv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":qBe(n)}function qBe(e){mv(e);const t=e.codePointAt(0)===47;let n=VBe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function VBe(e,t){let n="",r=0,a=-1,i=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function mv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const WBe={cwd:HBe};function HBe(){return"/"}function Xk(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function GBe(e){if(typeof e=="string")e=new URL(e);else if(!Xk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YBe(e)}function YBe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const A1=["history","path","basename","stem","extname","dirname"];class kG{constructor(t){let n;t?Xk(t)?n={path:t}:typeof t=="string"||KBe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":WBe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<A1.length;){const i=A1[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)A1.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?bi.basename(this.path):void 0}set basename(t){O1(t,"basename"),T1(t,"basename"),this.path=bi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?bi.dirname(this.path):void 0}set dirname(t){IL(this.basename,"dirname"),this.path=bi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?bi.extname(this.path):void 0}set extname(t){if(T1(t,"extname"),IL(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Xk(t)&&(t=GBe(t)),O1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?bi.basename(this.path,this.extname):void 0}set stem(t){O1(t,"stem"),T1(t,"stem"),this.path=bi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new zr(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function T1(e,t){if(e&&e.includes(bi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+bi.sep+"`")}function O1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function IL(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function KBe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JBe=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},XBe={}.hasOwnProperty;class pT extends JBe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$Be()}copy(){const t=new pT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(P1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(I1("data",this.frozen),this.namespace[t]=n,this):XBe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(I1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_x(t),r=this.parser||this.Parser;return M1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),M1("process",this.parser||this.Parser),D1("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const l=_x(t),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const m=h,p=r.stringify(m,f);e8e(p)?f.value=p:f.result=p,u(d,f)});function u(d,h){d||!h?o(d):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),M1("processSync",this.parser||this.Parser),D1("processSync",this.compiler||this.Compiler),this.process(t,a),$L("processSync","process",n),r;function a(i,o){n=!0,EL(i),r=o}}run(t,n,r){RL(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,l){const c=_x(n);a.run(t,c,u);function u(d,h,f){const m=h||t;d?l(d):o?o(m):r(void 0,m,f)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),$L("runSync","run",r),a;function i(o,l){EL(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=_x(n),a=this.compiler||this.Compiler;return D1("stringify",a),RL(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(I1("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=P1(!0,a.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const g=r[f][1];Jk(g)&&Jk(m)&&(m=P1(!0,g,m)),r[f]=[u,m,...p]}}}}const QBe=new pT().freeze();function M1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function D1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function I1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RL(e){if(!Jk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $L(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _x(e){return ZBe(e)?e:new kG(e)}function ZBe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function e8e(e){return typeof e=="string"||t8e(e)}function t8e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const n8e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",LL=[],FL={allowDangerousHtml:!0},r8e=/^(https?|ircs?|mailto|xmpp)$/i,s8e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function a8e(e){const t=i8e(e),n=o8e(e);return l8e(t.runSync(t.parse(n),n),e)}function i8e(e){const t=e.rehypePlugins||LL,n=e.remarkPlugins||LL,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...FL}:FL;return QBe().use(B6e).use(n).use(IBe,r).use(t)}function o8e(e){const t=e.children||"",n=new kG;return typeof t=="string"&&(n.value=t),n}function l8e(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||c8e;for(const d of s8e)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+n8e+d.id,void 0);return SG(e,u),y5e(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in C1)if(Object.hasOwn(C1,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=C1[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=c(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,f)),m&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function c8e(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||r8e.test(e.slice(0,t))?e:""}const fm="https://voxtro-backend.onrender.com";function u8e(){const{chatbotId:e}=Ig(),[t,n]=y.useState(null),[r,a]=y.useState([]),[i,o]=y.useState(""),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,f]=y.useState(null),[m,p]=y.useState(!1),[g,v]=y.useState(null),[x,b]=y.useState(!1),w=y.useRef(null),_=()=>{const D=`voxtro_visitor_${e}`;let L=localStorage.getItem(D);return L||(L=`visitor_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,localStorage.setItem(D,L)),L},N=()=>{const D=`voxtro_conversation_${e}`;return localStorage.getItem(D)},S=D=>{const L=`voxtro_conversation_${e}`;localStorage.setItem(L,D)},C=()=>{var D;(D=w.current)==null||D.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{C()},[r]),y.useEffect(()=>{(async()=>{if(!e){v("No chatbot ID provided"),c(!1);return}try{const L=await fetch(`${fm}/api/widget/${e}/config`);if(!L.ok){L.status===404?v("Chatbot not found"):v("Failed to load chatbot configuration"),c(!1);return}const I=await L.json();n(I);const z=N();z&&f(z),a([{role:"assistant",content:I.welcome_message||"Hi! How can I help you today?"}])}catch(L){console.error("Error fetching widget config:",L),v("Failed to connect to chatbot service")}finally{c(!1)}})()},[e]);const k=async D=>{if(!D.trim()||!t)return;const L=_(),I={role:"user",content:D};a(z=>[...z,I]),o(""),d(!0);try{const z=await fetch(`${fm}/api/widget/${e}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitor_id:L,message:D,conversation_id:h})});if(!z.ok)throw new Error("Failed to send message");const H=await z.json();H.conversation_id&&!h&&(f(H.conversation_id),S(H.conversation_id));const j=H.message||"Sorry, I encountered an error. Please try again.",P=H.form_data;a(O=>[...O,{role:"assistant",content:j,formData:P}])}catch(z){console.error("Error sending message:",z),a(H=>[...H,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}},A=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),k(i))},T=D=>{k(D),b(!0)},E=async(D,L)=>{if(!t)return;p(!0);const I=_();try{const z=await fetch(`${fm}/api/widget/${e}/form`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form_id:D,submitted_data:L,conversation_id:h,visitor_id:I})});if(!z.ok)throw new Error("Failed to submit form");const H=await z.json();a(j=>[...j,{role:"assistant",content:H.message||"Thank you for submitting the form!"}]),ve.success("Form submitted successfully!")}catch(z){console.error("Error submitting form:",z),ve.error("Failed to submit form. Please try again."),a(H=>[...H,{role:"assistant",content:"Sorry, there was an error submitting your form. Please try again."}])}finally{p(!1)}},B=async D=>{try{await fetch(`${fm}/api/chat/conversations/${D}/end`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})}catch(L){console.error("Error ending conversation:",L)}},U=async()=>{h&&await B(h);const D=`voxtro_conversation_${e}`;localStorage.removeItem(D),f(null),a([{role:"assistant",content:(t==null?void 0:t.welcome_message)||"Hi! How can I help you today?"}]),b(!1)};if(y.useEffect(()=>{const D=()=>{h&&navigator.sendBeacon(`${fm}/api/chat/conversations/${h}/end`,JSON.stringify({}))};return window.addEventListener("beforeunload",D),()=>{window.removeEventListener("beforeunload",D),h&&B(h)}},[h]),l)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(g||!t)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-1",children:g||"Unable to load chatbot"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please check the chatbot ID and try again."})]})});const $=t.theme&&t.theme.primary_color||t.theme_color||"#3B82F6",F=t.widget_button_color||t.theme&&t.theme.secondary_color||"#6366F1",M=t.widget_button_text||"",R=t.faqs||[];return s.jsxs("div",{className:"h-screen w-full flex flex-col bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 text-white shadow-md flex items-center gap-3",style:{backgroundColor:$},children:[t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/30"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Yn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"font-semibold text-base truncate",children:t.name}),s.jsx("p",{className:"text-xs opacity-80",children:"Online"})]}),h&&s.jsx("button",{onClick:U,className:"p-2 rounded-full hover:bg-white/20 transition-colors",title:"New conversation",children:s.jsx(Kl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map((D,L)=>s.jsxs("div",{children:[s.jsx("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-sm ${D.role==="user"?"text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,style:{backgroundColor:D.role==="user"?$:void 0},children:D.role==="assistant"?s.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0",children:s.jsx(a8e,{components:{p:({children:I})=>s.jsx("p",{className:"mb-1.5 last:mb-0",children:I}),ul:({children:I})=>s.jsx("ul",{className:"list-disc pl-4 space-y-0.5 my-1",children:I}),li:({children:I})=>s.jsx("li",{className:"text-sm",children:I}),strong:({children:I})=>s.jsx("strong",{className:"font-semibold",children:I}),a:({href:I,children:z})=>s.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:z})},children:D.content})}):D.content})}),D.formData&&s.jsx("div",{className:"flex justify-center mt-3",children:s.jsx(_3e,{formData:D.formData,onSubmit:I=>E(D.formData.id,I),isSubmitting:m,themeColor:$})})]},L)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 px-4 py-3 rounded-2xl rounded-bl-md",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:w})]}),R.length>0&&r.length<=1&&!x&&s.jsx("div",{className:"flex-shrink-0 px-4 py-6 border-t bg-white/90 shadow-sm rounded-b-xl",children:s.jsxs("div",{className:"max-w-sm mx-auto",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"Suggested questions"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:R.slice(0,4).map((D,L)=>s.jsx("button",{onClick:()=>T(D.question),className:"px-4 py-2 rounded-xl bg-white border text-gray-700 text-sm shadow-sm hover:shadow transition-all",style:{borderColor:`${$}20`},onMouseEnter:I=>{I.currentTarget.style.borderColor=$,I.currentTarget.style.color=$},onMouseLeave:I=>{I.currentTarget.style.borderColor=`${$}20`,I.currentTarget.style.color="#374151"},children:D.question},L))}),M.trim()?s.jsx("button",{className:"w-full py-3 rounded-full text-white font-semibold text-base shadow-lg transition-all hover:opacity-90",style:{backgroundColor:F},onClick:()=>b(!0),children:M}):s.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all hover:opacity-90",style:{backgroundColor:F},onClick:()=>b(!0),"aria-label":"Open chat",children:s.jsx(nu,{className:"w-5 h-5"})})]})}),R.length===0&&r.length<=1&&!x&&s.jsx("div",{className:"flex-shrink-0 px-4 py-6 border-t bg-gradient-to-t from-white via-white to-transparent",children:s.jsxs("div",{className:"max-w-sm mx-auto text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have a question? We're here to help!"}),s.jsx("button",{className:"w-full py-3.5 rounded-full text-white font-semibold text-base shadow-lg transition-all hover:opacity-90 hover:shadow-xl active:scale-[0.98]",style:{backgroundColor:$},onClick:()=>b(!0),children:M.trim()||"Start a conversation"})]})}),x&&s.jsxs("div",{className:"flex-shrink-0 p-3 border-t bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:D=>o(D.target.value),onKeyDown:A,placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 text-sm border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-400",style:{focusRing:$},disabled:u}),s.jsx("button",{onClick:()=>k(i),disabled:!i.trim()||u,className:"flex-shrink-0 w-10 h-10 rounded-full text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:opacity-90",style:{backgroundColor:F},children:s.jsx(nu,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-2",children:"Powered by Voxtro"})]})]})}function d8e(){const[e,t]=y.useState([]),n=(r,a="info")=>{t(i=>[...i,`${a.toUpperCase()}: ${r}`])};return y.useEffect(()=>{(async()=>{try{n("Testing widget URL...","info");const a=await fetch(`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?test=${Date.now()}`);if(n(`HTTP Status: ${a.status} ${a.statusText}`,a.ok?"success":"error"),n(`Content-Type: ${a.headers.get("content-type")}`,"info"),a.ok){const i=await a.text();n(`Response length: ${i.length} characters`,"success"),n(`Contains CHATBOT_ID: ${i.includes("CHATBOT_ID")?"Yes":"No"}`,i.includes("CHATBOT_ID")?"success":"error"),i.includes("console.error")?n(`Widget returns error: ${i}`,"error"):i.includes("CHATBOT_ID")&&(n("Widget returns valid JavaScript","success"),setTimeout(()=>{const o=document.createElement("script");o.src=`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?widget=${Date.now()}`,o.onload=()=>{n("Widget script loaded successfully","success"),setTimeout(()=>{const l=document.getElementById("voxtro-widget");n(`Widget element in DOM: ${l?"Yes":"No"}`,l?"success":"error")},1e3)},o.onerror=()=>{n("Widget script failed to load","error")},document.head.appendChild(o)},1e3))}else{const i=await a.text();n(`Error response: ${i}`,"error")}}catch(a){n(`Network error: ${a instanceof Error?a.message:"Unknown error"}`,"error")}})()},[]),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Widget Test"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Results:"}),s.jsx("div",{className:"space-y-3",children:e.map((r,a)=>{const[i,...o]=r.split(": "),l=o.join(": "),c=i==="ERROR",u=i==="SUCCESS";return s.jsxs("div",{className:`p-3 rounded-md ${c?"bg-red-50 border border-red-200 text-red-800":u?"bg-green-50 border border-green-200 text-green-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:[s.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",l]},a)})}),e.length===0&&s.jsx("div",{className:"text-gray-500 italic",children:"Running tests..."})]}),s.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"What to look for:"}),s.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[s.jsx("li",{children:" HTTP Status should be 200 OK"}),s.jsx("li",{children:" Response should contain CHATBOT_ID"}),s.jsx("li",{children:" Widget script should load successfully"}),s.jsx("li",{children:" Widget element should appear in DOM"}),s.jsx("li",{children:" Blue chat button should be visible in bottom-right corner"})]})]})]})})}const h8e=()=>{const{user:e}=Dt(),[t,n]=y.useState(null),r=i=>{n(i)},a=()=>{n(null)};return e?s.jsxs("div",{className:"p-6",children:[!t&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View all chat history between users and your chatbots"})]}),s.jsx(Y,{className:"h-[calc(100vh-200px)]",children:t?s.jsx(J9,{conversationId:t,onBack:a}):s.jsx(K9,{onConversationSelect:r})})]}):s.jsx("div",{children:"Please log in to view conversations."})},f8e=()=>{const{user:e}=Dt(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState({totalConversations:0,totalMessages:0,totalBots:0,avgMessagesPerConversation:0}),[l,c]=y.useState(!0),u=async()=>{if(e)try{const{data:d,error:h}=await G.from("chatbots").select("id, name, theme_color").eq("user_id",e.id).eq("is_active",!0);if(h)throw h;const f=[];let m=0,p=0;for(const _ of d||[]){const{count:N}=await G.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",_.id),{count:S}=await G.from("messages").select(`
            *,
            conversations!inner(chatbot_id)
          `,{count:"exact",head:!0}).eq("conversations.chatbot_id",_.id),C=N||0,k=S||0;f.push({id:_.id,name:_.name,conversations:C,messages:k,theme_color:_.theme_color}),m+=C,p+=k}f.sort((_,N)=>N.messages-_.messages),n(f);const g=new Date;g.setDate(g.getDate()-7);const{data:v,error:x}=await G.from("messages").select(`
          created_at,
          conversations!inner(
            chatbot_id,
            chatbots!inner(user_id)
          )
        `).eq("conversations.chatbots.user_id",e.id).gte("created_at",g.toISOString());if(x)throw x;const b=new Map;for(let _=6;_>=0;_--){const N=new Date;N.setDate(N.getDate()-_);const S=N.toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(S,0)}v==null||v.forEach(_=>{const S=new Date(_.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(S,(b.get(S)||0)+1)});const w=Array.from(b.entries()).map(([_,N])=>({date:_,messages:N}));a(w),o({totalConversations:m,totalMessages:p,totalBots:(d==null?void 0:d.length)||0,avgMessagesPerConversation:m>0?Math.round(p/m*100)/100:0})}catch(d){console.error("Error fetching usage data:",d),De({title:"Error",description:"Failed to load usage analytics",variant:"destructive"})}finally{c(!1)}};return y.useEffect(()=>{u();const d=setInterval(u,3e4);return()=>clearInterval(d)},[e]),e?l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oh,{className:"h-8 w-8 animate-pulse mx-auto mb-2 text-primary"}),s.jsx("p",{children:"Loading analytics..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Usage Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor your chatbot performance and usage statistics"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(un,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalConversations})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalMessages})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Bots"}),s.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalBots})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(po,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.avgMessagesPerConversation})})]})]}),s.jsx("div",{className:"grid gap-6",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Messages Per Day"}),s.jsx(je,{children:"Last 7 days message volume"})]}),s.jsx(Q,{children:s.jsx(gb,{width:"100%",height:300,children:s.jsxs(c9,{data:r,children:[s.jsx(WW,{strokeDasharray:"3 3"}),s.jsx(du,{dataKey:"date"}),s.jsx(hu,{}),s.jsx(Ua,{}),s.jsx(_f,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})]})}),t.length>0&&s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Bot Details"}),s.jsx(je,{children:"Detailed statistics for each bot"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:t.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ce,{variant:"outline",className:"text-xs",children:["#",h+1]}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.theme_color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.conversations," conversations  ",d.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:d.messages}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"total messages"})]})]},d.id))})})]})]}):s.jsx("div",{children:"Please log in to view usage analytics."})};function m8e({userId:e}){const[t,n]=y.useState({user_id:e,logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"}),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=y.useRef(null);y.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:p,error:g}=await G.from("branding_settings").select("*").eq("user_id",e).maybeSingle();if(g&&g.code!=="PGRST116")throw g;p&&n({id:p.id,user_id:p.user_id,logo_url:p.logo_url,primary_color:p.primary_color||"#f97316",secondary_color:p.secondary_color||"#ea580c"})}catch(p){console.error("Error fetching branding:",p),De({title:"Error",description:"Failed to load branding settings",variant:"destructive"})}finally{a(!1)}},h=async p=>{var x;const g=(x=p.target.files)==null?void 0:x[0];if(!g)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp"].includes(g.type)){De({title:"Invalid file type",description:"Please upload a PNG, JPEG, SVG, or WebP image",variant:"destructive"});return}if(g.size>2*1024*1024){De({title:"File too large",description:"Please upload an image smaller than 2MB",variant:"destructive"});return}c(!0);try{const b=g.name.split(".").pop(),w=`${e}/logo.${b}`;await G.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]);const{error:_}=await G.storage.from("logos").upload(w,g,{upsert:!0});if(_)throw _;const{data:N}=G.storage.from("logos").getPublicUrl(w);n(S=>({...S,logo_url:N.publicUrl})),De({title:"Logo uploaded",description:"Your logo has been uploaded successfully"})}catch(b){console.error("Error uploading logo:",b),De({title:"Upload failed",description:b.message||"Failed to upload logo",variant:"destructive"})}finally{c(!1)}},f=async()=>{if(t.logo_url)try{await G.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]),n(p=>({...p,logo_url:null})),De({title:"Logo removed",description:"Your logo has been removed"})}catch(p){console.error("Error removing logo:",p),De({title:"Error",description:"Failed to remove logo",variant:"destructive"})}},m=async()=>{o(!0);try{const p={user_id:e,logo_url:t.logo_url,primary_color:t.primary_color,secondary_color:t.secondary_color};if(t.id){const{error:g}=await G.from("branding_settings").update(p).eq("id",t.id);if(g)throw g}else{const{data:g,error:v}=await G.from("branding_settings").insert(p).select().single();if(v)throw v;n(x=>({...x,id:g.id}))}De({title:"Success",description:"Branding settings saved successfully"})}catch(p){console.error("Error saving branding:",p),De({title:"Error",description:"Failed to save branding settings",variant:"destructive"})}finally{o(!1)}};return r?s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(CM,{className:"w-5 h-5 text-primary"}),s.jsx(ae,{children:"Customer Portal Branding"})]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading branding settings..."})})]}):s.jsxs(Y,{className:"md:col-span-2",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(CM,{className:"w-5 h-5 text-primary"}),s.jsx(ae,{children:"Customer Portal Branding"})]}),s.jsx(je,{children:"Customize the appearance of the customer portal with your brand colors and logo"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{children:"Company Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-16 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted/30 overflow-hidden",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Company logo",className:"max-w-full max-h-full object-contain p-2"}):s.jsx(Pte,{className:"w-8 h-8 text-muted-foreground/50"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{ref:u,type:"file",accept:"image/png,image/jpeg,image/svg+xml,image/webp",onChange:h,className:"hidden"}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{var p;return(p=u.current)==null?void 0:p.click()},disabled:l,children:[s.jsx(Wte,{className:"w-4 h-4 mr-2"}),l?"Uploading...":"Upload Logo"]}),t.logo_url&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(zt,{className:"w-4 h-4 mr-2"}),"Remove"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPEG, SVG or WebP. Max 2MB."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{htmlFor:"primary-color",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"primary-color",value:t.primary_color,onChange:p=>n(g=>({...g,primary_color:p.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(ue,{value:t.primary_color,onChange:p=>n(g=>({...g,primary_color:p.target.value})),placeholder:"#f97316",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for buttons, links, and accents"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{htmlFor:"secondary-color",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"secondary-color",value:t.secondary_color,onChange:p=>n(g=>({...g,secondary_color:p.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(ue,{value:t.secondary_color,onChange:p=>n(g=>({...g,secondary_color:p.target.value})),placeholder:"#ea580c",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for hover states and secondary elements"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{children:"Preview"}),s.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Preview logo",className:"h-8 object-contain"}):s.jsx("div",{className:"h-8 w-24 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Your Logo"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-md text-white text-sm font-medium transition-colors",style:{backgroundColor:t.primary_color},onMouseEnter:p=>p.currentTarget.style.backgroundColor=t.secondary_color,onMouseLeave:p=>p.currentTarget.style.backgroundColor=t.primary_color,children:"Primary Button"}),s.jsx("button",{className:"px-4 py-2 rounded-md text-sm font-medium border transition-colors",style:{color:t.primary_color,borderColor:t.primary_color},children:"Secondary Button"})]})]})]}),s.jsxs(ee,{onClick:m,disabled:i,className:"w-full",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Branding Settings"]})]})})]})}const p8e=()=>{const{user:e}=Dt(),{theme:t,setTheme:n}=Kg(),[r,a]=y.useState(null),[i,o]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState({user_id:"",chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:""}),[h,f]=y.useState(""),[m,p]=y.useState(""),[g,v]=y.useState(""),[x,b]=y.useState(""),[w,_]=y.useState(!0),[N,S]=y.useState(!1),[C,k]=y.useState([]),[A,T]=y.useState(""),[E,B]=y.useState(""),[U,$]=y.useState(""),[F,M]=y.useState(!1),[R,D]=y.useState(!1),[L,I]=y.useState([]),[z,H]=y.useState(""),[j,P]=y.useState(""),[O,V]=y.useState(!1),[W,Z]=y.useState(!1),[te,q]=y.useState([]),[X,re]=y.useState(""),[pe,ye]=y.useState(""),[le,be]=y.useState(!1),[Se,Oe]=y.useState(!1),qe=async()=>{if(e)try{const{data:ce,error:Te}=await G.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(Te)throw Te;ce&&(a(ce),o(ce.full_name||"")),c(e.email||"")}catch(ce){console.error("Error fetching profile:",ce),De({title:"Error",description:"Failed to load profile",variant:"destructive"})}},Ge=async()=>{if(e)try{const{data:ce,error:Te}=await G.from("notification_preferences").select("*").eq("user_id",e.id).maybeSingle();if(Te&&Te.code!=="PGRST116")throw Te;d(ce||{user_id:e.id,chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:e.email||""})}catch(ce){console.error("Error fetching notification preferences:",ce),De({title:"Error",description:"Failed to load notification preferences",variant:"destructive"})}},he=async()=>{if(e)try{const{data:ce,error:Te}=await G.from("voice_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Te)throw Te;k(ce||[])}catch(ce){console.error("Error fetching voice connections:",ce)}},me=async()=>{if(e)try{const{data:ce,error:Te}=await G.from("elevenlabs_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Te)throw Te;I(ce||[])}catch(ce){console.error("Error fetching ElevenLabs connections:",ce)}},Ae=async()=>{if(e)try{const{data:ce,error:Te}=await G.from("openai_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Te)throw Te;q(ce||[])}catch(ce){console.error("Error fetching OpenAI connections:",ce)}},Ye=async()=>{_(!0),await Promise.all([qe(),Ge(),he(),me(),Ae()]),_(!1)},yt=async()=>{var ce;if(e){S(!0);try{const Te=l!==e.email,Re=i.trim()!==((r==null?void 0:r.full_name)||"");if(Te&&l.trim()){const{error:bt}=await G.auth.updateUser({email:l.trim()});if(bt)throw bt;De({title:"Email Update Sent",description:"Please check both your old and new email addresses to confirm the change"})}if(Re){const bt={user_id:e.id,full_name:i.trim()||null,email:e.email};if(r){const{error:lt}=await G.from("profiles").update({full_name:bt.full_name}).eq("user_id",e.id);if(lt)throw lt}else{const{error:lt}=await G.from("profiles").insert(bt);if(lt)throw lt}}!Te&&Re?De({title:"Success",description:"Profile updated successfully"}):!Te&&!Re&&De({title:"No Changes",description:"No changes were made to your profile"}),await qe()}catch(Te){console.error("Error saving profile:",Te);let Re="Failed to update profile";(ce=Te.message)!=null&&ce.includes("email")&&(Re="Failed to update email. Please check the email format."),De({title:"Error",description:Re,variant:"destructive"})}finally{S(!1)}}},K=async()=>{if(e){S(!0);try{if(u.id){const{error:ce}=await G.from("notification_preferences").update({chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null}).eq("user_id",e.id);if(ce)throw ce}else{const{error:ce}=await G.from("notification_preferences").insert({user_id:e.id,chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null});if(ce)throw ce}De({title:"Success",description:"Notification preferences updated successfully"}),await Ge()}catch(ce){console.error("Error saving notification preferences:",ce),De({title:"Error",description:"Failed to update notification preferences",variant:"destructive"})}finally{S(!1)}}},de=async()=>{var ce,Te;if(!(!e||!e.email)){if(!h||!m||!g){De({title:"Error",description:"Please fill in all password fields",variant:"destructive"});return}if(m!==g){De({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(m.length<6){De({title:"Error",description:"New password must be at least 6 characters long",variant:"destructive"});return}if(h===m){De({title:"Error",description:"New password must be different from your current password",variant:"destructive"});return}S(!0);try{const{error:Re}=await G.auth.signInWithPassword({email:e.email,password:h});if(Re){De({title:"Error",description:"Current password is incorrect",variant:"destructive"});return}const{error:bt}=await G.auth.updateUser({password:m});if(bt)throw bt;f(""),p(""),v(""),De({title:"Success",description:"Password updated successfully"})}catch(Re){console.error("Error changing password:",Re);let bt="Failed to update password";(ce=Re.message)!=null&&ce.includes("weak")?bt="Password is too weak. Please choose a stronger password.":(Te=Re.message)!=null&&Te.includes("same")&&(bt="New password must be different from your current password."),De({title:"Error",description:bt,variant:"destructive"})}finally{S(!1)}}},Pe=async()=>{if(!A.trim()){De({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!U.trim()){De({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}M(!0);try{const{data:{session:ce}}=await G.auth.getSession();if(!e||!(ce!=null&&ce.access_token)){De({title:"Not Logged In",description:"You must be logged in to validate VAPI credentials. Please sign in and try again.",variant:"destructive"}),M(!1);return}const Te=await jLe(A.trim(),E.trim()),Re=(Te==null?void 0:Te.data)||Te;if(!Re.valid){De({title:"Invalid Credentials",description:Re.message||"The credentials you provided are not valid.",variant:"destructive"});return}const bt=C.length===0,{error:lt}=await G.from("voice_connections").insert({user_id:e==null?void 0:e.id,api_key:A.trim(),public_key:E.trim()||null,org_name:U.trim(),is_active:bt});if(lt){if(lt.code==="23505"){De({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw lt}De({title:"Success",description:`Organization "${U}" connected successfully`}),T(""),B(""),$(""),D(!1),await he()}catch(ce){console.error("Error connecting voice:",ce),De({title:"Error",description:ce.message||"Failed to connect voice service",variant:"destructive"})}finally{M(!1)}},Ie=async ce=>{const Te=C.find(Re=>Re.id===ce);if(Te)try{const{error:Re}=await G.from("voice_connections").delete().eq("id",ce);if(Re)throw Re;if(Te.is_active&&C.length>1){const bt=C.filter(lt=>lt.id!==ce);bt.length>0&&await G.from("voice_connections").update({is_active:!0}).eq("id",bt[0].id)}De({title:"Success",description:`Organization "${Te.org_name}" removed`}),await he()}catch(Re){console.error("Error removing connection:",Re),De({title:"Error",description:"Failed to remove organization",variant:"destructive"})}},Qe=async()=>{if(!z.trim()){De({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!j.trim()){De({title:"Error",description:"Please enter a connection name",variant:"destructive"});return}V(!0);try{if(!(await NLe(z.trim())).valid){De({title:"Invalid API Key",description:"The API key you provided is not valid",variant:"destructive"});return}const Te=L.length===0,{error:Re}=await G.from("elevenlabs_connections").insert({user_id:e==null?void 0:e.id,api_key:z.trim(),org_name:j.trim(),is_active:Te});if(Re){if(Re.code==="23505"){De({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw Re}De({title:"Success",description:`"${j}" connected successfully`}),H(""),P(""),Z(!1),await me()}catch(ce){console.error("Error connecting ElevenLabs:",ce),De({title:"Error",description:ce.message||"Failed to connect ElevenLabs",variant:"destructive"})}finally{V(!1)}},Yt=async ce=>{const Te=L.find(Re=>Re.id===ce);if(Te)try{const{error:Re}=await G.from("elevenlabs_connections").delete().eq("id",ce);if(Re)throw Re;if(Te.is_active&&L.length>1){const bt=L.filter(lt=>lt.id!==ce);bt.length>0&&await G.from("elevenlabs_connections").update({is_active:!0}).eq("id",bt[0].id)}De({title:"Success",description:`"${Te.org_name}" removed`}),await me()}catch(Re){console.error("Error removing ElevenLabs connection:",Re),De({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},Zn=async()=>{if(!X.trim()){De({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!pe.trim()){De({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}be(!0);try{const ce=te.length===0,{error:Te}=await G.from("openai_connections").insert({user_id:e==null?void 0:e.id,api_key:X.trim(),org_name:pe.trim(),is_active:ce});if(Te){if(Te.code==="23505"){De({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw Te}De({title:"Success",description:"OpenAI connected successfully"}),re(""),ye(""),Oe(!1),await Ae()}catch(ce){console.error("Error connecting OpenAI:",ce),De({title:"Error",description:ce.message||"Failed to connect OpenAI",variant:"destructive"})}finally{be(!1)}},er=async ce=>{const Te=te.find(Re=>Re.id===ce);if(Te)try{const{error:Re}=await G.from("openai_connections").delete().eq("id",ce);if(Re)throw Re;if(Te.is_active&&te.length>1){const bt=te.filter(lt=>lt.id!==ce);bt.length>0&&await G.from("openai_connections").update({is_active:!0}).eq("id",bt[0].id)}De({title:"Success",description:`"${Te.org_name}" removed`}),await Ae()}catch(Re){console.error("Error removing OpenAI connection:",Re),De({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},Vt=async()=>{if(!e||!x.trim()){De({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.trim())){De({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}S(!0);try{De({title:"Invite Sent",description:`Invitation sent to ${x}`}),b("")}catch(Te){console.error("Error inviting member:",Te),De({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{S(!1)}};y.useEffect(()=>{Ye()},[e]);const[An,Zt]=y.useState("profile"),Zs=[{id:"profile",label:"Profile",icon:Yn},{id:"appearance",label:"Appearance",icon:n8},{id:"notifications",label:"Notifications",icon:D2},{id:"security",label:"Security",icon:Rl},{id:"team",label:"Team",icon:dn},{id:"integrations",label:"Integrations",icon:Ote}];return e?s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-56 border-r bg-muted/30 p-4",children:[s.jsx("h1",{className:"text-lg font-semibold mb-4 px-2",children:"Settings"}),s.jsx("nav",{className:"space-y-1",children:Zs.map(ce=>s.jsxs("button",{onClick:()=>Zt(ce.id),className:xe("w-full flex items-center gap-3 px-3 py-2 text-sm rounded-md transition-colors",An===ce.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsx(ce.icon,{className:"w-4 h-4"}),ce.label]},ce.id))})]}),s.jsx(Na,{className:"flex-1",children:s.jsxs("div",{className:"max-w-2xl p-6",children:[An==="profile"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account details"})]}),w?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(ue,{id:"email",type:"email",value:l,onChange:ce=>c(ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"fullName",children:"Display Name"}),s.jsx(ue,{id:"fullName",type:"text",placeholder:"Your name",value:i,onChange:ce=>o(ce.target.value)})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email changes require confirmation from both old and new addresses."}),s.jsxs(ee,{onClick:yt,disabled:N,size:"sm",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),N?"Saving...":"Save Changes"]})]})]}),An==="appearance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Appearance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the look and feel"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Light or dark mode"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:t==="light"?"default":"outline",size:"sm",onClick:()=>n("light"),children:[s.jsx(q2,{className:"h-4 w-4 mr-1"}),"Light"]}),s.jsxs(ee,{variant:t==="dark"?"default":"outline",size:"sm",onClick:()=>n("dark"),children:[s.jsx(z2,{className:"h-4 w-4 mr-1"}),"Dark"]})]})]})}),s.jsx("div",{className:"pt-4",children:s.jsx(m8e,{userId:e.id})})]}),An==="notifications"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure alerts and notifications"})]}),w?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"notification-email",children:"Notification Email"}),s.jsx(ue,{id:"notification-email",type:"email",placeholder:"notifications@example.com",value:u.notification_email||(e==null?void 0:e.email)||"",onChange:ce=>d(Te=>({...Te,notification_email:ce.target.value}))})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"chat-started",children:"New chat started"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When users start conversations"})]}),s.jsx(Rt,{id:"chat-started",checked:u.chat_started,onCheckedChange:ce=>d(Te=>({...Te,chat_started:ce}))})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"chat-ended",children:"Chat ended"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When conversations complete"})]}),s.jsx(Rt,{id:"chat-ended",checked:u.chat_ended,onCheckedChange:ce=>d(Te=>({...Te,chat_ended:ce}))})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"chat-error",children:"Chat errors"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When errors occur"})]}),s.jsx(Rt,{id:"chat-error",checked:u.chat_error,onCheckedChange:ce=>d(Te=>({...Te,chat_error:ce}))})]})]}),s.jsxs(ee,{onClick:K,disabled:N,size:"sm",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),N?"Saving...":"Save Preferences"]})]})]}),An==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Security"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your password"})]}),s.jsxs("div",{className:"space-y-4 max-w-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"current-password",children:"Current Password"}),s.jsx(ue,{id:"current-password",type:"password",value:h,onChange:ce=>f(ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"new-password",children:"New Password"}),s.jsx(ue,{id:"new-password",type:"password",value:m,onChange:ce=>p(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsx(ue,{id:"confirm-password",type:"password",value:g,onChange:ce=>v(ce.target.value)})]}),s.jsxs(ee,{onClick:de,disabled:N,size:"sm",children:[s.jsx(Za,{className:"w-4 h-4 mr-2"}),N?"Updating...":"Update Password"]})]})]}),An==="team"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Team"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage team members"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"invite-email",children:"Invite Member"}),s.jsxs("div",{className:"flex gap-2 max-w-md",children:[s.jsx(ue,{id:"invite-email",type:"email",placeholder:"email@example.com",value:x,onChange:ce=>b(ce.target.value)}),s.jsx(ee,{onClick:Vt,disabled:N||!x.trim(),size:"sm",children:"Invite"})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsx(ne,{className:"text-sm font-medium",children:"Members"}),s.jsx("div",{className:"mt-2 border rounded-lg divide-y",children:s.jsxs("div",{className:"flex items-center justify-between p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Yn,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:(r==null?void 0:r.full_name)||"You"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"Owner"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Team management coming soon"})]})]})]}),An==="integrations"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Integrations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect external services"})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-blue-500/10 flex items-center justify-center",children:s.jsx(it,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"VAPI Voice"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice assistants"})]})]}),C.length>0&&!R&&s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>D(!0),children:s.jsx(Bt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4",children:C.length===0&&!R?s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>D(!0),children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Connect VAPI"]}):s.jsxs("div",{className:"space-y-3",children:[C.map(ce=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:ce.org_name||"Unnamed"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>Ie(ce.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(zt,{className:"w-4 h-4"})})]},ce.id)),R&&s.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsx(ue,{placeholder:"Organization name",value:U,onChange:ce=>$(ce.target.value)}),s.jsx(ue,{type:"password",placeholder:"Private API key",value:A,onChange:ce=>T(ce.target.value)})]}),s.jsx(ue,{placeholder:"Public key (optional)",value:E,onChange:ce=>B(ce.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{D(!1),T(""),B(""),$("")},children:"Cancel"}),s.jsx(ee,{size:"sm",onClick:Pe,disabled:F||!A.trim()||!U.trim(),children:F?"Validating...":"Connect"})]})]})]})})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-green-500/10 flex items-center justify-center",children:s.jsx(Ft,{className:"w-4 h-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"ElevenLabs"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp agents"})]})]}),L.length>0&&!W&&s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>Z(!0),children:s.jsx(Bt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4",children:L.length===0&&!W?s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>Z(!0),children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Connect ElevenLabs"]}):s.jsxs("div",{className:"space-y-3",children:[L.map(ce=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:ce.org_name||"Unnamed"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>Yt(ce.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(zt,{className:"w-4 h-4"})})]},ce.id)),W&&s.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsx(ue,{placeholder:"Connection name",value:j,onChange:ce=>P(ce.target.value)}),s.jsx(ue,{type:"password",placeholder:"API key",value:z,onChange:ce=>H(ce.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{Z(!1),H(""),P("")},children:"Cancel"}),s.jsx(ee,{size:"sm",onClick:Qe,disabled:O||!z.trim()||!j.trim(),children:O?"Validating...":"Connect"})]})]})]})})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-purple-500/10 flex items-center justify-center",children:s.jsx(it,{className:"w-4 h-4 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"OpenAI"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots & AI features"})]})]}),te.length>0&&!Se&&s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>Oe(!0),children:s.jsx(Bt,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4",children:te.length===0&&!Se?s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>Oe(!0),children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Connect OpenAI"]}):s.jsxs("div",{className:"space-y-3",children:[te.map(ce=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:ce.org_name}),ce.is_active&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-primary/10 text-primary rounded",children:"Active"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>er(ce.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(zt,{className:"w-4 h-4"})})]},ce.id)),Se&&s.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsx(ue,{placeholder:"Organization name",value:pe,onChange:ce=>ye(ce.target.value)}),s.jsx(ue,{type:"password",placeholder:"sk-proj-...",value:X,onChange:ce=>re(ce.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{Oe(!1),re(""),ye("")},children:"Cancel"}),s.jsx(ee,{size:"sm",onClick:Zn,disabled:le||!X.trim()||!pe.trim(),children:le?"Connecting...":"Connect"})]})]})]})})]})]})]})})]}):s.jsx("div",{children:"Please log in to view settings."})},g8e=()=>{const{user:e}=Dt();return e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Billing & Subscription"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription and billing information"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ite,{className:"w-5 h-5 text-primary"}),s.jsx(ae,{children:"Current Plan"})]}),s.jsx(Ce,{variant:"default",children:"Free Tier"})]}),s.jsx(je,{children:"You are currently on the free tier"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Monthly message limit"}),s.jsx("span",{className:"font-medium",children:"1,000 messages"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Chatbots"}),s.jsx("span",{className:"font-medium",children:"Up to 3"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Analytics"}),s.jsx("span",{className:"font-medium",children:"Basic"})]}),s.jsxs(ee,{className:"w-full",children:[s.jsx($l,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QB,{className:"w-5 h-5 text-primary"}),s.jsx(ae,{children:"Payment Method"})]}),s.jsx(je,{children:"Manage your payment methods"})]}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment method on file"}),s.jsx(ee,{variant:"outline",className:"w-full mt-4",children:"Add Payment Method"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zte,{className:"w-5 h-5 text-primary"}),s.jsx(ae,{children:"Billing History"})]}),s.jsx(je,{children:"View your past invoices and receipts"})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]})]})]}):s.jsx("div",{children:"Please log in to view billing information."})};function v8e({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,f]=y.useState(""),[m,p]=y.useState(""),[g,v]=y.useState(""),[x,b]=y.useState(""),[w,_]=y.useState("Thank you for submitting the form!"),[N,S]=y.useState(!1),[C,k]=y.useState(""),[A,T]=y.useState("New Form Submission"),[E,B]=y.useState(!1),[U,$]=y.useState(""),[F,M]=y.useState(""),[R,D]=y.useState(!1),[L,I]=y.useState([]);y.useEffect(()=>{e&&z()},[e]);const z=async()=>{try{const{data:q,error:X}=await G.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(X)throw X;n((q||[]).map(re=>({...re,fields:Array.isArray(re.fields)?re.fields:[]})))}catch(q){console.error("Error fetching forms:",q),ve.error("Failed to load forms")}finally{a(!1)}},H=()=>{f(""),p(""),v(""),b(""),_("Thank you for submitting the form!"),S(!1),k(""),T("New Form Submission"),B(!1),$(""),M(""),D(!1),I([]),c(null),d(!1)},j=q=>{c(q),f(q.form_name),p(q.form_title),v(q.form_description||""),b(q.trigger_keywords.join(", ")),_(q.success_message),S(q.notify_email||!1),k(q.notification_email||""),T(q.email_subject||"New Form Submission"),B(q.webhook_enabled||!1),$(q.webhook_url||""),M(q.terms_and_conditions||""),D(q.require_terms_acceptance||!1),I(q.fields),d(!0)},P=()=>{const q={id:`field_${Date.now()}`,type:"text",label:"New Field",required:!1};I(X=>[...X,q])},O=(q,X)=>{I(re=>re.map((pe,ye)=>ye===q?{...pe,...X}:pe))},V=q=>{I(X=>X.filter((re,pe)=>pe!==q))},W=async()=>{if(!h.trim()||!m.trim()||L.length===0){ve.error("Please fill in all required fields and add at least one form field");return}if(N&&!C.trim()){ve.error("Please enter a notification email address");return}if(E&&!U.trim()){ve.error("Please enter a webhook URL");return}if(R&&!F.trim()){ve.error("Please enter terms and conditions text");return}o(!0);try{const q={chatbot_id:e,form_name:h.trim(),form_title:m.trim(),form_description:g.trim()||null,fields:L,trigger_keywords:x.split(",").map(re=>re.trim()).filter(re=>re),success_message:w.trim(),notify_email:N,notification_email:N&&C.trim()||null,email_subject:A.trim(),webhook_enabled:E,webhook_url:E&&U.trim()||null,terms_and_conditions:F.trim()||null,require_terms_acceptance:R};let X;if(l?X=await G.from("chatbot_forms").update(q).eq("id",l.id).select():X=await G.from("chatbot_forms").insert(q).select(),X.error)throw X.error;ve.success(l?"Form updated successfully!":"Form created successfully!"),H(),z()}catch(q){console.error("Error saving form:",q),ve.error("Failed to save form")}finally{o(!1)}},Z=async(q,X)=>{try{const{error:re}=await G.from("chatbot_forms").update({is_active:!X}).eq("id",q);if(re)throw re;ve.success(`Form ${X?"deactivated":"activated"} successfully`),z()}catch(re){console.error("Error updating form status:",re),ve.error("Failed to update form status")}},te=async q=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:X}=await G.from("chatbot_forms").delete().eq("id",q);if(X)throw X;ve.success("Form deleted successfully"),z()}catch(X){console.error("Error deleting form:",X),ve.error("Failed to delete form")}};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Chatbot Forms"}),s.jsx("p",{className:"text-muted-foreground",children:"Create forms that your chatbot can send to users"})]}),s.jsxs(dr,{open:u,onOpenChange:q=>{q||H(),d(q)},children:[s.jsx(Pu,{asChild:!0,children:s.jsxs(ee,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Form"]})}),s.jsxs(Kn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:l?"Edit Form":"Create New Form"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"form-name",children:"Form Name *"}),s.jsx(ue,{id:"form-name",placeholder:"Contact Form",value:h,onChange:q=>f(q.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"form-title",children:"Form Title *"}),s.jsx(ue,{id:"form-title",placeholder:"Get in Touch",value:m,onChange:q=>p(q.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"form-description",children:"Form Description"}),s.jsx(pt,{id:"form-description",placeholder:"Please fill out this form so we can help you better.",value:g,onChange:q=>v(q.target.value),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"trigger-keywords",children:"Trigger Keywords"}),s.jsx(ue,{id:"trigger-keywords",placeholder:"contact, form, get in touch",value:x,onChange:q=>b(q.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated keywords that trigger this form"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"success-message",children:"Success Message"}),s.jsx(ue,{id:"success-message",value:w,onChange:q=>_(q.target.value)})]})]}),s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"notify-email",checked:N,onCheckedChange:S}),s.jsx(ne,{htmlFor:"notify-email",children:"Send email notification when form is submitted"})]}),N&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"notification-email",children:"Notification Email *"}),s.jsx(ue,{id:"notification-email",type:"email",placeholder:"notifications@example.com",value:C,onChange:q=>k(q.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address to receive form submissions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(ue,{id:"email-subject",placeholder:"New Form Submission",value:A,onChange:q=>T(q.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"webhook-enabled",checked:E,onCheckedChange:B}),s.jsx(ne,{htmlFor:"webhook-enabled",children:"Send webhook when form is submitted"})]}),E&&s.jsx("div",{className:"pl-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"webhook-url",children:"Webhook URL *"}),s.jsx(ue,{id:"webhook-url",type:"url",placeholder:"https://your-webhook-endpoint.com/webhook",value:U,onChange:q=>$(q.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL where form data will be sent as POST request with JSON payload"})]})})]})]}),s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Terms and Conditions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"require-terms",checked:R,onCheckedChange:D}),s.jsx(ne,{htmlFor:"require-terms",children:"Require users to accept terms and conditions"})]}),R&&s.jsxs("div",{className:"pl-6 space-y-2",children:[s.jsx(ne,{htmlFor:"terms-text",children:"Terms and Conditions Text *"}),s.jsx(pt,{id:"terms-text",placeholder:"By submitting this form, you agree to our privacy policy and terms of service...",value:F,onChange:q=>M(q.target.value),rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This text will be displayed to users who must accept it before submitting the form"})]})]})]}),s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Form Fields"}),s.jsxs(ee,{onClick:P,variant:"outline",size:"sm",children:[s.jsx(Bt,{className:"h-4 w-4 mr-1"}),"Add Field"]})]}),L.map((q,X)=>s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end",children:[s.jsxs("div",{className:"col-span-3",children:[s.jsx(ne,{children:"Field Type"}),s.jsxs(Be,{value:q.type,onValueChange:re=>O(X,{type:re}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"text",children:"Text"}),s.jsx(ie,{value:"email",children:"Email"}),s.jsx(ie,{value:"phone",children:"Phone"}),s.jsx(ie,{value:"number",children:"Number"}),s.jsx(ie,{value:"date",children:"Date"}),s.jsx(ie,{value:"textarea",children:"Textarea"}),s.jsx(ie,{value:"select",children:"Select"}),s.jsx(ie,{value:"radio",children:"Radio"}),s.jsx(ie,{value:"checkbox",children:"Checkbox"})]})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(ne,{children:"Label"}),s.jsx(ue,{value:q.label,onChange:re=>O(X,{label:re.target.value}),placeholder:"Field label"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(ne,{children:"Placeholder"}),s.jsx(ue,{value:q.placeholder||"",onChange:re=>O(X,{placeholder:re.target.value}),placeholder:"Placeholder text"})]}),(q.type==="select"||q.type==="radio"||q.type==="checkbox")&&s.jsxs("div",{className:"col-span-2",children:[s.jsx(ne,{children:"Options"}),s.jsx(ue,{value:(q.options||[]).join(", "),onChange:re=>O(X,{options:re.target.value.split(",").map(pe=>pe.trim()).filter(pe=>pe)}),placeholder:"Option 1, Option 2"})]}),s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{checked:q.required||!1,onCheckedChange:re=>O(X,{required:re})}),s.jsx(ne,{className:"text-xs",children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(ee,{onClick:()=>V(X),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(zt,{className:"h-4 w-4"})})})]})},q.id)),L.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Fn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:'No fields added yet. Click "Add Field" to get started.'})]})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(ee,{onClick:W,disabled:i,children:i?"Saving...":l?"Update Form":"Create Form"})})]})]})]})]}),t.length===0?s.jsx(Y,{className:"text-center py-12",children:s.jsxs(Q,{children:[s.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No forms created yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first form to collect information from chat users"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(q=>s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),q.form_title,q.is_active?s.jsx(Ce,{variant:"default",children:"Active"}):s.jsx(Ce,{variant:"secondary",children:"Inactive"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:q.form_description||"No description provided"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{onClick:()=>Z(q.id,q.is_active),variant:"outline",size:"sm",children:[s.jsx(gs,{className:"h-4 w-4 mr-1"}),q.is_active?"Deactivate":"Activate"]}),s.jsxs(ee,{onClick:()=>j(q),variant:"outline",size:"sm",children:[s.jsx($te,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(ee,{onClick:()=>te(q.id),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[s.jsx(zt,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fields:"}),s.jsx("span",{className:"font-medium",children:q.fields.length})]}),q.trigger_keywords.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggers:"}),s.jsx("div",{className:"flex gap-1",children:q.trigger_keywords.map(X=>s.jsx(Ce,{variant:"outline",className:"text-xs",children:X},X))})]}),q.notify_email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email notifications:"}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:q.notification_email})]})]})})]},q.id))})]})}function x8e({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:h,error:f}=await G.from("chatbot_forms").select("id").eq("chatbot_id",e);if(f||!h||h.length===0){n([]);return}const m=h.map(v=>v.id),{data:p,error:g}=await G.from("form_submissions").select(`
          *,
          chatbot_forms(form_name, form_title, form_description, fields)
        `).in("form_id",m).order("submitted_at",{ascending:!1});if(g)throw g;n((p||[]).map(v=>({...v,submitted_data:typeof v.submitted_data=="object"?v.submitted_data:{},chatbot_forms:v.chatbot_forms&&typeof v.chatbot_forms=="object"?v.chatbot_forms:{form_name:"Unknown Form",form_title:"Unknown Form",fields:[]}})))}catch(h){console.error("Error fetching form submissions:",h),ve.error("Failed to load form submissions")}finally{a(!1)}},c=()=>{if(t.length===0)return;const h=t.map(x=>{const b={"Form Name":x.chatbot_forms.form_name,"Submitted At":at(new Date(x.submitted_at),"yyyy-MM-dd HH:mm:ss"),"Visitor ID":x.visitor_id||"Anonymous",Status:x.status};return Object.entries(x.submitted_data).forEach(([w,_])=>{b[w]=Array.isArray(_)?_.join(", "):_}),b}),f=Object.keys(h[0]),m=[f.join(","),...h.map(x=>f.map(b=>`"${x[b]||""}"`).join(","))].join(`
`),p=new Blob([m],{type:"text/csv"}),g=window.URL.createObjectURL(p),v=document.createElement("a");v.href=g,v.download=`form-submissions-${at(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(g),ve.success("Form submissions exported successfully")},u=(h,f)=>Array.isArray(f)?f.join(", "):h.type==="date"&&f?at(new Date(f),"PPP"):(f==null?void 0:f.toString())||"Not provided",d=(h,f)=>{const m=f.find(p=>p.id===h);return(m==null?void 0:m.label)||h};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Form Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbot"})]}),t.length>0&&s.jsxs(ee,{onClick:c,variant:"outline",children:[s.jsx(Ste,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),t.length===0?s.jsx(Y,{className:"text-center py-12",children:s.jsxs(Q,{children:[s.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No form submissions yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Form submissions from your chatbot will appear here"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(h=>s.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Fn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-lg",children:h.chatbot_forms.form_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-4 w-4"}),at(new Date(h.submitted_at),"PPP p")]}),h.visitor_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yn,{className:"h-4 w-4"}),h.visitor_id]}),h.conversation_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(un,{className:"h-4 w-4"}),"Conversation"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{variant:h.status==="submitted"?"default":"secondary",children:h.status}),s.jsxs(dr,{children:[s.jsx(Pu,{asChild:!0,children:s.jsxs(ee,{onClick:()=>o(h),variant:"outline",size:"sm",children:[s.jsx(ja,{className:"h-4 w-4 mr-1"}),"View Details"]})}),s.jsxs(Kn,{className:"max-w-2xl",children:[s.jsx(Jn,{children:s.jsxs(Xn,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),h.chatbot_forms.form_title]})}),s.jsx(Na,{className:"max-h-[60vh]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Submission Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"}),s.jsx("p",{className:"font-medium",children:at(new Date(h.submitted_at),"PPP p")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("p",{className:"font-medium capitalize",children:h.status})]}),h.visitor_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Visitor ID:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.visitor_id})]}),h.conversation_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversation:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.conversation_id})]})]})]}),s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Form Responses"}),Object.entries(h.submitted_data).map(([f,m])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:d(f,h.chatbot_forms.fields)}),s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm text-foreground",children:u(h.chatbot_forms.fields.find(p=>p.id===f),m)})})]},f))]})]})})]})]})]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:h.chatbot_forms.form_description||"No description provided"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(h.submitted_data).slice(0,3).map(([f,m])=>s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs",children:[s.jsxs("span",{className:"font-medium",children:[d(f,h.chatbot_forms.fields),":"]}),s.jsx("span",{className:"ml-1",children:Array.isArray(m)?m.slice(0,2).join(", ")+(m.length>2?"...":""):((m==null?void 0:m.toString().slice(0,30))||"N/A")+((m==null?void 0:m.toString().length)>30?"...":"")})]},f)),Object.keys(h.submitted_data).length>3&&s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs text-muted-foreground",children:["+",Object.keys(h.submitted_data).length-3," more"]})]})]})})]},h.id))})]})}function y8e(){const{user:e}=Dt(),[t,n]=y.useState([]),[r,a]=y.useState(""),[i,o]=y.useState(!0);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:c,error:u}=await G.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(u)throw u;n(c||[]),a("")}catch(c){console.error("Error fetching chatbots:",c),ve.error("Failed to load chatbots")}finally{o(!1)}};return e?i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Loading..."})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage forms and view submissions for your chatbots"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(Be,{value:r,onValueChange:a,children:[s.jsx(Le,{className:"w-64",children:s.jsx(Ue,{placeholder:"Select a chatbot"})}),s.jsx(Fe,{children:t.map(c=>s.jsx(ie,{value:c.id,children:c.name},c.id))})]})})]}),s.jsx(Zr,{}),r?s.jsxs(kf,{defaultValue:"forms",className:"space-y-6",children:[s.jsxs(Eu,{children:[s.jsx(Jt,{value:"forms",children:"Forms"}),s.jsx(Jt,{value:"submissions",children:"Submissions"})]}),s.jsx(Xt,{value:"forms",children:s.jsxs(Y,{children:[s.jsx(se,{children:s.jsx(ae,{children:"Manage Forms"})}),s.jsx(Q,{children:s.jsx(v8e,{chatbotId:r})})]})}),s.jsx(Xt,{value:"submissions",children:s.jsxs(Y,{children:[s.jsx(se,{children:s.jsx(ae,{children:"Form Submissions"})}),s.jsx(Q,{children:s.jsx(x8e,{chatbotId:r})})]})})]}):s.jsx(Y,{children:s.jsx(Q,{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground mb-4",children:t.length===0?"No chatbots found. Create a chatbot first to manage forms.":"Select a chatbot to manage its forms and view submissions."})})})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Please log in to access this page."})})}function b8e({chatbotId:e,chatbotName:t,onBack:n}){const{toast:r}=bn(),a=y.useRef(null),[i,o]=y.useState("Untitled Flow"),[l,c]=y.useState(""),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[m,p]=y.useState([{id:"start",type:"start",content:"Start",position:{x:0,y:0}}]),[g,v]=y.useState([]),[x,b]=y.useState(1),[w,_]=y.useState(null),[N,S]=y.useState({x:0,y:0}),[C,k]=y.useState(!1),[A,T]=y.useState({x:0,y:0}),[E,B]=y.useState(null),[U,$]=y.useState({x:0,y:0}),[F,M]=y.useState(!1),[R,D]=y.useState(null),[L,I]=y.useState({x:0,y:0}),z=m.filter(he=>he.type==="trigger").length,H=m.filter(he=>he.type==="action").length,j=()=>{r({title:"Flow saved",description:`"${i}" has been saved successfully.`})},P=he=>{const me={id:`node-${Date.now()}`,type:he,content:he.charAt(0).toUpperCase()+he.slice(1),position:{x:(Math.random()-.5)*300,y:(Math.random()-.5)*300},...he==="trigger"&&{triggerType:"time-on-page",triggerValue:"5s"},...he==="action"&&{actionType:"show-message",actionValue:" Hi there! How can I help you today?",actionDelay:0}};p([...m,me]),r({title:`${he.charAt(0).toUpperCase()+he.slice(1)} added`,description:"Node has been added to your flow"})},O=(he,me)=>{p(Ae=>Ae.map(Ye=>Ye.id===he?{...Ye,triggerType:me}:Ye))},V=(he,me)=>{p(Ae=>Ae.map(Ye=>Ye.id===he?{...Ye,actionType:me}:Ye))},W=(he,me)=>{p(Ae=>Ae.map(Ye=>Ye.id===he?{...Ye,actionValue:me}:Ye))},Z=(he,me)=>{p(Ae=>Ae.map(Ye=>Ye.id===he?{...Ye,actionDelay:me}:Ye))},te=he=>{he!=="start"&&(p(me=>me.filter(Ae=>Ae.id!==he)),r({title:"Node deleted",description:"Node has been removed from your flow"}))},q=()=>{b(he=>Math.min(he+.1,2))},X=()=>{b(he=>Math.max(he-.1,.5))},re=()=>{b(1),S({x:0,y:0})},pe=he=>{he.button===0&&!E&&(k(!0),T({x:he.clientX-N.x,y:he.clientY-N.y}),a.current&&(a.current.style.cursor="grabbing"))},ye=he=>{if(C&&!E&&!F)S({x:he.clientX-A.x,y:he.clientY-A.y});else if(E)Se(he);else if(F&&a.current){const me=a.current.getBoundingClientRect();I({x:he.clientX-me.left,y:he.clientY-me.top})}},le=()=>{k(!1),B(null),M(!1),D(null),a.current&&(a.current.style.cursor="grab")},be=(he,me)=>{var Ie;he.stopPropagation();const Ae=m.find(Qe=>Qe.id===me);if(!Ae)return;B(me);const Ye=(Ie=a.current)==null?void 0:Ie.getBoundingClientRect();if(!Ye)return;const yt=Ye.width/2,K=Ye.height/2,de=yt+Ae.position.x*x+N.x,Pe=K+Ae.position.y*x+N.y;$({x:he.clientX-de,y:he.clientY-Pe})},Se=he=>{if(!E||!a.current)return;const me=a.current.getBoundingClientRect(),Ae=me.width/2,Ye=me.height/2,yt=he.clientX-U.x,K=he.clientY-U.y,de=(yt-Ae-N.x)/x,Pe=(K-Ye-N.y)/x;p(Ie=>Ie.map(Qe=>Qe.id===E?{...Qe,position:{x:de,y:Pe}}:Qe))},Oe=(he,me,Ae)=>{if(he.stopPropagation(),M(!0),D({nodeId:me,point:Ae}),a.current){const Ye=a.current.getBoundingClientRect();I({x:he.clientX-Ye.left,y:he.clientY-Ye.top})}},qe=(he,me,Ae)=>{if(he.stopPropagation(),F&&R&&R.nodeId!==me){const Ye={id:`conn-${Date.now()}`,sourceId:R.nodeId,targetId:me,sourcePoint:R.point,targetPoint:Ae};v(yt=>[...yt,Ye]),r({title:"Nodes connected",description:"Connection has been created"})}M(!1),D(null)},Ge=he=>{const me=m.find(K=>K.id===he);if(!me||!a.current)return{x:0,y:0};const Ae=a.current.getBoundingClientRect(),Ye=Ae.width/2,yt=Ae.height/2;return{x:Ye+me.position.x*x+N.x,y:yt+me.position.y*x+N.y}};return y.useEffect(()=>{const he=()=>{k(!1),B(null),M(!1),D(null)};return window.addEventListener("mouseup",he),()=>window.removeEventListener("mouseup",he)},[]),s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"border-b bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex-1",children:[u?s.jsx(ue,{value:i,onChange:he=>o(he.target.value),onBlur:()=>d(!1),autoFocus:!0,className:"text-lg font-semibold max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto"}):s.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-muted-foreground transition-colors",onClick:()=>d(!0),children:i}),h?s.jsx(ue,{value:l,onChange:he=>c(he.target.value),onBlur:()=>f(!1),placeholder:"Add a description...",autoFocus:!0,className:"text-sm text-muted-foreground max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto mt-1"}):s.jsx("p",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground transition-colors",onClick:()=>f(!0),children:l||"Add a description..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ce,{variant:"secondary",className:"gap-1.5",children:[s.jsx(kte,{className:"h-3 w-3"}),z," Triggers"]}),s.jsxs(Ce,{variant:"secondary",className:"gap-1.5",children:[s.jsx($l,{className:"h-3 w-3"}),H," Actions"]}),s.jsx(ee,{variant:"outline",size:"sm",children:"Templates"}),s.jsx(ee,{variant:"ghost",size:"icon",children:s.jsx(gs,{className:"h-4 w-4"})}),s.jsx(ee,{onClick:j,size:"sm",children:"Save Flow"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(Kl,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 pb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Add Node:"}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>P("trigger"),children:[s.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Trigger"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>P("action"),children:[s.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Action"]})]})]}),s.jsxs("div",{ref:a,className:"flex-1 relative overflow-hidden bg-muted/20",style:{cursor:C?"grabbing":F?"crosshair":"grab"},onMouseDown:pe,onMouseMove:ye,onMouseUp:le,onMouseLeave:le,children:[s.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[g.map(he=>{const me=m.find(Qe=>Qe.id===he.sourceId),Ae=m.find(Qe=>Qe.id===he.targetId);if(!me||!Ae||!a.current)return null;const Ye=a.current.getBoundingClientRect(),yt=Ye.width/2,K=Ye.height/2,de={x:yt+me.position.x*x+N.x,y:K+me.position.y*x+N.y+(he.sourcePoint==="bottom"?24:-24)},Pe={x:yt+Ae.position.x*x+N.x,y:K+Ae.position.y*x+N.y+(he.targetPoint==="top"?-24:24)},Ie=(de.y+Pe.y)/2;return s.jsx("path",{d:`M ${de.x} ${de.y} L ${de.x} ${Ie} L ${Pe.x} ${Ie} L ${Pe.x} ${Pe.y}`,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",fill:"none",strokeDasharray:"6,6",className:"opacity-60",style:{animation:"flowLine 1s linear infinite"}},he.id)}),F&&R&&a.current&&(()=>{const he=Ge(R.nodeId),me=he.y+(R.point==="bottom"?24:-24),Ae=Math.abs(me-L.y)/4;return s.jsx("path",{d:`M ${he.x} ${me} C ${he.x} ${me+Ae}, ${L.x} ${L.y-Ae}, ${L.x} ${L.y}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",className:"opacity-60"})})()]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:`translate(${N.x}px, ${N.y}px) scale(${x})`,transformOrigin:"center center",transition:C?"none":"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:s.jsx("div",{className:"relative w-full h-full",children:m.map(he=>s.jsxs("div",{className:"absolute select-none",style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${he.position.x}px), calc(-50% + ${he.position.y}px))`,pointerEvents:"auto"},children:[he.type!=="start"&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:me=>Oe(me,he.id,"top"),onMouseUp:me=>qe(me,he.id,"top")}),s.jsx("div",{className:"relative",onMouseDown:me=>be(me,he.id),children:he.type==="start"?s.jsxs(ee,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg cursor-grab",size:"lg",children:[s.jsx(Bte,{className:"h-4 w-4 mr-2 fill-current"}),he.content]}):he.type==="trigger"?s.jsx("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg p-3 min-w-[240px] cursor-grab",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Tt,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs(Be,{value:he.triggerType,onValueChange:me=>O(he.id,me),children:[s.jsx(Le,{className:"border-none bg-transparent p-0 h-auto font-medium focus:ring-0",onClick:me=>me.stopPropagation(),onMouseDown:me=>me.stopPropagation(),children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"time-on-page",children:"Time on Page"}),s.jsx(ie,{value:"click",children:"Click Event"}),s.jsx(ie,{value:"scroll",children:"Scroll Depth"}),s.jsx(ie,{value:"message",children:"Message Received"})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:he.triggerValue||"5s"})]}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:me=>{me.stopPropagation(),te(he.id)},onMouseDown:me=>me.stopPropagation(),children:s.jsx(zt,{className:"h-4 w-4"})})]})}):he.type==="action"?s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg min-w-[240px]",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-grab",onClick:me=>{(me.target===me.currentTarget||me.target.closest(".node-header"))&&_(w===he.id?null:he.id)},children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center node-header",children:s.jsx(un,{className:"h-5 w-5 text-primary"})}),s.jsx("div",{className:"flex-1 min-w-0 node-header",children:s.jsx("div",{className:"font-medium",children:"Show Message"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:me=>{me.stopPropagation(),te(he.id)},onMouseDown:me=>me.stopPropagation(),children:s.jsx(zt,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 node-header",onClick:me=>{me.stopPropagation(),_(w===he.id?null:he.id)},onMouseDown:me=>me.stopPropagation(),children:w===he.id?s.jsx(I2,{className:"h-4 w-4"}):s.jsx(Zh,{className:"h-4 w-4"})})]}),w===he.id&&s.jsxs("div",{className:"px-3 pb-3 space-y-3 border-t border-border/50 pt-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsxs(Be,{value:he.actionType,onValueChange:me=>V(he.id,me),children:[s.jsx(Le,{className:"w-full",onClick:me=>me.stopPropagation(),onMouseDown:me=>me.stopPropagation(),children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"show-message",children:"Show Message"}),s.jsx(ie,{value:"send-email",children:"Send Email"}),s.jsx(ie,{value:"webhook",children:"Call Webhook"}),s.jsx(ie,{value:"redirect",children:"Redirect"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Message"}),s.jsx(pt,{value:he.actionValue||"",onChange:me=>W(he.id,me.target.value),placeholder:" Hi there! How can I help you today?",className:"min-h-[80px] resize-none",onClick:me=>me.stopPropagation(),onMouseDown:me=>me.stopPropagation()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delay (ms)"}),s.jsx(ue,{type:"number",value:he.actionDelay||0,onChange:me=>Z(he.id,parseInt(me.target.value)||0),placeholder:"0",className:"w-full",onClick:me=>me.stopPropagation(),onMouseDown:me=>me.stopPropagation()})]})]})]}):s.jsx(ee,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg cursor-grab",size:"lg",children:he.content})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:me=>Oe(me,he.id,"bottom"),onMouseUp:me=>qe(me,he.id,"bottom")})]},he.id))})}),s.jsxs("div",{className:"absolute bottom-6 left-6 flex flex-col bg-card border rounded-lg shadow-lg overflow-hidden",children:[s.jsx(ee,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:q,children:s.jsx(Gte,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(ee,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:X,children:s.jsx(Yte,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(ee,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:re,children:s.jsx(U2,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"absolute bottom-6 left-24 bg-card border rounded-lg shadow-lg px-3 py-2 text-sm text-muted-foreground",children:[Math.round(x*100),"%"]})]})]})}function w8e(){const[e,t]=y.useState(""),[n,r]=y.useState(!1),{toast:a}=bn(),{data:i,isLoading:o}=mae({queryKey:["chatbots"],queryFn:async()=>{const{data:{user:u}}=await G.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:h}=await G.from("chatbots").select("id, name").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;return d}}),l=i==null?void 0:i.find(u=>u.id===e),c=()=>{if(!e){a({title:"Select a chatbot",description:"Please select a chatbot first to create a flow.",variant:"destructive"});return}r(!0)};return n&&l?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(b8e,{chatbotId:l.id,chatbotName:l.name,onBack:()=>r(!1)})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Conversation Flows"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Create custom conversation flows for your chatbots"})]}),s.jsxs(ee,{onClick:c,disabled:!e,children:[s.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Create Flow"]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-5 w-5"}),"Select Chatbot"]}),s.jsx(je,{children:"Choose a chatbot to manage its conversation flows"})]}),s.jsx(Q,{children:s.jsxs(Be,{value:e,onValueChange:t,children:[s.jsx(Le,{className:"w-full",children:s.jsx(Ue,{placeholder:"Select a chatbot..."})}),s.jsx(Fe,{children:o?s.jsx(ie,{value:"loading",disabled:!0,children:"Loading chatbots..."}):i&&i.length>0?i.map(u=>s.jsx(ie,{value:u.id,children:u.name},u.id)):s.jsx(ie,{value:"none",disabled:!0,children:"No chatbots available"})})]})})]}),l&&s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(hS,{className:"h-5 w-5"}),"Flows for ",l.name]}),s.jsx(je,{children:"Manage conversation flows for this chatbot"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(hS,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No flows yet"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Create your first conversation flow to guide users through custom interactions"}),s.jsxs(ee,{onClick:c,children:[s.jsx(Bt,{className:"mr-2 h-4 w-4"}),"Create Your First Flow"]})]})})]})]})}const BL={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"},EG=y.createContext({branding:null,loading:!0,refetch:async()=>{}});function j8e({children:e}){const[t,n]=y.useState(null),[r,a]=y.useState(!0),i=async()=>{var o;try{a(!0),console.log("[Branding] Fetching branding settings...");const{data:{session:l}}=await G.auth.getSession();if(!((o=l==null?void 0:l.user)!=null&&o.email)){console.log("[Branding] No user session found"),n(BL),a(!1);return}const c=l.user.email;console.log("[Branding] User email:",c);const u=await fH(c);console.log("[Branding] Fetched branding:",u),n(u),a(!1)}catch(l){console.error("[Branding] Error:",l),n(BL),a(!1)}};return y.useEffect(()=>{i();const{data:{subscription:o}}=G.auth.onAuthStateChange(l=>{console.log("[Branding] Auth state changed:",l),(l==="SIGNED_IN"||l==="TOKEN_REFRESHED")&&i()});return()=>o.unsubscribe()},[]),s.jsx(EG.Provider,{value:{branding:t,loading:r,refetch:i},children:e})}function _8e(){const e=y.useContext(EG);if(e===void 0)throw new Error("useBranding must be used within a BrandingProvider");return e}function Qk(e){e=e.replace("#",""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,a=Math.max(t,n,r),i=Math.min(t,n,r);let o=0,l=0;const c=(a+i)/2;if(a!==i){const u=a-i;switch(l=c>.5?u/(2-a-i):u/(a+i),a){case t:o=((n-r)/u+(n<r?6:0))/6;break;case n:o=((r-t)/u+2)/6;break;case r:o=((t-n)/u+4)/6;break}}return`${Math.round(o*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%`}function N8e(){const[e,t]=y.useState(""),[n,r]=y.useState(""),[a,i]=y.useState(!1),[o,l]=y.useState(oy),[c,u]=y.useState(!1),{signIn:d,signInWithGoogle:h}=Cs(),f=Nr();y.useEffect(()=>{if(o.primary_color!==oy.primary_color){const v=document.documentElement,x=Qk(o.primary_color);return v.style.setProperty("--primary",x),()=>{v.style.removeProperty("--primary")}}},[o]),y.useEffect(()=>{if(!e||!e.includes("@")){l(oy),u(!1);return}const v=setTimeout(async()=>{const x=await fH(e);l(x),u(!0)},500);return()=>clearTimeout(v)},[e]);const m=async v=>{v.preventDefault(),i(!0);try{const{error:x}=await d(e,n);x?ve.error(x.message||"Failed to sign in"):(ve.success("Signed in successfully"),f("/customer-dashboard"))}catch{ve.error("An unexpected error occurred")}finally{i(!1)}},p=async()=>{const{error:v}=await h();v&&ve.error(v.message||"Failed to sign in with Google")},g=o.logo_url||Vc;return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:g,alt:"Logo",className:"h-16 max-w-[200px] object-contain transition-all duration-300"})})}),s.jsxs(Y,{className:"border shadow-lg",children:[s.jsxs(se,{className:"text-center",children:[s.jsxs(ae,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(ka,{className:"h-5 w-5 text-primary"}),"Customer Portal"]}),s.jsx(je,{children:"Sign in to access your AI agent analytics"})]}),s.jsxs(Q,{children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email"}),s.jsx(ue,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:v=>t(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"password",children:"Password"}),s.jsx(ue,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:v=>r(v.target.value),required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:p,className:"w-full",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Contact your AI agent provider for access credentials"})})]})]})]})})}const S8e=[{title:"Dashboard",url:"/customer-dashboard",icon:F2},{title:"Chatbots",url:"/customer-dashboard/conversations",icon:it},{title:"Voice Assistants",url:"/customer-dashboard/voice-assistants",icon:Ot},{title:"WhatsApp Agents",url:"/customer-dashboard/whatsapp-agents",icon:Ft},{title:"Leads",url:"/customer-dashboard/leads",icon:dn},{title:"Support Tickets",url:"/customer-dashboard/support-tickets",icon:ei},{title:"Analytics",url:"/customer-dashboard/analytics",icon:po},{title:"Settings",url:"/customer-dashboard/settings",icon:gs}];function C8e({customLogo:e}){const{state:t}=cf(),n=ui(),{customer:r,signOut:a}=Cs(),{theme:i}=Kg(),o=n.pathname,l=t==="collapsed",c=m=>m==="/customer-dashboard"?o===m:o.startsWith(m),u=m=>c(m)?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",d=async()=>{await a(),ve.success("Signed out successfully")},f=e||(i==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":Vc);return s.jsxs(bP,{className:l?"w-14":"w-64",collapsible:"icon",children:[s.jsx(fz,{className:"border-b p-4 bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:f,alt:"Company Logo",className:"h-8 w-auto max-w-full object-contain"})})}),s.jsxs(wP,{children:[s.jsxs(kd,{children:[s.jsx(qm,{children:"Navigation"}),s.jsx(Ed,{children:s.jsx(Cc,{children:S8e.map(m=>s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs($S,{to:m.url,end:m.url==="/customer-dashboard",className:u(m.url),children:[s.jsx(m.icon,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:m.title})]})})},m.title))})})]}),s.jsx(kd,{className:"mt-auto",children:s.jsx(Ed,{children:s.jsx(Cc,{children:s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",onClick:d,className:"w-full justify-start",children:[s.jsx(B2,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:"Sign Out"})]})})})})})})]})]})}function k8e(){const{customer:e,loading:t}=Cs(),{branding:n,loading:r}=_8e();return y.useEffect(()=>{const a="https://voxtro-backend.onrender.com",i=document.createElement("script");return i.src=`${a}/api/widget/90e3f339-4025-4f62-bb91-03366abcfa40/script.js?v=`+Date.now(),i.async=!0,document.head.appendChild(i),()=>{i.parentNode&&i.parentNode.removeChild(i);const o=document.getElementById("voxtro-widget");o&&o.remove()}},[]),y.useEffect(()=>{if(n){const a=document.documentElement,i=Qk(n.primary_color);return Qk(n.secondary_color),a.style.setProperty("--primary",i),a.style.setProperty("--sidebar-primary",i),a.style.setProperty("--sidebar-accent",i),()=>{a.style.removeProperty("--primary"),a.style.removeProperty("--sidebar-primary"),a.style.removeProperty("--sidebar-accent")}}},[n]),t||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(yP,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-muted/10",children:[s.jsx(C8e,{customLogo:n==null?void 0:n.logo_url}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center px-6 sticky top-0 z-50 shadow-sm",children:[s.jsx(gw,{className:"hover:bg-muted/50 transition-colors"}),s.jsx("div",{className:"ml-4 flex-1",children:s.jsxs("h1",{className:"font-semibold text-lg bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:["Welcome back, ",s.jsx("span",{className:"text-primary",children:e.full_name})]})})]}),s.jsx("main",{className:"flex-1 p-8",children:s.jsx(nie,{})})]})]})}):s.jsx(vs,{to:"/customer-login",replace:!0})}function E8e(){return s.jsx(j8e,{children:s.jsx(k8e,{})})}function Zk({customerId:e,customerName:t,customerEmail:n,onTicketCreated:r,trigger:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(""),[h,f]=y.useState("medium"),[m,p]=y.useState(!1),g=async v=>{if(v.preventDefault(),!l.trim()||!u.trim()){ve.error("Please fill in all required fields");return}p(!0);try{await MLe({subject:l.trim(),description:u.trim(),priority:h}),ve.success("Support ticket created successfully"),c(""),d(""),f("medium"),o(!1),r==null||r()}catch(x){console.error("Error creating ticket:",x),ve.error("Failed to create support ticket")}finally{p(!1)}};return s.jsxs(dr,{open:i,onOpenChange:o,children:[s.jsx(Pu,{asChild:!0,children:a||s.jsxs(ee,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),s.jsxs(Kn,{className:"sm:max-w-[500px]",children:[s.jsxs(Jn,{children:[s.jsx(Xn,{children:"Create Support Ticket"}),s.jsx(Hi,{children:"Describe your issue and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"subject",children:["Subject ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ue,{id:"subject",placeholder:"Brief summary of your issue",value:l,onChange:v=>c(v.target.value),disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"priority",children:"Priority"}),s.jsxs(Be,{value:h,onValueChange:f,disabled:m,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select priority"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"low",children:"Low"}),s.jsx(ie,{value:"medium",children:"Medium"}),s.jsx(ie,{value:"high",children:"High"}),s.jsx(ie,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"description",children:["Description ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(pt,{id:"description",placeholder:"Please describe your issue in detail...",value:u,onChange:v=>d(v.target.value),rows:5,disabled:m})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:m,children:"Cancel"}),s.jsxs(ee,{type:"submit",disabled:m||!l.trim()||!u.trim(),children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),m?"Creating...":"Create Ticket"]})]})]})]})]})}const P8e={voice:{icon:Ot,iconColor:"text-chart-5",bgGradient:"from-chart-5/20 via-chart-5/5 to-transparent",title:"Voice Assistants",subtitle:"Transform Your Customer Calls",description:"AI-powered voice assistants that handle calls 24/7, qualify leads, and schedule appointments with natural conversations.",features:[{icon:e8,title:"24/7 Availability",description:"Never miss a call. Your AI assistant is always ready to help customers."},{icon:$l,title:"Instant Response",description:"Zero wait times. Customers get immediate, accurate answers."},{icon:po,title:"Call Analytics",description:"Full transcripts, recordings, and insights from every conversation."},{icon:lh,title:"Multi-Language",description:"Support customers in multiple languages automatically."}],stats:[{value:"90%",label:"Call Resolution Rate"},{value:"24/7",label:"Availability"},{value:"< 1s",label:"Response Time"}]},whatsapp:{icon:Ft,iconColor:"text-green-500",bgGradient:"from-green-500/20 via-green-500/5 to-transparent",title:"WhatsApp Agents",subtitle:"Meet Customers Where They Are",description:"Engage billions of WhatsApp users with AI agents that handle inquiries, process orders, and provide supportall within the world's most popular messaging app.",features:[{icon:dn,title:"Massive Reach",description:"Connect with 2+ billion active WhatsApp users worldwide."},{icon:Tt,title:"Instant Replies",description:"Respond to messages instantly, any time of day or night."},{icon:Rl,title:"Secure & Private",description:"End-to-end encryption keeps conversations safe."},{icon:Li,title:"Conversion Boost",description:"Higher engagement rates than email or traditional channels."}],stats:[{value:"98%",label:"Open Rate"},{value:"45%",label:"Higher Engagement"},{value:"3x",label:"Faster Resolution"}]},chatbot:{icon:it,iconColor:"text-primary",bgGradient:"from-primary/20 via-primary/5 to-transparent",title:"AI Chatbots",subtitle:"Supercharge Your Website",description:"Intelligent chatbots that engage visitors, answer questions, capture leads, and provide personalized supportturning your website into a 24/7 sales and support machine.",features:[{icon:ka,title:"Smart Conversations",description:"AI that understands context and provides relevant answers."},{icon:Li,title:"Lead Capture",description:"Automatically qualify and capture leads from website visitors."},{icon:Tt,title:"Reduce Wait Times",description:"Instant answers mean happier customers and less support load."},{icon:po,title:"Deep Insights",description:"Understand what your customers are asking and improve over time."}],stats:[{value:"67%",label:"Support Deflection"},{value:"40%",label:"Lead Increase"},{value:"24/7",label:"Availability"}]}};function Id({type:e,compact:t=!1}){const n=P8e[e],r=n.icon,a=()=>{window.location.href="mailto:info@voxtro.io?subject=Interested in "+n.title};return t?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx("div",{className:`p-4 rounded-full w-fit mx-auto mb-4 bg-gradient-to-br ${n.bgGradient}`,children:s.jsx(r,{className:`h-10 w-10 ${n.iconColor}`})}),s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["No ",n.title.toLowerCase()," assigned"]}),s.jsxs("p",{className:"text-muted-foreground text-sm max-w-md mx-auto mb-4",children:[n.description.substring(0,120),"..."]}),s.jsxs(ee,{onClick:a,size:"sm",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Contact Sales"]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:`relative overflow-hidden rounded-2xl bg-gradient-to-br ${n.bgGradient} border`,children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),s.jsxs("div",{className:"relative p-8 md:p-12",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[s.jsx("div",{className:`p-5 rounded-2xl bg-gradient-to-br ${n.bgGradient} border shadow-lg`,children:s.jsx(r,{className:`h-12 w-12 ${n.iconColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ce,{variant:"secondary",className:"mb-3",children:[s.jsx(ka,{className:"h-3 w-3 mr-1"}),"Available for Your Account"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.subtitle}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:n.description})]})]}),s.jsx("div",{className:"flex flex-wrap gap-6 mt-8 pt-8 border-t border-border/50",children:n.stats.map((i,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-3xl font-bold ${n.iconColor}`,children:i.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.label})]},o))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.features.map((i,o)=>{const l=i.icon;return s.jsx(Y,{className:"group hover:shadow-md transition-all duration-300 hover:border-primary/30",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${n.bgGradient} group-hover:scale-110 transition-transform`,children:s.jsx(l,{className:`h-5 w-5 ${n.iconColor}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})})},o)})}),s.jsx(Y,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",children:s.jsx(Q,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ready to Get Started?"}),s.jsxs("p",{className:"text-muted-foreground",children:["Contact our sales team to add ",n.title.toLowerCase()," to your account and start seeing results immediately."]})]}),s.jsxs(ee,{onClick:a,size:"lg",className:"shrink-0 gap-2",children:[s.jsx(Ns,{className:"h-5 w-5"}),"Contact Sales",s.jsx(Qu,{className:"h-4 w-4"})]})]})})})]})}function A8e(){const{customer:e}=Cs(),t=Nr(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(null),[d,h]=y.useState(null),[f,m]=y.useState(null),[p,g]=y.useState([]),[v,x]=y.useState([]),[b,w]=y.useState(null),[_,N]=y.useState(0),[S,C]=y.useState(!0);y.useEffect(()=>{e&&k()},[e]);const k=async()=>{if(e)try{const{data:$,error:F}=await G.from("customer_chatbot_assignments").select("chatbot_id, chatbots (id, name, description, theme_color)").eq("customer_id",e.id);if(F)throw F;const M=($==null?void 0:$.map(ye=>ye.chatbot_id))||[],{data:R}=await G.from("conversations").select("chatbot_id").in("chatbot_id",M),{data:D}=await G.from("messages").select("conversation_id, conversations!inner(chatbot_id)").in("conversations.chatbot_id",M),L=($==null?void 0:$.map(ye=>{const le=ye.chatbots;return{id:le.id,name:le.name,description:le.description,theme_color:le.theme_color,conversation_count:(R==null?void 0:R.filter(be=>be.chatbot_id===le.id).length)||0,message_count:(D==null?void 0:D.filter(be=>{var Se;return((Se=be.conversations)==null?void 0:Se.chatbot_id)===le.id}).length)||0}}))||[];r(L);const I=(R==null?void 0:R.length)||0,z=(D==null?void 0:D.length)||0;u({total_conversations:I,total_messages:z,avg_conversation_length:I>0?Math.round(z/I):0});const{data:H}=await G.from("customer_assistant_assignments").select("id, assistant_id, voice_assistants (id, name, phone_number)").eq("customer_id",e.id),j=(H==null?void 0:H.map(ye=>ye.assistant_id).filter(Boolean))||[];let P=[];if(j.length>0){const{data:ye}=await G.from("voice_assistant_calls").select("assistant_id, duration_seconds").in("assistant_id",j);P=ye||[]}const O=(H==null?void 0:H.map(ye=>{const le=P.filter(Se=>Se.assistant_id===ye.assistant_id),be=le.reduce((Se,Oe)=>Se+(Oe.duration_seconds||0),0);return{...ye,call_count:le.length,total_duration:be}}))||[];i(O);const V=P.length,W=P.reduce((ye,le)=>ye+(le.duration_seconds||0),0);h({total_calls:V,total_duration:W,avg_duration:V>0?Math.round(W/V):0});const{data:Z}=await G.from("customer_whatsapp_agent_assignments").select("id, agent_id, whatsapp_agents (id, name, phone_number, status)").eq("customer_id",e.id),te=(Z==null?void 0:Z.map(ye=>ye.agent_id).filter(Boolean))||[];let q=[],X=0;if(te.length>0){const{data:ye}=await G.from("whatsapp_conversations").select("id, agent_id").in("agent_id",te);if(q=ye||[],q.length>0){const{count:le}=await G.from("whatsapp_messages").select("*",{count:"exact",head:!0}).in("conversation_id",q.map(be=>be.id));X=le||0}}const re=(Z==null?void 0:Z.map(ye=>({...ye,conversation_count:q.filter(le=>le.agent_id===ye.agent_id).length})))||[];l(re),m({total_conversations:q.length,total_messages:X});const{data:pe}=await G.from("support_tickets").select("id, subject, status, priority, created_at, updated_at").eq("customer_id",e.id).order("updated_at",{ascending:!1}).limit(5);g(pe||[]);try{const le=(await Bk()).leads||[];x(le.slice(0,5)),N(le.length);const be=le.filter(yt=>yt.source_type==="chatbot").length,Se=le.filter(yt=>yt.source_type==="voice").length,Oe=le.filter(yt=>yt.source_type==="whatsapp").length,qe=I>0?Math.round(be/I*100):0,Ge=V>0?Math.round(Se/V*100):0,he=q.length>0?Math.round(Oe/q.length*100):0,me=I+V+q.length,Ae=le.length,Ye=me>0?Math.round(Ae/me*100):0;w({chatbot:qe,voice:Ge,whatsapp:he,overall:Ye})}catch(ye){console.error("Error fetching leads:",ye),x([]),N(0),w({chatbot:0,voice:0,whatsapp:0,overall:0})}}catch($){console.error("Error fetching customer data:",$),ve.error("Failed to load dashboard data")}finally{C(!1)}},A=$=>{const F=Math.floor($/60),M=$%60;return`${F}m ${M}s`},T=$=>{switch($.toLowerCase()){case"open":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"in_progress":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"resolved":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"closed":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";default:return"bg-muted text-muted-foreground"}},E=$=>{switch($){case"chatbot":return s.jsx(it,{className:"h-3 w-3"});case"voice":return s.jsx(Lte,{className:"h-3 w-3"});case"whatsapp":return s.jsx(Ft,{className:"h-3 w-3"});default:return s.jsx(dn,{className:"h-3 w-3"})}};if(S)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"h-10 w-64 bg-muted/50 rounded animate-pulse"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map(($,F)=>s.jsx("div",{className:"h-28 bg-muted/50 rounded-xl animate-pulse"},F))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64 bg-muted/50 rounded-xl animate-pulse"}),s.jsx("div",{className:"h-64 bg-muted/50 rounded-xl animate-pulse"})]})]});const B=p.filter($=>$.status==="open"||$.status==="in_progress"),U=((c==null?void 0:c.total_conversations)||0)+((d==null?void 0:d.total_calls)||0)+((f==null?void 0:f.total_conversations)||0);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-semibold tracking-tight",children:["Welcome back",e!=null&&e.full_name?`, ${e.full_name.split(" ")[0]}`:""]}),s.jsx("p",{className:"text-muted-foreground text-sm mt-0.5",children:"Here's an overview of your AI agents performance"})]}),s.jsx(Zk,{customerId:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.full_name)||"",customerEmail:(e==null?void 0:e.email)||"",onTicketCreated:k,trigger:s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"New Support Ticket"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(Y,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-emerald-500/5"}),s.jsxs(Q,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Conversion Rate"}),s.jsxs("p",{className:"text-3xl font-bold mt-1 text-emerald-600 dark:text-emerald-400",children:[(b==null?void 0:b.overall)||0,"%"]})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-emerald-500/10",children:s.jsx(Li,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[_," leads from ",U," interactions"]})]})]}),s.jsxs(Y,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-blue-500/5"}),s.jsxs(Q,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Leads"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:_})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-blue-500/10",children:s.jsx(dn,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Captured across all channels"})]})]}),s.jsxs(Y,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/10 to-violet-500/5"}),s.jsxs(Q,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Interactions"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:U})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-violet-500/10",children:s.jsx(Ft,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Chats, calls & messages"})]})]}),s.jsxs(Y,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-amber-500/5"}),s.jsxs(Q,{className:"p-4 relative",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Open Tickets"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:B.length})]}),s.jsx("div",{className:"p-2.5 rounded-full bg-amber-500/10",children:s.jsx(ei,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[p.length," total tickets"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Y,{className:"lg:col-span-2",children:[s.jsxs(se,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-base font-semibold",children:"Recent Leads"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Latest contacts captured by your AI agents"})]}),v.length>0&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/leads"),className:"text-xs",children:["View All ",s.jsx(Qu,{className:"h-3 w-3 ml-1"})]})]}),s.jsx(Q,{children:v.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-muted/50 mb-3",children:s.jsx(dn,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("p",{className:"text-sm font-medium",children:"No leads captured yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leads will appear here as your AI agents capture contact information"})]}):s.jsx("div",{className:"space-y-3",children:v.map($=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center text-sm font-semibold text-primary",children:($.name||"U").charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:$.name||"Unknown"}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:[$.email&&s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx(Ns,{className:"h-3 w-3"}),$.email]}),$.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),$.phone_number]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ce,{variant:"secondary",className:"text-xs capitalize flex items-center gap-1",children:[E($.source_type),$.source_type]})})]},$.id))})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-base font-semibold",children:"Support Tickets"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Your recent requests"})]}),p.length>0&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/support-tickets"),className:"text-xs",children:["View All ",s.jsx(Qu,{className:"h-3 w-3 ml-1"})]})]}),s.jsx(Q,{children:p.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-muted/50 mb-3",children:s.jsx(ei,{className:"h-6 w-6 text-muted-foreground"})}),s.jsx("p",{className:"text-sm font-medium",children:"No tickets yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 mb-3",children:"Need help? Create a support ticket"})]}):s.jsx("div",{className:"space-y-2",children:p.slice(0,4).map($=>s.jsxs("div",{onClick:()=>t("/customer-dashboard/support-tickets"),className:"p-3 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors border border-transparent hover:border-border",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate flex-1",children:$.subject}),s.jsx(Ce,{className:`text-[10px] shrink-0 ${T($.status)}`,children:$.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Updated ",at(new Date($.updated_at),"MMM d, h:mm a")]})]},$.id))})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Your AI Agents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(it,{className:"h-4 w-4 text-primary"})}),s.jsx(ae,{className:"text-sm font-semibold",children:"Chatbots"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/conversations"),className:"text-xs h-7 px-2",children:s.jsx(Qu,{className:"h-3 w-3"})})]})}),s.jsx(Q,{children:n.length===0?s.jsx(Id,{type:"chatbot",compact:!0}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(c==null?void 0:c.total_conversations)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsxs("p",{className:"text-lg font-semibold",children:[(b==null?void 0:b.chatbot)||0,"%"]}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Conversion"})]})]}),s.jsx("div",{className:"space-y-1.5 pt-1",children:n.slice(0,3).map($=>s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:$.theme_color||"hsl(var(--primary))"}}),s.jsx("span",{className:"text-xs font-medium truncate",children:$.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:$.conversation_count})]},$.id))})]})})]}),s.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10",children:s.jsx(Ot,{className:"h-4 w-4 text-violet-500"})}),s.jsx(ae,{className:"text-sm font-semibold",children:"Voice Assistants"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/voice-assistants"),className:"text-xs h-7 px-2",children:s.jsx(Qu,{className:"h-3 w-3"})})]})}),s.jsx(Q,{children:a.length===0?s.jsx(Id,{type:"voice",compact:!0}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(d==null?void 0:d.total_calls)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:A((d==null?void 0:d.avg_duration)||0)}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Avg Duration"})]})]}),s.jsx("div",{className:"space-y-1.5 pt-1",children:a.slice(0,3).map($=>s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded hover:bg-muted/50 transition-colors",children:[s.jsx("span",{className:"text-xs font-medium truncate",children:$.voice_assistants.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[$.call_count," calls"]})]},$.id))})]})})]}),s.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[s.jsx(se,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(Ft,{className:"h-4 w-4 text-green-500"})}),s.jsx(ae,{className:"text-sm font-semibold",children:"WhatsApp Agents"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/whatsapp-agents"),className:"text-xs h-7 px-2",children:s.jsx(Qu,{className:"h-3 w-3"})})]})}),s.jsx(Q,{children:o.length===0?s.jsx(Id,{type:"whatsapp",compact:!0}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(f==null?void 0:f.total_conversations)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-2.5 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:(f==null?void 0:f.total_messages)||0}),s.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Messages"})]})]}),s.jsx("div",{className:"space-y-1.5 pt-1",children:o.slice(0,3).map($=>s.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 rounded hover:bg-muted/50 transition-colors",children:[s.jsx("span",{className:"text-xs font-medium truncate",children:$.whatsapp_agents.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[$.conversation_count," chats"]})]},$.id))})]})})]})]})]})]})}const T8e=({onConversationSelect:e})=>{const{customer:t}=Cs(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState("all"),[c,u]=y.useState(""),[d,h]=y.useState(!0),f=async()=>{if(!t)return;const{data:v,error:x}=await G.from("customer_chatbot_assignments").select(`
        chatbot_id,
        chatbots (
          id,
          name
        )
      `).eq("customer_id",t.id);if(x){ve.error("Failed to fetch chatbots");return}const b=(v==null?void 0:v.map(w=>({id:w.chatbots.id,name:w.chatbots.name})))||[];i(b)},m=async()=>{if(!t)return;h(!0);const{data:v}=await G.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",t.id),x=(v==null?void 0:v.map(C=>C.chatbot_id))||[];if(x.length===0){r([]),h(!1);return}let b=G.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name
          )
        )
      `).in("conversations.chatbot_id",x).order("created_at",{ascending:!1});o!=="all"&&(b=b.eq("conversations.chatbot_id",o));const{data:w,error:_}=await b;if(_){console.error("Error fetching conversations:",_),ve.error("Failed to fetch conversations"),h(!1);return}const N=new Map;w==null||w.forEach(C=>{const k=C.conversation_id;N.has(k)||N.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),N.get(k).messages.push(C)});const S=[];N.forEach((C,k)=>{const A=C.messages.sort((T,E)=>new Date(E.created_at).getTime()-new Date(T.created_at).getTime());if(A.length>0){const T=A[0],E={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:T.content,last_message_time:T.created_at,message_count:A.length,last_sender:T.role};(!c||E.last_message.toLowerCase().includes(c.toLowerCase())||E.chatbot_name.toLowerCase().includes(c.toLowerCase()))&&S.push(E)}}),S.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),r(S),h(!1)};y.useEffect(()=>{f()},[t]),y.useEffect(()=>{m()},[t,o,c]);const p=v=>{const x=new Date(v),w=new Date().getTime()-x.getTime(),_=Math.floor(w/(1e3*60*60*24));return _===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):_===1?"Yesterday":_<7?x.toLocaleDateString([],{weekday:"short"}):x.toLocaleDateString([],{month:"short",day:"numeric"})},g=(v,x=60)=>v.length>x?v.substring(0,x)+"...":v;return s.jsx("div",{className:"space-y-4",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs(Be,{value:o,onValueChange:l,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Filter by chatbot"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Chatbots"}),a.map(v=>s.jsx(ie,{value:v.id,children:v.name},v.id))]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search conversations...",value:c,onChange:v=>u(v.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto px-4",children:d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading conversations..."})}):n.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})}):s.jsx("div",{className:"space-y-3",children:n.map(v=>s.jsx(Y,{className:"cursor-pointer hover:bg-accent/50 transition-colors border-l-4 border-l-primary",onClick:()=>e(v.id),children:s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("h4",{className:"font-semibold text-sm truncate",children:v.chatbot_name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:[v.last_sender==="user"?" ":" ",g(v.last_message,100)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:p(v.last_message_time)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium",children:[s.jsx(un,{className:"h-3 w-3"}),v.message_count]})})]})})},v.id))})})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to view conversations."})})})},O8e=({conversationId:e,onBack:t})=>{const{customer:n}=Cs(),[r,a]=y.useState([]),[i,o]=y.useState(null),[l,c]=y.useState(!0),u=y.useRef(null),d=()=>{var p;(p=u.current)==null||p.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:p}=await G.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",n.id),g=(p==null?void 0:p.map(_=>_.chatbot_id))||[];if(g.length===0){c(!1);return}const{data:v,error:x}=await G.from("conversations").select(`
        id,
        created_at,
        chatbot_id,
        summary,
        key_points,
        action_items,
        sentiment,
        sentiment_notes,
        conversation_outcome,
        topics_discussed,
        lead_info,
        chatbots!inner(
          name
        )
      `).eq("id",e).in("chatbot_id",g).single();if(x||!v){console.error("Error fetching conversation:",x),ve.error("Failed to fetch conversation"),c(!1);return}const{data:b,error:w}=await G.from("messages").select(`
        id,
        content,
        role,
        created_at
      `).eq("conversation_id",e).order("created_at",{ascending:!0});if(w){console.error("Error fetching messages:",w),ve.error("Failed to fetch messages"),c(!1);return}b&&b.length>0&&a(b.map(_=>({id:_.id,content:_.content,role:_.role,created_at:_.created_at}))),o({id:e,chatbot_name:v.chatbots.name,created_at:v.created_at,summary:v.summary,key_points:v.key_points,action_items:v.action_items,sentiment:v.sentiment,sentiment_notes:v.sentiment_notes,conversation_outcome:v.conversation_outcome,topics_discussed:v.topics_discussed,lead_info:v.lead_info}),c(!1)};y.useEffect(()=>{h()},[e,n]),y.useEffect(()=>{d()},[r]);const f=p=>new Date(p).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=p=>new Date(p).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(un,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})}),i.summary&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"AI Analysis"})]}),s.jsxs("div",{className:"flex gap-1.5",children:[i.sentiment&&s.jsx(Ce,{variant:i.sentiment==="positive"?"default":i.sentiment==="negative"?"destructive":"secondary",className:"text-xs px-2 py-0",children:i.sentiment}),i.conversation_outcome&&s.jsx(Ce,{variant:"outline",className:"text-xs px-2 py-0",children:i.conversation_outcome.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"p-3 space-y-2.5",children:[s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary}),i.topics_discussed&&i.topics_discussed.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.topics_discussed.slice(0,4).map((p,g)=>s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded-full text-muted-foreground",children:p},g)),i.topics_discussed.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",i.topics_discussed.length-4," more"]})]}),(i.key_points&&i.key_points.length>0||i.action_items&&i.action_items.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[i.key_points&&i.key_points.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key Points"}),s.jsx("ul",{className:"text-xs space-y-0.5",children:i.key_points.slice(0,3).map((p,g)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"line-clamp-1",children:p})]},g))})]}),i.action_items&&i.action_items.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Actions"}),s.jsx("ul",{className:"text-xs space-y-0.5",children:i.action_items.slice(0,3).map((p,g)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx(ar,{className:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:p})]},g))})]})]}),i.lead_info&&(i.lead_info.name||i.lead_info.email||i.lead_info.phone)&&s.jsxs("div",{className:"flex items-center gap-3 pt-1 text-xs border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Lead:"}),i.lead_info.name&&s.jsx("span",{className:"font-medium",children:i.lead_info.name}),i.lead_info.email&&s.jsx("span",{className:"text-muted-foreground",children:i.lead_info.email}),i.lead_info.phone&&s.jsx("span",{className:"text-muted-foreground",children:i.lead_info.phone})]})]})]}),s.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:[r.map(p=>s.jsxs("div",{className:`flex gap-3 ${p.role==="user"?"justify-end":"justify-start"}`,children:[p.role==="assistant"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(it,{className:"h-4 w-4 text-primary"})})}),s.jsxs("div",{className:`max-w-[75%] rounded-lg p-3 ${p.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:p.content}),s.jsx("p",{className:`text-xs mt-1 ${p.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(p.created_at)})]}),p.role==="user"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:s.jsx(Yn,{className:"h-4 w-4 text-primary-foreground"})})})]},p.id)),s.jsx("div",{ref:u})]})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})};function M8e(){const{customer:e}=Cs(),[t,n]=y.useState(null),[r,a]=y.useState([]),[i,o]=y.useState(!0);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:d,error:h}=await G.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name
          )
        `).eq("customer_id",e.id);if(h)throw h;if(((d==null?void 0:d.map(g=>g.chatbot_id))||[]).length===0){o(!1);return}const m=d.map(async g=>{const v=g.chatbot_id,x=g.chatbots.name,{data:b}=await G.from("conversations").select("id").eq("chatbot_id",v),w=(b==null?void 0:b.length)||0,{data:_}=await G.from("messages").select("id, conversation_id").in("conversation_id",(b==null?void 0:b.map(S=>S.id))||[]),N=(_==null?void 0:_.length)||0;return{id:v,name:x,totalConversations:w,totalMessages:N,avgMessagesPerConversation:w>0?Math.round(N/w):0}}),p=await Promise.all(m);a(p)}catch(d){console.error("Error fetching chatbot stats:",d),ve.error("Failed to load chatbot analytics")}finally{o(!1)}},c=d=>{n(d)},u=()=>{n(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all conversations from your chatbots"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i?s.jsx(Y,{className:"col-span-full",children:s.jsx(Q,{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading analytics..."})})}):r.length===0?s.jsx("div",{className:"col-span-full",children:s.jsx(Id,{type:"chatbot"})}):r.map(d=>s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:d.name}),s.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(un,{className:"h-4 w-4"}),"Conversations"]}),s.jsx("div",{className:"text-2xl font-bold",children:d.totalConversations})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(oh,{className:"h-4 w-4"}),"Total Messages"]}),s.jsx("div",{className:"text-lg font-semibold",children:d.totalMessages})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Li,{className:"h-4 w-4"}),"Avg per Conv."]}),s.jsx("div",{className:"text-lg font-semibold",children:d.avgMessagesPerConversation})]})]})})]},d.id))}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Recent Conversations"}),s.jsx(je,{children:"Click on a conversation to view details"})]}),s.jsx(Q,{className:"p-0",children:s.jsx(T8e,{onConversationSelect:c})})]}),s.jsx(Wg,{open:!!t,onOpenChange:u,children:s.jsxs(lf,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Hg,{children:[s.jsx(Gg,{children:"Conversation Details"}),s.jsx(Yg,{children:"View the complete conversation history"})]}),t&&s.jsx(O8e,{conversationId:t,onBack:u})]})})]})}function D8e(){const{customer:e}=Cs(),{toast:t}=bn(),[n,r]=y.useState(!0),[a,i]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState([]),[f,m]=y.useState(!1),[p,g]=y.useState(!1),[v,x]=y.useState(null),[b,w]=y.useState("");y.useEffect(()=>{e&&S()},[e]),y.useEffect(()=>{if(!e)return;const A=G.channel("voice-calls-changes").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls",filter:`customer_id=eq.${e.id}`},E=>{console.log("Call log changed:",E),S()}).subscribe(),T=G.channel("voice-transcripts-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"voice_assistant_transcripts"},E=>{console.log("New transcript:",E),v&&E.new.call_id===v.id&&C(v.id)}).subscribe();return()=>{G.removeChannel(A),G.removeChannel(T)}},[e,v]);const _=async()=>{try{const A=await ILe();console.log("VAPI sync result:",A)}catch(A){console.log("VAPI sync error:",A)}await N()},N=async()=>{try{const{data:A,error:T}=await G.from("customer_assistant_assignments").select("assistant_id").eq("customer_id",e.id);if(T)throw T;if(!A||A.length===0)return l([]),u([]),r(!1),i(!1),[];const E=A.map(H=>H.assistant_id),{data:B,error:U}=await G.from("voice_assistants").select("*").in("id",E);if(U)throw U;const{data:$,error:F}=await G.from("voice_assistant_calls").select("*, summary, key_points, action_items, sentiment, sentiment_notes, call_outcome, topics_discussed, lead_info").in("assistant_id",E).order("started_at",{ascending:!1});if(F)throw F;const M=$||[],R=M.map(H=>H.id),{data:D}=R.length>0?await G.from("voice_assistant_recordings").select("call_id, recording_url").in("call_id",R):{data:[]},L=new Map((D==null?void 0:D.map(H=>[H.call_id,H.recording_url]))||[]),I=(B||[]).map(H=>{const j=M.filter(W=>W.assistant_id===H.id),P=j.filter(W=>W.duration_seconds!=null&&W.duration_seconds>0),O=P.reduce((W,Z)=>W+(Z.duration_seconds||0),0),V=j.filter(W=>W.status==="completed"||W.ended_at!=null).length;return{id:H.id,name:H.name||"Unnamed Assistant",first_message:H.first_message||"",totalCalls:j.length,completedCalls:V,totalDuration:O,avgDuration:P.length>0?Math.round(O/P.length):0}}),z=M.map(H=>{const j=(B||[]).find(P=>P.id===H.assistant_id);return{...H,assistant_name:(j==null?void 0:j.name)||"Unknown",assistant_id:H.assistant_id,recording_url:L.get(H.id)}});return l(I),u(z),r(!1),i(!1),E}catch(A){return console.error("Error loading cached data:",A),r(!1),i(!1),[]}},S=async()=>{if(!a)try{i(!0),(await N()).length>0&&_()}catch(A){console.error("Error fetching data:",A),t({title:"Error",description:"Failed to load voice assistants",variant:"destructive"}),r(!1),i(!1)}},C=async A=>{m(!0);try{const{data:T,error:E}=await G.from("voice_assistant_transcripts").select("*").eq("call_id",A).order("timestamp",{ascending:!0});if(E)throw E;h(T||[])}catch(T){console.error("Error loading transcript:",T),t({title:"Error",description:"Failed to load transcript",variant:"destructive"})}finally{m(!1)}},k=A=>{const T=Math.floor(A/60),E=A%60;return`${T}m ${E}s`};return n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.length===0?s.jsx(Id,{type:"voice"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Voice Assistants"}),s.jsx("p",{className:"text-muted-foreground",children:"View analytics, call history, and transcripts for your voice assistants"})]}),a&&s.jsx(Ce,{variant:"secondary",className:"animate-pulse",children:"Updating..."})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Calls"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((A,T)=>A+T.totalCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all assistants"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Completed Calls"}),s.jsx(Ot,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((A,T)=>A+T.completedCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully completed"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Duration"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:k(o.reduce((A,T)=>A+T.totalDuration,0))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined talk time"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Avg Call Duration"}),s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(()=>{const A=o.reduce((E,B)=>E+B.totalDuration,0),T=o.reduce((E,B)=>E+B.completedCalls,0);return T>0?k(Math.round(A/T)):"0m 0s"})()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per completed call"})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Your Voice Assistants"}),s.jsx(je,{children:"Overview of your assigned assistants and their performance"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:o.map(A=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:A.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:A.first_message})]}),s.jsxs("div",{className:"flex gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:A.totalCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:k(A.totalDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Duration"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:k(A.avgDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"})]})]})]},A.id))})})]}),s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Call History"}),s.jsx(je,{children:"Complete history of all voice assistant calls"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by phone number...",value:b,onChange:A=>w(A.target.value),className:"pl-9"})]})]})}),s.jsx(Q,{children:(()=>{const A=c.filter(T=>!b||T.phone_number&&T.phone_number.toLowerCase().includes(b.toLowerCase()));return A.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:b?"No calls match your search":"No calls recorded yet"}):s.jsx(Na,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:A.map(T=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{x(T),C(T.id),g(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:T.assistant_name}),s.jsx(Ce,{variant:T.status==="completed"?"default":"secondary",children:T.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(T.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-3 w-3"}),at(new Date(T.started_at),"h:mm a")]}),s.jsxs("span",{children:["Duration: ",T.duration_seconds!=null&&T.ended_at?k(T.duration_seconds):"N/A"]}),T.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),T.phone_number]})]})]})},T.id))})})})()})]}),s.jsx(Wg,{open:p,onOpenChange:g,children:s.jsxs(lf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Hg,{children:[s.jsx(Gg,{children:"Call Details"}),s.jsx(Yg,{children:v&&s.jsxs("div",{className:"text-sm space-y-1 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(v.started_at),"MMM d, yyyy")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-3 w-3"}),at(new Date(v.started_at),"h:mm a")]}),v.phone_number&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-3 w-3"}),v.phone_number]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-3 w-3"}),"Duration: ",v.duration_seconds!=null&&v.ended_at?k(v.duration_seconds):"N/A"]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(v==null?void 0:v.summary)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-2.5 bg-muted/50 rounded-md",children:s.jsx("p",{className:"text-xs leading-relaxed",children:v.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[v.sentiment&&s.jsxs(Ce,{variant:v.sentiment==="positive"?"default":v.sentiment==="negative"?"destructive":"secondary",className:"text-xs py-0",children:[v.sentiment==="positive"&&s.jsx(ar,{className:"h-2.5 w-2.5 mr-1"}),v.sentiment==="negative"&&s.jsx(Xa,{className:"h-2.5 w-2.5 mr-1"}),v.sentiment.charAt(0).toUpperCase()+v.sentiment.slice(1)]}),v.call_outcome&&s.jsxs(Ce,{variant:"outline",className:"text-xs py-0",children:[s.jsx(V2,{className:"h-2.5 w-2.5 mr-1"}),v.call_outcome.replace(/_/g," ").replace(/\b\w/g,A=>A.toUpperCase())]})]}),v.sentiment_notes&&s.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.sentiment_notes}),v.key_points&&v.key_points.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(un,{className:"h-2.5 w-2.5"}),"Key Points"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:v.key_points.map((A,T)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-primary mt-0.5",children:""}),s.jsx("span",{children:A})]},T))})]}),v.action_items&&v.action_items.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(ar,{className:"h-2.5 w-2.5"}),"Action Items"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:v.action_items.map((A,T)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:A})]},T))})]}),v.topics_discussed&&v.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Topics"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.topics_discussed.map((A,T)=>s.jsx(Ce,{variant:"secondary",className:"text-[10px] py-0 px-1.5",children:A},T))})]}),v.lead_info&&(v.lead_info.name||v.lead_info.email||v.lead_info.phone)&&s.jsxs("div",{className:"space-y-1 p-2 border rounded-md",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[v.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",v.lead_info.name]}),v.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",v.lead_info.email]}),v.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",v.lead_info.phone]}),v.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",v.lead_info.company]}),v.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(Ce,{variant:"outline",className:"text-[10px] py-0",children:v.lead_info.interest_level})]})]}),v.lead_info.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v.lead_info.notes})]})]}),(v==null?void 0:v.recording_url)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e8,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Recording"})]}),s.jsxs("audio",{controls:!0,className:"w-full",autoPlay:!0,children:[s.jsx("source",{src:v.recording_url,type:"audio/wav"}),"Your browser does not support the audio element."]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this call"}):s.jsx("div",{className:"space-y-4",children:d.map(A=>s.jsx("div",{className:`flex gap-3 ${A.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${A.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:A.role==="assistant"?"Assistant":"User"}),s.jsx("p",{className:"text-sm",children:A.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:at(new Date(A.timestamp),"h:mm:ss a")})]})},A.id))})]})]})]})})]})}function I8e(){var A;const{customer:e}=Cs(),{toast:t}=bn(),[n,r]=y.useState(!0),[a,i]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState(!1),[f,m]=y.useState(null),[p,g]=y.useState(null),[v,x]=y.useState(!1),[b,w]=y.useState("");y.useEffect(()=>{e&&S()},[e]);const _=async()=>{try{i(!0);const T=await DLe();console.log("WhatsApp sync result:",T),await N()}catch(T){console.log("WhatsApp sync error:",T)}finally{i(!1)}},N=async()=>{try{const{data:T,error:E}=await G.from("customer_whatsapp_agent_assignments").select("agent_id").eq("customer_id",e==null?void 0:e.id);if(E)throw E;if(!T||T.length===0)return r(!1),!1;const B=T.map(L=>L.agent_id),{data:U,error:$}=await G.from("whatsapp_agents").select("*").in("id",B);if($)throw $;const{data:F,error:M}=await G.from("whatsapp_conversations").select("*").in("agent_id",B).order("started_at",{ascending:!1});if(M)throw M;const R=(U||[]).map(L=>{const I=(F||[]).filter(z=>z.agent_id===L.id);return{id:L.id,name:L.name||"Unnamed Agent",phone_number:L.phone_number,totalConversations:I.length}});l(R);const D=(F||[]).map(L=>{const I=U==null?void 0:U.find(z=>z.id===L.agent_id);return{conversation_id:L.id,agent_id:L.agent_id,agent_name:(I==null?void 0:I.name)||"Unknown",status:L.status||"unknown",start_time:new Date(L.started_at).getTime()/1e3,end_time:L.ended_at?new Date(L.ended_at).getTime()/1e3:void 0,duration_seconds:L.ended_at?Math.floor((new Date(L.ended_at).getTime()-new Date(L.started_at).getTime())/1e3):void 0,summary:L.summary,sentiment:L.sentiment,sentiment_notes:L.sentiment_notes,phone_number:L.phone_number,key_points:L.key_points,action_items:L.action_items,conversation_outcome:L.conversation_outcome,topics_discussed:L.topics_discussed,lead_info:L.lead_info}});return u(D),r(!1),B.length>0}catch(T){return console.error("Error loading cached data:",T),r(!1),!1}},S=async()=>{try{await N()&&_()}catch(T){console.error("Error fetching data:",T),t({title:"Error",description:"Failed to load WhatsApp agent data",variant:"destructive"}),r(!1)}},C=async T=>{x(!0);try{const{data:E,error:B}=await G.from("whatsapp_messages").select("*").eq("conversation_id",T).order("timestamp",{ascending:!0});if(B)throw B;g({messages:E||[]})}catch(E){console.error("Error loading conversation details:",E),t({title:"Error",description:"Failed to load conversation details",variant:"destructive"})}finally{x(!1)}},k=T=>{const E=Math.floor(T/60),B=T%60;return`${E}m ${B}s`};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Fs,{className:"h-10 w-64"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Fs,{className:"h-32"}),s.jsx(Fs,{className:"h-32"}),s.jsx(Fs,{className:"h-32"})]}),s.jsx(Fs,{className:"h-96"})]}):o.length===0?s.jsx(Id,{type:"whatsapp"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"View conversations and transcripts from your WhatsApp agents"})]}),a&&s.jsx(Ce,{variant:"secondary",className:"animate-pulse",children:"Updating..."})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((T,E)=>T+E.totalConversations,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all agents"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assigned to you"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Recent Activity"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.filter(T=>{const E=Date.now()/1e3-86400;return T.start_time>E}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations in last 24h"})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Your WhatsApp Agents"}),s.jsx(je,{children:"Overview of your assigned agents"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:o.map(T=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-500/10",children:s.jsx(Ft,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:T.name}),T.phone_number&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),T.phone_number]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:T.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]})]},T.id))})})]}),s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Conversation History"}),s.jsx(je,{children:"Complete history of all WhatsApp conversations"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by phone number...",value:b,onChange:T=>w(T.target.value),className:"pl-9"})]})]})}),s.jsx(Q,{children:(()=>{const T=c.filter(E=>!b||E.phone_number&&E.phone_number.toLowerCase().includes(b.toLowerCase()));return T.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:b?"No conversations match your search":"No conversations yet"}):s.jsx(Na,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:T.map(E=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{m(E),C(E.conversation_id),h(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:E.agent_name}),s.jsx(Ce,{variant:E.status==="done"||E.status==="completed"?"default":"secondary",children:E.status}),E.sentiment&&s.jsx(Ce,{variant:"outline",children:E.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[E.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),E.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(E.start_time*1e3),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-3 w-3"}),at(new Date(E.start_time*1e3),"h:mm a")]}),E.duration_seconds&&s.jsxs("span",{children:["Duration: ",k(E.duration_seconds)]})]}),E.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:E.summary})]})},E.conversation_id))})})})()})]}),s.jsx(Wg,{open:d,onOpenChange:h,children:s.jsxs(lf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Hg,{children:[s.jsx(Gg,{children:"Conversation Details"}),s.jsx(Yg,{children:f&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[f.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium",children:["+",f.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-3 w-3"}),f.agent_name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(f.start_time*1e3),"MMM d, yyyy h:mm a")]}),f.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-3 w-3"}),"Duration: ",k(f.duration_seconds)]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(f==null?void 0:f.summary)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-2.5 bg-muted/50 rounded-md",children:s.jsx("p",{className:"text-xs leading-relaxed",children:f.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[f.sentiment&&s.jsxs(Ce,{variant:f.sentiment==="positive"?"default":f.sentiment==="negative"?"destructive":"secondary",className:"text-xs py-0",children:[f.sentiment==="positive"&&s.jsx(ar,{className:"h-2.5 w-2.5 mr-1"}),f.sentiment==="negative"&&s.jsx(Xa,{className:"h-2.5 w-2.5 mr-1"}),f.sentiment.charAt(0).toUpperCase()+f.sentiment.slice(1)]}),f.conversation_outcome&&s.jsxs(Ce,{variant:"outline",className:"text-xs py-0",children:[s.jsx(V2,{className:"h-2.5 w-2.5 mr-1"}),f.conversation_outcome.replace(/_/g," ").replace(/\b\w/g,T=>T.toUpperCase())]})]}),f.sentiment_notes&&s.jsx("p",{className:"text-xs text-muted-foreground italic",children:f.sentiment_notes}),f.key_points&&f.key_points.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(un,{className:"h-2.5 w-2.5"}),"Key Points"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:f.key_points.map((T,E)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-primary mt-0.5",children:""}),s.jsx("span",{children:T})]},E))})]}),f.action_items&&f.action_items.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h4",{className:"text-xs font-medium flex items-center gap-1.5",children:[s.jsx(ar,{className:"h-2.5 w-2.5"}),"Action Items"]}),s.jsx("ul",{className:"space-y-0.5 text-xs",children:f.action_items.map((T,E)=>s.jsxs("li",{className:"flex items-start gap-1.5",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:T})]},E))})]}),f.topics_discussed&&f.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Topics"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:f.topics_discussed.map((T,E)=>s.jsx(Ce,{variant:"secondary",className:"text-[10px] py-0 px-1.5",children:T},E))})]}),f.lead_info&&(f.lead_info.name||f.lead_info.email||f.lead_info.phone)&&s.jsxs("div",{className:"space-y-1 p-2 border rounded-md",children:[s.jsx("h4",{className:"text-xs font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[f.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",f.lead_info.name]}),f.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",f.lead_info.email]}),f.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",f.lead_info.phone]}),f.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",f.lead_info.company]}),f.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(Ce,{variant:"outline",className:"text-[10px] py-0",children:f.lead_info.interest_level})]})]}),f.lead_info.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.lead_info.notes})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),v?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(A=p==null?void 0:p.messages)!=null&&A.length?s.jsx("div",{className:"space-y-4",children:p.messages.map((T,E)=>s.jsx("div",{className:`flex gap-3 ${T.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${T.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:T.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:T.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:at(new Date(T.timestamp),"h:mm:ss a")})]})},E))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"})]})]})]})})]})}const bj=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:xe("w-full caption-bottom text-sm",e),...t})}));bj.displayName="Table";const wj=y.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:xe("[&_tr]:border-b",e),...t}));wj.displayName="TableHeader";const jj=y.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:xe("[&_tr:last-child]:border-0",e),...t}));jj.displayName="TableBody";const R8e=y.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));R8e.displayName="TableFooter";const pu=y.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pu.displayName="TableRow";const Dr=y.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Dr.displayName="TableHead";const Ir=y.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ir.displayName="TableCell";const $8e=y.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));$8e.displayName="TableCaption";function L8e(){const{customer:e}=Cs(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{e&&u()},[e]);const u=async()=>{if(e)try{console.log("Fetching customer forms for customer:",e.id);const{data:p,error:g}=await G.from("chatbot_forms").select(`
          id,
          form_name,
          form_title,
          form_description,
          fields,
          terms_and_conditions,
          require_terms_acceptance,
          chatbots!inner (
            id,
            name,
            customer_chatbot_assignments!inner (
              customer_id
            )
          )
        `).eq("chatbots.customer_chatbot_assignments.customer_id",e.id).eq("is_active",!0);if(console.log("Forms data:",p,g),g)throw g;const v=await Promise.all((p||[]).map(async x=>{const{count:b}=await G.from("form_submissions").select("*",{count:"exact",head:!0}).eq("form_id",x.id);return{id:x.id,form_name:x.form_name,form_title:x.form_title,form_description:x.form_description,fields:x.fields,terms_and_conditions:x.terms_and_conditions,require_terms_acceptance:x.require_terms_acceptance||!1,chatbot_name:x.chatbots.name,submission_count:b||0}}));n(v)}catch(p){console.error("Error fetching customer forms:",p)}finally{o(!1)}},d=async p=>{try{const{data:g,error:v}=await G.from("form_submissions").select("*").eq("form_id",p).order("submitted_at",{ascending:!1});if(v)throw v;a(g||[])}catch(g){console.error("Error fetching form submissions:",g)}},h=p=>{c(p),d(p.id)},f=(p,g)=>{const x=(Array.isArray(g.fields)?g.fields:[]).find(b=>b.id===p);return(x==null?void 0:x.label)||p},m=(p,g)=>g?g.toString():"N/A";return i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading forms..."})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Forms Found"}),s.jsx("p",{className:"text-muted-foreground",children:"No forms have been created for your assigned chatbots yet."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View forms from your assigned chatbots and their submissions"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>s.jsxs(Y,{className:"hover:shadow-md transition-shadow",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ae,{className:"text-lg",children:p.form_title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",p.chatbot_name]})]}),s.jsxs(Ce,{variant:"secondary",children:[p.submission_count," submissions"]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:p.form_description||"No description provided"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsxs("span",{children:[Array.isArray(p.fields)?p.fields.length:0," fields"]})]}),p.require_terms_acceptance&&s.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Terms Required"})]}),p.require_terms_acceptance&&p.terms_and_conditions&&s.jsxs("div",{className:"p-2 bg-muted rounded text-xs",children:[s.jsx("strong",{children:"Terms:"})," ",p.terms_and_conditions.slice(0,100),p.terms_and_conditions.length>100&&"..."]}),s.jsxs(dr,{children:[s.jsx(Pu,{asChild:!0,children:s.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",onClick:()=>h(p),children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"View Submissions"]})}),s.jsxs(Kn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Jn,{children:s.jsxs(Xn,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),p.form_title," - Submissions"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No submissions yet"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total submissions: ",r.length]}),s.jsxs(bj,{children:[s.jsx(wj,{children:s.jsxs(pu,{children:[s.jsx(Dr,{children:"Submitted At"}),s.jsx(Dr,{children:"Visitor ID"}),s.jsx(Dr,{children:"Status"}),s.jsx(Dr,{children:"Data"})]})}),s.jsx(jj,{children:r.map(g=>{var v;return s.jsxs(pu,{children:[s.jsx(Ir,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),at(new Date(g.submitted_at),"MMM dd, yyyy HH:mm")]})}),s.jsx(Ir,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),((v=g.visitor_id)==null?void 0:v.slice(0,8))||"Anonymous"]})}),s.jsx(Ir,{children:s.jsx(Ce,{variant:g.status==="submitted"?"default":"secondary",children:g.status})}),s.jsx(Ir,{children:s.jsx("div",{className:"space-y-1 max-w-md",children:g.submitted_data&&typeof g.submitted_data=="object"&&Object.entries(g.submitted_data).map(([x,b])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[l?f(x,l):x,":"]}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:m(null,b)})]},x))})})]},g.id)})})]})]})]})]})]})})]},p.id))})]})}function F8e(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Fn,{className:"h-8 w-8"}),"Forms & Submissions"]}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbots"})]}),s.jsx(L8e,{})]})}function B8e(){const{customer:e}=Cs(),[t,n]=y.useState(null),[r,a]=y.useState(!0),[i,o]=y.useState("overview");y.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:u,error:d}=await G.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name,
            theme_color
          )
        `).eq("customer_id",e.id);if(d)throw d;const h=(u==null?void 0:u.map(R=>R.chatbot_id))||[];let f=[],m=[];if(h.length>0){const{data:R,error:D}=await G.from("conversations").select("id, chatbot_id, created_at").in("chatbot_id",h);if(D)throw D;f=R||[];const{data:L,error:I}=await G.from("messages").select(`
            id, 
            conversation_id, 
            created_at,
            conversations!inner(chatbot_id)
          `).in("conversations.chatbot_id",h);if(I)throw I;m=L||[]}const p=(u==null?void 0:u.map(R=>{const D=R.chatbots,L=f.filter(z=>z.chatbot_id===D.id).length,I=m.filter(z=>{var H;return((H=z.conversations)==null?void 0:H.chatbot_id)===D.id}).length;return{id:D.id,name:D.name,conversations:L,messages:I,theme_color:D.theme_color}}))||[],{data:g,error:v}=await G.from("customer_assistant_assignments").select(`
          assistant_id,
          voice_assistants (
            id,
            name,
            phone_number
          )
        `).eq("customer_id",e.id);if(v)throw v;const x=(g==null?void 0:g.map(R=>R.assistant_id).filter(Boolean))||[];let b=[];if(x.length>0){const{data:R,error:D}=await G.from("voice_assistant_calls").select("id, assistant_id, duration_seconds, status, started_at").in("assistant_id",x);if(D)throw D;b=R||[]}const w=(g==null?void 0:g.map(R=>{const D=R.voice_assistants,L=b.filter(H=>H.assistant_id===R.assistant_id),z=L.filter(H=>H.duration_seconds!=null&&H.duration_seconds>0).reduce((H,j)=>H+(j.duration_seconds||0),0);return{id:D.id,name:D.name||"Unnamed Assistant",total_calls:L.length,total_duration:z,phone_number:D.phone_number}}))||[],{data:_,error:N}=await G.from("customer_whatsapp_agent_assignments").select(`
          agent_id,
          whatsapp_agents (
            id,
            name,
            phone_number
          )
        `).eq("customer_id",e.id);if(N)throw N;const S=(_==null?void 0:_.map(R=>R.agent_id))||[];let C=[],k=[];if(S.length>0){const{data:R,error:D}=await G.from("whatsapp_conversations").select("id, agent_id, started_at").in("agent_id",S);if(D)throw D;C=R||[];const L=C.map(I=>I.id);if(L.length>0){const{data:I,error:z}=await G.from("whatsapp_messages").select("id, conversation_id").in("conversation_id",L);if(z)throw z;k=I||[]}}const A=(_==null?void 0:_.map(R=>{const D=R.whatsapp_agents,L=C.filter(H=>H.agent_id===R.agent_id),I=L.map(H=>H.id),z=k.filter(H=>I.includes(H.conversation_id));return{id:D.id,name:D.name||"Unnamed Agent",conversations:L.length,messages:z.length,phone_number:D.phone_number}}))||[],T=f.length,E=m.length,B=b.length,$=b.filter(R=>R.duration_seconds!=null&&R.duration_seconds>0).reduce((R,D)=>R+(D.duration_seconds||0),0),F=C.length,M=k.length;n({total_chatbot_conversations:T,total_chatbot_messages:E,avg_chatbot_conversation_length:T>0?Math.round(E/T):0,chatbot_performance:p,total_voice_calls:B,total_voice_duration:$,voice_assistant_performance:w,total_whatsapp_conversations:F,total_whatsapp_messages:M,whatsapp_agent_performance:A,total_conversations:T+F,total_messages:E+M,total_interactions:T+B+F})}catch(u){console.error("Error fetching analytics:",u),ve.error("Failed to load analytics data")}finally{a(!1)}},c=u=>{const d=Math.floor(u/3600),h=Math.floor(u%3600/60);return d>0?`${d}h ${h}m`:`${h}m`};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((u,d)=>s.jsxs(Y,{children:[s.jsx(se,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(Q,{children:s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"})})]},d))}),s.jsx("div",{className:"h-64 bg-muted rounded animate-pulse"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(po,{className:"h-8 w-8"}),"Analytics"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights across all your connected agents"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Interactions"}),s.jsx(oh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_interactions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations + Calls across all agents"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(un,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_messages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbot + WhatsApp messages"})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Voice Calls"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_voice_calls}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c(t.total_voice_duration)," total duration"]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.chatbot_performance.length+t.voice_assistant_performance.length+t.whatsapp_agent_performance.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected agents"})]})]})]}),s.jsxs(kf,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(Eu,{className:"grid w-full grid-cols-4",children:[s.jsxs(Jt,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(po,{className:"h-4 w-4"}),"Overview"]}),s.jsxs(Jt,{value:"chatbots",className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4"}),"Chatbots"]}),s.jsxs(Jt,{value:"voice",className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Voice"]}),s.jsxs(Jt,{value:"whatsapp",className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-4 w-4"}),"WhatsApp"]})]}),s.jsxs(Xt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[s.jsx(it,{className:"h-5 w-5"}),"Chatbots"]})}),s.jsxs(Q,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agents"}),s.jsx("span",{className:"font-medium",children:t.chatbot_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{className:"font-medium",children:t.total_chatbot_conversations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{className:"font-medium",children:t.total_chatbot_messages})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Length"}),s.jsxs("span",{className:"font-medium",children:[t.avg_chatbot_conversation_length," msgs"]})]})]})]}),s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Voice Assistants"]})}),s.jsxs(Q,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:t.voice_assistant_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Calls"}),s.jsx("span",{className:"font-medium",children:t.total_voice_calls})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Duration"}),s.jsx("span",{className:"font-medium",children:c(t.total_voice_duration)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Call"}),s.jsx("span",{className:"font-medium",children:t.total_voice_calls>0?c(Math.round(t.total_voice_duration/t.total_voice_calls)):"0m"})]})]})]}),s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ft,{className:"h-5 w-5"}),"WhatsApp Agents"]})}),s.jsxs(Q,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agents"}),s.jsx("span",{className:"font-medium",children:t.whatsapp_agent_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{className:"font-medium",children:t.total_whatsapp_conversations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{className:"font-medium",children:t.total_whatsapp_messages})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Length"}),s.jsxs("span",{className:"font-medium",children:[t.total_whatsapp_conversations>0?Math.round(t.total_whatsapp_messages/t.total_whatsapp_conversations):0," msgs"]})]})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-5 w-5"}),"Top Performers"]}),s.jsx(je,{children:"Most active agents across all channels"})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[t.chatbot_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(it,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.chatbot_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active Chatbot"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.chatbot_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).conversations}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"conversations"})]})]}),t.voice_assistant_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ot,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.voice_assistant_performance.reduce((u,d)=>d.total_calls>u.total_calls?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active Voice Assistant"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.voice_assistant_performance.reduce((u,d)=>d.total_calls>u.total_calls?d:u).total_calls}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"calls"})]})]}),t.whatsapp_agent_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ft,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.whatsapp_agent_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active WhatsApp Agent"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.whatsapp_agent_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).conversations}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"conversations"})]})]}),t.chatbot_performance.length===0&&t.voice_assistant_performance.length===0&&t.whatsapp_agent_performance.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(po,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No agents connected yet"})]})]})})]})]}),s.jsx(Xt,{value:"chatbots",className:"space-y-6",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-5 w-5"}),"Chatbot Performance"]}),s.jsx(je,{children:"Detailed breakdown by individual chatbot"})]}),s.jsx(Q,{children:t.chatbot_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(it,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No chatbots connected"})]}):s.jsx("div",{className:"space-y-4",children:t.chatbot_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.theme_color||"#3b82f6"}}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.conversations," conversations  ",u.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.conversations>0?Math.round(u.messages/u.conversations):0," avg msgs"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"per conversation"})]})]},u.id))})})]})}),s.jsx(Xt,{value:"voice",className:"space-y-6",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Voice Assistant Performance"]}),s.jsx(je,{children:"Call statistics by voice assistant"})]}),s.jsx(Q,{children:t.voice_assistant_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No voice assistants connected"})]}):s.jsx("div",{className:"space-y-4",children:t.voice_assistant_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ot,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone_number||"No phone number"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.total_calls," calls"]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1",children:[s.jsx(Tt,{className:"h-3 w-3"}),c(u.total_duration)]})]})]},u.id))})})]})}),s.jsx(Xt,{value:"whatsapp",className:"space-y-6",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Ft,{className:"h-5 w-5"}),"WhatsApp Agent Performance"]}),s.jsx(je,{children:"Conversation statistics by WhatsApp agent"})]}),s.jsx(Q,{children:t.whatsapp_agent_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ft,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No WhatsApp agents connected"})]}):s.jsx("div",{className:"space-y-4",children:t.whatsapp_agent_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:s.jsx(Ft,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone_number||"No phone number"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.conversations," conversations"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[u.messages," messages"]})]})]},u.id))})})]})})]})]})]})}function U8e(){const{customer:e,updateProfile:t}=Cs(),{theme:n,setTheme:r}=Kg(),[a,i]=y.useState(!1),[o,l]=y.useState({full_name:(e==null?void 0:e.full_name)||"",company_name:(e==null?void 0:e.company_name)||""}),[c,u]=y.useState(!1),[d,h]=y.useState({newPassword:"",confirmPassword:""}),[f,m]=y.useState(!1),[p,g]=y.useState(!1),[v,x]=y.useState(!1),b=async()=>{if(d.newPassword.length<6){ve.error("Password must be at least 6 characters long");return}if(d.newPassword!==d.confirmPassword){ve.error("Passwords do not match");return}x(!0);try{const{error:S}=await G.auth.updateUser({password:d.newPassword});S?ve.error(S.message||"Failed to update password"):(ve.success("Password updated successfully"),u(!1),h({newPassword:"",confirmPassword:""}))}catch{ve.error("An unexpected error occurred")}finally{x(!1)}},w=()=>{u(!1),h({newPassword:"",confirmPassword:""}),m(!1),g(!1)},_=async S=>{i(!0);try{const{error:C}=await t({weekly_summary_enabled:S});C?ve.error("Failed to update notification settings"):ve.success("Notification settings updated successfully")}finally{i(!1)}},N=async()=>{i(!0);try{const{error:S}=await t(o);S?ve.error("Failed to update profile"):ve.success("Profile updated successfully")}finally{i(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(gs,{className:"h-8 w-8"}),"Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and notification settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(je,{children:"Update your personal information and company details"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"full_name",children:"Full Name"}),s.jsx(ue,{id:"full_name",value:o.full_name,onChange:S=>l(C=>({...C,full_name:S.target.value})),placeholder:"Enter your full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"company_name",children:"Company Name"}),s.jsx(ue,{id:"company_name",value:o.company_name,onChange:S=>l(C=>({...C,company_name:S.target.value})),placeholder:"Enter your company name"})]}),s.jsxs(ee,{onClick:N,disabled:a,className:"w-full",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Profile"]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(n8,{className:"h-5 w-5"}),"Appearance"]}),s.jsx(je,{children:"Customize how the portal looks"})]}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Select your preferred theme"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:n==="light"?"default":"outline",size:"sm",onClick:()=>r("light"),className:"flex items-center gap-2",children:[s.jsx(q2,{className:"h-4 w-4"}),"Light"]}),s.jsxs(ee,{variant:n==="dark"?"default":"outline",size:"sm",onClick:()=>r("dark"),className:"flex items-center gap-2",children:[s.jsx(z2,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(D2,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(je,{children:"Configure how you want to receive updates and alerts"})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{htmlFor:"weekly-summary",children:"Weekly Email Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly performance summaries via email"})]}),s.jsx(Rt,{id:"weekly-summary",checked:(e==null?void 0:e.weekly_summary_enabled)||!1,onCheckedChange:_,disabled:a})]}),s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Email Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"New Form Submissions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when forms are submitted"})]}),s.jsx(Rt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{children:"System Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system announcements"})]}),s.jsx(Rt,{defaultChecked:!0})]})]})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5"}),"Account Information"]}),s.jsx(je,{children:"View your account details and access information"})]}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(wte,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Company"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.company_name)||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Account Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Account"})]})]})]})})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5"}),"Security"]}),s.jsx(je,{children:"Manage your account security and access"})]}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lS,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure your account with a strong password"})]})]}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Change Password"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx(ee,{variant:"outline",size:"sm",disabled:!0,children:"Coming Soon"})]})]})})]})]}),s.jsx(dr,{open:c,onOpenChange:w,children:s.jsxs(Kn,{className:"sm:max-w-md",children:[s.jsxs(Jn,{children:[s.jsxs(Xn,{className:"flex items-center gap-2",children:[s.jsx(lS,{className:"h-5 w-5"}),"Change Password"]}),s.jsx(Hi,{children:"Enter your new password below. Make sure it's at least 6 characters long."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"new-password",type:f?"text":"password",value:d.newPassword,onChange:S=>h(C=>({...C,newPassword:S.target.value})),placeholder:"Enter new password",className:"pr-10"}),s.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!f),children:f?s.jsx(wp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"confirm-password",type:p?"text":"password",value:d.confirmPassword,onChange:S=>h(C=>({...C,confirmPassword:S.target.value})),placeholder:"Confirm new password",className:"pr-10"}),s.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),children:p?s.jsx(wp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"})})]})]}),d.newPassword&&d.confirmPassword&&d.newPassword!==d.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ee,{variant:"outline",onClick:w,children:"Cancel"}),s.jsx(ee,{onClick:b,disabled:v||!d.newPassword||!d.confirmPassword,children:v?"Updating...":"Update Password"})]})]})})]})}function z8e(){const{user:e}=Dt(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState([]),[h,f]=y.useState([]),[m,p]=y.useState([]),[g,v]=y.useState({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]});y.useEffect(()=>{e&&(x(),b())},[e]);const x=async()=>{try{const{data:C,error:k}=await G.from("chatbots").select("id, name, description");if(k)throw k;a(C||[]);const{data:A,error:T}=await G.from("customers").select(`
          *,
          customer_chatbot_assignments (
            chatbot_id
          )
        `);if(T)throw T;const E=(C==null?void 0:C.map(U=>U.id))||[],B=(A==null?void 0:A.map(U=>({...U,assigned_chatbots:U.customer_chatbot_assignments.filter($=>E.includes($.chatbot_id)).map($=>$.chatbot_id)})))||[];n(B)}catch(C){console.error("Error fetching data:",C),ve.error("Failed to load customer data")}finally{o(!1)}},b=async()=>{if(e!=null&&e.id)try{const{data:C,error:k}=await G.from("team_members").select("team_org_id, user_id, role").eq("user_id",e.id);if(k)throw k;if(C&&C.length>0){const A=C.map(F=>F.team_org_id),{data:T,error:E}=await G.from("team_members").select("team_org_id, user_id, role").in("team_org_id",A);if(E)throw E;d(T||[]);const{data:B,error:U}=await G.from("team_organizations").select("id, name").in("id",A);if(U)throw U;f(B||[]);const $=[...new Set((T||[]).map(F=>F.user_id))];if($.length>0){const{data:F,error:M}=await G.from("profiles").select("id, full_name, email").in("id",$);if(M)throw M;p(F||[])}}}catch(C){console.error("Error fetching team data:",C)}},w=C=>{var E;if(!C.created_by_user_id)return{ownerName:"Unknown",teamName:null,isOwn:!1};if(C.created_by_user_id===(e==null?void 0:e.id))return{ownerName:"You",teamName:null,isOwn:!0};const k=m.find(B=>B.id===C.created_by_user_id),A=(k==null?void 0:k.full_name)||((E=k==null?void 0:k.email)==null?void 0:E.split("@")[0])||"Unknown",T=u.find(B=>B.user_id===C.created_by_user_id&&u.some(U=>U.team_org_id===B.team_org_id&&U.user_id===(e==null?void 0:e.id)));if(T){const B=h.find(U=>U.id===T.team_org_id);return{ownerName:A,teamName:(B==null?void 0:B.name)||null,isOwn:!1}}return{ownerName:A,teamName:null,isOwn:!1}},_=async()=>{if(!g.email||!g.full_name||!g.password){ve.error("Please fill in all required fields including password");return}if(g.password.length<6){ve.error("Password must be at least 6 characters long");return}if(g.assigned_chatbots.length===0){ve.error("Please assign at least one chatbot to the customer");return}try{const C=await TLe({email:g.email,full_name:g.full_name,company_name:g.company_name||void 0,password:g.password,chatbot_id:g.assigned_chatbots[0]||void 0}),k=C==null?void 0:C.customer_id;if(k&&g.assigned_chatbots.length>0)for(const T of g.assigned_chatbots)await G.from("customer_chatbot_assignments").upsert({customer_id:k,chatbot_id:T,assigned_by:e==null?void 0:e.id},{onConflict:"customer_id,chatbot_id",ignoreDuplicates:!0});const A=C!=null&&C.auth_created?"Customer created successfully with login credentials":"Customer created successfully (login credentials may need manual setup)";ve.success(A),c(!1),v({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]}),x()}catch(C){console.error("Error creating customer:",C),ve.error("Failed to create customer")}},N=async C=>{if(confirm("Are you sure you want to delete this customer? This will also remove all their chatbot assignments."))try{const{error:k}=await G.from("customers").delete().eq("id",C);if(k)throw k;ve.success("Customer deleted successfully"),x()}catch(k){console.error("Error deleting customer:",k),ve.error("Failed to delete customer")}},S=async C=>{try{await OLe(C.email),ve.success("Login link sent successfully")}catch(k){console.error("Error sending login link:",k),ve.error("Failed to send login link")}};return i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer access to your chatbots"})]}),s.jsxs(dr,{open:l,onOpenChange:c,children:[s.jsx(Pu,{asChild:!0,children:s.jsxs(ee,{children:[s.jsx(ch,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),s.jsxs(Kn,{className:"sm:max-w-md",children:[s.jsxs(Jn,{children:[s.jsx(Xn,{children:"Add New Customer"}),s.jsx(Hi,{children:"Create a new customer account and assign chatbots"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"email",children:"Email *"}),s.jsx(ue,{id:"email",type:"email",value:g.email,onChange:C=>v({...g,email:C.target.value}),placeholder:"customer@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(ue,{id:"full_name",value:g.full_name,onChange:C=>v({...g,full_name:C.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"company_name",children:"Company Name"}),s.jsx(ue,{id:"company_name",value:g.company_name,onChange:C=>v({...g,company_name:C.target.value}),placeholder:"Acme Corp"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"password",children:"Password *"}),s.jsx(ue,{id:"password",type:"password",value:g.password,onChange:C=>v({...g,password:C.target.value}),placeholder:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Assign Chatbots *"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2",children:r.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lh,{id:C.id,checked:g.assigned_chatbots.includes(C.id),onCheckedChange:k=>{v(k?{...g,assigned_chatbots:[...g.assigned_chatbots,C.id]}:{...g,assigned_chatbots:g.assigned_chatbots.filter(A=>A!==C.id)})}}),s.jsx(ne,{htmlFor:C.id,className:"text-sm",children:C.name})]},C.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(ee,{onClick:_,children:"Create Customer"})]})]})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Customers"}),s.jsx(je,{children:"Manage customer accounts and their chatbot access"})]}),s.jsx(Q,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No customers found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first customer to get started."})]}):s.jsxs(bj,{children:[s.jsx(wj,{children:s.jsxs(pu,{children:[s.jsx(Dr,{children:"Customer"}),s.jsx(Dr,{children:"Company"}),s.jsx(Dr,{children:"Created By"}),s.jsx(Dr,{children:"Assigned Chatbots"}),s.jsx(Dr,{children:"Last Login"}),s.jsx(Dr,{children:"Actions"})]})}),s.jsx(jj,{children:t.map(C=>{const k=w(C);return s.jsxs(pu,{children:[s.jsx(Ir,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:C.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C.email})]})}),s.jsx(Ir,{children:C.company_name||"-"}),s.jsx(Ir,{children:s.jsx("div",{className:"flex items-center gap-2",children:k.isOwn?s.jsx(Ce,{variant:"outline",className:"text-xs",children:"You"}):s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium",children:k.ownerName}),k.teamName&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(dn,{className:"w-3 h-3"}),k.teamName]})]})})}),s.jsx(Ir,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:C.assigned_chatbots.map(A=>{const T=r.find(E=>E.id===A);return s.jsx(Ce,{variant:"secondary",className:"text-xs",children:(T==null?void 0:T.name)||"Unknown"},A)})})}),s.jsx(Ir,{children:C.last_login?new Date(C.last_login).toLocaleDateString():"Never"}),s.jsx(Ir,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>S(C),children:s.jsx(Ns,{className:"w-4 h-4"})}),k.isOwn&&s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>N(C.id),children:s.jsx(zt,{className:"w-4 h-4"})})]})})]},C.id)})})]})})]})]})}var eE=["Enter"," "],q8e=["ArrowDown","PageUp","Home"],PG=["ArrowUp","PageDown","End"],V8e=[...q8e,...PG],W8e={ltr:[...eE,"ArrowRight"],rtl:[...eE,"ArrowLeft"]},H8e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pv="Menu",[mg,G8e,Y8e]=Eg(pv),[Tu,AG]=Ur(pv,[Y8e,Jl,Cf]),_j=Jl(),TG=Cf(),[K8e,Ou]=Tu(pv),[J8e,gv]=Tu(pv),OG=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=_j(t),[c,u]=y.useState(null),d=y.useRef(!1),h=jn(i),f=ku(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),s.jsx(K0,{...l,children:s.jsx(K8e,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(J8e,{scope:t,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};OG.displayName=pv;var X8e="MenuAnchor",gT=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=_j(n);return s.jsx(Mg,{...a,...r,ref:t})});gT.displayName=X8e;var vT="MenuPortal",[Q8e,MG]=Tu(vT,{forceMount:void 0}),DG=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Ou(vT,t);return s.jsx(Q8e,{scope:t,forceMount:n,children:s.jsx(Un,{present:n||i.open,children:s.jsx(Xh,{asChild:!0,container:a,children:r})})})};DG.displayName=vT;var xa="MenuContent",[Z8e,xT]=Tu(xa),IG=y.forwardRef((e,t)=>{const n=MG(xa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Ou(xa,e.__scopeMenu),o=gv(xa,e.__scopeMenu);return s.jsx(mg.Provider,{scope:e.__scopeMenu,children:s.jsx(Un,{present:r||i.open,children:s.jsx(mg.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(eUe,{...a,ref:t}):s.jsx(tUe,{...a,ref:t})})})})}),eUe=y.forwardRef((e,t)=>{const n=Ou(xa,e.__scopeMenu),r=y.useRef(null),a=Xe(t,r);return y.useEffect(()=>{const i=r.current;if(i)return mw(i)},[]),s.jsx(yT,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tUe=y.forwardRef((e,t)=>{const n=Ou(xa,e.__scopeMenu);return s.jsx(yT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yT=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:p,...g}=e,v=Ou(xa,n),x=gv(xa,n),b=_j(n),w=TG(n),_=G8e(n),[N,S]=y.useState(null),C=y.useRef(null),k=Xe(t,C,v.onContentChange),A=y.useRef(0),T=y.useRef(""),E=y.useRef(0),B=y.useRef(null),U=y.useRef("right"),$=y.useRef(0),F=p?Bg:y.Fragment,M=p?{as:js,allowPinchZoom:!0}:void 0,R=L=>{var W,Z;const I=T.current+L,z=_().filter(te=>!te.disabled),H=document.activeElement,j=(W=z.find(te=>te.ref.current===H))==null?void 0:W.textValue,P=z.map(te=>te.textValue),O=fUe(P,I,j),V=(Z=z.find(te=>te.textValue===O))==null?void 0:Z.ref.current;(function te(q){T.current=q,window.clearTimeout(A.current),q!==""&&(A.current=window.setTimeout(()=>te(""),1e3))})(I),V&&setTimeout(()=>V.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),hw();const D=y.useCallback(L=>{var z,H;return U.current===((z=B.current)==null?void 0:z.side)&&pUe(L,(H=B.current)==null?void 0:H.area)},[]);return s.jsx(Z8e,{scope:n,searchRef:T,onItemEnter:y.useCallback(L=>{D(L)&&L.preventDefault()},[D]),onItemLeave:y.useCallback(L=>{var I;D(L)||((I=C.current)==null||I.focus(),S(null))},[D]),onTriggerLeave:y.useCallback(L=>{D(L)&&L.preventDefault()},[D]),pointerGraceTimerRef:E,onPointerGraceIntentChange:y.useCallback(L=>{B.current=L},[]),children:s.jsx(F,{...M,children:s.jsx(Fg,{asChild:!0,trapped:a,onMountAutoFocus:Ne(i,L=>{var I;L.preventDefault(),(I=C.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx($A,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:Ne(c,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(J0,{role:"menu","aria-orientation":"vertical","data-state":XG(v.open),"data-radix-menu-content":"",dir:x.dir,...b,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:Ne(g.onKeyDown,L=>{const z=L.target.closest("[data-radix-menu-content]")===L.currentTarget,H=L.ctrlKey||L.altKey||L.metaKey,j=L.key.length===1;z&&(L.key==="Tab"&&L.preventDefault(),!H&&j&&R(L.key));const P=C.current;if(L.target!==P||!V8e.includes(L.key))return;L.preventDefault();const V=_().filter(W=>!W.disabled).map(W=>W.ref.current);PG.includes(L.key)&&V.reverse(),dUe(V)}),onBlur:Ne(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:Ne(e.onPointerMove,pg(L=>{const I=L.target,z=$.current!==L.clientX;if(L.currentTarget.contains(I)&&z){const H=L.clientX>$.current?"right":"left";U.current=H,$.current=L.clientX}}))})})})})})})});IG.displayName=xa;var nUe="MenuGroup",bT=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(ze.div,{role:"group",...r,ref:t})});bT.displayName=nUe;var rUe="MenuLabel",RG=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(ze.div,{...r,ref:t})});RG.displayName=rUe;var o0="MenuItem",UL="menu.itemSelect",Nj=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=y.useRef(null),o=gv(o0,e.__scopeMenu),l=xT(o0,e.__scopeMenu),c=Xe(t,i),u=y.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(UL,{bubbles:!0,cancelable:!0});h.addEventListener(UL,m=>r==null?void 0:r(m),{once:!0}),A2(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx($G,{...a,ref:c,disabled:n,onClick:Ne(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Ne(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Ne(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||eE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Nj.displayName=o0;var $G=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=xT(o0,n),l=TG(n),c=y.useRef(null),u=Xe(t,c),[d,h]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[i.children]),s.jsx(mg.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(LA,{asChild:!0,...l,focusable:!r,children:s.jsx(ze.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Ne(e.onPointerMove,pg(p=>{r?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,pg(p=>o.onItemLeave(p))),onFocus:Ne(e.onFocus,()=>h(!0)),onBlur:Ne(e.onBlur,()=>h(!1))})})})}),sUe="MenuCheckboxItem",LG=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(qG,{scope:e.__scopeMenu,checked:n,children:s.jsx(Nj,{role:"menuitemcheckbox","aria-checked":l0(n)?"mixed":n,...a,ref:t,"data-state":jT(n),onSelect:Ne(a.onSelect,()=>r==null?void 0:r(l0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});LG.displayName=sUe;var FG="MenuRadioGroup",[aUe,iUe]=Tu(FG,{value:void 0,onValueChange:()=>{}}),BG=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=jn(r);return s.jsx(aUe,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(bT,{...a,ref:t})})});BG.displayName=FG;var UG="MenuRadioItem",zG=y.forwardRef((e,t)=>{const{value:n,...r}=e,a=iUe(UG,e.__scopeMenu),i=n===a.value;return s.jsx(qG,{scope:e.__scopeMenu,checked:i,children:s.jsx(Nj,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":jT(i),onSelect:Ne(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});zG.displayName=UG;var wT="MenuItemIndicator",[qG,oUe]=Tu(wT,{checked:!1}),VG=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=oUe(wT,n);return s.jsx(Un,{present:r||l0(i.checked)||i.checked===!0,children:s.jsx(ze.span,{...a,ref:t,"data-state":jT(i.checked)})})});VG.displayName=wT;var lUe="MenuSeparator",WG=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});WG.displayName=lUe;var cUe="MenuArrow",HG=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=_j(n);return s.jsx(X0,{...a,...r,ref:t})});HG.displayName=cUe;var uUe="MenuSub",[QGe,GG]=Tu(uUe),Sm="MenuSubTrigger",YG=y.forwardRef((e,t)=>{const n=Ou(Sm,e.__scopeMenu),r=gv(Sm,e.__scopeMenu),a=GG(Sm,e.__scopeMenu),i=xT(Sm,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(gT,{asChild:!0,...u,children:s.jsx($G,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":XG(n.open),...e,ref:z0(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,pg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ne(e.onPointerLeave,pg(h=>{var m,p;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,v=g==="right",x=v?-5:5,b=f[v?"left":"right"],w=f[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:b,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:b,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||W8e[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});YG.displayName=Sm;var KG="MenuSubContent",JG=y.forwardRef((e,t)=>{const n=MG(xa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Ou(xa,e.__scopeMenu),o=gv(xa,e.__scopeMenu),l=GG(KG,e.__scopeMenu),c=y.useRef(null),u=Xe(t,c);return s.jsx(mg.Provider,{scope:e.__scopeMenu,children:s.jsx(Un,{present:r||i.open,children:s.jsx(mg.Slot,{scope:e.__scopeMenu,children:s.jsx(yT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ne(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=H8e[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});JG.displayName=KG;function XG(e){return e?"open":"closed"}function l0(e){return e==="indeterminate"}function jT(e){return l0(e)?"indeterminate":e?"checked":"unchecked"}function dUe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function hUe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function fUe(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=hUe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function mUe(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function pUe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return mUe(n,t)}function pg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var gUe=OG,vUe=gT,xUe=DG,yUe=IG,bUe=bT,wUe=RG,jUe=Nj,_Ue=LG,NUe=BG,SUe=zG,CUe=VG,kUe=WG,EUe=HG,PUe=YG,AUe=JG,_T="DropdownMenu",[TUe,ZGe]=Ur(_T,[AG]),ns=AG(),[OUe,QG]=TUe(_T),ZG=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ns(t),u=y.useRef(null),[d=!1,h]=_s({prop:a,defaultProp:i,onChange:o});return s.jsx(OUe,{scope:t,triggerId:Ws(),triggerRef:u,contentId:Ws(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(gUe,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};ZG.displayName=_T;var eY="DropdownMenuTrigger",tY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=QG(eY,n),o=ns(n);return s.jsx(vUe,{asChild:!0,...o,children:s.jsx(ze.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:z0(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tY.displayName=eY;var MUe="DropdownMenuPortal",nY=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ns(t);return s.jsx(xUe,{...r,...n})};nY.displayName=MUe;var rY="DropdownMenuContent",sY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=QG(rY,n),i=ns(n),o=y.useRef(!1);return s.jsx(yUe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sY.displayName=rY;var DUe="DropdownMenuGroup",IUe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(bUe,{...a,...r,ref:t})});IUe.displayName=DUe;var RUe="DropdownMenuLabel",aY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(wUe,{...a,...r,ref:t})});aY.displayName=RUe;var $Ue="DropdownMenuItem",iY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(jUe,{...a,...r,ref:t})});iY.displayName=$Ue;var LUe="DropdownMenuCheckboxItem",oY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(_Ue,{...a,...r,ref:t})});oY.displayName=LUe;var FUe="DropdownMenuRadioGroup",BUe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(NUe,{...a,...r,ref:t})});BUe.displayName=FUe;var UUe="DropdownMenuRadioItem",lY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(SUe,{...a,...r,ref:t})});lY.displayName=UUe;var zUe="DropdownMenuItemIndicator",cY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(CUe,{...a,...r,ref:t})});cY.displayName=zUe;var qUe="DropdownMenuSeparator",uY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(kUe,{...a,...r,ref:t})});uY.displayName=qUe;var VUe="DropdownMenuArrow",WUe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(EUe,{...a,...r,ref:t})});WUe.displayName=VUe;var HUe="DropdownMenuSubTrigger",dY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(PUe,{...a,...r,ref:t})});dY.displayName=HUe;var GUe="DropdownMenuSubContent",hY=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(AUe,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hY.displayName=GUe;var YUe=ZG,KUe=tY,JUe=nY,fY=sY,mY=aY,pY=iY,gY=oY,vY=lY,xY=cY,yY=uY,bY=dY,wY=hY;const Sj=YUe,Cj=KUe,XUe=y.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(bY,{ref:a,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(us,{className:"ml-auto h-4 w-4"})]}));XUe.displayName=bY.displayName;const QUe=y.forwardRef(({className:e,...t},n)=>s.jsx(wY,{ref:n,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));QUe.displayName=wY.displayName;const vv=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(JUe,{children:s.jsx(fY,{ref:r,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));vv.displayName=fY.displayName;const Mi=y.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(pY,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Mi.displayName=pY.displayName;const ZUe=y.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(gY,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(xY,{children:s.jsx(Ag,{className:"h-4 w-4"})})}),t]}));ZUe.displayName=gY.displayName;const eze=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(vY,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(xY,{children:s.jsx(XB,{className:"h-2 w-2 fill-current"})})}),t]}));eze.displayName=vY.displayName;const jY=y.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(mY,{ref:r,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));jY.displayName=mY.displayName;const kj=y.forwardRef(({className:e,...t},n)=>s.jsx(yY,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));kj.displayName=yY.displayName;function _Y({onSwitch:e,compact:t=!1}){const{user:n}=Dt(),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!1),u=async()=>{try{o(!0);const{data:f,error:m}=await G.from("voice_connections").select("id, org_name, org_id, is_active").eq("user_id",n==null?void 0:n.id).order("created_at",{ascending:!0});if(m)throw m;console.log("OrganizationSwitcher: Fetched connections:",f),a(f||[])}catch(f){console.error("Error fetching connections:",f)}finally{o(!1)}};y.useEffect(()=>{n&&u()},[n]),y.useEffect(()=>(window.__refreshOrgSwitcher=u,()=>{delete window.__refreshOrgSwitcher}),[n]);const d=async f=>{if(l)return;const m=r.find(p=>p.id===f);if(!(!m||m.is_active)){c(!0);try{const{error:p}=await G.from("voice_connections").update({is_active:!1}).eq("user_id",n==null?void 0:n.id);if(p)throw p;const{error:g}=await G.from("voice_connections").update({is_active:!0}).eq("id",f);if(g)throw g;ve.success(`Switched to "${m.org_name||"Organization"}"`),await u(),e==null||e()}catch(p){console.error("Error switching organization:",p),ve.error("Failed to switch organization")}finally{c(!1)}}},h=r.find(f=>f.is_active);return i||r.length<=1?null:s.jsxs(Sj,{children:[s.jsx(Cj,{asChild:!0,children:s.jsxs(ee,{variant:"outline",size:t?"sm":"default",className:"gap-2",disabled:l,children:[s.jsx(W0,{className:t?"h-3.5 w-3.5":"h-4 w-4"}),s.jsx("span",{className:t?"text-xs max-w-[100px] truncate":"max-w-[150px] truncate",children:(h==null?void 0:h.org_name)||"Select Org"}),s.jsx(Zh,{className:t?"h-3 w-3":"h-3.5 w-3.5"})]})}),s.jsxs(vv,{align:"end",className:"w-56",children:[s.jsx(jY,{className:"text-xs text-muted-foreground",children:"Vapi Organizations"}),s.jsx(kj,{}),r.map(f=>s.jsxs(Mi,{onClick:()=>d(f.id),className:"flex items-center justify-between cursor-pointer",disabled:f.is_active,children:[s.jsx("span",{className:f.is_active?"font-medium":"",children:f.org_name||"Unnamed Organization"}),f.is_active&&s.jsx(Ag,{className:"h-4 w-4 text-primary"})]},f.id))]})]})}const NY=({assistantId:e,assistantName:t,orgId:n,onTaskCreated:r,placeholder:a="Add a task and press Enter..."})=>{const{user:i}=Dt(),[o,l]=y.useState(""),[c,u]=y.useState(!1),d=async f=>{if(f==null||f.preventDefault(),!(!o.trim()||!i)){u(!0);try{const m=await G.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:e||null,org_id:n||null,title:o.trim(),priority:"medium",status:"pending"}).select().single();if(m.error)throw m.error;e&&await G.from("changelog_entries").insert({user_id:i.id,entity_type:"voice_assistant",entity_id:e,change_type:"task",title:o.trim(),status:"pending",source:"manual"}),r==null||r(m.data),l(""),ve.success(e?`Task added for ${t}`:"Task added (unassigned)")}catch(m){console.error("Error creating task:",m),ve.error("Failed to create task")}finally{u(!1)}}},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),d())};return s.jsxs("form",{onSubmit:d,className:"flex items-center gap-2",children:[s.jsx(ue,{value:o,onChange:f=>l(f.target.value),onKeyDown:h,placeholder:a,disabled:c,className:"flex-1"}),s.jsx(ee,{type:"submit",size:"sm",disabled:c||!o.trim(),className:"shrink-0",children:c?s.jsx(Gn,{className:"h-4 w-4 animate-spin"}):s.jsx(Bt,{className:"h-4 w-4"})})]})};function tze(){const{user:e}=Dt(),t=Nr(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(!0),[d,h]=y.useState(!1),[f,m]=y.useState(!1),[p,g]=y.useState(null),[v,x]=y.useState(""),[b,w]=y.useState(""),[_,N]=y.useState(null),S=async()=>{if(!d){h(!0);try{const F=await iy();console.log(`Auto-synced ${(F==null?void 0:F.count)||0} voice assistants`)}catch(F){console.error("Auto-sync error:",F)}finally{h(!1)}}};y.useEffect(()=>{e&&C()},[e]),y.useEffect(()=>{if(e&&_!==null){S().then(()=>A());const F=setInterval(()=>{S().then(()=>A())},12e4);return()=>clearInterval(F)}},[e,_]);const C=async()=>{try{const{data:F,error:M}=await G.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(M)throw M;N((F==null?void 0:F.org_id)||"")}catch(F){console.error("Error fetching active connection:",F),N("")}},k=async()=>{g(null),await C(),h(!0);try{const F=await iy();ve.success(`Synced ${F.count} assistants`)}catch(F){console.error("Error syncing assistants:",F),ve.error("Failed to sync assistants")}finally{h(!1)}};y.useEffect(()=>{n.length>0&&!p&&g(n[0].id)},[n,p]);const A=async()=>{try{u(!0);const{data:F,error:M}=await G.from("voice_assistants").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(M)throw M;let R=F||[];_&&(R=R.filter(Z=>Z.org_id===_||Z.org_id===null)),r(R);const D=[],{data:L}=await G.from("chatbots").select("id").eq("user_id",e==null?void 0:e.id),I=(L==null?void 0:L.map(Z=>Z.id))||[],z=(R==null?void 0:R.map(Z=>Z.id))||[],{data:H}=await G.from("whatsapp_agents").select("id").eq("user_id",e==null?void 0:e.id),j=(H==null?void 0:H.map(Z=>Z.id))||[];if(I.length>0){const{data:Z}=await G.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",I);Z&&D.push(...Z)}if(z.length>0){const{data:Z}=await G.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",z);Z&&D.push(...Z)}if(j.length>0){const{data:Z}=await G.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",j);Z&&D.push(...Z)}const P=Array.from(new Map(D.map(Z=>[Z.id,Z])).values());i(P);const{data:O,error:V}=await G.from("customer_assistant_assignments").select(`
          id,
          assistant_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e==null?void 0:e.id);if(V)throw V;const W=(O==null?void 0:O.map(Z=>({id:Z.id,assistant_id:Z.assistant_id,customer:Z.customers})))||[];l(W)}catch(F){console.error("Error fetching data:",F),ve.error("Failed to load data")}finally{u(!1)}},T=async()=>{h(!0);try{const F=await iy();ve.success(`Synced ${F.count} assistants`),await A()}catch(F){console.error("Error syncing assistants:",F),ve.error("Failed to sync assistants")}finally{h(!1)}},E=async()=>{if(!p||!v){ve.error("Please select a customer");return}try{const{error:F}=await G.from("customer_assistant_assignments").insert({customer_id:v,assistant_id:p,assigned_by:e==null?void 0:e.id});if(F){if(F.code==="23505")ve.error("This customer is already assigned to this assistant");else throw F;return}ve.success("Assistant assigned successfully"),m(!1),x(""),await A()}catch(F){console.error("Error assigning assistant:",F),ve.error("Failed to assign assistant")}},B=async F=>{try{const{error:M}=await G.from("customer_assistant_assignments").delete().eq("id",F);if(M)throw M;ve.success("Assignment removed"),await A()}catch(M){console.error("Error removing assignment:",M),ve.error("Failed to remove assignment")}},U=n.find(F=>F.id===p),$=o.filter(F=>F.assistant_id===p);return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Bm,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Voice Assistants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_Y,{onSwitch:k,compact:!0}),s.jsxs(ee,{onClick:T,disabled:d,size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(ps,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing":"Sync"]})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(Ca,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search assistants...",value:b,onChange:F=>w(F.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Na,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const F=n.filter(M=>{var R;return(R=M.name)==null?void 0:R.toLowerCase().includes(b.toLowerCase())});return F.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(it,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b?"No matching assistants":"No assistants found"}),!b&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your assistants"})]}):F.map(M=>{const R=o.filter(L=>L.assistant_id===M.id).length,D=p===M.id;return s.jsx("button",{onClick:()=>g(M.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${D?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${D?"text-primary":""}`,children:M.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[M.model_provider&&s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:M.model_provider}),R>0&&s.jsxs(Ce,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[R," assigned"]})]})]}),D&&s.jsx(us,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},M.id)})})()})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," assistants"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:U?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:s.jsx(it,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:U.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Created ",new Date(U.created_at).toLocaleDateString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(`/voice-assistants/${U.id}/edit`),className:"gap-1.5",children:[s.jsx(qte,{className:"h-4 w-4"}),"Edit"]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Quick Add Task"}),s.jsx(NY,{assistantId:U.id,assistantName:U.name,orgId:_,placeholder:"Add a task and press Enter..."})]}),U.first_message&&s.jsx(Y,{className:"mb-6",children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ft,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"First Message"}),s.jsxs("p",{className:"text-sm italic",children:['"',U.first_message,'"']})]})]})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.voice_provider&&s.jsx(Y,{children:s.jsx(Q,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bm,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice"}),s.jsx("p",{className:"text-sm font-medium",children:U.voice_provider})]})]})})}),U.model_provider&&s.jsx(Y,{children:s.jsx(Q,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Model"}),s.jsxs("p",{className:"text-sm font-medium",children:[U.model_provider,U.model&&`  ${U.model}`]})]})]})})}),U.transcriber_provider&&s.jsx(Y,{children:s.jsx(Q,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transcriber"}),s.jsx("p",{className:"text-sm font-medium",children:U.transcriber_provider})]})]})})}),U.phone_number&&s.jsx(Y,{children:s.jsx(Q,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"text-sm font-medium font-mono",children:U.phone_number})]})]})})})]})]}),s.jsx(Zr,{className:"my-6"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jd,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"Assigned Customers"}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:$.length})]}),s.jsxs(ee,{size:"sm",onClick:()=>m(!0),className:"gap-1.5",children:[s.jsx(ch,{className:"h-3.5 w-3.5"}),"Assign"]})]}),$.length===0?s.jsx(Y,{className:"border-dashed",children:s.jsxs(Q,{className:"py-8 text-center",children:[s.jsx(jd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assign customers to give them access to this assistant"})]})}):s.jsx("div",{className:"space-y-2",children:$.map(F=>s.jsx(Y,{children:s.jsx(Q,{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:F.customer.full_name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:F.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:F.customer.email})]})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>B(F.id),className:"hover:bg-destructive/10 hover:text-destructive h-8 w-8 p-0",children:s.jsx(zt,{className:"h-4 w-4"})})]})})},F.id))})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an assistant to view details"})]})})}),s.jsx(dr,{open:f,onOpenChange:m,children:s.jsxs(Kn,{className:"sm:max-w-md",children:[s.jsxs(Jn,{children:[s.jsxs(Xn,{className:"flex items-center gap-2",children:[s.jsx(ch,{className:"h-5 w-5 text-primary"}),"Assign Customer"]}),s.jsxs(Hi,{children:["Select a customer to give them access to ",U==null?void 0:U.name]})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs(Be,{value:v,onValueChange:x,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select a customer..."})}),s.jsx(Fe,{children:a.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No customers available"}):a.map(F=>s.jsx(ie,{value:F.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:F.full_name}),s.jsxs("span",{className:"text-muted-foreground",children:["(",F.email,")"]})]})},F.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"}),s.jsx(ee,{onClick:E,disabled:!v,className:"flex-1",children:"Assign"})]})]})]})})]})}var SY={};function zL(e,t){if(e==null)return{};var n,r,a=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e){return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(e)}function CY(e){var t=function(n,r){if(Pt(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,r||"default");if(Pt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Pt(t)=="symbol"?t:t+""}function qL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CY(r.key),r)}}function Qs(e,t,n){return t&&qL(e.prototype,t),n&&qL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ej(e,t){if(t&&(Pt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(e)}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gg(e,t)}function Pj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}function ki(e,t,n){return(t=CY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,a)}function nt(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(c){VL(i,r,a,o,l,"next",c)}function l(c){VL(i,r,a,o,l,"throw",c)}o(void 0)})}}function WL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,o,l,c,u=[],d=!0,h=!1;try{if(l=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return WL(n,r);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?WL(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HL,Nx={exports:{}},tE=function(){if(HL)return Nx.exports;HL=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(g,v,x){return Function.prototype.apply.call(g,v,x)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var r=Number.isNaN||function(g){return g!=g};function a(){a.init.call(this)}Nx.exports=a,Nx.exports.once=function(g,v){return new Promise(function(x,b){function w(N){g.removeListener(v,_),b(N)}function _(){typeof g.removeListener=="function"&&g.removeListener("error",w),x([].slice.call(arguments))}p(g,v,_,{once:!0}),v!=="error"&&function(N,S,C){typeof N.on=="function"&&p(N,"error",S,C)}(g,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function l(g){return g._maxListeners===void 0?a.defaultMaxListeners:g._maxListeners}function c(g,v,x,b){var w,_,N,S;if(o(x),(_=g._events)===void 0?(_=g._events=Object.create(null),g._eventsCount=0):(_.newListener!==void 0&&(g.emit("newListener",v,x.listener?x.listener:x),_=g._events),N=_[v]),N===void 0)N=_[v]=x,++g._eventsCount;else if(typeof N=="function"?N=_[v]=b?[x,N]:[N,x]:b?N.unshift(x):N.push(x),(w=l(g))>0&&N.length>w&&!N.warned){N.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=g,C.type=v,C.count=N.length,S=C,console&&console.warn&&console.warn(S)}return g}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(g,v,x){var b={fired:!1,wrapFn:void 0,target:g,type:v,listener:x},w=u.bind(b);return w.listener=x,b.wrapFn=w,w}function h(g,v,x){var b=g._events;if(b===void 0)return[];var w=b[v];return w===void 0?[]:typeof w=="function"?x?[w.listener||w]:[w]:x?function(_){for(var N=new Array(_.length),S=0;S<N.length;++S)N[S]=_[S].listener||_[S];return N}(w):m(w,w.length)}function f(g){var v=this._events;if(v!==void 0){var x=v[g];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function m(g,v){for(var x=new Array(v),b=0;b<v;++b)x[b]=g[b];return x}function p(g,v,x,b){if(typeof g.on=="function")b.once?g.once(v,x):g.on(v,x);else{if(typeof g.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(v,function w(_){b.once&&g.removeEventListener(v,w),x(_)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(g){if(typeof g!="number"||g<0||r(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");i=g}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||r(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(g){for(var v=[],x=1;x<arguments.length;x++)v.push(arguments[x]);var b=g==="error",w=this._events;if(w!==void 0)b=b&&w.error===void 0;else if(!b)return!1;if(b){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var N=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw N.context=_,N}var S=w[g];if(S===void 0)return!1;if(typeof S=="function")n(S,this,v);else{var C=S.length,k=m(S,C);for(x=0;x<C;++x)n(k[x],this,v)}return!0},a.prototype.addListener=function(g,v){return c(this,g,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(g,v){return c(this,g,v,!0)},a.prototype.once=function(g,v){return o(v),this.on(g,d(this,g,v)),this},a.prototype.prependOnceListener=function(g,v){return o(v),this.prependListener(g,d(this,g,v)),this},a.prototype.removeListener=function(g,v){var x,b,w,_,N;if(o(v),(b=this._events)===void 0)return this;if((x=b[g])===void 0)return this;if(x===v||x.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete b[g],b.removeListener&&this.emit("removeListener",g,x.listener||v));else if(typeof x!="function"){for(w=-1,_=x.length-1;_>=0;_--)if(x[_]===v||x[_].listener===v){N=x[_].listener,w=_;break}if(w<0)return this;w===0?x.shift():function(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}(x,w),x.length===1&&(b[g]=x[0]),b.removeListener!==void 0&&this.emit("removeListener",g,N||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(g){var v,x,b;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[g]),this;if(arguments.length===0){var w,_=Object.keys(x);for(b=0;b<_.length;++b)(w=_[b])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=x[g])=="function")this.removeListener(g,v);else if(v!==void 0)for(b=v.length-1;b>=0;b--)this.removeListener(g,v[b]);return this},a.prototype.listeners=function(g){return h(this,g,!0)},a.prototype.rawListeners=function(g){return h(this,g,!1)},a.listenerCount=function(g,v){return typeof g.listenerCount=="function"?g.listenerCount(v):f.call(g,v)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Nx.exports}(),Sx=nze(tE),GL=Object.prototype.hasOwnProperty;function YL(e,t,n){for(n of e.keys())if(Kr(n,t))return n}function Kr(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Kr(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((a=r)&&typeof a=="object"&&!(a=YL(t,a))||!t.has(a))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((a=r[0])&&typeof a=="object"&&!(a=YL(t,a))||!Kr(r[1],t.get(a)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(GL.call(e,n)&&++r&&!GL.call(t,n)||!(n in t)||!Kr(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const rze={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},kY={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Tn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Wr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Xo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class we{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const a=we.getVersionPrecision(t),i=we.getVersionPrecision(n);let o=Math.max(a,i),l=0;const c=we.map([t,n],u=>{const d=o-we.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return we.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(l=o-Math.min(a,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(a=0;a<t.length;a+=1)r.push(n(t[a]));return r}static find(t,n){let r,a;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,a=t.length;r<a;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let a,i;if(Object.assign)return Object.assign(t,...n);for(a=0,i=n.length;a<i;a+=1){const o=n[a];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return t}static getBrowserAlias(t){return rze[t]}static getBrowserTypeByAlias(t){return kY[t]||""}}const en=/version\/(\d+(\.?_?\d+)+)/i,sze=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=we.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=we.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=we.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=we.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=we.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=we.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=we.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=we.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=we.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=we.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=we.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=we.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=we.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=we.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=we.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=we.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=we.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=we.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=we.getFirstMatch(en,e)||we.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=we.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=we.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=we.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=we.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=we.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=we.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=we.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=we.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=we.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=we.getFirstMatch(en,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:we.getFirstMatch(t,e),version:we.getSecondMatch(t,e)}}}];var aze=[{test:[/Roku\/DVP/],describe(e){const t=we.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Wr.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=we.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Wr.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=we.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=we.getWindowsVersionName(t);return{name:Wr.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Wr.iOS},n=we.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=we.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=we.getMacOSVersionName(t),r={name:Wr.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=we.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Wr.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=we.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=we.getAndroidVersionName(t),r={name:Wr.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=we.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Wr.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=we.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||we.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||we.getFirstMatch(/\bbb(\d+)/i,e);return{name:Wr.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=we.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Wr.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=we.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Wr.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Wr.Linux})},{test:[/CrOS/],describe:()=>({name:Wr.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=we.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Wr.PlayStation4,version:t}}}],ize=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=we.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:Tn.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Tn.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Tn.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Tn.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Tn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Tn.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Tn.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=we.getFirstMatch(/(ipod|iphone)/i,e);return{type:Tn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Tn.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Tn.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:Tn.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:Tn.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:Tn.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:Tn.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:Tn.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:Tn.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:Tn.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:Tn.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:Tn.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:Tn.tv})}],oze=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Xo.Blink};const t=we.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Xo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Xo.Trident},n=we.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Xo.Presto},n=we.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Xo.Gecko},n=we.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Xo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Xo.WebKit},n=we.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class KL{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=we.find(sze,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=we.find(aze,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=we.find(ize,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=we.find(oze,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return we.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const a={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(a[o]=l,i+=1):typeof l=="object"&&(n[o]=l,r+=1)}),r>0){const o=Object.keys(n),l=we.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=we.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(a),l=we.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=we.getBrowserTypeByAlias(a);return n&&i&&(a=i.toLowerCase()),a===r}compareVersion(t){let n=[0],r=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(a=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(a=!0,r=t.substr(1)),n.indexOf(we.compareVersions(i,r,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class lze{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new KL(t,n)}static parse(t){return new KL(t).getResult()}static get BROWSER_MAP(){return kY}static get ENGINE_MAP(){return Xo}static get OS_MAP(){return Wr}static get PLATFORMS_MAP(){return Tn}}function Aj(){return Date.now()+Math.random().toString()}function mm(){throw new Error("Method must be implemented in subclass")}function EY(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function c0(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:EY("https://c.daily.co/call-machine/versioned/".concat("0.84.0","/static/call-machine-object-bundle.js"),e)}function u0(e){try{new URL(e)}catch{return!1}return!0}const an=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yc="8.55.0",Lt=globalThis;function d0(e,t,n){const r=Lt,a=r.__SENTRY__=r.__SENTRY__||{},i=a[Yc]=a[Yc]||{};return i[e]||(i[e]=t())}const Mu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,nE=["debug","info","warn","error","log","assert","trace"],h0={};function xv(e){if(!("console"in Lt))return e();const t=Lt.console,n={},r=Object.keys(h0);r.forEach(a=>{const i=h0[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}const ot=d0("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Mu?nE.forEach(n=>{t[n]=(...r)=>{e&&xv(()=>{Lt.console[n](`Sentry Logger [${n}]:`,...r)})}}):nE.forEach(n=>{t[n]=()=>{}}),t}),Dc="?",JL=/\(error: (.*)\)/,XL=/captureMessage|captureException/;function Cx(e){return e[e.length-1]||{}}const QL="<anonymous>";function ql(e){try{return e&&typeof e=="function"&&e.name||QL}catch{return QL}}function ZL(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const uy={},e3={};function Kc(e,t){uy[e]=uy[e]||[],uy[e].push(t)}function Jc(e,t){if(!e3[e]){e3[e]=!0;try{t()}catch(n){Mu&&ot.error(`Error while instrumenting ${e}`,n)}}}function ti(e,t){const n=e&&uy[e];if(n)for(const r of n)try{r(t)}catch(a){Mu&&ot.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ql(r)}
Error:`,a)}}let R1=null;function cze(){R1=Lt.onerror,Lt.onerror=function(e,t,n,r,a){return ti("error",{column:r,error:a,line:n,msg:e,url:t}),!!R1&&R1.apply(this,arguments)},Lt.onerror.__SENTRY_INSTRUMENTED__=!0}let $1=null;function uze(){$1=Lt.onunhandledrejection,Lt.onunhandledrejection=function(e){return ti("unhandledrejection",e),!$1||$1.apply(this,arguments)},Lt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Tj(){return NT(Lt),Lt}function NT(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Yc,t[Yc]=t[Yc]||{}}const PY=Object.prototype.toString;function ST(e){switch(PY.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gu(e,Error)}}function Of(e,t){return PY.call(e)===`[object ${t}]`}function AY(e){return Of(e,"ErrorEvent")}function t3(e){return Of(e,"DOMError")}function ho(e){return Of(e,"String")}function CT(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function rE(e){return e===null||CT(e)||typeof e!="object"&&typeof e!="function"}function Uh(e){return Of(e,"Object")}function Oj(e){return typeof Event<"u"&&gu(e,Event)}function Mj(e){return!!(e&&e.then&&typeof e.then=="function")}function gu(e,t){try{return e instanceof t}catch{return!1}}function TY(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const kT=Lt;function OY(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=dze(n,d),!(u==="html"||i>1&&o+a.length*c+u.length>=h));)a.push(u),o+=u.length,n=n.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function dze(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(kT.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const a=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(a&&a.length)a.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ho(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Rd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function n3(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const a=e[r];try{TY(a)?n.push("[VueViewModel]"):n.push(String(a))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function hze(e,t,n=!1){return!!ho(e)&&(Of(t,"RegExp")?t.test(e):!!ho(t)&&(n?e===t:e.includes(t)))}function kx(e,t=[],n=!1){return t.some(r=>hze(e,r,n))}function qs(e,t,n){if(!(t in e))return;const r=e[t],a=n(r);typeof a=="function"&&MY(a,r);try{e[t]=a}catch{Mu&&ot.log(`Failed to replace method "${t}" in object`,e)}}function vu(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Mu&&ot.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function MY(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,vu(e,"__sentry_original__",t)}catch{}}function ET(e){return e.__sentry_original__}function DY(e){if(ST(e))return{message:e.message,name:e.name,stack:e.stack,...s3(e)};if(Oj(e)){const t={type:e.type,target:r3(e.target),currentTarget:r3(e.currentTarget),...s3(e)};return typeof CustomEvent<"u"&&gu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function r3(e){try{return t=e,typeof Element<"u"&&gu(t,Element)?OY(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function s3(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ma(e){return sE(e,new Map)}function sE(e,t){if(function(n){if(!Uh(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(r[a]=sE(e[a],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(a=>{r.push(sE(a,t))}),r}return e}function yv(){return Date.now()/1e3}const bo=function(){const{performance:e}=Lt;if(!e||!e.now)return yv;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ya(){const e=Lt,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function IY(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function rl(e){const{message:t,event_id:n}=e;if(t)return t;const r=IY(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function aE(e,t,n){const r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function zh(e,t){const n=IY(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const a={...r&&r.data,...t.data};n.mechanism.data=a}}function a3(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{vu(e,"__sentry_captured__",!0)}catch{}return!1}var ro;function xu(e){return new ua(t=>{t(e)})}function f0(e){return new ua((t,n)=>{n(e)})}(()=>{const{performance:e}=Lt;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t;(i||l<t)&&a<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ro||(ro={}));class ua{constructor(t){ua.prototype.__init.call(this),ua.prototype.__init2.call(this),ua.prototype.__init3.call(this),ua.prototype.__init4.call(this),this._state=ro.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new ua((r,a)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){a(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){a(o)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ua((n,r)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{i?r(a):n(a)})})}__init(){this._resolve=t=>{this._setResult(ro.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ro.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===ro.PENDING&&(Mj(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ro.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ro.RESOLVED&&n[1](this._value),this._state===ro.REJECTED&&n[2](this._value),n[0]=!0)})}}}function fze(e){const t=bo(),n={sid:ya(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return ma({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&qh(n,e),n}function qh(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||bo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ya()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function i3(){return ya()}function iE(){return ya().substring(16)}function Dj(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=Dj(r[a],t[a],n-1));return r}const oE="_sentrySpan";function o3(e,t){t?vu(e,oE,t):delete e[oE]}function l3(e){return e[oE]}class PT{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:i3(),spanId:iE()}}clone(){const t=new PT;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,o3(t,l3(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&qh(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,a]=n instanceof Vl?[n.getScopeData(),n.getRequestSession()]:Uh(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,o3(this,void 0),this._attachments=[],this.setPropagationContext({traceId:i3()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const a={timestamp:yv(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:l3(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Dj(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:iE(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ya();if(!this._client)return ot.warn("No client configured on scope - will not capture exception!"),r;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...n,event_id:r},this),r}captureMessage(t,n,r){const a=r&&r.event_id?r.event_id:ya();if(!this._client)return ot.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:a},this),a}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ya();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ot.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Vl=PT;class mze{constructor(t,n){let r,a;r=t||new Vl,a=n||new Vl,this._stack=[{scope:r}],this._isolationScope=a}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(a){throw this._popScope(),a}return Mj(r)?r.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Vh(){const e=NT(Tj());return e.stack=e.stack||new mze(d0("defaultCurrentScope",()=>new Vl),d0("defaultIsolationScope",()=>new Vl))}function pze(e){return Vh().withScope(e)}function gze(e,t){const n=Vh();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function c3(e){return Vh().withScope(()=>e(Vh().getIsolationScope()))}function AT(e){const t=NT(e);return t.acs?t.acs:{withIsolationScope:c3,withScope:pze,withSetScope:gze,withSetIsolationScope:(n,r)=>c3(r),getCurrentScope:()=>Vh().getScope(),getIsolationScope:()=>Vh().getIsolationScope()}}function Du(){return AT(Tj()).getCurrentScope()}function bv(){return AT(Tj()).getIsolationScope()}function Rr(){return Du().getClient()}function vze(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:a}=t;return ma({trace_id:n,span_id:r,parent_span_id:a})}function xze(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,a]]of t)(n[r]||(n[r]=[])).push(ma(a));return n}const yze=/^sentry-/;function bze(e){const t=function(r){if(!(!r||!ho(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((a,i)=>{const o=u3(i);return Object.entries(o).forEach(([l,c])=>{a[l]=c}),a},{}):u3(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[a,i])=>(a.match(yze)&&(r[a.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function u3(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let d3=!1;function wze(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return ma({parent_span_id:r?t:TT(e).parent_span_id,span_id:r?iE():t,trace_id:n})}function h3(e){return typeof e=="number"?f3(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?f3(e.getTime()):bo()}function f3(e){return e>9999999999?e/1e3:e}function TT(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const a=r;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:r,startTime:a,name:i,endTime:o,parentSpanId:l,status:c}=e;return ma({span_id:t,trace_id:n,data:r,description:i,parent_span_id:l,start_timestamp:h3(a),timestamp:h3(o)||void 0,status:jze(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:xze(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function jze(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function RY(e){return e._sentryRootSpan||e}function _ze(){d3||(xv(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),d3=!0)}const OT="production";function $Y(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},a=ma({environment:n.environment||OT,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",a),a}function Nze(e){const t=Rr();if(!t)return{};const n=RY(e),r=n._frozenDsc;if(r)return r;const a=n.spanContext().traceState,i=a&&a.get("sentry.dsc"),o=i&&bze(i);if(o)return o;const l=$Y(e.spanContext().traceId,t),c=TT(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(l.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const p=Rr(),g=p&&p.getOptions();return!!g&&(g.enableTracing||"tracesSampleRate"in g||"tracesSampler"in g)}()&&(l.sampled=String(function(m){const{traceFlags:p}=m.spanContext();return p===1}(n))),t.emit("createDsc",l,n),l}const Sze=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function m0(e,t=!1){const{host:n,path:r,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function m3(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Cze(e){const t=typeof e=="string"?function(n){const r=Sze.exec(n);if(!r)return void xv(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[a,i,o="",l="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return m3({host:l,pass:o,path:d,projectId:h,port:c,protocol:a,publicKey:i})}(e):m3(e);if(t&&function(n){if(!Mu)return!0;const{port:r,projectId:a,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ot.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(a.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ot.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ot.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ot.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function so(e,t=100,n=1/0){try{return lE("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function LY(e,t=3,n=102400){const r=so(e,t);return a=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>n?LY(e,t-1,n):r;var a}function lE(e,t,n=1/0,r=1/0,a=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(m,p){try{if(m==="domain"&&p&&typeof p=="object"&&p._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&p===global)return"[Global]";if(typeof window<"u"&&p===window)return"[Window]";if(typeof document<"u"&&p===document)return"[Document]";if(TY(p))return"[VueViewModel]";if(Uh(g=p)&&"nativeEvent"in g&&"preventDefault"in g&&"stopPropagation"in g)return"[SyntheticEvent]";if(typeof p=="number"&&!Number.isFinite(p))return`[${p}]`;if(typeof p=="function")return`[Function: ${ql(p)}]`;if(typeof p=="symbol")return`[${String(p)}]`;if(typeof p=="bigint")return`[BigInt: ${String(p)}]`;const v=function(x){const b=Object.getPrototypeOf(x);return b?b.constructor.name:"null prototype"}(p);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var g}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return lE("",u.toJSON(),c-1,r,a)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=DY(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const p=f[m];d[m]=lE(m,p,c-1,r,a),h++}return o(t),d}function vg(e,t=[]){return[e,t]}function kze(e,t){const[n,r]=e;return[n,[...r,t]]}function p3(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function cE(e){return Lt.__SENTRY__&&Lt.__SENTRY__.encodePolyfill?Lt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Eze(e){const[t,n]=e;let r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[cE(r),i]:r.push(typeof i=="string"?cE(i):i)}for(const i of n){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(so(l))}a(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(r)}function Pze(e){const t=typeof e.data=="string"?cE(e.data):e.data;return[ma({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Aze={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function g3(e){return Aze[e]}function FY(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Tze(e,t,n,r){const a=FY(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:m0(d)},...h&&{trace:ma({...h})}}}(e,a,r,t);return delete e.sdkProcessingMetadata,vg(o,[[{type:i},e]])}function uE(e,t,n,r=0){return new ua((a,i)=>{const o=e[r];if(t===null||typeof o!="function")a(t);else{const l=o({...t},n);an&&o.id&&l===null&&ot.log(`Event processor "${o.id}" dropped event`),Mj(l)?l.then(c=>uE(e,c,n,r+1).then(a)).then(null,i):uE(e,l,n,r+1).then(a).then(null,i)}})}let Ex,v3,L1;function Oze(e,t){const{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:m}=l,p=ma(c);p&&Object.keys(p).length&&(o.extra={...p,...o.extra});const g=ma(u);g&&Object.keys(g).length&&(o.tags={...g,...o.tags});const v=ma(d);v&&Object.keys(v).length&&(o.user={...v,...o.user});const x=ma(h);x&&Object.keys(x).length&&(o.contexts={...x,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,l){o.contexts={trace:wze(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:Nze(l),...o.sdkProcessingMetadata};const c=RY(l),u=TT(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,a),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function x3(e,t){const{extra:n,tags:r,user:a,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:p}=t;Px(e,"extra",n),Px(e,"tags",r),Px(e,"user",a),Px(e,"contexts",i),e.sdkProcessingMetadata=Dj(e.sdkProcessingMetadata,l,2),o&&(e.level=o),m&&(e.transactionName=m),p&&(e.span=p),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Px(e,t,n){e[t]=Dj(e[t],n,1)}function Mze(e,t,n,r,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ya(),timestamp:t.timestamp||yv()},u=n.integrations||e.integrations.map(p=>p.name);(function(p,g){const{environment:v,release:x,dist:b,maxValueLength:w=250}=g;p.environment=p.environment||v||OT,!p.release&&x&&(p.release=x),!p.dist&&b&&(p.dist=b),p.message&&(p.message=Rd(p.message,w));const _=p.exception&&p.exception.values&&p.exception.values[0];_&&_.value&&(_.value=Rd(_.value,w));const N=p.request;N&&N.url&&(N.url=Rd(N.url,w))})(c,e),function(p,g){g.length>0&&(p.sdk=p.sdk||{},p.sdk.integrations=[...p.sdk.integrations||[],...g])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(p,g){const v=function(x){const b=Lt._sentryDebugIds;if(!b)return{};const w=Object.keys(b);return L1&&w.length===v3||(v3=w.length,L1=w.reduce((_,N)=>{Ex||(Ex={});const S=Ex[N];if(S)_[S[0]]=S[1];else{const C=x(N);for(let k=C.length-1;k>=0;k--){const A=C[k],T=A&&A.filename,E=b[N];if(T&&E){_[T]=E,Ex[N]=[T,E];break}}}return _},{})),L1}(g);try{p.exception.values.forEach(x=>{x.stacktrace.frames.forEach(b=>{v&&b.filename&&(b.debug_id=v[b.filename])})})}catch{}}(c,e.stackParser);const d=function(p,g){if(!g)return p;const v=p?p.clone():new Vl;return v.update(g),v}(r,n.captureContext);n.mechanism&&zh(c,n.mechanism);const h=a?a.getEventProcessors():[],f=d0("globalScope",()=>new Vl).getScopeData();i&&x3(f,i.getScopeData()),d&&x3(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),Oze(c,f),uE([...h,...f.eventProcessors],c,n).then(p=>(p&&function(g){const v={};try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;g.debug_meta=g.debug_meta||{},g.debug_meta.images=g.debug_meta.images||[];const x=g.debug_meta.images;Object.entries(v).forEach(([b,w])=>{x.push({type:"sourcemap",code_file:b,debug_id:w})})}(p),typeof o=="number"&&o>0?function(g,v,x){if(!g)return null;const b={...g,...g.breadcrumbs&&{breadcrumbs:g.breadcrumbs.map(w=>({...w,...w.data&&{data:so(w.data,v,x)}}))},...g.user&&{user:so(g.user,v,x)},...g.contexts&&{contexts:so(g.contexts,v,x)},...g.extra&&{extra:so(g.extra,v,x)}};return g.contexts&&g.contexts.trace&&b.contexts&&(b.contexts.trace=g.contexts.trace,g.contexts.trace.data&&(b.contexts.trace.data=so(g.contexts.trace.data,v,x))),g.spans&&(b.spans=g.spans.map(w=>({...w,...w.data&&{data:so(w.data,v,x)}}))),g.contexts&&g.contexts.flags&&b.contexts&&(b.contexts.flags=so(g.contexts.flags,3,x)),b}(p,o,l):p))}function y3(e,t){return Du().captureEvent(e,t)}function b3(e){const t=Rr(),n=bv(),r=Du(),{release:a,environment:i=OT}=t&&t.getOptions()||{},{userAgent:o}=Lt.navigator||{},l=fze({release:a,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&qh(c,{status:"exited"}),BY(),n.setSession(l),r.setSession(l),l}function BY(){const e=bv(),t=Du(),n=t.getSession()||e.getSession();n&&function(r,a){let i={};r.status==="ok"&&(i={status:"exited"}),qh(r,i)}(n),UY(),e.setSession(),t.setSession()}function UY(){const e=bv(),t=Du(),n=Rr(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function w3(e=!1){e?BY():UY()}function Dze(e,t,n){return t||`${function(r){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",o=a.port?`:${a.port}`:"";return`${i}//${a.host}${o}${a.path?`/${a.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,a){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,n)}`}const j3=[];function _3(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function N3(e,t,n){if(n[t.name])an&&ot.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,j3.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),j3.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),a=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(a)}an&&ot.log(`Integration installed: ${t.name}`)}}class Ra extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const S3="Not capturing exception because it's already been captured.";class Ize{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Cze(t.dsn):an&&ot.warn("No DSN provided, client will not send events."),this._dsn){const r=Dze(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&xv(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const a=ya();if(a3(t))return an&&ot.log(S3),a;const i={event_id:a,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,a){const i={event_id:ya(),...r},o=CT(t)?t:String(t),l=rE(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,n,r){const a=ya();if(n&&n.originalException&&a3(n.originalException))return an&&ot.log(S3),a;const i={event_id:a,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?an&&ot.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),qh(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(a=>r&&a))):xu(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];N3(this,t,this._integrations),n||_3(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Tze(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=kze(r,Pze(i));const a=this.sendEnvelope(r);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,a,i,o){const l=FY(i);return vg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&a&&{dsn:m0(a)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const a=typeof r=="number"?r:1,i=`${t}:${n}`;an&&ot.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const a=r.indexOf(n);a>-1&&r.splice(a,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(a=>a(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(an&&ot.error("Error while sending envelope:",n),n)):(an&&ot.error("Transport disabled"),xu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const a={};return r.forEach(i=>{i&&N3(n,i,a)}),a}(this,t),_3(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(qh(t,{...r&&{status:"crashed"},errors:t.errors||Number(a||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ua(n=>{let r=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=1,t&&r>=t&&(clearInterval(a),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Du(),a=bv()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||a.setLastEventId(t.event_id||n.event_id),Mze(i,t,n,r,this,a).then(l=>{if(l===null)return l;l.contexts={trace:vze(r),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||$Y(h.traceId,u)}(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(a=>a.event_id,a=>{an&&(a instanceof Ra&&a.logLevel==="log"?ot.log(a.message):ot.warn(a))})}_processEvent(t,n,r){const a=this.getOptions(),{sampleRate:i}=a,o=k3(t),l=C3(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const p=typeof m=="string"?parseFloat(m):m;if(!(typeof p!="number"||isNaN(p)||p<0||p>1))return p;an&&ot.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),f0(new Ra(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new Ra("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const p=function(g,v,x,b){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:N}=v;if(C3(x)&&w)return w(x,b);if(k3(x)){if(x.spans&&N){const S=[];for(const C of x.spans){const k=N(C);k?S.push(k):(_ze(),g.recordDroppedEvent("before_send","span"))}x.spans=S}if(_){if(x.spans){const S=x.spans.length;x.sdkProcessingMetadata={...x.sdkProcessingMetadata,spanCountBeforeProcessing:S}}return _(x,b)}}return x}(this,a,m,n);return function(g,v){const x=`${v} must return \`null\` or a valid event.`;if(Mj(g))return g.then(b=>{if(!Uh(b)&&b!==null)throw new Ra(x);return b},b=>{throw new Ra(`${v} rejected with ${b}`)});if(!Uh(g)&&g!==null)throw new Ra(x);return g}(p,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new Ra(`${u} returned \`null\`, will not send event.`,"log")}const p=r&&r.getSession();if(!o&&p&&this._updateSessionFromEvent(p,m),o){const v=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const g=m.transaction_info;if(o&&g&&m.transaction!==t.transaction){const v="custom";m.transaction_info={...g,source:v}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Ra?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Ra(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[a,i]=n.split(":");return{reason:a,category:i,quantity:r}})}_flushOutcomes(){an&&ot.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(an&&ot.log("No outcomes to send"));if(!this._dsn)return void(an&&ot.log("No dsn provided, will not send outcomes"));an&&ot.log("Sending outcomes:",t);const n=(r=t,vg((a=this._options.tunnel&&m0(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||yv(),discarded_events:r}]]));var r,a,i;this.sendEnvelope(n)}}function C3(e){return e.type===void 0}function k3(e){return e.type==="transaction"}function Rze(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return f0(new Ra("Not adding Promise because buffer limit was reached."));const a=r();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a},drain:function(r){return new ua((a,i)=>{let o=t.length;if(!o)return a(!0);const l=setTimeout(()=>{r&&r>0&&a(!1)},r);t.forEach(c=>{xu(c).then(()=>{--o||(clearTimeout(l),a(!0))},i)})})}}}function $ze(e,{statusCode:t,headers:n},r=Date.now()){const a={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[m]=r+f);else a.all=r+f}else o?a.all=r+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(a.all=r+6e4);return a}function Lze(e,t,n=Rze(e.bufferSize||64)){let r={};return{send:function(a){const i=[];if(p3(a,(c,u)=>{const d=g3(u);if(function(h,f,m=Date.now()){return function(p,g){return p[g]||p.all||0}(h,f)>m}(r,d)){const h=E3(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return xu({});const o=vg(a[0],i),l=c=>{p3(o,(u,d)=>{const h=E3(u,d);e.recordDroppedEvent(c,g3(d),h)})};return n.add(()=>t({body:Eze(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&an&&ot.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=$ze(r,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof Ra)return an&&ot.error("Skipped sending event because buffer is full."),l("queue_overflow"),xu({});throw c})},flush:a=>n.drain(a)}}function E3(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const Fze=100;function uc(e,t){const n=Rr(),r=bv();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=Fze}=n.getOptions();if(i<=0)return;const o={timestamp:yv(),...e},l=a?xv(()=>a(o,t)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let P3;const A3=new WeakMap,Bze=()=>({name:"FunctionToString",setupOnce(){P3=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ET(this),n=A3.has(Rr())&&t!==void 0?t:this;return P3.apply(n,e)}}catch{}},setup(e){A3.set(e,!0)}}),Uze=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],zze=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const a=r.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:Uze],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,a);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(an&&ot.warn(`Event dropped due to being internal Sentry Error.
Event: ${rl(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>kx(d,u))}(o,l.ignoreErrors)?(an&&ot.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${rl(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(an&&ot.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${rl(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&kx(d,u)}(o,l.ignoreTransactions)?(an&&ot.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${rl(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Ax(c);return!!d&&kx(d,u)}(o,l.denyUrls)?(an&&ot.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${rl(o)}.
Url: ${Ax(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Ax(c);return!d||kx(d,u)}(o,l.allowUrls)?!1:(an&&ot.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${rl(o)}.
Url: ${Ax(o)}`),!0)}(t,i)?null:t}});function Ax(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const a=n[r];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return an&&ot.error(`Cannot extract url for event ${rl(e)}`),null}}function qze(e,t,n=250,r,a,i,o){if(!(i.exception&&i.exception.values&&o&&gu(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=dE(e,t,a,o.originalException,r,i.exception.values,l,0),u=n,c.map(d=>(d.value&&(d.value=Rd(d.value,u)),d))))}function dE(e,t,n,r,a,i,o,l){if(i.length>=n+1)return i;let c=[...i];if(gu(r[a],Error)){T3(o,l);const u=e(t,r[a]),d=c.length;O3(u,a,d,l),c=dE(e,t,n,r[a],a,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(gu(u,Error)){T3(o,l);const h=e(t,u),f=c.length;O3(h,`errors[${d}]`,f,l),c=dE(e,t,n,u,a,[h,...c],h,f)}}),c}function T3(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function O3(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function F1(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Vze(){"console"in Lt&&nE.forEach(function(e){e in Lt.console&&qs(Lt.console,e,function(t){return h0[e]=t,function(...n){ti("console",{args:n,level:e});const r=h0[e];r&&r.apply(Lt.console,n)}})})}function Wze(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Hze=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(a,i){const o=a.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!D3(a,i)||!M3(a,i))}(n,r)||function(a,i){const o=I3(i),l=I3(a);return!(!o||!l||o.type!==l.type||o.value!==l.value||!D3(a,i)||!M3(a,i))}(n,r)):!1}(t,e))return an&&ot.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function M3(e,t){let n=ZL(e),r=ZL(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let a=0;a<r.length;a++){const i=r[a],o=n[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function D3(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function I3(e){return e.exception&&e.exception.values&&e.exception.values[0]}function R3(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const B1=Lt;function hE(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Gze(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in B1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(hE(B1.fetch))return!0;let e=!1;const t=B1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=hE(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Mu&&ot.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Yze(e,t){const n="fetch";Kc(n,e),Jc(n,()=>function(r,a=!1){a&&!Gze()||qs(Lt,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,p]=h;return{url:$3(m),method:fE(p,"method")?String(p.method).toUpperCase():"GET"}}const f=h[0];return{url:$3(f),method:fE(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*bo(),virtualError:l};return r||ti("fetch",{...d}),i.apply(Lt,o).then(async h=>(r?r(h):ti("fetch",{...d,endTimestamp:1e3*bo(),response:h}),h),h=>{throw ti("fetch",{...d,endTimestamp:1e3*bo(),error:h}),ST(h)&&h.stack===void 0&&(h.stack=l.stack,vu(h,"framesToPop",1)),h})}})}(void 0,t))}function fE(e,t){return!!e&&typeof e=="object"&&!!e[t]}function $3(e){return typeof e=="string"?e:e?fE(e,"url")?e.url:e.toString?e.toString():"":""}const Tx=Lt,or=Lt;let mE=0;function L3(){return mE>0}function Wh(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(ET(e))return e}catch{return e}const n=function(...r){try{const a=r.map(i=>Wh(i,t));return e.apply(this,a)}catch(a){throw mE++,setTimeout(()=>{mE--}),function(...i){const o=AT(Tj());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(aE(l,void 0),zh(l,t.mechanism)),l.extra={...l.extra,arguments:r},l)),o=a,Du().captureException(o,void 0)}),a}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}MY(n,e),vu(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const Ij=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function MT(e,t){const n=DT(e,t),r={type:Xze(t),value:Qze(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Kze(e,t,n,r){const a=Rr(),i=a&&a.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:LY(t,i)};if(o)return{exception:{values:[MT(e,o)]},extra:l};const c={exception:{values:[{type:Oj(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Zze(t,{isUnhandledRejection:r})}]},extra:l};if(n){const u=DT(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function U1(e,t){return{exception:{values:[MT(e,t)]}}}function DT(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&Jze.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,a)}catch{}return[]}const Jze=/Minified React error #\d+;/i;function zY(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function Xze(e){const t=e&&e.name;return!t&&zY(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Qze(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:zY(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function pE(e,t,n,r,a){let i;if(AY(t)&&t.error)return U1(e,t.error);if(t3(t)||Of(t,"DOMException")){const o=t;if("stack"in t)i=U1(e,t);else{const l=o.name||(t3(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=gE(e,c,n,r),aE(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return ST(t)?U1(e,t):Uh(t)||Oj(t)?(i=Kze(e,t,n,a),zh(i,{synthetic:!0}),i):(i=gE(e,t,n,r),aE(i,`${t}`),zh(i,{synthetic:!0}),i)}function gE(e,t,n,r){const a={};if(r&&n){const i=DT(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),zh(a,{synthetic:!0})}if(CT(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function Zze(e,{isUnhandledRejection:t}){const n=function(a,i=40){const o=Object.keys(DY(a));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return Rd(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Rd(u,i)}return""}(e),r=t?"promise rejection":"exception";return AY(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Oj(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class eqe extends Ize{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,a,i=[a],o="npm"){const l=r._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:Yc})),version:Yc}),r._metadata=l})(n,"browser",["browser"],or.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&or.document&&or.document.addEventListener("visibilitychange",()=>{or.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,a,i,o){const l=pE(r,a,i&&i.syntheticException||void 0,o);return zh(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),xu(l)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(a,i,o="info",l,c){const u=gE(a,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),xu(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Ij&&ot.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:a,tunnel:i,dsn:o}){const l={event_id:r.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!o&&{dsn:m0(o)}};return vg(l,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const tqe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Jr=Lt;let F3,z1,q1,Ox;function nqe(){if(!Jr.document)return;const e=ti.bind(null,"dom"),t=B3(e,!0);Jr.document.addEventListener("click",t,!1),Jr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Jr[n],a=r&&r.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(qs(a,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=B3(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),qs(a,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function B3(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;vu(n,"_sentryCaptured",!0),r&&!r._sentryId&&vu(r,"_sentryId",ya());const a=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==z1)return!1;try{if(!i.target||i.target._sentryId!==q1)return!1}catch{}return!0})(n)||(e({event:n,name:a,global:t}),z1=n.type,q1=r?r._sentryId:void 0),clearTimeout(F3),F3=Jr.setTimeout(()=>{q1=void 0,z1=void 0},1e3)}}function qY(e){const t="history";Kc(t,e),Jc(t,rqe)}function rqe(){if(!function(){const n=Tx.chrome,r=n&&n.app&&n.app.runtime,a="history"in Tx&&!!Tx.history.pushState&&!!Tx.history.replaceState;return!r&&a}())return;const e=Jr.onpopstate;function t(n){return function(...r){const a=r.length>2?r[2]:void 0;if(a){const i=Ox,o=String(a);Ox=o,ti("history",{from:i,to:o})}return n.apply(this,r)}}Jr.onpopstate=function(...n){const r=Jr.location.href,a=Ox;if(Ox=r,ti("history",{from:a,to:r}),e)try{return e.apply(this,n)}catch{}},qs(Jr.history,"pushState",t),qs(Jr.history,"replaceState",t)}const dy={};function U3(e){dy[e]=void 0}const Cm="__sentry_xhr_v3__";function sqe(){if(!Jr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const a=new Error,i=1e3*bo(),o=ho(r[0])?r[0].toUpperCase():void 0,l=function(u){if(ho(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!l)return t.apply(n,r);n[Cm]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Cm];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}ti("xhr",{endTimestamp:1e3*bo(),startTimestamp:i,xhr:n,virtualError:a})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,m]=h,p=d[Cm];return p&&ho(f)&&ho(m)&&(p.request_headers[f.toLowerCase()]=m),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const a=n[Cm];return a?(r[0]!==void 0&&(a.body=r[0]),ti("xhr",{startTimestamp:1e3*bo(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function aqe(e,t=function(n){const r=dy[n];if(r)return r;let a=Jr[n];if(hE(a))return dy[n]=a.bind(Jr);const i=Jr.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(a=l[n]),i.head.removeChild(o)}catch(o){tqe&&ot.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return a&&(dy[n]=a.bind(Jr))}("fetch")){let n=0,r=0;return Lze(e,function(a){const i=a.body.length;n+=i,r++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return U3("fetch"),f0("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return U3("fetch"),n-=i,r--,f0(l)}})}function V1(e,t,n,r){const a={filename:e,function:t==="<anonymous>"?Dc:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const iqe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,oqe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,lqe=/\((\S*)(?::(\d+))(?::(\d+))\)/,cqe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,uqe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,dqe=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=JL.test(c)?c.replace(JL,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(Cx(c).function||"")&&c.pop(),c.reverse(),XL.test(Cx(c).function||"")&&(c.pop(),XL.test(Cx(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||Cx(c).filename,function:u.function||Dc}))}(i.slice(a))}}([30,e=>{const t=iqe.exec(e);if(t){const[,r,a,i]=t;return V1(r,Dc,+a,+i)}const n=oqe.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=lqe.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,a]=z3(n[1]||Dc,n[2]);return V1(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=cqe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=uqe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||Dc;return[r,n]=z3(r,n),V1(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),z3=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Dc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},q3=1024,hqe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(a){const i="console";Kc(i,a),Jc(i,Vze)}(function(a){return function(i){if(Rr()!==a)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:Wze(i.level),message:n3(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${n3(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}uc(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(a,i){return function(o){if(Rr()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>q3&&(Ij&&ot.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=q3),typeof u=="string"&&(u=[u]);try{const f=o.event,m=function(p){return!!p&&!!p.target}(f)?f.target:f;l=OY(m,{keyAttrs:u,maxStringLength:d}),c=function(p){if(!kT.HTMLElement)return null;let g=p;for(let v=0;v<5;v++){if(!g)return null;if(g instanceof HTMLElement){if(g.dataset.sentryComponent)return g.dataset.sentryComponent;if(g.dataset.sentryElement)return g.dataset.sentryElement}g=g.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${o.name}`,message:l};c&&(h.data={"ui.component_name":c}),uc(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Kc("dom",r),Jc("dom",nqe)),t.xhr&&function(a){Kc("xhr",a),Jc("xhr",sqe)}(function(a){return function(i){if(Rr()!==a)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[Cm];if(!o||!l||!c)return;const{method:u,url:d,status_code:h,body:f}=c,m={method:u,url:d,status_code:h},p={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:l};uc({category:"xhr",data:m,type:"http",level:R3(h)},p)}}(n)),t.fetch&&Yze(function(a){return function(i){if(Rr()!==a)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)uc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};uc({category:"fetch",data:u,type:"http",level:R3(u.status_code)},d)}}}(n)),t.history&&qY(function(a){return function(i){if(Rr()!==a)return;let o=i.from,l=i.to;const c=F1(or.location.href);let u=o?F1(o):void 0;const d=F1(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),uc({category:"navigation",data:{from:o,to:l}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(a){return function(i){Rr()===a&&uc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:rl(i)},{event:i})}}(n))}}},fqe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],mqe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&qs(or,"setTimeout",V3),t.setInterval&&qs(or,"setInterval",V3),t.requestAnimationFrame&&qs(or,"requestAnimationFrame",pqe),t.XMLHttpRequest&&"XMLHttpRequest"in or&&qs(XMLHttpRequest.prototype,"send",gqe);const n=t.eventTarget;n&&(Array.isArray(n)?n:fqe).forEach(vqe)}}};function V3(e){return function(...t){const n=t[0];return t[0]=Wh(n,{mechanism:{data:{function:ql(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function pqe(e){return function(t){return e.apply(this,[Wh(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ql(e)},handled:!1,type:"instrument"}})])}}function gqe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&qs(n,r,function(a){const i={mechanism:{data:{function:r,handler:ql(a)},handled:!1,type:"instrument"}},o=ET(a);return o&&(i.mechanism.data.handler=ql(o)),Wh(a,i)})}),e.apply(this,t)}}function vqe(e){const t=or[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(qs(n,"addEventListener",function(r){return function(a,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Wh(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ql(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[a,Wh(i,{mechanism:{data:{function:"addEventListener",handler:ql(i),target:e},handled:!1,type:"instrument"}}),o])}}),qs(n,"removeEventListener",function(r){return function(a,i,o){try{const l=i.__sentry_wrapped__;l&&r.call(this,a,l,o)}catch{}return r.call(this,a,i,o)}}))}const xqe=()=>({name:"BrowserSession",setupOnce(){or.document!==void 0?(b3({ignoreDuration:!0}),w3(),qY(({from:e,to:t})=>{e!==void 0&&e!==t&&(b3({ignoreDuration:!0}),w3())})):Ij&&ot.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),yqe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(a){const i="error";Kc(i,a),Jc(i,cze)})(a=>{const{stackParser:i,attachStacktrace:o}=H3();if(Rr()!==r||L3())return;const{msg:l,url:c,line:u,column:d,error:h}=a,f=function(m,p,g,v){const x=m.exception=m.exception||{},b=x.values=x.values||[],w=b[0]=b[0]||{},_=w.stacktrace=w.stacktrace||{},N=_.frames=_.frames||[],S=v,C=g,k=ho(p)&&p.length>0?p:function(){try{return kT.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:S,filename:k,function:Dc,in_app:!0,lineno:C}),m}(pE(i,h||l,void 0,o,!1),c,u,d);f.level="error",y3(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),W3("onerror")),t.onunhandledrejection&&(function(r){(function(a){const i="unhandledrejection";Kc(i,a),Jc(i,uze)})(a=>{const{stackParser:i,attachStacktrace:o}=H3();if(Rr()!==r||L3())return;const l=function(u){if(rE(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=rE(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:pE(i,l,void 0,o,!0);c.level="error",y3(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),W3("onunhandledrejection"))}}};function W3(e){Ij&&ot.log(`Global Handler attached: ${e}`)}function H3(){const e=Rr();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const bqe=()=>({name:"HttpContext",preprocessEvent(e){if(!or.navigator&&!or.location&&!or.document)return;const t=e.request&&e.request.url||or.location&&or.location.href,{referrer:n}=or.document||{},{userAgent:r}=or.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),wqe=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,a,i){const o=i.getOptions();qze(MT,o.stackParser,o.maxValueLength,n,t,r,a)}}};var vE="new",G3="loading",Y3="loaded",p0="joining-meeting",cl="joined-meeting",Qo="left-meeting",eo="error",jqe="blocked",_qe="off",Nqe="sendable",Sqe="loading",Cqe="interrupted",VY="playable",hy="unknown",WY="full",kqe="lobby",Eqe="none",HY="base",Pqe="*",Aqe="ejected",Tqe="nbf-room",Oqe="nbf-token",Mqe="exp-room",Dqe="exp-token",xE="no-room",Iqe="meeting-full",GY="end-of-life",Rqe="not-allowed",YY="connection-error",$qe="cam-in-use",Lqe="mic-in-use",Fqe="cam-mic-in-use",Bqe="permissions",Uqe="undefined-mediadevices",zqe="not-found",qqe="constraints",Vqe="unknown",KY="iframe-ready-for-launch-config",JY="iframe-launch-config",XY="theme-updated",QY="loading",ZY="load-attempt-failed",yE="loaded",eK="started-camera",tK="camera-error",nK="joining-meeting",rK="joined-meeting",sK="left-meeting",aK="participant-joined",iK="participant-updated",oK="participant-left",lK="participant-counts-updated",cK="access-state-updated",uK="meeting-session-summary-updated",dK="meeting-session-state-updated",Wqe="meeting-session-data-error",hK="waiting-participant-added",fK="waiting-participant-updated",mK="waiting-participant-removed",pK="track-started",gK="track-stopped",vK="transcription-started",xK="transcription-stopped",yK="transcription-error",bE="recording-started",wE="recording-stopped",bK="recording-stats",wK="recording-error",jK="recording-upload-completed",_K="recording-data",NK="app-message",SK="transcription-message",CK="remote-media-player-started",kK="remote-media-player-updated",EK="remote-media-player-stopped",PK="local-screen-share-started",AK="local-screen-share-stopped",TK="local-screen-share-canceled",OK="active-speaker-change",MK="active-speaker-mode-change",DK="network-quality-change",IK="network-connection",RK="cpu-load-change",$K="face-counts-updated",km="fullscreen",Em="exited-fullscreen",LK="live-streaming-started",FK="live-streaming-updated",BK="live-streaming-stopped",UK="live-streaming-error",zK="lang-updated",qK="receive-settings-updated",jE="input-settings-updated",_E="nonfatal-error",NE="error",W1=4096,K3=102400,H1="iframe-call-message",J3="local-screen-start",X3="daily-method-update-live-streaming-endpoints",Mx="transmit-log",fo="daily-custom-track",fy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},VK={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},SE={PLAY:"play",PAUSE:"pause"},G1=["jpg","png","jpeg"],Hqe="add-endpoints",Gqe="remove-endpoints",Q3="sip-call-transfer";function Sa(){return!St()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function St(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function WK(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function Yqe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(yu(),g0())||St())}function Z3(){if(St()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var CE="none",Kqe="software",Jqe="hardware",Xqe=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?Kqe:Jqe:CE}catch{return CE}}();function HK(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!St()&&Xqe!==CE&&(e?function(){return e5()?!1:["Chrome","Firefox"].includes(yu())}():function(){if(e5())return!1;var t=yu();if(t==="Safari"){var n=RT();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?IT().major>=77:t==="Firefox"?$T().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function GK(){if(St()||YK()||typeof AudioWorkletNode>"u")return!1;switch(yu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=g0();return e.major>17||e.major===17&&e.minor>=4}return!1}function Y1(){return WK()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=yu();if(!Sa())return!0;switch(t){case"Chrome":return(e=IT()).major&&e.major>0&&e.major<75;case"Firefox":return(e=$T()).major<91;case"Safari":return(e=RT()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function YK(){return Sa().match(/Linux; Android/)}function e5(){var e,t=Sa(),n=t.match(/Mac/)&&(!St()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!Sa().match(/DailyAnd\//)||void 0}function yu(){if(typeof window<"u"){var e=Sa();return KK()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||JK()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function g0(){switch(yu()){case"Chrome":return IT();case"Safari":return RT();case"Firefox":return $T();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Sa().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function IT(){var e=0,t=0,n=0,r=0,a=!1;if(typeof window<"u"){var i=Sa(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:a}}function KK(){return!!Sa().match(/iPad|iPhone|iPod/i)&&WK()}function JK(){return Sa().indexOf("AppleWebKit/605.1.15")>-1}function RT(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Sa().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(KK()||JK())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function $T(){var e=0,t=0;if(typeof window<"u"){var n=Sa().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var XK=function(){return Qs(function e(){Xs(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){mm()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){mm()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){mm()}},{key:"sendMessageToDailyJs",value:function(e,t){mm()}},{key:"removeListener",value:function(e){mm()}}])}();function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(r){ki(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!e})()}var Qqe=function(){function e(){var t,n,r,a;return Xs(this,e),n=this,r=ii(r=e),(t=Ej(n,QK()?Reflect.construct(r,[],ii(n).constructor):r.apply(n,a)))._wrappedListeners={},t._messageCallbacks={},t}return Pj(e,XK),Qs(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var a=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=K1({},o.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(r,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(r,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var a=function(i){var o;if(!(!i.data||i.data.what!==H1||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(r,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,n,r,a){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=K1({},t);if(i.what=H1,i.from="module",i.callClientId=r,n){var o=Aj();this._messageCallbacks[o]=n,i.callbackStamp=o}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=H1,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var a=K1({},t);a.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(a,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===n)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!e})()}var Zqe=function(){function e(){var t,n,r,a;return Xs(this,e),n=this,r=ii(r=e),t=Ej(n,ZK()?Reflect.construct(r,[],ii(n).constructor):r.apply(n,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new tE.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new tE.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Pj(e,XK),Qs(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,a,i){var o=this,l=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(a,c),delete o._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(t,n,r,a,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?n5(Object(d),!0).forEach(function(h){ki(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):n5(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,a){var l=Aj();this._messageCallbacks[l]=a,o.callbackStamp=l}n.emit("message",o)}}])}(),kE="replace",EE="shallow-merge",r5=[kE,EE],eVe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,a=r===void 0?kE:r;Xs(this,e),e._validateMergeStrategy(a),e._validateData(n,a),this.mergeStrategy=a,this.data=n}return Qs(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===EE}},{key:"_validateMergeStrategy",value:function(t){if(!r5.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(r5,"]"))}},{key:"_validateData",value:function(t,n){if(!function(l){if(l==null||Pt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===kE){var a=JSON.parse(r);Kr(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(n===EE){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Kr(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(r.length>K3)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(K3,"."))}}])}();function eJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eJ=function(){return!!e})()}function PE(e){var t=typeof Map=="function"?new Map:void 0;return PE=function(n){if(n===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(a,i,o){if(eJ())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return o&&gg(c,o.prototype),c}(n,arguments,ii(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gg(r,n)},PE(e)}function tJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tJ=function(){return!!e})()}function s5(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var tVe=function(){return Qs(function e(t){Xs(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new nVe(n,function(){r(!1)},function(i,o){o||s5(t._callClientId),a(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),s5(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),nVe=function(){return Qs(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Xs(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new a5(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new a5(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),J1=function(){function e(){return Xs(this,e),t=this,r=arguments,n=ii(n=e),Ej(t,tJ()?Reflect.construct(n,r||[],ii(t).constructor):n.apply(t,r));var t,n,r}return Pj(e,PE(Error)),Qs(e)}(),v0=2e4,a5=function(){return Qs(function t(n,r,a){Xs(this,t),this._loadAttemptImpl=St()||!n.avoidEval?new rVe(n,r,a):new sVe(n,r,a)},[{key:"start",value:(e=nt(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),rVe=function(){return Qs(function a(i,o,l){Xs(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(r=nt(function*(){var a=c0(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=nt(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=nt(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(v0," ms) when loading call object bundle ").concat(a),type:"timeout"})},v0);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new J1;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new J1;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof J1||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=nt(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),sVe=function(){return Qs(function e(t,n,r){Xs(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Aj(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=c0(this._dailyConfig);(typeof document>"u"?"undefined":Pt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(v0," ms) when loading call object bundle ").concat(e),type:"timeout"})},v0);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Dx=function(e,t,n){return iVe(e.local,t,n)===!0},aVe=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},pd=function(e,t,n,r){var a=oVe(e,t,n,r);return a&&a.pendingTrack},iVe=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?r(a[t].custom):r(a[t].custom[n]):r(a[t][n]):!a||r(a.ALL)},oVe=function(e,t,n,r){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return a&&a[0]},lVe=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function i5(e,t){for(var n=t.getState(),r=0,a=["cam","screen"];r<a.length;r++)for(var i=a[r],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?aVe(n,i,c):pd(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function o5(e,t){try{var n=t.getState();for(var r in e.tracks)if(!cVe(r)){var a=e.tracks[r].kind;if(a){var i=e.tracks[r];if(i){var o=e.local?lVe(n,r):pd(n,e.session_id,r,a);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function cVe(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function l5(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Dx(r,e.session_id,"cam-audio")){var o=pd(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Dx(r,e.session_id,"cam-video")){var l=pd(r,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&Dx(r,e.session_id,"screen-audio")){var c=pd(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Dx(r,e.session_id,"screen-video")){var u=pd(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function uVe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return c5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?c5(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function c5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wi=new Map,$d=null;function dVe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return u5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?u5(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function u5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ji=new Map,Zm=null;function hVe(e){nJ()?function(t){wi.has(t)||(wi.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){wi.has(t)&&(wi.get(t).lastDevicesString=JSON.stringify(n),$d||($d=function(){var r=nt(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),o=uVe(wi.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value,c=JSON.stringify(i);c!==wi.get(l).lastDevicesString&&(wi.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",$d)))}).catch(function(){}))}(e):function(t){ji.has(t)||(ji.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){ji.has(t)&&(ji.get(t).lastDevicesString=JSON.stringify(n),Zm||(Zm=setInterval(nt(function*(){var r,a=yield navigator.mediaDevices.enumerateDevices(),i=dVe(ji.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,l=JSON.stringify(a);l!==ji.get(o).lastDevicesString&&(ji.get(o).lastDevicesString=l,o(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function fVe(e){nJ()?function(t){wi.has(t)&&(wi.delete(t),wi.size===0&&$d&&(navigator.mediaDevices.removeEventListener("devicechange",$d),$d=null))}(e):function(t){ji.has(t)&&(ji.delete(t),ji.size===0&&Zm&&(clearInterval(Zm),Zm=null))}(e)}function nJ(){var e;return St()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var mVe=new Set;function pVe(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!mVe.has(n.id)}(e)}function d5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(n),!0).forEach(function(r){ki(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),gVe=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),ep=Object.values(Pm),h5=["v","a","sv","sa","cv","ca"];Object.freeze(ep.reduce(function(e,t,n){return e[t]=h5[n],e},{})),Object.freeze(h5.reduce(function(e,t,n){return e[t]=ep[n],e},{}));var vVe=[Pm.VIDEO,Pm.AUDIO,Pm.SCREEN_VIDEO,Pm.SCREEN_AUDIO],f5=Object.values(gVe),m5=["p","s","t"];Object.freeze(f5.reduce(function(e,t,n){return e[t]=m5[n],e},{})),Object.freeze(m5.reduce(function(e,t,n){return e[t]=f5[n],e},{}));var rJ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,a=t.byParticipantId;Xs(this,e),this.base=n,this.byUserId=r,this.byParticipantId=a}return Qs(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof mr?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof mr?r.clone():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof mr?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof mr&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof mr?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof mr?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof mr&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Fr(t,2),r=n[0],a=n[1];return[r,a instanceof mr?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Fr(t,2),r=n[0],a=n[1];return[r,a instanceof mr?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,a;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:mr.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:mr.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:mr.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,a;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:mr.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:mr.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:mr.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(Pt(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Fr(mr.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(Pt(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Fr(mr.validateJSONObject(h),2),m=f[0],p=f[1];if(!m)return[!1,p]}}}return[!0]}}])}(),mr=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,a=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;Xs(this,e),this.video=n,this.audio=r,this.screenVideo=a,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return Qs(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Go({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Go({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Go({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Go({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Go({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Go({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Go({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Go({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Pt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),a=0,i=r;a<i.length;a++){var o=i[a];if(!ep.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(vVe.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Pt(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==ep.length?[!1,'canReceive "base" permission must specify all media types: '.concat(ep.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),xVe=["result"],yVe=["preserveIframe"];function p5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(n),!0).forEach(function(r){ki(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sJ=function(){return!!e})()}function g5(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return v5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?v5(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function v5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dc={},x5="video",bVe="voice",y5=St()?{data:{}}:{data:{},topology:"none"},b5={present:0,hidden:0},aJ={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},X1=Object.keys(aJ),w5=["state","volume","simulcastEncodings"],j5={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},x0={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},AE={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},hc={customIntegrations:{validate:fJ,help:dJ()},customTrayButtons:{validate:hJ,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(x0))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return mJ(e,j5)},help:"reactNativeConfig should look like ".concat(JSON.stringify(j5),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return iJ(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:fo};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:fo};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Pt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return oJ(e,{allowAllParticipantsKey:!1})},help:uJ({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!lJ(e)&&(t._inputSettings||(t._inputSettings={}),cJ(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:TE()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Ix={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!St()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!n.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!o&&!r.includes(l),u=!n.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(St()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Fr(n[t],2),a=r[0],i=r[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=g5(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(x){c.e(x)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Fr(rJ.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,p=["participants","streaming","transcription"],g=g5(i);try{for(g.s();!(m=g.n()).done;){var v=m.value;if(!p.includes(v))return!1}}catch(x){g.e(x)}finally{g.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=nt(function*(t){return new Promise(function(n,r){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){a.push(o),a.length===t.length&&r(a)})})})});return function(t){return e.apply(this,arguments)}}());var wVe=function(){function e(j){var P,O,V,W,Z,te,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Xs(this,e),V=this,W=ii(W=e),ki(O=Ej(V,sJ()?Reflect.construct(W,[],ii(V).constructor):W.apply(V,Z)),"startListeningForDeviceChanges",function(){hVe(O.handleDeviceChange)}),ki(O,"stopListeningForDeviceChanges",function(){fVe(O.handleDeviceChange)}),ki(O,"handleDeviceChange",function(re){re=re.map(function(pe){return JSON.parse(JSON.stringify(pe))}),O.emitDailyJSEvent({action:"available-devices-updated",availableDevices:re})}),ki(O,"handleNativeAppStateChange",function(){var re=nt(function*(pe){if(pe==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield O.destroy());var ye=pe==="active";O.disableReactNativeAutoDeviceManagement("video")||(ye?O.camUnmutedBeforeLosingNativeActiveState&&O.setLocalVideo(!0):(O.camUnmutedBeforeLosingNativeActiveState=O.localVideo(),O.camUnmutedBeforeLosingNativeActiveState&&O.setLocalVideo(!1)))});return function(pe){return re.apply(this,arguments)}}()),ki(O,"handleNativeAudioFocusChange",function(re){O.disableReactNativeAutoDeviceManagement("audio")||(O._hasNativeAudioFocus=re,O.toggleParticipantAudioBasedOnNativeAudioFocus(),O._hasNativeAudioFocus?O.micUnmutedBeforeLosingNativeAudioFocus&&O.setLocalAudio(!0):(O.micUnmutedBeforeLosingNativeAudioFocus=O.localAudio(),O.setLocalAudio(!1)))}),ki(O,"handleNativeSystemScreenCaptureStop",function(){O.stopScreenShare()}),!Y1()&&!St())throw new Error("WebRTC not supported or suppressed");if(O.strictMode=q.strictMode===void 0||q.strictMode,O.allowMultipleCallInstances=(P=q.allowMultipleCallInstances)!==null&&P!==void 0&&P,Object.keys(dc).length&&(O._logDuplicateInstanceAttempt(),!O.allowMultipleCallInstances)){if(O.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),O.callClientId=Aj(),dc[(te=O).callClientId]=te,window._daily.instances[O.callClientId]={},O._sharedTracks={},window._daily.instances[O.callClientId].tracks=O._sharedTracks,q.dailyJsVersion=e.version(),O._iframe=j,O._callObjectMode=q.layout==="none"&&!O._iframe,O._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},q.showLocalVideo!==void 0?O._callObjectMode?console.error("showLocalVideo is not available in call object mode"):O._showLocalVideo=!!q.showLocalVideo:O._showLocalVideo=!0,q.showParticipantsBar!==void 0?O._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):O._showParticipantsBar=!!q.showParticipantsBar:O._showParticipantsBar=!0,q.customIntegrations!==void 0?O._callObjectMode?console.error("customIntegrations is not available in call object mode"):O._customIntegrations=q.customIntegrations:O._customIntegrations={},q.customTrayButtons!==void 0?O._callObjectMode?console.error("customTrayButtons is not available in call object mode"):O._customTrayButtons=q.customTrayButtons:O._customTrayButtons={},q.activeSpeakerMode!==void 0?O._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):O._activeSpeakerMode=!!q.activeSpeakerMode:O._activeSpeakerMode=!1,q.receiveSettings?O._callObjectMode?O._receiveSettings=q.receiveSettings:console.error("receiveSettings is only available in call object mode"):O._receiveSettings={},O.validateProperties(q),O.properties=Ke({},q),O._inputSettings||(O._inputSettings={}),O._callObjectLoader=O._callObjectMode?new tVe(O.callClientId):null,O._callState=vE,O._isPreparingToJoin=!1,O._accessState={access:hy},O._meetingSessionSummary={},O._finalSummaryOfPrevSession={},O._meetingSessionState=eN(y5,O._callObjectMode),O._nativeInCallAudioMode=x5,O._participants={},O._isScreenSharing=!1,O._participantCounts=b5,O._rmpPlayerState={},O._waitingParticipants={},O._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},O._activeSpeaker={},O._localAudioLevel=0,O._isLocalAudioLevelObserverRunning=!1,O._remoteParticipantsAudioLevel={},O._isRemoteParticipantsAudioLevelObserverRunning=!1,O._maxAppMessageSize=W1,O._messageChannel=St()?new Zqe:new Qqe,O._iframe&&(O._iframe.requestFullscreen?O._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===O._iframe?(O.emitDailyJSEvent({action:km}),O.sendMessageToCallMachine({action:km})):(O.emitDailyJSEvent({action:Em}),O.sendMessageToCallMachine({action:Em}))}):O._iframe.webkitRequestFullscreen&&O._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===O._iframe?(O.emitDailyJSEvent({action:km}),O.sendMessageToCallMachine({action:km})):(O.emitDailyJSEvent({action:Em}),O.sendMessageToCallMachine({action:Em}))})),St()){var X=O.nativeUtils();X.addAudioFocusChangeListener&&X.removeAudioFocusChangeListener&&X.addAppStateChangeListener&&X.removeAppStateChangeListener&&X.addSystemScreenCaptureStopListener&&X.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),O._hasNativeAudioFocus=!0,X.addAudioFocusChangeListener(O.handleNativeAudioFocusChange),X.addAppStateChangeListener(O.handleNativeAppStateChange),X.addSystemScreenCaptureStopListener(O.handleNativeSystemScreenCaptureStop)}return O._callObjectMode&&O.startListeningForDeviceChanges(),O._messageChannel.addListenerForMessagesFromCallMachine(O.handleMessageFromCallMachine,O.callClientId,O),O}return Pj(e,Sx),Qs(e,[{key:"destroy",value:(H=nt(function*(){var j;try{yield this.leave()}catch{}var P=this._iframe;if(P){var O=P.parentElement;O&&O.removeChild(P)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),St()){var V=this.nativeUtils();V.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),V.removeAppStateChangeListener(this.handleNativeAppStateChange),V.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete dc[this.callClientId],!((j=window)===null||j===void 0||(j=j._daily)===null||j===void 0)&&j.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return H.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(j){var P=j.bodyClass,O=j.cssFile,V=j.cssText;return _t(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(O),bodyClass:P,cssText:V}),this}},{key:"iframe",value:function(){return _t(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ma(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ma(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(j,P){for(var O in P){if(!Ix[O])throw new Error("unrecognized updateParticipant property ".concat(O));if(Ix[O].validate&&!Ix[O].validate(P[O],this,this._participants[j]))throw new Error(Ix[O].help)}}},{key:"updateParticipant",value:function(j,P){return this._participants.local&&this._participants.local.session_id===j&&(j="local"),j&&P&&(this.validateParticipantProperties(j,P),this.sendMessageToCallMachine({action:"update-participant",id:j,properties:P})),this}},{key:"updateParticipants",value:function(j){var P=this._participants.local&&this._participants.local.session_id;for(var O in j)O===P&&(O="local"),O&&j[O]&&this.validateParticipantProperties(O,j[O]);return this.sendMessageToCallMachine({action:"update-participants",participants:j}),this}},{key:"updateWaitingParticipant",value:(z=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ma(this._callObjectMode,"updateWaitingParticipant()"),tn(this._callState,"updateWaitingParticipant()"),typeof P!="string"||Pt(O)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(V,W){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:P,updates:O},function(Z){Z.error&&W(Z.error),Z.id||W(new Error("unknown error in updateWaitingParticipant()")),V({id:Z.id})})})}),function(){return z.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(I=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ma(this._callObjectMode,"updateWaitingParticipants()"),tn(this._callState,"updateWaitingParticipants()"),Pt(P)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(O,V){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:P},function(W){W.error&&V(W.error),W.ids||V(new Error("unknown error in updateWaitingParticipants()")),O({ids:W.ids})})})}),function(){return I.apply(this,arguments)})},{key:"requestAccess",value:(L=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=P.access,V=O===void 0?{level:WY}:O,W=P.name,Z=W===void 0?"":W;return Ma(this._callObjectMode,"requestAccess()"),tn(this._callState,"requestAccess()"),new Promise(function(te,q){j.sendMessageToCallMachine({action:"daily-method-request-access",access:V,name:Z},function(X){X.error&&q(X.error),X.access||q(new Error("unknown error in requestAccess()")),te({access:X.access,granted:X.granted})})})}),function(){return L.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in P&&(St()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),P={}):j&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),P={})),this.sendMessageToCallMachine({action:"local-audio",state:j,options:P}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(j){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:j}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(j){return this.sendMessageToCallMachine({action:"local-video",state:j}),this}},{key:"_setAllowLocalAudio",value:function(j){if(this._preloadCache.allowLocalAudio=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:j}),this}},{key:"_setAllowLocalVideo",value:function(j){if(this._preloadCache.allowLocalVideo=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:j}),this}},{key:"getReceiveSettings",value:(D=nt(function*(j){var P=this,O=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,V=O!==void 0&&O;if(Ma(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Pt(j)){case"string":return new Promise(function(W){P.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:j,showInheritedValues:V},function(Z){W(Z.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(j){return D.apply(this,arguments)})},{key:"updateReceiveSettings",value:(R=nt(function*(j){var P=this;if(Ma(this._callObjectMode,"updateReceiveSettings()"),!oJ(j,{allowAllParticipantsKey:!0}))throw new Error(uJ({allowAllParticipantsKey:!0}));return tn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(O){P.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:j},function(V){O({receiveSettings:V.receiveSettings})})})}),function(j){return R.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(j,P){if(j){var O={};if(j.audio){var V,W,Z;j.audio.settings&&(!Object.keys(j.audio.settings).length&&P||(O.audio={settings:Ke({},j.audio.settings)})),P&&(V=O.audio)!==null&&V!==void 0&&(V=V.settings)!==null&&V!==void 0&&V.customTrack&&(O.audio.settings={customTrack:this._sharedTracks.audioTrack});var te=((W=j.audio.processor)===null||W===void 0?void 0:W.type)==="none"&&((Z=j.audio.processor)===null||Z===void 0?void 0:Z._isDefaultWhenNone);if(j.audio.processor&&!te){var q=Ke({},j.audio.processor);delete q._isDefaultWhenNone,O.audio=Ke(Ke({},O.audio),{},{processor:q})}}if(j.video){var X,re,pe;j.video.settings&&(!Object.keys(j.video.settings).length&&P||(O.video={settings:Ke({},j.video.settings)})),P&&(X=O.video)!==null&&X!==void 0&&(X=X.settings)!==null&&X!==void 0&&X.customTrack&&(O.video.settings={customTrack:this._sharedTracks.videoTrack});var ye=((re=j.video.processor)===null||re===void 0?void 0:re.type)==="none"&&((pe=j.video.processor)===null||pe===void 0?void 0:pe._isDefaultWhenNone);if(j.video.processor&&!ye){var le=Ke({},j.video.processor);delete le._isDefaultWhenNone,O.video=Ke(Ke({},O.video),{},{processor:le})}}return O}}},{key:"getInputSettings",value:function(){var j=this;return _t(),new Promise(function(P){P(j._getInputSettings())})}},{key:"_getInputSettings",value:function(){var j,P,O,V,W,Z,te={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(j=((O=this._inputSettings)===null||O===void 0?void 0:O.video)||te,P=((V=this._inputSettings)===null||V===void 0?void 0:V.audio)||te):(j=((W=this._preloadCache)===null||W===void 0||(W=W.inputSettings)===null||W===void 0?void 0:W.video)||te,P=((Z=this._preloadCache)===null||Z===void 0||(Z=Z.inputSettings)===null||Z===void 0?void 0:Z.audio)||te);var q={audio:P,video:j};return this._prepInputSettingsForSharing(q,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(j,P){var O=this._inputSettings||{},V={};if(j.video){var W,Z,te;V.video={},j.video.settings?(V.video.settings={},P||j.video.settings.customTrack||(te=O.video)===null||te===void 0||!te.settings?V.video.settings=j.video.settings:V.video.settings=Ke(Ke({},O.video.settings),j.video.settings),Object.keys(V.video.settings).length||delete V.video.settings):(W=O.video)!==null&&W!==void 0&&W.settings&&(V.video.settings=O.video.settings),j.video.processor?V.video.processor=j.video.processor:(Z=O.video)!==null&&Z!==void 0&&Z.processor&&(V.video.processor=O.video.processor)}else O.video&&(V.video=O.video);if(j.audio){var q,X,re;V.audio={},j.audio.settings?(V.audio.settings={},P||j.audio.settings.customTrack||(re=O.audio)===null||re===void 0||!re.settings?V.audio.settings=j.audio.settings:V.audio.settings=Ke(Ke({},O.audio.settings),j.audio.settings),Object.keys(V.audio.settings).length||delete V.audio.settings):(q=O.audio)!==null&&q!==void 0&&q.settings&&(V.audio.settings=O.audio.settings),j.audio.processor?V.audio.processor=j.audio.processor:(X=O.audio)!==null&&X!==void 0&&X.processor&&(V.audio.processor=O.audio.processor)}else O.audio&&(V.audio=O.audio);this._maybeUpdateInputSettings(V)}},{key:"_devicesFromInputSettings",value:function(j){var P,O,V=(j==null||(P=j.video)===null||P===void 0||(P=P.settings)===null||P===void 0?void 0:P.deviceId)||null,W=(j==null||(O=j.audio)===null||O===void 0||(O=O.settings)===null||O===void 0?void 0:O.deviceId)||null,Z=this._preloadCache.outputDeviceId||null;return{camera:V?{deviceId:V}:{},mic:W?{deviceId:W}:{},speaker:Z?{deviceId:Z}:{}}}},{key:"updateInputSettings",value:(M=nt(function*(j){var P=this;return _t(),lJ(j)?j.video||j.audio?(cJ(j,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(j,!0),this._getInputSettings()):new Promise(function(O,V){P.sendMessageToCallMachine({action:"update-input-settings",inputSettings:j},function(W){if(W.error)V(W.error);else{if(W.returnPreloadCache)return P._updatePreloadCacheInputSettings(j,!0),void O(P._getInputSettings());P._maybeUpdateInputSettings(W.inputSettings),O(P._prepInputSettingsForSharing(W.inputSettings,!0))}})})):this._getInputSettings():(console.error(TE()),Promise.reject(TE()))}),function(j){return M.apply(this,arguments)})},{key:"setBandwidth",value:function(j){var P=j.kbs,O=j.trackConstraints;if(_t(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:P,trackConstraints:O}),this}},{key:"getDailyLang",value:function(){var j=this;if(_t(),this._callMachineInitialized)return new Promise(function(P){j.sendMessageToCallMachine({action:"get-daily-lang"},function(O){delete O.action,delete O.callbackStamp,P(O)})})}},{key:"setDailyLang",value:function(j){return _t(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:j}),this}},{key:"setProxyUrl",value:function(j){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:j}),this}},{key:"setIceConfig",value:function(j){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:j}),this}},{key:"meetingSessionSummary",value:function(){return[Qo,eo].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(F=nt(function*(){var j=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),tn(this._callState,"getMeetingSession()"),new Promise(function(P){j.sendMessageToCallMachine({action:"get-meeting-session"},function(O){delete O.action,delete O.callbackStamp,P(O)})})}),function(){return F.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return tn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ma(this._callObjectMode,"setMeetingSessionData()"),tn(this._callState,"setMeetingSessionData");try{(function(O,V){new eVe({data:O,mergeStrategy:V})})(j,P)}catch(O){throw console.error(O),O}try{this.sendMessageToCallMachine({action:"set-session-data",data:j,mergeStrategy:P})}catch(O){throw new Error("Error setting meeting session data: ".concat(O))}}},{key:"setUserName",value:function(j,P){var O=this;return this.properties.userName=j,new Promise(function(V){O.sendMessageToCallMachine({action:"set-user-name",name:j??"",thisMeetingOnly:St()||!!P&&!!P.thisMeetingOnly},function(W){delete W.action,delete W.callbackStamp,V(W)})})}},{key:"setUserData",value:($=nt(function*(j){var P=this;try{iJ(j)}catch(O){throw console.error(O),O}if(this.properties.userData=j,this._callMachineInitialized)return new Promise(function(O){try{P.sendMessageToCallMachine({action:"set-user-data",userData:j},function(V){delete V.action,delete V.callbackStamp,O(V)})}catch(V){throw new Error("Error setting user data: ".concat(V))}})}),function(j){return $.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(j){if(j&&(j<100||typeof j!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(j){var P=this;if(typeof AudioWorkletNode>"u"&&!St())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(O,V){P.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:j},function(W){P._isLocalAudioLevelObserverRunning=!W.error,W.error?V({error:W.error}):O()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:j}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(j){var P=this;if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(O,V){P.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:j},function(W){P._isRemoteParticipantsAudioLevelObserverRunning=!W.error,W.error?V({error:W.error}):O()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:j}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(U=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ma(this._callObjectMode,"startCamera()"),Q1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(P)}catch(O){return Promise.reject(O)}else{if(this._didPreAuth){if(P.url&&P.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(P.token&&P.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(P),this.properties=Ke(Ke({},this.properties),P)}return new Promise(function(O){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"start-camera",properties:Xu(j.properties,j.callClientId),preloadCache:Xu(j._preloadCache,j.callClientId)},function(V){O({camera:V.camera,mic:V.mic,speaker:V.speaker})})})}),function(){return U.apply(this,arguments)})},{key:"validateCustomTrack",value:function(j,P,O){if(O&&O.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(P&&P!=="music"&&P!=="speech"&&!(P instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(O&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(O))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(j instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return _t(),tn(this._callState,"startCustomTrack()"),this.validateCustomTrack(P.track,P.mode,P.trackName),new Promise(function(O,V){j._sharedTracks.customTrack=P.track,P.track=fo,j.sendMessageToCallMachine({action:"start-custom-track",properties:P},function(W){W.error?V({error:W.error}):O(W.mediaTag)})})}},{key:"stopCustomTrack",value:function(j){var P=this;return _t(),tn(this._callState,"stopCustomTrack()"),new Promise(function(O){P.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:j},function(V){O(V.mediaTag)})})}},{key:"setCamera",value:function(j){var P=this;return pm(),Rx(this._callMachineInitialized,"setCamera()"),new Promise(function(O){P.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:j},function(V){O({device:V.device})})})}},{key:"setAudioDevice",value:(B=nt(function*(j){return pm(),this.nativeUtils().setAudioDevice(j),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(j){return B.apply(this,arguments)})},{key:"cycleCamera",value:function(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(O){j.sendMessageToCallMachine({action:"cycle-camera",properties:P},function(V){O({device:V.device})})})}},{key:"cycleMic",value:function(){var j=this;return _t(),new Promise(function(P){j.sendMessageToCallMachine({action:"cycle-mic"},function(O){P({device:O.device})})})}},{key:"getCameraFacingMode",value:function(){var j=this;return pm(),new Promise(function(P){j.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(O){P(O.facingMode)})})}},{key:"setInputDevicesAsync",value:(E=nt(function*(j){var P=this,O=j.audioDeviceId,V=j.videoDeviceId,W=j.audioSource,Z=j.videoSource;if(_t(),W!==void 0&&(O=W),Z!==void 0&&(V=Z),typeof O=="boolean"&&(this._setAllowLocalAudio(O),O=void 0),typeof V=="boolean"&&(this._setAllowLocalVideo(V),V=void 0),!O&&!V)return yield this.getInputDevices();var te={};return O&&(O instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=O,O=fo,te.audio={settings:{customTrack:O}}):(delete this._sharedTracks.audioTrack,te.audio={settings:{deviceId:O}})),V&&(V instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=V,V=fo,te.video={settings:{customTrack:V}}):(delete this._sharedTracks.videoTrack,te.video={settings:{deviceId:V}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(te,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(q){P.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:O,videoDeviceId:V},function(X){if(delete X.action,delete X.callbackStamp,X.returnPreloadCache)return P._updatePreloadCacheInputSettings(te,!1),void q(P._devicesFromInputSettings(P._inputSettings));q(X)})})}),function(j){return E.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(T=nt(function*(j){var P=this,O=j.outputDeviceId;if(_t(),!O||typeof O!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=O,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(V,W){P.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:O},function(Z){if(delete Z.action,delete Z.callbackStamp,Z.error){var te=new Error(Z.error.message);return te.type=Z.error.type,void W(te)}Z.returnPreloadCache?V(P._devicesFromInputSettings(P._inputSettings)):V(Z)})})}),function(j){return T.apply(this,arguments)})},{key:"getInputDevices",value:(A=nt(function*(){var j=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P){j.sendMessageToCallMachine({action:"get-input-devices"},function(O){O.returnPreloadCache?P(j._devicesFromInputSettings(j._inputSettings)):P({camera:O.camera,mic:O.mic,speaker:O.speaker})})})}),function(){return A.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return pm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(j){if(pm(),[x5,bVe].includes(j)){if(j!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=j,!this.disableReactNativeAutoDeviceManagement("audio")&&my(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",j)}},{key:"preAuth",value:(k=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ma(this._callObjectMode,"preAuth()"),Q1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(P)),!P.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(P),this.properties=Ke(Ke({},this.properties),P),new Promise(function(O,V){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"daily-method-preauth",properties:Xu(j.properties,j.callClientId),preloadCache:Xu(j._preloadCache,j.callClientId)},function(W){return W.error?V(W.error):W.access?(j._didPreAuth=!0,void O({access:W.access})):V(new Error("unknown error in preAuth()"))})})}),function(){return k.apply(this,arguments)})},{key:"load",value:(C=nt(function*(j){var P=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(j&&(this.validateProperties(j),this.properties=Ke(Ke({},this.properties),j)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(G3),this.emitDailyJSEvent({action:QY}),this._callObjectMode?new Promise(function(O,V){P._callObjectLoader.cancel();var W=Date.now();P._callObjectLoader.load(P.properties.dailyConfig,function(Z){P._bundleLoadTime=Z?"no-op":Date.now()-W,P._updateCallState(Y3),Z&&P.emitDailyJSEvent({action:yE}),O()},function(Z,te){if(P.emitDailyJSEvent({action:ZY}),!te){P._updateCallState(eo),P.resetMeetingDependentVars();var q={action:NE,errorMsg:Z.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:Z,bundleUrl:c0(P.properties.dailyConfig)}}};P._maybeSendToSentry(q),P.emitDailyJSEvent(q),V(Z.msg)}})}):(this._iframe.src=EY(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(O,V){P._loadedCallback=function(W){P._callState!==eo?(P._updateCallState(Y3),(P.properties.cssFile||P.properties.cssText)&&P.loadCss(P.properties),O()):V(W)}}))}}),function(j){return C.apply(this,arguments)})},{key:"join",value:(S=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var O=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(P)}catch(V){return this.updateIsPreparingToJoin(!1),Promise.reject(V)}}else{if(O=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(P.url&&P.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(P.token&&P.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(P.url&&!this._callObjectMode&&P.url&&P.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(P.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(P),this.properties=Ke(Ke({},this.properties),P)}return P.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!P.showLocalVideo),P.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!P.showParticipantsBar),this._callState===cl||this._callState===p0?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(p0,!1),this.emitDailyJSEvent({action:nK}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Xu(this.properties,this.callClientId),preloadCache:Xu(this._preloadCache,this.callClientId)}),new Promise(function(V,W){j._joinedCallback=function(Z,te){if(j._callState!==eo){if(j._updateCallState(cl),Z)for(var q in Z){if(j._callObjectMode){var X=j._callMachine().store;i5(Z[q],X),o5(Z[q],X),l5(Z[q],j._participants[q],X)}j._participants[q]=Ke({},Z[q]),j.toggleParticipantAudioBasedOnNativeAudioFocus()}O&&j.loadCss(j.properties),V(Z)}else W(te)}}))}),function(){return S.apply(this,arguments)})},{key:"leave",value:(N=nt(function*(){var j=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(P){j._callState===Qo||j._callState===eo?P():j._callObjectLoader&&!j._callObjectLoader.loaded?(j._callObjectLoader.cancel(),j._updateCallState(Qo),j.resetMeetingDependentVars(),j.emitDailyJSEvent({action:Qo}),P()):(j._resolveLeave=P,j.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return N.apply(this,arguments)})},{key:"startScreenShare",value:(_=nt(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Rx(this._callMachineInitialized,"startScreenShare()"),P.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",P.screenVideoSendSettings),P.mediaStream&&(this._sharedTracks.screenMediaStream=P.mediaStream,P.mediaStream=fo),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var O=this.nativeUtils();if(yield O.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:_E,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});O.setSystemScreenCaptureStartCallback(function(){O.setSystemScreenCaptureStartCallback(null),j.sendMessageToCallMachine({action:J3,captureOptions:P})}),O.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:J3,captureOptions:P})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Rx(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=j.type;if(P&&P!=="cloud"&&P!=="raw-tracks"&&P!=="local")throw new Error("invalid type: ".concat(P,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Ke({action:"local-recording-start"},j))}},{key:"updateRecording",value:function(j){var P=j.layout,O=P===void 0?{preset:"default"}:P,V=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:O,instanceId:V})}},{key:"stopRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ke({action:"local-recording-stop"},j))}},{key:"startLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ke({action:"daily-method-start-live-streaming"},j))}},{key:"updateLiveStreaming",value:function(j){var P=j.layout,O=P===void 0?{preset:"default"}:P,V=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:O,instanceId:V})}},{key:"addLiveStreamingEndpoints",value:function(j){var P=j.endpoints,O=j.instanceId;this.sendMessageToCallMachine({action:X3,endpointsOp:Hqe,endpoints:P,instanceId:O})}},{key:"removeLiveStreamingEndpoints",value:function(j){var P=j.endpoints,O=j.instanceId;this.sendMessageToCallMachine({action:X3,endpointsOp:Gqe,endpoints:P,instanceId:O})}},{key:"stopLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ke({action:"daily-method-stop-live-streaming"},j))}},{key:"validateDailyConfig",value:function(j){j.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(j.camSimulcastEncodings)),j.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),YK()&&j.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(j){if(!(j instanceof Array||Array.isArray(j)))throw new Error("encodings must be an Array");if(!k5(j.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var V=0;V<j.length;V++){var W=j[V];for(var Z in this._validateEncodingLayerHasValidProperties(W),W)if(X1.includes(Z)){if(typeof W[Z]!="number")throw new Error("".concat(Z," must be a number"));if(P){var te=P[Z],q=te.min,X=te.max;if(!k5(W[Z],q,X))throw new Error("".concat(Z," value not in range. valid range: ").concat(q," to ").concat(X))}}else if(!["active","scalabilityMode"].includes(Z))throw new Error("Invalid key ".concat(Z,", valid keys are:")+Object.values(X1));if(O&&!W.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=nt(function*(j){var P=this,O=j.url,V=j.settings,W=V===void 0?{state:SE.PLAY}:V;try{(function(Z){if(typeof Z!="string")throw new Error('url parameter must be "string" type')})(O),C5(W),function(Z){for(var te in Z)if(!w5.includes(te))throw new Error("Invalid key ".concat(te,", valid keys are: ").concat(w5));Z.simulcastEncodings&&this.validateSimulcastEncodings(Z.simulcastEncodings,aJ,!0)}(W)}catch(Z){throw console.error("invalid argument Error: ".concat(Z)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),Z}return new Promise(function(Z,te){P.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:O,settings:W},function(q){q.error?te({error:q.error,errorMsg:q.errorMsg}):Z({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(j){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=nt(function*(j){var P=this;if(typeof j!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(O,V){P.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:j},function(W){W.error?V({error:W.error,errorMsg:W.errorMsg}):O()})})}),function(j){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(x=nt(function*(j){var P=this,O=j.session_id,V=j.settings;try{C5(V)}catch(W){throw console.error("invalid argument Error: ".concat(W)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),W}return new Promise(function(W,Z){P.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:O,settings:V},function(te){te.error?Z({error:te.error,errorMsg:te.errorMsg}):W({session_id:te.session_id,remoteMediaPlayerState:{state:te.state,settings:te.settings}})})})}),function(j){return x.apply(this,arguments)})},{key:"startTranscription",value:function(j){tn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Ke({action:"daily-method-start-transcription"},j))}},{key:"updateTranscription",value:function(j){if(tn(this._callState,"updateTranscription()"),!j)throw new Error("updateTranscription Error: options is mandatory");if(Pt(j)!=="object")throw new Error("updateTranscription Error: options must be object type");if(j.participants&&!Array.isArray(j.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Ke({action:"daily-method-update-transcription"},j))}},{key:"stopTranscription",value:function(j){if(tn(this._callState,"stopTranscription()"),j&&Pt(j)!=="object")throw new Error("stopTranscription Error: options must be object type");if(j&&!j.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Ke({action:"daily-method-stop-transcription"},j))}},{key:"startDialOut",value:(v=nt(function*(j){var P=this;tn(this._callState,"startDialOut()");var O=function(te){if(te){if(!Array.isArray(te))throw new Error("Error starting dial out: audio codec must be an array");if(te.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");te.forEach(function(q){if(typeof q!="string")throw new Error("Error starting dial out: audio codec must be a string");if(q!=="OPUS"&&q!=="PCMU"&&q!=="PCMA"&&q!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!j.sipUri&&!j.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(j.sipUri&&j.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(j.sipUri){if(typeof j.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!j.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(j.video&&typeof j.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(te){if(te&&(O(te.audio),te.video)){if(!Array.isArray(te.video))throw new Error("Error starting dial out: video codec must be an array");if(te.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");te.video.forEach(function(q){if(typeof q!="string")throw new Error("Error starting dial out: video codec must be a string");if(q!=="H264"&&q!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(j.codecs)}if(j.phoneNumber){if(typeof j.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(j.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");j.codecs&&O(j.codecs.audio)}if(j.callerId){if(typeof j.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(j.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(j.displayName){if(typeof j.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(j.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(j.userId){if(typeof j.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(j.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(_5(j),j.permissions&&j.permissions.canReceive){var V=Fr(rJ.validateJSONObject(j.permissions.canReceive),2),W=V[0],Z=V[1];if(!W)throw new Error(Z)}return new Promise(function(te,q){P.sendMessageToCallMachine(Ke({action:"dialout-start"},j),function(X){X.error?q(X.error):te(X)})})}),function(j){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(j){var P=this;return tn(this._callState,"stopDialOut()"),new Promise(function(O,V){P.sendMessageToCallMachine(Ke({action:"dialout-stop"},j),function(W){W.error?V(W.error):O(W)})})}},{key:"sipCallTransfer",value:(g=nt(function*(j){var P=this;if(tn(this._callState,"sipCallTransfer()"),!j)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return j.useSipRefer=!1,S5(j,"sipCallTransfer"),_5(j),new Promise(function(O,V){P.sendMessageToCallMachine(Ke({action:Q3},j),function(W){W.error?V(W.error):O(W)})})}),function(j){return g.apply(this,arguments)})},{key:"sipRefer",value:(p=nt(function*(j){var P=this;if(tn(this._callState,"sipRefer()"),!j)throw new Error("sessionId and toEndPoint are mandatory parameter");return j.useSipRefer=!0,S5(j,"sipRefer"),new Promise(function(O,V){P.sendMessageToCallMachine(Ke({action:Q3},j),function(W){W.error?V(W.error):O(W)})})}),function(j){return p.apply(this,arguments)})},{key:"sendDTMF",value:(m=nt(function*(j){var P=this;return tn(this._callState,"sendDTMF()"),function(O){var V=O.sessionId,W=O.tones;if(!V||!W)throw new Error("sessionId and tones are mandatory parameter");if(typeof V!="string"||typeof W!="string")throw new Error("sessionId and tones should be of string type");if(W.length>20)throw new Error("tones string must be upto 20 characters");var Z=/[^0-9A-D*#]/g,te=W.match(Z);if(te&&te[0])throw new Error("".concat(te[0]," is not valid DTMF tone"))}(j),new Promise(function(O,V){P.sendMessageToCallMachine(Ke({action:"send-dtmf"},j),function(W){W.error?V(W.error):O(W)})})}),function(j){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var j=this;return this._callState!==cl?Promise.resolve(Ke({stats:{latest:{}}},this._network)):new Promise(function(P){j.sendMessageToCallMachine({action:"get-calc-stats"},function(O){P(Ke(Ke({},j._network),{},{stats:O.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=nt(function*(){var j=this;if(Z1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}return new Promise(function(P,O){j.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(V){V.error?O(V.error):P(V.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(j){return j?j instanceof MediaStreamTrack?!!pVe(j)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=nt(function*(){var j=this;_t(),Ma(this._callObjectMode,"testCallQuality()"),Rx(this._callMachineInitialized,"testCallQuality()",null,!0),Q1(this._callState,this._isPreparingToJoin,"testCallQuality()");var P=this._testCallAlreadyInProgress,O=function(W){P||(j._testCallInProgress=W)};if(O(!0),this.needsLoad())try{var V=this._callState;yield this.load(),this._callState=V}catch(W){return O(!1),Promise.reject(W)}return new Promise(function(W){j.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:j.properties.dailyJsVersion},function(Z){var te=Z.results,q=te.result,X=zL(te,xVe);if(q==="failed"){var re,pe=Ke({},X);(re=X.error)!==null&&re!==void 0&&re.details?(X.error.details=JSON.parse(X.error.details),pe.error=Ke(Ke({},pe.error),{},{details:Ke({},pe.error.details)}),pe.error.details.duringTest="testCallQuality"):(pe.error=pe.error?Ke({},pe.error):{},pe.error.details={duringTest:"testCallQuality"}),j._maybeSendToSentry(pe)}O(!1),W(Ke({result:q},X))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=nt(function*(j){var P;St()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),P=yield this.testPeerToPeerCallQuality(j)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),P=yield this.testCallQuality());var O={result:P.result,secondsElapsed:P.secondsElapsed};return P.data&&(O.data={maxRTT:P.data.maxRoundTripTime,packetLoss:P.data.avgRecvPacketLoss}),O}),function(j){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=nt(function*(j){var P=this;if(Z1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(W){return Promise.reject(W)}var O=j.videoTrack,V=j.duration;if(!this._validateVideoTrackForNetworkTests(O))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=O,new Promise(function(W,Z){P.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:V},function(te){te.error?Z(te.error):W(te.results)})})}),function(j){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){St()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=nt(function*(j){var P=this;if(Z1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(O){return Promise.reject(O)}if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=j,new Promise(function(O,V){P.sendMessageToCallMachine({action:"test-network-connectivity"},function(W){W.error?V(W.error):O(W.results)})})}),function(j){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var j=this;return new Promise(function(P){j._callState===cl?j.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(O){P(O.cpuStats)}):P({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(j){var P;if(!(((P=Object.keys(j))===null||P===void 0?void 0:P.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(X1))}},{key:"_validateVideoSendSettings",value:function(j,P){var O=j==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],V="Video send settings should be either an object or one of the supported presets: ".concat(O.join());if(typeof P=="string"){if(!O.includes(P))throw new Error(V)}else{if(Pt(P)!=="object")throw new Error(V);if(!P.maxQuality&&!P.encodings&&P.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(P.maxQuality&&["low","medium","high"].indexOf(P.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(P.encodings){var W=!1;switch(Object.keys(P.encodings).length){case 1:W=!P.encodings.low;break;case 2:W=!P.encodings.low||!P.encodings.medium;break;case 3:W=!P.encodings.low||!P.encodings.medium||!P.encodings.high;break;default:W=!0}if(W)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");P.encodings.low&&this._validateEncodingLayerHasValidProperties(P.encodings.low),P.encodings.medium&&this._validateEncodingLayerHasValidProperties(P.encodings.medium),P.encodings.high&&this._validateEncodingLayerHasValidProperties(P.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(j){var P=this;if(!j||Object.keys(j).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(j).forEach(function(O){var V=Fr(O,2),W=V[0],Z=V[1];P._validateVideoSendSettings(W,Z)})}},{key:"updateSendSettings",value:function(j){var P=this;return this.validateUpdateSendSettings(j),this.needsLoad()?(this._preloadCache.sendSettings=j,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(O,V){P.sendMessageToCallMachine({action:"update-send-settings",sendSettings:j},function(W){W.error?V(W.error):O(W.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return _t(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(j){return _t(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:j}),this}},{key:"activeSpeakerMode",value:function(){return _t(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(j){return tn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=j,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:j}),this}},{key:"enumerateDevices",value:(l=nt(function*(){var j=this;if(this._callObjectMode){var P=yield navigator.mediaDevices.enumerateDevices();return yu()==="Firefox"&&g0().major>115&&g0().major<123&&(P=P.filter(function(O){return O.kind!=="audiooutput"})),{devices:P.map(function(O){var V=JSON.parse(JSON.stringify(O));if(!St()&&O.kind==="videoinput"&&O.getCapabilities){var W,Z=O.getCapabilities();V.facing=(Z==null||(W=Z.facingMode)===null||W===void 0?void 0:W.length)>=1?Z.facingMode[0]:void 0}return V})}}return new Promise(function(O){j.sendMessageToCallMachine({action:"enumerate-devices"},function(V){O({devices:V.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(tn(this._callState,"sendAppMessage()"),JSON.stringify(j).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:j,to:P}),this}},{key:"addFakeParticipant",value:function(j){return _t(),tn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Ke({action:"add-fake-participant"},j)),this}},{key:"setShowNamesMode",value:function(j){return As(this._callObjectMode,"setShowNamesMode()"),_t(),j&&j!=="always"&&j!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:j}),this)}},{key:"setShowLocalVideo",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return As(this._callObjectMode,"setShowLocalVideo()"),_t(),tn(this._callState,"setShowLocalVideo()"),typeof j!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:j}),this._showLocalVideo=j,this)}},{key:"showLocalVideo",value:function(){return As(this._callObjectMode,"showLocalVideo()"),_t(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return As(this._callObjectMode,"setShowParticipantsBar()"),_t(),tn(this._callState,"setShowParticipantsBar()"),typeof j!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:j}),this._showParticipantsBar=j,this)}},{key:"showParticipantsBar",value:function(){return As(this._callObjectMode,"showParticipantsBar()"),_t(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return _t(),As(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(j){return _t(),As(this._callObjectMode,"setCustomIntegrations()"),tn(this._callState,"setCustomIntegrations()"),fJ(j)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:j}),this._customIntegrations=j,this):this}},{key:"startCustomIntegrations",value:function(j){var P=this;if(_t(),As(this._callObjectMode,"startCustomIntegrations()"),tn(this._callState,"startCustomIntegrations()"),Array.isArray(j)&&j.some(function(W){return typeof W!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var O=typeof j=="string"?[j]:j,V=O.filter(function(W){return!(W in P._customIntegrations)});return V.length?(console.error(`Can't find custom integration(s): "`.concat(V.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:O}),this)}},{key:"stopCustomIntegrations",value:function(j){var P=this;if(_t(),As(this._callObjectMode,"stopCustomIntegrations()"),tn(this._callState,"stopCustomIntegrations()"),Array.isArray(j)&&j.some(function(W){return typeof W!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var O=typeof j=="string"?[j]:j,V=O.filter(function(W){return!(W in P._customIntegrations)});return V.length?(console.error(`Can't find custom integration(s): "`.concat(V.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:O}),this)}},{key:"customTrayButtons",value:function(){return As(this._callObjectMode,"customTrayButtons()"),_t(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(j){return As(this._callObjectMode,"updateCustomTrayButtons()"),_t(),tn(this._callState,"updateCustomTrayButtons()"),hJ(j)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:j}),this._customTrayButtons=j,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(x0))),this)}},{key:"theme",value:function(){return As(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(j){var P=this;return As(this._callObjectMode,"setTheme()"),new Promise(function(O,V){try{P.validateProperties({theme:j}),P.properties.theme=Ke({},j),P.sendMessageToCallMachine({action:"set-theme",theme:P.properties.theme});try{P.emitDailyJSEvent({action:XY,theme:P.properties.theme})}catch(W){console.log("could not emit 'theme-updated'",W)}O(P.properties.theme)}catch(W){V(W)}})}},{key:"requestFullscreen",value:(o=nt(function*(){if(_t(),this._iframe&&!document.fullscreenElement&&Z3())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(j){console.log("could not make video call fullscreen",j)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){_t(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=nt(function*(){var j=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(P){j.sendMessageToCallMachine({action:"get-sidebar-view"},function(O){P(O.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(j){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:j}),this)}},{key:"room",value:(a=nt(function*(){var j=this,P=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,O=P===void 0||P;return this._accessState.access===hy||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(V){j.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:O},function(W){delete W.action,delete W.callbackStamp,V(W)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(r=nt(function*(){try{var j=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield j.json()).geo}}catch(P){return console.error("geo lookup failed",P),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=nt(function*(j){var P=this;return _t(),tn(this._callState,"setNetworkTopology()"),new Promise(function(O,V){P.sendMessageToCallMachine({action:"set-network-topology",opts:j},function(W){W.error?V({error:W.error}):O({workerId:W.workerId})})})}),function(j){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=nt(function*(){var j=this;return new Promise(function(P,O){j.needsLoad()&&P({topology:"none"}),j.sendMessageToCallMachine({action:"get-network-topology"},function(V){V.error?O({error:V.error}):P({topology:V.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(j){if(_t(),typeof j!="number"&&j!==!0&&j!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(j));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:j})}},{key:"on",value:function(j,P){return Sx.prototype.on.call(this,j,P)}},{key:"once",value:function(j,P){return Sx.prototype.once.call(this,j,P)}},{key:"off",value:function(j,P){return Sx.prototype.off.call(this,j,P)}},{key:"validateProperties",value:function(j){var P,O;if(j!=null&&(P=j.dailyConfig)!==null&&P!==void 0&&P.userMediaAudioConstraints){var V,W;St()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var Z=j.inputSettings||{};Z.audio=((V=j.inputSettings)===null||V===void 0?void 0:V.audio)||{},Z.audio.settings=((W=j.inputSettings)===null||W===void 0||(W=W.audio)===null||W===void 0?void 0:W.settings)||{},Z.audio.settings=Ke(Ke({},Z.audio.settings),j.dailyConfig.userMediaAudioConstraints),j.inputSettings=Z,delete j.dailyConfig.userMediaAudioConstraints}if(j!=null&&(O=j.dailyConfig)!==null&&O!==void 0&&O.userMediaVideoConstraints){var te,q;St()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var X=j.inputSettings||{};X.video=((te=j.inputSettings)===null||te===void 0?void 0:te.video)||{},X.video.settings=((q=j.inputSettings)===null||q===void 0||(q=q.video)===null||q===void 0?void 0:q.settings)||{},X.video.settings=Ke(Ke({},X.video.settings),j.dailyConfig.userMediaVideoConstraints),j.inputSettings=X,delete j.dailyConfig.userMediaVideoConstraints}for(var re in j)if(hc[re]){if(hc[re].validate&&!hc[re].validate(j[re],this))throw new Error("property '".concat(re,"': ").concat(hc[re].help))}else console.warn("Ignoring unrecognized property '".concat(re,"'")),delete j[re]}},{key:"assembleMeetingUrl",value:function(){var j,P,O=Ke(Ke({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(j=this.properties.dailyConfig)!==null&&j!==void 0&&j.proxyUrl?encodeURIComponent((P=this.properties.dailyConfig)===null||P===void 0?void 0:P.proxyUrl):void 0}),V=O.url.match(/\?/)?"&":"?";return O.url+V+Object.keys(hc).filter(function(W){return hc[W].queryString&&O[W]!==void 0}).map(function(W){return"".concat(hc[W].queryString,"=").concat(O[W])}).join("&")}},{key:"needsLoad",value:function(){return[vE,G3,Qo,eo].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(j,P){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(j,P,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(j){this._messageChannel.forwardPackagedMessageToCallMachine(j,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(j){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(j,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(j){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(j)}},{key:"handleMessageFromCallMachine",value:function(j){switch(j.action){case KY:this.sendMessageToCallMachine(Ke({action:JY},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var P={action:Mx,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:c0(this.properties.dailyConfig)}};this.sendMessageToCallMachine(P),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case yE:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(j);break;case rK:var O,V=Ke({},j);delete V.internal,this._maxAppMessageSize=((O=j.internal)===null||O===void 0?void 0:O._maxAppMessageSize)||W1,this._joinedCallback&&(this._joinedCallback(j.participants),this._joinedCallback=null),this.emitDailyJSEvent(V);break;case aK:case iK:if(this._callState===Qo)return;if(j.participant&&j.participant.session_id){var W=j.participant.local?"local":j.participant.session_id;if(this._callObjectMode){var Z=this._callMachine().store;i5(j.participant,Z),o5(j.participant,Z),l5(j.participant,this._participants[W],Z)}try{this.maybeParticipantTracksStopped(this._participants[W],j.participant),this.maybeParticipantTracksStarted(this._participants[W],j.participant),this.maybeEventRecordingStopped(this._participants[W],j.participant),this.maybeEventRecordingStarted(this._participants[W],j.participant)}catch(K){console.error("track events error",K)}this.compareEqualForParticipantUpdateEvent(j.participant,this._participants[W])||(this._participants[W]=Ke({},j.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(j))}break;case oK:if(j.participant&&j.participant.session_id){var te=this._participants[j.participant.session_id];te&&this.maybeParticipantTracksStopped(te,null),delete this._participants[j.participant.session_id],this.emitDailyJSEvent(j)}break;case lK:Kr(this._participantCounts,j.participantCounts)||(this._participantCounts=j.participantCounts,this.emitDailyJSEvent(j));break;case cK:var q={access:j.access};j.awaitingAccess&&(q.awaitingAccess=j.awaitingAccess),Kr(this._accessState,q)||(this._accessState=q,this.emitDailyJSEvent(j));break;case uK:if(j.meetingSession){this._meetingSessionSummary=j.meetingSession,this.emitDailyJSEvent(j);var X=Ke(Ke({},j),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(X)}break;case NE:var re;this._iframe&&!j.preserveIframe&&(this._iframe.src=""),this._updateCallState(eo),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(j.errorMsg),this._loadedCallback=null),j.preserveIframe;var pe=zL(j,yVe);pe!=null&&(re=pe.error)!==null&&re!==void 0&&re.details&&(pe.error.details=JSON.parse(pe.error.details)),this._maybeSendToSentry(j),this._joinedCallback&&(this._joinedCallback(null,pe),this._joinedCallback=null),this.emitDailyJSEvent(pe);break;case sK:this._callState!==eo&&this._updateCallState(Qo),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(j);break;case"selected-devices-updated":j.devices&&this.emitDailyJSEvent(j);break;case DK:var ye=j.state,le=j.threshold,be=j.quality,Se=ye.state,Oe=ye.reasons;Se===this._network.networkState&&Kr(Oe,this._network.networkStateReasons)&&le===this._network.threshold&&be===this._network.quality||(this._network.networkState=Se,this._network.networkStateReasons=Oe,this._network.quality=be,this._network.threshold=le,j.networkState=Se,Oe.length&&(j.networkStateReasons=Oe),delete j.state,this.emitDailyJSEvent(j));break;case RK:j&&j.cpuLoadState&&this.emitDailyJSEvent(j);break;case $K:j&&j.faceCounts!==void 0&&this.emitDailyJSEvent(j);break;case OK:var qe=j.activeSpeaker;this._activeSpeaker.peerId!==qe.peerId&&(this._activeSpeaker.peerId=qe.peerId,this.emitDailyJSEvent({action:j.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Ge=j.show;this._showLocalVideo=Ge,this.emitDailyJSEvent({action:j.action,show:Ge});break;case MK:var he=j.enabled;this._activeSpeakerMode!==he&&(this._activeSpeakerMode=he,this.emitDailyJSEvent({action:j.action,enabled:this._activeSpeakerMode}));break;case hK:case fK:case mK:this._waitingParticipants=j.allWaitingParticipants,this.emitDailyJSEvent({action:j.action,participant:j.participant});break;case qK:Kr(this._receiveSettings,j.receiveSettings)||(this._receiveSettings=j.receiveSettings,this.emitDailyJSEvent({action:j.action,receiveSettings:j.receiveSettings}));break;case jE:this._maybeUpdateInputSettings(j.inputSettings);break;case"send-settings-updated":Kr(this._sendSettings,j.sendSettings)||(this._sendSettings=j.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:j.action,sendSettings:j.sendSettings}));break;case"local-audio-level":this._localAudioLevel=j.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=j.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case CK:var me=j.session_id;this._rmpPlayerState[me]=j.playerState,this.emitDailyJSEvent(j);break;case EK:delete this._rmpPlayerState[j.session_id],this.emitDailyJSEvent(j);break;case kK:var Ae=j.session_id,Ye=this._rmpPlayerState[Ae];Ye&&this.compareEqualForRMPUpdateEvent(Ye,j.remoteMediaPlayerState)||(this._rmpPlayerState[Ae]=j.remoteMediaPlayerState,this.emitDailyJSEvent(j));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(j);break;case dK:var yt=this._meetingSessionState.topology!==(j.meetingSessionState&&j.meetingSessionState.topology);this._meetingSessionState=eN(j.meetingSessionState,this._callObjectMode),(this._callObjectMode||yt)&&this.emitDailyJSEvent(j);break;case PK:this._isScreenSharing=!0,this.emitDailyJSEvent(j);break;case AK:case TK:this._isScreenSharing=!1,this.emitDailyJSEvent(j);break;case bE:case wE:case bK:case wK:case jK:case vK:case xK:case yK:case eK:case tK:case NK:case SK:case"test-completed":case IK:case _K:case LK:case FK:case BK:case UK:case _E:case zK:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(j);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(j,P){var O="record";j&&(P.local||P[O]!==!1||j[O]===P[O]||this.emitDailyJSEvent({action:wE}))}},{key:"maybeEventRecordingStarted",value:function(j,P){var O="record";j&&(P.local||P[O]!==!0||j[O]===P[O]||this.emitDailyJSEvent({action:bE}))}},{key:"_trackStatePlayable",value:function(j){return!(!j||j.state!==VY)}},{key:"_trackChanged",value:function(j,P){return(j==null?void 0:j.id)!==(P==null?void 0:P.id)}},{key:"maybeEventTrackStopped",value:function(j,P,O){var V,W,Z=(V=P==null?void 0:P.tracks[j])!==null&&V!==void 0?V:null,te=(W=O==null?void 0:O.tracks[j])!==null&&W!==void 0?W:null,q=Z==null?void 0:Z.track;if(q){var X=this._trackStatePlayable(Z),re=this._trackStatePlayable(te),pe=this._trackChanged(q,te==null?void 0:te.track);X&&(re&&!pe||this.emitDailyJSEvent({action:gK,track:q,participant:O??P,type:j}))}}},{key:"maybeEventTrackStarted",value:function(j,P,O){var V,W,Z=(V=P==null?void 0:P.tracks[j])!==null&&V!==void 0?V:null,te=(W=O==null?void 0:O.tracks[j])!==null&&W!==void 0?W:null,q=te==null?void 0:te.track;if(q){var X=this._trackStatePlayable(Z),re=this._trackStatePlayable(te),pe=this._trackChanged(Z==null?void 0:Z.track,q);re&&(X&&!pe||this.emitDailyJSEvent({action:pK,track:q,participant:O,type:j}))}}},{key:"maybeParticipantTracksStopped",value:function(j,P){if(j)for(var O in j.tracks)this.maybeEventTrackStopped(O,j,P)}},{key:"maybeParticipantTracksStarted",value:function(j,P){if(P)for(var O in P.tracks)this.maybeEventTrackStarted(O,j,P)}},{key:"compareEqualForRMPUpdateEvent",value:function(j,P){var O,V;return j.state===P.state&&((O=j.settings)===null||O===void 0?void 0:O.volume)===((V=P.settings)===null||V===void 0?void 0:V.volume)}},{key:"emitDailyJSEvent",value:function(j){try{j.callClientId=this.callClientId,this.emit(j.action,j)}catch(P){console.log("could not emit",j,P)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(j,P){return!!Kr(j,P)&&(!j.videoTrack||!P.videoTrack||j.videoTrack.id===P.videoTrack.id&&j.videoTrack.muted===P.videoTrack.muted&&j.videoTrack.enabled===P.videoTrack.enabled)&&(!j.audioTrack||!P.audioTrack||j.audioTrack.id===P.audioTrack.id&&j.audioTrack.muted===P.audioTrack.muted&&j.audioTrack.enabled===P.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return St()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(j){this._updateCallState(this._callState,j)}},{key:"_updateCallState",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(j!==this._callState||P!==this._isPreparingToJoin){var O=this._callState,V=this._isPreparingToJoin;this._callState=j,this._isPreparingToJoin=P;var W=this._callState===cl;this.updateShowAndroidOngoingMeetingNotification(W);var Z=my(O,V),te=my(this._callState,this._isPreparingToJoin);Z!==te&&(this.updateKeepDeviceAwake(te),this.updateDeviceAudioMode(te),this.updateNoOpRecordingEnsuringBackgroundContinuity(te))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=b5,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:hy},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=eN(y5,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=W1,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(j){St()&&this.nativeUtils().setKeepDeviceAwake(j,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(j){if(St()&&!this.disableReactNativeAutoDeviceManagement("audio")){var P=j?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(P)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(j){if(St()&&this.nativeUtils().setShowOngoingMeetingNotification){var P,O,V,W;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var Z=this.properties.reactNativeConfig.androidInCallNotification;P=Z.title,O=Z.subtitle,V=Z.iconName,W=Z.disableForCustomOverride}W&&(j=!1),this.nativeUtils().setShowOngoingMeetingNotification(j,P,O,V,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(j){St()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(j)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var j;if(St()){var P=(j=this._callMachine())===null||j===void 0||(j=j.store)===null||j===void 0?void 0:j.getState();for(var O in P==null?void 0:P.streams){var V=P.streams[O];V&&V.pendingTrack&&V.pendingTrack.kind==="audio"&&(V.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(j){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[j]}},{key:"absoluteUrl",value:function(j){if(j!==void 0){var P=document.createElement("a");return P.href=j,P.href}}},{key:"sayHello",value:function(){var j="hello, world.";return console.log(j),j}},{key:"_logUseAfterDestroy",value:function(){var j=Object.values(dc)[0];if(this.needsLoad())if(j&&!j.needsLoad()){var P={action:Mx,level:"error",code:this.strictMode?9995:9997};j.sendMessageToCallMachine(P)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var O={action:Mx,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(O,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var j=0,P=Object.values(dc);j<P.length;j++){var O=P[j];O._callMachineInitialized?(O.sendMessageToCallMachine({action:Mx,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),O._delayDuplicateInstanceLog=!1):O._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(j){var P,O,V,W;if(!((P=j.error)!==null&&P!==void 0&&P.type&&(![YY,GY,xE].includes(j.error.type)||j.error.type===xE&&j.error.msg.includes("deleted")))){var Z=(O=this.properties)!==null&&O!==void 0&&O.url?new URL(this.properties.url):void 0,te="production";Z&&Z.host.includes(".staging.daily")&&(te="staging");var q,X,re,pe,ye,le=function(me){const Ae=[zze(),Bze(),mqe(),hqe(),yqe(),wqe(),Hze(),bqe()];return me.autoSessionTracking!==!1&&Ae.push(xqe()),Ae}({}).filter(function(me){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(me.name)}),be=new eqe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:aqe,stackParser:dqe,integrations:le,environment:te}),Se=new Vl;if(Se.setClient(be),be.init(),this.session_id&&Se.setExtra("sessionId",this.session_id),this.properties){var Oe=Ke({},this.properties);Oe.userName=Oe.userName?"[Filtered]":void 0,Oe.userData=Oe.userData?"[Filtered]":void 0,Oe.token=Oe.token?"[Filtered]":void 0,Se.setExtra("properties",Oe)}if(Z){var qe=Z.searchParams.get("domain");if(!qe){var Ge=Z.host.match(/(.*?)\./);qe=Ge&&Ge[1]||""}qe&&Se.setTag("domain",qe)}j.error&&(Se.setTag("fatalErrorType",j.error.type),Se.setExtra("errorDetails",j.error.details),!((q=j.error.details)===null||q===void 0)&&q.uri&&Se.setTag("serverAddress",j.error.details.uri),!((X=j.error.details)===null||X===void 0)&&X.workerGroup&&Se.setTag("workerGroup",j.error.details.workerGroup),!((re=j.error.details)===null||re===void 0)&&re.geoGroup&&Se.setTag("geoGroup",j.error.details.geoGroup),!((pe=j.error.details)===null||pe===void 0)&&pe.on&&Se.setTag("connectionAttempt",j.error.details.on),(ye=j.error.details)!==null&&ye!==void 0&&ye.bundleUrl&&(Se.setTag("bundleUrl",j.error.details.bundleUrl),Se.setTag("bundleError",j.error.details.sourceError.type))),Se.setTags({callMode:this._callObjectMode?St()?"reactNative":(V=this.properties)!==null&&V!==void 0&&(V=V.dailyConfig)!==null&&V!==void 0&&(V=V.callMode)!==null&&V!==void 0&&V.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var he=((W=j.error)===null||W===void 0?void 0:W.msg)||j.errorMsg;Se.captureException(new Error(he))}}},{key:"_callMachine",value:function(){var j;return(j=window._daily)===null||j===void 0||(j=j.instances)===null||j===void 0||(j=j[this.callClientId])===null||j===void 0?void 0:j.callMachine}},{key:"_maybeUpdateInputSettings",value:function(j){if(!Kr(this._inputSettings,j)){var P=this._getInputSettings();this._inputSettings=j;var O=this._getInputSettings();Kr(P,O)||this.emitDailyJSEvent({action:jE,inputSettings:O})}}}],[{key:"supportedBrowser",value:function(){if(St())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var j=lze.getParser(Sa());return{supported:!!Y1(),mobile:j.getPlatformType()==="mobile",name:j.getBrowserName(),version:j.getBrowserVersion(),supportsFullscreen:!!Z3(),supportsScreenShare:!!Yqe(),supportsSfu:!!Y1(),supportsVideoProcessing:HK(),supportsAudioProcessing:GK()}}},{key:"version",value:function(){return"0.84.0"}},{key:"createCallObject",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j.layout="none",new e(null,j)}},{key:"wrap",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_t(),!j||!j.contentWindow||typeof j.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser"),new e(j,P)}},{key:"createFrame",value:function(j,P){var O,V;_t(),j&&P?(O=j,V=P):j&&j.append?(O=j,V={}):(O=document.body,V=j||{});var W=V.iframeStyle;W||(W=O===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var Z=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?Z.allow="microphone, camera":Z.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",Z.style.visibility="hidden",O.appendChild(Z),Z.style.visibility=null,Object.keys(W).forEach(function(te){return Z.style[te]=W[te]}),V.layout||(V.customLayout?V.layout="custom-v1":V.layout="browser");try{return new e(Z,V)}catch(te){throw O.removeChild(Z),te}}},{key:"createTransparentFrame",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_t();var P=document.createElement("iframe");return P.allow="microphone; camera; autoplay",P.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(P),j.layout||(j.layout="custom-v1"),e.wrap(P,j)}},{key:"getCallInstance",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return j?dc[j]:Object.values(dc)[0]}}]);var t,n,r,a,i,o,l,c,u,d,h,f,m,p,g,v,x,b,w,_,N,S,C,k,A,T,E,B,U,$,F,M,R,D,L,I,z,H}();function _5(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Xu(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=fo;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function tn(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==cl){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function my(e,t){return[p0,cl].includes(e)||t}function Q1(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(my(e,t)){var a="".concat(n," not supported after joining a meeting.");throw r&&(a+=" ".concat(r)),console.error(a),new Error(a)}}function Rx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Z1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Ma(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function As(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function _t(){if(St())throw new Error("This daily-js method is not currently supported in React Native")}function pm(){if(!St())throw new Error("This daily-js method is only supported in React Native")}function iJ(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Kr(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function oJ(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},a=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!a(h.video))&&!(h.screenVideo&&!a(h.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=Fr(l[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function lJ(e){if(Pt(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Fr(n[t],2),a=r[0],i=r[1];switch(a){case"video":if(Pt(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=Fr(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!_Ve(d))return!1;break;case"settings":if(!N5(d))return!1;break;default:return!1}}break;case"audio":if(Pt(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Fr(f[h],2),p=m[0],g=m[1];switch(p){case"processor":if(!jVe(g))return!1;break;case"settings":if(!N5(g))return!1;break;default:return!1}}break;default:return!1}}return!0}function cJ(e,t,n){var r,a=[];e.video&&e.video.processor&&(HK((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(GK()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:fo}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:fo}):delete n.videoTrack)}function jVe(e){if(St())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Pt(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(VK).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function _Ve(e){if(St())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Pt(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(fy).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Pt(e.config)!=="object"||!function(n,r){var a=Object.keys(r);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case fy.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case fy.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(u0(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return G1.includes(f)}catch(p){return console.error("failed to deduce blob content type",p),!1}var m=h.split(".").at(-1).toLowerCase().trim();return G1.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(G1.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function N5(e){return Pt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function TE(){var e=Object.values(fy).join(" | "),t=Object.values(VK).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function uJ(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(HY).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function dJ(){return"customIntegrations should be an object of type ".concat(JSON.stringify(AE),".")}function hJ(e){if(e&&Pt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(x0),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Fr(n[t],1)[0],a=0,i=Object.entries(e[r]);a<i.length;a++){var o=Fr(i[a],2),l=o[0],c=o[1],u=x0.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!u0(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Pt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function fJ(e){if(!e||e&&Pt(e)!=="object"||Array.isArray(e))return console.error(dJ()),!1;for(var t=function(h){return"".concat(h," should be ").concat(AE.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,a=Object.entries(e);r<a.length;r++){var i=Fr(a[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=Fr(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!u0(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!u0(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!AE.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function mJ(e,t){if(t===void 0)return!1;switch(Pt(t)){case"string":return Pt(e)===t;case"object":if(Pt(e)!=="object")return!1;for(var n in e)if(!mJ(e[n],t[n]))return!1;return!0;default:return!1}}function S5(e,t){var n=e.sessionId,r=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function C5(e){if(Pt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(SE).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(SE));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function k5(e,t,n){return!(typeof e!="number"||e<t||e>n)}function eN(e,t){return e&&!t&&delete e.data,e}const NVe=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:WY,DAILY_ACCESS_LEVEL_LOBBY:kqe,DAILY_ACCESS_LEVEL_NONE:Eqe,DAILY_ACCESS_UNKNOWN:hy,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:Fqe,DAILY_CAMERA_ERROR_CAM_IN_USE:$qe,DAILY_CAMERA_ERROR_CONSTRAINTS:qqe,DAILY_CAMERA_ERROR_MIC_IN_USE:Lqe,DAILY_CAMERA_ERROR_NOT_FOUND:zqe,DAILY_CAMERA_ERROR_PERMISSIONS:Bqe,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:Uqe,DAILY_CAMERA_ERROR_UNKNOWN:Vqe,DAILY_EVENT_ACCESS_STATE_UPDATED:cK,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:OK,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:MK,DAILY_EVENT_APP_MSG:NK,DAILY_EVENT_CAMERA_ERROR:tK,DAILY_EVENT_CPU_LOAD_CHANGE:RK,DAILY_EVENT_ERROR:NE,DAILY_EVENT_EXIT_FULLSCREEN:Em,DAILY_EVENT_FACE_COUNTS_UPDATED:$K,DAILY_EVENT_FULLSCREEN:km,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:JY,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:KY,DAILY_EVENT_INPUT_SETTINGS_UPDATED:jE,DAILY_EVENT_JOINED_MEETING:rK,DAILY_EVENT_JOINING_MEETING:nK,DAILY_EVENT_LANG_UPDATED:zK,DAILY_EVENT_LEFT_MEETING:sK,DAILY_EVENT_LIVE_STREAMING_ERROR:UK,DAILY_EVENT_LIVE_STREAMING_STARTED:LK,DAILY_EVENT_LIVE_STREAMING_STOPPED:BK,DAILY_EVENT_LIVE_STREAMING_UPDATED:FK,DAILY_EVENT_LOADED:yE,DAILY_EVENT_LOADING:QY,DAILY_EVENT_LOAD_ATTEMPT_FAILED:ZY,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:TK,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:PK,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:AK,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:Wqe,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:dK,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:uK,DAILY_EVENT_NETWORK_CONNECTION:IK,DAILY_EVENT_NETWORK_QUALITY_CHANGE:DK,DAILY_EVENT_NONFATAL_ERROR:_E,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:lK,DAILY_EVENT_PARTICIPANT_JOINED:aK,DAILY_EVENT_PARTICIPANT_LEFT:oK,DAILY_EVENT_PARTICIPANT_UPDATED:iK,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:qK,DAILY_EVENT_RECORDING_DATA:_K,DAILY_EVENT_RECORDING_ERROR:wK,DAILY_EVENT_RECORDING_STARTED:bE,DAILY_EVENT_RECORDING_STATS:bK,DAILY_EVENT_RECORDING_STOPPED:wE,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:jK,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:CK,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:EK,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:kK,DAILY_EVENT_STARTED_CAMERA:eK,DAILY_EVENT_THEME_UPDATED:XY,DAILY_EVENT_TRACK_STARTED:pK,DAILY_EVENT_TRACK_STOPPED:gK,DAILY_EVENT_TRANSCRIPTION_ERROR:yK,DAILY_EVENT_TRANSCRIPTION_MSG:SK,DAILY_EVENT_TRANSCRIPTION_STARTED:vK,DAILY_EVENT_TRANSCRIPTION_STOPPED:xK,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:hK,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:mK,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:fK,DAILY_FATAL_ERROR_CONNECTION:YY,DAILY_FATAL_ERROR_EJECTED:Aqe,DAILY_FATAL_ERROR_EOL:GY,DAILY_FATAL_ERROR_EXP_ROOM:Mqe,DAILY_FATAL_ERROR_EXP_TOKEN:Dqe,DAILY_FATAL_ERROR_MEETING_FULL:Iqe,DAILY_FATAL_ERROR_NBF_ROOM:Tqe,DAILY_FATAL_ERROR_NBF_TOKEN:Oqe,DAILY_FATAL_ERROR_NOT_ALLOWED:Rqe,DAILY_FATAL_ERROR_NO_ROOM:xE,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:Pqe,DAILY_RECEIVE_SETTINGS_BASE_KEY:HY,DAILY_STATE_ERROR:eo,DAILY_STATE_JOINED:cl,DAILY_STATE_JOINING:p0,DAILY_STATE_LEFT:Qo,DAILY_STATE_NEW:vE,DAILY_TRACK_STATE_BLOCKED:jqe,DAILY_TRACK_STATE_INTERRUPTED:Cqe,DAILY_TRACK_STATE_LOADING:Sqe,DAILY_TRACK_STATE_OFF:_qe,DAILY_TRACK_STATE_PLAYABLE:VY,DAILY_TRACK_STATE_SENDABLE:Nqe,default:wVe},Symbol.toStringTag,{value:"Module"})),SVe=cF(NVe);var LT={exports:{}},Ld=typeof Reflect=="object"?Reflect:null,E5=Ld&&typeof Ld.apply=="function"?Ld.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},py;Ld&&typeof Ld.ownKeys=="function"?py=Ld.ownKeys:Object.getOwnPropertySymbols?py=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:py=function(t){return Object.getOwnPropertyNames(t)};function CVe(e){console&&console.warn&&console.warn(e)}var pJ=Number.isNaN||function(t){return t!==t};function Qt(){Qt.init.call(this)}LT.exports=Qt;LT.exports.once=AVe;Qt.EventEmitter=Qt;Qt.prototype._events=void 0;Qt.prototype._eventsCount=0;Qt.prototype._maxListeners=void 0;var P5=10;function Rj(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return P5},set:function(e){if(typeof e!="number"||e<0||pJ(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");P5=e}});Qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||pJ(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function gJ(e){return e._maxListeners===void 0?Qt.defaultMaxListeners:e._maxListeners}Qt.prototype.getMaxListeners=function(){return gJ(this)};Qt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a=t==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")E5(c,this,n);else for(var u=c.length,d=wJ(c,u),r=0;r<u;++r)E5(d[r],this,n);return!0};function vJ(e,t,n,r){var a,i,o;if(Rj(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),a=gJ(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,CVe(l)}return e}Qt.prototype.addListener=function(t,n){return vJ(this,t,n,!1)};Qt.prototype.on=Qt.prototype.addListener;Qt.prototype.prependListener=function(t,n){return vJ(this,t,n,!0)};function kVe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xJ(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=kVe.bind(r);return a.listener=n,r.wrapFn=a,a}Qt.prototype.once=function(t,n){return Rj(n),this.on(t,xJ(this,t,n)),this};Qt.prototype.prependOnceListener=function(t,n){return Rj(n),this.prependListener(t,xJ(this,t,n)),this};Qt.prototype.removeListener=function(t,n){var r,a,i,o,l;if(Rj(n),a=this._events,a===void 0)return this;if(r=a[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():EVe(r,i),r.length===1&&(a[t]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};Qt.prototype.off=Qt.prototype.removeListener;Qt.prototype.removeAllListeners=function(t){var n,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(a=0;a<i.length;++a)o=i[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this};function yJ(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?PVe(a):wJ(a,a.length)}Qt.prototype.listeners=function(t){return yJ(this,t,!0)};Qt.prototype.rawListeners=function(t){return yJ(this,t,!1)};Qt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):bJ.call(e,t)};Qt.prototype.listenerCount=bJ;function bJ(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qt.prototype.eventNames=function(){return this._eventsCount>0?py(this._events):[]};function wJ(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function EVe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function PVe(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function AVe(e,t){return new Promise(function(n,r){function a(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),n([].slice.call(arguments))}jJ(e,t,i,{once:!0}),t!=="error"&&TVe(e,a,{once:!0})})}function TVe(e,t,n){typeof e.on=="function"&&jJ(e,"error",t,n)}function jJ(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var OVe=LT.exports,$j={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.Api=Ml.HttpClient=Ml.ContentType=void 0;var $e;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})($e||(Ml.ContentType=$e={}));class _J{constructor(t={}){ct(this,"baseUrl","https://api.vapi.ai");ct(this,"securityData",null);ct(this,"securityWorker");ct(this,"abortControllers",new Map);ct(this,"customFetch",(...t)=>fetch(...t));ct(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ct(this,"setSecurityData",t=>{this.securityData=t});ct(this,"contentFormatters",{[$e.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[$e.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[$e.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[$e.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const a=t[r];return n.append(r,a instanceof Blob?a:typeof a=="object"&&a!==null?JSON.stringify(a):`${a}`),n},new FormData),[$e.UrlEncoded]:t=>this.toQueryString(t)});ct(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});ct(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});ct(this,"request",async({body:t,secure:n,path:r,type:a,query:i,format:o,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),m=this.contentFormatters[a||$e.Json],p=o||h.format;return this.customFetch(`${l||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...a&&a!==$e.FormData?{"Content-Type":a}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async g=>{const v=g;v.data=null,v.error=null;const x=p?g.clone():g,b=p?await x[p]().then(w=>(v.ok?v.data=w:v.error=w,v)).catch(w=>(v.error=w,v)):v;if(c&&this.abortControllers.delete(c),!g.ok)throw b;return b})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(a=>this.encodeQueryParam(n,a)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(a=>typeof n[a]<"u").map(a=>Array.isArray(n[a])?this.addArrayQueryParam(n,a):this.addQueryParam(n,a)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}Ml.HttpClient=_J;class MVe extends _J{constructor(){super(...arguments);ct(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),assistantControllerReplace:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:$e.Json,format:"json",...a}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,a={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...a})});ct(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});ct(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,a={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,a={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a})});ct(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,a={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),callControllerDeleteCallData:(n,r={})=>this.request({path:`/call/${n}`,method:"DELETE",secure:!0,format:"json",...r}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r})});ct(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r})});ct(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,a={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,a={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,a={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,a={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:$e.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:$e.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,a={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,a={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,a,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:a,secure:!0,type:$e.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,a={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteTestControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:$e.Json,format:"json",...a}),testSuiteTestControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteTestControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:a,secure:!0,type:$e.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...a}),testSuiteRunControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteRunControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:$e.Json,format:"json",...a}),testSuiteRunControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteRunControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:a,secure:!0,type:$e.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...a})});ct(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,a={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:$e.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});ct(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,a={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,a={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...a}),orgControllerUsersInvite:(n,r,a={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:$e.Json,...a}),orgControllerUserUpdate:(n,r,a={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:$e.Json,...a}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});ct(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,a={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,a={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r}),credentialControllerGenerateSession:(n,r={})=>this.request({path:"/credential/session",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),credentialControllerHandleWebhook:(n,r={})=>this.request({path:"/credential/webhook",method:"POST",body:n,type:$e.Json,...r}),credentialControllerTriggerCredentialAction:(n,r={})=>this.request({path:"/credential/trigger",method:"POST",body:n,secure:!0,type:$e.Json,...r})});ct(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,a={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:$e.Json,format:"json",...a}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ct(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,a={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:$e.Json,...r})});ct(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,a={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...a}),providerResourceControllerGetProviderResourcesPaginated:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:a,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,a={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...a}),providerControllerGetWorkflowTriggerHook:(n,r,a={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...a}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,a={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerSearchVoice:(n,r,a={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerAddVoices:(n,r,a={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:$e.Json,format:"json",...a}),voiceProviderControllerAddVoice:(n,r,a={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:$e.Json,format:"json",...a})});ct(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:$e.FormData,...r})});ct(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:$e.Json,format:"json",...r})})}}Ml.Api=MVe;Object.defineProperty($j,"__esModule",{value:!0});$j.client=void 0;const DVe=Ml,IVe=new DVe.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});$j.client=IVe;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.createSafeDailyConfig=RVe;Mf.safeSetLocalAudio=$Ve;Mf.safeSetInputDevicesAsync=LVe;Mf.createSafeDailyFactoryOptions=FVe;function RVe(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function $Ve(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function LVe(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function FVe(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var NJ=Pn&&Pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(SY,"__esModule",{value:!0});const A5=NJ(SVe),BVe=NJ(OVe),tN=$j,fc=Mf;async function UVe(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function T5(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await UVe(n,e),n}function O5(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function M5(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class zVe extends BVe.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class qVe extends zVe{constructor(n,r,a,i){super();ct(this,"started",!1);ct(this,"call",null);ct(this,"speakingTimeout",null);ct(this,"dailyCallConfig",{});ct(this,"dailyCallObject",{});ct(this,"hasEmittedCallEndedStatus",!1);tN.client.baseUrl=r??"https://api.vapi.ai",tN.client.setSecurityData(n),this.dailyCallConfig=(0,fc.createSafeDailyConfig)(a),this.dailyCallObject=(0,fc.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,a,i,o,l){var u,d,h,f,m,p,g;const c=Date.now();if(!n&&!a&&!i){const v=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",message:v.message,timestamp:new Date().toISOString()}),v}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const v=Date.now(),x=(await tN.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof a=="string"?void 0:a,squadId:typeof a=="string"?a:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,b=Date.now()-v;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{callId:(x==null?void 0:x.id)||"unknown",videoRecordingEnabled:((u=x==null?void 0:x.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=x==null?void 0:x.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const w=((f=x==null?void 0:x.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,_=((p=(m=x==null?void 0:x.assistant)==null?void 0:m.voice)==null?void 0:p.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,isVideoRecordingEnabled:w,isVideoEnabled:_}});const N=Date.now();try{this.call=A5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,dailyConfig:this.dailyCallConfig});const E=Date.now()-N;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-N;throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:E,timestamp:new Date().toISOString()}),E}(g=this.call.iframe())==null||g.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var E;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),w&&((E=this.call)==null||E.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",E=>{var B;this.emit("error",E),w&&((B=this.call)==null||B.stopRecording())}),this.call.on("camera-error",E=>{this.emit("camera-error",E)}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{var B,U,$;!E||!E.participant||(B=E.participant)!=null&&B.local||((U=E.participant)==null?void 0:U.user_name)==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await T5(E.track,E.participant.session_id),($=this.call)==null||$.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||M5(E,this.call,w,_)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&O5(E.participant.session_id)});const S=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:S}}),S){const E=Date.now();await this.sleep(1e3);const B=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:B,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();try{await this.call.join({url:x.webCallUrl,subscribeToTracksAutomatically:!1});const E=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-C;throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:E,duration:B,timestamp:new Date().toISOString()}),E}if(w){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const E=new Date().getTime(),B=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const U=Date.now()-B;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:U,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const $=(new Date().getTime()-E)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:$}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:$})})}catch(U){const $=Date.now()-B;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:U==null?void 0:U.toString()}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:U,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const E=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:E,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{var B;(E==null?void 0:E.type)==="audio-processor-error"&&((B=this.call)==null||B.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,fc.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const A=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const E=Date.now()-A;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-A;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:E,timestamp:new Date().toISOString()})}const T=Date.now()-c;return this.emit("call-start-success",{totalDuration:T,callId:(x==null?void 0:x.id)||"unknown",timestamp:new Date().toISOString()}),x}catch(v){const x=Date.now()-c;return this.emit("call-start-failed",{stage:"unknown",totalDuration:x,error:(v==null?void 0:v.toString())||"Unknown error occurred",errorStack:v instanceof Error?v.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:v,totalDuration:x,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,fc.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,a,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:a??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,fc.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new AudioContext,i=a.createMediaStreamSource(r),o=a.createGain();o.gain.value=n,i.connect(o);const l=a.createMediaStreamDestination();o.connect(l);const[c]=l.stream.getAudioTracks();await(0,fc.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var a;(a=this.call)==null||a.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var a,i,o,l,c,u,d,h,f,m,p,g,v;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((a=n==null?void 0:n.artifactPlan)!=null&&a.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const x=((l=n==null?void 0:n.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,b=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??x,isVideoRecordingEnabled:x,isVideoEnabled:b}});const w=Date.now();this.call=A5.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??x,dailyConfig:this.dailyCallConfig});const _=Date.now()-w;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:_,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var E;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),x&&((E=this.call)==null||E.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",E=>{var B;this.emit("error",E),x&&((B=this.call)==null||B.stopRecording())}),this.call.on("camera-error",E=>{this.emit("camera-error",E)}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{var B,U,$;!E||!E.participant||(B=E.participant)!=null&&B.local||((U=E.participant)==null?void 0:U.user_name)==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await T5(E.track,E.participant.session_id),($=this.call)==null||$.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||M5(E,this.call,x,b)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&O5(E.participant.session_id)}),this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{var B;(E==null?void 0:E.type)==="audio-processor-error"&&((B=this.call)==null||B.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,fc.safeSetLocalAudio)(this.call,!0)}))});const N=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:N}}),N){const E=Date.now();await this.sleep(1e3);const B=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:B,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const S=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const C=Date.now()-S;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:C,timestamp:new Date().toISOString()}),x){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const E=Date.now(),B=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const U=Date.now()-E;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:U,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const $=(new Date().getTime()-B)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:$}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:$})})}catch(U){const $=Date.now()-E;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:U==null?void 0:U.toString()}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const E=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const A=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const E=Date.now()-A;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-A;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}})}const T=Date.now()-r;this.emit("call-start-success",{totalDuration:T,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(x){const b=Date.now()-r;throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:b,error:(x==null?void 0:x.toString())||"Unknown error occurred",errorStack:x instanceof Error?x.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:x,totalDuration:b,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((p=n==null?void 0:n.artifactPlan)!=null&&p.videoRecordingEnabled),voiceProvider:((v=(g=n==null?void 0:n.assistant)==null?void 0:g.voice)==null?void 0:v.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),x}}}var VVe=SY.default=qVe;function WVe(){const{assistantId:e}=Ig(),t=Nr(),{toast:n}=bn(),{user:r}=Dt(),[a,i]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[f,m]=y.useState(!1),[p,g]=y.useState(null),v=y.useRef(null),[x,b]=y.useState({name:"",firstMessage:"",firstMessageMode:"assistant-speaks-first",voiceProvider:"11labs",voiceId:"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:"openai",model:"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"});y.useEffect(()=>{w()},[e]);const w=async()=>{try{const{data:S,error:C}=await G.from("voice_assistants").select("*").eq("id",e).single();if(C)throw C;g(S),b({name:S.name||"",firstMessage:S.first_message||"",firstMessageMode:"assistant-speaks-first",voiceProvider:S.voice_provider||"11labs",voiceId:S.voice_id||"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:S.model_provider||"openai",model:S.model||"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:S.transcriber_provider||"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"})}catch(S){n({title:"Error",description:S.message,variant:"destructive"})}finally{i(!1)}},_=async()=>{l(!0);try{const S={name:"name",firstMessage:"first_message",voiceProvider:"voice_provider",voiceId:"voice_id",modelProvider:"model_provider",model:"model"},C={},k={};if(p)for(const[T,E]of Object.entries(S)){const B=p[E],U=x[T];B!==U&&(C[E]=B,k[E]=U)}const A={name:x.name,firstMessage:x.firstMessage,firstMessageMode:x.firstMessageMode,voice:{provider:x.voiceProvider,voiceId:x.voiceId},model:{provider:x.modelProvider,model:x.model,temperature:x.temperature,maxTokens:x.maxTokens,emotionRecognitionEnabled:x.emotionRecognitionEnabled},transcriber:{provider:x.transcriberProvider,model:x.transcriberModel,language:x.transcriberLanguage},silenceTimeoutSeconds:x.silenceTimeoutSeconds,responseDelaySeconds:x.responseDelaySeconds,llmRequestDelaySeconds:x.llmRequestDelaySeconds,numWordsToInterruptAssistant:x.numWordsToInterruptAssistant,maxDurationSeconds:x.maxDurationSeconds,endCallMessage:x.endCallMessage,endCallPhrases:x.endCallPhrases,recordingEnabled:x.recordingEnabled,hipaaEnabled:x.hipaaEnabled,backchannelingEnabled:x.backchannelingEnabled,backgroundDenoisingEnabled:x.backgroundDenoisingEnabled,modelOutputInMessagesEnabled:x.modelOutputInMessagesEnabled,backgroundSound:x.backgroundSound};if(x.voiceProvider==="11labs"&&(A.voice.stability=x.voiceStability,A.voice.similarityBoost=x.voiceSimilarityBoost),(x.voiceProvider==="playht"||x.voiceProvider==="rime-ai")&&(A.voice.speed=x.voiceSpeed),x.voicemailDetectionEnabled&&(A.voicemailDetection={enabled:!0,provider:"twilio"},A.voicemailMessage=x.voicemailMessage),await wLe(e,A),Object.keys(k).length>0&&e&&r){const T=Object.keys(k).join(", ");await G.from("changelog_entries").insert({user_id:r.id,entity_type:"voice_assistant",entity_id:e,change_type:"update",title:`Configuration updated: ${T}`,description:`Updated settings for assistant "${x.name}"`,previous_values:C,new_values:k,status:null,source:"auto"})}n({title:"Success",description:"Voice assistant updated successfully"}),t("/voice-assistants")}catch(S){n({title:"Error",description:S.message,variant:"destructive"})}finally{l(!1)}},N=async()=>{if(d&&v.current){v.current.stop(),h(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"});return}u(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0});const S=await _Le();if(!(S!=null&&S.publicKey))throw new Error("No Vapi public key available. Please reconnect your Vapi account.");v.current||(v.current=new VVe(S.publicKey)),v.current.on("call-start",()=>{console.log("Call started"),h(!0),n({title:"Call Started",description:"You're now connected to the voice assistant. Speak to test it!"})}),v.current.on("call-end",()=>{console.log("Call ended"),h(!1),m(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"})}),v.current.on("speech-start",()=>{console.log("Assistant started speaking"),m(!0)}),v.current.on("speech-end",()=>{console.log("Assistant stopped speaking"),m(!1)}),v.current.on("error",C=>{console.error("Vapi error:",C),h(!1),u(!1),n({title:"Call Error",description:C.message||"An error occurred during the call",variant:"destructive"})}),v.current.on("message",C=>{console.log("Vapi message:",C)}),await v.current.start(e)}catch(S){console.error("Test error:",S),h(!1),u(!1),S.name==="NotAllowedError"?n({title:"Microphone Access Denied",description:"Please allow microphone access to test the voice assistant",variant:"destructive"}):n({title:"Error",description:S.message||"Failed to start test call. Make sure you have an active Vapi connection.",variant:"destructive"})}finally{d||u(!1)}};return y.useEffect(()=>()=>{v.current&&d&&v.current.stop()},[d]),a?s.jsx(pr,{children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(Gn,{className:"h-8 w-8 animate-spin"})})}):s.jsx(pr,{children:s.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t("/voice-assistants"),children:s.jsx(_r,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Voice Assistant"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your Vapi assistant settings"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:d?"destructive":"outline",onClick:N,disabled:c&&!d,children:[c&&!d?s.jsx(Gn,{className:"h-4 w-4 animate-spin mr-2"}):d?s.jsx(Fte,{className:"h-4 w-4 mr-2"}):s.jsx(Ot,{className:"h-4 w-4 mr-2"}),d?"End Call":"Test Assistant"]}),s.jsxs(ee,{onClick:_,disabled:o,children:[o?s.jsx(Gn,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),d&&s.jsx(Y,{className:"mb-6 border-primary bg-primary/5",children:s.jsx(Q,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(t8,{className:`h-5 w-5 ${f?"text-muted-foreground":"text-primary"}`}),!f&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f?"Assistant is speaking...":"Listening..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"The assistant is responding to you":"Speak now to interact with the assistant"})]})]})})}),s.jsxs(kf,{defaultValue:"basic",className:"space-y-6",children:[s.jsxs(Eu,{className:"grid w-full grid-cols-6",children:[s.jsx(Jt,{value:"basic",children:"Basic"}),s.jsx(Jt,{value:"voice",children:"Voice"}),s.jsx(Jt,{value:"model",children:"Model"}),s.jsx(Jt,{value:"transcriber",children:"Transcriber"}),s.jsx(Jt,{value:"call",children:"Call Settings"}),s.jsx(Jt,{value:"features",children:"Features"})]}),s.jsx(Xt,{value:"basic",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Basic Information"}),s.jsx(je,{children:"Configure the basic settings for your assistant"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Assistant Name"}),s.jsx(ue,{id:"name",value:x.name,onChange:S=>b({...x,name:S.target.value}),placeholder:"My Assistant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"firstMessage",children:"First Message"}),s.jsx(pt,{id:"firstMessage",value:x.firstMessage,onChange:S=>b({...x,firstMessage:S.target.value}),placeholder:"Hello! How can I help you today?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"firstMessageMode",children:"First Message Mode"}),s.jsxs(Be,{value:x.firstMessageMode,onValueChange:S=>b({...x,firstMessageMode:S}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"assistant-speaks-first",children:"Assistant Speaks First"}),s.jsx(ie,{value:"assistant-waits",children:"Assistant Waits"}),s.jsx(ie,{value:"assistant-speaks-first-with-model-generated-message",children:"AI Generated First Message"})]})]})]})]})]})}),s.jsx(Xt,{value:"voice",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Voice Configuration"}),s.jsx(je,{children:"Configure the voice settings for your assistant"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voiceProvider",children:"Voice Provider"}),s.jsxs(Be,{value:x.voiceProvider,onValueChange:S=>b({...x,voiceProvider:S}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"11labs",children:"ElevenLabs"}),s.jsx(ie,{value:"playht",children:"PlayHT"}),s.jsx(ie,{value:"rime-ai",children:"Rime AI"}),s.jsx(ie,{value:"deepgram",children:"Deepgram"}),s.jsx(ie,{value:"openai",children:"OpenAI"}),s.jsx(ie,{value:"azure",children:"Azure"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voiceId",children:"Voice ID"}),s.jsx(ue,{id:"voiceId",value:x.voiceId,onChange:S=>b({...x,voiceId:S.target.value}),placeholder:"Enter voice ID"})]}),x.voiceProvider==="11labs"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"voiceStability",children:["Voice Stability: ",x.voiceStability]}),s.jsx(ue,{id:"voiceStability",type:"range",min:"0",max:"1",step:"0.01",value:x.voiceStability,onChange:S=>b({...x,voiceStability:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"voiceSimilarityBoost",children:["Similarity Boost: ",x.voiceSimilarityBoost]}),s.jsx(ue,{id:"voiceSimilarityBoost",type:"range",min:"0",max:"1",step:"0.01",value:x.voiceSimilarityBoost,onChange:S=>b({...x,voiceSimilarityBoost:parseFloat(S.target.value)})})]})]}),(x.voiceProvider==="playht"||x.voiceProvider==="rime-ai")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"voiceSpeed",children:["Voice Speed: ",x.voiceSpeed]}),s.jsx(ue,{id:"voiceSpeed",type:"range",min:"0.5",max:"2",step:"0.1",value:x.voiceSpeed,onChange:S=>b({...x,voiceSpeed:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"backgroundSound",children:"Background Sound"}),s.jsxs(Be,{value:x.backgroundSound,onValueChange:S=>b({...x,backgroundSound:S}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"off",children:"Off"}),s.jsx(ie,{value:"office",children:"Office"}),s.jsx(ie,{value:"cafe",children:"Cafe"}),s.jsx(ie,{value:"nature",children:"Nature"})]})]})]})]})]})}),s.jsx(Xt,{value:"model",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"AI Model Configuration"}),s.jsx(je,{children:"Configure the language model settings"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"modelProvider",children:"Model Provider"}),s.jsxs(Be,{value:x.modelProvider,onValueChange:S=>b({...x,modelProvider:S}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"openai",children:"OpenAI"}),s.jsx(ie,{value:"anthropic",children:"Anthropic"}),s.jsx(ie,{value:"together-ai",children:"Together AI"}),s.jsx(ie,{value:"groq",children:"Groq"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"model",children:"Model"}),s.jsx(ue,{id:"model",value:x.model,onChange:S=>b({...x,model:S.target.value}),placeholder:"gpt-4"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{htmlFor:"temperature",children:["Temperature: ",x.temperature]}),s.jsx(ue,{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:x.temperature,onChange:S=>b({...x,temperature:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"maxTokens",children:"Max Tokens"}),s.jsx(ue,{id:"maxTokens",type:"number",value:x.maxTokens,onChange:S=>b({...x,maxTokens:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"emotionRecognition",checked:x.emotionRecognitionEnabled,onCheckedChange:S=>b({...x,emotionRecognitionEnabled:S})}),s.jsx(ne,{htmlFor:"emotionRecognition",children:"Enable Emotion Recognition"})]})]})]})}),s.jsx(Xt,{value:"transcriber",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Transcriber Configuration"}),s.jsx(je,{children:"Configure speech-to-text settings"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"transcriberProvider",children:"Transcriber Provider"}),s.jsxs(Be,{value:x.transcriberProvider,onValueChange:S=>b({...x,transcriberProvider:S}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"deepgram",children:"Deepgram"}),s.jsx(ie,{value:"gladia",children:"Gladia"}),s.jsx(ie,{value:"talkscriber",children:"Talkscriber"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"transcriberModel",children:"Model"}),s.jsx(ue,{id:"transcriberModel",value:x.transcriberModel,onChange:S=>b({...x,transcriberModel:S.target.value}),placeholder:"nova-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"transcriberLanguage",children:"Language"}),s.jsx(ue,{id:"transcriberLanguage",value:x.transcriberLanguage,onChange:S=>b({...x,transcriberLanguage:S.target.value}),placeholder:"en"})]})]})]})}),s.jsx(Xt,{value:"call",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Call Settings"}),s.jsx(je,{children:"Configure call behavior and timing"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"silenceTimeout",children:"Silence Timeout (seconds)"}),s.jsx(ue,{id:"silenceTimeout",type:"number",value:x.silenceTimeoutSeconds,onChange:S=>b({...x,silenceTimeoutSeconds:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"responseDelay",children:"Response Delay (seconds)"}),s.jsx(ue,{id:"responseDelay",type:"number",step:"0.1",value:x.responseDelaySeconds,onChange:S=>b({...x,responseDelaySeconds:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"llmRequestDelay",children:"LLM Request Delay (seconds)"}),s.jsx(ue,{id:"llmRequestDelay",type:"number",step:"0.1",value:x.llmRequestDelaySeconds,onChange:S=>b({...x,llmRequestDelaySeconds:parseFloat(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"numWordsInterrupt",children:"Words to Interrupt"}),s.jsx(ue,{id:"numWordsInterrupt",type:"number",value:x.numWordsToInterruptAssistant,onChange:S=>b({...x,numWordsToInterruptAssistant:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"maxDuration",children:"Max Call Duration (seconds)"}),s.jsx(ue,{id:"maxDuration",type:"number",value:x.maxDurationSeconds,onChange:S=>b({...x,maxDurationSeconds:parseInt(S.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"endCallMessage",children:"End Call Message"}),s.jsx(pt,{id:"endCallMessage",value:x.endCallMessage,onChange:S=>b({...x,endCallMessage:S.target.value}),rows:2})]})]})]})}),s.jsx(Xt,{value:"features",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Advanced Features"}),s.jsx(je,{children:"Enable or disable advanced features"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"recording",children:"Call Recording"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record all calls for quality assurance"})]}),s.jsx(Rt,{id:"recording",checked:x.recordingEnabled,onCheckedChange:S=>b({...x,recordingEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"hipaa",children:"HIPAA Compliance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable HIPAA-compliant mode"})]}),s.jsx(Rt,{id:"hipaa",checked:x.hipaaEnabled,onCheckedChange:S=>b({...x,hipaaEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"backchanneling",children:"Backchanneling"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow verbal acknowledgments during speech"})]}),s.jsx(Rt,{id:"backchanneling",checked:x.backchannelingEnabled,onCheckedChange:S=>b({...x,backchannelingEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"denoising",children:"Background Denoising"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce background noise"})]}),s.jsx(Rt,{id:"denoising",checked:x.backgroundDenoisingEnabled,onCheckedChange:S=>b({...x,backgroundDenoisingEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"modelOutput",children:"Model Output in Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Include model output in message logs"})]}),s.jsx(Rt,{id:"modelOutput",checked:x.modelOutputInMessagesEnabled,onCheckedChange:S=>b({...x,modelOutputInMessagesEnabled:S})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ne,{htmlFor:"voicemail",children:"Voicemail Detection"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detect and handle voicemail"})]}),s.jsx(Rt,{id:"voicemail",checked:x.voicemailDetectionEnabled,onCheckedChange:S=>b({...x,voicemailDetectionEnabled:S})})]}),x.voicemailDetectionEnabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voicemailMessage",children:"Voicemail Message"}),s.jsx(pt,{id:"voicemailMessage",value:x.voicemailMessage,onChange:S=>b({...x,voicemailMessage:S.target.value}),placeholder:"Please leave a message after the beep.",rows:2})]})]})]})})]})]})})}const HVe=()=>{var yt;const{user:e}=Dt(),t=Nr(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(!0),[d,h]=y.useState(!1),[f,m]=y.useState(null),[p,g]=y.useState(null),[v,x]=y.useState(""),[b,w]=y.useState(null),[_,N]=y.useState([]),[S,C]=y.useState(!1),[k,A]=y.useState(!1),[T,E]=y.useState({}),[B,U]=y.useState(!1),[$,F]=y.useState(""),[M,R]=y.useState(!1),[D,L]=y.useState(null),[I,z]=y.useState([]),[H,j]=y.useState(!1),[P,O]=y.useState([]),[V,W]=y.useState(!1),Z=async()=>{if(e)try{const{data:K,error:de}=await G.from("elevenlabs_connections").select("id").eq("user_id",e.id).eq("is_active",!0).maybeSingle();if(de)throw de;m(!!K)}catch(K){console.error("Error checking connection:",K),m(!1)}},te=async()=>{if(e)try{const{data:K,error:de}=await G.from("whatsapp_agents").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(de)throw de;r(K||[])}catch(K){console.error("Error fetching agents:",K),De({title:"Error",description:"Failed to load WhatsApp agents",variant:"destructive"})}finally{u(!1)}},q=async()=>{if(e)try{const K=[],{data:de}=await G.from("chatbots").select("id").eq("user_id",e.id),Pe=(de==null?void 0:de.map(Vt=>Vt.id))||[],{data:Ie}=await G.from("voice_assistants").select("id").eq("user_id",e.id),Qe=(Ie==null?void 0:Ie.map(Vt=>Vt.id))||[],{data:Yt}=await G.from("whatsapp_agents").select("id").eq("user_id",e.id),Zn=(Yt==null?void 0:Yt.map(Vt=>Vt.id))||[];if(Pe.length>0){const{data:Vt}=await G.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",Pe);Vt&&K.push(...Vt)}if(Qe.length>0){const{data:Vt}=await G.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",Qe);Vt&&K.push(...Vt)}if(Zn.length>0){const{data:Vt}=await G.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",Zn);Vt&&K.push(...Vt)}const er=Array.from(new Map(K.map(Vt=>[Vt.id,Vt])).values());i(er)}catch(K){console.error("Error fetching customers:",K)}},X=async()=>{if(e)try{const{data:K,error:de}=await G.from("customer_whatsapp_agent_assignments").select(`
          id,
          agent_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(de)throw de;const Pe=(K==null?void 0:K.map(Ie=>({id:Ie.id,agent_id:Ie.agent_id,customer:Ie.customers})))||[];l(Pe)}catch(K){console.error("Error fetching assignments:",K)}},re=async(K,de=!1)=>{W(!0);try{const Pe=await kLe(K);de&&Pe.synced>0&&De({title:"Conversations Synced",description:Pe.message||`Synced ${Pe.synced} conversations`});const{data:Ie,error:Qe}=await G.from("whatsapp_conversations").select("*").eq("agent_id",K).order("started_at",{ascending:!1});!Qe&&Ie&&O(Ie)}catch(Pe){console.error("Error syncing conversations:",Pe),de&&De({title:"Sync Error",description:Pe.message||"Failed to sync conversations",variant:"destructive"})}finally{W(!1)}},pe=y.useCallback(async K=>{C(!0);try{const de=await CLe(K);de.agent&&(w(de.agent),E(de.agent)),de.conversations&&N(de.conversations),re(K,!1);const{data:Pe,error:Ie}=await G.from("whatsapp_conversations").select("*").eq("agent_id",K).order("started_at",{ascending:!1});!Ie&&Pe&&O(Pe)}catch(de){console.error("Error fetching agent config:",de),De({title:"Error",description:de.message||"Failed to load agent configuration",variant:"destructive"})}finally{C(!1)}},[]),ye=async K=>{j(!0);try{const{data:de,error:Pe}=await G.from("whatsapp_messages").select("*").eq("conversation_id",K).order("timestamp",{ascending:!0});if(Pe)throw Pe;z(de||[])}catch(de){console.error("Error loading conversation messages:",de),De({title:"Error",description:"Failed to load conversation messages",variant:"destructive"})}finally{j(!1)}},le=K=>{L(K),ye(K.conversation_id),R(!0)},be=K=>{const de=Math.floor(K/60),Pe=K%60;return`${de}m ${Pe}s`},Se=async()=>{h(!0);try{const K=await V$();if(K.needsConnection){m(!1),De({title:"Connection Required",description:"Please connect your ElevenLabs account in Settings first.",variant:"destructive"});return}De({title:"Success",description:`Synced ${K.count} agents from ElevenLabs`}),await te()}catch(K){console.error("Error syncing agents:",K),De({title:"Error",description:K.message||"Failed to sync agents",variant:"destructive"})}finally{h(!1)}},Oe=async()=>{if(!(!p||!T)){A(!0);try{const K={};if(T.name!==(b==null?void 0:b.name)&&(K.name=T.name),T.system_prompt!==(b==null?void 0:b.system_prompt)&&(K.system_prompt=T.system_prompt),T.first_message!==(b==null?void 0:b.first_message)&&(K.first_message=T.first_message),T.language!==(b==null?void 0:b.language)&&(K.language=T.language),T.voice_id!==(b==null?void 0:b.voice_id)&&(K.voice_id=T.voice_id),T.llm_model!==(b==null?void 0:b.llm_model)&&(K.llm_model=T.llm_model),T.temperature!==(b==null?void 0:b.temperature)&&(K.temperature=T.temperature),T.max_duration_seconds!==(b==null?void 0:b.max_duration_seconds)&&(K.max_duration_seconds=T.max_duration_seconds),Object.keys(K).length===0){De({title:"No changes",description:"No changes to save"});return}await SLe(p,K),De({title:"Success",description:"Agent updated successfully"}),await pe(p),await te()}catch(K){console.error("Error saving agent:",K),De({title:"Error",description:K.message||"Failed to save agent",variant:"destructive"})}finally{A(!1)}}},qe=async()=>{if(!p||!$){De({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:K}=await G.from("customer_whatsapp_agent_assignments").insert({customer_id:$,agent_id:p,assigned_by:e==null?void 0:e.id});if(K){if(K.code==="23505")De({title:"Error",description:"This customer is already assigned to this agent",variant:"destructive"});else throw K;return}De({title:"Success",description:"Agent assigned to customer successfully"}),U(!1),F(""),await X()}catch(K){console.error("Error assigning agent:",K),De({title:"Error",description:"Failed to assign agent",variant:"destructive"})}},Ge=async K=>{try{const{error:de}=await G.from("customer_whatsapp_agent_assignments").delete().eq("id",K);if(de)throw de;De({title:"Success",description:"Assignment removed"}),await X()}catch(de){console.error("Error removing assignment:",de),De({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},he=y.useCallback(async()=>{if(!d){h(!0);try{const K=await V$();if(K!=null&&K.needsConnection){m(!1);return}console.log(`Auto-synced ${(K==null?void 0:K.count)||0} WhatsApp agents`)}catch(K){console.error("Auto-sync error:",K)}finally{h(!1)}}},[d]);y.useEffect(()=>{if(e){Z(),he().then(()=>{te(),q(),X()});const K=setInterval(()=>{he().then(()=>te())},12e4);return()=>clearInterval(K)}else u(!1)},[e]),y.useEffect(()=>{n.length>0&&!p&&g(n[0].id)},[n,p]),y.useEffect(()=>{p&&pe(p)},[p,pe]);const me=n.find(K=>K.id===p),Ae=o.filter(K=>K.agent_id===p),Ye=n.filter(K=>{var de;return(de=K.name)==null?void 0:de.toLowerCase().includes(v.toLowerCase())});return e?f===!1?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your ElevenLabs WhatsApp agents"})]}),s.jsxs(Y,{className:"max-w-md",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"w-5 h-5 text-warning"}),s.jsx(ae,{children:"Connection Required"})]}),s.jsx(je,{children:"Connect your ElevenLabs account to view and manage your WhatsApp agents."})]}),s.jsx(Q,{children:s.jsxs(ee,{onClick:()=>t("/settings"),children:[s.jsx(gs,{className:"w-4 h-4 mr-2"}),"Go to Settings"]})})]})]}):c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ft,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"WhatsApp Agents"})]}),s.jsxs(ee,{onClick:Se,disabled:d,size:"sm",variant:"outline",className:"w-full gap-1.5",children:[s.jsx(ps,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing...":"Sync Agents"]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(Ca,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search agents...",value:v,onChange:K=>x(K.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Na,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:Ye.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(it,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"No matching agents":"No agents found"}),!v&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your agents"})]}):Ye.map(K=>{const de=o.filter(Ie=>Ie.agent_id===K.id).length,Pe=p===K.id;return s.jsx("button",{onClick:()=>g(K.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${Pe?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${Pe?"text-primary":""}`,children:K.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[K.phone_number&&s.jsxs("span",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),K.phone_number]}),de>0&&s.jsxs(Ce,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[de," assigned"]})]})]}),Pe&&s.jsx(us,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},K.id)})})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," agents"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:me?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-green-500/20 to-green-500/5 border border-green-500/20",children:s.jsx(Ft,{className:"h-6 w-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:me.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[me.phone_number&&s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),me.phone_number]}),s.jsx(Ce,{variant:me.status==="active"?"default":"secondary",children:me.status})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>U(!0),className:"gap-1.5",children:[s.jsx(ch,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(ee,{size:"sm",onClick:Oe,disabled:k,className:"gap-1.5",children:[k?s.jsx(Gn,{className:"h-4 w-4 animate-spin"}):s.jsx(Za,{className:"h-4 w-4"}),"Save"]})]})]}),S?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Fs,{className:"h-10 w-full"}),s.jsx(Fs,{className:"h-32 w-full"}),s.jsx(Fs,{className:"h-32 w-full"})]}):b?s.jsxs(kf,{defaultValue:"config",className:"space-y-4",children:[s.jsxs(Eu,{children:[s.jsx(Jt,{value:"config",children:"Configuration"}),s.jsx(Jt,{value:"voice",children:"Voice & Model"}),s.jsxs(Jt,{value:"conversations",children:["Conversations (",_.length,")"]}),s.jsxs(Jt,{value:"customers",children:["Customers (",Ae.length,")"]})]}),s.jsxs(Xt,{value:"config",className:"space-y-4",children:[s.jsxs(Y,{children:[s.jsx(se,{children:s.jsx(ae,{className:"text-lg",children:"Basic Settings"})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"name",children:"Agent Name"}),s.jsx(ue,{id:"name",value:T.name||"",onChange:K=>E({...T,name:K.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"first_message",children:"First Message"}),s.jsx(pt,{id:"first_message",value:T.first_message||"",onChange:K=>E({...T,first_message:K.target.value}),placeholder:"The first message the agent will say...",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"language",children:"Language"}),s.jsxs(Be,{value:T.language||"en",onValueChange:K=>E({...T,language:K}),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"en",children:"English"}),s.jsx(ie,{value:"es",children:"Spanish"}),s.jsx(ie,{value:"fr",children:"French"}),s.jsx(ie,{value:"de",children:"German"}),s.jsx(ie,{value:"it",children:"Italian"}),s.jsx(ie,{value:"pt",children:"Portuguese"}),s.jsx(ie,{value:"nl",children:"Dutch"}),s.jsx(ie,{value:"pl",children:"Polish"}),s.jsx(ie,{value:"ja",children:"Japanese"}),s.jsx(ie,{value:"zh",children:"Chinese"}),s.jsx(ie,{value:"ko",children:"Korean"})]})]})]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"System Prompt"}),s.jsx(je,{children:"Define how the agent should behave and respond"})]}),s.jsx(Q,{children:s.jsx(pt,{value:T.system_prompt||"",onChange:K=>E({...T,system_prompt:K.target.value}),placeholder:"You are a helpful assistant...",rows:10,className:"font-mono text-sm"})})]}),b.tools&&b.tools.length>0&&s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-lg",children:"Connected Tools"}),s.jsx(je,{children:"Tools and functions available to this agent"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-2",children:b.tools.map((K,de)=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"font-medium",children:K.name||`Tool ${de+1}`}),K.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:K.description})]},de))})})]})]}),s.jsxs(Xt,{value:"voice",className:"space-y-4",children:[s.jsxs(Y,{children:[s.jsx(se,{children:s.jsx(ae,{className:"text-lg",children:"Voice Settings"})}),s.jsx(Q,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"voice_id",children:"Voice ID"}),s.jsx(ue,{id:"voice_id",value:T.voice_id||"",onChange:K=>E({...T,voice_id:K.target.value}),placeholder:"ElevenLabs Voice ID"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The ElevenLabs voice ID to use for text-to-speech"})]})})]}),s.jsxs(Y,{children:[s.jsx(se,{children:s.jsx(ae,{className:"text-lg",children:"LLM Settings"})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"llm_model",children:"Model"}),s.jsx(ue,{id:"llm_model",value:T.llm_model||"",onChange:K=>E({...T,llm_model:K.target.value}),placeholder:"gpt-4o-mini"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{children:["Temperature: ",((yt=T.temperature)==null?void 0:yt.toFixed(2))||"0.70"]}),s.jsx($h,{value:[T.temperature||.7],onValueChange:([K])=>E({...T,temperature:K}),min:0,max:1,step:.01}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness. Lower is more focused, higher is more creative."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"max_duration",children:"Max Call Duration (seconds)"}),s.jsx(ue,{id:"max_duration",type:"number",value:T.max_duration_seconds||"",onChange:K=>E({...T,max_duration_seconds:parseInt(K.target.value)||void 0}),placeholder:"No limit"})]})]})]})]}),s.jsx(Xt,{value:"conversations",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-lg",children:"Recent Conversations"}),s.jsx(je,{children:"Click on a conversation to view the transcript and AI summary"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>p&&re(p,!0),disabled:V,children:[s.jsx(ps,{className:`h-4 w-4 mr-2 ${V?"animate-spin":""}`}),V?"Syncing...":"Sync Conversations"]})]}),s.jsx(Q,{children:P.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'No conversations yet. Click "Sync Conversations" to fetch from ElevenLabs.'}),s.jsxs(ee,{variant:"outline",onClick:()=>p&&re(p,!0),disabled:V,children:[s.jsx(ps,{className:`h-4 w-4 mr-2 ${V?"animate-spin":""}`}),"Sync Now"]})]}):s.jsx(Na,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:P.map(K=>{const de=K.ended_at?Math.floor((new Date(K.ended_at).getTime()-new Date(K.started_at).getTime())/1e3):void 0,Pe={conversation_id:K.id,status:K.status||"unknown",start_time_unix_secs:new Date(K.started_at).getTime()/1e3,end_time_unix_secs:K.ended_at?new Date(K.ended_at).getTime()/1e3:void 0,call_duration_secs:de,summary:K.summary||void 0,sentiment:K.sentiment||void 0,phone_number:K.phone_number||void 0};return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>le(Pe),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ce,{variant:K.status==="done"||K.status==="completed"?"default":"secondary",children:K.status}),K.sentiment&&s.jsx(Ce,{variant:"outline",children:K.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[K.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),"+",K.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(K.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-3 w-3"}),at(new Date(K.started_at),"h:mm a")]}),de&&s.jsxs("span",{children:["Duration: ",be(de)]})]}),K.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:K.summary})]}),s.jsx(us,{className:"h-4 w-4 text-muted-foreground"})]},K.id)})})})})]})}),s.jsx(Xt,{value:"customers",className:"space-y-4",children:s.jsxs(Y,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-lg",children:"Assigned Customers"}),s.jsx(je,{children:"Customers who can view this agent's conversations"})]}),s.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>U(!0),className:"gap-1.5",children:[s.jsx(ch,{className:"h-4 w-4"}),"Assign Customer"]})]})}),s.jsx(Q,{children:Ae.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No customers assigned to this agent"}):s.jsx("div",{className:"space-y-3",children:Ae.map(K=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:s.jsx(jd,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:K.customer.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:K.customer.email}),K.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:K.customer.company_name})]})]}),s.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>Ge(K.id),children:s.jsx(zt,{className:"h-4 w-4 text-destructive"})})]},K.id))})})]})})]}):s.jsx(Y,{children:s.jsx(Q,{className:"py-8",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load agent configuration"})})})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ft,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an agent to view details"})]})})}),s.jsx(dr,{open:B,onOpenChange:U,children:s.jsxs(Kn,{children:[s.jsxs(Jn,{children:[s.jsx(Xn,{children:"Assign Customer"}),s.jsx(Hi,{children:"Select a customer to give them access to this agent's conversations."})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs(Be,{value:$,onValueChange:F,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select a customer"})}),s.jsx(Fe,{children:a.filter(K=>!Ae.some(de=>de.customer.id===K.id)).map(K=>s.jsx(ie,{value:K.id,children:s.jsxs("div",{children:[s.jsx("p",{children:K.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:K.email})]})},K.id))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),s.jsx(ee,{onClick:qe,disabled:!$,children:"Assign"})]})]})]})}),s.jsx(Wg,{open:M,onOpenChange:R,children:s.jsxs(lf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(Hg,{children:[s.jsx(Gg,{children:"Conversation Details"}),s.jsx(Yg,{children:D&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[D.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium text-foreground",children:["+",D.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(D.start_time_unix_secs*1e3),"MMM d, yyyy h:mm a")]}),D.call_duration_secs&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-3 w-3"}),"Duration: ",be(D.call_duration_secs)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{variant:D.status==="done"||D.status==="completed"?"default":"secondary",children:D.status}),D.sentiment&&s.jsx(Ce,{variant:"outline",children:D.sentiment})]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(D==null?void 0:D.summary)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Summary"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm",children:D.summary})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),H?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):I.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"}):s.jsx("div",{className:"space-y-4",children:I.map((K,de)=>s.jsx("div",{className:`flex gap-3 ${K.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${K.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:K.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:K.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:at(new Date(K.timestamp),"h:mm:ss a")})]})},de))})]})]})]})})]}):s.jsx("div",{className:"p-6",children:"Please log in to view WhatsApp agents."})};function GVe(){const{theme:e,setTheme:t}=Kg();return s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>t(e==="light"?"dark":"light"),className:"h-9 w-9 px-0",children:[s.jsx(q2,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(z2,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const mi=()=>s.jsx("footer",{className:"border-t border-gray-700 bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 w-auto"})}),s.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:"The complete platform for building & deploying AI support agents for your business."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Je,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Je,{to:"/auth",className:"text-gray-400 hover:text-white transition-colors",children:"Get Started"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Je,{to:"/docs",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),s.jsx("li",{children:s.jsx(Je,{to:"/api",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),s.jsx("li",{children:s.jsx(Je,{to:"/guides",className:"text-gray-400 hover:text-white transition-colors",children:"Guides"})}),s.jsx("li",{children:s.jsx(Je,{to:"/support",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Je,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx(Je,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx(Je,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Je,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",new Date().getFullYear()," Voxtro. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(GVe,{}),s.jsx(Je,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy"}),s.jsx(Je,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms"})]})]})})]})}),YVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Documentation"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to know about building and deploying AI agents with Voxtro."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Quick Start"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-6 w-6 text-pink-400"}),s.jsx(ae,{className:"text-white",children:"1. Create Your Agent"})]}),s.jsx(je,{className:"text-gray-400",children:"Set up your first AI agent in minutes with our intuitive interface."})]}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Choose your AI model"}),s.jsx("li",{children:" Configure personality and tone"}),s.jsx("li",{children:" Add knowledge sources"}),s.jsx("li",{children:" Set up basic responses"})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-6 w-6 text-blue-400"}),s.jsx(ae,{className:"text-white",children:"2. Configure Integrations"})]}),s.jsx(je,{className:"text-gray-400",children:"Connect your systems and data sources for real-time information."})]}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Connect CRM systems"}),s.jsx("li",{children:" Add API endpoints"}),s.jsx("li",{children:" Set up webhooks"}),s.jsx("li",{children:" Configure actions"})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-6 w-6 text-green-400"}),s.jsx(ae,{className:"text-white",children:"3. Deploy & Monitor"})]}),s.jsx(je,{className:"text-gray-400",children:"Launch your agent and track performance with detailed analytics."})]}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Embed on website"}),s.jsx("li",{children:" Monitor conversations"}),s.jsx("li",{children:" Track metrics"}),s.jsx("li",{children:" Optimize performance"})]})})]})]})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Core Features"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(KB,{className:"h-5 w-5 text-pink-400"}),"Agent Configuration"]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to configure your AI agent's personality, knowledge base, and response patterns."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Personality customization"}),s.jsx("li",{children:" Knowledge base management"}),s.jsx("li",{children:" Response templates"}),s.jsx("li",{children:" Conversation flows"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(R2,{className:"h-5 w-5 text-blue-400"}),"API Integration"]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Connect external services and databases to enhance your agent's capabilities."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" REST API connections"}),s.jsx("li",{children:" Database integrations"}),s.jsx("li",{children:" Third-party services"}),s.jsx("li",{children:" Custom webhooks"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Topics"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Understand how Voxtro protects your data and ensures compliance."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Data encryption"}),s.jsx("li",{children:" Access controls"}),s.jsx("li",{children:" GDPR compliance"}),s.jsx("li",{children:" SOC 2 certification"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx($l,{className:"h-5 w-5 text-purple-400"}),"Performance Optimization"]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Best practices for optimizing your agent's performance and response quality."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning"}),s.jsx("li",{children:" Conversation analytics"}),s.jsx("li",{children:" A/B testing"})]})]})]})]})]})]}),s.jsx("section",{className:"mt-16 text-center",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Need Help?"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Can't find what you're looking for? Our support team is here to help."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/support",children:"Contact Support"})}),s.jsx(ee,{variant:"outline",asChild:!0,children:s.jsx(Je,{to:"/api",children:"API Reference"})})]})]})})]}),s.jsx(mi,{})]}),KVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"API Reference"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Complete reference for the Voxtro API. Build integrations and automate your AI agents programmatically."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(Ate,{className:"h-6 w-6 text-pink-400"}),"Authentication"]}),s.jsx(je,{className:"text-gray-400",children:"All API requests require authentication using your API key."})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:s.jsx("code",{className:"text-green-400 text-sm",children:"Authorization: Bearer YOUR_API_KEY"})}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You can find your API key in your dashboard settings. Keep it secure and never expose it in client-side code."})]})]})}),s.jsxs("section",{className:"space-y-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Endpoints"}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(un,{className:"h-6 w-6 text-blue-400"}),"Agents"]}),s.jsx(je,{className:"text-gray-400",children:"Manage your AI agents programmatically."})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve all your AI agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "agents": [
    {
      "id": "agent_123",
      "name": "Support Bot",
      "status": "active",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create a new AI agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "name": "Customer Support Bot",
  "personality": "helpful and professional",
  "model": "gpt-4",
  "knowledge_base": ["doc1", "doc2"]
}`})})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx($2,{className:"h-6 w-6 text-purple-400"}),"Conversations"]}),s.jsx(je,{className:"text-gray-400",children:"Access and manage conversations between users and your agents."})]}),s.jsxs(Q,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/conversations"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve conversations for your agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "conversations": [
    {
      "id": "conv_123",
      "agent_id": "agent_123",
      "user_id": "user_456",
      "messages": 5,
      "status": "resolved",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/conversations/","{conversation_id}","/messages"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Send a message in a conversation."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "message": "Hello, I need help with my order",
  "user_id": "user_456"
}`})})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(R2,{className:"h-6 w-6 text-orange-400"}),"Analytics"]}),s.jsx(je,{className:"text-gray-400",children:"Get insights and analytics about your agent performance."})]}),s.jsx(Q,{className:"space-y-6",children:s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/analytics/agents/","{agent_id}"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get analytics for a specific agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "total_conversations": 1250,
  "resolution_rate": 0.89,
  "avg_response_time": 1.2,
  "satisfaction_score": 4.6,
  "period": "last_30_days"
}`})})]})})]})]})]}),s.jsx(mi,{})]}),JVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Guides & Tutorials"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Step-by-step guides to help you get the most out of your Voxtro AI agents."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Getting Started"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-6 w-6 text-pink-400"}),s.jsx(ae,{className:"text-white",children:"Your First AI Agent"})]}),s.jsx(je,{className:"text-gray-400",children:"Learn how to create and configure your first AI agent from scratch."})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Sign up and access your dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Choose your AI model and configure personality"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Add knowledge sources and train your agent"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test and deploy to your website"})]})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-6 w-6 text-blue-400"}),s.jsx(ae,{className:"text-white",children:"Setting Up Integrations"})]}),s.jsx(je,{className:"text-gray-400",children:"Connect your existing tools and systems to enhance your agent's capabilities."})]}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Connect your CRM or helpdesk"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Set up API endpoints for real-time data"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Configure webhooks and notifications"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test integrations and monitor performance"})]})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Guides"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-6 w-6 text-yellow-400"}),s.jsx(ae,{className:"text-white",children:"Performance Optimization"})]}),s.jsx(je,{className:"text-gray-400",children:"Optimize your agent for faster responses and better accuracy."})]}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning techniques"}),s.jsx("li",{children:" Caching strategies"}),s.jsx("li",{children:" Load balancing"})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-green-400"}),s.jsx(ae,{className:"text-white",children:"Multi-Agent Systems"})]}),s.jsx(je,{className:"text-gray-400",children:"Build complex workflows with multiple specialized agents."})]}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Agent orchestration"}),s.jsx("li",{children:" Handoff strategies"}),s.jsx("li",{children:" Specialized agent roles"}),s.jsx("li",{children:" Workflow management"})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-6 w-6 text-purple-400"}),s.jsx(ae,{className:"text-white",children:"Analytics & Insights"})]}),s.jsx(je,{className:"text-gray-400",children:"Extract valuable insights from your agent interactions."})]}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Conversation analysis"}),s.jsx("li",{children:" Performance metrics"}),s.jsx("li",{children:" Customer satisfaction tracking"}),s.jsx("li",{children:" Business intelligence"})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Use Cases & Examples"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"E-commerce Support Agent"}),s.jsx(je,{className:"text-gray-400",children:"Build an AI agent that handles order inquiries, returns, and product recommendations."})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to create a comprehensive e-commerce support agent that can handle order tracking, process returns, and make personalized product recommendations."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"SaaS Onboarding Assistant"}),s.jsx(je,{className:"text-gray-400",children:"Create an agent that guides new users through your product features and setup."})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Build an intelligent onboarding assistant that helps new users understand your product, complete setup tasks, and discover key features."})})]})]})]})]}),s.jsx(mi,{})]}),XVe=()=>{const[e,t]=y.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[n,r]=y.useState(!1),a=async i=>{i.preventDefault(),r(!0);try{await ELe({name:`${e.firstName} ${e.lastName}`.trim(),email:e.email,subject:e.subject,message:e.message}),ve.success("Message sent successfully! We'll get back to you soon."),t({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(o){console.error("Error sending message:",o),ve.error("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Support Center"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get help when you need it. Our support team is here to ensure your success with Voxtro."})]}),s.jsx("section",{className:"mb-16",children:s.jsx("div",{className:"grid lg:grid-cols-1 gap-8 max-w-md mx-auto",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KB,{className:"h-8 w-8 text-pink-400"}),s.jsx(ae,{className:"text-white",children:"Documentation"})]}),s.jsx(je,{className:"text-gray-400",children:"Find answers in our comprehensive documentation and guides."})]}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Browse through detailed documentation, API references, and step-by-step tutorials."}),s.jsx(ee,{className:"w-full",asChild:!0,children:s.jsx(Je,{to:"/docs",children:"View Documentation"})})]})]})})}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Get in Touch"}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"Send us a message"}),s.jsx(je,{className:"text-gray-400",children:"We'll get back to you within 24 hours."})]}),s.jsx(Q,{children:s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),s.jsx(ue,{id:"firstName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"John",value:e.firstName,onChange:i=>t({...e,firstName:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),s.jsx(ue,{id:"lastName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe",value:e.lastName,onChange:i=>t({...e,lastName:i.target.value}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email",className:"text-gray-300",children:"Email"}),s.jsx(ue,{id:"email",type:"email",className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@example.com",value:e.email,onChange:i=>t({...e,email:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),s.jsx(ue,{id:"subject",className:"bg-gray-800 border-gray-700 text-white",placeholder:"How can we help?",value:e.subject,onChange:i=>t({...e,subject:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"message",className:"text-gray-300",children:"Message"}),s.jsx(pt,{id:"message",className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your issue or question...",value:e.message,onChange:i=>t({...e,message:i.target.value}),required:!0})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-6",children:s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ns,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Email Support"}),s.jsx("p",{className:"text-gray-400",children:"info@voxtro.io"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We respond within 24 hours"})]})]})})})})]})]})}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(bm,{className:"h-5 w-5 text-pink-400"}),"How do I get started?"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Simply sign up for an account, create your first AI agent, and follow our quick start guide to configure and deploy your agent in minutes."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(bm,{className:"h-5 w-5 text-pink-400"}),"What integrations are supported?"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We support popular tools like Slack, Zendesk, Salesforce, Stripe, and many more. You can also connect custom APIs and webhooks."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(bm,{className:"h-5 w-5 text-pink-400"}),"Is my data secure?"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Yes, we are SOC 2 Type II and GDPR compliant. All data is encrypted at rest and in transit, and we never use your data to train our models."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(bm,{className:"h-5 w-5 text-pink-400"}),"Can I customize the agent's behavior?"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! You can customize your agent's personality, knowledge base, response patterns, and configure when to escalate to human agents."})})]})]})]})]}),s.jsx(mi,{})]})},QVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"System Status"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-time status of Voxtro services and infrastructure."})]}),s.jsx("section",{className:"mb-16",children:s.jsx(Y,{className:"bg-background shadow-lg shadow-green-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(ar,{className:"h-12 w-12 text-green-400 mr-4"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"All Systems Operational"}),s.jsx("p",{className:"text-gray-400",children:"All services are running normally"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:"99.98% Uptime (Last 90 days)"})})]})})}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Service Status"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Core Services"}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oh,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"AI Agent API"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Core agent processing and responses"})]})]}),s.jsxs(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($2,{className:"h-6 w-6 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Database"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Data storage and retrieval"})]})]}),s.jsxs(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lh,{className:"h-6 w-6 text-green-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Chat Widget"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Website embedding and chat interface"})]})]}),s.jsxs(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Infrastructure"}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($l,{className:"h-6 w-6 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"User login and security"})]})]}),s.jsxs(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oh,{className:"h-6 w-6 text-purple-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Analytics"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Usage tracking and insights"})]})]}),s.jsxs(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lh,{className:"h-6 w-6 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"CDN"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Content delivery network"})]})]}),s.jsxs(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(ar,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Recent Incidents"}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ar,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Incidents"}),s.jsx("p",{className:"text-gray-400",children:"All services have been running smoothly. No incidents to report in the last 30 days."})]})})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Performance Metrics"}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"99.98%"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Uptime"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 90 days"})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"0.8s"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Response Time"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Average API response"})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"2.1M"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Requests"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 24 hours"})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:"5"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Regions"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Global coverage"})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Subscribe to status updates and get notified about any service disruptions."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(ee,{children:"Subscribe to Updates"}),s.jsx(ee,{variant:"outline",children:"RSS Feed"})]})]})})]}),s.jsx(mi,{})]}),ZVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("section",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"About Voxtro"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed",children:"We're on a mission to revolutionize customer support through intelligent AI agents that understand, engage, and solve problems just like the best human agentsbut available 24/7."})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16 mb-20",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx(V2,{className:"h-8 w-8 text-pink-400"}),"Our Mission"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"To empower businesses of all sizes with AI-powered customer support that's indistinguishable from human interaction. We believe every customer deserves instant, accurate, and empathetic support, regardless of the time of day or complexity of their inquiry."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx($l,{className:"h-8 w-8 text-blue-400"}),"Our Vision"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"A world where exceptional customer support is accessible to every business, where AI agents seamlessly integrate with existing workflows, and where customers receive instant, personalized assistance that exceeds their expectations."})})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Story"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Founded in 2024, Voxtro emerged from a simple observation: great customer support shouldn't be a luxury reserved for enterprise companies."})]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-12",children:s.jsxs("div",{className:"prose prose-lg prose-invert max-w-none",children:[s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Our founders, experienced engineers and customer success leaders, witnessed firsthand how small and medium-sized businesses struggled to provide consistent, high-quality customer support due to resource constraints and the complexity of existing solutions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"We set out to build something differenta platform that could democratize access to intelligent customer support. By leveraging the latest advances in AI and natural language processing, we created agents that don't just answer questions, but understand context, access real-time data, and take meaningful actions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Today, Voxtro powers customer support for thousands of businesses worldwide, from startups to enterprise companies, helping them deliver exceptional customer experiences while reducing operational overhead and improving team productivity."})]})})})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Values"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"The principles that guide everything we do at Voxtro."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white text-xl",children:"Customer-Centric"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Every decision we make starts with our customers. We build features that solve real problems and create genuine value for businesses and their customers."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white text-xl",children:"Innovation"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We push the boundaries of what's possible with AI, constantly exploring new ways to make customer support more intelligent, efficient, and human-like."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white text-xl",children:"Transparency"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We believe in open communication, clear pricing, and honest relationships with our customers, partners, and team members."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white text-xl",children:"Quality"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We're committed to delivering exceptional quality in our product, our service, and our customer relationships. Excellence is not negotiable."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white text-xl",children:"Accessibility"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Advanced AI should be accessible to businesses of all sizes. We work to make our platform easy to use, affordable, and scalable."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white text-xl",children:"Security"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We take data security and privacy seriously, implementing industry-leading practices to protect our customers' information and maintain their trust."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Leadership Team"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Meet the leaders driving Voxtro's mission forward."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"AS"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Alex Smith"}),s.jsx("p",{className:"text-pink-400 mb-4",children:"CEO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Former VP of Engineering at a leading customer support platform. Passionate about making AI accessible to every business."})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"MJ"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Maria Johnson"}),s.jsx("p",{className:"text-blue-400 mb-4",children:"CTO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI researcher with 15+ years in machine learning and natural language processing. Former principal scientist at a major tech company."})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"DL"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"David Lee"}),s.jsx("p",{className:"text-green-400 mb-4",children:"VP of Customer Success"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Customer success leader who has helped scale support operations for multiple high-growth SaaS companies."})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx(dn,{className:"h-16 w-16 text-pink-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Join Our Mission"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always looking for talented individuals who share our passion for innovation and customer success. Come help us build the future of customer support."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(ee,{size:"lg",asChild:!0,children:s.jsx(Je,{to:"/careers",children:"View Open Positions"})}),s.jsx(ee,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Je,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(mi,{})]}),eWe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Join Our Team"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Help us build the future of AI-powered customer support. We're looking for passionate individuals who want to make a real impact on how businesses interact with their customers."})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Why Work at Voxtro?"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Join a team that's passionate about innovation, growth, and making a difference."})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(wM,{className:"h-6 w-6 text-pink-400"}),"Cutting-Edge Technology"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Work with the latest AI technologies and help shape the future of conversational AI. From large language models to advanced NLP techniques, you'll be at the forefront of innovation."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-blue-400"}),"Collaborative Culture"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Join a diverse, inclusive team where every voice matters. We believe the best ideas come from collaboration and different perspectives working together."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(SM,{className:"h-6 w-6 text-red-400"}),"Impact & Purpose"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Your work directly impacts thousands of businesses and millions of their customers. See the real-world effects of your contributions every day."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(jM,{className:"h-6 w-6 text-green-400"}),"Growth Opportunities"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Fast-growing company means fast-growing careers. We invest in our people with learning budgets, mentorship programs, and clear paths for advancement."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Open Positions"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Find your next career opportunity with us."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(R2,{className:"h-6 w-6 text-pink-400"}),"Engineering"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-white",children:"Senior Full-Stack Engineer"}),s.jsx(je,{className:"text-gray-400",children:"Build and scale our core platform architecture"})]}),s.jsx(Ce,{className:"bg-green-500/20 text-green-400 border-green-500",children:"New"})]})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / San Francisco"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We're looking for an experienced engineer to help build scalable systems that power AI agents for thousands of customers worldwide."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-white",children:"AI/ML Engineer"}),s.jsx(je,{className:"text-gray-400",children:"Develop next-generation AI conversation models"})]}),s.jsx(Ce,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Featured"})]})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / New York"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Join our AI team to research and implement cutting-edge machine learning techniques for conversational AI and natural language understanding."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"Frontend Engineer"}),s.jsx(je,{className:"text-gray-400",children:"Create beautiful, intuitive user experiences"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / London"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build responsive, accessible web applications using React, TypeScript, and modern frontend technologies to power our customer dashboard."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"DevOps Engineer"}),s.jsx(je,{className:"text-gray-400",children:"Scale infrastructure for global AI workloads"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / Austin"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build and maintain cloud infrastructure, CI/CD pipelines, and monitoring systems that support millions of AI interactions daily."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(jM,{className:"h-6 w-6 text-blue-400"}),"Product & Design"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"Senior Product Manager"}),s.jsx(je,{className:"text-gray-400",children:"Drive product strategy and roadmap"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / Seattle"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Lead product development for our AI agent platform, working closely with engineering, design, and customers to deliver impactful features."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"UX/UI Designer"}),s.jsx(je,{className:"text-gray-400",children:"Design intuitive interfaces for complex AI systems"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / Los Angeles"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Create user-centered designs that make complex AI functionality accessible to users of all technical backgrounds."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(dn,{className:"h-6 w-6 text-green-400"}),"Business"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"Customer Success Manager"}),s.jsx(je,{className:"text-gray-400",children:"Help customers achieve success with AI agents"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / Chicago"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Work directly with our customers to ensure they're getting maximum value from their AI agents and achieving their support goals."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"Sales Development Representative"}),s.jsx(je,{className:"text-gray-400",children:"Generate and qualify leads for our sales team"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uo,{className:"h-4 w-4"}),"Remote / Miami"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Help businesses discover how AI can transform their customer support. Perfect for someone passionate about AI and customer success."}),s.jsx(ee,{className:"w-full",children:"Apply Now"})]})]})]})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Benefits & Perks"}),s.jsx("p",{className:"text-xl text-gray-400",children:"We take care of our team so they can do their best work."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(SM,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Health & Wellness"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Comprehensive health insurance"}),s.jsx("li",{children:" Dental and vision coverage"}),s.jsx("li",{children:" Mental health support"}),s.jsx("li",{children:" Fitness stipend"})]})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx(Tt,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Work-Life Balance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Flexible working hours"}),s.jsx("li",{children:" Remote-first culture"}),s.jsx("li",{children:" Unlimited PTO policy"}),s.jsx("li",{children:" Quarterly company retreats"})]})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(wM,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Growth & Learning"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" $2,000 annual learning budget"}),s.jsx("li",{children:" Conference attendance"}),s.jsx("li",{children:" Internal mentorship program"}),s.jsx("li",{children:" Equity participation"})]})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Don't See a Perfect Fit?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always interested in hearing from talented individuals. Send us your resume and tell us how you'd like to contribute to our mission."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(ee,{size:"lg",children:"Send General Application"}),s.jsx(ee,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Je,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(mi,{})]}),tWe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Contact Us"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Have questions about Voxtro? Want to see a demo? Looking to partner with us? We'd love to hear from you."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx(un,{className:"h-12 w-12 text-pink-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Sales Inquiries"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Interested in Voxtro for your business?"}),s.jsx(ee,{className:"w-full",children:"Talk to Sales"})]})}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx(bm,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Support"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Need help with your account or product?"}),s.jsx(ee,{className:"w-full",asChild:!0,children:s.jsx(Je,{to:"/support",children:"Get Support"})})]})})]})}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Send us a message"}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(se,{children:[s.jsx(ae,{className:"text-white",children:"Get in Touch"}),s.jsx(je,{className:"text-gray-400",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),s.jsx(Q,{children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"firstName",className:"text-gray-300",children:"First Name *"}),s.jsx(ue,{id:"firstName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name *"}),s.jsx(ue,{id:"lastName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"email",className:"text-gray-300",children:"Work Email *"}),s.jsx(ue,{id:"email",type:"email",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@company.com"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"company",className:"text-gray-300",children:"Company"}),s.jsx(ue,{id:"company",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Acme Inc."})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),s.jsx(ue,{id:"phone",type:"tel",className:"bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"inquiry",className:"text-gray-300",children:"Inquiry Type *"}),s.jsxs(Be,{required:!0,children:[s.jsx(Le,{className:"bg-gray-800 border-gray-700 text-white",children:s.jsx(Ue,{placeholder:"Select inquiry type"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"sales",children:"Sales & Pricing"}),s.jsx(ie,{value:"demo",children:"Request a Demo"}),s.jsx(ie,{value:"support",children:"Technical Support"}),s.jsx(ie,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ne,{htmlFor:"message",className:"text-gray-300",children:"Message *"}),s.jsx(pt,{id:"message",required:!0,className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your needs, questions, or how we can help..."})]}),s.jsx("div",{className:"text-xs text-gray-400",children:"* Required fields"}),s.jsx(ee,{className:"w-full",size:"lg",children:"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-8",children:s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Ns,{className:"h-8 w-8 text-pink-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Email Us"}),s.jsx("div",{className:"text-gray-300",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"General inquiries:"})," info@voxtro.io"]})})]})]})})})})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400",children:"Quick answers to common questions"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"How quickly can I get started?"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"You can create and deploy your first AI agent in under 30 minutes. Sign up, configure your agent, and embed it on your website with just a few clicks."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Do you offer custom integrations?"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Yes! We can build custom integrations for Enterprise customers. Contact our sales team to discuss your specific requirements."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"What's your uptime guarantee?"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We maintain 99.9% uptime SLA for all paid plans, with 99.99% uptime SLA available for Enterprise customers."})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Can I try Voxtro before purchasing?"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! We offer a free trial with no credit card required. You can also schedule a personalized demo with our team."})})]})]})]})]}),s.jsx(mi,{})]}),nWe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Privacy Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we collect, use, and protect your information"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(Rl,{className:"h-6 w-6 text-pink-400"}),"Our Commitment to Privacy"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"At Voxtro, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our AI agent platform and services. We are committed to protecting your personal information and your right to privacy."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx($2,{className:"h-8 w-8 text-blue-400"}),"Information We Collect"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Personal Information"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Register for an account"}),s.jsx("li",{children:" Use our services"}),s.jsx("li",{children:" Contact us for support"}),s.jsx("li",{children:" Subscribe to our newsletter"}),s.jsx("li",{children:" Participate in surveys or promotions"})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"This may include: name, email address, phone number, company information, payment details, and any other information you choose to provide."})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Usage Information"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We automatically collect certain information when you use our services:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Device information (IP address, browser type, operating system)"}),s.jsx("li",{children:" Usage patterns and preferences"}),s.jsx("li",{children:" Log files and analytics data"}),s.jsx("li",{children:" Cookies and similar tracking technologies"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"AI Training Data"})}),s.jsx(Q,{children:s.jsxs("p",{className:"text-gray-300",children:[s.jsx("strong",{children:"Important:"})," We do not use your conversations, documents, or any customer data to train our AI models. Your data remains private and is only used to provide services to you and your organization."]})})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(ja,{className:"h-8 w-8 text-green-400"}),"How We Use Your Information"]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use the information we collect for the following purposes:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Service Delivery"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Provide and maintain our services"}),s.jsx("li",{children:" Process transactions and payments"}),s.jsx("li",{children:" Provide customer support"}),s.jsx("li",{children:" Send service-related communications"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Improvement & Analytics"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Analyze usage patterns and trends"}),s.jsx("li",{children:" Improve our services and develop new features"}),s.jsx("li",{children:" Conduct research and analytics"}),s.jsx("li",{children:" Ensure security and prevent fraud"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Send important updates and notifications"}),s.jsx("li",{children:" Respond to inquiries and support requests"}),s.jsx("li",{children:" Send marketing communications (with consent)"}),s.jsx("li",{children:" Conduct surveys and gather feedback"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Legal Compliance"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Comply with legal obligations"}),s.jsx("li",{children:" Enforce our terms of service"}),s.jsx("li",{children:" Protect rights and prevent misuse"}),s.jsx("li",{children:" Resolve disputes and legal claims"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(dn,{className:"h-8 w-8 text-purple-400"}),"Information Sharing"]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We do not sell, trade, or rent your personal information. We may share your information in the following limited circumstances:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Service Providers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with trusted third-party service providers who assist us in operating our business (hosting, payment processing, analytics, customer support)."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Legal Requirements"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may disclose information when required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Business Transfers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the transaction."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"With Your Consent"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with your explicit consent or at your direction."})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(lS,{className:"h-8 w-8 text-red-400"}),"Data Security"]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We implement appropriate technical and organizational security measures to protect your personal information:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Technical Safeguards"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" AES-256 encryption for data at rest"}),s.jsx("li",{children:" TLS 1.3 encryption for data in transit"}),s.jsx("li",{children:" Regular security audits and penetration testing"}),s.jsx("li",{children:" Secure cloud infrastructure"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Organizational Measures"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Access controls and authentication"}),s.jsx("li",{children:" Employee security training"}),s.jsx("li",{children:" Data processing agreements"}),s.jsx("li",{children:" Incident response procedures"})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("p",{className:"text-yellow-300 text-sm",children:[s.jsx("strong",{children:"Note:"})," While we use industry-standard security measures, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security but are committed to protecting your information."]})})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Fn,{className:"h-8 w-8 text-orange-400"}),"Your Rights"]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"Depending on your location, you may have certain rights regarding your personal information:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Access & Portability"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request a copy of your personal information and receive it in a portable format."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Correction"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Update or correct inaccurate or incomplete personal information."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Deletion"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request deletion of your personal information, subject to certain exceptions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Opt-out"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Opt-out of marketing communications and certain data processing activities."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("p",{className:"text-gray-300 text-sm",children:"To exercise these rights, please contact us at privacy@voxtro.com. We will respond to your request within 30 days."})})]})]})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Cookies and Tracking Technologies"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We use cookies and similar technologies to enhance your experience, analyze usage, and provide personalized content. You can control cookie settings through your browser."}),s.jsxs("p",{className:"text-gray-300",children:["For detailed information about our cookie usage, please see our",s.jsx(Je,{to:"/cookies",className:"text-pink-400 hover:text-pink-300 ml-1",children:"Cookie Policy"}),"."]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Contact Us"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})}),s.jsx("section",{children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Policy Updates"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the new policy.'})})]})})]}),s.jsx(mi,{})]}),rWe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Terms of Service"}),s.jsx("p",{className:"text-xl text-gray-300",children:"The terms and conditions for using Voxtro services"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(Fn,{className:"h-6 w-6 text-pink-400"}),"Agreement to Terms"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'These Terms of Service ("Terms") govern your use of the Voxtro platform and services. By accessing or using our services, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access our services.'})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Rl,{className:"h-8 w-8 text-blue-400"}),"Service Description"]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Voxtro provides an AI-powered customer support platform that enables businesses to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 mb-6",children:[s.jsx("li",{children:" Create and deploy AI agents for customer interactions"}),s.jsx("li",{children:" Integrate with existing business systems and workflows"}),s.jsx("li",{children:" Access analytics and insights about customer interactions"}),s.jsx("li",{children:" Manage and monitor AI agent performance"})]}),s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify, suspend, or discontinue any part of our services at any time with or without notice. We will not be liable to you or any third party for any modification, price change, suspension, or discontinuance of the services."})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(dn,{className:"h-8 w-8 text-green-400"}),"User Accounts and Responsibilities"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Account Creation"})}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" You must provide accurate and complete information when creating an account"}),s.jsx("li",{children:" You are responsible for maintaining the confidentiality of your account credentials"}),s.jsx("li",{children:" You must be at least 18 years old to create an account"}),s.jsx("li",{children:" One person or legal entity may not maintain more than one account"})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Acceptable Use"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You agree not to use our services to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Violate any applicable laws or regulations"}),s.jsx("li",{children:" Infringe on intellectual property rights"}),s.jsx("li",{children:" Transmit harmful, offensive, or inappropriate content"}),s.jsx("li",{children:" Attempt to gain unauthorized access to our systems"}),s.jsx("li",{children:" Use our services for any illegal or fraudulent activities"}),s.jsx("li",{children:" Reverse engineer, decompile, or disassemble our software"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(QB,{className:"h-8 w-8 text-purple-400"}),"Payment Terms"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Billing and Payments"})}),s.jsx(Q,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Subscription fees are billed in advance on a monthly or annual basis"}),s.jsx("li",{children:" All fees are non-refundable except as required by law"}),s.jsx("li",{children:" We may change our pricing with 30 days' notice"}),s.jsx("li",{children:" Late payments may result in service suspension"}),s.jsx("li",{children:" You are responsible for all applicable taxes"})]})})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Refunds and Cancellations"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You may cancel your subscription at any time. Cancellations take effect at the end of your current billing period. We do not provide refunds for partial months of service."}),s.jsx("p",{className:"text-gray-300",children:"For annual subscriptions, you may request a pro-rated refund within 30 days of your initial purchase if you have not used more than 20% of your included usage limits."})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Intellectual Property"})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Our Rights"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"All rights, title, and interest in the Voxtro platform, including all intellectual property rights, remain our exclusive property. You may not copy, modify, distribute, sell, or lease any part of our services."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Your Content"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You retain ownership of any content you provide to our services. By using our services, you grant us a license to use your content solely for the purpose of providing services to you."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Training Data"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We do not use your data, conversations, or content to train our AI models or improve our services for other customers. Your data remains private and confidential."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Privacy and Data Protection"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Your privacy is important to us. Our collection and use of personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"We implement appropriate technical and organizational measures to ensure a level of security appropriate to the risk, including encryption, access controls, and regular security audits."}),s.jsx("p",{className:"text-gray-300",children:"You are responsible for ensuring that any personal data you provide or process through our services complies with applicable privacy laws and regulations."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Service Level Agreement"})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Uptime Commitment"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We strive to maintain 99.9% uptime for our services. In the event of service interruptions, we will work to restore service as quickly as possible."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Support Response Times"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We aim to respond to support requests within 24 hours for standard plans and 4 hours for enterprise plans during business hours."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Maintenance"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may perform scheduled maintenance with advance notice. Emergency maintenance may be performed without notice when necessary to protect service security or integrity."})]})]})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(s8,{className:"h-8 w-8 text-red-400"}),"Limitation of Liability"]}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Q,{className:"p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Disclaimer of Warranties"}),s.jsx("p",{className:"text-gray-300 text-sm",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied, including but not limited to implied warranties of merchantability, fitness for a particular purpose, or non-infringement.'})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Limitation of Damages"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"To the maximum extent permitted by law, our total liability for any claims arising out of or relating to these Terms or our services shall not exceed the amount you paid us in the 12 months preceding the claim."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Service Limitations"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI-generated responses may not always be accurate, appropriate, or complete. You are responsible for reviewing and monitoring AI interactions with your customers."})]})]})})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Termination"})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by You"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You may terminate your account at any time by contacting us or using the account settings in your dashboard. Termination will be effective at the end of your current billing period."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by Us"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may suspend or terminate your account immediately if you violate these Terms, fail to pay fees when due, or if we reasonably believe such action is necessary to protect our services or other users."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Effect of Termination"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Upon termination, your right to use our services will cease immediately. We may delete your data after a reasonable grace period, but are not obligated to do so."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Governing Law and Disputes"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These Terms are governed by the laws of the State of California, without regard to conflict of law principles. Any disputes arising from these Terms or our services will be resolved through binding arbitration in San Francisco, California."}),s.jsx("p",{className:"text-gray-300",children:"You agree to resolve any disputes individually and waive any right to participate in class action lawsuits or class-wide arbitration."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Changes to Terms"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by email or through our services at least 30 days before they take effect. Your continued use of our services after the changes take effect constitutes acceptance of the new Terms."})})]})}),s.jsx("section",{children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Contact Information"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," legal@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Legal Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})})]}),s.jsx(mi,{})]}),sWe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Je,{to:"/",className:"flex items-center",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Je,{to:"/",children:[s.jsx(_r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(ee,{asChild:!0,children:s.jsx(Je,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Cookie Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we use cookies and similar technologies"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(Nte,{className:"h-6 w-6 text-pink-400"}),"What are Cookies?"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Cookies are small text files that are stored on your device when you visit a website. They help websites remember your preferences, improve your experience, and provide analytics about how the site is used. We use cookies and similar technologies to enhance your experience with Voxtro."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Types of Cookies We Use"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(Rl,{className:"h-6 w-6 text-green-400"}),"Essential Cookies"]}),s.jsx(Ce,{className:"bg-red-500/20 text-red-400 border-red-500",children:"Required"})]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are necessary for the website to function properly. They cannot be disabled as they are essential for core functionality."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Authentication and session management"}),s.jsx("li",{children:" Security and fraud prevention"}),s.jsx("li",{children:" Load balancing and performance optimization"}),s.jsx("li",{children:" Remember your privacy preferences"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(gs,{className:"h-6 w-6 text-blue-400"}),"Functional Cookies"]}),s.jsx(Ce,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Optional"})]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies enable enhanced functionality and personalization, but the site can function without them."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Remember your language and region preferences"}),s.jsx("li",{children:" Customize the user interface based on your settings"}),s.jsx("li",{children:" Remember form data and user inputs"}),s.jsx("li",{children:" Provide personalized content and recommendations"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(po,{className:"h-6 w-6 text-purple-400"}),"Analytics Cookies"]}),s.jsx(Ce,{className:"bg-purple-500/20 text-purple-400 border-purple-500",children:"Optional"})]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Track page visits and user behavior patterns"}),s.jsx("li",{children:" Measure website performance and loading times"}),s.jsx("li",{children:" Understand which features are most popular"}),s.jsx("li",{children:" Identify and fix technical issues"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{className:"text-white flex items-center gap-2",children:[s.jsx(lh,{className:"h-6 w-6 text-orange-400"}),"Marketing Cookies"]}),s.jsx(Ce,{className:"bg-orange-500/20 text-orange-400 border-orange-500",children:"Optional"})]})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are used to deliver personalized advertisements and measure the effectiveness of marketing campaigns."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Show relevant ads based on your interests"}),s.jsx("li",{children:" Prevent the same ad from being shown repeatedly"}),s.jsx("li",{children:" Measure advertising campaign effectiveness"}),s.jsx("li",{children:" Enable social media sharing features"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Third-Party Services"}),s.jsx(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use trusted third-party services that may set their own cookies. These services help us provide better functionality and insights:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Analytics & Performance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Google Analytics - Website usage analytics"}),s.jsx("li",{children:" Mixpanel - Product analytics and insights"}),s.jsx("li",{children:" Sentry - Error tracking and monitoring"}),s.jsx("li",{children:" Cloudflare - CDN and security services"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Marketing & Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Intercom - Customer messaging and support"}),s.jsx("li",{children:" Mailchimp - Email marketing campaigns"}),s.jsx("li",{children:" LinkedIn Insights - Professional targeting"}),s.jsx("li",{children:" Google Ads - Advertising and retargeting"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Managing Your Cookie Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Cookie Settings"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:'You can manage your cookie preferences through our cookie banner when you first visit our site, or by clicking the "Cookie Settings" link in our footer.'}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{children:"Manage Cookie Preferences"}),s.jsx(ee,{variant:"outline",children:"Accept All Cookies"})]})]})]}),s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Browser Settings"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You can also control cookies through your browser settings. Most browsers allow you to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm mb-4",children:[s.jsx("li",{children:" View cookies that have been set and delete them individually"}),s.jsx("li",{children:" Block third-party cookies"}),s.jsx("li",{children:" Block all cookies from specific sites"}),s.jsx("li",{children:" Block all cookies from being set"}),s.jsx("li",{children:" Delete all cookies when you close your browser"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Desktop Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome: Settings  Privacy and security  Cookies"}),s.jsx("li",{children:" Firefox: Preferences  Privacy & Security"}),s.jsx("li",{children:" Safari: Preferences  Privacy"}),s.jsx("li",{children:" Edge: Settings  Cookies and site permissions"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Mobile Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome Mobile: Settings  Site settings  Cookies"}),s.jsx("li",{children:" Safari iOS: Settings  Safari  Privacy & Security"}),s.jsx("li",{children:" Samsung Internet: Settings  Sites and downloads"})]})]})]})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Cookie Retention"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Different types of cookies are retained for different periods:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Session Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Temporary cookies that are deleted when you close your browser. Used for essential functionality like maintaining your login session."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Persistent Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Stored on your device for a specific period or until manually deleted. Retention periods range from 30 days to 2 years depending on the cookie's purpose."})]})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Impact of Disabling Cookies"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"While you can use our website with cookies disabled, some functionality may be limited:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" You may need to log in repeatedly"}),s.jsx("li",{children:" Your preferences and settings may not be saved"}),s.jsx("li",{children:" Some features may not work as expected"}),s.jsx("li",{children:" You may see less relevant content and advertisements"}),s.jsx("li",{children:" We may not be able to provide personalized experiences"})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Updates to This Policy"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by updating the "Last updated" date at the top of this policy.'})})]})}),s.jsx("section",{children:s.jsxs(Y,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(se,{children:s.jsx(ae,{className:"text-white",children:"Questions About Cookies?"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about our use of cookies or this policy, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]})]})]})]})})]}),s.jsx(mi,{})]}),aWe=()=>{const e=ui(),t=Nr();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center px-6 max-w-md",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("span",{className:"text-[150px] font-bold text-muted/20 leading-none select-none",children:"404"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"p-4 rounded-full bg-muted/50",children:s.jsx(Ca,{className:"h-12 w-12 text-muted-foreground"})})})]}),s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Page not found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(ee,{variant:"outline",onClick:()=>t(-1),className:"gap-2",children:[s.jsx(_r,{className:"h-4 w-4"}),"Go Back"]}),s.jsxs(ee,{onClick:()=>t("/"),className:"gap-2",children:[s.jsx(F2,{className:"h-4 w-4"}),"Home"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-8",children:s.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:e.pathname})})]})})};var FT="Collapsible",[iWe,eYe]=Ur(FT),[oWe,BT]=iWe(FT),SJ=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,u]=_s({prop:r,defaultProp:a,onChange:o});return s.jsx(oWe,{scope:n,disabled:i,contentId:Ws(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:s.jsx(ze.div,{"data-state":zT(c),"data-disabled":i?"":void 0,...l,ref:t})})});SJ.displayName=FT;var CJ="CollapsibleTrigger",kJ=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=BT(CJ,n);return s.jsx(ze.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":zT(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:Ne(e.onClick,a.onOpenToggle)})});kJ.displayName=CJ;var UT="CollapsibleContent",EJ=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=BT(UT,e.__scopeCollapsible);return s.jsx(Un,{present:n||a.open,children:({present:i})=>s.jsx(lWe,{...r,ref:t,present:i})})});EJ.displayName=UT;var lWe=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=BT(UT,n),[l,c]=y.useState(r),u=y.useRef(null),d=Xe(t,u),h=y.useRef(0),f=h.current,m=y.useRef(0),p=m.current,g=o.open||l,v=y.useRef(g),x=y.useRef();return y.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),ur(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,m.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(r)}},[o.open,r]),s.jsx(ze.div,{"data-state":zT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:g&&a})});function zT(e){return e?"open":"closed"}var cWe=SJ;const uWe=cWe,dWe=kJ,hWe=EJ;function fWe({entry:e,entityName:t,onStatusChange:n,onDelete:r}){const{user:a}=Dt(),{toast:i}=bn(),[o,l]=y.useState(!1),[c,u]=y.useState([]),[d,h]=y.useState(!1),[f,m]=y.useState(""),[p,g]=y.useState(!1),v={update:{icon:ps,color:"bg-blue-500/10 text-blue-500"},create:{icon:Bt,color:"bg-green-500/10 text-green-500"},delete:{icon:zt,color:"bg-red-500/10 text-red-500"},note:{icon:Fn,color:"bg-yellow-500/10 text-yellow-500"},task:{icon:Qa,color:"bg-purple-500/10 text-purple-500"}},x={pending:{icon:Tt,color:"text-yellow-500",label:"Pending"},in_progress:{icon:_M,color:"text-blue-500",label:"In Progress"},completed:{icon:Qa,color:"text-green-500",label:"Completed"}},b=v[e.change_type],w=b.icon,_=async()=>{if(d||c.length>0)return;h(!0);const{data:k}=await G.from("changelog_notes").select("*").eq("changelog_entry_id",e.id).order("created_at",{ascending:!0});u(k||[]),h(!1)},N=async()=>{if(!f.trim()||!a)return;g(!0);const{data:k,error:A}=await G.from("changelog_notes").insert({changelog_entry_id:e.id,user_id:a.id,note:f.trim()}).select().single();A?i({title:"Failed to add note",variant:"destructive"}):(u(T=>[...T,k]),m(""),i({title:"Note added"})),g(!1)},S=Object.keys(e.previous_values||{}).length>0||Object.keys(e.new_values||{}).length>0,C=k=>{switch(k){case"vapi_sync":return"Vapi";case"auto":return"Auto";default:return"Manual"}};return s.jsx(Y,{className:"p-4",children:s.jsxs(uWe,{open:o,onOpenChange:k=>{l(k),k&&_()},children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg shrink-0 ${b.color}`,children:s.jsx(w,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:at(QS(e.created_at),"MMM d, yyyy  h:mm a")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t}),s.jsx(Ce,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:C(e.source)}),e.status&&e.source==="manual"&&s.jsx(Ce,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${x[e.status].color}`,children:x[e.status].label})]})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(dWe,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Zh,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})}),s.jsxs(Sj,{children:[s.jsx(Cj,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(L2,{className:"h-4 w-4"})})}),s.jsxs(vv,{align:"end",children:[(e.change_type==="task"||e.change_type==="update")&&e.source==="manual"&&s.jsxs(s.Fragment,{children:[s.jsxs(Mi,{onClick:()=>n(e.id,"pending"),children:[s.jsx(Tt,{className:"h-4 w-4 mr-2"})," Mark Pending"]}),s.jsxs(Mi,{onClick:()=>n(e.id,"in_progress"),children:[s.jsx(_M,{className:"h-4 w-4 mr-2"})," Mark In Progress"]}),s.jsxs(Mi,{onClick:()=>n(e.id,"completed"),children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"})," Mark Complete"]})]}),s.jsxs(Mi,{onClick:()=>r(e.id),className:"text-destructive",children:[s.jsx(zt,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]})]})})]}),s.jsxs(hWe,{className:"mt-4 ml-11 space-y-4",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.description}),S&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Changes"}),s.jsx("div",{className:"bg-muted/50 rounded-md p-3 space-y-1.5 text-xs font-mono",children:Object.keys(e.new_values||{}).map(k=>{var A;return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"text-muted-foreground",children:[k,":"]}),((A=e.previous_values)==null?void 0:A[k])!==void 0&&s.jsx("span",{className:"text-red-400 line-through",children:JSON.stringify(e.previous_values[k])}),s.jsx("span",{className:"text-green-400",children:JSON.stringify(e.new_values[k])})]},k)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[s.jsx(un,{className:"h-3 w-3"}),"Notes (",c.length,")"]}),c.map(k=>s.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.note}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:at(QS(k.created_at),"MMM d, yyyy  h:mm a")})]},k.id)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pt,{placeholder:"Add a note...",value:f,onChange:k=>m(k.target.value),className:"min-h-[60px] text-sm"}),s.jsx(ee,{onClick:N,disabled:p||!f.trim(),size:"icon",className:"shrink-0",children:s.jsx(nu,{className:"h-4 w-4"})})]})]})]})]})})}function mWe({entries:e,loading:t,entities:n,onStatusChange:r,onDelete:a}){if(t)return s.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Fs,{className:"h-10 w-10 rounded-lg shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Fs,{className:"h-4 w-2/3"}),s.jsx(Fs,{className:"h-3 w-1/3"})]})]})},o))});if(e.length===0)return s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No changelog entries found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add notes, track changes, or create tasks to get started."})]});const i=o=>{const l=n.find(c=>c.id===o);return(l==null?void 0:l.name)||"Unknown"};return s.jsx("div",{className:"space-y-3",children:e.map(o=>s.jsx(fWe,{entry:o,entityName:i(o.entity_id),onStatusChange:r,onDelete:a},o.id))})}function pWe({open:e,onOpenChange:t,entityType:n,entities:r,onEntryAdded:a,preSelectedEntityId:i}){const{user:o}=Dt(),{toast:l}=bn(),[c,u]=y.useState(!1),[d,h]=y.useState({entity_id:"",change_type:"note",title:"",description:"",status:"pending"});y.useEffect(()=>{e&&i&&h(p=>({...p,entity_id:i}))},[e,i]),y.useEffect(()=>{e||h({entity_id:"",change_type:"note",title:"",description:"",status:"pending"})},[e]);const f=r.find(p=>p.id===d.entity_id),m=async p=>{if(p.preventDefault(),!o||!d.entity_id||!d.title)return;u(!0);const{error:g}=await G.from("changelog_entries").insert({user_id:o.id,entity_type:n,entity_id:d.entity_id,change_type:d.change_type,title:d.title,description:d.description||null,status:d.change_type==="update"?d.status:null,source:"manual"});g?l({title:"Failed to add entry",description:g.message,variant:"destructive"}):(l({title:"Entry added successfully"}),t(!1),a()),u(!1)};return s.jsx(dr,{open:e,onOpenChange:t,children:s.jsxs(Kn,{className:"sm:max-w-[500px]",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:"Add Changelog Entry"})}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&f?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:f.name})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsxs(Be,{value:d.entity_id,onValueChange:p=>h(g=>({...g,entity_id:p})),children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:"Select..."})}),s.jsx(Fe,{children:r.map(p=>s.jsx(ie,{value:p.id,children:p.name},p.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Entry Type"}),s.jsxs(Be,{value:d.change_type,onValueChange:p=>h(g=>({...g,change_type:p})),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"note",children:"Note"}),s.jsx(ie,{value:"update",children:"Update"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Title"}),s.jsx(ue,{value:d.title,onChange:p=>h(g=>({...g,title:p.target.value})),placeholder:"Brief title for this entry",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Description (Optional)"}),s.jsx(pt,{value:d.description,onChange:p=>h(g=>({...g,description:p.target.value})),placeholder:"Add more details...",rows:4})]}),d.change_type==="update"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Status"}),s.jsxs(Be,{value:d.status,onValueChange:p=>h(g=>({...g,status:p})),children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"pending",children:"Pending"}),s.jsx(ie,{value:"in_progress",children:"In Progress"}),s.jsx(ie,{value:"completed",children:"Completed"})]})]})]}),s.jsxs(YA,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:c||!d.entity_id||!d.title,children:c?"Adding...":"Add Entry"})]})]})]})})}const gWe=({entityType:e,entityId:t,entityName:n,orgId:r,onEntryAdded:a})=>{const{user:i}=Dt(),{toast:o}=bn(),[l,c]=y.useState(""),[u,d]=y.useState(!1),h=async m=>{if(m==null||m.preventDefault(),!(!l.trim()||!i)){d(!0);try{if(e==="voice_assistant"){const[p,g]=await Promise.all([G.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:t,org_id:r||null,title:l.trim(),priority:"medium",status:"pending"}),G.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"})]);if(p.error)throw p.error;if(g.error)throw g.error}else{const{error:p}=await G.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"});if(p)throw p}c(""),o({title:`Task added for ${n}`}),a()}catch(p){console.error("Error creating entry:",p),o({title:"Failed to create task",variant:"destructive"})}finally{d(!1)}}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h())};return s.jsxs("form",{onSubmit:h,className:"flex items-center gap-2 mb-6 p-3 bg-muted/50 rounded-lg border border-border",children:[s.jsx(ue,{value:l,onChange:m=>c(m.target.value),onKeyDown:f,placeholder:"Add a task and press Enter...",disabled:u,className:"flex-1 bg-background"}),s.jsx(ee,{type:"submit",size:"sm",disabled:u||!l.trim(),children:u?s.jsx(Gn,{className:"h-4 w-4 animate-spin"}):s.jsx(Bt,{className:"h-4 w-4"})})]})};function vWe(){const{user:e}=Dt(),{toast:t}=bn(),[n,r]=y.useState("chatbot"),[a,i]=y.useState(null),[o,l]=y.useState("all"),[c,u]=y.useState([]),[d,h]=y.useState([]),[f,m]=y.useState([]),[p,g]=y.useState(!0),[v,x]=y.useState(!1),[b,w]=y.useState(null),[_,N]=y.useState(!1),[S,C]=y.useState("");y.useEffect(()=>{e&&(k(),A())},[e]),y.useEffect(()=>{e&&b!==null&&n==="voice_assistant"&&T()},[e,b,n]);const k=async()=>{try{const{data:L,error:I}=await G.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(I)throw I;w((L==null?void 0:L.org_id)||"")}catch(L){console.error("Error fetching active connection:",L),w("")}},A=async()=>{const{data:L}=await G.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});L&&h(L)},T=async()=>{let L=G.from("voice_assistants").select("id, name, org_id, created_at").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});b&&(L=L.eq("org_id",b));const{data:I}=await L;I&&m(I.map(z=>({id:z.id,name:z.name||"Unnamed Assistant",org_id:z.org_id})))},E=async()=>{i(null),await k(),N(!0);try{const L=await iy();t({title:`Synced ${L.count} assistants`})}catch(L){console.error("Error syncing assistants:",L),t({title:"Failed to sync assistants",variant:"destructive"})}finally{N(!1)}};y.useEffect(()=>{const L=n==="chatbot"?d:f;L.length>0&&!a&&i(L[0].id)},[d,f,n,a]),y.useEffect(()=>{if(!e||!a)return;(async()=>{g(!0);let I=G.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(I=I.eq("change_type",o));const{data:z,error:H}=await I;H?t({title:"Error fetching changelog",description:H.message,variant:"destructive"}):u(z||[]),g(!1)})()},[e,n,a,o]);const B=n==="chatbot"?d:f,U=B.find(L=>L.id===a),$=async()=>{if(!e||!a)return;let L=G.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(L=L.eq("change_type",o));const{data:I}=await L;I&&u(I)},F=async(L,I)=>{const{error:z}=await G.from("changelog_entries").update({status:I}).eq("id",L);z?t({title:"Error updating status",variant:"destructive"}):(u(H=>H.map(j=>j.id===L?{...j,status:I}:j)),t({title:"Status updated"}))},M=async L=>{const{error:I}=await G.from("changelog_entries").delete().eq("id",L);I?t({title:"Error deleting entry",variant:"destructive"}):(u(z=>z.filter(H=>H.id!==L)),t({title:"Entry deleted"}))},R=L=>{r(L),i(null),L==="voice_assistant"&&T()},D=[{value:"all",label:"All",icon:w_},{value:"update",label:"Updates",icon:ka},{value:"note",label:"Notes",icon:Fn}];return s.jsx(pr,{children:s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(w_,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Changelog"})]}),s.jsxs("div",{className:"flex rounded-lg border border-border overflow-hidden mb-3",children:[s.jsxs("button",{onClick:()=>R("chatbot"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="chatbot"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(it,{className:"h-3.5 w-3.5"}),"Chatbots"]}),s.jsxs("button",{onClick:()=>R("voice_assistant"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="voice_assistant"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(Bm,{className:"h-3.5 w-3.5"}),"Voice"]})]}),n==="voice_assistant"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_Y,{onSwitch:E,compact:!0}),_&&s.jsx(ps,{className:"h-3.5 w-3.5 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(Ca,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(ue,{placeholder:`Search ${n==="chatbot"?"chatbots":"assistants"}...`,value:S,onChange:L=>C(L.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Na,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const L=B.filter(I=>{var z;return(z=I.name)==null?void 0:z.toLowerCase().includes(S.toLowerCase())});return L.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[n==="chatbot"?s.jsx(it,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}):s.jsx(Bm,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S?"No matching results":`No ${n==="chatbot"?"chatbots":"assistants"} found`})]}):L.map(I=>{const z=a===I.id;return s.jsx("button",{onClick:()=>i(I.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${z?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`font-medium text-sm truncate ${z?"text-primary":""}`,children:I.name})}),z&&s.jsx(us,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},I.id)})})()})}),B.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[B.length," ",n==="chatbot"?"chatbots":"assistants"]}),s.jsxs("span",{children:[c.length," entries"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:U?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:n==="chatbot"?s.jsx(it,{className:"h-6 w-6 text-primary"}):s.jsx(Bm,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:U.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.length," changelog ",c.length===1?"entry":"entries"]})]})]}),s.jsxs(ee,{onClick:()=>x(!0),size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(Bt,{className:"h-4 w-4"}),"More Options"]})]}),s.jsx(gWe,{entityType:n,entityId:a,entityName:U.name,orgId:U.org_id,onEntryAdded:$}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:D.map(L=>s.jsx("button",{onClick:()=>l(L.value),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${o===L.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:L.label},L.value))}),s.jsx(Zr,{className:"mb-6"}),s.jsx(mWe,{entries:c,loading:p,entities:B,onStatusChange:F,onDelete:M})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(w_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an item to view its changelog"})]})})}),s.jsx(pWe,{open:v,onOpenChange:x,entityType:n,entities:B,onEntryAdded:$,preSelectedEntityId:a})]})})}var PJ="AlertDialog",[xWe,tYe]=Ur(PJ,[YU]),Ro=YU(),AJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ro(t);return s.jsx(vP,{...r,...n,modal:!0})};AJ.displayName=PJ;var yWe="AlertDialogTrigger",bWe=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return s.jsx(uz,{...a,...r,ref:t})});bWe.displayName=yWe;var wWe="AlertDialogPortal",TJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ro(t);return s.jsx(xP,{...r,...n})};TJ.displayName=wWe;var jWe="AlertDialogOverlay",OJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return s.jsx(Ug,{...a,...r,ref:t})});OJ.displayName=jWe;var Fd="AlertDialogContent",[_We,NWe]=xWe(Fd),MJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Ro(n),o=y.useRef(null),l=Xe(t,o),c=y.useRef(null);return s.jsx(Lce,{contentName:Fd,titleName:DJ,docsSlug:"alert-dialog",children:s.jsx(_We,{scope:n,cancelRef:c,children:s.jsxs(zg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ne(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(P2,{children:r}),s.jsx(CWe,{contentRef:o})]})})})});MJ.displayName=Fd;var DJ="AlertDialogTitle",IJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return s.jsx(qg,{...a,...r,ref:t})});IJ.displayName=DJ;var RJ="AlertDialogDescription",$J=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return s.jsx(Vg,{...a,...r,ref:t})});$J.displayName=RJ;var SWe="AlertDialogAction",LJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Ro(n);return s.jsx(pw,{...a,...r,ref:t})});LJ.displayName=SWe;var FJ="AlertDialogCancel",BJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=NWe(FJ,n),i=Ro(n),o=Xe(t,a);return s.jsx(pw,{...i,...r,ref:o})});BJ.displayName=FJ;var CWe=({contentRef:e})=>{const t=`\`${Fd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fd}\` by passing a \`${RJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kWe=AJ,EWe=TJ,UJ=OJ,zJ=MJ,qJ=LJ,VJ=BJ,WJ=IJ,HJ=$J;const PWe=kWe,AWe=EWe,GJ=y.forwardRef(({className:e,...t},n)=>s.jsx(UJ,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));GJ.displayName=UJ.displayName;const YJ=y.forwardRef(({className:e,...t},n)=>s.jsxs(AWe,{children:[s.jsx(GJ,{}),s.jsx(zJ,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));YJ.displayName=zJ.displayName;const KJ=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});KJ.displayName="AlertDialogHeader";const JJ=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});JJ.displayName="AlertDialogFooter";const XJ=y.forwardRef(({className:e,...t},n)=>s.jsx(WJ,{ref:n,className:xe("text-lg font-semibold",e),...t}));XJ.displayName=WJ.displayName;const QJ=y.forwardRef(({className:e,...t},n)=>s.jsx(HJ,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));QJ.displayName=HJ.displayName;const ZJ=y.forwardRef(({className:e,...t},n)=>s.jsx(qJ,{ref:n,className:xe(Pp(),e),...t}));ZJ.displayName=qJ.displayName;const eX=y.forwardRef(({className:e,...t},n)=>s.jsx(VJ,{ref:n,className:xe(Pp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));eX.displayName=VJ.displayName;var tt=function(){return tt=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tt.apply(this,arguments)};function TWe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function tX(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function wv(e){return e.mode==="multiple"}function jv(e){return e.mode==="range"}function Lj(e){return e.mode==="single"}var OWe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function MWe(e,t){return at(e,"LLLL y",t)}function DWe(e,t){return at(e,"d",t)}function IWe(e,t){return at(e,"LLLL",t)}function RWe(e){return"".concat(e)}function $We(e,t){return at(e,"cccccc",t)}function LWe(e,t){return at(e,"yyyy",t)}var FWe=Object.freeze({__proto__:null,formatCaption:MWe,formatDay:DWe,formatMonthCaption:IWe,formatWeekNumber:RWe,formatWeekdayName:$We,formatYearCaption:LWe}),BWe=function(e,t,n){return at(e,"do MMMM (EEEE)",n)},UWe=function(){return"Month: "},zWe=function(){return"Go to next month"},qWe=function(){return"Go to previous month"},VWe=function(e,t){return at(e,"cccc",t)},WWe=function(e){return"Week n. ".concat(e)},HWe=function(){return"Year: "},GWe=Object.freeze({__proto__:null,labelDay:BWe,labelMonthDropdown:UWe,labelNext:zWe,labelPrevious:qWe,labelWeekNumber:WWe,labelWeekday:VWe,labelYearDropdown:HWe});function YWe(){var e="buttons",t=OWe,n=Nz,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:FWe,labels:GWe,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function KWe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=xs(r):t&&(i=new Date(t,0,1)),a?o=NP(a):n&&(o=new Date(n,11,31)),{fromDate:i?mh(i):void 0,toDate:o?mh(o):void 0}}var nX=y.createContext(void 0);function JWe(e){var t,n=e.initialProps,r=YWe(),a=KWe(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Lj(n)||wv(n)||jv(n))&&(c=n.onSelect);var u=tt(tt(tt({},r),n),{captionLayout:l,classNames:tt(tt({},r.classNames),n.classNames),components:tt({},n.components),formatters:tt(tt({},r.formatters),n.formatters),fromDate:i,labels:tt(tt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:tt(tt({},r.modifiers),n.modifiers),modifiersClassNames:tt(tt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:tt(tt({},r.styles),n.styles),toDate:o});return s.jsx(nX.Provider,{value:u,children:e.children})}function hn(){var e=y.useContext(nX);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rX(e){var t=hn(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function XWe(e){return s.jsx("svg",tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sX(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=hn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:XWe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function QWe(e){var t,n=hn(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(Pde(r,a))for(var f=xs(r),m=r.getMonth();m<=a.getMonth();m++)h.push(W_(f,m));else for(var f=xs(new Date),m=0;m<=11;m++)h.push(W_(f,m));var p=function(v){var x=Number(v.target.value),b=W_(xs(e.displayMonth),x);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:sX;return s.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function ZWe(e){var t,n=e.displayMonth,r=hn(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),p=i.getFullYear(),g=m;g<=p;g++)f.push(MD(jz(new Date),g));var v=function(b){var w=MD(xs(n),Number(b.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:sX;return s.jsx(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function e9e(e,t){var n=y.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function t9e(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Ap(i,a)<0){var u=-1*(c-1);a=ai(i,u)}return o&&Ap(a,o)<0&&(a=o),xs(a)}function n9e(){var e=hn(),t=t9e(e),n=e9e(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=xs(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function r9e(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=xs(e),i=xs(ai(a,r)),o=Ap(i,a),l=[],c=0;c<o;c++){var u=ai(a,c);l.push(u)}return n&&(l=l.reverse()),l}function s9e(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=xs(e);if(!n)return ai(l,o);var c=Ap(n,e);if(!(c<i))return ai(l,o)}}function a9e(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=xs(e);if(!n)return ai(l,-o);var c=Ap(l,n);if(!(c<=0))return ai(l,-o)}}var aX=y.createContext(void 0);function i9e(e){var t=hn(),n=n9e(),r=n[0],a=n[1],i=r9e(r,t),o=s9e(r,t),l=a9e(r,t),c=function(h){return i.some(function(f){return CP(h,f)})},u=function(h,f){c(h)||(f&&Pz(h,f)?a(ai(h,1+t.numberOfMonths*-1)):a(h))},d={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(aX.Provider,{value:d,children:e.children})}function _v(){var e=y.useContext(aX);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function D5(e){var t,n=hn(),r=n.classNames,a=n.styles,i=n.components,o=_v().goToMonth,l=function(d){o(ai(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:rX,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(QWe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(ZWe,{onChange:l,displayMonth:e.displayMonth})]})}function o9e(e){return s.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function l9e(e){return s.jsx("svg",tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var y0=y.forwardRef(function(e,t){var n=hn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=tt(tt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",tt({},e,{ref:t,type:"button",className:o,style:l}))});function c9e(e){var t,n,r=hn(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:l9e,x=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:o9e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(y0,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(y0,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function I5(e){var t=hn().numberOfMonths,n=_v(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(p){return CP(e.displayMonth,p)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&i(r)},m=function(){a&&i(a)};return s.jsx(c9e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:m})}function u9e(e){var t,n=hn(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:rX,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(D5,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(D5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(I5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(I5,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:u})}function d9e(e){var t=hn(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function h9e(e,t,n){for(var r=n?iu(new Date):Bi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Ar(r,i);a.push(o)}return a}function f9e(){var e=hn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=h9e(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},h)})]})}function m9e(){var e,t=hn(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:f9e;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function p9e(e){var t=hn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var qT=y.createContext(void 0);function g9e(e){if(!wv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(qT.Provider,{value:t,children:e.children})}return s.jsx(v9e,{initialProps:e.initialProps,children:e.children})}function v9e(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(u,d,h){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var p=!!(d.selected&&a&&(r==null?void 0:r.length)===a);if(!p){var g=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var v=r?tX([],r):[];if(d.selected){var x=v.findIndex(function(b){return Lr(u,b)});v.splice(x,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return Lr(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(qT.Provider,{value:c,children:n})}function VT(){var e=y.useContext(qT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function x9e(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Lr(a,e)&&Lr(r,e)?void 0:Lr(a,e)?{from:a,to:void 0}:Lr(r,e)?void 0:JS(r,e)?{from:e,to:a}:{from:r,to:e}:a?JS(e,a)?{from:a,to:e}:{from:e,to:a}:r?Pz(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var WT=y.createContext(void 0);function y9e(e){if(!jv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(WT.Provider,{value:t,children:e.children})}return s.jsx(b9e,{initialProps:e.initialProps,children:e.children})}function b9e(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,p,g){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,m,p,g);var b=x9e(m,r);(x=t.onSelect)===null||x===void 0||x.call(t,b,m,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Lr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:q_(i,l-1),before:Ar(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Ar(i,l-1)}),!i&&o&&d.disabled.push({after:q_(o,l-1),before:Ar(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Ar(i,-c+1)}),d.disabled.push({after:Ar(i,c-1)})),i&&o){var h=Ti(o,i)+1,f=c-h;d.disabled.push({before:q_(i,f)}),d.disabled.push({after:Ar(o,f)})}!i&&o&&(d.disabled.push({before:Ar(o,-c+1)}),d.disabled.push({after:Ar(o,c-1)}))}return s.jsx(WT.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function HT(){var e=y.useContext(WT);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function gy(e){return Array.isArray(e)?tX([],e):e!==void 0?[e]:[]}function w9e(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=gy(a)}),t}var oi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(oi||(oi={}));var j9e=oi.Selected,Xi=oi.Disabled,_9e=oi.Hidden,N9e=oi.Today,nN=oi.RangeEnd,rN=oi.RangeMiddle,sN=oi.RangeStart,S9e=oi.Outside;function C9e(e,t,n){var r,a=(r={},r[j9e]=gy(e.selected),r[Xi]=gy(e.disabled),r[_9e]=gy(e.hidden),r[N9e]=[e.today],r[nN]=[],r[rN]=[],r[sN]=[],r[S9e]=[],r);return e.fromDate&&a[Xi].push({before:e.fromDate}),e.toDate&&a[Xi].push({after:e.toDate}),wv(e)?a[Xi]=a[Xi].concat(t.modifiers[Xi]):jv(e)&&(a[Xi]=a[Xi].concat(n.modifiers[Xi]),a[sN]=n.modifiers[sN],a[rN]=n.modifiers[rN],a[nN]=n.modifiers[nN]),a}var iX=y.createContext(void 0);function k9e(e){var t=hn(),n=VT(),r=HT(),a=C9e(t,n,r),i=w9e(t.modifiers),o=tt(tt({},a),i);return s.jsx(iX.Provider,{value:o,children:e.children})}function oX(){var e=y.useContext(iX);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function E9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function P9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function A9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function T9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function O9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function M9e(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Ti(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Ti(e,r)>=0&&Ti(a,e)>=0;return o}return a?Lr(a,e):r?Lr(r,e):!1}function D9e(e){return _P(e)}function I9e(e){return Array.isArray(e)&&e.every(_P)}function R9e(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(D9e(n))return Lr(e,n);if(I9e(n))return n.includes(e);if(P9e(n))return M9e(e,n);if(O9e(n))return n.dayOfWeek.includes(e.getDay());if(E9e(n)){var r=Ti(n.before,e),a=Ti(n.after,e),i=r>0,o=a<0,l=JS(n.before,n.after);return l?o&&i:i||o}return A9e(n)?Ti(e,n.after)>0:T9e(n)?Ti(n.before,e)>0:typeof n=="function"?n(e):!1})}function GT(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return R9e(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!CP(e,n)&&(a.outside=!0),a}function $9e(e,t){for(var n=xs(e[0]),r=NP(e[e.length-1]),a,i,o=n;o<=r;){var l=GT(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Ar(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Ar(o,1)}return i||a}var L9e=365;function lX(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,f={day:Ar,week:KS,month:ai,year:Sue,startOfWeek:function(v){return a.ISOWeek?iu(v):Bi(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?_z(v):SP(v,{locale:h,weekStartsOn:c})}},m=f[n](e,r==="after"?1:-1);r==="before"&&u?m=Cue([u,m]):r==="after"&&d&&(m=kue([d,m]));var p=!0;if(i){var g=GT(m,i);p=!g.disabled&&!g.hidden}return p?m:l.count>L9e?l.lastFocused:lX(m,{moveBy:n,direction:r,context:a,modifiers:i,retry:tt(tt({},l),{count:l.count+1})})}var cX=y.createContext(void 0);function F9e(e){var t=_v(),n=oX(),r=y.useState(),a=r[0],i=r[1],o=y.useState(),l=o[0],c=o[1],u=$9e(t.displayMonths,n),d=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},f=function(v){i(v)},m=hn(),p=function(v,x){if(a){var b=lX(a,{moveBy:v,direction:x,context:m,modifiers:n});Lr(a,b)||(t.goToDate(b,a),f(b))}},g={focusedDay:a,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return s.jsx(cX.Provider,{value:g,children:e.children})}function YT(){var e=y.useContext(cX);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function B9e(e,t){var n=oX(),r=GT(e,n,t);return r}var KT=y.createContext(void 0);function U9e(e){if(!Lj(e.initialProps)){var t={selected:void 0};return s.jsx(KT.Provider,{value:t,children:e.children})}return s.jsx(z9e,{initialProps:e.initialProps,children:e.children})}function z9e(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(KT.Provider,{value:a,children:n})}function uX(){var e=y.useContext(KT);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function q9e(e,t){var n=hn(),r=uX(),a=VT(),i=HT(),o=YT(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function(R){var D,L,I,z;Lj(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,R):wv(n)?(L=a.onDayClick)===null||L===void 0||L.call(a,e,t,R):jv(n)?(I=i.onDayClick)===null||I===void 0||I.call(i,e,t,R):(z=n.onDayClick)===null||z===void 0||z.call(n,e,t,R)},_=function(R){var D;f(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,R)},N=function(R){var D;h(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,R)},S=function(R){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,R)},C=function(R){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,R)},k=function(R){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,R)},A=function(R){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,R)},T=function(R){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,R)},E=function(R){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,R)},B=function(R){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,R)},U=function(R){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,R)},$=function(R){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,R)},F=function(R){var D;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),u();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),d();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?g():m();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?v():p();break;case"Home":R.preventDefault(),R.stopPropagation(),x();break;case"End":R.preventDefault(),R.stopPropagation(),b();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,R)},M={onClick:w,onFocus:_,onBlur:N,onKeyDown:F,onKeyUp:$,onMouseEnter:S,onMouseLeave:C,onPointerEnter:k,onPointerLeave:A,onTouchCancel:T,onTouchEnd:E,onTouchMove:B,onTouchStart:U};return M}function V9e(){var e=hn(),t=uX(),n=VT(),r=HT(),a=Lj(e)?t.selected:wv(e)?n.selected:jv(e)?r.selected:void 0;return a}function W9e(e){return Object.values(oi).includes(e)}function H9e(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(W9e(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function G9e(e,t){var n=tt({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=tt(tt({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Y9e(e,t,n){var r,a,i,o=hn(),l=YT(),c=B9e(e,t),u=q9e(e,c),d=V9e(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var S;c.outside||l.focusedDay&&h&&Lr(l.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[l.focusedDay,e,n,h,c.outside]);var f=H9e(o,c).join(" "),m=G9e(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:p9e,v=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:f,children:v,role:"gridcell"},b=l.focusTarget&&Lr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Lr(l.focusedDay,e),_=tt(tt(tt({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||b?0:-1,r)),u),N={isButton:h,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return N}function K9e(e){var t=y.useRef(null),n=Y9e(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(y0,tt({name:"day",ref:t},n.buttonProps)):s.jsx("div",tt({},n.divProps))}function J9e(e){var t=e.number,n=e.dates,r=hn(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(m){a(t,n,m)};return s.jsx(y0,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function X9e(e){var t,n,r=hn(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:K9e,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:J9e,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},Cde(h))})]})}function R5(e,t,n){for(var r=n!=null&&n.ISOWeek?_z(t):SP(t,n),a=n!=null&&n.ISOWeek?iu(e):Bi(e,n),i=Ti(r,a),o=[],l=0;l<=i;l++)o.push(Ar(a,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?Sz(d):kz(d,n),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Q9e(e,t){var n=R5(xs(e),NP(e),t);if(t!=null&&t.useFixedWeeks){var r=Ede(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=KS(i,6-r),l=R5(KS(i,1),o,t);n.push.apply(n,l)}}return n}function Z9e(e){var t,n,r,a=hn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,p=Q9e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:m9e,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:X9e,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:d9e;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(b){return s.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function e7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var t7e=e7e()?y.useLayoutEffect:y.useEffect,aN=!1,n7e=0;function $5(){return"react-day-picker-".concat(++n7e)}function r7e(e){var t,n=e??(aN?$5():null),r=y.useState(n),a=r[0],i=r[1];return t7e(function(){a===null&&i($5())},[]),y.useEffect(function(){aN===!1&&(aN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function s7e(e){var t,n,r=hn(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=_v().displayMonths,u=r7e(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;a==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(h.push(i.caption_start),f=tt(tt({},f),o.caption_start)),p&&(h.push(i.caption_end),f=tt(tt({},f),o.caption_end)),g&&(h.push(i.caption_between),f=tt(tt({},f),o.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:u9e;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Z9e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function a7e(e){var t=hn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function i7e(e){var t,n,r=e.initialProps,a=hn(),i=YT(),o=_v(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=tt(tt({},a.styles.root),a.style),f=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return tt(tt({},p),(v={},v[g]=r[g],v))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:a7e;return s.jsx("div",tt({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(m,{children:o.displayMonths.map(function(p,g){return s.jsx(s7e,{displayIndex:g,displayMonth:p},g)})})}))}function o7e(e){var t=e.children,n=TWe(e,["children"]);return s.jsx(JWe,{initialProps:n,children:s.jsx(i9e,{children:s.jsx(U9e,{initialProps:n,children:s.jsx(g9e,{initialProps:n,children:s.jsx(y9e,{initialProps:n,children:s.jsx(k9e,{children:s.jsx(F9e,{children:t})})})})})})})}function l7e(e){return s.jsx(o7e,tt({},e,{children:s.jsx(i7e,{initialProps:e})}))}function dX({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(l7e,{showOutsideDays:n,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(Pp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(Pp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(jte,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(us,{className:"h-4 w-4"})},...r})}dX.displayName="Calendar";var JT="Popover",[hX,nYe]=Ur(JT,[Jl]),Nv=Jl(),[c7e,ic]=hX(JT),fX=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Nv(t),c=y.useRef(null),[u,d]=y.useState(!1),[h=!1,f]=_s({prop:r,defaultProp:a,onChange:i});return s.jsx(K0,{...l,children:s.jsx(c7e,{scope:t,contentId:Ws(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:n})})};fX.displayName=JT;var mX="PopoverAnchor",u7e=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(mX,n),i=Nv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Mg,{...i,...r,ref:t})});u7e.displayName=mX;var pX="PopoverTrigger",gX=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(pX,n),i=Nv(n),o=Xe(t,a.triggerRef),l=s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":wX(a.open),...r,ref:o,onClick:Ne(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Mg,{asChild:!0,...i,children:l})});gX.displayName=pX;var XT="PopoverPortal",[d7e,h7e]=hX(XT,{forceMount:void 0}),vX=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=ic(XT,t);return s.jsx(d7e,{scope:t,forceMount:n,children:s.jsx(Un,{present:n||i.open,children:s.jsx(Xh,{asChild:!0,container:a,children:r})})})};vX.displayName=XT;var Hh="PopoverContent",xX=y.forwardRef((e,t)=>{const n=h7e(Hh,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=ic(Hh,e.__scopePopover);return s.jsx(Un,{present:r||i.open,children:i.modal?s.jsx(f7e,{...a,ref:t}):s.jsx(m7e,{...a,ref:t})})});xX.displayName=Hh;var f7e=y.forwardRef((e,t)=>{const n=ic(Hh,e.__scopePopover),r=y.useRef(null),a=Xe(t,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return mw(o)},[]),s.jsx(Bg,{as:js,allowPinchZoom:!0,children:s.jsx(yX,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),m7e=y.forwardRef((e,t)=>{const n=ic(Hh,e.__scopePopover),r=y.useRef(!1),a=y.useRef(!1);return s.jsx(yX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yX=y.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=ic(Hh,n),m=Nv(n);return hw(),s.jsx(Fg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(J0,{"data-state":wX(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bX="PopoverClose",p7e=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(bX,n);return s.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ne(e.onClick,()=>a.onOpenChange(!1))})});p7e.displayName=bX;var g7e="PopoverArrow",v7e=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Nv(n);return s.jsx(X0,{...a,...r,ref:t})});v7e.displayName=g7e;function wX(e){return e?"open":"closed"}var x7e=fX,y7e=gX,b7e=vX,jX=xX;const w7e=x7e,j7e=y7e,_X=y.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(b7e,{children:s.jsx(jX,{ref:a,align:t,sideOffset:n,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));_X.displayName=jX.displayName;const _7e=({open:e,onOpenChange:t,task:n,onUpdate:r})=>{Dt();const[a,i]=y.useState(!1),[o,l]=y.useState(n.title),[c,u]=y.useState(n.description||""),[d,h]=y.useState(n.priority),[f,m]=y.useState(n.status),[p,g]=y.useState(n.due_date?new Date(n.due_date):void 0),[v,x]=y.useState(n.assistant_id||"__unassigned__"),[b,w]=y.useState(n.assigned_to||"__unassigned__"),[_,N]=y.useState(n.chatbot_id||"__unassigned__"),[S,C]=y.useState(n.whatsapp_agent_id||"__unassigned__"),[k,A]=y.useState([]),[T,E]=y.useState([]),[B,U]=y.useState([]),[$,F]=y.useState([]),[M,R]=y.useState(!1);y.useEffect(()=>{e&&(l(n.title),u(n.description||""),h(n.priority),m(n.status),g(n.due_date?new Date(n.due_date):void 0),x(n.assistant_id||"__unassigned__"),w(n.assigned_to||"__unassigned__"),N(n.chatbot_id||"__unassigned__"),C(n.whatsapp_agent_id||"__unassigned__"),D())},[e,n]);const D=async()=>{R(!0);try{const{data:z}=await G.from("voice_assistants").select("id, name, org_id").order("name");z&&A(z);const{data:H}=await G.from("team_members").select("user_id, email");if(H){const O=[...new Set(H.map(Z=>Z.user_id))],{data:V}=await G.from("profiles").select("user_id, full_name, email").in("user_id",O),W=O.map(Z=>{const te=H.find(X=>X.user_id===Z),q=V==null?void 0:V.find(X=>X.user_id===Z);return{user_id:Z,email:(te==null?void 0:te.email)||(q==null?void 0:q.email),user_name:q==null?void 0:q.full_name}});E(W)}const{data:j}=await G.from("chatbots").select("id, name").order("name");j&&U(j);const{data:P}=await G.from("whatsapp_agents").select("id, name, phone_number").order("name");P&&F(P)}catch(z){console.error("Error fetching data:",z)}finally{R(!1)}},L=async z=>{if(z.preventDefault(),!o.trim()){ve.error("Title is required");return}i(!0);try{const{data:H,error:j}=await G.from("voice_assistant_tasks").update({title:o.trim(),description:c.trim()||null,priority:d,status:f,due_date:(p==null?void 0:p.toISOString())||null,assistant_id:v==="__unassigned__"?null:v,assigned_to:b==="__unassigned__"?null:b,chatbot_id:_==="__unassigned__"?null:_,whatsapp_agent_id:S==="__unassigned__"?null:S}).eq("id",n.id).select().single();if(j)throw j;r(H),ve.success("Task updated successfully"),t(!1)}catch(H){console.error("Error updating task:",H),ve.error("Failed to update task")}finally{i(!1)}},I=()=>{g(void 0)};return s.jsx(dr,{open:e,onOpenChange:t,children:s.jsxs(Kn,{className:"sm:max-w-[500px]",children:[s.jsx(Jn,{children:s.jsx(Xn,{children:"Edit Task"})}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-title",children:"Title *"}),s.jsx(ue,{id:"edit-title",value:o,onChange:z=>l(z.target.value),placeholder:"Enter task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-description",children:"Description"}),s.jsx(pt,{id:"edit-description",value:c,onChange:z=>u(z.target.value),placeholder:"Enter task description (optional)",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-priority",children:"Priority"}),s.jsxs(Be,{value:d,onValueChange:h,children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"low",children:"Low"}),s.jsx(ie,{value:"medium",children:"Medium"}),s.jsx(ie,{value:"high",children:"High"}),s.jsx(ie,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-status",children:"Status"}),s.jsxs(Be,{value:f,onValueChange:m,children:[s.jsx(Le,{children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"pending",children:"Pending"}),s.jsx(ie,{value:"in_progress",children:"In Progress"}),s.jsx(ie,{value:"completed",children:"Completed"}),s.jsx(ie,{value:"cancelled",children:"Cancelled"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-assistant",children:"Voice Assistant"}),s.jsxs(Be,{value:v,onValueChange:x,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:M?"Loading...":"Select assistant"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Unassigned"})]})}),k.filter(z=>z.id).map(z=>s.jsx(ie,{value:z.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4"}),s.jsx("span",{children:z.name})]})},z.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-assigned-to",children:"Assign to Team Member"}),s.jsxs(Be,{value:b,onValueChange:w,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:M?"Loading...":"Select team member"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Unassigned"})]})}),T.filter(z=>z.user_id).map(z=>s.jsx(ie,{value:z.user_id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{children:z.user_name||z.email||z.user_id})]})},z.user_id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-chatbot",children:"Chatbot"}),s.jsxs(Be,{value:_,onValueChange:N,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:M?"Loading...":"Select chatbot"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Unassigned"})]})}),B.filter(z=>z.id).map(z=>s.jsx(ie,{value:z.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4"}),s.jsx("span",{children:z.name})]})},z.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"edit-whatsapp-agent",children:"WhatsApp Agent"}),s.jsxs(Be,{value:S,onValueChange:C,children:[s.jsx(Le,{children:s.jsx(Ue,{placeholder:M?"Loading...":"Select WhatsApp agent"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Unassigned"})]})}),$.filter(z=>z.id).map(z=>s.jsx(ie,{value:z.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"h-4 w-4"}),s.jsx("span",{children:z.name||z.phone_number||"Unnamed Agent"})]})},z.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{children:"Due Date"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(w7e,{children:[s.jsx(j7e,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:xe("flex-1 justify-start text-left font-normal",!p&&"text-muted-foreground"),children:[s.jsx(jr,{className:"mr-2 h-4 w-4"}),p?at(p,"PPP"):"Pick a due date"]})}),s.jsx(_X,{className:"w-auto p-0",align:"start",children:s.jsx(dX,{mode:"single",selected:p,onSelect:g,initialFocus:!0})})]}),p&&s.jsx(ee,{type:"button",variant:"outline",onClick:I,children:"Clear"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(ee,{type:"submit",disabled:a,children:[a&&s.jsx(Gn,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})},N7e={low:"bg-slate-500/20 text-slate-400 border-slate-500/30",medium:"bg-blue-500/20 text-blue-400 border-blue-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",urgent:"bg-red-500/20 text-red-400 border-red-500/30"},S7e={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30",cancelled:"bg-slate-500/20 text-slate-400 border-slate-500/30"},C7e=({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a})=>{const[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),h=e.due_date&&Az(new Date(e.due_date))&&e.status!=="completed",f=e.due_date&&XS(new Date(e.due_date)),m=async g=>{d(!0);try{const{data:v,error:x}=await G.from("voice_assistant_tasks").update({status:g}).eq("id",e.id).select().single();if(x)throw x;g==="completed"?await G.from("changelog_entries").update({change_type:"update",status:"completed"}).eq("entity_id",e.assistant_id).eq("title",e.title).eq("change_type","task"):await G.from("changelog_entries").update({status:g}).eq("entity_id",e.assistant_id).eq("title",e.title).eq("change_type","task"),r(v),ve.success("Status updated")}catch(v){console.error("Error updating status:",v),ve.error("Failed to update status")}finally{d(!1)}},p=async()=>{try{const{error:g}=await G.from("voice_assistant_tasks").delete().eq("id",e.id);if(g)throw g;a(e.id),ve.success("Task deleted")}catch(g){console.error("Error deleting task:",g),ve.error("Failed to delete task")}};return s.jsxs(s.Fragment,{children:[s.jsx(Y,{className:`transition-all ${h?"border-red-500/50":""}`,children:s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-base",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:e.description})]}),s.jsxs(Sj,{children:[s.jsx(Cj,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:s.jsx(L2,{className:"h-4 w-4"})})}),s.jsxs(vv,{align:"end",children:[s.jsxs(Mi,{onClick:()=>o(!0),children:[s.jsx(cS,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(kj,{}),s.jsxs(Mi,{onClick:()=>c(!0),className:"text-destructive",children:[s.jsx(zt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Ce,{variant:"outline",className:"text-xs",children:t}),s.jsx(Ce,{variant:"outline",className:"text-xs bg-muted/50",children:n}),s.jsx(Ce,{className:`text-xs ${N7e[e.priority]}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),e.due_date&&s.jsxs(Ce,{variant:"outline",className:`text-xs flex items-center gap-1 ${h?"bg-red-500/20 text-red-400 border-red-500/30":f?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":""}`,children:[h?s.jsx(s8,{className:"h-3 w-3"}):s.jsx(jr,{className:"h-3 w-3"}),at(new Date(e.due_date),"MMM d, yyyy")]}),s.jsxs(Ce,{variant:"outline",className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Tt,{className:"h-3 w-3"}),at(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]})]})]}),s.jsx("div",{className:"flex items-center gap-2 shrink-0",children:s.jsxs(Be,{value:e.status,onValueChange:m,disabled:u,children:[s.jsx(Le,{className:`w-[130px] h-8 text-xs ${S7e[e.status]}`,children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"pending",children:"Pending"}),s.jsx(ie,{value:"in_progress",children:"In Progress"}),s.jsx(ie,{value:"completed",children:"Completed"}),s.jsx(ie,{value:"cancelled",children:"Cancelled"})]})]})})]})})}),s.jsx(_7e,{open:i,onOpenChange:o,task:e,onUpdate:r}),s.jsx(PWe,{open:l,onOpenChange:c,children:s.jsxs(YJ,{children:[s.jsxs(KJ,{children:[s.jsx(XJ,{children:"Delete Task"}),s.jsxs(QJ,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),s.jsxs(JJ,{children:[s.jsx(eX,{children:"Cancel"}),s.jsx(ZJ,{onClick:p,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})},k7e=({searchQuery:e,onSearchChange:t,assistants:n,connections:r,onAssistantSelect:a})=>{const[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=y.useRef(null),d=p=>{if(!p)return"No Organization";const g=r.find(v=>v.org_id===p);return(g==null?void 0:g.org_name)||p},h=e.trim()?n.filter(p=>(p.name||"").toLowerCase().includes(e.toLowerCase())):[];y.useEffect(()=>{const p=g=>{u.current&&!u.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),y.useEffect(()=>{e.trim()&&h.length>0&&l?o(!0):o(!1)},[e,h.length,l]);const f=p=>{t(p.name||""),o(!1),a&&a(p)},m=()=>{t(""),o(!1)};return s.jsxs("div",{ref:u,className:"relative flex-1",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search tasks or assistants...",value:e,onChange:p=>t(p.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),150),className:"pl-10 pr-10"}),e&&s.jsx("button",{onClick:m,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Kl,{className:"h-4 w-4"})}),i&&h.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border rounded-md shadow-lg z-50 max-h-[300px] overflow-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Matching Voice Assistants"}),h.map(p=>s.jsxs("button",{onClick:()=>f(p),className:xe("w-full flex items-center gap-3 p-2 rounded-md hover:bg-accent text-left transition-colors"),children:[s.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:s.jsx(it,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:p.name||"Unnamed Assistant"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:d(p.org_id)})]}),s.jsx(Ce,{variant:"outline",className:"text-xs shrink-0",children:"Assistant"})]},p.id))]})})]})};function E7e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Fj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Df(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function QT(e){return"nodeType"in e}function rs(e){var t,n;return e?Df(e)?e:QT(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ZT(e){const{Document:t}=rs(e);return e instanceof t}function Sv(e){return Df(e)?!1:e instanceof rs(e).HTMLElement}function NX(e){return e instanceof rs(e).SVGElement}function If(e){return e?Df(e)?e.document:QT(e)?ZT(e)?e:Sv(e)||NX(e)?e.ownerDocument:document:document:document}const li=Fj?y.useLayoutEffect:y.useEffect;function Bj(e){const t=y.useRef(e);return li(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function P7e(){const e=y.useRef(null),t=y.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function xg(e,t){t===void 0&&(t=[e]);const n=y.useRef(e);return li(()=>{n.current!==e&&(n.current=e)},t),n}function Cv(e,t){const n=y.useRef();return y.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function b0(e){const t=Bj(e),n=y.useRef(null),r=y.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function w0(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let iN={};function kv(e,t){return y.useMemo(()=>{if(t)return t;const n=iN[e]==null?0:iN[e]+1;return iN[e]=n,e+"-"+n},[e,t])}function SX(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Bd=SX(1),j0=SX(-1);function A7e(e){return"clientX"in e&&"clientY"in e}function Uj(e){if(!e)return!1;const{KeyboardEvent:t}=rs(e.target);return t&&e instanceof t}function T7e(e){if(!e)return!1;const{TouchEvent:t}=rs(e.target);return t&&e instanceof t}function _0(e){if(T7e(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return A7e(e)?{x:e.clientX,y:e.clientY}:null}const Wl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wl.Translate.toString(e),Wl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),L5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function O7e(e){return e.matches(L5)?e:e.querySelector(L5)}const M7e={display:"none"};function D7e(e){let{id:t,value:n}=e;return J.createElement("div",{id:t,style:M7e},n)}function I7e(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return J.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function R7e(){const[e,t]=y.useState("");return{announce:y.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const CX=y.createContext(null);function $7e(e){const t=y.useContext(CX);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function L7e(){const[e]=y.useState(()=>new Set),t=y.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[y.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const F7e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},B7e={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function U7e(e){let{announcements:t=B7e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=F7e}=e;const{announce:i,announcement:o}=R7e(),l=kv("DndLiveRegion"),[c,u]=y.useState(!1);if(y.useEffect(()=>{u(!0)},[]),$7e(y.useMemo(()=>({onDragStart(h){let{active:f}=h;i(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:m}=h;t.onDragMove&&i(t.onDragMove({active:f,over:m}))},onDragOver(h){let{active:f,over:m}=h;i(t.onDragOver({active:f,over:m}))},onDragEnd(h){let{active:f,over:m}=h;i(t.onDragEnd({active:f,over:m}))},onDragCancel(h){let{active:f,over:m}=h;i(t.onDragCancel({active:f,over:m}))}}),[i,t])),!c)return null;const d=J.createElement(J.Fragment,null,J.createElement(D7e,{id:r,value:a.draggable}),J.createElement(I7e,{id:l,announcement:o}));return n?ha.createPortal(d,n):d}var Vn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Vn||(Vn={}));function N0(){}function F5(e,t){return y.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function z7e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ci=Object.freeze({x:0,y:0});function q7e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function V7e(e,t){const n=_0(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function W7e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function H7e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function G7e(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function B5(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Y7e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=B5(t,t.left,t.top),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=q7e(B5(c),a);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(W7e)};function K7e(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const J7e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=K7e(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(H7e)};function X7e(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function kX(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ci}function Q7e(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const Z7e=Q7e(1);function EX(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function eHe(e,t,n){const r=EX(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const tHe={ignoreTransform:!1};function Rf(e,t){t===void 0&&(t=tHe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=rs(e).getComputedStyle(e);u&&(n=eHe(n,u,d))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function U5(e){return Rf(e,{ignoreTransform:!0})}function nHe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function rHe(e,t){return t===void 0&&(t=rs(e).getComputedStyle(e)),t.position==="fixed"}function sHe(e,t){t===void 0&&(t=rs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function eO(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(ZT(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Sv(a)||NX(a)||n.includes(a))return n;const i=rs(e).getComputedStyle(a);return a!==e&&sHe(a,i)&&n.push(a),rHe(a,i)?n:r(a.parentNode)}return e?r(e):n}function PX(e){const[t]=eO(e,1);return t??null}function oN(e){return!Fj||!e?null:Df(e)?e:QT(e)?ZT(e)||e===If(e).scrollingElement?window:Sv(e)?e:null:null}function AX(e){return Df(e)?e.scrollX:e.scrollLeft}function TX(e){return Df(e)?e.scrollY:e.scrollTop}function OE(e){return{x:AX(e),y:TX(e)}}var ir;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ir||(ir={}));function OX(e){return!Fj||!e?!1:e===document.scrollingElement}function MX(e){const t={x:0,y:0},n=OX(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const aHe={x:.2,y:.2};function iHe(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=aHe);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=MX(e),m={x:0,y:0},p={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+g.height?(m.y=ir.Backward,p.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=ir.Forward,p.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!f&&l>=t.right-g.width?(m.x=ir.Forward,p.x=r*Math.abs((t.right-g.width-l)/g.width)):!h&&o<=t.left+g.width&&(m.x=ir.Backward,p.x=r*Math.abs((t.left+g.width-o)/g.width)),{direction:m,speed:p}}function oHe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function DX(e){return e.reduce((t,n)=>Bd(t,OE(n)),ci)}function lHe(e){return e.reduce((t,n)=>t+AX(n),0)}function cHe(e){return e.reduce((t,n)=>t+TX(n),0)}function IX(e,t){if(t===void 0&&(t=Rf),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);PX(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const uHe=[["x",["left","right"],lHe],["y",["top","bottom"],cHe]];class tO{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=eO(n),a=DX(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of uHe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tp{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function dHe(e){const{EventTarget:t}=rs(e);return e instanceof t?e:If(e)}function lN(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ia;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ia||(ia={}));function z5(e){e.preventDefault()}function hHe(e){e.stopPropagation()}var It;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(It||(It={}));const RX={start:[It.Space,It.Enter],cancel:[It.Esc],end:[It.Space,It.Enter,It.Tab]},fHe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case It.Right:return{...n,x:n.x+25};case It.Left:return{...n,x:n.x-25};case It.Down:return{...n,y:n.y+25};case It.Up:return{...n,y:n.y-25}}};class $X{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new tp(If(n)),this.windowListeners=new tp(rs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ia.Resize,this.handleCancel),this.windowListeners.add(ia.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ia.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&IX(r),n(ci)}handleKeyDown(t){if(Uj(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=RX,coordinateGetter:o=fHe,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ci;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(t,{active:n,context:r.current,currentCoordinates:d});if(h){const f=j0(h,d),m={x:0,y:0},{scrollableAncestors:p}=r.current;for(const g of p){const v=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:_,maxScroll:N,minScroll:S}=MX(g),C=oHe(g),k={x:Math.min(v===It.Right?C.right-C.width/2:C.right,Math.max(v===It.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(v===It.Down?C.bottom-C.height/2:C.bottom,Math.max(v===It.Down?C.top:C.top+C.height/2,h.y))},A=v===It.Right&&!b||v===It.Left&&!w,T=v===It.Down&&!_||v===It.Up&&!x;if(A&&k.x!==h.x){const E=g.scrollLeft+f.x,B=v===It.Right&&E<=N.x||v===It.Left&&E>=S.x;if(B&&!f.y){g.scrollTo({left:E,behavior:l});return}B?m.x=g.scrollLeft-E:m.x=v===It.Right?g.scrollLeft-N.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:l});break}else if(T&&k.y!==h.y){const E=g.scrollTop+f.y,B=v===It.Down&&E<=N.y||v===It.Up&&E>=S.y;if(B&&!f.x){g.scrollTo({top:E,behavior:l});return}B?m.y=g.scrollTop-E:m.y=v===It.Down?g.scrollTop-N.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Bd(j0(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$X.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=RX,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function q5(e){return!!(e&&"distance"in e)}function V5(e){return!!(e&&"delay"in e)}class nO{constructor(t,n,r){var a;r===void 0&&(r=dHe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=If(o),this.documentListeners=new tp(this.document),this.listeners=new tp(r),this.windowListeners=new tp(rs(o)),this.initialCoordinates=(a=_0(i))!=null?a:ci,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ia.Resize,this.handleCancel),this.windowListeners.add(ia.DragStart,z5),this.windowListeners.add(ia.VisibilityChange,this.handleCancel),this.windowListeners.add(ia.ContextMenu,z5),this.documentListeners.add(ia.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(V5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(q5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ia.Click,hHe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ia.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=_0(t))!=null?n:ci,u=j0(a,c);if(!r&&l){if(q5(l)){if(l.tolerance!=null&&lN(u,l.tolerance))return this.handleCancel();if(lN(u,l.distance))return this.handleStart()}if(V5(l)&&lN(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===It.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const mHe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rO extends nO{constructor(t){const{event:n}=t,r=If(n.target);super(t,mHe,r)}}rO.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const pHe={move:{name:"mousemove"},end:{name:"mouseup"}};var ME;(function(e){e[e.RightClick=2]="RightClick"})(ME||(ME={}));class gHe extends nO{constructor(t){super(t,pHe,If(t.event.target))}}gHe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ME.RightClick?!1:(r==null||r({event:n}),!0)}}];const cN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class LX extends nO{constructor(t){super(t,cN)}static setup(){return window.addEventListener(cN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(cN.move.name,t)};function t(){}}}LX.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var np;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(np||(np={}));var S0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(S0||(S0={}));function vHe(e){let{acceleration:t,activator:n=np.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=S0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const m=yHe({delta:h,disabled:!i}),[p,g]=P7e(),v=y.useRef({x:0,y:0}),x=y.useRef({x:0,y:0}),b=y.useMemo(()=>{switch(n){case np.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case np.DraggableRect:return a}},[n,a,c]),w=y.useRef(null),_=y.useCallback(()=>{const S=w.current;if(!S)return;const C=v.current.x*x.current.x,k=v.current.y*x.current.y;S.scrollBy(C,k)},[]),N=y.useMemo(()=>l===S0.TreeOrder?[...u].reverse():u,[l,u]);y.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of N){if((r==null?void 0:r(S))===!1)continue;const C=u.indexOf(S),k=d[C];if(!k)continue;const{direction:A,speed:T}=iHe(S,k,b,t,f);for(const E of["x","y"])m[E][A[E]]||(T[E]=0,A[E]=0);if(T.x>0||T.y>0){g(),w.current=S,p(_,o),v.current=T,x.current=A;return}}v.current={x:0,y:0},x.current={x:0,y:0},g()},[t,_,r,g,i,o,JSON.stringify(b),JSON.stringify(m),p,u,N,d,JSON.stringify(f)])}const xHe={x:{[ir.Backward]:!1,[ir.Forward]:!1},y:{[ir.Backward]:!1,[ir.Forward]:!1}};function yHe(e){let{delta:t,disabled:n}=e;const r=w0(t);return Cv(a=>{if(n||!r||!a)return xHe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ir.Backward]:a.x[ir.Backward]||i.x===-1,[ir.Forward]:a.x[ir.Forward]||i.x===1},y:{[ir.Backward]:a.y[ir.Backward]||i.y===-1,[ir.Forward]:a.y[ir.Forward]||i.y===1}}},[n,t,r])}function bHe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Cv(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function wHe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var Gh;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Gh||(Gh={}));var DE;(function(e){e.Optimized="optimized"})(DE||(DE={}));const W5=new Map;function jHe(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=y.useState(null),{frequency:l,measure:c,strategy:u}=a,d=y.useRef(e),h=v(),f=xg(h),m=y.useCallback(function(x){x===void 0&&(x=[]),!f.current&&o(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[f]),p=y.useRef(null),g=Cv(x=>{if(h&&!n)return W5;if(!x||x===W5||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const _=w.node.current,N=_?new tO(c(_),_):null;w.rect.current=N,N&&b.set(w.id,N)}return b}return x},[e,i,n,h,c]);return y.useEffect(()=>{d.current=e},[e]),y.useEffect(()=>{h||m()},[n,h]),y.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),y.useEffect(()=>{h||typeof l!="number"||p.current!==null||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,h,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function v(){switch(u){case Gh.Always:return!1;case Gh.BeforeDragging:return n;default:return!n}}}function sO(e,t){return Cv(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function _He(e,t){return sO(e,t)}function NHe(e){let{callback:t,disabled:n}=e;const r=Bj(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return y.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function zj(e){let{callback:t,disabled:n}=e;const r=Bj(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return y.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function SHe(e){return new tO(Rf(e),e)}function H5(e,t,n){t===void 0&&(t=SHe);const[r,a]=y.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=NHe({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=zj({callback:i});return li(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function CHe(e){const t=sO(e);return kX(e,t)}const G5=[];function kHe(e){const t=y.useRef(e),n=Cv(r=>e?r&&r!==G5&&e&&t.current&&e.parentNode===t.current.parentNode?r:eO(e):G5,[e]);return y.useEffect(()=>{t.current=e},[e]),n}function EHe(e){const[t,n]=y.useState(null),r=y.useRef(e),a=y.useCallback(i=>{const o=oN(i.target);o&&n(l=>l?(l.set(o,OE(o)),new Map(l)):null)},[]);return y.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const u=oN(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,OE(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=oN(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Bd(i,o),ci):DX(e):ci,[e,t])}function Y5(e,t){t===void 0&&(t=[]);const n=y.useRef(null);return y.useEffect(()=>{n.current=null},t),y.useEffect(()=>{const r=e!==ci;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?j0(e,n.current):ci}function PHe(e){y.useEffect(()=>{if(!Fj)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function AHe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function FX(e){return y.useMemo(()=>e?nHe(e):null,[e])}const K5=[];function THe(e,t){t===void 0&&(t=Rf);const[n]=e,r=FX(n?rs(n):null),[a,i]=y.useState(K5);function o(){i(()=>e.length?e.map(c=>OX(c)?r:new tO(t(c),c)):K5)}const l=zj({callback:o});return li(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function BX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Sv(t)?t:e}function OHe(e){let{measure:t}=e;const[n,r]=y.useState(null),a=y.useCallback(u=>{for(const{target:d}of u)if(Sv(d)){r(h=>{const f=t(d);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),i=zj({callback:a}),o=y.useCallback(u=>{const d=BX(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[l,c]=b0(o);return y.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const MHe=[{sensor:rO,options:{}},{sensor:$X,options:{}}],DHe={current:{}},vy={draggable:{measure:U5},droppable:{measure:U5,strategy:Gh.WhileDragging,frequency:DE.Optimized},dragOverlay:{measure:Rf}};class rp extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const IHe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:N0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vy,measureDroppableContainers:N0,windowRect:null,measuringScheduled:!1},UX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:N0,draggableNodes:new Map,over:null,measureDroppableContainers:N0},Ev=y.createContext(UX),zX=y.createContext(IHe);function RHe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rp}}}function $He(e,t){switch(t.type){case Vn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Vn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Vn.DragEnd:case Vn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vn.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new rp(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case Vn.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new rp(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Vn.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new rp(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function LHe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=y.useContext(Ev),i=w0(r),o=w0(n==null?void 0:n.id);return y.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!Uj(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=O7e(d);if(h){h.focus();break}}})}},[r,t,a,o,i]),null}function qX(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function FHe(e){return y.useMemo(()=>({draggable:{...vy.draggable,...e==null?void 0:e.draggable},droppable:{...vy.droppable,...e==null?void 0:e.droppable},dragOverlay:{...vy.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function BHe(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=y.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;li(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=kX(d,r);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=PX(u);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,l,r,n])}const qj=y.createContext({...ci,scaleX:1,scaleY:1});var sl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(sl||(sl={}));const UHe=y.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=MHe,collisionDetection:h=J7e,measuring:f,modifiers:m,...p}=t;const g=y.useReducer($He,void 0,RHe),[v,x]=g,[b,w]=L7e(),[_,N]=y.useState(sl.Uninitialized),S=_===sl.Initialized,{draggable:{active:C,nodes:k,translate:A},droppable:{containers:T}}=v,E=C!=null?k.get(C):null,B=y.useRef({initial:null,translated:null}),U=y.useMemo(()=>{var lt;return C!=null?{id:C,data:(lt=E==null?void 0:E.data)!=null?lt:DHe,rect:B}:null},[C,E]),$=y.useRef(null),[F,M]=y.useState(null),[R,D]=y.useState(null),L=xg(p,Object.values(p)),I=kv("DndDescribedBy",o),z=y.useMemo(()=>T.getEnabled(),[T]),H=FHe(f),{droppableRects:j,measureDroppableContainers:P,measuringScheduled:O}=jHe(z,{dragging:S,dependencies:[A.x,A.y],config:H.droppable}),V=bHe(k,C),W=y.useMemo(()=>R?_0(R):null,[R]),Z=bt(),te=_He(V,H.draggable.measure);BHe({activeNode:C!=null?k.get(C):null,config:Z.layoutShiftCompensation,initialRect:te,measure:H.draggable.measure});const q=H5(V,H.draggable.measure,te),X=H5(V?V.parentElement:null),re=y.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pe=T.getNodeFor((n=re.current.over)==null?void 0:n.id),ye=OHe({measure:H.dragOverlay.measure}),le=(r=ye.nodeRef.current)!=null?r:V,be=S?(a=ye.rect)!=null?a:q:null,Se=!!(ye.nodeRef.current&&ye.rect),Oe=CHe(Se?null:q),qe=FX(le?rs(le):null),Ge=kHe(S?pe??V:null),he=THe(Ge),me=qX(m,{transform:{x:A.x-Oe.x,y:A.y-Oe.y,scaleX:1,scaleY:1},activatorEvent:R,active:U,activeNodeRect:q,containerNodeRect:X,draggingNodeRect:be,over:re.current.over,overlayNodeRect:ye.rect,scrollableAncestors:Ge,scrollableAncestorRects:he,windowRect:qe}),Ae=W?Bd(W,A):null,Ye=EHe(Ge),yt=Y5(Ye),K=Y5(Ye,[q]),de=Bd(me,yt),Pe=be?Z7e(be,me):null,Ie=U&&Pe?h({active:U,collisionRect:Pe,droppableRects:j,droppableContainers:z,pointerCoordinates:Ae}):null,Qe=G7e(Ie,"id"),[Yt,Zn]=y.useState(null),er=Se?me:Bd(me,K),Vt=X7e(er,(i=Yt==null?void 0:Yt.rect)!=null?i:null,q),An=y.useRef(null),Zt=y.useCallback((lt,tr)=>{let{sensor:qr,options:$o}=tr;if($.current==null)return;const ea=k.get($.current);if(!ea)return;const Ps=lt.nativeEvent,pi=new qr({active:$.current,activeNode:ea,event:Ps,options:$o,context:re,onAbort(fr){if(!k.get(fr))return;const{onDragAbort:gi}=L.current,Yi={id:fr};gi==null||gi(Yi),b({type:"onDragAbort",event:Yi})},onPending(fr,Lo,gi,Yi){if(!k.get(fr))return;const{onDragPending:Lf}=L.current,Fo={id:fr,constraint:Lo,initialCoordinates:gi,offset:Yi};Lf==null||Lf(Fo),b({type:"onDragPending",event:Fo})},onStart(fr){const Lo=$.current;if(Lo==null)return;const gi=k.get(Lo);if(!gi)return;const{onDragStart:Yi}=L.current,$f={activatorEvent:Ps,active:{id:Lo,data:gi.data,rect:B}};ha.unstable_batchedUpdates(()=>{Yi==null||Yi($f),N(sl.Initializing),x({type:Vn.DragStart,initialCoordinates:fr,active:Lo}),b({type:"onDragStart",event:$f}),M(An.current),D(Ps)})},onMove(fr){x({type:Vn.DragMove,coordinates:fr})},onEnd:Iu(Vn.DragEnd),onCancel:Iu(Vn.DragCancel)});An.current=pi;function Iu(fr){return async function(){const{active:gi,collisions:Yi,over:$f,scrollAdjustedTranslate:Lf}=re.current;let Fo=null;if(gi&&Lf){const{cancelDrop:Ff}=L.current;Fo={activatorEvent:Ps,active:gi,collisions:Yi,delta:Lf,over:$f},fr===Vn.DragEnd&&typeof Ff=="function"&&await Promise.resolve(Ff(Fo))&&(fr=Vn.DragCancel)}$.current=null,ha.unstable_batchedUpdates(()=>{x({type:fr}),N(sl.Uninitialized),Zn(null),M(null),D(null),An.current=null;const Ff=fr===Vn.DragEnd?"onDragEnd":"onDragCancel";if(Fo){const Vj=L.current[Ff];Vj==null||Vj(Fo),b({type:Ff,event:Fo})}})}}},[k]),Zs=y.useCallback((lt,tr)=>(qr,$o)=>{const ea=qr.nativeEvent,Ps=k.get($o);if($.current!==null||!Ps||ea.dndKit||ea.defaultPrevented)return;const pi={active:Ps};lt(qr,tr.options,pi)===!0&&(ea.dndKit={capturedBy:tr.sensor},$.current=$o,Zt(qr,tr))},[k,Zt]),ce=wHe(d,Zs);PHe(d),li(()=>{q&&_===sl.Initializing&&N(sl.Initialized)},[q,_]),y.useEffect(()=>{const{onDragMove:lt}=L.current,{active:tr,activatorEvent:qr,collisions:$o,over:ea}=re.current;if(!tr||!qr)return;const Ps={active:tr,activatorEvent:qr,collisions:$o,delta:{x:de.x,y:de.y},over:ea};ha.unstable_batchedUpdates(()=>{lt==null||lt(Ps),b({type:"onDragMove",event:Ps})})},[de.x,de.y]),y.useEffect(()=>{const{active:lt,activatorEvent:tr,collisions:qr,droppableContainers:$o,scrollAdjustedTranslate:ea}=re.current;if(!lt||$.current==null||!tr||!ea)return;const{onDragOver:Ps}=L.current,pi=$o.get(Qe),Iu=pi&&pi.rect.current?{id:pi.id,rect:pi.rect.current,data:pi.data,disabled:pi.disabled}:null,fr={active:lt,activatorEvent:tr,collisions:qr,delta:{x:ea.x,y:ea.y},over:Iu};ha.unstable_batchedUpdates(()=>{Zn(Iu),Ps==null||Ps(fr),b({type:"onDragOver",event:fr})})},[Qe]),li(()=>{re.current={activatorEvent:R,active:U,activeNode:V,collisionRect:Pe,collisions:Ie,droppableRects:j,draggableNodes:k,draggingNode:le,draggingNodeRect:be,droppableContainers:T,over:Yt,scrollableAncestors:Ge,scrollAdjustedTranslate:de},B.current={initial:be,translated:Pe}},[U,V,Ie,Pe,k,le,be,j,T,Yt,Ge,de]),vHe({...Z,delta:A,draggingRect:Pe,pointerCoordinates:Ae,scrollableAncestors:Ge,scrollableAncestorRects:he});const Te=y.useMemo(()=>({active:U,activeNode:V,activeNodeRect:q,activatorEvent:R,collisions:Ie,containerNodeRect:X,dragOverlay:ye,draggableNodes:k,droppableContainers:T,droppableRects:j,over:Yt,measureDroppableContainers:P,scrollableAncestors:Ge,scrollableAncestorRects:he,measuringConfiguration:H,measuringScheduled:O,windowRect:qe}),[U,V,q,R,Ie,X,ye,k,T,j,Yt,P,Ge,he,H,O,qe]),Re=y.useMemo(()=>({activatorEvent:R,activators:ce,active:U,activeNodeRect:q,ariaDescribedById:{draggable:I},dispatch:x,draggableNodes:k,over:Yt,measureDroppableContainers:P}),[R,ce,U,q,x,I,k,Yt,P]);return J.createElement(CX.Provider,{value:w},J.createElement(Ev.Provider,{value:Re},J.createElement(zX.Provider,{value:Te},J.createElement(qj.Provider,{value:Vt},u)),J.createElement(LHe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),J.createElement(U7e,{...l,hiddenTextDescribedById:I}));function bt(){const lt=(F==null?void 0:F.autoScrollEnabled)===!1,tr=typeof c=="object"?c.enabled===!1:c===!1,qr=S&&!lt&&!tr;return typeof c=="object"?{...c,enabled:qr}:{enabled:qr}}}),zHe=y.createContext(null),J5="button",qHe="Draggable";function VHe(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=kv(qHe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=y.useContext(Ev),{role:m=J5,roleDescription:p="draggable",tabIndex:g=0}=a??{},v=(c==null?void 0:c.id)===t,x=y.useContext(v?qj:zHe),[b,w]=b0(),[_,N]=b0(),S=AHe(o,t),C=xg(n);li(()=>(h.set(t,{id:t,key:i,node:b,activatorNode:_,data:C}),()=>{const A=h.get(t);A&&A.key===i&&h.delete(t)}),[h,t]);const k=y.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&m===J5?!0:void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[r,m,g,v,p,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:v,listeners:r?void 0:S,node:b,over:f,setNodeRef:w,setActivatorNodeRef:N,transform:x}}function VX(){return y.useContext(zX)}const WHe="Droppable",HHe={timeout:25};function WX(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=kv(WHe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=y.useContext(Ev),d=y.useRef({disabled:n}),h=y.useRef(!1),f=y.useRef(null),m=y.useRef(null),{disabled:p,updateMeasurementsFor:g,timeout:v}={...HHe,...a},x=xg(g??r),b=y.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},v)},[v]),w=zj({callback:b,disabled:p||!o}),_=y.useCallback((k,A)=>{w&&(A&&(w.unobserve(A),h.current=!1),k&&w.observe(k))},[w]),[N,S]=b0(_),C=xg(t);return y.useEffect(()=>{!w||!N.current||(w.disconnect(),h.current=!1,w.observe(N.current))},[N,w]),y.useEffect(()=>(l({type:Vn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:N,rect:f,data:C}}),()=>l({type:Vn.UnregisterDroppable,key:i,id:r})),[r]),y.useEffect(()=>{n!==d.current.disabled&&(l({type:Vn.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:S}}function GHe(e){let{animation:t,children:n}=e;const[r,a]=y.useState(null),[i,o]=y.useState(null),l=w0(n);return!n&&!r&&l&&a(l),li(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,r,i]),J.createElement(J.Fragment,null,n,r?y.cloneElement(r,{ref:o}):null)}const YHe={x:0,y:0,scaleX:1,scaleY:1};function KHe(e){let{children:t}=e;return J.createElement(Ev.Provider,{value:UX},J.createElement(qj.Provider,{value:YHe},t))}const JHe={position:"fixed",touchAction:"none"},XHe=e=>Uj(e)?"transform 250ms ease":void 0,QHe=y.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:d=XHe}=e;if(!l)return null;const h=a?u:{...u,scaleX:1,scaleY:1},f={...JHe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Wl.Transform.toString(h),transformOrigin:a&&r?V7e(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return J.createElement(n,{className:o,style:f,ref:t},i)}),ZHe=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},eGe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Wl.Transform.toString(t)},{transform:Wl.Transform.toString(n)}]},tGe={duration:250,easing:"ease",keyframes:eGe,sideEffects:ZHe({styles:{active:{opacity:"0"}}})};function nGe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return Bj((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=BX(o);if(!u)return;const{transform:d}=rs(o).getComputedStyle(o),h=EX(d);if(!h)return;const f=typeof t=="function"?t:rGe(t);return IX(c,a.draggable.measure),f({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:a,transform:h})})}function rGe(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...tGe,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},f={x:c.x-d.x,y:c.y-d.y,...h},m=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:f}}),[p]=m,g=m[m.length-1];if(JSON.stringify(p)===JSON.stringify(g))return;const v=r==null?void 0:r({active:o,dragOverlay:l,...u}),x=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{v==null||v(),b()}})}}let X5=0;function sGe(e){return y.useMemo(()=>{if(e!=null)return X5++,X5},[e])}const aGe=J.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggableNodes:p,droppableContainers:g,dragOverlay:v,over:x,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:N}=VX(),S=y.useContext(qj),C=sGe(h==null?void 0:h.id),k=qX(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:S,windowRect:N}),A=sO(f),T=nGe({config:r,draggableNodes:p,droppableContainers:g,measuringConfiguration:b}),E=A?v.setRef:void 0;return J.createElement(KHe,null,J.createElement(GHe,{animation:T},h&&C?J.createElement(QHe,{key:C,id:h.id,ref:E,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:A,style:{zIndex:u,...a},transform:k},n):null))});function HX(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function iGe(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function $x(e){return e!==null&&e>=0}function oGe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lGe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const GX=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=HX(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},Lx={scaleX:1,scaleY:1},cGe=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const u=i[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...Lx}:null}const c=uGe(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...Lx}:a<n&&a>=o?{x:0,y:l.height+c,...Lx}:{x:0,y:0,...Lx}};function uGe(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const YX="Sortable",KX=J.createContext({activeIndex:-1,containerId:YX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:GX,disabled:{draggable:!1,droppable:!1}});function dGe(e){let{children:t,id:n,items:r,strategy:a=GX,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=VX(),h=kv(YX,n),f=l.rect!==null,m=y.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),p=o!=null,g=o?m.indexOf(o.id):-1,v=u?m.indexOf(u.id):-1,x=y.useRef(m),b=!oGe(m,x.current),w=v!==-1&&g===-1||b,_=lGe(i);li(()=>{b&&p&&d(m)},[b,m,p,d]),y.useEffect(()=>{x.current=m},[m]);const N=y.useMemo(()=>({activeIndex:g,containerId:h,disabled:_,disableTransforms:w,items:m,overIndex:v,useDragOverlay:f,sortedRects:iGe(m,c),strategy:a}),[g,h,_.draggable,_.droppable,w,m,v,c,f,a]);return J.createElement(KX.Provider,{value:N},t)}const hGe=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return HX(n,r,a).indexOf(t)},fGe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},mGe={duration:200,easing:"ease"},JX="transform",pGe=Wl.Transition.toString({property:JX,duration:0,easing:"linear"}),gGe={roleDescription:"sortable"};function vGe(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=y.useState(null),l=y.useRef(n);return li(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const u=Rf(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,r,a]),y.useEffect(()=>{i&&o(null)},[i]),i}function xGe(e){let{animateLayoutChanges:t=fGe,attributes:n,disabled:r,data:a,getNewIndex:i=hGe,id:o,strategy:l,resizeObserverConfig:c,transition:u=mGe}=e;const{items:d,containerId:h,activeIndex:f,disabled:m,disableTransforms:p,sortedRects:g,overIndex:v,useDragOverlay:x,strategy:b}=y.useContext(KX),w=yGe(r,m),_=d.indexOf(o),N=y.useMemo(()=>({sortable:{containerId:h,index:_,items:d},...a}),[h,a,_,d]),S=y.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:k,isOver:A,setNodeRef:T}=WX({id:o,data:N,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:E,activatorEvent:B,activeNodeRect:U,attributes:$,setNodeRef:F,listeners:M,isDragging:R,over:D,setActivatorNodeRef:L,transform:I}=VHe({id:o,data:N,attributes:{...gGe,...n},disabled:w.draggable}),z=E7e(T,F),H=!!E,j=H&&!p&&$x(f)&&$x(v),P=!x&&R,O=P&&j?I:null,W=j?O??(l??b)({rects:g,activeNodeRect:U,activeIndex:f,overIndex:v,index:_}):null,Z=$x(f)&&$x(v)?i({id:o,items:d,activeIndex:f,overIndex:v}):_,te=E==null?void 0:E.id,q=y.useRef({activeId:te,items:d,newIndex:Z,containerId:h}),X=d!==q.current.items,re=t({active:E,containerId:h,isDragging:R,isSorting:H,id:o,index:_,items:d,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:q.current.activeId!=null}),pe=vGe({disabled:!re,index:_,node:k,rect:C});return y.useEffect(()=>{H&&q.current.newIndex!==Z&&(q.current.newIndex=Z),h!==q.current.containerId&&(q.current.containerId=h),d!==q.current.items&&(q.current.items=d)},[H,Z,h,d]),y.useEffect(()=>{if(te===q.current.activeId)return;if(te!=null&&q.current.activeId==null){q.current.activeId=te;return}const le=setTimeout(()=>{q.current.activeId=te},50);return()=>clearTimeout(le)},[te]),{active:E,activeIndex:f,attributes:$,data:N,rect:C,index:_,newIndex:Z,items:d,isOver:A,isSorting:H,isDragging:R,listeners:M,node:k,overIndex:v,over:D,setNodeRef:z,setActivatorNodeRef:L,setDroppableNodeRef:T,setDraggableNodeRef:F,transform:pe??W,transition:ye()};function ye(){if(pe||X&&q.current.newIndex===_)return pGe;if(!(P&&!Uj(B)||!u)&&(H||re))return Wl.Transition.toString({...u,property:JX})}}function yGe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}It.Down,It.Right,It.Up,It.Left;const Q5={urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"};function Z5({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a,isDragging:i=!1,assistants:o=[],teamMembers:l=[],chatbots:c=[],whatsappAgents:u=[],assignedToName:d,chatbotName:h,whatsappAgentName:f,createdByName:m}){const[p,g]=y.useState(!1),[v,x]=y.useState(!1),[b,w]=y.useState(e.title),[_,N]=y.useState(e.description||""),[S,C]=y.useState(e.priority),[k,A]=y.useState(e.due_date||""),[T,E]=y.useState(e.assistant_id||""),[B,U]=y.useState(e.assigned_to||""),[$,F]=y.useState(e.chatbot_id||""),[M,R]=y.useState(e.whatsapp_agent_id||""),[D,L]=y.useState(!1),{attributes:I,listeners:z,setNodeRef:H,transform:j,transition:P,isDragging:O}=xGe({id:e.id}),V={transform:Wl.Transform.toString(j),transition:P},W=async()=>{L(!0);try{const X=o.find(pe=>pe.id===T),{error:re}=await G.from("voice_assistant_tasks").update({title:b,description:_,priority:S,due_date:k||null,assistant_id:T||null,org_id:(X==null?void 0:X.org_id)||null,assigned_to:B||null,chatbot_id:$||null,whatsapp_agent_id:M||null}).eq("id",e.id);if(re)throw re;r({...e,title:b,description:_,priority:S,due_date:k||null,assistant_id:T||null,org_id:(X==null?void 0:X.org_id)||null,assigned_to:B||null,chatbot_id:$||null,whatsapp_agent_id:M||null}),ve.success("Task updated"),x(!1)}catch(X){console.error("Error updating task:",X),ve.error("Failed to update task")}finally{L(!1)}},Z=()=>{w(e.title),N(e.description||""),C(e.priority),A(e.due_date||""),E(e.assistant_id||""),U(e.assigned_to||""),F(e.chatbot_id||""),R(e.whatsapp_agent_id||""),x(!1)},te=async()=>{if(confirm("Are you sure you want to delete this task?"))try{const{error:X}=await G.from("voice_assistant_tasks").delete().eq("id",e.id);if(X)throw X;a(e.id),ve.success("Task deleted")}catch(X){console.error("Error deleting task:",X),ve.error("Failed to delete task")}},q=X=>{X.target.closest("button")||X.target.closest("[data-drag-handle]")||X.target.closest("input")||X.target.closest("textarea")||X.target.closest("[data-radix-select-trigger]")||X.target.closest('[role="menu"]')||v||g(!p)};return s.jsx(Y,{ref:H,style:V,className:xe("transition-all hover:shadow-md",(i||O)&&"opacity-50 shadow-lg",p&&"ring-1 ring-primary/20"),children:s.jsxs(Q,{className:"p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{...I,...z,"data-drag-handle":!0,className:"mt-1 cursor-grab active:cursor-grabbing",children:s.jsx(Ete,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:q,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-2 flex-1",children:e.title}),p?s.jsx(I2,{className:"h-4 w-4 text-muted-foreground shrink-0"}):s.jsx(Zh,{className:"h-4 w-4 text-muted-foreground shrink-0"})]}),!p&&e.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:e.description})]}),s.jsxs(Sj,{children:[s.jsx(Cj,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:s.jsx(L2,{className:"h-3 w-3"})})}),s.jsxs(vv,{align:"end",children:[s.jsxs(Mi,{onClick:()=>{g(!0),x(!0)},children:[s.jsx(dS,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(kj,{}),s.jsxs(Mi,{onClick:te,className:"text-destructive",children:[s.jsx(zt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),!p&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-6",children:[s.jsx(Ce,{variant:"secondary",className:xe("text-xs",Q5[e.priority]),children:e.priority}),e.due_date&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(e.due_date),"MMM d")]})]}),p&&s.jsx("div",{className:"pl-6 space-y-4 pt-2 border-t mt-2",children:v?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Title"}),s.jsx(ue,{value:b,onChange:X=>w(X.target.value),placeholder:"Task title",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Description"}),s.jsx(pt,{value:_,onChange:X=>N(X.target.value),placeholder:"Task description",rows:3,className:"text-sm resize-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Assistant"}),s.jsxs(Be,{value:T||"__unassigned__",onValueChange:X=>E(X==="__unassigned__"?"":X),children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(Ue,{placeholder:"Unassigned"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:"Unassigned"}),o.filter(X=>X.id).map(X=>s.jsx(ie,{value:X.id,children:X.name||"Unnamed Assistant"},X.id))]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Assign to Team Member"}),s.jsxs(Be,{value:B||"__unassigned__",onValueChange:X=>U(X==="__unassigned__"?"":X),children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(Ue,{placeholder:"Unassigned"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:"Unassigned"}),l.filter(X=>X.user_id).map(X=>s.jsx(ie,{value:X.user_id,children:X.user_name||X.email||X.user_id},X.user_id))]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Chatbot"}),s.jsxs(Be,{value:$||"__unassigned__",onValueChange:X=>F(X==="__unassigned__"?"":X),children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(Ue,{placeholder:"Unassigned"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:"Unassigned"}),c.filter(X=>X.id).map(X=>s.jsx(ie,{value:X.id,children:X.name||"Unnamed Chatbot"},X.id))]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"WhatsApp Agent"}),s.jsxs(Be,{value:M||"__unassigned__",onValueChange:X=>R(X==="__unassigned__"?"":X),children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(Ue,{placeholder:"Unassigned"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"__unassigned__",children:"Unassigned"}),u.filter(X=>X.id).map(X=>s.jsx(ie,{value:X.id,children:X.name||X.phone_number||"Unnamed Agent"},X.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Priority"}),s.jsxs(Be,{value:S,onValueChange:C,children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"low",children:"Low"}),s.jsx(ie,{value:"medium",children:"Medium"}),s.jsx(ie,{value:"high",children:"High"}),s.jsx(ie,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(ne,{className:"text-xs",children:"Due Date"}),s.jsx(ue,{type:"date",value:k,onChange:X=>A(X.target.value),className:"h-8 text-sm"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsxs(ee,{variant:"ghost",size:"sm",onClick:Z,className:"h-7 text-xs",children:[s.jsx(Kl,{className:"h-3 w-3 mr-1"}),"Cancel"]}),s.jsxs(ee,{size:"sm",onClick:W,disabled:D,className:"h-7 text-xs",children:[s.jsx(Za,{className:"h-3 w-3 mr-1"}),D?"Saving...":"Save"]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Description"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.description||s.jsx("span",{className:"text-muted-foreground italic",children:"No description"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Priority"}),s.jsx(Ce,{variant:"secondary",className:xe("text-xs",Q5[e.priority]),children:e.priority})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Due Date"}),s.jsx("p",{className:"text-sm",children:e.due_date?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(e.due_date),"MMM d, yyyy")]}):s.jsx("span",{className:"text-muted-foreground italic",children:"No due date"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Assistant"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(Yn,{className:"h-3 w-3"}),t]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Organization"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(W0,{className:"h-3 w-3"}),n]})]}),s.jsxs("div",{className:"space-y-1 col-span-2",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Assigned To"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(Yn,{className:"h-3 w-3"}),d||s.jsx("span",{className:"text-muted-foreground italic",children:"Unassigned"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Chatbot"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(it,{className:"h-3 w-3"}),h||s.jsx("span",{className:"text-muted-foreground italic",children:"Unassigned"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"WhatsApp Agent"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(un,{className:"h-3 w-3"}),f||s.jsx("span",{className:"text-muted-foreground italic",children:"Unassigned"})]})]}),s.jsxs("div",{className:"space-y-1 col-span-2",children:[s.jsx(ne,{className:"text-xs text-muted-foreground",children:"Created By"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(Yn,{className:"h-3 w-3"}),m||s.jsx("span",{className:"text-muted-foreground italic",children:"Unknown"})]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[s.jsxs("p",{children:["Created: ",at(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]}),e.updated_at!==e.created_at&&s.jsxs("p",{children:["Updated: ",at(new Date(e.updated_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"h-7 text-xs",children:[s.jsx(dS,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:te,className:"h-7 text-xs text-destructive hover:text-destructive",children:[s.jsx(zt,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})})]})})}function bGe({id:e,title:t,color:n,count:r,children:a,isDragging:i}){const{setNodeRef:o,isOver:l}=WX({id:e});return s.jsxs("div",{ref:o,className:xe("rounded-lg border-2 border-dashed transition-all",n,l&&"ring-2 ring-primary ring-offset-2 scale-[1.02]",i&&"bg-muted/50"),style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[s.jsx("div",{className:xe("p-3 border-b rounded-t-lg",n.replace("border-","bg-").replace("/20","/30")),style:{flexShrink:0},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:t}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground bg-background px-2 py-0.5 rounded-full",children:r})]})}),s.jsxs("div",{className:"p-2 space-y-2",style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:[a,r===0&&s.jsx("div",{className:"flex items-center justify-center h-24 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:"Drop tasks here"})]})]})}const Fx=[{id:"pending",title:"Pending",color:"bg-yellow-500/10 border-yellow-500/20"},{id:"in_progress",title:"In Progress",color:"bg-blue-500/10 border-blue-500/20"},{id:"completed",title:"Completed",color:"bg-green-500/10 border-green-500/20"},{id:"cancelled",title:"Cancelled",color:"bg-gray-500/10 border-gray-500/20"}];function wGe({tasks:e,getAssistantName:t,getOrgName:n,getAssignedToName:r,getChatbotName:a,getWhatsappAgentName:i,getCreatedByName:o,onTaskUpdated:l,onTaskDeleted:c,assistants:u=[],teamMembers:d=[],chatbots:h=[],whatsappAgents:f=[]}){const[m,p]=y.useState(null),[g,v]=y.useState(!1),x=z7e(F5(rO,{activationConstraint:{distance:5}}),F5(LX,{activationConstraint:{delay:200,tolerance:5}})),b=Fx.reduce((N,S)=>(N[S.id]=e.filter(C=>C.status===S.id),N),{}),w=N=>{const S=e.find(C=>C.id===N.active.id);S&&(p(S),v(!0),navigator.vibrate&&navigator.vibrate(50))},_=async N=>{var U;const{active:S,over:C}=N;if(p(null),v(!1),!C)return;const k=S.id;let A=C.id;const T=e.find($=>$.id===C.id);if(T&&(A=T.status),!Fx.find($=>$.id===A))return;const E=e.find($=>$.id===k);if(!E||E.status===A)return;const B={...E,status:A};l(B);try{const{error:$}=await G.from("voice_assistant_tasks").update({status:A}).eq("id",k);$?(ve.error("Failed to update task status"),l(E)):ve.success(`Moved to ${(U=Fx.find(F=>F.id===A))==null?void 0:U.title}`)}catch($){console.error("Error updating task:",$),ve.error("Failed to update task status"),l(E)}};return s.jsx("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:s.jsxs(UHe,{sensors:x,collisionDetection:Y7e,onDragStart:w,onDragEnd:_,measuring:{droppable:{strategy:Gh.Always}},children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",style:{flex:1,minHeight:0,height:"100%"},children:Fx.map(N=>{var S,C,k;return s.jsx(bGe,{id:N.id,title:N.title,color:N.color,count:((S=b[N.id])==null?void 0:S.length)||0,isDragging:g,children:s.jsx(dGe,{items:((C=b[N.id])==null?void 0:C.map(A=>A.id))||[],strategy:cGe,children:(k=b[N.id])==null?void 0:k.map(A=>s.jsx(Z5,{task:A,assistantName:t(A.assistant_id),orgName:n(A.org_id),assignedToName:r==null?void 0:r(A.assigned_to),chatbotName:a==null?void 0:a(A.chatbot_id),whatsappAgentName:i==null?void 0:i(A.whatsapp_agent_id),createdByName:o==null?void 0:o(A.user_id),onUpdate:l,onDelete:c,assistants:u,teamMembers:d,chatbots:h,whatsappAgents:f},A.id))})},N.id)})}),s.jsx(aGe,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:m?s.jsx("div",{className:"rotate-3 scale-105 shadow-2xl",children:s.jsx(Z5,{task:m,assistantName:t(m.assistant_id),orgName:n(m.org_id),assignedToName:r==null?void 0:r(m.assigned_to),chatbotName:a==null?void 0:a(m.chatbot_id),whatsappAgentName:i==null?void 0:i(m.whatsapp_agent_id),createdByName:o==null?void 0:o(m.user_id),onUpdate:l,onDelete:c,isDragging:!0,assistants:u,teamMembers:d,chatbots:h,whatsappAgents:f})}):null})]})})}const jGe=()=>{const{user:e}=Dt(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[h,f]=y.useState([]),[m,p]=y.useState(!0),[g,v]=y.useState(""),[x,b]=y.useState("all"),[w,_]=y.useState("all"),[N,S]=y.useState("all"),[C,k]=y.useState("created_at"),[A,T]=y.useState("kanban");y.useEffect(()=>{e&&E()},[e]);const E=async()=>{p(!0);try{const{data:j}=await G.from("voice_connections").select("*").eq("user_id",e==null?void 0:e.id);o(j||[]);const{data:P}=await G.from("voice_assistants").select("id, name, org_id").eq("user_id",e==null?void 0:e.id);a(P||[]);const{data:O}=await G.from("team_members").select("user_id, email");let V=[];if(O){const X=[...new Set(O.map(pe=>pe.user_id))],{data:re}=await G.from("profiles").select("user_id, full_name, email").in("user_id",X);V=X.map(pe=>{const ye=O.find(be=>be.user_id===pe),le=re==null?void 0:re.find(be=>be.user_id===pe);return{user_id:pe,email:(ye==null?void 0:ye.email)||(le==null?void 0:le.email),user_name:le==null?void 0:le.full_name}})}const{data:W}=await G.from("chatbots").select("id, name").order("name");d(W||[]);const{data:Z}=await G.from("whatsapp_agents").select("id, name, phone_number").order("name");f(Z||[]);const{data:te,error:q}=await G.from("voice_assistant_tasks").select("*").order("created_at",{ascending:!1});if(q)throw q;if(n(te||[]),te&&te.length>0){const X=new Set;te.forEach(pe=>{pe.user_id&&X.add(pe.user_id),pe.assigned_to&&X.add(pe.assigned_to)});const re=Array.from(X);if(re.length>0){const{data:pe}=await G.from("profiles").select("user_id, full_name, email").in("user_id",re);if(pe){const ye=new Set(V.map(le=>le.user_id));pe.forEach(le=>{ye.has(le.user_id)||V.push({user_id:le.user_id,email:le.email||void 0,user_name:le.full_name||void 0})})}}}c(V)}catch(j){console.error("Error fetching data:",j),ve.error("Failed to load tasks")}finally{p(!1)}},B=j=>{n(P=>[j,...P])},U=j=>{n(P=>P.map(O=>O.id===j.id?j:O))},$=j=>{n(P=>P.filter(O=>O.id!==j))},F=j=>{if(!j)return"Unassigned";const P=r.find(O=>O.id===j);return(P==null?void 0:P.name)||"Unknown Assistant"},M=j=>{if(!j)return"No Organization";const P=i.find(O=>O.org_id===j);return(P==null?void 0:P.org_name)||j},R=j=>{if(!j)return"";const P=l.find(O=>O.user_id===j);return P!=null&&P.user_name?P.user_name:P!=null&&P.email?P.email:`User ${j.slice(0,8)}...`},D=j=>{if(!j)return"";const P=u.find(O=>O.id===j);return(P==null?void 0:P.name)||"Unknown Chatbot"},L=j=>{if(!j)return"";const P=h.find(O=>O.id===j);return(P==null?void 0:P.name)||(P==null?void 0:P.phone_number)||"Unknown Agent"},I=j=>{if(!j)return"Unknown";const P=l.find(O=>O.user_id===j);return P!=null&&P.user_name?P.user_name:P!=null&&P.email?P.email:`User ${j.slice(0,8)}...`},z=t.filter(j=>{var q;const P=F(j.assistant_id).toLowerCase(),O=g.toLowerCase(),V=j.title.toLowerCase().includes(O)||(((q=j.description)==null?void 0:q.toLowerCase().includes(O))??!1)||P.includes(O),W=x==="all"||j.status===x,Z=w==="all"||j.priority===w,te=N==="all"||j.org_id===N;return V&&W&&Z&&te}).sort((j,P)=>{switch(C){case"due_date":return!j.due_date&&!P.due_date?0:j.due_date?P.due_date?new Date(j.due_date).getTime()-new Date(P.due_date).getTime():-1:1;case"priority":const O={urgent:0,high:1,medium:2,low:3};return(O[j.priority]||2)-(O[P.priority]||2);case"created_at":default:return new Date(P.created_at).getTime()-new Date(j.created_at).getTime()}}),H={total:t.length,pending:t.filter(j=>j.status==="pending").length,inProgress:t.filter(j=>j.status==="in_progress").length,completed:t.filter(j=>j.status==="completed").length,overdue:t.filter(j=>j.due_date&&new Date(j.due_date)<new Date&&j.status!=="completed").length};return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Gn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"flex flex-col h-[calc(100vh-120px)] overflow-hidden",children:[s.jsxs("div",{className:"flex items-start justify-between flex-shrink-0 mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Task Manager"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage tasks for your voice assistants across all organizations"})]}),s.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",children:[s.jsxs(ee,{variant:A==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"gap-2",children:[s.jsx(Tte,{className:"h-4 w-4"}),"Board"]}),s.jsxs(ee,{variant:A==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"gap-2",children:[s.jsx(Mte,{className:"h-4 w-4"}),"List"]})]})]}),s.jsx(Y,{className:"flex-shrink-0 mb-4 border-dashed",children:s.jsxs(Q,{className:"pt-4",children:[s.jsx(NY,{onTaskCreated:B,placeholder:"What needs to be done? Press Enter to add..."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Click on a task to assign it to an assistant"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 flex-shrink-0 mb-4",children:[s.jsx(Y,{children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uS,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:H.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Tasks"})]})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:H.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:H.inProgress}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:H.completed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:H.overdue}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overdue"})]})]})})})]}),A==="list"&&s.jsx(Y,{className:"flex-shrink-0 mb-4",children:s.jsx(Q,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx(k7e,{searchQuery:g,onSearchChange:v,assistants:r,connections:i}),s.jsxs(Be,{value:x,onValueChange:b,children:[s.jsx(Le,{className:"w-full md:w-[150px]",children:s.jsx(Ue,{placeholder:"Status"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Status"}),s.jsx(ie,{value:"pending",children:"Pending"}),s.jsx(ie,{value:"in_progress",children:"In Progress"}),s.jsx(ie,{value:"completed",children:"Completed"}),s.jsx(ie,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(Be,{value:w,onValueChange:_,children:[s.jsx(Le,{className:"w-full md:w-[150px]",children:s.jsx(Ue,{placeholder:"Priority"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Priority"}),s.jsx(ie,{value:"urgent",children:"Urgent"}),s.jsx(ie,{value:"high",children:"High"}),s.jsx(ie,{value:"medium",children:"Medium"}),s.jsx(ie,{value:"low",children:"Low"})]})]}),s.jsxs(Be,{value:N,onValueChange:S,children:[s.jsx(Le,{className:"w-full md:w-[180px]",children:s.jsx(Ue,{placeholder:"Organization"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Organizations"}),i.filter(j=>j.org_id).map(j=>s.jsx(ie,{value:j.org_id,children:j.org_name||j.org_id||"Unknown"},j.id))]})]}),s.jsxs(Be,{value:C,onValueChange:k,children:[s.jsx(Le,{className:"w-full md:w-[150px]",children:s.jsx(Ue,{placeholder:"Sort by"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"created_at",children:"Newest First"}),s.jsx(ie,{value:"due_date",children:"Due Date"}),s.jsx(ie,{value:"priority",children:"Priority"})]})]})]})})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:A==="kanban"?s.jsx(wGe,{tasks:z,getAssistantName:F,getOrgName:M,getAssignedToName:R,getChatbotName:D,getWhatsappAgentName:L,getCreatedByName:I,onTaskUpdated:U,onTaskDeleted:$,assistants:r,teamMembers:l,chatbots:u,whatsappAgents:h}):s.jsx("div",{className:"space-y-4 h-full overflow-y-auto pr-2",children:z.length===0?s.jsx(Y,{children:s.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(uS,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tasks found"}),s.jsx("p",{className:"text-muted-foreground text-center",children:t.length===0?"Use the quick add above to create your first task":"No tasks match your current filters"})]})}):z.map(j=>s.jsx(C7e,{task:j,assistantName:F(j.assistant_id),orgName:M(j.org_id),onUpdate:U,onDelete:$},j.id))})})]})};function _Ge(){const{user:e,loading:t}=Dt(),[n,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(""),[c,u]=y.useState("all"),[d,h]=y.useState("all"),[f,m]=y.useState(null),[p,g]=y.useState(""),[v,x]=y.useState(!1),[b,w]=y.useState([]),[_,N]=y.useState([]),[S,C]=y.useState([]),k=async()=>{if(e)try{i(!0);const{data:L,error:I}=await G.from("support_tickets").select("*").order("created_at",{ascending:!1});if(I){console.error("Error fetching tickets:",I),ve.error("Failed to load support tickets");return}const z=await Promise.all((L||[]).map(async H=>{const{data:j}=await G.from("support_ticket_messages").select("*").eq("ticket_id",H.id).order("created_at",{ascending:!0});return{...H,messages:(j||[]).map(P=>({id:P.id,content:P.content,sender_type:P.sender_type,sender_name:P.sender_name,created_at:P.created_at}))}}));r(z),console.log("Fetched tickets:",z)}catch(L){console.error("Error:",L),ve.error("Failed to load support tickets")}finally{i(!1)}},A=async()=>{if(e!=null&&e.id)try{const{data:L,error:I}=await G.from("team_members").select("team_org_id, user_id, role").eq("user_id",e.id);if(I)throw I;if(L&&L.length>0){const z=L.map(W=>W.team_org_id),{data:H,error:j}=await G.from("team_members").select("team_org_id, user_id, role").in("team_org_id",z);if(j)throw j;w(H||[]);const{data:P,error:O}=await G.from("team_organizations").select("id, name").in("id",z);if(O)throw O;N(P||[]);const V=[...new Set((H||[]).map(W=>W.user_id))];if(V.length>0){const{data:W,error:Z}=await G.from("profiles").select("id, full_name, email").in("id",V);if(Z)throw Z;C(W||[])}}}catch(L){console.error("Error fetching team data:",L)}},T=L=>{var j;if(!L.user_id)return{ownerName:"Unknown",teamName:null,isOwn:!1};if(L.user_id===(e==null?void 0:e.id))return{ownerName:"You",teamName:null,isOwn:!0};const I=S.find(P=>P.id===L.user_id),z=(I==null?void 0:I.full_name)||((j=I==null?void 0:I.email)==null?void 0:j.split("@")[0])||"Unknown",H=b.find(P=>P.user_id===L.user_id&&b.some(O=>O.team_org_id===P.team_org_id&&O.user_id===(e==null?void 0:e.id)));if(H){const P=_.find(O=>O.id===H.team_org_id);return{ownerName:z,teamName:(P==null?void 0:P.name)||null,isOwn:!1}}return{ownerName:z,teamName:null,isOwn:!1}};if(y.useEffect(()=>{if(e){k(),A();const L=G.channel("support-tickets-changes").on("postgres_changes",{event:"*",schema:"public",table:"support_tickets"},()=>{k()}).subscribe();return()=>{G.removeChannel(L)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(vs,{to:"/auth",replace:!0});const E=L=>{switch(L){case"open":return s.jsx(Xa,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(Tt,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(Qa,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Qa,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Xa,{className:"h-4 w-4"})}},B=L=>{const I={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(Ce,{variant:I[L]||"default",className:"capitalize",children:L.replace("_"," ")})},U=L=>{const I={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(Ce,{className:`${I[L]||""} capitalize`,variant:"outline",children:L})},$=n.filter(L=>{const I=L.subject.toLowerCase().includes(o.toLowerCase())||L.customer_name.toLowerCase().includes(o.toLowerCase())||L.customer_email.toLowerCase().includes(o.toLowerCase()),z=c==="all"||L.status===c,H=d==="all"||L.priority===d;return I&&z&&H}),F=async(L,I)=>{const{error:z}=await G.from("support_tickets").update({status:I}).eq("id",L);if(z){ve.error("Failed to update status");return}r(H=>H.map(j=>j.id===L?{...j,status:I,updated_at:new Date().toISOString()}:j)),(f==null?void 0:f.id)===L&&m(H=>H?{...H,status:I}:null),ve.success("Ticket status updated")},M=async()=>{if(!(!p.trim()||!f)){x(!0);try{const{data:L,error:I}=await G.from("support_ticket_messages").insert({ticket_id:f.id,content:p,sender_type:"agent",sender_name:"Support Team"}).select().single();if(I){ve.error("Failed to send reply");return}const z={id:L.id,content:L.content,sender_type:L.sender_type,sender_name:L.sender_name,created_at:L.created_at};r(H=>H.map(j=>j.id===f.id?{...j,messages:[...j.messages,z],updated_at:new Date().toISOString()}:j)),m(H=>H?{...H,messages:[...H.messages,z]}:null),g(""),ve.success("Reply sent successfully");try{await PLe({ticket_id:f.id,ticket_subject:f.subject,customer_email:f.customer_email,customer_name:f.customer_name,reply_content:p,agent_name:"Support Team"}),console.log("Email notification sent to customer")}catch(H){console.error("Failed to send email notification:",H)}}finally{x(!1)}}},R=n.filter(L=>L.status==="open").length,D=n.filter(L=>L.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage support requests from the customer portal"})]}),s.jsxs(ee,{variant:"outline",onClick:k,disabled:a,children:[s.jsx(ps,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(ei,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R})]}),s.jsx(Xa,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D})]}),s.jsx(Tt,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(L=>L.status==="resolved"||L.status==="closed").length})]}),s.jsx(Qa,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search tickets...",value:o,onChange:L=>l(L.target.value),className:"pl-10"})]}),s.jsxs(Be,{value:c,onValueChange:u,children:[s.jsx(Le,{className:"w-full md:w-40",children:s.jsx(Ue,{placeholder:"Status"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Status"}),s.jsx(ie,{value:"open",children:"Open"}),s.jsx(ie,{value:"in_progress",children:"In Progress"}),s.jsx(ie,{value:"resolved",children:"Resolved"}),s.jsx(ie,{value:"closed",children:"Closed"})]})]}),s.jsxs(Be,{value:d,onValueChange:h,children:[s.jsx(Le,{className:"w-full md:w-40",children:s.jsx(Ue,{placeholder:"Priority"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Priority"}),s.jsx(ie,{value:"urgent",children:"Urgent"}),s.jsx(ie,{value:"high",children:"High"}),s.jsx(ie,{value:"medium",children:"Medium"}),s.jsx(ie,{value:"low",children:"Low"})]})]})]})})}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{children:["Tickets (",$.length,")"]}),s.jsx(je,{children:"Click on a ticket to view details and respond"})]}),s.jsx(Q,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):$.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ei,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets found"}),s.jsx("p",{className:"text-muted-foreground",children:o||c!=="all"||d!=="all"?"Try adjusting your filters":"Support tickets from customers will appear here"})]}):s.jsx("div",{className:"space-y-3",children:$.map(L=>{const I=T(L);return s.jsx("div",{onClick:()=>m(L),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E(L.status),s.jsx("h4",{className:"font-medium truncate",children:L.subject}),I.isOwn?s.jsx(Ce,{variant:"outline",className:"text-xs shrink-0",children:"Your ticket"}):s.jsxs(Ce,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[s.jsx(dn,{className:"h-2.5 w-2.5"}),I.ownerName,I.teamName&&s.jsxs("span",{className:"text-muted-foreground",children:["(",I.teamName,")"]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:L.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Yn,{className:"h-3 w-3"}),L.customer_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(L.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(un,{className:"h-3 w-3"}),L.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[B(L.status),U(L.priority)]})]})},L.id)})})})]}),s.jsx(dr,{open:!!f,onOpenChange:L=>!L&&m(null),children:s.jsx(Kn,{className:"max-w-2xl max-h-[90vh]",children:f&&s.jsxs(s.Fragment,{children:[s.jsx(Jn,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Xn,{children:f.subject}),s.jsxs(Hi,{className:"mt-1",children:["From ",f.customer_name," (",f.customer_email,")"]}),(()=>{const L=T(f);return s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Managed by:"}),L.isOwn?s.jsx(Ce,{variant:"outline",className:"text-xs",children:"You"}):s.jsxs(Ce,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[s.jsx(dn,{className:"h-2.5 w-2.5"}),L.ownerName,L.teamName&&s.jsxs("span",{children:["(",L.teamName,")"]})]})]})})()]}),s.jsxs("div",{className:"flex gap-2",children:[B(f.status),U(f.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Be,{value:f.status,onValueChange:L=>F(f.id,L),children:[s.jsx(Le,{className:"w-40",children:s.jsx(Ue,{})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"open",children:"Open"}),s.jsx(ie,{value:"in_progress",children:"In Progress"}),s.jsx(ie,{value:"resolved",children:"Resolved"}),s.jsx(ie,{value:"closed",children:"Closed"})]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",at(new Date(f.created_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsx(Zr,{}),s.jsx(Na,{className:"h-64",children:s.jsxs("div",{className:"space-y-4 pr-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:f.customer_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(f.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:f.description})]}),f.messages.map(L=>s.jsxs("div",{className:`p-3 rounded-lg ${L.sender_type==="customer"?"bg-muted":"bg-primary/10 ml-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:L.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(L.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:L.content})]},L.id))]})}),s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(pt,{placeholder:"Type your reply...",value:p,onChange:L=>g(L.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ee,{onClick:M,disabled:!p.trim()||v,children:v?"Sending...":"Send Reply"})})]})]})]})})})]})}function NGe(){const{customer:e,loading:t}=Cs(),[n,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[d,h]=y.useState(!1),f=async()=>{if(e)try{i(!0);const{data:b,error:w}=await G.from("support_tickets").select("*").eq("customer_id",e.id).order("created_at",{ascending:!1});if(w){console.error("Error fetching tickets:",w),ve.error("Failed to load support tickets");return}const _=await Promise.all((b||[]).map(async N=>{const{data:S}=await G.from("support_ticket_messages").select("*").eq("ticket_id",N.id).order("created_at",{ascending:!0});return{...N,messages:(S||[]).map(C=>({id:C.id,content:C.content,sender_type:C.sender_type,sender_name:C.sender_name,created_at:C.created_at}))}}));r(_)}catch(b){console.error("Error:",b),ve.error("Failed to load support tickets")}finally{i(!1)}};if(y.useEffect(()=>{if(e){f();const b=G.channel("customer-ticket-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},()=>{f()}).subscribe();return()=>{G.removeChannel(b)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(vs,{to:"/customer-login",replace:!0});const m=b=>{switch(b){case"open":return s.jsx(Xa,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(Tt,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(Qa,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Qa,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Xa,{className:"h-4 w-4"})}},p=b=>{const w={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(Ce,{variant:w[b]||"default",className:"capitalize",children:b.replace("_"," ")})},g=b=>{const w={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(Ce,{className:`${w[b]||""} capitalize`,variant:"outline",children:b})},v=async()=>{if(!(!c.trim()||!o)){h(!0);try{const{data:b,error:w}=await G.from("support_ticket_messages").insert({ticket_id:o.id,content:c,sender_type:"customer",sender_name:e.full_name}).select().single();if(w){ve.error("Failed to send reply");return}const _={id:b.id,content:b.content,sender_type:b.sender_type,sender_name:b.sender_name,created_at:b.created_at};r(N=>N.map(S=>S.id===o.id?{...S,messages:[...S.messages,_],updated_at:new Date().toISOString()}:S)),l(N=>N?{...N,messages:[...N.messages,_]}:null),u(""),ve.success("Reply sent successfully");try{const{data:N}=await G.from("profiles").select("email").eq("user_id",o.user_id).single();N!=null&&N.email&&await ALe({ticket_id:o.id,ticket_subject:o.subject,customer_email:e.email,customer_name:e.full_name,message_content:c,admin_email:N.email})}catch(N){console.error("Failed to send admin notification:",N)}}finally{h(!1)}}},x=n.filter(b=>b.status==="open"||b.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and respond to your support requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",onClick:f,disabled:a,children:[s.jsx(ps,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),s.jsx(Zk,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(ei,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x})]}),s.jsx(Tt,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Y,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(b=>b.status==="resolved"||b.status==="closed").length})]}),s.jsx(Qa,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"Your Tickets"}),s.jsx(je,{children:"Click on a ticket to view details and respond"})]}),s.jsx(Q,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ei,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Need help? Create a support ticket and we'll get back to you."}),s.jsx(Zk,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f,trigger:s.jsxs(ee,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})})]}):s.jsx("div",{className:"space-y-3",children:n.map(b=>s.jsx("div",{onClick:()=>l(b),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m(b.status),s.jsx("h4",{className:"font-medium truncate",children:b.subject})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:b.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(b.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(un,{className:"h-3 w-3"}),b.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p(b.status),g(b.priority)]})]})},b.id))})})]}),s.jsx(dr,{open:!!o,onOpenChange:b=>!b&&l(null),children:s.jsx(Kn,{className:"max-w-2xl max-h-[90vh]",children:o&&s.jsxs(s.Fragment,{children:[s.jsx(Jn,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Xn,{children:o.subject}),s.jsxs(Hi,{className:"mt-1",children:["Created on ",at(new Date(o.created_at),"MMMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex gap-2",children:[p(o.status),g(o.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Zr,{}),s.jsx(Na,{className:"h-[300px] pr-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 ml-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(o.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o.description})]}),o.messages.map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${b.sender_type==="customer"?"bg-primary/10 ml-8":"bg-muted mr-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:b.sender_type==="customer"?"You":b.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(b.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content})]},b.id))]})}),o.status!=="closed"&&s.jsxs(s.Fragment,{children:[s.jsx(Zr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pt,{placeholder:"Type your reply...",value:c,onChange:b=>u(b.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(ee,{onClick:v,disabled:d||!c.trim(),children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Reply"]})})]})]}),o.status==="closed"&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"This ticket is closed. Please create a new ticket if you need further assistance."})]})]})})})]})}function SGe(){const{customer:e}=Cs(),[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState("all");y.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e)try{a(!0);const x=await Bk();n(x.leads||[])}catch(x){console.error("Error fetching leads:",x),ve.error("Failed to load leads")}finally{a(!1)}},f=async()=>{if(e){o(!0);try{const x=await Bk();n(x.leads||[]),ve.success("Leads refreshed")}catch(x){console.error("Error refreshing leads:",x),ve.error("Failed to refresh leads")}finally{o(!1)}}},m=t.filter(x=>{var N,S,C,k;const b=u==="all"||x.source_type===u,w=l.toLowerCase(),_=l===""||((N=x.name)==null?void 0:N.toLowerCase().includes(w))||((S=x.email)==null?void 0:S.toLowerCase().includes(w))||((C=x.phone_number)==null?void 0:C.includes(l))||((k=x.source_name)==null?void 0:k.toLowerCase().includes(w));return b&&_}),p=x=>{switch(x){case"chatbot":return s.jsx(it,{className:"h-4 w-4"});case"voice":return s.jsx(Ot,{className:"h-4 w-4"});case"whatsapp":return s.jsx(Ft,{className:"h-4 w-4"});default:return s.jsx(dn,{className:"h-4 w-4"})}},g=x=>{switch(x){case"chatbot":return"default";case"voice":return"secondary";case"whatsapp":return"outline";default:return"default"}},v={total:t.length,chatbot:t.filter(x=>x.source_type==="chatbot").length,voice:t.filter(x=>x.source_type==="voice").length,whatsapp:t.filter(x=>x.source_type==="whatsapp").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leads"}),s.jsx("p",{className:"text-muted-foreground",children:"View extracted lead data from your agents"})]}),s.jsxs(ee,{onClick:f,disabled:i,variant:"outline",children:[s.jsx(ps,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),i?"Refreshing...":"Refresh"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.total})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"From Chatbots"}),s.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.chatbot})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"From Voice"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.voice})})]}),s.jsxs(Y,{children:[s.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ae,{className:"text-sm font-medium",children:"From WhatsApp"}),s.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Q,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.whatsapp})})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsx(ae,{children:"All Leads"}),s.jsx(je,{children:"Browse and search through all extracted lead information"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by name, email, phone...",value:l,onChange:x=>c(x.target.value),className:"pl-10"})]}),s.jsxs(Be,{value:u,onValueChange:d,children:[s.jsx(Le,{className:"w-full sm:w-[180px]",children:s.jsx(Ue,{placeholder:"Filter by source"})}),s.jsxs(Fe,{children:[s.jsx(ie,{value:"all",children:"All Sources"}),s.jsx(ie,{value:"chatbot",children:"Chatbots"}),s.jsx(ie,{value:"voice",children:"Voice Assistants"}),s.jsx(ie,{value:"whatsapp",children:"WhatsApp Agents"})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading leads..."})}):m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(dn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No leads found"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:t.length===0?"Leads will appear here as your agents collect contact information.":"Try adjusting your search or filter criteria."})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(bj,{children:[s.jsx(wj,{children:s.jsxs(pu,{children:[s.jsx(Dr,{children:"Source"}),s.jsx(Dr,{children:"Agent"}),s.jsx(Dr,{children:"Name"}),s.jsx(Dr,{children:"Contact"}),s.jsx(Dr,{children:"Date"})]})}),s.jsx(jj,{children:m.map(x=>s.jsxs(pu,{children:[s.jsx(Ir,{children:s.jsxs(Ce,{variant:g(x.source_type),className:"gap-1",children:[p(x.source_type),s.jsx("span",{className:"capitalize",children:x.source_type})]})}),s.jsx(Ir,{className:"font-medium",children:x.source_name||"Unknown"}),s.jsx(Ir,{children:x.name?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:x.name})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Ir,{children:s.jsxs("div",{className:"space-y-1",children:[x.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ns,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"truncate max-w-[200px]",children:x.email})]}),x.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ot,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:x.phone_number})]}),!x.email&&!x.phone_number&&s.jsx("span",{className:"text-muted-foreground",children:"-"})]})}),s.jsx(Ir,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(jr,{className:"h-3 w-3"}),at(new Date(x.extracted_at),"MMM d, yyyy")]})})]},x.id))})]})})]})]})]})}const CGe=()=>{const{user:e}=Dt(),[t,n]=y.useState([]),[r,a]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState(!0),[h,f]=y.useState(!1),[m,p]=y.useState(!1),[g,v]=y.useState(!1),[x,b]=y.useState(""),[w,_]=y.useState(""),[N,S]=y.useState(""),[C,k]=y.useState(null);y.useEffect(()=>{e&&A()},[e]),y.useEffect(()=>{r&&(T(r.id),E(r.id))},[r]);const A=async()=>{d(!0);try{const{data:z,error:H}=await G.from("team_organizations").select("*").order("created_at",{ascending:!1});if(H)throw H;n(z||[]),z&&z.length>0&&!r&&a(z[0])}catch(z){console.error("Error fetching teams:",z),ve.error("Failed to load teams")}finally{d(!1)}},T=async z=>{try{const{data:H,error:j}=await G.from("team_members").select("*").eq("team_org_id",z).order("joined_at",{ascending:!0});if(j)throw j;if(!H||H.length===0){o([]);return}const P=H.map(Z=>Z.user_id),{data:O}=await G.from("profiles").select("user_id, full_name, email").in("user_id",P),V=new Map;O&&O.forEach(Z=>{V.set(Z.user_id,{full_name:Z.full_name||void 0,email:Z.email||void 0})});const W=H.map(Z=>{const te=V.get(Z.user_id),q=Z.email;return{...Z,user_name:te==null?void 0:te.full_name,user_email:q||(te==null?void 0:te.email)}});o(W)}catch(H){console.error("Error fetching team members:",H)}},E=async z=>{try{const{data:H,error:j}=await G.from("team_invitations").select("*").eq("team_org_id",z).eq("status","pending").order("created_at",{ascending:!1});if(j)throw j;c(H||[])}catch(H){console.error("Error fetching invitations:",H)}},B=z=>z.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").substring(0,50)+"-"+Date.now().toString(36),U=async()=>{if(!x.trim()){ve.error("Please enter a team name");return}f(!0);try{const{data:z,error:H}=await G.from("team_organizations").insert({name:x.trim(),slug:B(x),description:w.trim()||null,created_by:e==null?void 0:e.id}).select().single();if(H)throw H;ve.success(`Team "${x}" created successfully`),b(""),_(""),v(!1),await A(),a(z)}catch(z){console.error("Error creating team:",z),ve.error(z.message||"Failed to create team")}finally{f(!1)}},$=async()=>{var H,j;if(!N.trim()||!r){ve.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.trim())){ve.error("Please enter a valid email address");return}p(!0);try{const P=N.trim().toLowerCase();await G.from("team_invitations").delete().eq("team_org_id",r.id).ilike("email",P).neq("status","pending");const{data:O,error:V}=await G.from("team_invitations").insert({team_org_id:r.id,email:P,invited_by:e==null?void 0:e.id}).select().single();if(V){if(V.code==="23505"){ve.error("This email already has a pending invitation to this team");return}throw V}const W=`${window.location.origin}/invite/${O.token}`,Z="https://voxtro-backend.onrender.com";console.log("[Teams] Sending invitation email to:",P),console.log("[Teams] API URL:",`${Z}/api/notifications/team-invite`);try{const{data:te}=await G.auth.getSession(),q=(H=te==null?void 0:te.session)==null?void 0:H.access_token;console.log("[Teams] Auth token present:",!!q);const X={email:P,team_name:r.name,inviter_name:((j=e==null?void 0:e.user_metadata)==null?void 0:j.full_name)||(e==null?void 0:e.email),invite_url:W};console.log("[Teams] Request body:",X);const re=await fetch(`${Z}/api/notifications/team-invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify(X)});console.log("[Teams] Email response status:",re.status);const pe=await re.json().catch(()=>({}));console.log("[Teams] Email response data:",pe),re.ok?ve.success(`Invitation sent to ${P}!`,{description:"They'll receive an email with instructions to join.",duration:5e3}):(console.error("[Teams] Failed to send invitation email:",pe),await navigator.clipboard.writeText(W),ve.success(`Invitation created for ${P}`,{description:"Email failed to send, but link copied to clipboard.",duration:5e3}))}catch(te){console.error("[Teams] Email sending error:",te),await navigator.clipboard.writeText(W),ve.success(`Invitation created for ${P}`,{description:"Email failed to send, but link copied to clipboard.",duration:5e3})}S(""),await E(r.id)}catch(P){console.error("Error inviting member:",P),ve.error(P.message||"Failed to send invitation")}finally{p(!1)}},F=async z=>{try{const{error:H}=await G.from("team_invitations").delete().eq("id",z);if(H)throw H;ve.success("Invitation cancelled"),r&&await E(r.id)}catch(H){console.error("Error cancelling invitation:",H),ve.error("Failed to cancel invitation")}},M=async(z,H)=>{if(H===(e==null?void 0:e.id)){ve.error("You cannot remove yourself from the team");return}try{const{error:j}=await G.from("team_members").delete().eq("id",z);if(j)throw j;ve.success("Member removed from team"),r&&await T(r.id)}catch(j){console.error("Error removing member:",j),ve.error("Failed to remove member")}},R=async z=>{const H=i.find(j=>j.user_id===(e==null?void 0:e.id));if(H){if(H.role==="owner"&&i.filter(P=>P.role==="owner"&&P.user_id!==(e==null?void 0:e.id)).length===0){ve.error("You cannot leave the team as the only owner. Transfer ownership first or delete the team.");return}try{const{error:j}=await G.from("team_members").delete().eq("team_org_id",z).eq("user_id",e==null?void 0:e.id);if(j)throw j;ve.success("You have left the team"),a(null),await A()}catch(j){console.error("Error leaving team:",j),ve.error("Failed to leave team")}}},D=async z=>{if(confirm("Are you sure you want to delete this team? This action cannot be undone."))try{const{error:H}=await G.from("team_organizations").delete().eq("id",z);if(H)throw H;ve.success("Team deleted successfully"),a(null),await A()}catch(H){console.error("Error deleting team:",H),ve.error("Failed to delete team")}},L=async z=>{const H=`${window.location.origin}/invite/${z}`;await navigator.clipboard.writeText(H),k(z),ve.success("Invite link copied to clipboard"),setTimeout(()=>k(null),2e3)},I=z=>i.some(H=>H.team_org_id===z&&H.user_id===(e==null?void 0:e.id)&&H.role==="owner");return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Gn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Teams"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage team organizations to collaborate with others"})]}),s.jsxs(dr,{open:g,onOpenChange:v,children:[s.jsx(Pu,{asChild:!0,children:s.jsxs(ee,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Team"]})}),s.jsxs(Kn,{children:[s.jsxs(Jn,{children:[s.jsx(Xn,{children:"Create a New Team"}),s.jsx(Hi,{children:"Create a team organization to share tasks, support tickets, and agents with your teammates."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"team-name",children:"Team Name"}),s.jsx(ue,{id:"team-name",placeholder:"e.g., Marketing Team, Engineering",value:x,onChange:z=>b(z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ne,{htmlFor:"team-description",children:"Description (optional)"}),s.jsx(ue,{id:"team-description",placeholder:"What is this team for?",value:w,onChange:z=>_(z.target.value)})]})]}),s.jsxs(YA,{children:[s.jsx(ee,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(ee,{onClick:U,disabled:h||!x.trim(),children:h?s.jsxs(s.Fragment,{children:[s.jsx(Gn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Team"})]})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(Y,{className:"lg:col-span-1",children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(W0,{className:"h-5 w-5"}),"Your Teams"]}),s.jsx(je,{children:"Select a team to manage members and settings"})]}),s.jsx(Q,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have any teams yet"}),s.jsxs(ee,{variant:"outline",onClick:()=>v(!0),children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Create Your First Team"]})]}):s.jsx("div",{className:"space-y-2",children:t.map(z=>s.jsx("button",{onClick:()=>a(z),className:`w-full p-3 rounded-lg border text-left transition-colors ${(r==null?void 0:r.id)===z.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:z.name}),z.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:z.description})]}),z.created_by===(e==null?void 0:e.id)&&s.jsx(NM,{className:"h-4 w-4 text-yellow-500"})]})},z.id))})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Y,{children:s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ae,{children:r.name}),r.description&&s.jsx(je,{children:r.description})]}),I(r.id)?s.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>D(r.id),children:[s.jsx(zt,{className:"h-4 w-4 mr-2"}),"Delete Team"]}):s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>R(r.id),children:[s.jsx(B2,{className:"h-4 w-4 mr-2"}),"Leave Team"]})]})})}),I(r.id)&&s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(Ns,{className:"h-5 w-5"}),"Invite Members"]}),s.jsx(je,{children:"Send invitations to add teammates to your organization"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ue,{type:"email",placeholder:"Enter email address",value:N,onChange:z=>S(z.target.value),onKeyDown:z=>z.key==="Enter"&&$()}),s.jsx(ee,{onClick:$,disabled:m,children:m?s.jsx(Gn,{className:"h-4 w-4 animate-spin"}):"Invite"})]}),l.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(ne,{className:"text-sm text-muted-foreground",children:"Pending Invitations"}),l.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:z.email}),s.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>L(z.token),children:C===z.token?s.jsx(Ag,{className:"h-4 w-4 text-green-500"}):s.jsx(oS,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>F(z.id),children:s.jsx(zt,{className:"h-4 w-4 text-destructive"})})]})]},z.id))]})]})]}),s.jsxs(Y,{children:[s.jsxs(se,{children:[s.jsxs(ae,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"h-5 w-5"}),"Team Members (",i.length,")"]}),s.jsx(je,{children:"People who have access to this team's resources"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-3",children:i.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:z.role==="owner"?s.jsx(NM,{className:"h-5 w-5 text-yellow-500"}):s.jsx(Yn,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:z.user_id===(e==null?void 0:e.id)?"You":z.user_name||z.user_email||`User ${z.user_id.slice(0,8)}...`}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.user_email&&z.user_id!==(e==null?void 0:e.id)&&s.jsx("span",{className:"mr-2",children:z.user_email}),"Joined ",new Date(z.joined_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{variant:z.role==="owner"?"default":"secondary",children:z.role==="owner"?"Owner":"Teammate"}),I(r.id)&&z.user_id!==(e==null?void 0:e.id)&&s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>M(z.id,z.user_id),children:s.jsx(zt,{className:"h-4 w-4 text-destructive"})})]})]},z.id))})})]})]}):s.jsx(Y,{children:s.jsxs(Q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(dn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Team"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Choose a team from the list to view and manage its members"})]})})})]})]})};function kGe(){var b;const{token:e}=Ig(),t=Nr(),{user:n,loading:r}=Dt(),[a,i]=y.useState(null),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,h]=y.useState(null),[f,m]=y.useState(!1),p=y.useRef(!1);y.useEffect(()=>{console.log("[AcceptInvite] Component mounted, token:",e),e&&g()},[e]),y.useEffect(()=>{var w,_;console.log("[AcceptInvite] Auth state check:",{authLoading:r,user:n==null?void 0:n.email,invite:a==null?void 0:a.email,error:d,success:f,accepting:c,acceptAttempted:p.current}),!r&&n&&a&&!d&&!f&&!c&&!p.current&&(console.log("[AcceptInvite] Checking email match:",(w=n.email)==null?void 0:w.toLowerCase(),"vs",a.email.toLowerCase()),((_=n.email)==null?void 0:_.toLowerCase())===a.email.toLowerCase()&&(console.log("[AcceptInvite] Email matches, auto-accepting..."),p.current=!0,v()))},[n,r,a,d,f,c]);const g=async()=>{var w;console.log("[AcceptInvite] Fetching invite details for token:",e);try{const{data:_,error:N}=await G.from("team_invitations").select(`
          id,
          team_org_id,
          email,
          status,
          expires_at,
          team_organizations (name)
        `).eq("token",e).single();if(console.log("[AcceptInvite] Fetch result:",{data:_,fetchError:N}),N||!_){console.error("[AcceptInvite] Invalid or missing invitation:",N),h("This invitation link is invalid or has already been used."),l(!1);return}if(new Date(_.expires_at)<new Date){h("This invitation has expired. Please ask the team owner to send a new invitation."),l(!1);return}if(_.status!=="pending"){h("This invitation has already been used."),l(!1);return}i({..._,team_name:((w=_.team_organizations)==null?void 0:w.name)||"Unknown Team"})}catch(_){console.error("Error fetching invite:",_),h("Failed to load invitation details.")}finally{l(!1)}},v=async()=>{if(console.log("[AcceptInvite] handleAcceptInvite called",{invite:a,userEmail:n==null?void 0:n.email,token:e,accepting:c}),!a||!n){console.log("[AcceptInvite] Missing invite or user, aborting");return}if(c){console.log("[AcceptInvite] Already accepting, skipping");return}u(!0);try{console.log("[AcceptInvite] Calling accept_team_invitation RPC with token:",e);const{data:w,error:_}=await G.rpc("accept_team_invitation",{invitation_token:e});if(console.log("[AcceptInvite] RPC result:",{data:w,acceptError:_}),_)throw console.error("[AcceptInvite] RPC error:",_),new Error(_.message||"Database error while accepting invitation");if(!w)throw console.error("[AcceptInvite] No data returned from RPC"),new Error("No response from server. Please try again.");const N=w;if(console.log("[AcceptInvite] Parsed result:",N),!N.success)throw new Error(N.error||"Failed to accept invitation");m(!0),ve.success(`You've joined ${a.team_name}!`),console.log("[AcceptInvite] Successfully joined team, redirecting..."),setTimeout(()=>{t("/teams")},2e3)}catch(w){console.error("[AcceptInvite] Error accepting invite:",w),h(w.message||"Failed to accept invitation"),ve.error(w.message||"Failed to accept invitation"),p.current=!1}finally{u(!1)}},x=w=>{e&&localStorage.setItem("pending_invite_token",e),t(w)};return o||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Gn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading invitation..."})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsxs(Y,{className:"w-full max-w-md",children:[s.jsxs(se,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:cr,alt:"Voxtro",className:"h-12"})}),s.jsx(ae,{className:"text-2xl",children:"Team Invitation"}),s.jsx(je,{children:d?"Something went wrong":f?"Welcome to the team!":"You've been invited to join a team"})]}),s.jsx(Q,{children:d?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(JB,{className:"h-16 w-16 mx-auto text-destructive"}),s.jsx("p",{className:"text-muted-foreground",children:d}),s.jsx(ee,{asChild:!0,className:"w-full",children:s.jsx(Je,{to:"/dashboard",children:"Go to Dashboard"})})]}):f?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(ar,{className:"h-16 w-16 mx-auto text-green-500"}),s.jsxs("p",{className:"text-muted-foreground",children:["You're now a member of ",s.jsx("strong",{children:a==null?void 0:a.team_name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to your teams..."})]}):a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(dn,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold",children:a.team_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Invited: ",a.email]})]})]}),n?((b=n.email)==null?void 0:b.toLowerCase())===a.email.toLowerCase()?s.jsx("div",{className:"space-y-4",children:c?s.jsxs("div",{className:"text-center",children:[s.jsx(Gn,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Joining team..."})]}):s.jsxs(ee,{onClick:v,className:"w-full",size:"lg",children:[s.jsx(ar,{className:"h-4 w-4 mr-2"}),"Accept Invitation"]})}):s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsxs("p",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:["This invitation was sent to ",s.jsx("strong",{children:a.email}),", but you're signed in as ",s.jsx("strong",{children:n.email}),"."]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please sign out and sign in with the correct account, or ask for a new invitation."}),s.jsx(ee,{variant:"outline",asChild:!0,className:"w-full",children:s.jsx(Je,{to:"/dashboard",children:"Go to Dashboard"})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Sign in or create an account to join this team"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs(ee,{onClick:()=>x("/auth"),className:"w-full",size:"lg",children:[s.jsx(Dte,{className:"h-4 w-4 mr-2"}),"Sign In"]}),s.jsxs(ee,{variant:"outline",onClick:()=>x("/auth?signup=true"),className:"w-full",size:"lg",children:[s.jsx(ch,{className:"h-4 w-4 mr-2"}),"Create Account"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Make sure to use the email: ",s.jsx("strong",{children:a.email})]})]})]}):null})]})})}const EGe=new Kse,PGe=()=>s.jsx(eae,{client:EGe,children:s.jsx(Ile,{children:s.jsx(Rle,{children:s.jsxs(U8,{children:[s.jsx(Ane,{}),s.jsx(sre,{}),s.jsx(fie,{children:s.jsx(mue,{children:s.jsxs(sie,{children:[s.jsx(Ze,{path:"/",element:s.jsx(pue,{})}),s.jsx(Ze,{path:"/auth",element:s.jsx(xue,{})}),s.jsx(Ze,{path:"/auth/confirm",element:s.jsx(bue,{})}),s.jsx(Ze,{path:"/dashboard",element:s.jsx(pr,{children:s.jsx(Hde,{})})}),s.jsx(Ze,{path:"/chatbots",element:s.jsx(pr,{children:s.jsx(a3e,{})})}),s.jsx(Ze,{path:"/conversations",element:s.jsx(pr,{children:s.jsx(h8e,{})})}),s.jsx(Ze,{path:"/forms",element:s.jsx(pr,{children:s.jsx(y8e,{})})}),s.jsx(Ze,{path:"/flows",element:s.jsx(pr,{children:s.jsx(w8e,{})})}),s.jsx(Ze,{path:"/customers",element:s.jsx(pr,{children:s.jsx(z8e,{})})}),s.jsx(Ze,{path:"/voice-assistants",element:s.jsx(pr,{children:s.jsx(tze,{})})}),s.jsx(Ze,{path:"/voice-assistants/:assistantId/edit",element:s.jsx(WVe,{})}),s.jsx(Ze,{path:"/voice-tasks",element:s.jsx(pr,{children:s.jsx(jGe,{})})}),s.jsx(Ze,{path:"/whatsapp-agents",element:s.jsx(pr,{children:s.jsx(HVe,{})})}),s.jsx(Ze,{path:"/usage",element:s.jsx(pr,{children:s.jsx(f8e,{})})}),s.jsx(Ze,{path:"/support-tickets",element:s.jsx(pr,{children:s.jsx(_Ge,{})})}),s.jsx(Ze,{path:"/settings",element:s.jsx(pr,{children:s.jsx(p8e,{})})}),s.jsx(Ze,{path:"/teams",element:s.jsx(pr,{children:s.jsx(CGe,{})})}),s.jsx(Ze,{path:"/invite/:token",element:s.jsx(kGe,{})}),s.jsx(Ze,{path:"/billing",element:s.jsx(pr,{children:s.jsx(g8e,{})})}),s.jsx(Ze,{path:"/changelog",element:s.jsx(vWe,{})}),s.jsx(Ze,{path:"/create-chatbot",element:s.jsx(l3e,{})}),s.jsx(Ze,{path:"/edit-chatbot/:chatbotId",element:s.jsx(u3e,{})}),s.jsx(Ze,{path:"/embed/:chatbotId",element:s.jsx(h3e,{})}),s.jsx(Ze,{path:"/messenger/:chatbotId",element:s.jsx(u8e,{})}),s.jsx(Ze,{path:"/widget-test",element:s.jsx(d8e,{})}),s.jsx(Ze,{path:"/customer-login",element:s.jsx(N8e,{})}),s.jsxs(Ze,{path:"/customer-dashboard",element:s.jsx(E8e,{}),children:[s.jsx(Ze,{index:!0,element:s.jsx(A8e,{})}),s.jsx(Ze,{path:"conversations",element:s.jsx(M8e,{})}),s.jsx(Ze,{path:"voice-assistants",element:s.jsx(D8e,{})}),s.jsx(Ze,{path:"whatsapp-agents",element:s.jsx(I8e,{})}),s.jsx(Ze,{path:"leads",element:s.jsx(SGe,{})}),s.jsx(Ze,{path:"support-tickets",element:s.jsx(NGe,{})}),s.jsx(Ze,{path:"forms",element:s.jsx(F8e,{})}),s.jsx(Ze,{path:"analytics",element:s.jsx(B8e,{})}),s.jsx(Ze,{path:"settings",element:s.jsx(U8e,{})})]}),s.jsx(Ze,{path:"/docs",element:s.jsx(YVe,{})}),s.jsx(Ze,{path:"/api",element:s.jsx(KVe,{})}),s.jsx(Ze,{path:"/guides",element:s.jsx(JVe,{})}),s.jsx(Ze,{path:"/support",element:s.jsx(XVe,{})}),s.jsx(Ze,{path:"/status",element:s.jsx(QVe,{})}),s.jsx(Ze,{path:"/about",element:s.jsx(ZVe,{})}),s.jsx(Ze,{path:"/careers",element:s.jsx(eWe,{})}),s.jsx(Ze,{path:"/contact",element:s.jsx(tWe,{})}),s.jsx(Ze,{path:"/privacy",element:s.jsx(nWe,{})}),s.jsx(Ze,{path:"/terms",element:s.jsx(rWe,{})}),s.jsx(Ze,{path:"/cookies",element:s.jsx(sWe,{})}),s.jsx(Ze,{path:"*",element:s.jsx(aWe,{})})]})})})]})})})});NB(document.getElementById("root")).render(s.jsx(PGe,{}));
