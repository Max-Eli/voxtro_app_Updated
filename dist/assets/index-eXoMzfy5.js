var YX=Object.defineProperty;var QT=e=>{throw TypeError(e)};var JX=(e,t,n)=>t in e?YX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ut=(e,t,n)=>JX(e,typeof t!="symbol"?t+"":t,n),Bj=(e,t,n)=>t.has(e)||QT("Cannot "+n);var ie=(e,t,n)=>(Bj(e,t,"read from private field"),n?n.call(e):t.get(e)),rt=(e,t,n)=>t.has(e)?QT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$e=(e,t,n,r)=>(Bj(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_t=(e,t,n)=>(Bj(e,t,"access private method"),n);var Sv=(e,t,n,r)=>({set _(a){$e(e,t,a,n)},get _(){return ie(e,t,r)}});function XX(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n5(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var r5={exports:{}},j0={},s5={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=Symbol.for("react.element"),QX=Symbol.for("react.portal"),ZX=Symbol.for("react.fragment"),eQ=Symbol.for("react.strict_mode"),tQ=Symbol.for("react.profiler"),nQ=Symbol.for("react.provider"),rQ=Symbol.for("react.context"),sQ=Symbol.for("react.forward_ref"),aQ=Symbol.for("react.suspense"),iQ=Symbol.for("react.memo"),oQ=Symbol.for("react.lazy"),ZT=Symbol.iterator;function lQ(e){return e===null||typeof e!="object"?null:(e=ZT&&e[ZT]||e["@@iterator"],typeof e=="function"?e:null)}var a5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i5=Object.assign,o5={};function Wh(e,t,n){this.props=e,this.context=t,this.refs=o5,this.updater=n||a5}Wh.prototype.isReactComponent={};Wh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l5(){}l5.prototype=Wh.prototype;function PE(e,t,n){this.props=e,this.context=t,this.refs=o5,this.updater=n||a5}var AE=PE.prototype=new l5;AE.constructor=PE;i5(AE,Wh.prototype);AE.isPureReactComponent=!0;var eO=Array.isArray,c5=Object.prototype.hasOwnProperty,TE={current:null},u5={key:!0,ref:!0,__self:!0,__source:!0};function d5(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)c5.call(t,r)&&!u5.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:jg,type:e,key:i,ref:o,props:a,_owner:TE.current}}function cQ(e,t){return{$$typeof:jg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function OE(e){return typeof e=="object"&&e!==null&&e.$$typeof===jg}function uQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tO=/\/+/g;function Uj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uQ(""+e.key):t.toString(36)}function Rx(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jg:case QX:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Uj(o,0):r,eO(a)?(n="",e!=null&&(n=e.replace(tO,"$&/")+"/"),Rx(a,t,n,"",function(u){return u})):a!=null&&(OE(a)&&(a=cQ(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(tO,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",eO(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Uj(i,l);o+=Rx(i,t,n,c,a)}else if(c=lQ(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Uj(i,l++),o+=Rx(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cv(e,t,n){if(e==null)return e;var r=[],a=0;return Rx(e,r,"","",function(i){return t.call(n,i,a++)}),r}function dQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jr={current:null},$x={transition:null},hQ={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:$x,ReactCurrentOwner:TE};function h5(){throw Error("act(...) is not supported in production builds of React.")}wt.Children={map:Cv,forEach:function(e,t,n){Cv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cv(e,function(){t++}),t},toArray:function(e){return Cv(e,function(t){return t})||[]},only:function(e){if(!OE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};wt.Component=Wh;wt.Fragment=ZX;wt.Profiler=tQ;wt.PureComponent=PE;wt.StrictMode=eQ;wt.Suspense=aQ;wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hQ;wt.act=h5;wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=i5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=TE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)c5.call(t,c)&&!u5.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:jg,type:e.type,key:a,ref:i,props:r,_owner:o}};wt.createContext=function(e){return e={$$typeof:rQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nQ,_context:e},e.Consumer=e};wt.createElement=d5;wt.createFactory=function(e){var t=d5.bind(null,e);return t.type=e,t};wt.createRef=function(){return{current:null}};wt.forwardRef=function(e){return{$$typeof:sQ,render:e}};wt.isValidElement=OE;wt.lazy=function(e){return{$$typeof:oQ,_payload:{_status:-1,_result:e},_init:dQ}};wt.memo=function(e,t){return{$$typeof:iQ,type:e,compare:t===void 0?null:t}};wt.startTransition=function(e){var t=$x.transition;$x.transition={};try{e()}finally{$x.transition=t}};wt.unstable_act=h5;wt.useCallback=function(e,t){return Jr.current.useCallback(e,t)};wt.useContext=function(e){return Jr.current.useContext(e)};wt.useDebugValue=function(){};wt.useDeferredValue=function(e){return Jr.current.useDeferredValue(e)};wt.useEffect=function(e,t){return Jr.current.useEffect(e,t)};wt.useId=function(){return Jr.current.useId()};wt.useImperativeHandle=function(e,t,n){return Jr.current.useImperativeHandle(e,t,n)};wt.useInsertionEffect=function(e,t){return Jr.current.useInsertionEffect(e,t)};wt.useLayoutEffect=function(e,t){return Jr.current.useLayoutEffect(e,t)};wt.useMemo=function(e,t){return Jr.current.useMemo(e,t)};wt.useReducer=function(e,t,n){return Jr.current.useReducer(e,t,n)};wt.useRef=function(e){return Jr.current.useRef(e)};wt.useState=function(e){return Jr.current.useState(e)};wt.useSyncExternalStore=function(e,t,n){return Jr.current.useSyncExternalStore(e,t,n)};wt.useTransition=function(){return Jr.current.useTransition()};wt.version="18.3.1";s5.exports=wt;var y=s5.exports;const H=Bt(y),f5=XX({__proto__:null,default:H},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fQ=y,mQ=Symbol.for("react.element"),pQ=Symbol.for("react.fragment"),gQ=Object.prototype.hasOwnProperty,vQ=fQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xQ={key:!0,ref:!0,__self:!0,__source:!0};function m5(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gQ.call(t,r)&&!xQ.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:mQ,type:e,key:i,ref:o,props:a,_owner:vQ.current}}j0.Fragment=pQ;j0.jsx=m5;j0.jsxs=m5;r5.exports=j0;var s=r5.exports,p5={exports:{}},Hs={},g5={exports:{}},v5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,U){var M=T.length;T.push(U);e:for(;0<M;){var Y=M-1>>>1,ee=T[Y];if(0<a(ee,U))T[Y]=U,T[M]=ee,M=Y;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var U=T[0],M=T.pop();if(M!==U){T[0]=M;e:for(var Y=0,ee=T.length,_=ee>>>1;Y<_;){var A=2*(Y+1)-1,P=T[A],z=A+1,V=T[z];if(0>a(P,M))z<ee&&0>a(V,P)?(T[Y]=V,T[z]=M,Y=z):(T[Y]=P,T[A]=M,Y=A);else if(z<ee&&0>a(V,M))T[Y]=V,T[z]=M,Y=z;else break e}}return U}function a(T,U){var M=T.sortIndex-U.sortIndex;return M!==0?M:T.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=T)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function j(T){if(p=!1,w(T),!g)if(n(c)!==null)g=!0,O(S);else{var U=n(u);U!==null&&$(j,U.startTime-T)}}function S(T,U){g=!1,p&&(p=!1,x(k),k=-1),m=!0;var M=f;try{for(w(U),h=n(c);h!==null&&(!(h.expirationTime>U)||T&&!E());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ee=Y(h.expirationTime<=U);U=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(c)&&r(c),w(U)}else r(c);h=n(c)}if(h!==null)var _=!0;else{var A=n(u);A!==null&&$(j,A.startTime-U),_=!1}return _}finally{h=null,f=M,m=!1}}var N=!1,C=null,k=-1,D=5,R=-1;function E(){return!(e.unstable_now()-R<D)}function B(){if(C!==null){var T=e.unstable_now();R=T;var U=!0;try{U=C(!0,T)}finally{U?F():(N=!1,C=null)}}else N=!1}var F;if(typeof b=="function")F=function(){b(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,I=L.port2;L.port1.onmessage=B,F=function(){I.postMessage(null)}}else F=function(){v(B,0)};function O(T){C=T,N||(N=!0,F())}function $(T,U){k=v(function(){T(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,O(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var M=f;f=U;try{return T()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=f;f=T;try{return U()}finally{f=M}},e.unstable_scheduleCallback=function(T,U,M){var Y=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,T){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=M+ee,T={id:d++,callback:U,priorityLevel:T,startTime:M,expirationTime:ee,sortIndex:-1},M>Y?(T.sortIndex=M,t(u,T),n(c)===null&&T===n(u)&&(p?(x(k),k=-1):p=!0,$(j,M-Y))):(T.sortIndex=ee,t(c,T),g||m||(g=!0,O(S))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var U=f;return function(){var M=f;f=U;try{return T.apply(this,arguments)}finally{f=M}}}})(v5);g5.exports=v5;var yQ=g5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bQ=y,zs=yQ;function Ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x5=new Set,np={};function bu(e,t){Qd(e,t),Qd(e+"Capture",t)}function Qd(e,t){for(np[e]=t,e=0;e<t.length;e++)x5.add(t[e])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aN=Object.prototype.hasOwnProperty,wQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nO={},rO={};function jQ(e){return aN.call(rO,e)?!0:aN.call(nO,e)?!1:wQ.test(e)?rO[e]=!0:(nO[e]=!0,!1)}function _Q(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NQ(e,t,n,r){if(t===null||typeof t>"u"||_Q(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xr(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new Xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new Xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new Xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new Xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new Xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new Xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new Xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new Xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new Xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ME=/[\-:]([a-z])/g;function DE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ME,DE);hr[t]=new Xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ME,DE);hr[t]=new Xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ME,DE);hr[t]=new Xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new Xr(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new Xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function IE(e,t,n,r){var a=hr.hasOwnProperty(t)?hr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NQ(t,n,a,r)&&(n=null),r||a===null?jQ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Po=bQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kv=Symbol.for("react.element"),Zu=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),RE=Symbol.for("react.strict_mode"),iN=Symbol.for("react.profiler"),y5=Symbol.for("react.provider"),b5=Symbol.for("react.context"),$E=Symbol.for("react.forward_ref"),oN=Symbol.for("react.suspense"),lN=Symbol.for("react.suspense_list"),LE=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),w5=Symbol.for("react.offscreen"),sO=Symbol.iterator;function Lf(e){return e===null||typeof e!="object"?null:(e=sO&&e[sO]||e["@@iterator"],typeof e=="function"?e:null)}var jn=Object.assign,zj;function mm(e){if(zj===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zj=t&&t[1]||""}return`
`+zj+e}var qj=!1;function Vj(e,t){if(!e||qj)return"";qj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mm(e):""}function SQ(e){switch(e.tag){case 5:return mm(e.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return e=Vj(e.type,!1),e;case 11:return e=Vj(e.type.render,!1),e;case 1:return e=Vj(e.type,!0),e;default:return""}}function cN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ed:return"Fragment";case Zu:return"Portal";case iN:return"Profiler";case RE:return"StrictMode";case oN:return"Suspense";case lN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b5:return(e.displayName||"Context")+".Consumer";case y5:return(e._context.displayName||"Context")+".Provider";case $E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case LE:return t=e.displayName||null,t!==null?t:cN(e.type)||"Memo";case Qo:t=e._payload,e=e._init;try{return cN(e(t))}catch{}}return null}function CQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cN(t);case 8:return t===RE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kQ(e){var t=j5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ev(e){e._valueTracker||(e._valueTracker=kQ(e))}function _5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function my(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uN(e,t){var n=t.checked;return jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function aO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N5(e,t){t=t.checked,t!=null&&IE(e,"checked",t,!1)}function dN(e,t){N5(e,t);var n=Dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hN(e,t.type,n):t.hasOwnProperty("defaultValue")&&hN(e,t.type,Dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hN(e,t,n){(t!=="number"||my(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pm=Array.isArray;function md(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oO(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ce(92));if(pm(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dl(n)}}function S5(e,t){var n=Dl(t.value),r=Dl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pv,k5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pv=Pv||document.createElement("div"),Pv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Em={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EQ=["Webkit","ms","Moz","O"];Object.keys(Em).forEach(function(e){EQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Em[t]=Em[e]})});function E5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Em.hasOwnProperty(e)&&Em[e]?(""+t).trim():t+"px"}function P5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=E5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var PQ=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pN(e,t){if(t){if(PQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ce(62))}}function gN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vN=null;function FE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xN=null,pd=null,gd=null;function cO(e){if(e=Sg(e)){if(typeof xN!="function")throw Error(Ce(280));var t=e.stateNode;t&&(t=k0(t),xN(e.stateNode,e.type,t))}}function A5(e){pd?gd?gd.push(e):gd=[e]:pd=e}function T5(){if(pd){var e=pd,t=gd;if(gd=pd=null,cO(e),t)for(e=0;e<t.length;e++)cO(t[e])}}function O5(e,t){return e(t)}function M5(){}var Wj=!1;function D5(e,t,n){if(Wj)return e(t,n);Wj=!0;try{return O5(e,t,n)}finally{Wj=!1,(pd!==null||gd!==null)&&(M5(),T5())}}function sp(e,t){var n=e.stateNode;if(n===null)return null;var r=k0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ce(231,t,typeof n));return n}var yN=!1;if(xo)try{var Ff={};Object.defineProperty(Ff,"passive",{get:function(){yN=!0}}),window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,Ff)}catch{yN=!1}function AQ(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Pm=!1,py=null,gy=!1,bN=null,TQ={onError:function(e){Pm=!0,py=e}};function OQ(e,t,n,r,a,i,o,l,c){Pm=!1,py=null,AQ.apply(TQ,arguments)}function MQ(e,t,n,r,a,i,o,l,c){if(OQ.apply(this,arguments),Pm){if(Pm){var u=py;Pm=!1,py=null}else throw Error(Ce(198));gy||(gy=!0,bN=u)}}function wu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function I5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uO(e){if(wu(e)!==e)throw Error(Ce(188))}function DQ(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(Ce(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return uO(a),e;if(i===r)return uO(a),t;i=i.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?e:t}function R5(e){return e=DQ(e),e!==null?$5(e):null}function $5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$5(e);if(t!==null)return t;e=e.sibling}return null}var L5=zs.unstable_scheduleCallback,dO=zs.unstable_cancelCallback,IQ=zs.unstable_shouldYield,RQ=zs.unstable_requestPaint,Pn=zs.unstable_now,$Q=zs.unstable_getCurrentPriorityLevel,BE=zs.unstable_ImmediatePriority,F5=zs.unstable_UserBlockingPriority,vy=zs.unstable_NormalPriority,LQ=zs.unstable_LowPriority,B5=zs.unstable_IdlePriority,_0=null,Ti=null;function FQ(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(_0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ga=Math.clz32?Math.clz32:zQ,BQ=Math.log,UQ=Math.LN2;function zQ(e){return e>>>=0,e===0?32:31-(BQ(e)/UQ|0)|0}var Av=64,Tv=4194304;function gm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xy(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=gm(l):(i&=o,i!==0&&(r=gm(i)))}else o=n&~a,o!==0?r=gm(o):i!==0&&(r=gm(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ga(t),a=1<<n,r|=e[n],t&=~a;return r}function qQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ga(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=qQ(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function wN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U5(){var e=Av;return Av<<=1,!(Av&4194240)&&(Av=64),e}function Hj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _g(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ga(t),e[t]=n}function WQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ga(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function UE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ga(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var zt=0;function z5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q5,zE,V5,W5,H5,jN=!1,Ov=[],wl=null,jl=null,_l=null,ap=new Map,ip=new Map,sl=[],HQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hO(e,t){switch(e){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":ap.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ip.delete(t.pointerId)}}function Bf(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Sg(t),t!==null&&zE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function GQ(e,t,n,r,a){switch(t){case"focusin":return wl=Bf(wl,e,t,n,r,a),!0;case"dragenter":return jl=Bf(jl,e,t,n,r,a),!0;case"mouseover":return _l=Bf(_l,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ap.set(i,Bf(ap.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ip.set(i,Bf(ip.get(i)||null,e,t,n,r,a)),!0}return!1}function G5(e){var t=_c(e.target);if(t!==null){var n=wu(t);if(n!==null){if(t=n.tag,t===13){if(t=I5(n),t!==null){e.blockedOn=t,H5(e.priority,function(){V5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_N(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vN=r,n.target.dispatchEvent(r),vN=null}else return t=Sg(n),t!==null&&zE(t),e.blockedOn=n,!1;t.shift()}return!0}function fO(e,t,n){Lx(e)&&n.delete(t)}function KQ(){jN=!1,wl!==null&&Lx(wl)&&(wl=null),jl!==null&&Lx(jl)&&(jl=null),_l!==null&&Lx(_l)&&(_l=null),ap.forEach(fO),ip.forEach(fO)}function Uf(e,t){e.blockedOn===t&&(e.blockedOn=null,jN||(jN=!0,zs.unstable_scheduleCallback(zs.unstable_NormalPriority,KQ)))}function op(e){function t(a){return Uf(a,e)}if(0<Ov.length){Uf(Ov[0],e);for(var n=1;n<Ov.length;n++){var r=Ov[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wl!==null&&Uf(wl,e),jl!==null&&Uf(jl,e),_l!==null&&Uf(_l,e),ap.forEach(t),ip.forEach(t),n=0;n<sl.length;n++)r=sl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sl.length&&(n=sl[0],n.blockedOn===null);)G5(n),n.blockedOn===null&&sl.shift()}var vd=Po.ReactCurrentBatchConfig,yy=!0;function YQ(e,t,n,r){var a=zt,i=vd.transition;vd.transition=null;try{zt=1,qE(e,t,n,r)}finally{zt=a,vd.transition=i}}function JQ(e,t,n,r){var a=zt,i=vd.transition;vd.transition=null;try{zt=4,qE(e,t,n,r)}finally{zt=a,vd.transition=i}}function qE(e,t,n,r){if(yy){var a=_N(e,t,n,r);if(a===null)n_(e,t,r,by,n),hO(e,r);else if(GQ(a,e,t,n,r))r.stopPropagation();else if(hO(e,r),t&4&&-1<HQ.indexOf(e)){for(;a!==null;){var i=Sg(a);if(i!==null&&q5(i),i=_N(e,t,n,r),i===null&&n_(e,t,r,by,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else n_(e,t,r,null,n)}}var by=null;function _N(e,t,n,r){if(by=null,e=FE(r),e=_c(e),e!==null)if(t=wu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=I5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return by=e,null}function K5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($Q()){case BE:return 1;case F5:return 4;case vy:case LQ:return 16;case B5:return 536870912;default:return 16}default:return 16}}var gl=null,VE=null,Fx=null;function Y5(){if(Fx)return Fx;var e,t=VE,n=t.length,r,a="value"in gl?gl.value:gl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Fx=a.slice(e,1<r?1-r:void 0)}function Bx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mv(){return!0}function mO(){return!1}function Gs(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mv:mO,this.isPropagationStopped=mO,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mv)},persist:function(){},isPersistent:Mv}),t}var Hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WE=Gs(Hh),Ng=jn({},Hh,{view:0,detail:0}),XQ=Gs(Ng),Gj,Kj,zf,N0=jn({},Ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zf&&(zf&&e.type==="mousemove"?(Gj=e.screenX-zf.screenX,Kj=e.screenY-zf.screenY):Kj=Gj=0,zf=e),Gj)},movementY:function(e){return"movementY"in e?e.movementY:Kj}}),pO=Gs(N0),QQ=jn({},N0,{dataTransfer:0}),ZQ=Gs(QQ),eZ=jn({},Ng,{relatedTarget:0}),Yj=Gs(eZ),tZ=jn({},Hh,{animationName:0,elapsedTime:0,pseudoElement:0}),nZ=Gs(tZ),rZ=jn({},Hh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sZ=Gs(rZ),aZ=jn({},Hh,{data:0}),gO=Gs(aZ),iZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lZ[e])?!!t[e]:!1}function HE(){return cZ}var uZ=jn({},Ng,{key:function(e){if(e.key){var t=iZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HE,charCode:function(e){return e.type==="keypress"?Bx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dZ=Gs(uZ),hZ=jn({},N0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vO=Gs(hZ),fZ=jn({},Ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HE}),mZ=Gs(fZ),pZ=jn({},Hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),gZ=Gs(pZ),vZ=jn({},N0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xZ=Gs(vZ),yZ=[9,13,27,32],GE=xo&&"CompositionEvent"in window,Am=null;xo&&"documentMode"in document&&(Am=document.documentMode);var bZ=xo&&"TextEvent"in window&&!Am,J5=xo&&(!GE||Am&&8<Am&&11>=Am),xO=" ",yO=!1;function X5(e,t){switch(e){case"keyup":return yZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var td=!1;function wZ(e,t){switch(e){case"compositionend":return Q5(t);case"keypress":return t.which!==32?null:(yO=!0,xO);case"textInput":return e=t.data,e===xO&&yO?null:e;default:return null}}function jZ(e,t){if(td)return e==="compositionend"||!GE&&X5(e,t)?(e=Y5(),Fx=VE=gl=null,td=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J5&&t.locale!=="ko"?null:t.data;default:return null}}var _Z={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_Z[e.type]:t==="textarea"}function Z5(e,t,n,r){A5(r),t=wy(t,"onChange"),0<t.length&&(n=new WE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tm=null,lp=null;function NZ(e){u6(e,0)}function S0(e){var t=sd(e);if(_5(t))return e}function SZ(e,t){if(e==="change")return t}var e6=!1;if(xo){var Jj;if(xo){var Xj="oninput"in document;if(!Xj){var wO=document.createElement("div");wO.setAttribute("oninput","return;"),Xj=typeof wO.oninput=="function"}Jj=Xj}else Jj=!1;e6=Jj&&(!document.documentMode||9<document.documentMode)}function jO(){Tm&&(Tm.detachEvent("onpropertychange",t6),lp=Tm=null)}function t6(e){if(e.propertyName==="value"&&S0(lp)){var t=[];Z5(t,lp,e,FE(e)),D5(NZ,t)}}function CZ(e,t,n){e==="focusin"?(jO(),Tm=t,lp=n,Tm.attachEvent("onpropertychange",t6)):e==="focusout"&&jO()}function kZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return S0(lp)}function EZ(e,t){if(e==="click")return S0(t)}function PZ(e,t){if(e==="input"||e==="change")return S0(t)}function AZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qa=typeof Object.is=="function"?Object.is:AZ;function cp(e,t){if(Qa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!aN.call(t,a)||!Qa(e[a],t[a]))return!1}return!0}function _O(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NO(e,t){var n=_O(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_O(n)}}function n6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r6(){for(var e=window,t=my();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=my(e.document)}return t}function KE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TZ(e){var t=r6(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&n6(n.ownerDocument.documentElement,n)){if(r!==null&&KE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=NO(n,i);var o=NO(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OZ=xo&&"documentMode"in document&&11>=document.documentMode,nd=null,NN=null,Om=null,SN=!1;function SO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;SN||nd==null||nd!==my(r)||(r=nd,"selectionStart"in r&&KE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Om&&cp(Om,r)||(Om=r,r=wy(NN,"onSelect"),0<r.length&&(t=new WE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nd)))}function Dv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rd={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},Qj={},s6={};xo&&(s6=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function C0(e){if(Qj[e])return Qj[e];if(!rd[e])return e;var t=rd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s6)return Qj[e]=t[n];return e}var a6=C0("animationend"),i6=C0("animationiteration"),o6=C0("animationstart"),l6=C0("transitionend"),c6=new Map,CO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(e,t){c6.set(e,t),bu(t,[e])}for(var Zj=0;Zj<CO.length;Zj++){var e_=CO[Zj],MZ=e_.toLowerCase(),DZ=e_[0].toUpperCase()+e_.slice(1);Hl(MZ,"on"+DZ)}Hl(a6,"onAnimationEnd");Hl(i6,"onAnimationIteration");Hl(o6,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(l6,"onTransitionEnd");Qd("onMouseEnter",["mouseout","mouseover"]);Qd("onMouseLeave",["mouseout","mouseover"]);Qd("onPointerEnter",["pointerout","pointerover"]);Qd("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(vm));function kO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,MQ(r,t,void 0,e),e.currentTarget=null}function u6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;kO(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;kO(a,l,u),i=c}}}if(gy)throw e=bN,gy=!1,bN=null,e}function dn(e,t){var n=t[AN];n===void 0&&(n=t[AN]=new Set);var r=e+"__bubble";n.has(r)||(d6(t,e,2,!1),n.add(r))}function t_(e,t,n){var r=0;t&&(r|=4),d6(n,e,r,t)}var Iv="_reactListening"+Math.random().toString(36).slice(2);function up(e){if(!e[Iv]){e[Iv]=!0,x5.forEach(function(n){n!=="selectionchange"&&(IZ.has(n)||t_(n,!1,e),t_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Iv]||(t[Iv]=!0,t_("selectionchange",!1,t))}}function d6(e,t,n,r){switch(K5(t)){case 1:var a=YQ;break;case 4:a=JQ;break;default:a=qE}n=a.bind(null,t,n,e),a=void 0,!yN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function n_(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_c(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}D5(function(){var u=i,d=FE(n),h=[];e:{var f=c6.get(e);if(f!==void 0){var m=WE,g=e;switch(e){case"keypress":if(Bx(n)===0)break e;case"keydown":case"keyup":m=dZ;break;case"focusin":g="focus",m=Yj;break;case"focusout":g="blur",m=Yj;break;case"beforeblur":case"afterblur":m=Yj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ZQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mZ;break;case a6:case i6:case o6:m=nZ;break;case l6:m=gZ;break;case"scroll":m=XQ;break;case"wheel":m=xZ;break;case"copy":case"cut":case"paste":m=sZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vO}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?f!==null?f+"Capture":null:f;p=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=sp(b,x),j!=null&&p.push(dp(b,j,w)))),v)break;b=b.return}0<p.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==vN&&(g=n.relatedTarget||n.fromElement)&&(_c(g)||g[yo]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?_c(g):null,g!==null&&(v=wu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=pO,j="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=vO,j="onPointerLeave",x="onPointerEnter",b="pointer"),v=m==null?f:sd(m),w=g==null?f:sd(g),f=new p(j,b+"leave",m,n,d),f.target=v,f.relatedTarget=w,j=null,_c(d)===u&&(p=new p(x,b+"enter",g,n,d),p.target=w,p.relatedTarget=v,j=p),v=j,m&&g)t:{for(p=m,x=g,b=0,w=p;w;w=Iu(w))b++;for(w=0,j=x;j;j=Iu(j))w++;for(;0<b-w;)p=Iu(p),b--;for(;0<w-b;)x=Iu(x),w--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=Iu(p),x=Iu(x)}p=null}else p=null;m!==null&&EO(h,f,m,p,!1),g!==null&&v!==null&&EO(h,v,g,p,!0)}}e:{if(f=u?sd(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=SZ;else if(bO(f))if(e6)S=PZ;else{S=kZ;var N=CZ}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=EZ);if(S&&(S=S(e,u))){Z5(h,S,n,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&hN(f,"number",f.value)}switch(N=u?sd(u):window,e){case"focusin":(bO(N)||N.contentEditable==="true")&&(nd=N,NN=u,Om=null);break;case"focusout":Om=NN=nd=null;break;case"mousedown":SN=!0;break;case"contextmenu":case"mouseup":case"dragend":SN=!1,SO(h,n,d);break;case"selectionchange":if(OZ)break;case"keydown":case"keyup":SO(h,n,d)}var C;if(GE)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else td?X5(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(J5&&n.locale!=="ko"&&(td||k!=="onCompositionStart"?k==="onCompositionEnd"&&td&&(C=Y5()):(gl=d,VE="value"in gl?gl.value:gl.textContent,td=!0)),N=wy(u,k),0<N.length&&(k=new gO(k,e,null,n,d),h.push({event:k,listeners:N}),C?k.data=C:(C=Q5(n),C!==null&&(k.data=C)))),(C=bZ?wZ(e,n):jZ(e,n))&&(u=wy(u,"onBeforeInput"),0<u.length&&(d=new gO("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}u6(h,t)})}function dp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wy(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=sp(e,n),i!=null&&r.unshift(dp(e,i,a)),i=sp(e,t),i!=null&&r.push(dp(e,i,a))),e=e.return}return r}function Iu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function EO(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=sp(n,i),c!=null&&o.unshift(dp(n,c,l))):a||(c=sp(n,i),c!=null&&o.push(dp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var RZ=/\r\n?/g,$Z=/\u0000|\uFFFD/g;function PO(e){return(typeof e=="string"?e:""+e).replace(RZ,`
`).replace($Z,"")}function Rv(e,t,n){if(t=PO(t),PO(e)!==t&&n)throw Error(Ce(425))}function jy(){}var CN=null,kN=null;function EN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PN=typeof setTimeout=="function"?setTimeout:void 0,LZ=typeof clearTimeout=="function"?clearTimeout:void 0,AO=typeof Promise=="function"?Promise:void 0,FZ=typeof queueMicrotask=="function"?queueMicrotask:typeof AO<"u"?function(e){return AO.resolve(null).then(e).catch(BZ)}:PN;function BZ(e){setTimeout(function(){throw e})}function r_(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),op(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);op(t)}function Nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gh=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Gh,hp="__reactProps$"+Gh,yo="__reactContainer$"+Gh,AN="__reactEvents$"+Gh,UZ="__reactListeners$"+Gh,zZ="__reactHandles$"+Gh;function _c(e){var t=e[Ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[Ci]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=TO(e);e!==null;){if(n=e[Ci])return n;e=TO(e)}return t}e=n,n=e.parentNode}return null}function Sg(e){return e=e[Ci]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ce(33))}function k0(e){return e[hp]||null}var TN=[],ad=-1;function Gl(e){return{current:e}}function mn(e){0>ad||(e.current=TN[ad],TN[ad]=null,ad--)}function an(e,t){ad++,TN[ad]=e.current,e.current=t}var Il={},Tr=Gl(Il),ls=Gl(!1),Xc=Il;function Zd(e,t){var n=e.type.contextTypes;if(!n)return Il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function cs(e){return e=e.childContextTypes,e!=null}function _y(){mn(ls),mn(Tr)}function OO(e,t,n){if(Tr.current!==Il)throw Error(Ce(168));an(Tr,t),an(ls,n)}function h6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ce(108,CQ(e)||"Unknown",a));return jn({},n,r)}function Ny(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Il,Xc=Tr.current,an(Tr,e),an(ls,ls.current),!0}function MO(e,t,n){var r=e.stateNode;if(!r)throw Error(Ce(169));n?(e=h6(e,t,Xc),r.__reactInternalMemoizedMergedChildContext=e,mn(ls),mn(Tr),an(Tr,e)):mn(ls),an(ls,n)}var no=null,E0=!1,s_=!1;function f6(e){no===null?no=[e]:no.push(e)}function qZ(e){E0=!0,f6(e)}function Kl(){if(!s_&&no!==null){s_=!0;var e=0,t=zt;try{var n=no;for(zt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}no=null,E0=!1}catch(a){throw no!==null&&(no=no.slice(e+1)),L5(BE,Kl),a}finally{zt=t,s_=!1}}return null}var id=[],od=0,Sy=null,Cy=0,sa=[],aa=0,Qc=null,ro=1,so="";function mc(e,t){id[od++]=Cy,id[od++]=Sy,Sy=e,Cy=t}function m6(e,t,n){sa[aa++]=ro,sa[aa++]=so,sa[aa++]=Qc,Qc=e;var r=ro;e=so;var a=32-Ga(r)-1;r&=~(1<<a),n+=1;var i=32-Ga(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ro=1<<32-Ga(t)+a|n<<a|r,so=i+e}else ro=1<<i|n<<a|r,so=e}function YE(e){e.return!==null&&(mc(e,1),m6(e,1,0))}function JE(e){for(;e===Sy;)Sy=id[--od],id[od]=null,Cy=id[--od],id[od]=null;for(;e===Qc;)Qc=sa[--aa],sa[aa]=null,so=sa[--aa],sa[aa]=null,ro=sa[--aa],sa[aa]=null}var Fs=null,Rs=null,pn=!1,Ua=null;function p6(e,t){var n=la(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function DO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fs=e,Rs=Nl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fs=e,Rs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qc!==null?{id:ro,overflow:so}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=la(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fs=e,Rs=null,!0):!1;default:return!1}}function ON(e){return(e.mode&1)!==0&&(e.flags&128)===0}function MN(e){if(pn){var t=Rs;if(t){var n=t;if(!DO(e,t)){if(ON(e))throw Error(Ce(418));t=Nl(n.nextSibling);var r=Fs;t&&DO(e,t)?p6(r,n):(e.flags=e.flags&-4097|2,pn=!1,Fs=e)}}else{if(ON(e))throw Error(Ce(418));e.flags=e.flags&-4097|2,pn=!1,Fs=e}}}function IO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fs=e}function $v(e){if(e!==Fs)return!1;if(!pn)return IO(e),pn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!EN(e.type,e.memoizedProps)),t&&(t=Rs)){if(ON(e))throw g6(),Error(Ce(418));for(;t;)p6(e,t),t=Nl(t.nextSibling)}if(IO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rs=Nl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rs=null}}else Rs=Fs?Nl(e.stateNode.nextSibling):null;return!0}function g6(){for(var e=Rs;e;)e=Nl(e.nextSibling)}function eh(){Rs=Fs=null,pn=!1}function XE(e){Ua===null?Ua=[e]:Ua.push(e)}var VZ=Po.ReactCurrentBatchConfig;function qf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,e))}return e}function Lv(e,t){throw e=Object.prototype.toString.call(t),Error(Ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RO(e){var t=e._init;return t(e._payload)}function v6(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=El(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,j){return b===null||b.tag!==6?(b=d_(w,x.mode,j),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,j){var S=w.type;return S===ed?d(x,b,w.props.children,j,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qo&&RO(S)===b.type)?(j=a(b,w.props),j.ref=qf(x,b,w),j.return=x,j):(j=Gx(w.type,w.key,w.props,null,x.mode,j),j.ref=qf(x,b,w),j.return=x,j)}function u(x,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=h_(w,x.mode,j),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function d(x,b,w,j,S){return b===null||b.tag!==7?(b=qc(w,x.mode,j,S),b.return=x,b):(b=a(b,w),b.return=x,b)}function h(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=d_(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kv:return w=Gx(b.type,b.key,b.props,null,x.mode,w),w.ref=qf(x,null,b),w.return=x,w;case Zu:return b=h_(b,x.mode,w),b.return=x,b;case Qo:var j=b._init;return h(x,j(b._payload),w)}if(pm(b)||Lf(b))return b=qc(b,x.mode,w,null),b.return=x,b;Lv(x,b)}return null}function f(x,b,w,j){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kv:return w.key===S?c(x,b,w,j):null;case Zu:return w.key===S?u(x,b,w,j):null;case Qo:return S=w._init,f(x,b,S(w._payload),j)}if(pm(w)||Lf(w))return S!==null?null:d(x,b,w,j,null);Lv(x,w)}return null}function m(x,b,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(b,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case kv:return x=x.get(j.key===null?w:j.key)||null,c(b,x,j,S);case Zu:return x=x.get(j.key===null?w:j.key)||null,u(b,x,j,S);case Qo:var N=j._init;return m(x,b,w,N(j._payload),S)}if(pm(j)||Lf(j))return x=x.get(w)||null,d(b,x,j,S,null);Lv(b,j)}return null}function g(x,b,w,j){for(var S=null,N=null,C=b,k=b=0,D=null;C!==null&&k<w.length;k++){C.index>k?(D=C,C=null):D=C.sibling;var R=f(x,C,w[k],j);if(R===null){C===null&&(C=D);break}e&&C&&R.alternate===null&&t(x,C),b=i(R,b,k),N===null?S=R:N.sibling=R,N=R,C=D}if(k===w.length)return n(x,C),pn&&mc(x,k),S;if(C===null){for(;k<w.length;k++)C=h(x,w[k],j),C!==null&&(b=i(C,b,k),N===null?S=C:N.sibling=C,N=C);return pn&&mc(x,k),S}for(C=r(x,C);k<w.length;k++)D=m(C,x,k,w[k],j),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?k:D.key),b=i(D,b,k),N===null?S=D:N.sibling=D,N=D);return e&&C.forEach(function(E){return t(x,E)}),pn&&mc(x,k),S}function p(x,b,w,j){var S=Lf(w);if(typeof S!="function")throw Error(Ce(150));if(w=S.call(w),w==null)throw Error(Ce(151));for(var N=S=null,C=b,k=b=0,D=null,R=w.next();C!==null&&!R.done;k++,R=w.next()){C.index>k?(D=C,C=null):D=C.sibling;var E=f(x,C,R.value,j);if(E===null){C===null&&(C=D);break}e&&C&&E.alternate===null&&t(x,C),b=i(E,b,k),N===null?S=E:N.sibling=E,N=E,C=D}if(R.done)return n(x,C),pn&&mc(x,k),S;if(C===null){for(;!R.done;k++,R=w.next())R=h(x,R.value,j),R!==null&&(b=i(R,b,k),N===null?S=R:N.sibling=R,N=R);return pn&&mc(x,k),S}for(C=r(x,C);!R.done;k++,R=w.next())R=m(C,x,k,R.value,j),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?k:R.key),b=i(R,b,k),N===null?S=R:N.sibling=R,N=R);return e&&C.forEach(function(B){return t(x,B)}),pn&&mc(x,k),S}function v(x,b,w,j){if(typeof w=="object"&&w!==null&&w.type===ed&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kv:e:{for(var S=w.key,N=b;N!==null;){if(N.key===S){if(S=w.type,S===ed){if(N.tag===7){n(x,N.sibling),b=a(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qo&&RO(S)===N.type){n(x,N.sibling),b=a(N,w.props),b.ref=qf(x,N,w),b.return=x,x=b;break e}n(x,N);break}else t(x,N);N=N.sibling}w.type===ed?(b=qc(w.props.children,x.mode,j,w.key),b.return=x,x=b):(j=Gx(w.type,w.key,w.props,null,x.mode,j),j.ref=qf(x,b,w),j.return=x,x=j)}return o(x);case Zu:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=h_(w,x.mode,j),b.return=x,x=b}return o(x);case Qo:return N=w._init,v(x,b,N(w._payload),j)}if(pm(w))return g(x,b,w,j);if(Lf(w))return p(x,b,w,j);Lv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=a(b,w),b.return=x,x=b):(n(x,b),b=d_(w,x.mode,j),b.return=x,x=b),o(x)):n(x,b)}return v}var th=v6(!0),x6=v6(!1),ky=Gl(null),Ey=null,ld=null,QE=null;function ZE(){QE=ld=Ey=null}function eP(e){var t=ky.current;mn(ky),e._currentValue=t}function DN(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xd(e,t){Ey=e,QE=ld=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(is=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(QE!==e)if(e={context:e,memoizedValue:t,next:null},ld===null){if(Ey===null)throw Error(Ce(308));ld=e,Ey.dependencies={lanes:0,firstContext:e}}else ld=ld.next=e;return t}var Nc=null;function tP(e){Nc===null?Nc=[e]:Nc.push(e)}function y6(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,tP(t)):(n.next=a.next,a.next=n),t.interleaved=n,bo(e,r)}function bo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zo=!1;function nP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,bo(e,n)}return a=r.interleaved,a===null?(t.next=t,tP(r)):(t.next=a.next,a.next=t),r.interleaved=t,bo(e,n)}function Ux(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,UE(e,n)}}function $O(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Py(e,t,n,r){var a=e.updateQueue;Zo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=jn({},h,f);break e;case 2:Zo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);eu|=o,e.lanes=o,e.memoizedState=h}}function LO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ce(191,a));a.call(r)}}}var Cg={},Oi=Gl(Cg),fp=Gl(Cg),mp=Gl(Cg);function Sc(e){if(e===Cg)throw Error(Ce(174));return e}function rP(e,t){switch(an(mp,t),an(fp,e),an(Oi,Cg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mN(t,e)}mn(Oi),an(Oi,t)}function nh(){mn(Oi),mn(fp),mn(mp)}function w6(e){Sc(mp.current);var t=Sc(Oi.current),n=mN(t,e.type);t!==n&&(an(fp,e),an(Oi,n))}function sP(e){fp.current===e&&(mn(Oi),mn(fp))}var xn=Gl(0);function Ay(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var a_=[];function aP(){for(var e=0;e<a_.length;e++)a_[e]._workInProgressVersionPrimary=null;a_.length=0}var zx=Po.ReactCurrentDispatcher,i_=Po.ReactCurrentBatchConfig,Zc=0,bn=null,Fn=null,Gn=null,Ty=!1,Mm=!1,pp=0,WZ=0;function vr(){throw Error(Ce(321))}function iP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qa(e[n],t[n]))return!1;return!0}function oP(e,t,n,r,a,i){if(Zc=i,bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zx.current=e===null||e.memoizedState===null?YZ:JZ,e=n(r,a),Mm){i=0;do{if(Mm=!1,pp=0,25<=i)throw Error(Ce(301));i+=1,Gn=Fn=null,t.updateQueue=null,zx.current=XZ,e=n(r,a)}while(Mm)}if(zx.current=Oy,t=Fn!==null&&Fn.next!==null,Zc=0,Gn=Fn=bn=null,Ty=!1,t)throw Error(Ce(300));return e}function lP(){var e=pp!==0;return pp=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?bn.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function ya(){if(Fn===null){var e=bn.alternate;e=e!==null?e.memoizedState:null}else e=Fn.next;var t=Gn===null?bn.memoizedState:Gn.next;if(t!==null)Gn=t,Fn=e;else{if(e===null)throw Error(Ce(310));Fn=e,e={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Gn===null?bn.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function gp(e,t){return typeof t=="function"?t(e):t}function o_(e){var t=ya(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=Fn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Zc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,bn.lanes|=d,eu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Qa(r,t.memoizedState)||(is=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,bn.lanes|=i,eu|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function l_(e){var t=ya(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Qa(i,t.memoizedState)||(is=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function j6(){}function _6(e,t){var n=bn,r=ya(),a=t(),i=!Qa(r.memoizedState,a);if(i&&(r.memoizedState=a,is=!0),r=r.queue,cP(C6.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,vp(9,S6.bind(null,n,r,a,t),void 0,null),Jn===null)throw Error(Ce(349));Zc&30||N6(n,t,a)}return a}function N6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bn.updateQueue,t===null?(t={lastEffect:null,stores:null},bn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function S6(e,t,n,r){t.value=n,t.getSnapshot=r,k6(t)&&E6(e)}function C6(e,t,n){return n(function(){k6(t)&&E6(e)})}function k6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qa(e,n)}catch{return!0}}function E6(e){var t=bo(e,1);t!==null&&Ka(t,e,1,-1)}function FO(e){var t=vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:e},t.queue=e,e=e.dispatch=KZ.bind(null,bn,e),[t.memoizedState,e]}function vp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bn.updateQueue,t===null?(t={lastEffect:null,stores:null},bn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function P6(){return ya().memoizedState}function qx(e,t,n,r){var a=vi();bn.flags|=e,a.memoizedState=vp(1|t,n,void 0,r===void 0?null:r)}function P0(e,t,n,r){var a=ya();r=r===void 0?null:r;var i=void 0;if(Fn!==null){var o=Fn.memoizedState;if(i=o.destroy,r!==null&&iP(r,o.deps)){a.memoizedState=vp(t,n,i,r);return}}bn.flags|=e,a.memoizedState=vp(1|t,n,i,r)}function BO(e,t){return qx(8390656,8,e,t)}function cP(e,t){return P0(2048,8,e,t)}function A6(e,t){return P0(4,2,e,t)}function T6(e,t){return P0(4,4,e,t)}function O6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M6(e,t,n){return n=n!=null?n.concat([e]):null,P0(4,4,O6.bind(null,t,e),n)}function uP(){}function D6(e,t){var n=ya();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function I6(e,t){var n=ya();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function R6(e,t,n){return Zc&21?(Qa(n,t)||(n=U5(),bn.lanes|=n,eu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,is=!0),e.memoizedState=n)}function HZ(e,t){var n=zt;zt=n!==0&&4>n?n:4,e(!0);var r=i_.transition;i_.transition={};try{e(!1),t()}finally{zt=n,i_.transition=r}}function $6(){return ya().memoizedState}function GZ(e,t,n){var r=kl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L6(e))F6(t,n);else if(n=y6(e,t,n,r),n!==null){var a=Kr();Ka(n,e,r,a),B6(n,t,r)}}function KZ(e,t,n){var r=kl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L6(e))F6(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Qa(l,o)){var c=t.interleaved;c===null?(a.next=a,tP(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=y6(e,t,a,r),n!==null&&(a=Kr(),Ka(n,e,r,a),B6(n,t,r))}}function L6(e){var t=e.alternate;return e===bn||t!==null&&t===bn}function F6(e,t){Mm=Ty=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function B6(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,UE(e,n)}}var Oy={readContext:xa,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},YZ={readContext:xa,useCallback:function(e,t){return vi().memoizedState=[e,t===void 0?null:t],e},useContext:xa,useEffect:BO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qx(4194308,4,O6.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qx(4194308,4,e,t)},useInsertionEffect:function(e,t){return qx(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=GZ.bind(null,bn,e),[r.memoizedState,e]},useRef:function(e){var t=vi();return e={current:e},t.memoizedState=e},useState:FO,useDebugValue:uP,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=FO(!1),t=e[0];return e=HZ.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bn,a=vi();if(pn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=t(),Jn===null)throw Error(Ce(349));Zc&30||N6(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,BO(C6.bind(null,r,i,e),[e]),r.flags|=2048,vp(9,S6.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Jn.identifierPrefix;if(pn){var n=so,r=ro;n=(r&~(1<<32-Ga(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WZ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JZ={readContext:xa,useCallback:D6,useContext:xa,useEffect:cP,useImperativeHandle:M6,useInsertionEffect:A6,useLayoutEffect:T6,useMemo:I6,useReducer:o_,useRef:P6,useState:function(){return o_(gp)},useDebugValue:uP,useDeferredValue:function(e){var t=ya();return R6(t,Fn.memoizedState,e)},useTransition:function(){var e=o_(gp)[0],t=ya().memoizedState;return[e,t]},useMutableSource:j6,useSyncExternalStore:_6,useId:$6,unstable_isNewReconciler:!1},XZ={readContext:xa,useCallback:D6,useContext:xa,useEffect:cP,useImperativeHandle:M6,useInsertionEffect:A6,useLayoutEffect:T6,useMemo:I6,useReducer:l_,useRef:P6,useState:function(){return l_(gp)},useDebugValue:uP,useDeferredValue:function(e){var t=ya();return Fn===null?t.memoizedState=e:R6(t,Fn.memoizedState,e)},useTransition:function(){var e=l_(gp)[0],t=ya().memoizedState;return[e,t]},useMutableSource:j6,useSyncExternalStore:_6,useId:$6,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=jn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function IN(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var A0={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kr(),a=kl(e),i=uo(r,a);i.payload=t,n!=null&&(i.callback=n),t=Sl(e,i,a),t!==null&&(Ka(t,e,a,r),Ux(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kr(),a=kl(e),i=uo(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Sl(e,i,a),t!==null&&(Ka(t,e,a,r),Ux(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kr(),r=kl(e),a=uo(n,r);a.tag=2,t!=null&&(a.callback=t),t=Sl(e,a,r),t!==null&&(Ka(t,e,r,n),Ux(t,e,r))}};function UO(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!cp(n,r)||!cp(a,i):!0}function U6(e,t,n){var r=!1,a=Il,i=t.contextType;return typeof i=="object"&&i!==null?i=xa(i):(a=cs(t)?Xc:Tr.current,r=t.contextTypes,i=(r=r!=null)?Zd(e,a):Il),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=A0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function zO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&A0.enqueueReplaceState(t,t.state,null)}function RN(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},nP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xa(i):(i=cs(t)?Xc:Tr.current,a.context=Zd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(IN(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&A0.enqueueReplaceState(a,a.state,null),Py(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rh(e,t){try{var n="",r=t;do n+=SQ(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function c_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $N(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var QZ=typeof WeakMap=="function"?WeakMap:Map;function z6(e,t,n){n=uo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dy||(Dy=!0,GN=r),$N(e,t)},n}function q6(e,t,n){n=uo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){$N(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$N(e,t),typeof r!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function qO(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new QZ;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=hee.bind(null,e,t,n),t.then(e,e))}function VO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function WO(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=uo(-1,1),t.tag=2,Sl(n,t,1))),n.lanes|=1),e)}var ZZ=Po.ReactCurrentOwner,is=!1;function zr(e,t,n,r){t.child=e===null?x6(t,null,n,r):th(t,e.child,n,r)}function HO(e,t,n,r,a){n=n.render;var i=t.ref;return xd(t,a),r=oP(e,t,n,r,i,a),n=lP(),e!==null&&!is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wo(e,t,a)):(pn&&n&&YE(t),t.flags|=1,zr(e,t,r,a),t.child)}function GO(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!xP(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,V6(e,t,i,r,a)):(e=Gx(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:cp,n(o,r)&&e.ref===t.ref)return wo(e,t,a)}return t.flags|=1,e=El(i,r),e.ref=t.ref,e.return=t,t.child=e}function V6(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(cp(i,r)&&e.ref===t.ref)if(is=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(is=!0);else return t.lanes=e.lanes,wo(e,t,a)}return LN(e,t,n,r,a)}function W6(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(ud,Ts),Ts|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,an(ud,Ts),Ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,an(ud,Ts),Ts|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,an(ud,Ts),Ts|=r;return zr(e,t,a,n),t.child}function H6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function LN(e,t,n,r,a){var i=cs(n)?Xc:Tr.current;return i=Zd(t,i),xd(t,a),n=oP(e,t,n,r,i,a),r=lP(),e!==null&&!is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,wo(e,t,a)):(pn&&r&&YE(t),t.flags|=1,zr(e,t,n,a),t.child)}function KO(e,t,n,r,a){if(cs(n)){var i=!0;Ny(t)}else i=!1;if(xd(t,a),t.stateNode===null)Vx(e,t),U6(t,n,r),RN(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xa(u):(u=cs(n)?Xc:Tr.current,u=Zd(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&zO(t,o,r,u),Zo=!1;var f=t.memoizedState;o.state=f,Py(t,r,o,a),c=t.memoizedState,l!==r||f!==c||ls.current||Zo?(typeof d=="function"&&(IN(t,n,d,r),c=t.memoizedState),(l=Zo||UO(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,b6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Da(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xa(c):(c=cs(n)?Xc:Tr.current,c=Zd(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&zO(t,o,r,c),Zo=!1,f=t.memoizedState,o.state=f,Py(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||ls.current||Zo?(typeof m=="function"&&(IN(t,n,m,r),g=t.memoizedState),(u=Zo||UO(t,n,u,r,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return FN(e,t,n,r,i,a)}function FN(e,t,n,r,a,i){H6(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&MO(t,n,!1),wo(e,t,i);r=t.stateNode,ZZ.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=th(t,e.child,null,i),t.child=th(t,null,l,i)):zr(e,t,l,i),t.memoizedState=r.state,a&&MO(t,n,!0),t.child}function G6(e){var t=e.stateNode;t.pendingContext?OO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OO(e,t.context,!1),rP(e,t.containerInfo)}function YO(e,t,n,r,a){return eh(),XE(a),t.flags|=256,zr(e,t,n,r),t.child}var BN={dehydrated:null,treeContext:null,retryLane:0};function UN(e){return{baseLanes:e,cachePool:null,transitions:null}}function K6(e,t,n){var r=t.pendingProps,a=xn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),an(xn,a&1),e===null)return MN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=M0(o,r,0,null),e=qc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=UN(n),t.memoizedState=BN,e):dP(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return eee(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=El(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=El(l,i):(i=qc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?UN(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=BN,r}return i=e.child,e=i.sibling,r=El(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dP(e,t){return t=M0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fv(e,t,n,r){return r!==null&&XE(r),th(t,e.child,null,n),e=dP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eee(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=c_(Error(Ce(422))),Fv(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=M0({mode:"visible",children:r.children},a,0,null),i=qc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&th(t,e.child,null,o),t.child.memoizedState=UN(o),t.memoizedState=BN,i);if(!(t.mode&1))return Fv(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Ce(419)),r=c_(i,r,void 0),Fv(e,t,o,r)}if(l=(o&e.childLanes)!==0,is||l){if(r=Jn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,bo(e,a),Ka(r,e,a,-1))}return vP(),r=c_(Error(Ce(421))),Fv(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fee.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Rs=Nl(a.nextSibling),Fs=t,pn=!0,Ua=null,e!==null&&(sa[aa++]=ro,sa[aa++]=so,sa[aa++]=Qc,ro=e.id,so=e.overflow,Qc=t),t=dP(t,r.children),t.flags|=4096,t)}function JO(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),DN(e.return,t,n)}function u_(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Y6(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(zr(e,t,r.children,n),r=xn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&JO(e,n,t);else if(e.tag===19)JO(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(an(xn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ay(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),u_(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ay(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}u_(t,!0,n,null,i);break;case"together":u_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),eu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ce(153));if(t.child!==null){for(e=t.child,n=El(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=El(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tee(e,t,n){switch(t.tag){case 3:G6(t),eh();break;case 5:w6(t);break;case 1:cs(t.type)&&Ny(t);break;case 4:rP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;an(ky,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(an(xn,xn.current&1),t.flags|=128,null):n&t.child.childLanes?K6(e,t,n):(an(xn,xn.current&1),e=wo(e,t,n),e!==null?e.sibling:null);an(xn,xn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Y6(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),an(xn,xn.current),r)break;return null;case 22:case 23:return t.lanes=0,W6(e,t,n)}return wo(e,t,n)}var J6,zN,X6,Q6;J6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zN=function(){};X6=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Sc(Oi.current);var i=null;switch(n){case"input":a=uN(e,a),r=uN(e,r),i=[];break;case"select":a=jn({},a,{value:void 0}),r=jn({},r,{value:void 0}),i=[];break;case"textarea":a=fN(e,a),r=fN(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jy)}pN(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(np.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(np.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&dn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Q6=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vf(e,t){if(!pn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nee(e,t,n){var r=t.pendingProps;switch(JE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return cs(t.type)&&_y(),xr(t),null;case 3:return r=t.stateNode,nh(),mn(ls),mn(Tr),aP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($v(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ua!==null&&(JN(Ua),Ua=null))),zN(e,t),xr(t),null;case 5:sP(t);var a=Sc(mp.current);if(n=t.type,e!==null&&t.stateNode!=null)X6(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ce(166));return xr(t),null}if(e=Sc(Oi.current),$v(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ci]=t,r[hp]=i,e=(t.mode&1)!==0,n){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(a=0;a<vm.length;a++)dn(vm[a],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":aO(r,i),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},dn("invalid",r);break;case"textarea":oO(r,i),dn("invalid",r)}pN(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rv(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rv(r.textContent,l,e),a=["children",""+l]):np.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&dn("scroll",r)}switch(n){case"input":Ev(r),iO(r,i,!0);break;case"textarea":Ev(r),lO(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jy)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ci]=t,e[hp]=r,J6(e,t,!1,!1),t.stateNode=e;e:{switch(o=gN(n,r),n){case"dialog":dn("cancel",e),dn("close",e),a=r;break;case"iframe":case"object":case"embed":dn("load",e),a=r;break;case"video":case"audio":for(a=0;a<vm.length;a++)dn(vm[a],e);a=r;break;case"source":dn("error",e),a=r;break;case"img":case"image":case"link":dn("error",e),dn("load",e),a=r;break;case"details":dn("toggle",e),a=r;break;case"input":aO(e,r),a=uN(e,r),dn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=jn({},r,{value:void 0}),dn("invalid",e);break;case"textarea":oO(e,r),a=fN(e,r),dn("invalid",e);break;default:a=r}pN(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?P5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k5(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&rp(e,c):typeof c=="number"&&rp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(np.hasOwnProperty(i)?c!=null&&i==="onScroll"&&dn("scroll",e):c!=null&&IE(e,i,c,o))}switch(n){case"input":Ev(e),iO(e,r,!1);break;case"textarea":Ev(e),lO(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?md(e,!!r.multiple,i,!1):r.defaultValue!=null&&md(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=jy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)Q6(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ce(166));if(n=Sc(mp.current),Sc(Oi.current),$v(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ci]=t,(i=r.nodeValue!==n)&&(e=Fs,e!==null))switch(e.tag){case 3:Rv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rv(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ci]=t,t.stateNode=r}return xr(t),null;case 13:if(mn(xn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pn&&Rs!==null&&t.mode&1&&!(t.flags&128))g6(),eh(),t.flags|=98560,i=!1;else if(i=$v(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));i[Ci]=t}else eh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),i=!1}else Ua!==null&&(JN(Ua),Ua=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xn.current&1?Un===0&&(Un=3):vP())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return nh(),zN(e,t),e===null&&up(t.stateNode.containerInfo),xr(t),null;case 10:return eP(t.type._context),xr(t),null;case 17:return cs(t.type)&&_y(),xr(t),null;case 19:if(mn(xn),i=t.memoizedState,i===null)return xr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Vf(i,!1);else{if(Un!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ay(e),o!==null){for(t.flags|=128,Vf(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return an(xn,xn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pn()>sh&&(t.flags|=128,r=!0,Vf(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ay(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pn)return xr(t),null}else 2*Pn()-i.renderingStartTime>sh&&n!==1073741824&&(t.flags|=128,r=!0,Vf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pn(),t.sibling=null,n=xn.current,an(xn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return gP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ts&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(Ce(156,t.tag))}function ree(e,t){switch(JE(t),t.tag){case 1:return cs(t.type)&&_y(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nh(),mn(ls),mn(Tr),aP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sP(t),null;case 13:if(mn(xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ce(340));eh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mn(xn),null;case 4:return nh(),null;case 10:return eP(t.type._context),null;case 22:case 23:return gP(),null;case 24:return null;default:return null}}var Bv=!1,Nr=!1,see=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function cd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(e,t,r)}else n.current=null}function qN(e,t,n){try{n()}catch(r){Nn(e,t,r)}}var XO=!1;function aee(e,t){if(CN=yy,e=r6(),KE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kN={focusedElem:e,selectionRange:n},yy=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:Da(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(j){Nn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return g=XO,XO=!1,g}function Dm(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&qN(t,n,i)}a=a.next}while(a!==r)}}function T0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function VN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Z6(e){var t=e.alternate;t!==null&&(e.alternate=null,Z6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ci],delete t[hp],delete t[AN],delete t[UZ],delete t[zZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eB(e){return e.tag===5||e.tag===3||e.tag===4}function QO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function WN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jy));else if(r!==4&&(e=e.child,e!==null))for(WN(e,t,n),e=e.sibling;e!==null;)WN(e,t,n),e=e.sibling}function HN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(HN(e,t,n),e=e.sibling;e!==null;)HN(e,t,n),e=e.sibling}var ir=null,Ra=!1;function Fo(e,t,n){for(n=n.child;n!==null;)tB(e,t,n),n=n.sibling}function tB(e,t,n){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(_0,n)}catch{}switch(n.tag){case 5:Nr||cd(n,t);case 6:var r=ir,a=Ra;ir=null,Fo(e,t,n),ir=r,Ra=a,ir!==null&&(Ra?(e=ir,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ir.removeChild(n.stateNode));break;case 18:ir!==null&&(Ra?(e=ir,n=n.stateNode,e.nodeType===8?r_(e.parentNode,n):e.nodeType===1&&r_(e,n),op(e)):r_(ir,n.stateNode));break;case 4:r=ir,a=Ra,ir=n.stateNode.containerInfo,Ra=!0,Fo(e,t,n),ir=r,Ra=a;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qN(n,t,o),a=a.next}while(a!==r)}Fo(e,t,n);break;case 1:if(!Nr&&(cd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Nn(n,t,l)}Fo(e,t,n);break;case 21:Fo(e,t,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,Fo(e,t,n),Nr=r):Fo(e,t,n);break;default:Fo(e,t,n)}}function ZO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new see),t.forEach(function(r){var a=mee.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ea(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ir=l.stateNode,Ra=!1;break e;case 3:ir=l.stateNode.containerInfo,Ra=!0;break e;case 4:ir=l.stateNode.containerInfo,Ra=!0;break e}l=l.return}if(ir===null)throw Error(Ce(160));tB(i,o,a),ir=null,Ra=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Nn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nB(t,e),t=t.sibling}function nB(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ea(t,e),pi(e),r&4){try{Dm(3,e,e.return),T0(3,e)}catch(p){Nn(e,e.return,p)}try{Dm(5,e,e.return)}catch(p){Nn(e,e.return,p)}}break;case 1:Ea(t,e),pi(e),r&512&&n!==null&&cd(n,n.return);break;case 5:if(Ea(t,e),pi(e),r&512&&n!==null&&cd(n,n.return),e.flags&32){var a=e.stateNode;try{rp(a,"")}catch(p){Nn(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&N5(a,i),gN(l,o);var u=gN(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?P5(a,h):d==="dangerouslySetInnerHTML"?k5(a,h):d==="children"?rp(a,h):IE(a,d,h,u)}switch(l){case"input":dN(a,i);break;case"textarea":S5(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?md(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?md(a,!!i.multiple,i.defaultValue,!0):md(a,!!i.multiple,i.multiple?[]:"",!1))}a[hp]=i}catch(p){Nn(e,e.return,p)}}break;case 6:if(Ea(t,e),pi(e),r&4){if(e.stateNode===null)throw Error(Ce(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Nn(e,e.return,p)}}break;case 3:if(Ea(t,e),pi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{op(t.containerInfo)}catch(p){Nn(e,e.return,p)}break;case 4:Ea(t,e),pi(e);break;case 13:Ea(t,e),pi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(mP=Pn())),r&4&&ZO(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Nr=(u=Nr)||d,Ea(t,e),Nr=u):Ea(t,e),pi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(h=Ie=d;Ie!==null;){switch(f=Ie,m=f.child,f.tag){case 0:case 11:case 14:case 15:Dm(4,f,f.return);break;case 1:cd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Nn(r,n,p)}}break;case 5:cd(f,f.return);break;case 22:if(f.memoizedState!==null){tM(h);continue}}m!==null?(m.return=f,Ie=m):tM(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=E5("display",o))}catch(p){Nn(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Nn(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ea(t,e),pi(e),r&4&&ZO(e);break;case 21:break;default:Ea(t,e),pi(e)}}function pi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(eB(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(rp(a,""),r.flags&=-33);var i=QO(e);HN(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=QO(e);WN(e,l,o);break;default:throw Error(Ce(161))}}catch(c){Nn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iee(e,t,n){Ie=e,rB(e)}function rB(e,t,n){for(var r=(e.mode&1)!==0;Ie!==null;){var a=Ie,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Bv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Nr;l=Bv;var u=Nr;if(Bv=o,(Nr=c)&&!u)for(Ie=a;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?nM(a):c!==null?(c.return=o,Ie=c):nM(a);for(;i!==null;)Ie=i,rB(i),i=i.sibling;Ie=a,Bv=l,Nr=u}eM(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ie=i):eM(e)}}function eM(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nr||T0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Da(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&LO(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}LO(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&op(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Nr||t.flags&512&&VN(t)}catch(f){Nn(t,t.return,f)}}if(t===e){Ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function tM(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function nM(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{T0(4,t)}catch(c){Nn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Nn(t,a,c)}}var i=t.return;try{VN(t)}catch(c){Nn(t,i,c)}break;case 5:var o=t.return;try{VN(t)}catch(c){Nn(t,o,c)}}}catch(c){Nn(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var oee=Math.ceil,My=Po.ReactCurrentDispatcher,hP=Po.ReactCurrentOwner,ha=Po.ReactCurrentBatchConfig,Tt=0,Jn=null,In=null,cr=0,Ts=0,ud=Gl(0),Un=0,xp=null,eu=0,O0=0,fP=0,Im=null,ss=null,mP=0,sh=1/0,Qi=null,Dy=!1,GN=null,Cl=null,Uv=!1,vl=null,Iy=0,Rm=0,KN=null,Wx=-1,Hx=0;function Kr(){return Tt&6?Pn():Wx!==-1?Wx:Wx=Pn()}function kl(e){return e.mode&1?Tt&2&&cr!==0?cr&-cr:VZ.transition!==null?(Hx===0&&(Hx=U5()),Hx):(e=zt,e!==0||(e=window.event,e=e===void 0?16:K5(e.type)),e):1}function Ka(e,t,n,r){if(50<Rm)throw Rm=0,KN=null,Error(Ce(185));_g(e,n,r),(!(Tt&2)||e!==Jn)&&(e===Jn&&(!(Tt&2)&&(O0|=n),Un===4&&al(e,cr)),us(e,r),n===1&&Tt===0&&!(t.mode&1)&&(sh=Pn()+500,E0&&Kl()))}function us(e,t){var n=e.callbackNode;VQ(e,t);var r=xy(e,e===Jn?cr:0);if(r===0)n!==null&&dO(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dO(n),t===1)e.tag===0?qZ(rM.bind(null,e)):f6(rM.bind(null,e)),FZ(function(){!(Tt&6)&&Kl()}),n=null;else{switch(z5(r)){case 1:n=BE;break;case 4:n=F5;break;case 16:n=vy;break;case 536870912:n=B5;break;default:n=vy}n=dB(n,sB.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sB(e,t){if(Wx=-1,Hx=0,Tt&6)throw Error(Ce(327));var n=e.callbackNode;if(yd()&&e.callbackNode!==n)return null;var r=xy(e,e===Jn?cr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ry(e,r);else{t=r;var a=Tt;Tt|=2;var i=iB();(Jn!==e||cr!==t)&&(Qi=null,sh=Pn()+500,zc(e,t));do try{uee();break}catch(l){aB(e,l)}while(!0);ZE(),My.current=i,Tt=a,In!==null?t=0:(Jn=null,cr=0,t=Un)}if(t!==0){if(t===2&&(a=wN(e),a!==0&&(r=a,t=YN(e,a))),t===1)throw n=xp,zc(e,0),al(e,r),us(e,Pn()),n;if(t===6)al(e,r);else{if(a=e.current.alternate,!(r&30)&&!lee(a)&&(t=Ry(e,r),t===2&&(i=wN(e),i!==0&&(r=i,t=YN(e,i))),t===1))throw n=xp,zc(e,0),al(e,r),us(e,Pn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ce(345));case 2:pc(e,ss,Qi);break;case 3:if(al(e,r),(r&130023424)===r&&(t=mP+500-Pn(),10<t)){if(xy(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Kr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=PN(pc.bind(null,e,ss,Qi),t);break}pc(e,ss,Qi);break;case 4:if(al(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ga(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oee(r/1960))-r,10<r){e.timeoutHandle=PN(pc.bind(null,e,ss,Qi),r);break}pc(e,ss,Qi);break;case 5:pc(e,ss,Qi);break;default:throw Error(Ce(329))}}}return us(e,Pn()),e.callbackNode===n?sB.bind(null,e):null}function YN(e,t){var n=Im;return e.current.memoizedState.isDehydrated&&(zc(e,t).flags|=256),e=Ry(e,t),e!==2&&(t=ss,ss=n,t!==null&&JN(t)),e}function JN(e){ss===null?ss=e:ss.push.apply(ss,e)}function lee(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Qa(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function al(e,t){for(t&=~fP,t&=~O0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ga(t),r=1<<n;e[n]=-1,t&=~r}}function rM(e){if(Tt&6)throw Error(Ce(327));yd();var t=xy(e,0);if(!(t&1))return us(e,Pn()),null;var n=Ry(e,t);if(e.tag!==0&&n===2){var r=wN(e);r!==0&&(t=r,n=YN(e,r))}if(n===1)throw n=xp,zc(e,0),al(e,t),us(e,Pn()),n;if(n===6)throw Error(Ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pc(e,ss,Qi),us(e,Pn()),null}function pP(e,t){var n=Tt;Tt|=1;try{return e(t)}finally{Tt=n,Tt===0&&(sh=Pn()+500,E0&&Kl())}}function tu(e){vl!==null&&vl.tag===0&&!(Tt&6)&&yd();var t=Tt;Tt|=1;var n=ha.transition,r=zt;try{if(ha.transition=null,zt=1,e)return e()}finally{zt=r,ha.transition=n,Tt=t,!(Tt&6)&&Kl()}}function gP(){Ts=ud.current,mn(ud)}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LZ(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(JE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_y();break;case 3:nh(),mn(ls),mn(Tr),aP();break;case 5:sP(r);break;case 4:nh();break;case 13:mn(xn);break;case 19:mn(xn);break;case 10:eP(r.type._context);break;case 22:case 23:gP()}n=n.return}if(Jn=e,In=e=El(e.current,null),cr=Ts=t,Un=0,xp=null,fP=O0=eu=0,ss=Im=null,Nc!==null){for(t=0;t<Nc.length;t++)if(n=Nc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Nc=null}return e}function aB(e,t){do{var n=In;try{if(ZE(),zx.current=Oy,Ty){for(var r=bn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ty=!1}if(Zc=0,Gn=Fn=bn=null,Mm=!1,pp=0,hP.current=null,n===null||n.return===null){Un=1,xp=t,In=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=cr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=VO(o);if(m!==null){m.flags&=-257,WO(m,o,l,i,t),m.mode&1&&qO(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){qO(i,u,t),vP();break e}c=Error(Ce(426))}}else if(pn&&l.mode&1){var v=VO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),WO(v,o,l,i,t),XE(rh(c,l));break e}}i=c=rh(c,l),Un!==4&&(Un=2),Im===null?Im=[i]:Im.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=z6(i,c,t);$O(i,x);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cl===null||!Cl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=q6(i,l,t);$O(i,j);break e}}i=i.return}while(i!==null)}lB(n)}catch(S){t=S,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function iB(){var e=My.current;return My.current=Oy,e===null?Oy:e}function vP(){(Un===0||Un===3||Un===2)&&(Un=4),Jn===null||!(eu&268435455)&&!(O0&268435455)||al(Jn,cr)}function Ry(e,t){var n=Tt;Tt|=2;var r=iB();(Jn!==e||cr!==t)&&(Qi=null,zc(e,t));do try{cee();break}catch(a){aB(e,a)}while(!0);if(ZE(),Tt=n,My.current=r,In!==null)throw Error(Ce(261));return Jn=null,cr=0,Un}function cee(){for(;In!==null;)oB(In)}function uee(){for(;In!==null&&!IQ();)oB(In)}function oB(e){var t=uB(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,t===null?lB(e):In=t,hP.current=null}function lB(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ree(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Un=6,In=null;return}}else if(n=nee(n,t,Ts),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);Un===0&&(Un=5)}function pc(e,t,n){var r=zt,a=ha.transition;try{ha.transition=null,zt=1,dee(e,t,n,r)}finally{ha.transition=a,zt=r}return null}function dee(e,t,n,r){do yd();while(vl!==null);if(Tt&6)throw Error(Ce(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(WQ(e,i),e===Jn&&(In=Jn=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uv||(Uv=!0,dB(vy,function(){return yd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ha.transition,ha.transition=null;var o=zt;zt=1;var l=Tt;Tt|=4,hP.current=null,aee(e,n),nB(n,e),TZ(kN),yy=!!CN,kN=CN=null,e.current=n,iee(n),RQ(),Tt=l,zt=o,ha.transition=i}else e.current=n;if(Uv&&(Uv=!1,vl=e,Iy=a),i=e.pendingLanes,i===0&&(Cl=null),FQ(n.stateNode),us(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Dy)throw Dy=!1,e=GN,GN=null,e;return Iy&1&&e.tag!==0&&yd(),i=e.pendingLanes,i&1?e===KN?Rm++:(Rm=0,KN=e):Rm=0,Kl(),null}function yd(){if(vl!==null){var e=z5(Iy),t=ha.transition,n=zt;try{if(ha.transition=null,zt=16>e?16:e,vl===null)var r=!1;else{if(e=vl,vl=null,Iy=0,Tt&6)throw Error(Ce(331));var a=Tt;for(Tt|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:Dm(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ie=h;else for(;Ie!==null;){d=Ie;var f=d.sibling,m=d.return;if(Z6(d),d===u){Ie=null;break}if(f!==null){f.return=m,Ie=f;break}Ie=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dm(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ie=x;break e}Ie=i.return}}var b=e.current;for(Ie=b;Ie!==null;){o=Ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ie=w;else e:for(o=b;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:T0(9,l)}}catch(S){Nn(l,l.return,S)}if(l===o){Ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Ie=j;break e}Ie=l.return}}if(Tt=a,Kl(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(_0,e)}catch{}r=!0}return r}finally{zt=n,ha.transition=t}}return!1}function sM(e,t,n){t=rh(n,t),t=z6(e,t,1),e=Sl(e,t,1),t=Kr(),e!==null&&(_g(e,1,t),us(e,t))}function Nn(e,t,n){if(e.tag===3)sM(e,e,n);else for(;t!==null;){if(t.tag===3){sM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cl===null||!Cl.has(r))){e=rh(n,e),e=q6(t,e,1),t=Sl(t,e,1),e=Kr(),t!==null&&(_g(t,1,e),us(t,e));break}}t=t.return}}function hee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kr(),e.pingedLanes|=e.suspendedLanes&n,Jn===e&&(cr&n)===n&&(Un===4||Un===3&&(cr&130023424)===cr&&500>Pn()-mP?zc(e,0):fP|=n),us(e,t)}function cB(e,t){t===0&&(e.mode&1?(t=Tv,Tv<<=1,!(Tv&130023424)&&(Tv=4194304)):t=1);var n=Kr();e=bo(e,t),e!==null&&(_g(e,t,n),us(e,n))}function fee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cB(e,n)}function mee(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(t),cB(e,n)}var uB;uB=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ls.current)is=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return is=!1,tee(e,t,n);is=!!(e.flags&131072)}else is=!1,pn&&t.flags&1048576&&m6(t,Cy,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vx(e,t),e=t.pendingProps;var a=Zd(t,Tr.current);xd(t,n),a=oP(null,t,r,e,a,n);var i=lP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cs(r)?(i=!0,Ny(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nP(t),a.updater=A0,t.stateNode=a,a._reactInternals=t,RN(t,r,e,n),t=FN(null,t,r,!0,i,n)):(t.tag=0,pn&&i&&YE(t),zr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vx(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=gee(r),e=Da(r,e),a){case 0:t=LN(null,t,r,e,n);break e;case 1:t=KO(null,t,r,e,n);break e;case 11:t=HO(null,t,r,e,n);break e;case 14:t=GO(null,t,r,Da(r.type,e),n);break e}throw Error(Ce(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),LN(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),KO(e,t,r,a,n);case 3:e:{if(G6(t),e===null)throw Error(Ce(387));r=t.pendingProps,i=t.memoizedState,a=i.element,b6(e,t),Py(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=rh(Error(Ce(423)),t),t=YO(e,t,r,n,a);break e}else if(r!==a){a=rh(Error(Ce(424)),t),t=YO(e,t,r,n,a);break e}else for(Rs=Nl(t.stateNode.containerInfo.firstChild),Fs=t,pn=!0,Ua=null,n=x6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eh(),r===a){t=wo(e,t,n);break e}zr(e,t,r,n)}t=t.child}return t;case 5:return w6(t),e===null&&MN(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,EN(r,a)?o=null:i!==null&&EN(r,i)&&(t.flags|=32),H6(e,t),zr(e,t,o,n),t.child;case 6:return e===null&&MN(t),null;case 13:return K6(e,t,n);case 4:return rP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=th(t,null,r,n):zr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),HO(e,t,r,a,n);case 7:return zr(e,t,t.pendingProps,n),t.child;case 8:return zr(e,t,t.pendingProps.children,n),t.child;case 12:return zr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,an(ky,r._currentValue),r._currentValue=o,i!==null)if(Qa(i.value,o)){if(i.children===a.children&&!ls.current){t=wo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=uo(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),DN(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ce(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),DN(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,xd(t,n),a=xa(a),r=r(a),t.flags|=1,zr(e,t,r,n),t.child;case 14:return r=t.type,a=Da(r,t.pendingProps),a=Da(r.type,a),GO(e,t,r,a,n);case 15:return V6(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Da(r,a),Vx(e,t),t.tag=1,cs(r)?(e=!0,Ny(t)):e=!1,xd(t,n),U6(t,r,a),RN(t,r,a,n),FN(null,t,r,!0,e,n);case 19:return Y6(e,t,n);case 22:return W6(e,t,n)}throw Error(Ce(156,t.tag))};function dB(e,t){return L5(e,t)}function pee(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,n,r){return new pee(e,t,n,r)}function xP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gee(e){if(typeof e=="function")return xP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$E)return 11;if(e===LE)return 14}return 2}function El(e,t){var n=e.alternate;return n===null?(n=la(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gx(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")xP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ed:return qc(n.children,a,i,t);case RE:o=8,a|=8;break;case iN:return e=la(12,n,t,a|2),e.elementType=iN,e.lanes=i,e;case oN:return e=la(13,n,t,a),e.elementType=oN,e.lanes=i,e;case lN:return e=la(19,n,t,a),e.elementType=lN,e.lanes=i,e;case w5:return M0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y5:o=10;break e;case b5:o=9;break e;case $E:o=11;break e;case LE:o=14;break e;case Qo:o=16,r=null;break e}throw Error(Ce(130,e==null?e:typeof e,""))}return t=la(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function qc(e,t,n,r){return e=la(7,e,r,t),e.lanes=n,e}function M0(e,t,n,r){return e=la(22,e,r,t),e.elementType=w5,e.lanes=n,e.stateNode={isHidden:!1},e}function d_(e,t,n){return e=la(6,e,null,t),e.lanes=n,e}function h_(e,t,n){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vee(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hj(0),this.expirationTimes=Hj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hj(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yP(e,t,n,r,a,i,o,l,c){return e=new vee(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=la(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nP(i),e}function xee(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hB(e){if(!e)return Il;e=e._reactInternals;e:{if(wu(e)!==e||e.tag!==1)throw Error(Ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ce(171))}if(e.tag===1){var n=e.type;if(cs(n))return h6(e,n,t)}return t}function fB(e,t,n,r,a,i,o,l,c){return e=yP(n,r,!0,e,a,i,o,l,c),e.context=hB(null),n=e.current,r=Kr(),a=kl(n),i=uo(r,a),i.callback=t??null,Sl(n,i,a),e.current.lanes=a,_g(e,a,r),us(e,r),e}function D0(e,t,n,r){var a=t.current,i=Kr(),o=kl(a);return n=hB(n),t.context===null?t.context=n:t.pendingContext=n,t=uo(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sl(a,t,o),e!==null&&(Ka(e,a,o,i),Ux(e,a,o)),o}function $y(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function aM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bP(e,t){aM(e,t),(e=e.alternate)&&aM(e,t)}function yee(){return null}var mB=typeof reportError=="function"?reportError:function(e){console.error(e)};function wP(e){this._internalRoot=e}I0.prototype.render=wP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ce(409));D0(e,t,null,null)};I0.prototype.unmount=wP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tu(function(){D0(null,e,null,null)}),t[yo]=null}};function I0(e){this._internalRoot=e}I0.prototype.unstable_scheduleHydration=function(e){if(e){var t=W5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sl.length&&t!==0&&t<sl[n].priority;n++);sl.splice(n,0,e),n===0&&G5(e)}};function jP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function R0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iM(){}function bee(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=$y(o);i.call(u)}}var o=fB(t,r,e,0,null,!1,!1,"",iM);return e._reactRootContainer=o,e[yo]=o.current,up(e.nodeType===8?e.parentNode:e),tu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=$y(c);l.call(u)}}var c=yP(e,0,!1,null,null,!1,!1,"",iM);return e._reactRootContainer=c,e[yo]=c.current,up(e.nodeType===8?e.parentNode:e),tu(function(){D0(t,c,n,r)}),c}function $0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=$y(o);l.call(c)}}D0(t,o,e,a)}else o=bee(n,t,e,a,r);return $y(o)}q5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gm(t.pendingLanes);n!==0&&(UE(t,n|1),us(t,Pn()),!(Tt&6)&&(sh=Pn()+500,Kl()))}break;case 13:tu(function(){var r=bo(e,1);if(r!==null){var a=Kr();Ka(r,e,1,a)}}),bP(e,1)}};zE=function(e){if(e.tag===13){var t=bo(e,134217728);if(t!==null){var n=Kr();Ka(t,e,134217728,n)}bP(e,134217728)}};V5=function(e){if(e.tag===13){var t=kl(e),n=bo(e,t);if(n!==null){var r=Kr();Ka(n,e,t,r)}bP(e,t)}};W5=function(){return zt};H5=function(e,t){var n=zt;try{return zt=e,t()}finally{zt=n}};xN=function(e,t,n){switch(t){case"input":if(dN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=k0(r);if(!a)throw Error(Ce(90));_5(r),dN(r,a)}}}break;case"textarea":S5(e,n);break;case"select":t=n.value,t!=null&&md(e,!!n.multiple,t,!1)}};O5=pP;M5=tu;var wee={usingClientEntryPoint:!1,Events:[Sg,sd,k0,A5,T5,pP]},Wf={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jee={bundleType:Wf.bundleType,version:Wf.version,rendererPackageName:Wf.rendererPackageName,rendererConfig:Wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R5(e),e===null?null:e.stateNode},findFiberByHostInstance:Wf.findFiberByHostInstance||yee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zv.isDisabled&&zv.supportsFiber)try{_0=zv.inject(jee),Ti=zv}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wee;Hs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jP(t))throw Error(Ce(200));return xee(e,t,null,n)};Hs.createRoot=function(e,t){if(!jP(e))throw Error(Ce(299));var n=!1,r="",a=mB;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=yP(e,1,!1,null,null,n,!1,r,a),e[yo]=t.current,up(e.nodeType===8?e.parentNode:e),new wP(t)};Hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ce(188)):(e=Object.keys(e).join(","),Error(Ce(268,e)));return e=R5(t),e=e===null?null:e.stateNode,e};Hs.flushSync=function(e){return tu(e)};Hs.hydrate=function(e,t,n){if(!R0(t))throw Error(Ce(200));return $0(null,e,t,!0,n)};Hs.hydrateRoot=function(e,t,n){if(!jP(e))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=mB;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=fB(t,null,e,1,n??null,a,!1,i,o),e[yo]=t.current,up(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new I0(t)};Hs.render=function(e,t,n){if(!R0(t))throw Error(Ce(200));return $0(null,e,t,!1,n)};Hs.unmountComponentAtNode=function(e){if(!R0(e))throw Error(Ce(40));return e._reactRootContainer?(tu(function(){$0(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};Hs.unstable_batchedUpdates=pP;Hs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!R0(n))throw Error(Ce(200));if(e==null||e._reactInternals===void 0)throw Error(Ce(38));return $0(e,t,n,!1,r)};Hs.version="18.3.1-next-f1338f8080-20240426";function pB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pB)}catch(e){console.error(e)}}pB(),p5.exports=Hs;var ca=p5.exports;const gB=Bt(ca);var vB,oM=ca;vB=oM.createRoot,oM.hydrateRoot;const _ee=1,Nee=1e6;let f_=0;function See(){return f_=(f_+1)%Number.MAX_SAFE_INTEGER,f_.toString()}const m_=new Map,lM=e=>{if(m_.has(e))return;const t=setTimeout(()=>{m_.delete(e),$m({type:"REMOVE_TOAST",toastId:e})},Nee);m_.set(e,t)},Cee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_ee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?lM(n):e.toasts.forEach(r=>{lM(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kx=[];let Yx={toasts:[]};function $m(e){Yx=Cee(Yx,e),Kx.forEach(t=>{t(Yx)})}function Te({...e}){const t=See(),n=a=>$m({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>$m({type:"DISMISS_TOAST",toastId:t});return $m({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function vn(){const[e,t]=y.useState(Yx);return y.useEffect(()=>(Kx.push(t),()=>{const n=Kx.indexOf(t);n>-1&&Kx.splice(n,1)}),[e]),{...e,toast:Te,dismiss:n=>$m({type:"DISMISS_TOAST",toastId:n})}}function we(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function kee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function L0(...e){return t=>e.forEach(n=>kee(n,t))}function Ye(...e){return y.useCallback(L0(...e),e)}function Eee(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Pee(a,...t)]}function Pee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var vs=y.forwardRef((e,t)=>{const{children:n,...r}=e,a=y.Children.toArray(n),i=a.find(Aee);if(i){const o=i.props.children,l=a.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return s.jsx(XN,{...r,ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null})}return s.jsx(XN,{...r,ref:t,children:n})});vs.displayName="Slot";var XN=y.forwardRef((e,t)=>{const{children:n,...r}=e;if(y.isValidElement(n)){const a=Oee(n);return y.cloneElement(n,{...Tee(r,n.props),ref:t?L0(t,a):a})}return y.Children.count(n)>1?y.Children.only(null):null});XN.displayName="SlotClone";var _P=({children:e})=>s.jsx(s.Fragment,{children:e});function Aee(e){return y.isValidElement(e)&&e.type===_P}function Tee(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Oee(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kg(e){const t=e+"CollectionProvider",[n,r]=Eee(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,v=H.useRef(null),x=H.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:x,collectionRef:v,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=H.forwardRef((m,g)=>{const{scope:p,children:v}=m,x=i(l,p),b=Ye(g,x.collectionRef);return s.jsx(vs,{ref:b,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=H.forwardRef((m,g)=>{const{scope:p,children:v,...x}=m,b=H.useRef(null),w=Ye(g,b),j=i(u,p);return H.useEffect(()=>(j.itemMap.set(b,{ref:b,...x}),()=>void j.itemMap.delete(b))),s.jsx(vs,{[d]:"",ref:w,children:v})});h.displayName=u;function f(m){const g=i(e+"CollectionConsumer",m);return H.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,S)=>x.indexOf(j.ref.current)-x.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function Mee(e,t){const n=y.createContext(t),r=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=y.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Or(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:m,...g}=h,p=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Dee(a,...t)]}function Dee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Iee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],De=Iee.reduce((e,t)=>{const n=y.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?vs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function NP(e,t){e&&ca.flushSync(()=>e.dispatchEvent(t))}function yn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Ree(e,t=globalThis==null?void 0:globalThis.document){const n=yn(e);y.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var $ee="DismissableLayer",QN="dismissableLayer.update",Lee="dismissableLayer.pointerDownOutside",Fee="dismissableLayer.focusOutside",cM,xB=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ju=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(xB),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=Ye(t,C=>h(C)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=x,S=Uee(C=>{const k=C.target,D=[...u.branches].some(R=>R.contains(k));!j||D||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),N=zee(C=>{const k=C.target;[...u.branches].some(R=>R.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return Ree(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cM=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),uM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=cM)}},[d,f,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),uM())},[d,u]),y.useEffect(()=>{const C=()=>m({});return document.addEventListener(QN,C),()=>document.removeEventListener(QN,C)},[]),s.jsx(De.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,N.onFocusCapture),onBlurCapture:we(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,S.onPointerDownCapture)})});ju.displayName=$ee;var Bee="DismissableLayerBranch",yB=y.forwardRef((e,t)=>{const n=y.useContext(xB),r=y.useRef(null),a=Ye(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(De.div,{...e,ref:a})});yB.displayName=Bee;function Uee(e,t=globalThis==null?void 0:globalThis.document){const n=yn(e),r=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){bB(Lee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function zee(e,t=globalThis==null?void 0:globalThis.document){const n=yn(e),r=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!r.current&&bB(Fee,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function uM(){const e=new CustomEvent(QN);document.dispatchEvent(e)}function bB(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?NP(a,i):a.dispatchEvent(i)}var qee=ju,Vee=yB,Xn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Wee="Portal",Kh=y.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=y.useState(!1);Xn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gB.createPortal(s.jsx(De.div,{...r,ref:t}),o):null});Kh.displayName=Wee;function Hee(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var $n=e=>{const{present:t,children:n}=e,r=Gee(t),a=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ye(r.ref,Kee(a));return typeof n=="function"||r.isPresent?y.cloneElement(a,{ref:i}):null};$n.displayName="Presence";function Gee(e){const[t,n]=y.useState(),r=y.useRef({}),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Hee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=qv(r.current);i.current=l==="mounted"?u:"none"},[l]),Xn(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=qv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Xn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=qv(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(i.current=qv(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function qv(e){return(e==null?void 0:e.animationName)||"none"}function Kee(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function xs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Yee({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=yn(n),c=y.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function Yee({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,a=y.useRef(r),i=yn(t);return y.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Jee="VisuallyHidden",Eg=y.forwardRef((e,t)=>s.jsx(De.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Eg.displayName=Jee;var Xee=Eg,SP="ToastProvider",[CP,Qee,Zee]=kg("Toast"),[wB,jGe]=Or("Toast",[Zee]),[ete,F0]=wB(SP),jB=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${SP}\`. Expected non-empty \`string\`.`),s.jsx(CP.Provider,{scope:t,children:s.jsx(ete,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};jB.displayName=SP;var _B="ToastViewport",tte=["F8"],ZN="toast.viewportPause",eS="toast.viewportResume",NB=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=tte,label:a="Notifications ({hotkey})",...i}=e,o=F0(_B,n),l=Qee(n),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=Ye(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=x=>{var w;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),y.useEffect(()=>{const v=c.current,x=h.current;if(g&&v&&x){const b=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(ZN);x.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(eS);x.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!v.contains(N.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",j),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const j=w.ref.current,S=[j,...mte(j)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return y.useEffect(()=>{const v=h.current;if(v){const x=b=>{var S,N,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const k=document.activeElement,D=b.shiftKey;if(b.target===v&&D){(S=u.current)==null||S.focus();return}const B=p({tabbingDirection:D?"backwards":"forwards"}),F=B.findIndex(L=>L===k);p_(B.slice(F+1))?b.preventDefault():D?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,p]),s.jsxs(Vee,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(tS,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});p_(v)}}),s.jsx(CP.Slot,{scope:n,children:s.jsx(De.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(tS,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});p_(v)}})]})});NB.displayName=_B;var SB="ToastFocusProxy",tS=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=F0(SB,n);return s.jsx(Eg,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});tS.displayName=SB;var B0="Toast",nte="toast.swipeStart",rte="toast.swipeMove",ste="toast.swipeCancel",ate="toast.swipeEnd",CB=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=xs({prop:r,defaultProp:a,onChange:i});return s.jsx($n,{present:n||l,children:s.jsx(lte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:yn(e.onPause),onResume:yn(e.onResume),onSwipeStart:we(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:we(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});CB.displayName=B0;var[ite,ote]=wB(B0,{onClose(){}}),lte=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=e,p=F0(B0,n),[v,x]=y.useState(null),b=Ye(t,L=>x(L)),w=y.useRef(null),j=y.useRef(null),S=a||p.duration,N=y.useRef(0),C=y.useRef(S),k=y.useRef(0),{onToastAdd:D,onToastRemove:R}=p,E=yn(()=>{var I;(v==null?void 0:v.contains(document.activeElement))&&((I=p.viewport)==null||I.focus()),o()}),B=y.useCallback(L=>{!L||L===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(E,L))},[E]);y.useEffect(()=>{const L=p.viewport;if(L){const I=()=>{B(C.current),u==null||u()},O=()=>{const $=new Date().getTime()-N.current;C.current=C.current-$,window.clearTimeout(k.current),c==null||c()};return L.addEventListener(ZN,O),L.addEventListener(eS,I),()=>{L.removeEventListener(ZN,O),L.removeEventListener(eS,I)}}},[p.viewport,S,c,u,B]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&B(S)},[i,S,p.isClosePausedRef,B]),y.useEffect(()=>(D(),()=>R()),[D,R]);const F=y.useMemo(()=>v?MB(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(cte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(ite,{scope:n,onClose:E,children:ca.createPortal(s.jsx(CP.ItemSlot,{scope:n,children:s.jsx(qee,{asChild:!0,onEscapeKeyDown:we(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:we(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:we(e.onPointerMove,L=>{if(!w.current)return;const I=L.clientX-w.current.x,O=L.clientY-w.current.y,$=!!j.current,T=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,M=T?U(0,I):0,Y=T?0:U(0,O),ee=L.pointerType==="touch"?10:2,_={x:M,y:Y},A={originalEvent:L,delta:_};$?(j.current=_,Vv(rte,h,A,{discrete:!1})):dM(_,p.swipeDirection,ee)?(j.current=_,Vv(nte,d,A,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(I)>ee||Math.abs(O)>ee)&&(w.current=null)}),onPointerUp:we(e.onPointerUp,L=>{const I=j.current,O=L.target;if(O.hasPointerCapture(L.pointerId)&&O.releasePointerCapture(L.pointerId),j.current=null,w.current=null,I){const $=L.currentTarget,T={originalEvent:L,delta:I};dM(I,p.swipeDirection,p.swipeThreshold)?Vv(ate,m,T,{discrete:!0}):Vv(ste,f,T,{discrete:!0}),$.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),cte=e=>{const{__scopeToast:t,children:n,...r}=e,a=F0(B0,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return hte(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Kh,{asChild:!0,children:s.jsx(Eg,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},ute="ToastTitle",kB=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});kB.displayName=ute;var dte="ToastDescription",EB=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});EB.displayName=dte;var PB="ToastAction",AB=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(OB,{altText:n,asChild:!0,children:s.jsx(kP,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${PB}\`. Expected non-empty \`string\`.`),null)});AB.displayName=PB;var TB="ToastClose",kP=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=ote(TB,n);return s.jsx(OB,{asChild:!0,children:s.jsx(De.button,{type:"button",...r,ref:t,onClick:we(e.onClick,a.onClose)})})});kP.displayName=TB;var OB=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function MB(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),fte(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...MB(r))}}),t}function Vv(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?NP(a,i):a.dispatchEvent(i)}var dM=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function hte(e=()=>{}){const t=yn(e);Xn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function fte(e){return e.nodeType===e.ELEMENT_NODE}function mte(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function p_(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var pte=jB,DB=NB,IB=CB,RB=kB,$B=EB,LB=AB,FB=kP;function BB(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=BB(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=BB(e))&&(r&&(r+=" "),r+=t);return r}const hM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fM=Et,Yh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return fM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=hM(d)||hM(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,h,f]:u},[]);return fM(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...vte,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:UB("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=y.forwardRef(({className:r,...a},i)=>y.createElement(xte,{ref:i,iconNode:t,className:UB(`lucide-${gte(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=je("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=je("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=je("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=je("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=je("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=je("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=je("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=je("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=je("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=je("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=je("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=je("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=je("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=je("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=je("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=je("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=je("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=je("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=je("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=je("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=je("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=je("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=je("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=je("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=je("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=je("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=je("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=je("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=je("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=je("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=je("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=je("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=je("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=je("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=je("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=je("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=je("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=je("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=je("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=je("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=je("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),RP="-",Wte=e=>{const t=Gte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(RP);return l[0]===""&&l.length!==1&&l.shift(),n8(l,t)||Hte(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},n8=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?n8(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(RP);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},bM=/^\[(.+)\]$/,Hte=e=>{if(bM.test(e)){const t=bM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Gte=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Yte(Object.entries(e.classGroups),n).forEach(([i,o])=>{oS(o,r,i,t)}),r},oS=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:wM(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(Kte(a)){oS(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{oS(o,wM(t,i),n,r)})})},wM=(e,t)=>{let n=e;return t.split(RP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Kte=e=>e.isThemeGetter,Yte=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,Jte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},r8="!",Xte=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(r||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(r8),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Qte=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Zte=e=>({cache:Jte(e.cacheSize),parseClassName:Xte(e),...Wte(e)}),ene=/\s+/,tne=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(ene);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?f.substring(0,m):f);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Qte(d).join(":"),x=h?v+r8:v,b=x+p;if(i.includes(b))continue;i.push(b);const w=a(p,g);for(let j=0;j<w.length;++j){const S=w[j];i.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function nne(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=s8(t))&&(r&&(r+=" "),r+=n);return r}const s8=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=s8(e[r]))&&(n&&(n+=" "),n+=t);return n};function rne(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=Zte(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=tne(c,n);return a(c,d),d}return function(){return i(nne.apply(null,arguments))}}const un=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},a8=/^\[(?:([a-z-]+):)?(.+)\]$/i,sne=/^\d+\/\d+$/,ane=new Set(["px","full","screen"]),ine=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,one=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,une=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=e=>wd(e)||ane.has(e)||sne.test(e),Uo=e=>Xh(e,"length",xne),wd=e=>!!e&&!Number.isNaN(Number(e)),v_=e=>Xh(e,"number",wd),Hf=e=>!!e&&Number.isInteger(Number(e)),dne=e=>e.endsWith("%")&&wd(e.slice(0,-1)),ft=e=>a8.test(e),zo=e=>ine.test(e),hne=new Set(["length","size","percentage"]),fne=e=>Xh(e,hne,i8),mne=e=>Xh(e,"position",i8),pne=new Set(["image","url"]),gne=e=>Xh(e,pne,bne),vne=e=>Xh(e,"",yne),Gf=()=>!0,Xh=(e,t,n)=>{const r=a8.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},xne=e=>one.test(e)&&!lne.test(e),i8=()=>!1,yne=e=>cne.test(e),bne=e=>une.test(e),wne=()=>{const e=un("colors"),t=un("spacing"),n=un("blur"),r=un("brightness"),a=un("borderColor"),i=un("borderRadius"),o=un("borderSpacing"),l=un("borderWidth"),c=un("contrast"),u=un("grayscale"),d=un("hueRotate"),h=un("invert"),f=un("gap"),m=un("gradientColorStops"),g=un("gradientColorStopPositions"),p=un("inset"),v=un("margin"),x=un("opacity"),b=un("padding"),w=un("saturate"),j=un("scale"),S=un("sepia"),N=un("skew"),C=un("space"),k=un("translate"),D=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ft,t],B=()=>[ft,t],F=()=>["",Hi,Uo],L=()=>["auto",wd,ft],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ft],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[wd,ft];return{cacheSize:500,separator:":",theme:{colors:[Gf],spacing:[Hi,Uo],blur:["none","",zo,ft],brightness:Y(),borderColor:[e],borderRadius:["none","","full",zo,ft],borderSpacing:B(),borderWidth:F(),contrast:Y(),grayscale:U(),hueRotate:Y(),invert:U(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[dne,Uo],inset:E(),margin:E(),opacity:Y(),padding:B(),saturate:Y(),scale:Y(),sepia:U(),skew:Y(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[zo]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),ft]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hf,ft]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Hf,ft]}],"grid-cols":[{"grid-cols":[Gf]}],"col-start-end":[{col:["auto",{span:["full",Hf,ft]},ft]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Gf]}],"row-start-end":[{row:["auto",{span:[Hf,ft]},ft]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,t]}],"min-w":[{"min-w":[ft,t,"min","max","fit"]}],"max-w":[{"max-w":[ft,t,"none","full","min","max","fit","prose",{screen:[zo]},zo]}],h:[{h:[ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zo,Uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",v_]}],"font-family":[{font:[Gf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",wd,v_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hi,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hi,Uo]}],"underline-offset":[{"underline-offset":["auto",Hi,ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),mne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Hi,ft]}],"outline-w":[{outline:[Hi,Uo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Hi,Uo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zo,vne]}],"shadow-color":[{shadow:[Gf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zo,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Hf,ft]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hi,Uo,v_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jne=rne(wne);function me(...e){return jne(Et(e))}const _ne=pte,o8=y.forwardRef(({className:e,...t},n)=>s.jsx(DB,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));o8.displayName=DB.displayName;const Nne=Yh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l8=y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(IB,{ref:r,className:me(Nne({variant:t}),e),...n}));l8.displayName=IB.displayName;const Sne=y.forwardRef(({className:e,...t},n)=>s.jsx(LB,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Sne.displayName=LB.displayName;const c8=y.forwardRef(({className:e,...t},n)=>s.jsx(FB,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Yl,{className:"h-4 w-4"})}));c8.displayName=FB.displayName;const u8=y.forwardRef(({className:e,...t},n)=>s.jsx(RB,{ref:n,className:me("text-sm font-semibold",e),...t}));u8.displayName=RB.displayName;const d8=y.forwardRef(({className:e,...t},n)=>s.jsx($B,{ref:n,className:me("text-sm opacity-90",e),...t}));d8.displayName=$B.displayName;function Cne(){const{toasts:e}=vn();return s.jsxs(_ne,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(l8,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(u8,{children:n}),r&&s.jsx(d8,{children:r})]}),a,s.jsx(c8,{})]},t)}),s.jsx(o8,{})]})}var jM=["light","dark"],kne="(prefers-color-scheme: dark)",Ene=y.createContext(void 0),Pne={setTheme:e=>{},themes:[]},$P=()=>{var e;return(e=y.useContext(Ene))!=null?e:Pne};y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?jM.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,v=!0)=>{let x=o?o[g]:g,b=p?g+"|| ''":`'${x}'`,w="";return a&&v&&!p&&jM.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?p||x?w+=`c.add(${b})`:w+="null":x&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${kne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Ane=e=>{switch(e){case"success":return Mne;case"info":return Ine;case"warning":return Dne;case"error":return Rne;default:return null}},Tne=Array(12).fill(0),One=({visible:e})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},H.createElement("div",{className:"sonner-spinner"},Tne.map((t,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Mne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Dne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ine=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rne=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$ne=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},lS=1,Lne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:lS++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let a=t instanceof Promise?t:t(),i=r!==void 0;return a.then(async o=>{if(Bne(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||lS++;return this.create({jsx:t(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},As=new Lne,Fne=(e,t)=>{let n=(t==null?void 0:t.id)||lS++;return As.addToast({title:e,...t,id:n}),n},Bne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Une=Fne,zne=()=>As.toasts,_e=Object.assign(Une,{success:As.success,info:As.info,warning:As.warning,error:As.error,custom:As.custom,message:As.message,promise:As.promise,dismiss:As.dismiss,loading:As.loading},{getHistory:zne});function qne(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}qne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wv(e){return e.label!==void 0}var Vne=3,Wne="32px",Hne=4e3,Gne=356,Kne=14,Yne=20,Jne=200;function Xne(...e){return e.filter(Boolean).join(" ")}var Qne=e=>{var t,n,r,a,i,o,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:p,visibleToasts:v,heights:x,index:b,toasts:w,expanded:j,removeToast:S,defaultRichColors:N,closeButton:C,style:k,cancelButtonStyle:D,actionButtonStyle:R,className:E="",descriptionClassName:B="",duration:F,position:L,gap:I,loadingIcon:O,expandByDefault:$,classNames:T,icons:U,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:Y,cn:ee}=e,[_,A]=H.useState(!1),[P,z]=H.useState(!1),[V,te]=H.useState(!1),[Z,q]=H.useState(!1),[Q,ne]=H.useState(0),[pe,Se]=H.useState(0),qe=H.useRef(null),Ve=H.useRef(null),We=b===0,st=b+1<=v,Ke=f.type,it=f.dismissible!==!1,he=f.className||"",ge=f.descriptionClassName||"",ae=H.useMemo(()=>x.findIndex(be=>be.toastId===f.id)||0,[x,f.id]),Ne=H.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:C},[f.closeButton,C]),gt=H.useMemo(()=>f.duration||F||Hne,[f.duration,F]),ce=H.useRef(0),ye=H.useRef(0),Me=H.useRef(0),Be=H.useRef(null),[Ze,ct]=L.split("-"),Ir=H.useMemo(()=>x.reduce((be,Je,ot)=>ot>=ae?be:be+Je.height,0),[x,ae]),gr=$ne(),ka=f.invert||h,Rr=Ke==="loading";ye.current=H.useMemo(()=>ae*I+Ir,[ae,Ir]),H.useEffect(()=>{A(!0)},[]),H.useLayoutEffect(()=>{if(!_)return;let be=Ve.current,Je=be.style.height;be.style.height="auto";let ot=be.getBoundingClientRect().height;be.style.height=Je,Se(ot),p(Js=>Js.find(Xt=>Xt.toastId===f.id)?Js.map(Xt=>Xt.toastId===f.id?{...Xt,height:ot}:Xt):[{toastId:f.id,height:ot,position:f.position},...Js])},[_,f.title,f.description,p,f.id]);let ue=H.useCallback(()=>{z(!0),ne(ye.current),p(be=>be.filter(Je=>Je.toastId!==f.id)),setTimeout(()=>{S(f)},Jne)},[f,S,p,ye]);H.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let be,Je=gt;return j||g||Y&&gr?(()=>{if(Me.current<ce.current){let ot=new Date().getTime()-ce.current;Je=Je-ot}Me.current=new Date().getTime()})():Je!==1/0&&(ce.current=new Date().getTime(),be=setTimeout(()=>{var ot;(ot=f.onAutoClose)==null||ot.call(f,f),ue()},Je)),()=>clearTimeout(be)},[j,g,$,f,gt,ue,f.promise,Ke,Y,gr]),H.useEffect(()=>{let be=Ve.current;if(be){let Je=be.getBoundingClientRect().height;return Se(Je),p(ot=>[{toastId:f.id,height:Je,position:f.position},...ot]),()=>p(ot=>ot.filter(Js=>Js.toastId!==f.id))}},[p,f.id]),H.useEffect(()=>{f.delete&&ue()},[ue,f.delete]);function Ae(){return U!=null&&U.loading?H.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},U.loading):O?H.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},O):H.createElement(One,{visible:Ke==="loading"})}return H.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ve,className:ee(E,he,T==null?void 0:T.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Ke],(n=f==null?void 0:f.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:N,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":_,"data-promise":!!f.promise,"data-removed":P,"data-visible":st,"data-y-position":Ze,"data-x-position":ct,"data-index":b,"data-front":We,"data-swiping":V,"data-dismissible":it,"data-type":Ke,"data-invert":ka,"data-swipe-out":Z,"data-expanded":!!(j||$&&_),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${P?Q:ye.current}px`,"--initial-height":$?"auto":`${pe}px`,...k,...f.style},onPointerDown:be=>{Rr||!it||(qe.current=new Date,ne(ye.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(te(!0),Be.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Je,ot,Js;if(Z||!it)return;Be.current=null;let Xt=Number(((be=Ve.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Vn=new Date().getTime()-((Je=qe.current)==null?void 0:Je.getTime()),$r=Math.abs(Xt)/Vn;if(Math.abs(Xt)>=Yne||$r>.11){ne(ye.current),(ot=f.onDismiss)==null||ot.call(f,f),ue(),q(!0);return}(Js=Ve.current)==null||Js.style.setProperty("--swipe-amount","0px"),te(!1)},onPointerMove:be=>{var Je;if(!Be.current||!it)return;let ot=be.clientY-Be.current.y,Js=be.clientX-Be.current.x,Xt=(Ze==="top"?Math.min:Math.max)(0,ot),Vn=be.pointerType==="touch"?10:2;Math.abs(Xt)>Vn?(Je=Ve.current)==null||Je.style.setProperty("--swipe-amount",`${ot}px`):Math.abs(Js)>Vn&&(Be.current=null)}},Ne&&!f.jsx?H.createElement("button",{"aria-label":M,"data-disabled":Rr,"data-close-button":!0,onClick:Rr||!it?()=>{}:()=>{var be;ue(),(be=f.onDismiss)==null||be.call(f,f)},className:ee(T==null?void 0:T.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||H.isValidElement(f.title)?f.jsx||f.title:H.createElement(H.Fragment,null,Ke||f.icon||f.promise?H.createElement("div",{"data-icon":"",className:ee(T==null?void 0:T.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ae():null,f.type!=="loading"?f.icon||(U==null?void 0:U[Ke])||Ane(Ke):null):null,H.createElement("div",{"data-content":"",className:ee(T==null?void 0:T.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:ee(T==null?void 0:T.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?H.createElement("div",{"data-description":"",className:ee(B,ge,T==null?void 0:T.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),H.isValidElement(f.cancel)?f.cancel:f.cancel&&Wv(f.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||D,onClick:be=>{var Je,ot;Wv(f.cancel)&&it&&((ot=(Je=f.cancel).onClick)==null||ot.call(Je,be),ue())},className:ee(T==null?void 0:T.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,H.isValidElement(f.action)?f.action:f.action&&Wv(f.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:be=>{var Je,ot;Wv(f.action)&&(be.defaultPrevented||((ot=(Je=f.action).onClick)==null||ot.call(Je,be),ue()))},className:ee(T==null?void 0:T.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function _M(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Zne=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=Vne,toastOptions:m,dir:g=_M(),gap:p=Kne,loadingIcon:v,icons:x,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:j=Xne}=e,[S,N]=H.useState([]),C=H.useMemo(()=>Array.from(new Set([n].concat(S.filter(Y=>Y.position).map(Y=>Y.position)))),[S,n]),[k,D]=H.useState([]),[R,E]=H.useState(!1),[B,F]=H.useState(!1),[L,I]=H.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=H.useRef(null),$=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=H.useRef(null),U=H.useRef(!1),M=H.useCallback(Y=>{var ee;(ee=S.find(_=>_.id===Y.id))!=null&&ee.delete||As.dismiss(Y.id),N(_=>_.filter(({id:A})=>A!==Y.id))},[S]);return H.useEffect(()=>As.subscribe(Y=>{if(Y.dismiss){N(ee=>ee.map(_=>_.id===Y.id?{..._,delete:!0}:_));return}setTimeout(()=>{gB.flushSync(()=>{N(ee=>{let _=ee.findIndex(A=>A.id===Y.id);return _!==-1?[...ee.slice(0,_),{...ee[_],...Y},...ee.slice(_+1)]:[Y,...ee]})})})}),[]),H.useEffect(()=>{if(c!=="system"){I(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Y})=>{I(Y?"dark":"light")})},[c]),H.useEffect(()=>{S.length<=1&&E(!1)},[S]),H.useEffect(()=>{let Y=ee=>{var _,A;r.every(P=>ee[P]||ee.code===P)&&(E(!0),(_=O.current)==null||_.focus()),ee.code==="Escape"&&(document.activeElement===O.current||(A=O.current)!=null&&A.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[r]),H.useEffect(()=>{if(O.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,U.current=!1)}},[O.current]),S.length?H.createElement("section",{"aria-label":`${b} ${$}`,tabIndex:-1},C.map((Y,ee)=>{var _;let[A,P]=Y.split("-");return H.createElement("ol",{key:Y,dir:g==="auto"?_M():g,tabIndex:-1,ref:O,className:o,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":A,"data-x-position":P,style:{"--front-toast-height":`${((_=k[0])==null?void 0:_.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Wne,"--width":`${Gne}px`,"--gap":`${p}px`,...h},onBlur:z=>{U.current&&!z.currentTarget.contains(z.relatedTarget)&&(U.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||U.current||(U.current=!0,T.current=z.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{B||E(!1)},onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(z=>!z.position&&ee===0||z.position===Y).map((z,V)=>{var te,Z;return H.createElement(Qne,{key:z.id,icons:x,index:V,toast:z,defaultRichColors:u,duration:(te=m==null?void 0:m.duration)!=null?te:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:f,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:i,interacting:B,position:Y,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:M,toasts:S.filter(q=>q.position==z.position),heights:k.filter(q=>q.position==z.position),setHeights:D,expandByDefault:a,gap:p,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:w,cn:j})}))})):null};const ere=({...e})=>{const{theme:t="system"}=$P();return s.jsx(Zne,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var tre=f5.useId||(()=>{}),nre=0;function Bs(e){const[t,n]=y.useState(tre());return Xn(()=>{n(r=>r??String(nre++))},[e]),t?`radix-${t}`:""}const rre=["top","right","bottom","left"],Ll=Math.min,Ms=Math.max,Ly=Math.round,Hv=Math.floor,Fl=e=>({x:e,y:e}),sre={left:"right",right:"left",bottom:"top",top:"bottom"},are={start:"end",end:"start"};function cS(e,t,n){return Ms(e,Ll(t,n))}function _o(e,t){return typeof e=="function"?e(t):e}function No(e){return e.split("-")[0]}function Qh(e){return e.split("-")[1]}function LP(e){return e==="x"?"y":"x"}function FP(e){return e==="y"?"height":"width"}function Bl(e){return["top","bottom"].includes(No(e))?"y":"x"}function BP(e){return LP(Bl(e))}function ire(e,t,n){n===void 0&&(n=!1);const r=Qh(e),a=BP(e),i=FP(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Fy(o)),[o,Fy(o)]}function ore(e){const t=Fy(e);return[uS(e),t,uS(t)]}function uS(e){return e.replace(/start|end/g,t=>are[t])}function lre(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function cre(e,t,n,r){const a=Qh(e);let i=lre(No(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(uS)))),i}function Fy(e){return e.replace(/left|right|bottom|top/g,t=>sre[t])}function ure(e){return{top:0,right:0,bottom:0,left:0,...e}}function h8(e){return typeof e!="number"?ure(e):{top:e,right:e,bottom:e,left:e}}function By(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function NM(e,t,n){let{reference:r,floating:a}=e;const i=Bl(t),o=BP(t),l=FP(o),c=No(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Qh(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const dre=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=NM(u,r,c),f=r,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:b,y:w,data:j,reset:S}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,h=w??h,m={...m,[v]:{...m[v],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:h}=NM(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function wp(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=_o(t,e),g=h8(m),v=l[f?h==="floating"?"reference":"floating":h],x=By(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=By(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+g.top)/j.y,bottom:(S.bottom-x.bottom+g.bottom)/j.y,left:(x.left-S.left+g.left)/j.x,right:(S.right-x.right+g.right)/j.x}}const hre=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=_o(e,t)||{};if(u==null)return{};const h=h8(d),f={x:n,y:r},m=BP(a),g=FP(m),p=await o.getDimensions(u),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[m]-f[m]-i.floating[g],S=f[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=l.floating[w]||i.floating[g]);const k=j/2-S/2,D=C/2-p[g]/2-1,R=Ll(h[x],D),E=Ll(h[b],D),B=R,F=C-p[g]-E,L=C/2-p[g]/2+k,I=cS(B,L,F),O=!c.arrow&&Qh(a)!=null&&L!==I&&i.reference[g]/2-(L<B?R:E)-p[g]/2<0,$=O?L<B?L-B:L-F:0;return{[m]:f[m]+$,data:{[m]:I,centerOffset:L-I-$,...O&&{alignmentOffset:$}},reset:O}}}),fre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=_o(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=No(a),b=Bl(l),w=No(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(w||!p?[Fy(l)]:ore(l)),N=g!=="none";!f&&N&&S.push(...cre(l,p,g,j));const C=[l,...S],k=await wp(t,v),D=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&D.push(k[x]),h){const L=ire(a,o,j);D.push(k[L[0]],k[L[1]])}if(R=[...R,{placement:a,overflows:D}],!D.every(L=>L<=0)){var E,B;const L=(((E=i.flip)==null?void 0:E.index)||0)+1,I=C[L];if(I)return{data:{index:L,overflows:R},reset:{placement:I}};let O=(B=R.filter($=>$.overflows[0]<=0).sort(($,T)=>$.overflows[1]-T.overflows[1])[0])==null?void 0:B.placement;if(!O)switch(m){case"bestFit":{var F;const $=(F=R.filter(T=>{if(N){const U=Bl(T.placement);return U===b||U==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(U=>U>0).reduce((U,M)=>U+M,0)]).sort((T,U)=>T[1]-U[1])[0])==null?void 0:F[0];$&&(O=$);break}case"initialPlacement":O=l;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function SM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function CM(e){return rre.some(t=>e[t]>=0)}const mre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=_o(e,t);switch(r){case"referenceHidden":{const i=await wp(t,{...a,elementContext:"reference"}),o=SM(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CM(o)}}}case"escaped":{const i=await wp(t,{...a,altBoundary:!0}),o=SM(i,n.floating);return{data:{escapedOffsets:o,escaped:CM(o)}}}default:return{}}}}};async function pre(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=No(n),l=Qh(n),c=Bl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=_o(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const gre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await pre(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},vre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=_o(e,t),u={x:n,y:r},d=await wp(t,c),h=Bl(No(a)),f=LP(h);let m=u[f],g=u[h];if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=m+d[v],w=m-d[x];m=cS(b,m,w)}if(o){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=g+d[v],w=g-d[x];g=cS(b,g,w)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},xre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_o(e,t),d={x:n,y:r},h=Bl(a),f=LP(h);let m=d[f],g=d[h];const p=_o(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",j=i.reference[f]-i.floating[w]+v.mainAxis,S=i.reference[f]+i.reference[w]-v.mainAxis;m<j?m=j:m>S&&(m=S)}if(u){var x,b;const w=f==="y"?"width":"height",j=["top","left"].includes(No(a)),S=i.reference[h]-i.floating[w]+(j&&((x=o.offset)==null?void 0:x[h])||0)+(j?0:v.crossAxis),N=i.reference[h]+i.reference[w]+(j?0:((b=o.offset)==null?void 0:b[h])||0)-(j?v.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[f]:m,[h]:g}}}},yre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=_o(e,t),d=await wp(t,u),h=No(a),f=Qh(a),m=Bl(a)==="y",{width:g,height:p}=i.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=g-d.left-d.right,j=Ll(p-d[v],b),S=Ll(g-d[x],w),N=!t.middlewareData.shift;let C=j,k=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),N&&!f){const R=Ms(d.left,0),E=Ms(d.right,0),B=Ms(d.top,0),F=Ms(d.bottom,0);m?k=g-2*(R!==0||E!==0?R+E:Ms(d.left,d.right)):C=p-2*(B!==0||F!==0?B+F:Ms(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const D=await o.getDimensions(l.floating);return g!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function z0(){return typeof window<"u"}function Zh(e){return f8(e)?(e.nodeName||"").toLowerCase():"#document"}function Us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ui(e){var t;return(t=(f8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f8(e){return z0()?e instanceof Node||e instanceof Us(e).Node:!1}function ei(e){return z0()?e instanceof Element||e instanceof Us(e).Element:!1}function $i(e){return z0()?e instanceof HTMLElement||e instanceof Us(e).HTMLElement:!1}function kM(e){return!z0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Us(e).ShadowRoot}function Pg(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ti(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function bre(e){return["table","td","th"].includes(Zh(e))}function q0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function UP(e){const t=zP(),n=ei(e)?ti(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wre(e){let t=Ul(e);for(;$i(t)&&!oh(t);){if(UP(t))return t;if(q0(t))return null;t=Ul(t)}return null}function zP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oh(e){return["html","body","#document"].includes(Zh(e))}function ti(e){return Us(e).getComputedStyle(e)}function V0(e){return ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ul(e){if(Zh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kM(e)&&e.host||Ui(e);return kM(t)?t.host:t}function m8(e){const t=Ul(e);return oh(t)?e.ownerDocument?e.ownerDocument.body:e.body:$i(t)&&Pg(t)?t:m8(t)}function jp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=m8(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Us(a);if(i){const l=dS(o);return t.concat(o,o.visualViewport||[],Pg(a)?a:[],l&&n?jp(l):[])}return t.concat(a,jp(a,[],n))}function dS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p8(e){const t=ti(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=$i(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Ly(n)!==i||Ly(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function qP(e){return ei(e)?e:e.contextElement}function jd(e){const t=qP(e);if(!$i(t))return Fl(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=p8(t);let o=(i?Ly(n.width):n.width)/r,l=(i?Ly(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jre=Fl(0);function g8(e){const t=Us(e);return!zP()||!t.visualViewport?jre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _re(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Us(e)?!1:t}function ru(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=qP(e);let o=Fl(1);t&&(r?ei(r)&&(o=jd(r)):o=jd(e));const l=_re(i,n,r)?g8(i):Fl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=Us(i),m=r&&ei(r)?Us(r):r;let g=f,p=dS(g);for(;p&&r&&m!==g;){const v=jd(p),x=p.getBoundingClientRect(),b=ti(p),w=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=x.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=w,u+=j,g=Us(p),p=dS(g)}}return By({width:d,height:h,x:c,y:u})}function Nre(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Ui(r),l=t?q0(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Fl(1);const d=Fl(0),h=$i(r);if((h||!h&&!i)&&((Zh(r)!=="body"||Pg(o))&&(c=V0(r)),$i(r))){const f=ru(r);u=jd(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function Sre(e){return Array.from(e.getClientRects())}function hS(e,t){const n=V0(e).scrollLeft;return t?t.left+n:ru(Ui(e)).left+n}function Cre(e){const t=Ui(e),n=V0(e),r=e.ownerDocument.body,a=Ms(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ms(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hS(e);const l=-n.scrollTop;return ti(r).direction==="rtl"&&(o+=Ms(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function kre(e,t){const n=Us(e),r=Ui(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=zP();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Ere(e,t){const n=ru(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=$i(e)?jd(e):Fl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function EM(e,t,n){let r;if(t==="viewport")r=kre(e,n);else if(t==="document")r=Cre(Ui(e));else if(ei(t))r=Ere(t,n);else{const a=g8(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return By(r)}function v8(e,t){const n=Ul(e);return n===t||!ei(n)||oh(n)?!1:ti(n).position==="fixed"||v8(n,t)}function Pre(e,t){const n=t.get(e);if(n)return n;let r=jp(e,[],!1).filter(l=>ei(l)&&Zh(l)!=="body"),a=null;const i=ti(e).position==="fixed";let o=i?Ul(e):e;for(;ei(o)&&!oh(o);){const l=ti(o),c=UP(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Pg(o)&&!c&&v8(e,o))?r=r.filter(d=>d!==o):a=l,o=Ul(o)}return t.set(e,r),r}function Are(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?q0(t)?[]:Pre(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=EM(t,d,a);return u.top=Ms(h.top,u.top),u.right=Ll(h.right,u.right),u.bottom=Ll(h.bottom,u.bottom),u.left=Ms(h.left,u.left),u},EM(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Tre(e){const{width:t,height:n}=p8(e);return{width:t,height:n}}function Ore(e,t,n){const r=$i(t),a=Ui(t),i=n==="fixed",o=ru(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Fl(0);if(r||!r&&!i)if((Zh(t)!=="body"||Pg(a))&&(l=V0(t)),r){const m=ru(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=hS(a));let u=0,d=0;if(a&&!r&&!i){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-hS(a,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function x_(e){return ti(e).position==="static"}function PM(e,t){if(!$i(e)||ti(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ui(e)===n&&(n=n.ownerDocument.body),n}function x8(e,t){const n=Us(e);if(q0(e))return n;if(!$i(e)){let a=Ul(e);for(;a&&!oh(a);){if(ei(a)&&!x_(a))return a;a=Ul(a)}return n}let r=PM(e,t);for(;r&&bre(r)&&x_(r);)r=PM(r,t);return r&&oh(r)&&x_(r)&&!UP(r)?n:r||wre(e)||n}const Mre=async function(e){const t=this.getOffsetParent||x8,n=this.getDimensions,r=await n(e.floating);return{reference:Ore(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Dre(e){return ti(e).direction==="rtl"}const Ire={convertOffsetParentRelativeRectToViewportRelativeRect:Nre,getDocumentElement:Ui,getClippingRect:Are,getOffsetParent:x8,getElementRects:Mre,getClientRects:Sre,getDimensions:Tre,getScale:jd,isElement:ei,isRTL:Dre};function Rre(e,t){let n=null,r;const a=Ui(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const m=Hv(d),g=Hv(a.clientWidth-(u+h)),p=Hv(a.clientHeight-(d+f)),v=Hv(u),b={rootMargin:-m+"px "+-g+"px "+-p+"px "+-v+"px",threshold:Ms(0,Ll(1,c))||1};let w=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!w)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return o(!0),i}function $re(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qP(e),d=a||i?[...u?jp(u):[],...jp(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?Rre(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?ru(e):null;c&&v();function v(){const x=ru(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,g=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Lre=gre,Fre=vre,Bre=fre,Ure=yre,zre=mre,AM=hre,qre=xre,Vre=(e,t,n)=>{const r=new Map,a={platform:Ire,...n},i={...a.platform,_c:r};return dre(e,t,{...a,platform:i})};var Jx=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Uy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uy(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Uy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function y8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TM(e,t){const n=y8(e);return Math.round(t*n)/n}function y_(e){const t=y.useRef(e);return Jx(()=>{t.current=e}),t}function Wre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(r);Uy(f,r)||m(r);const[g,p]=y.useState(null),[v,x]=y.useState(null),b=y.useCallback(T=>{T!==N.current&&(N.current=T,p(T))},[]),w=y.useCallback(T=>{T!==C.current&&(C.current=T,x(T))},[]),j=i||g,S=o||v,N=y.useRef(null),C=y.useRef(null),k=y.useRef(d),D=c!=null,R=y_(c),E=y_(a),B=y_(u),F=y.useCallback(()=>{if(!N.current||!C.current)return;const T={placement:t,strategy:n,middleware:f};E.current&&(T.platform=E.current),Vre(N.current,C.current,T).then(U=>{const M={...U,isPositioned:B.current!==!1};L.current&&!Uy(k.current,M)&&(k.current=M,ca.flushSync(()=>{h(M)}))})},[f,t,n,E,B]);Jx(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[u]);const L=y.useRef(!1);Jx(()=>(L.current=!0,()=>{L.current=!1}),[]),Jx(()=>{if(j&&(N.current=j),S&&(C.current=S),j&&S){if(R.current)return R.current(j,S,F);F()}},[j,S,F,R,D]);const I=y.useMemo(()=>({reference:N,floating:C,setReference:b,setFloating:w}),[b,w]),O=y.useMemo(()=>({reference:j,floating:S}),[j,S]),$=y.useMemo(()=>{const T={position:n,left:0,top:0};if(!O.floating)return T;const U=TM(O.floating,d.x),M=TM(O.floating,d.y);return l?{...T,transform:"translate("+U+"px, "+M+"px)",...y8(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:M}},[n,l,O.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:F,refs:I,elements:O,floatingStyles:$}),[d,F,I,O,$])}const Hre=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?AM({element:r.current,padding:a}).fn(n):{}:r?AM({element:r,padding:a}).fn(n):{}}}},Gre=(e,t)=>({...Lre(e),options:[e,t]}),Kre=(e,t)=>({...Fre(e),options:[e,t]}),Yre=(e,t)=>({...qre(e),options:[e,t]}),Jre=(e,t)=>({...Bre(e),options:[e,t]}),Xre=(e,t)=>({...Ure(e),options:[e,t]}),Qre=(e,t)=>({...zre(e),options:[e,t]}),Zre=(e,t)=>({...Hre(e),options:[e,t]});var ese="Arrow",b8=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(De.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});b8.displayName=ese;var tse=b8;function nse(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,rse(a,...t)]}function rse(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ag(e){const[t,n]=y.useState(void 0);return Xn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var VP="Popper",[w8,Jl]=nse(VP),[sse,j8]=w8(VP),_8=e=>{const{__scopePopper:t,children:n}=e,[r,a]=y.useState(null);return s.jsx(sse,{scope:t,anchor:r,onAnchorChange:a,children:n})};_8.displayName=VP;var N8="PopperAnchor",S8=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=j8(N8,n),o=y.useRef(null),l=Ye(t,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(De.div,{...a,ref:l})});S8.displayName=N8;var WP="PopperContent",[ase,ise]=w8(WP),C8=y.forwardRef((e,t)=>{var V,te,Z,q,Q,ne;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=j8(WP,n),[x,b]=y.useState(null),w=Ye(t,pe=>b(pe)),[j,S]=y.useState(null),N=Ag(j),C=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,D=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],B=E.length>0,F={padding:R,boundary:E.filter(lse),altBoundary:B},{refs:L,floatingStyles:I,placement:O,isPositioned:$,middlewareData:T}=Wre({strategy:"fixed",placement:D,whileElementsMounted:(...pe)=>$re(...pe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Gre({mainAxis:a+k,alignmentAxis:o}),c&&Kre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Yre():void 0,...F}),c&&Jre({...F}),Xre({...F,apply:({elements:pe,rects:Se,availableWidth:qe,availableHeight:Ve})=>{const{width:We,height:st}=Se.reference,Ke=pe.floating.style;Ke.setProperty("--radix-popper-available-width",`${qe}px`),Ke.setProperty("--radix-popper-available-height",`${Ve}px`),Ke.setProperty("--radix-popper-anchor-width",`${We}px`),Ke.setProperty("--radix-popper-anchor-height",`${st}px`)}}),j&&Zre({element:j,padding:l}),cse({arrowWidth:C,arrowHeight:k}),f&&Qre({strategy:"referenceHidden",...F})]}),[U,M]=P8(O),Y=yn(g);Xn(()=>{$&&(Y==null||Y())},[$,Y]);const ee=(V=T.arrow)==null?void 0:V.x,_=(te=T.arrow)==null?void 0:te.y,A=((Z=T.arrow)==null?void 0:Z.centerOffset)!==0,[P,z]=y.useState();return Xn(()=>{x&&z(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:$?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P,"--radix-popper-transform-origin":[(q=T.transformOrigin)==null?void 0:q.x,(Q=T.transformOrigin)==null?void 0:Q.y].join(" "),...((ne=T.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(ase,{scope:n,placedSide:U,onArrowChange:S,arrowX:ee,arrowY:_,shouldHideArrow:A,children:s.jsx(De.div,{"data-side":U,"data-align":M,...p,ref:w,style:{...p.style,animation:$?void 0:"none"}})})})});C8.displayName=WP;var k8="PopperArrow",ose={top:"bottom",right:"left",bottom:"top",left:"right"},E8=y.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=ise(k8,r),o=ose[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(tse,{...a,ref:n,style:{...a.style,display:"block"}})})});E8.displayName=k8;function lse(e){return e!==null}var cse=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:n,rects:r,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=P8(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):u==="top"?(g=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function P8(e){const[t,n="center"]=e.split("-");return[t,n]}var W0=_8,Tg=S8,H0=C8,G0=E8,[K0,NGe]=Or("Tooltip",[Jl]),Y0=Jl(),A8="TooltipProvider",use=700,fS="tooltip.open",[dse,HP]=K0(A8),T8=e=>{const{__scopeTooltip:t,delayDuration:n=use,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(dse,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};T8.displayName=A8;var J0="Tooltip",[hse,X0]=K0(J0),O8=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=HP(J0,e.__scopeTooltip),u=Y0(t),[d,h]=y.useState(null),f=Bs(),m=y.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,v=y.useRef(!1),[x=!1,b]=xs({prop:r,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(fS))):c.onClose(),i==null||i(C)}}),w=y.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),j=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,b(!0)},[b]),S=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),N=y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,b(!0),m.current=0},p)},[p,b]);return y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(W0,{...u,children:s.jsx(hse,{scope:t,contentId:f,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayed?N():j()},[c.isOpenDelayed,N,j]),onTriggerLeave:y.useCallback(()=>{g?S():(window.clearTimeout(m.current),m.current=0)},[S,g]),onOpen:j,onClose:S,disableHoverableContent:g,children:n})})};O8.displayName=J0;var mS="TooltipTrigger",M8=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=X0(mS,n),i=HP(mS,n),o=Y0(n),l=y.useRef(null),c=Ye(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Tg,{asChild:!0,...o,children:s.jsx(De.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:we(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:we(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:we(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:we(e.onBlur,a.onClose),onClick:we(e.onClick,a.onClose)})})});M8.displayName=mS;var fse="TooltipPortal",[SGe,mse]=K0(fse,{forceMount:void 0}),lh="TooltipContent",D8=y.forwardRef((e,t)=>{const n=mse(lh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=X0(lh,e.__scopeTooltip);return s.jsx($n,{present:r||o.open,children:o.disableHoverableContent?s.jsx(I8,{side:a,...i,ref:t}):s.jsx(pse,{side:a,...i,ref:t})})}),pse=y.forwardRef((e,t)=>{const n=X0(lh,e.__scopeTooltip),r=HP(lh,e.__scopeTooltip),a=y.useRef(null),i=Ye(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{l(null),h(!1)},[h]),m=y.useCallback((g,p)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},b=yse(x,v.getBoundingClientRect()),w=bse(x,b),j=wse(p.getBoundingClientRect()),S=_se([...w,...j]);l(S),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!jse(x,o);b?f():w&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,f]),s.jsx(I8,{...e,ref:i})}),[gse,vse]=K0(J0,{isInside:!1}),I8=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=X0(lh,n),u=Y0(n),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(fS,d),()=>document.removeEventListener(fS,d)),[d]),y.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(H0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(_P,{children:r}),s.jsx(gse,{scope:n,isInside:!0,children:s.jsx(Xee,{id:c.contentId,role:"tooltip",children:a||r})})]})})});D8.displayName=lh;var R8="TooltipArrow",xse=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Y0(n);return vse(R8,n).isInside?null:s.jsx(G0,{...a,...r,ref:t})});xse.displayName=R8;function yse(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bse(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function wse(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function jse(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function _se(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Nse(t)}function Nse(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Sse=T8,Cse=O8,kse=M8,$8=D8;const L8=Sse,Ese=Cse,Pse=kse,F8=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx($8,{ref:r,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));F8.displayName=$8.displayName;var Og=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},su=typeof window>"u"||"Deno"in globalThis;function na(){}function Ase(e,t){return typeof e=="function"?e(t):e}function pS(e){return typeof e=="number"&&e>=0&&e!==1/0}function B8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _d(e,t){return typeof e=="function"?e(t):e}function za(e,t){return typeof e=="function"?e(t):e}function OM(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==GP(o,t.options))return!1}else if(!Np(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function MM(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(_p(t.options.mutationKey)!==_p(i))return!1}else if(!Np(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function GP(e,t){return((t==null?void 0:t.queryKeyHashFn)||_p)(e)}function _p(e){return JSON.stringify(e,(t,n)=>vS(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Np(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Np(e[n],t[n])):!1}function U8(e,t){if(e===t)return e;const n=DM(e)&&DM(t);if(n||vS(e)&&vS(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=U8(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function gS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function DM(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vS(e){if(!IM(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!IM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function IM(e){return Object.prototype.toString.call(e)==="[object Object]"}function Tse(e){return new Promise(t=>{setTimeout(t,e)})}function xS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?U8(e,t):t}function Ose(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Mse(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var KP=Symbol();function z8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===KP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ic,cl,Fd,GF,Dse=(GF=class extends Og{constructor(){super();rt(this,Ic);rt(this,cl);rt(this,Fd);$e(this,Fd,t=>{if(!su&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,cl)||this.setEventListener(ie(this,Fd))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,cl))==null||t.call(this),$e(this,cl,void 0))}setEventListener(t){var n;$e(this,Fd,t),(n=ie(this,cl))==null||n.call(this),$e(this,cl,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ie(this,Ic)!==t&&($e(this,Ic,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ie(this,Ic)=="boolean"?ie(this,Ic):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ic=new WeakMap,cl=new WeakMap,Fd=new WeakMap,GF),YP=new Dse,Bd,ul,Ud,KF,Ise=(KF=class extends Og{constructor(){super();rt(this,Bd,!0);rt(this,ul);rt(this,Ud);$e(this,Ud,t=>{if(!su&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,ul)||this.setEventListener(ie(this,Ud))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,ul))==null||t.call(this),$e(this,ul,void 0))}setEventListener(t){var n;$e(this,Ud,t),(n=ie(this,ul))==null||n.call(this),$e(this,ul,t(this.setOnline.bind(this)))}setOnline(t){ie(this,Bd)!==t&&($e(this,Bd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ie(this,Bd)}},Bd=new WeakMap,ul=new WeakMap,Ud=new WeakMap,KF),zy=new Ise;function yS(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Rse(e){return Math.min(1e3*2**e,3e4)}function q8(e){return(e??"online")==="online"?zy.isOnline():!0}var V8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function b_(e){return e instanceof V8}function W8(e){let t=!1,n=0,r=!1,a;const i=yS(),o=p=>{var v;r||(f(new V8(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>YP.isFocused()&&(e.networkMode==="always"||zy.isOnline())&&e.canRun(),d=()=>q8(e.networkMode)&&e.canRun(),h=p=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var v;a=x=>{(r||u())&&p(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(r)return;let p;const v=n===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(h).catch(x=>{var N;if(r)return;const b=e.retry??(su?0:3),w=e.retryDelay??Rse,j=typeof w=="function"?w(n,x):w,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(t||!S){f(x);return}n++,(N=e.onFail)==null||N.call(e,n,x),Tse(j).then(()=>u()?void 0:m()).then(()=>{t?f(x):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}function $se(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var or=$se(),Rc,YF,H8=(YF=class{constructor(){rt(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pS(this.gcTime)&&$e(this,Rc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(su?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Rc)&&(clearTimeout(ie(this,Rc)),$e(this,Rc,void 0))}},Rc=new WeakMap,YF),zd,qd,ta,wr,xg,$c,Ia,Yi,JF,Lse=(JF=class extends H8{constructor(t){super();rt(this,Ia);rt(this,zd);rt(this,qd);rt(this,ta);rt(this,wr);rt(this,xg);rt(this,$c);$e(this,$c,!1),$e(this,xg,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,ta,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,zd,Fse(this.options)),this.state=t.state??ie(this,zd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,wr))==null?void 0:t.promise}setOptions(t){this.options={...ie(this,xg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,ta).remove(this)}setData(t,n){const r=xS(this.state.data,t,this.options);return _t(this,Ia,Yi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){_t(this,Ia,Yi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=ie(this,wr))==null?void 0:r.promise;return(a=ie(this,wr))==null||a.cancel(t),n?n.then(na).catch(na):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,zd))}isActive(){return this.observers.some(t=>za(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!B8(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,wr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,wr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,ta).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ie(this,wr)&&(ie(this,$c)?ie(this,wr).cancel({revert:!0}):ie(this,wr).cancelRetry()),this.scheduleGc()),ie(this,ta).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Ia,Yi).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,wr))return ie(this,wr).continueRetry(),ie(this,wr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>($e(this,$c,!0),r.signal)})},i=()=>{const h=z8(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),$e(this,$c,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),$e(this,qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&_t(this,Ia,Yi).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,g,p;b_(h)&&h.silent||_t(this,Ia,Yi).call(this,{type:"error",error:h}),b_(h)||((m=(f=ie(this,ta).config).onError)==null||m.call(f,h,this),(p=(g=ie(this,ta).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return $e(this,wr,W8({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,g,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(m=(f=ie(this,ta).config).onSuccess)==null||m.call(f,h,this),(p=(g=ie(this,ta).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{_t(this,Ia,Yi).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{_t(this,Ia,Yi).call(this,{type:"pause"})},onContinue:()=>{_t(this,Ia,Yi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ie(this,wr).start()}},zd=new WeakMap,qd=new WeakMap,ta=new WeakMap,wr=new WeakMap,xg=new WeakMap,$c=new WeakMap,Ia=new WeakSet,Yi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...G8(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return b_(a)&&a.revert&&ie(this,qd)?{...ie(this,qd),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,ta).notify({query:this,type:"updated",action:t})})},JF);function G8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:q8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Fse(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wi,XF,Bse=(XF=class extends Og{constructor(t={}){super();rt(this,wi);this.config=t,$e(this,wi,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??GP(a,n);let o=this.get(i);return o||(o=new Lse({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ie(this,wi).has(t.queryHash)||(ie(this,wi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ie(this,wi).get(t.queryHash);n&&(t.destroy(),n===t&&ie(this,wi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,wi).get(t)}getAll(){return[...ie(this,wi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OM(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>OM(t,r)):n}notify(t){or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){or.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){or.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wi=new WeakMap,XF),ji,Br,Lc,_i,Go,QF,Use=(QF=class extends H8{constructor(t){super();rt(this,_i);rt(this,ji);rt(this,Br);rt(this,Lc);this.mutationId=t.mutationId,$e(this,Br,t.mutationCache),$e(this,ji,[]),this.state=t.state||zse(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,ji).includes(t)||(ie(this,ji).push(t),this.clearGcTimeout(),ie(this,Br).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,ji,ie(this,ji).filter(n=>n!==t)),this.scheduleGc(),ie(this,Br).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,ji).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Br).remove(this))}continue(){var t;return((t=ie(this,Lc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,h,f,m,g,p,v,x,b,w,j,S,N,C;$e(this,Lc,W8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{_t(this,_i,Go).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{_t(this,_i,Go).call(this,{type:"pause"})},onContinue:()=>{_t(this,_i,Go).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Br).canRun(this)}));const n=this.state.status==="pending",r=!ie(this,Lc).canStart();try{if(!n){_t(this,_i,Go).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=ie(this,Br).config).onMutate)==null?void 0:i.call(a,t,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));D!==this.state.context&&_t(this,_i,Go).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const k=await ie(this,Lc).start();return await((u=(c=ie(this,Br).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,t,this.state.context)),await((m=(f=ie(this,Br).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context)),_t(this,_i,Go).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=ie(this,Br).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,k,t,this.state.context)),await((S=(j=ie(this,Br).config).onSettled)==null?void 0:S.call(j,void 0,k,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,k,t,this.state.context)),k}finally{_t(this,_i,Go).call(this,{type:"error",error:k})}}finally{ie(this,Br).runNext(this)}}},ji=new WeakMap,Br=new WeakMap,Lc=new WeakMap,_i=new WeakSet,Go=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),or.batch(()=>{ie(this,ji).forEach(r=>{r.onMutationUpdate(t)}),ie(this,Br).notify({mutation:this,type:"updated",action:t})})},QF);function zse(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ps,yg,ZF,qse=(ZF=class extends Og{constructor(t={}){super();rt(this,Ps);rt(this,yg);this.config=t,$e(this,Ps,new Map),$e(this,yg,Date.now())}build(t,n,r){const a=new Use({mutationCache:this,mutationId:++Sv(this,yg)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=Gv(t),r=ie(this,Ps).get(n)??[];r.push(t),ie(this,Ps).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Gv(t);if(ie(this,Ps).has(n)){const a=(r=ie(this,Ps).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?ie(this,Ps).delete(n):ie(this,Ps).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=ie(this,Ps).get(Gv(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=ie(this,Ps).get(Gv(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){or.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ie(this,Ps).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>MM(n,r))}findAll(t={}){return this.getAll().filter(n=>MM(t,n))}notify(t){or.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return or.batch(()=>Promise.all(t.map(n=>n.continue().catch(na))))}},Ps=new WeakMap,yg=new WeakMap,ZF);function Gv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function RM(e){return{onFetch:(t,n)=>{var d,h,f,m,g;const r=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=z8(t.options,t.fetchOptions),b=async(w,j,S)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};v(N);const C=await x(N),{maxPages:k}=t.options,D=S?Mse:Ose;return{pages:D(w.pages,C,k),pageParams:D(w.pageParams,j,k)}};if(a&&i.length){const w=a==="backward",j=w?Vse:$M,S={pages:i,pageParams:o},N=j(r,S);l=await b(S,N,w)}else{const w=e??i.length;do{const j=c===0?o[0]??r.initialPageParam:$M(r,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function $M(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Vse(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var _n,dl,hl,Vd,Wd,fl,Hd,Gd,e5,Wse=(e5=class{constructor(e={}){rt(this,_n);rt(this,dl);rt(this,hl);rt(this,Vd);rt(this,Wd);rt(this,fl);rt(this,Hd);rt(this,Gd);$e(this,_n,e.queryCache||new Bse),$e(this,dl,e.mutationCache||new qse),$e(this,hl,e.defaultOptions||{}),$e(this,Vd,new Map),$e(this,Wd,new Map),$e(this,fl,0)}mount(){Sv(this,fl)._++,ie(this,fl)===1&&($e(this,Hd,YP.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,_n).onFocus())})),$e(this,Gd,zy.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,_n).onOnline())})))}unmount(){var e,t;Sv(this,fl)._--,ie(this,fl)===0&&((e=ie(this,Hd))==null||e.call(this),$e(this,Hd,void 0),(t=ie(this,Gd))==null||t.call(this),$e(this,Gd,void 0))}isFetching(e){return ie(this,_n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,dl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,_n).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=ie(this,_n).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(_d(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return ie(this,_n).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=ie(this,_n).get(r.queryHash),i=a==null?void 0:a.state.data,o=Ase(t,i);if(o!==void 0)return ie(this,_n).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return or.batch(()=>ie(this,_n).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,_n).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ie(this,_n);or.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ie(this,_n),r={type:"active",...e};return or.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=or.batch(()=>ie(this,_n).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(na).catch(na)}invalidateQueries(e={},t={}){return or.batch(()=>{if(ie(this,_n).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=or.batch(()=>ie(this,_n).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(na)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(na)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ie(this,_n).build(this,t);return n.isStaleByTime(_d(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(na).catch(na)}fetchInfiniteQuery(e){return e.behavior=RM(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(na).catch(na)}ensureInfiniteQueryData(e){return e.behavior=RM(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zy.isOnline()?ie(this,dl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,_n)}getMutationCache(){return ie(this,dl)}getDefaultOptions(){return ie(this,hl)}setDefaultOptions(e){$e(this,hl,e)}setQueryDefaults(e,t){ie(this,Vd).set(_p(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,Vd).values()];let n={};return t.forEach(r=>{Np(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){ie(this,Wd).set(_p(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,Wd).values()];let n={};return t.forEach(r=>{Np(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,hl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=GP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===KP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,hl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,_n).clear(),ie(this,dl).clear()}},_n=new WeakMap,dl=new WeakMap,hl=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,fl=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,e5),ns,St,bg,Ur,Fc,Kd,ml,Ni,wg,Yd,Jd,Bc,Uc,pl,Xd,Ft,ym,bS,wS,jS,_S,NS,SS,CS,K8,t5,Hse=(t5=class extends Og{constructor(t,n){super();rt(this,Ft);rt(this,ns);rt(this,St);rt(this,bg);rt(this,Ur);rt(this,Fc);rt(this,Kd);rt(this,ml);rt(this,Ni);rt(this,wg);rt(this,Yd);rt(this,Jd);rt(this,Bc);rt(this,Uc);rt(this,pl);rt(this,Xd,new Set);this.options=n,$e(this,ns,t),$e(this,Ni,null),$e(this,ml,yS()),this.options.experimental_prefetchInRender||ie(this,ml).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,St).addObserver(this),LM(ie(this,St),this.options)?_t(this,Ft,ym).call(this):this.updateResult(),_t(this,Ft,_S).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kS(ie(this,St),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kS(ie(this,St),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_t(this,Ft,NS).call(this),_t(this,Ft,SS).call(this),ie(this,St).removeObserver(this)}setOptions(t,n){const r=this.options,a=ie(this,St);if(this.options=ie(this,ns).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof za(this.options.enabled,ie(this,St))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_t(this,Ft,CS).call(this),ie(this,St).setOptions(this.options),r._defaulted&&!gS(this.options,r)&&ie(this,ns).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,St),observer:this});const i=this.hasListeners();i&&FM(ie(this,St),a,this.options,r)&&_t(this,Ft,ym).call(this),this.updateResult(n),i&&(ie(this,St)!==a||za(this.options.enabled,ie(this,St))!==za(r.enabled,ie(this,St))||_d(this.options.staleTime,ie(this,St))!==_d(r.staleTime,ie(this,St)))&&_t(this,Ft,bS).call(this);const o=_t(this,Ft,wS).call(this);i&&(ie(this,St)!==a||za(this.options.enabled,ie(this,St))!==za(r.enabled,ie(this,St))||o!==ie(this,pl))&&_t(this,Ft,jS).call(this,o)}getOptimisticResult(t){const n=ie(this,ns).getQueryCache().build(ie(this,ns),t),r=this.createResult(n,t);return Kse(this,r)&&($e(this,Ur,r),$e(this,Kd,this.options),$e(this,Fc,ie(this,St).state)),r}getCurrentResult(){return ie(this,Ur)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){ie(this,Xd).add(t)}getCurrentQuery(){return ie(this,St)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ie(this,ns).defaultQueryOptions(t),r=ie(this,ns).getQueryCache().build(ie(this,ns),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return _t(this,Ft,ym).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,Ur)))}createResult(t,n){var k;const r=ie(this,St),a=this.options,i=ie(this,Ur),o=ie(this,Fc),l=ie(this,Kd),u=t!==r?t.state:ie(this,bg),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const D=this.hasListeners(),R=!D&&LM(t,n),E=D&&FM(t,r,n,a);(R||E)&&(h={...h,...G8(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===ie(this,wg))m=ie(this,Yd);else try{$e(this,wg,n.select),m=n.select(h.data),m=xS(i==null?void 0:i.data,m,n),$e(this,Yd,m),$e(this,Ni,null)}catch(D){$e(this,Ni,D)}else m=h.data;if(n.placeholderData!==void 0&&m===void 0&&v==="pending"){let D;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))D=i.data;else if(D=typeof n.placeholderData=="function"?n.placeholderData((k=ie(this,Jd))==null?void 0:k.state.data,ie(this,Jd)):n.placeholderData,n.select&&D!==void 0)try{D=n.select(D),$e(this,Ni,null)}catch(R){$e(this,Ni,R)}D!==void 0&&(v="success",m=xS(i==null?void 0:i.data,D,n),f=!0)}ie(this,Ni)&&(g=ie(this,Ni),m=ie(this,Yd),p=Date.now(),v="error");const x=h.fetchStatus==="fetching",b=v==="pending",w=v==="error",j=b&&x,S=m!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&S,isStale:JP(t,n),refetch:this.refetch,promise:ie(this,ml)};if(this.options.experimental_prefetchInRender){const D=B=>{C.status==="error"?B.reject(C.error):C.data!==void 0&&B.resolve(C.data)},R=()=>{const B=$e(this,ml,C.promise=yS());D(B)},E=ie(this,ml);switch(E.status){case"pending":t.queryHash===r.queryHash&&D(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&R();break}}return C}updateResult(t){const n=ie(this,Ur),r=this.createResult(ie(this,St),this.options);if($e(this,Fc,ie(this,St).state),$e(this,Kd,this.options),ie(this,Fc).data!==void 0&&$e(this,Jd,ie(this,St)),gS(r,n))return;$e(this,Ur,r);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!ie(this,Xd).size)return!0;const c=new Set(l??ie(this,Xd));return this.options.throwOnError&&c.add("error"),Object.keys(ie(this,Ur)).some(u=>{const d=u;return ie(this,Ur)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),_t(this,Ft,K8).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_t(this,Ft,_S).call(this)}},ns=new WeakMap,St=new WeakMap,bg=new WeakMap,Ur=new WeakMap,Fc=new WeakMap,Kd=new WeakMap,ml=new WeakMap,Ni=new WeakMap,wg=new WeakMap,Yd=new WeakMap,Jd=new WeakMap,Bc=new WeakMap,Uc=new WeakMap,pl=new WeakMap,Xd=new WeakMap,Ft=new WeakSet,ym=function(t){_t(this,Ft,CS).call(this);let n=ie(this,St).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(na)),n},bS=function(){_t(this,Ft,NS).call(this);const t=_d(this.options.staleTime,ie(this,St));if(su||ie(this,Ur).isStale||!pS(t))return;const r=B8(ie(this,Ur).dataUpdatedAt,t)+1;$e(this,Bc,setTimeout(()=>{ie(this,Ur).isStale||this.updateResult()},r))},wS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,St)):this.options.refetchInterval)??!1},jS=function(t){_t(this,Ft,SS).call(this),$e(this,pl,t),!(su||za(this.options.enabled,ie(this,St))===!1||!pS(ie(this,pl))||ie(this,pl)===0)&&$e(this,Uc,setInterval(()=>{(this.options.refetchIntervalInBackground||YP.isFocused())&&_t(this,Ft,ym).call(this)},ie(this,pl)))},_S=function(){_t(this,Ft,bS).call(this),_t(this,Ft,jS).call(this,_t(this,Ft,wS).call(this))},NS=function(){ie(this,Bc)&&(clearTimeout(ie(this,Bc)),$e(this,Bc,void 0))},SS=function(){ie(this,Uc)&&(clearInterval(ie(this,Uc)),$e(this,Uc,void 0))},CS=function(){const t=ie(this,ns).getQueryCache().build(ie(this,ns),this.options);if(t===ie(this,St))return;const n=ie(this,St);$e(this,St,t),$e(this,bg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},K8=function(t){or.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ie(this,Ur))}),ie(this,ns).getQueryCache().notify({query:ie(this,St),type:"observerResultsUpdated"})})},t5);function Gse(e,t){return za(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function LM(e,t){return Gse(e,t)||e.state.data!==void 0&&kS(e,t,t.refetchOnMount)}function kS(e,t,n){if(za(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&JP(e,t)}return!1}function FM(e,t,n,r){return(e!==t||za(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&JP(e,n)}function JP(e,t){return za(t.enabled,e)!==!1&&e.isStaleByTime(_d(t.staleTime,e))}function Kse(e,t){return!gS(e.getCurrentResult(),t)}var Y8=y.createContext(void 0),Yse=e=>{const t=y.useContext(Y8);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jse=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Y8.Provider,{value:e,children:t})),J8=y.createContext(!1),Xse=()=>y.useContext(J8);J8.Provider;function Qse(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Zse=y.createContext(Qse()),eae=()=>y.useContext(Zse);function tae(e,t){return typeof e=="function"?e(...t):!!e}function nae(){}var rae=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},sae=e=>{y.useEffect(()=>{e.clearReset()},[e])},aae=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&tae(n,[e.error,r]),iae=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},oae=(e,t)=>e.isLoading&&e.isFetching&&!t,lae=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BM=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cae(e,t,n){var d,h,f,m,g;const r=Yse(),a=Xse(),i=eae(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",iae(o),rae(o,i),sae(i);const l=!r.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(p=>{const v=a?()=>{}:c.subscribe(or.batchCalls(p));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),lae(o,u))throw BM(o,c,i);if(aae({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,u),o.experimental_prefetchInRender&&!su&&oae(u,a)){const p=l?BM(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(nae).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function uae(e,t){return cae(e,Hse)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(this,arguments)}var xl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xl||(xl={}));const UM="popstate";function dae(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return ES("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:qy(a)}return fae(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hae(){return Math.random().toString(36).substr(2,8)}function zM(e,t){return{usr:e.state,key:e.key,idx:t}}function ES(e,t,n,r){return n===void 0&&(n=null),Sp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ef(t):t,{state:n,key:t&&t.key||r||hae()})}function qy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ef(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fae(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=xl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Sp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=xl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function f(v,x){l=xl.Push;let b=ES(p.location,v,x);u=d()+1;let w=zM(b,u),j=p.createHref(b);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=xl.Replace;let b=ES(p.location,v,x);u=d();let w=zM(b,u),j=p.createHref(b);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:qy(v);return b=b.replace(/ $/,"%20"),wn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(UM,h),c=v,()=>{a.removeEventListener(UM,h),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var qM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qM||(qM={}));function mae(e,t,n){return n===void 0&&(n="/"),pae(e,t,n,!1)}function pae(e,t,n,r){let a=typeof t=="string"?ef(t):t,i=ch(a.pathname||"/",n);if(i==null)return null;let o=Q8(e);gae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=kae(i);l=Sae(o[c],u,r)}return l}function Q8(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(wn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Pl([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(wn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q8(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:_ae(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Z8(i.path))a(i,o,c)}),t}function Z8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Z8(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function gae(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Nae(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vae=/^:[\w-]+$/,xae=3,yae=2,bae=1,wae=10,jae=-2,VM=e=>e==="*";function _ae(e,t){let n=e.split("/"),r=n.length;return n.some(VM)&&(r+=jae),t&&(r+=yae),n.filter(a=>!VM(a)).reduce((a,i)=>a+(vae.test(i)?xae:i===""?bae:wae),r)}function Nae(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Sae(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Vy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Vy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Pl([i,h.pathname]),pathnameBase:Tae(Pl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Pl([i,h.pathnameBase]))}return o}function Vy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Cae(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Cae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),X8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function kae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return X8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ch(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Eae(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ef(e):e;return{pathname:n?n.startsWith("/")?n:Pae(n,t):t,search:Oae(r),hash:Mae(a)}}function Pae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function w_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Aae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XP(e,t){let n=Aae(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QP(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ef(e):(a=Sp({},e),wn(!a.pathname||!a.pathname.includes("?"),w_("?","pathname","search",a)),wn(!a.pathname||!a.pathname.includes("#"),w_("#","pathname","hash",a)),wn(!a.search||!a.search.includes("#"),w_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Eae(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pl=e=>e.join("/").replace(/\/\/+/g,"/"),Tae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eU=["post","put","patch","delete"];new Set(eU);const Iae=["get",...eU];new Set(Iae);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}const Q0=y.createContext(null),tU=y.createContext(null),Ao=y.createContext(null),Z0=y.createContext(null),zi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),nU=y.createContext(null);function Rae(e,t){let{relative:n}=t===void 0?{}:t;tf()||wn(!1);let{basename:r,navigator:a}=y.useContext(Ao),{hash:i,pathname:o,search:l}=tw(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Pl([r,o])),a.createHref({pathname:c,search:l,hash:i})}function tf(){return y.useContext(Z0)!=null}function li(){return tf()||wn(!1),y.useContext(Z0).location}function rU(e){y.useContext(Ao).static||y.useLayoutEffect(e)}function Mr(){let{isDataRoute:e}=y.useContext(zi);return e?Xae():$ae()}function $ae(){tf()||wn(!1);let e=y.useContext(Q0),{basename:t,future:n,navigator:r}=y.useContext(Ao),{matches:a}=y.useContext(zi),{pathname:i}=li(),o=JSON.stringify(XP(a,n.v7_relativeSplatPath)),l=y.useRef(!1);return rU(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=QP(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Pl([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const Lae=y.createContext(null);function Fae(e){let t=y.useContext(zi).outlet;return t&&y.createElement(Lae.Provider,{value:e},t)}function ew(){let{matches:e}=y.useContext(zi),t=e[e.length-1];return t?t.params:{}}function tw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Ao),{matches:a}=y.useContext(zi),{pathname:i}=li(),o=JSON.stringify(XP(a,r.v7_relativeSplatPath));return y.useMemo(()=>QP(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Bae(e,t){return Uae(e,t)}function Uae(e,t,n,r){tf()||wn(!1);let{navigator:a}=y.useContext(Ao),{matches:i}=y.useContext(zi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=li(),d;if(t){var h;let v=typeof t=="string"?ef(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||wn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=mae(e,{pathname:m}),p=Hae(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Pl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&p?y.createElement(Z0.Provider,{value:{location:Cp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xl.Pop}},p):p}function zae(){let e=Jae(),t=Dae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,null)}const qae=y.createElement(zae,null);class Vae extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(zi.Provider,{value:this.props.routeContext},y.createElement(nU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wae(e){let{routeContext:t,match:n,children:r}=e,a=y.useContext(Q0);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(zi.Provider,{value:t},r)}function Hae(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||wn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,v=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||qae,c&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=p:g?w=v:h.route.Component?w=y.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,y.createElement(Wae,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(Vae,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var sU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sU||{}),Wy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wy||{});function Gae(e){let t=y.useContext(Q0);return t||wn(!1),t}function Kae(e){let t=y.useContext(tU);return t||wn(!1),t}function Yae(e){let t=y.useContext(zi);return t||wn(!1),t}function aU(e){let t=Yae(),n=t.matches[t.matches.length-1];return n.route.id||wn(!1),n.route.id}function Jae(){var e;let t=y.useContext(nU),n=Kae(Wy.UseRouteError),r=aU(Wy.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Xae(){let{router:e}=Gae(sU.UseNavigateStable),t=aU(Wy.UseNavigateStable),n=y.useRef(!1);return rU(()=>{n.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cp({fromRouteId:t},i)))},[e,t])}function qs(e){let{to:t,replace:n,state:r,relative:a}=e;tf()||wn(!1);let{future:i,static:o}=y.useContext(Ao),{matches:l}=y.useContext(zi),{pathname:c}=li(),u=Mr(),d=QP(t,XP(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function Qae(e){return Fae(e.context)}function et(e){wn(!1)}function Zae(e){let{basename:t="/",children:n=null,location:r,navigationType:a=xl.Pop,navigator:i,static:o=!1,future:l}=e;tf()&&wn(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Cp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ef(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,p=y.useMemo(()=>{let v=ch(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:m,key:g},navigationType:a}},[c,d,h,f,m,g,a]);return p==null?null:y.createElement(Ao.Provider,{value:u},y.createElement(Z0.Provider,{children:n,value:p}))}function eie(e){let{children:t,location:n}=e;return Bae(PS(t),n)}new Promise(()=>{});function PS(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let i=[...t,a];if(r.type===y.Fragment){n.push.apply(n,PS(r.props.children,i));return}r.type!==et&&wn(!1),!r.props.index||!r.props.children||wn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=PS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(this,arguments)}function iU(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function tie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nie(e,t){return e.button===0&&(!t||t==="_self")&&!tie(e)}function AS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function rie(e,t){let n=AS(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const sie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aie=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iie="6";try{window.__reactRouterVersion=iie}catch{}const oie=y.createContext({isTransitioning:!1}),lie="startTransition",WM=f5[lie];function cie(e){let{basename:t,children:n,future:r,window:a}=e,i=y.useRef();i.current==null&&(i.current=dae({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&WM?WM(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(Zae,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const uie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",die=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=y.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=iU(t,sie),{basename:m}=y.useContext(Ao),g,p=!1;if(typeof u=="string"&&die.test(u)&&(g=u,uie))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=ch(j.pathname,m);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:p=!0}catch{}let v=Rae(u,{relative:a}),x=fie(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function b(w){r&&r(w),w.defaultPrevented||x(w)}return y.createElement("a",Hy({},f,{href:g||v,onClick:p||i?r:b,ref:n,target:c}))}),TS=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=iU(t,aie),f=tw(c,{relative:h.relative}),m=li(),g=y.useContext(tU),{navigator:p,basename:v}=y.useContext(Ao),x=g!=null&&pie(f)&&u===!0,b=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=m.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&v&&(j=ch(j,v)||j);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!o&&w.startsWith(b)&&w.charAt(S)==="/",C=j!=null&&(j===b||!o&&j.startsWith(b)&&j.charAt(b.length)==="/"),k={isActive:N,isPending:C,isTransitioning:x},D=N?r:void 0,R;typeof i=="function"?R=i(k):R=[i,N?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(k):l;return y.createElement(Ge,Hy({},h,{"aria-current":D,className:R,ref:n,style:E,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var OS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(OS||(OS={}));var HM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(HM||(HM={}));function hie(e){let t=y.useContext(Q0);return t||wn(!1),t}function fie(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Mr(),u=li(),d=tw(e,{relative:o});return y.useCallback(h=>{if(nie(h,n)){h.preventDefault();let f=r!==void 0?r:qy(u)===qy(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function mie(e){let t=y.useRef(AS(e)),n=y.useRef(!1),r=li(),a=y.useMemo(()=>rie(r.search,n.current?null:t.current),[r.search]),i=Mr(),o=y.useCallback((l,c)=>{const u=AS(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function pie(e,t){t===void 0&&(t={});let n=y.useContext(oie);n==null&&wn(!1);let{basename:r}=hie(OS.useViewTransitionState),a=tw(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=ch(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ch(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vy(a.pathname,o)!=null||Vy(a.pathname,i)!=null}const gie="modulepreload",vie=function(e){return"/"+e},GM={},Mg=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=vie(c),c in GM)return;GM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":gie,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},xie=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mg(async()=>{const{default:r}=await Promise.resolve().then(()=>nf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ZP extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class yie extends ZP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class KM extends ZP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class YM extends ZP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var MS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(MS||(MS={}));var bie=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class wie{constructor(t,{headers:n={},customFetch:r,region:a=MS.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=xie(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return bie(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new yie(p)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new KM(h);if(!h.ok)throw new YM(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof YM||a instanceof KM?a.context:void 0}}})}}var as={},e2={},nw={},Dg={},rw={},sw={},jie=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},uh=jie();const _ie=uh.fetch,oU=uh.fetch.bind(uh),lU=uh.Headers,Nie=uh.Request,Sie=uh.Response,nf=Object.freeze(Object.defineProperty({__proto__:null,Headers:lU,Request:Nie,Response:Sie,default:oU,fetch:_ie},Symbol.toStringTag,{value:"Module"})),Cie=n5(nf);var aw={};Object.defineProperty(aw,"__esModule",{value:!0});let kie=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};aw.default=kie;var cU=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sw,"__esModule",{value:!0});const Eie=cU(Cie),Pie=cU(aw);let Aie=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Eie.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&p===""?(f=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new Pie.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};sw.default=Aie;var Tie=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rw,"__esModule",{value:!0});const Oie=Tie(sw);let Mie=class extends Oie.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rw.default=Mie;var Die=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dg,"__esModule",{value:!0});const Iie=Die(rw);let Rie=class extends Iie.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Dg.default=Rie;var $ie=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nw,"__esModule",{value:!0});const Kf=$ie(Dg);let Lie=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Kf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Kf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Kf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Kf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Kf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};nw.default=Lie;var iw={},ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.version=void 0;ow.version="0.0.0-automated";Object.defineProperty(iw,"__esModule",{value:!0});iw.DEFAULT_HEADERS=void 0;const Fie=ow;iw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fie.version}`};var uU=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e2,"__esModule",{value:!0});const Bie=uU(nw),Uie=uU(Dg),zie=iw;let qie=class dU{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},zie.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new Bie.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||a?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Uie.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};e2.default=qie;var rf=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});as.PostgrestError=as.PostgrestBuilder=as.PostgrestTransformBuilder=as.PostgrestFilterBuilder=as.PostgrestQueryBuilder=as.PostgrestClient=void 0;const hU=rf(e2);as.PostgrestClient=hU.default;const fU=rf(nw);as.PostgrestQueryBuilder=fU.default;const mU=rf(Dg);as.PostgrestFilterBuilder=mU.default;const pU=rf(rw);as.PostgrestTransformBuilder=pU.default;const gU=rf(sw);as.PostgrestBuilder=gU.default;const vU=rf(aw);as.PostgrestError=vU.default;var Vie=as.default={PostgrestClient:hU.default,PostgrestQueryBuilder:fU.default,PostgrestFilterBuilder:mU.default,PostgrestTransformBuilder:pU.default,PostgrestBuilder:gU.default,PostgrestError:vU.default};const{PostgrestClient:Wie,PostgrestQueryBuilder:TGe,PostgrestFilterBuilder:OGe,PostgrestTransformBuilder:MGe,PostgrestBuilder:DGe,PostgrestError:IGe}=Vie;function Hie(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Gie=Hie(),Kie="2.11.15",Yie=`realtime-js/${Kie}`,Jie="1.0.0",xU=1e4,Xie=1e3;var Fm;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fm||(Fm={}));var yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yr||(yr={}));var $a;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($a||($a={}));var DS;(function(e){e.websocket="websocket"})(DS||(DS={}));var wc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wc||(wc={}));class Qie{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class yU{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tn||(tn={}));const JM=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Zie(o,e,t,a),i),{})},Zie=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?bU(i,o):IS(o)},bU=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return roe(t,n)}switch(e){case tn.bool:return eoe(t);case tn.float4:case tn.float8:case tn.int2:case tn.int4:case tn.int8:case tn.numeric:case tn.oid:return toe(t);case tn.json:case tn.jsonb:return noe(t);case tn.timestamp:return soe(t);case tn.abstime:case tn.date:case tn.daterange:case tn.int4range:case tn.int8range:case tn.money:case tn.reltime:case tn.text:case tn.time:case tn.timestamptz:case tn.timetz:case tn.tsrange:case tn.tstzrange:return IS(t);default:return IS(t)}},IS=e=>e,eoe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},noe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},roe=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bU(t,l))}return e},soe=e=>typeof e=="string"?e.replace(" ","T"):e,wU=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class j_{constructor(t,n,r={},a=xU){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var XM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(XM||(XM={}));class Bm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Bm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),m=h.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var QM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(QM||(QM={}));var ZM;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ZM||(ZM={}));var Zi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zi||(Zi={}));class t2{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new j_(this,$a.join,this.params,this.timeout),this.rejoinTimer=new yU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on($a.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Bm(this),this.broadcastEndpointURL=wU(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==yr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Zi.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Zi.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Zi.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let p=0;p<m;p++){const v=f[p],{filter:{event:x,schema:b,table:w,filter:j}}=v,S=d&&d[p];if(S&&S.event===x&&S.schema===b&&S.table===w&&S.filter===j)g.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=yr.errored,t==null||t(Zi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Zi.SUBSCRIBED);return}}).receive("error",d=>{this.state=yr.errored,t==null||t(Zi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($a.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new j_(this,$a.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new j_(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=$a;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((p=n.ids)===null||p===void 0?void 0:p.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:v,commit_timestamp:x,type:b,errors:w}=g;f=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(f,r)})}_isClosed(){return this.state===yr.closed}_isJoined(){return this.state===yr.joined}_isJoining(){return this.state===yr.joining}_isLeaving(){return this.state===yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t2.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($a.close,{},t)}_onError(t){this._on($a.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=JM(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=JM(t.columns,t.old_record)),n}}const eD=()=>{},aoe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ioe{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xU,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eD,this.ref=0,this.logger=eD,this.conn=null,this.sendBuffer=[],this.serializer=new Qie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Mg(async()=>{const{default:c}=await Promise.resolve().then(()=>nf);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${DS.websocket}`,this.httpEndpoint=wU(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yU(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Gie),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jie}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fm.connecting:return wc.Connecting;case Fm.open:return wc.Open;case Fm.closing:return wc.Closing;default:return wc.Closed}}isConnected(){return this.connectionState()===wc.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new t2(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Yie};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push($a.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Xie,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($a.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([aoe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class n2 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ooe extends n2{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class RS extends n2{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var loe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const jU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mg(async()=>{const{default:r}=await Promise.resolve().then(()=>nf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},coe=()=>loe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mg(()=>Promise.resolve().then(()=>nf),void 0)).Response:Response}),$S=e=>{if(Array.isArray(e))return e.map(n=>$S(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=$S(r)}),t};var _u=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const __=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uoe=(e,t,n)=>_u(void 0,void 0,void 0,function*(){const r=yield coe();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new ooe(__(a),e.status||500))}).catch(a=>{t(new RS(__(a),a))}):t(new RS(__(e),e))}),doe=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Ig(e,t,n,r,a,i){return _u(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,doe(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>uoe(c,l,r))})})}function Gy(e,t,n,r){return _u(this,void 0,void 0,function*(){return Ig(e,"GET",t,n,r)})}function el(e,t,n,r,a){return _u(this,void 0,void 0,function*(){return Ig(e,"POST",t,r,a,n)})}function hoe(e,t,n,r,a){return _u(this,void 0,void 0,function*(){return Ig(e,"PUT",t,r,a,n)})}function foe(e,t,n,r){return _u(this,void 0,void 0,function*(){return Ig(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _U(e,t,n,r,a){return _u(this,void 0,void 0,function*(){return Ig(e,"DELETE",t,r,a,n)})}var es=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const moe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class poe{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=jU(a)}uploadOrUpdate(t,n,r,a){return es(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},tD),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return es(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return es(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:tD.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Wn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return es(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield el(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new n2("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}update(t,n,r){return es(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return es(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}copy(t,n,r){return es(this,void 0,void 0,function*(){try{return{data:{path:(yield el(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return es(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield el(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return es(this,void 0,void 0,function*(){try{const a=yield el(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}download(t,n){return es(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Gy(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Wn(l))return{data:null,error:l};throw l}})}info(t){return es(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Gy(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$S(r),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}exists(t){return es(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield foe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Wn(r)&&r instanceof RS){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return es(this,void 0,void 0,function*(){try{return{data:yield _U(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}list(t,n,r){return es(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},moe),n),{prefix:t||""});return{data:yield el(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const goe="2.7.1",voe={"X-Client-Info":`storage-js/${goe}`};var Ru=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class xoe{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},voe),n),this.fetch=jU(r)}listBuckets(){return Ru(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Wn(t))return{data:null,error:t};throw t}})}getBucket(t){return Ru(this,void 0,void 0,function*(){try{return{data:yield Gy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ru(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ru(this,void 0,void 0,function*(){try{return{data:yield hoe(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ru(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ru(this,void 0,void 0,function*(){try{return{data:yield _U(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}}class yoe extends xoe{constructor(t,n={},r){super(t,n,r)}from(t){return new poe(this.url,this.headers,t,this.fetch)}}const boe="2.51.0";let bm="";typeof Deno<"u"?bm="deno":typeof document<"u"?bm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bm="react-native":bm="node";const woe={"X-Client-Info":`supabase-js-${bm}/${boe}`},joe={headers:woe},_oe={schema:"public"},Noe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Soe={};var Coe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const koe=e=>{let t;return e?t=e:typeof fetch>"u"?t=oU:t=fetch,(...n)=>t(...n)},Eoe=()=>typeof Headers>"u"?lU:Headers,Poe=(e,t,n)=>{const r=koe(n),a=Eoe();return(i,o)=>Coe(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Aoe=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Toe(e){return e.endsWith("/")?e:e+"/"}function Ooe(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Aoe(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const NU="2.71.0",Xu=30*1e3,LS=3,N_=LS*Xu,Moe="http://localhost:9999",Doe="supabase.auth.token",Ioe={"X-Client-Info":`gotrue-js/${NU}`},FS="X-Supabase-Api-Version",SU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Roe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$oe=10*60*1e3;class r2 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function dt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Loe extends r2{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Foe(e){return dt(e)&&e.name==="AuthApiError"}class CU extends r2{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xl extends r2{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Ko extends Xl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Boe(e){return dt(e)&&e.name==="AuthSessionMissingError"}class Kv extends Xl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yv extends Xl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jv extends Xl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uoe(e){return dt(e)&&e.name==="AuthImplicitGrantRedirectError"}class nD extends Xl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BS extends Xl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function S_(e){return dt(e)&&e.name==="AuthRetryableFetchError"}class rD extends Xl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class US extends Xl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ky="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sD=` 	
\r=`.split(""),zoe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sD.length;t+=1)e[sD[t].charCodeAt(0)]=-2;for(let t=0;t<Ky.length;t+=1)e[Ky[t].charCodeAt(0)]=t;return e})();function aD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ky[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ky[r]),t.queuedBits-=6}}function kU(e,t,n){const r=zoe[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function iD(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Woe(o,r,n)};for(let o=0;o<e.length;o+=1)kU(e.charCodeAt(o),a,i);return t.join("")}function qoe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Voe(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}qoe(r,t)}}function Woe(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Hoe(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)kU(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Goe(e){const t=[];return Voe(e,n=>t.push(n)),new Uint8Array(t)}function Koe(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>aD(a,n,r)),aD(null,n,r),t.join("")}function Yoe(e){return Math.round(Date.now()/1e3)+e}function Joe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ta=()=>typeof window<"u"&&typeof document<"u",oc={tested:!1,writable:!1},EU=()=>{if(!Ta())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oc.tested)return oc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oc.tested=!0,oc.writable=!0}catch{oc.tested=!0,oc.writable=!1}return oc.writable};function Xoe(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const PU=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Mg(async()=>{const{default:r}=await Promise.resolve().then(()=>nf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Qoe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},lc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qo=async(e,t)=>{await e.removeItem(t)};class lw{constructor(){this.promise=new lw.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}lw.promiseConstructor=Promise;function C_(e){const t=e.split(".");if(t.length!==3)throw new US("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Roe.test(t[r]))throw new US("JWT not in base64url format");return{header:JSON.parse(iD(t[0])),payload:JSON.parse(iD(t[1])),signature:Hoe(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zoe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ele(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function tle(e){return("0"+e.toString(16)).substr(-2)}function nle(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,tle).join("")}async function rle(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function sle(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rle(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $u(e,t,n=!1){const r=nle();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Qu(e,`${t}-code-verifier`,a);const i=await sle(r);return[i,r===i?"plain":"s256"]}const ale=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ile(e){const t=e.headers.get(FS);if(!t||!t.match(ale))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ole(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lle(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cle=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lu(e){if(!cle.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function k_(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var ule=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const gc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dle=[502,503,504];async function oD(e){var t;if(!Qoe(e))throw new BS(gc(e),0);if(dle.includes(e.status))throw new BS(gc(e),e.status);let n;try{n=await e.json()}catch(i){throw new CU(gc(i),i)}let r;const a=ile(e);if(a&&a.getTime()>=SU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rD(gc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ko}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rD(gc(n),e.status,n.weak_password.reasons);throw new Loe(gc(n),e.status||500,r)}const hle=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function yt(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[FS]||(i[FS]=SU["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await fle(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function fle(e,t,n,r,a,i){const o=hle(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new BS(gc(c),0)}if(l.ok||await oD(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await oD(c)}}function Ji(e){var t;let n=null;vle(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Yoe(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lD(e){const t=Ji(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function il(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function mle(e){return{data:e,error:null}}function ple(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=ule(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function gle(e){return e}function vle(e){return e.access_token&&e.refresh_token&&e.expires_in}const E_=["global","local","others"];var xle=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class yle{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=PU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=E_[0]){if(E_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${E_.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:il})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xle(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ple,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:il})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:gle});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Lu(t);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:il})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Lu(t);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:il})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Lu(t);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:il})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Lu(t.userId);try{const{data:n,error:r}=await yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Lu(t.userId),Lu(t.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}function cD(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ble(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fu={debug:!!(globalThis&&EU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wle extends AU{}async function jle(e,t,n){Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wle(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ble();const _le={url:Moe,storageKey:Doe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ioe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uD(e,t,n){return await n()}const Bu={};class kp{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kp.nextInstanceID,kp.nextInstanceID+=1,this.instanceID>0&&Ta()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},_le),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new yle({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PU(a.fetch),this.lock=a.lock||uD,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ta()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jle:this.lock=uD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:EU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cD(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=cD(this.memoryStorage)),Ta()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Bu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Bu[this.storageKey]=Object.assign(Object.assign({},Bu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Bu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Bu[this.storageKey]=Object.assign(Object.assign({},Bu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${NU}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Xoe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ta()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Uoe(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return dt(n)?{error:n}:{error:new CU("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ji}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await $u(this.storage,this.storageKey)),i=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ji})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ji})}else throw new Yv("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lD})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lD})}else throw new Yv("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kv}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let j;if(Ta())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:v,error:x}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Koe(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ji});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Kv}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(dt(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ji});if(await qo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Kv}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(dt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ji}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $u(this.storage,this.storageKey));const{error:h}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Yv("You must provide either an email or phone number.")}catch(l){if(dt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ji});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $u(this.storage,this.storageKey)),await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:mle})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ko;const{error:a}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Yv("You must provide either an email or phone number and a type")}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<N_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await lc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=k_()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:il}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ko}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:il})})}catch(n){if(dt(n))return Boe(n)&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ko;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $u(this.storage,this.storageKey));const{data:u,error:d}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:il});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ko;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=C_(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(dt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ko;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(dt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ta())throw new Jv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jv("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nD("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Jv("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Xu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(dt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Foe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Joe(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await $u(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(dt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ta()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(dt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ele(async a=>(a>0&&await Zoe(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ji})),(a,i)=>{const o=200*Math.pow(2,a);return i&&S_(i)&&Date.now()+o-r<Xu})}catch(r){if(this._debug(n,"error",r),dt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ta()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await lc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Qu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:k_()}else if(a&&!a.user&&!a.user){const o=await lc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await qo(this.storage,this.storageKey+"-user"),await Qu(this.storage,this.storageKey,a)):a.user=k_()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<N_;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${N_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),S_(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ko;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new lw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ko;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),dt(i)){const o={session:null,error:i};return S_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qu(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await Qu(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await Qu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await qo(this.storage,this.storageKey),await qo(this.storage,this.storageKey+"-code-verifier"),await qo(this.storage,this.storageKey+"-user"),this.userStorage&&await qo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ta()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Xu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xu}ms, refresh threshold is ${LS} ticks`),a<=LS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ta()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await $u(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(dt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(dt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=C_(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+$oe>a)return r;const{data:i,error:o}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=C_(r);n!=null&&n.allowExpired||ole(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=lle(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Goe(`${l}.${c}`)))throw new US("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}kp.nextInstanceID=0;const Nle=kp;class Sle extends Nle{constructor(t){super(t)}}var Cle=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class kle{constructor(t,n,r){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Toe(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:_oe,realtime:Soe,auth:Object.assign(Object.assign({},Noe),{storageKey:u}),global:joe},h=Ooe(r??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Poe(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Wie(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new wie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new yoe(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Cle(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sle({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ioe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ele=(e,t,n)=>new kle(e,t,n),Ple="https://nzqzmvsrsfynatxojuil.supabase.co",Ale="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",K=Ele(Ple,Ale,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),TU=y.createContext(void 0);function Tle({children:e}){const[t,n]=y.useState(null),[r,a]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{const{data:{subscription:f}}=K.auth.onAuthStateChange((m,g)=>{console.log("Auth state change:",m,"session exists:",!!g),a(g),n((g==null?void 0:g.user)??null),o(!1)});return K.auth.getSession().then(({data:{session:m}})=>{console.log("Initial session check:",!!m),a(m),n((m==null?void 0:m.user)??null),o(!1)}),()=>f.unsubscribe()},[]);const l=async(f,m,g)=>{const p=`${window.location.origin}/`,{error:v}=await K.auth.signUp({email:f,password:m,options:{emailRedirectTo:p,data:{full_name:g}}});return{error:v}},c=async(f,m)=>{const{error:g}=await K.auth.signInWithPassword({email:f,password:m});return{error:g}},u=async f=>{const{error:m}=await K.auth.signInWithOAuth({provider:f,options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:m}},d=async()=>{var f,m;console.log("Starting sign out process...");try{a(null),n(null),localStorage.removeItem("sb-nzqzmvsrsfynatxojuil-auth-token");const{error:g}=await K.auth.signOut();if(console.log("Sign out response:",{error:g}),g){if((f=g.message)!=null&&f.includes("Auth session missing")){console.log("Session already missing, clearing local state");return}throw console.error("Sign out error:",g),g}console.log("Sign out successful")}catch(g){if((m=g==null?void 0:g.message)!=null&&m.includes("Auth session missing")){console.log("Handling missing session in catch block");return}throw console.error("Sign out catch block:",g),g}},h=async f=>{const m=`${window.location.origin}/auth`,{error:g}=await K.auth.resetPasswordForEmail(f,{redirectTo:m});return{error:g}};return s.jsx(TU.Provider,{value:{user:t,session:r,loading:i,signUp:l,signIn:c,signInWithProvider:u,signOut:d,resetPassword:h},children:e})}function qt(){const e=y.useContext(TU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const OU=y.createContext(void 0);function Ole({children:e}){const[t,n]=y.useState(null),[r,a]=y.useState(!0);y.useEffect(()=>{i()},[]);const i=async()=>{var d,h,f;try{console.log("Checking customer session...");const{data:{session:m}}=await K.auth.getSession();if(console.log("Session found:",!!m,"User:",(d=m==null?void 0:m.user)==null?void 0:d.email),(f=(h=m==null?void 0:m.user)==null?void 0:h.user_metadata)!=null&&f.is_customer){console.log("User is a customer, fetching profile...");const g=m.user.email,{data:p,error:v}=await K.from("customers").select("*").eq("email",g).maybeSingle();console.log("Customer profile fetch result:",p,v),!v&&p?(console.log("Setting customer data:",p),n(p)):(console.log("No customer data found or error occurred, clearing session"),await K.auth.signOut())}else console.log("User is not a customer or no session")}catch(m){console.error("Error checking customer session:",m)}finally{a(!1)}},o=async(d,h)=>{var f,m,g;console.log("Customer sign in attempt for:",d);try{const{data:p,error:v}=await K.from("customers").select("*").eq("email",d).single();if(console.log("Customer lookup result:",p?"found":"not found",v),v||!p)return{error:{message:"Customer not found or access denied"}};console.log("Attempting auth sign in...");const{data:x,error:b}=await K.auth.signInWithPassword({email:d,password:h});return console.log("Auth sign in result:",x.user?"success":"failed",b),b?{error:{message:"Invalid email or password"}}:(console.log("User metadata:",(f=x.user)==null?void 0:f.user_metadata),(g=(m=x.user)==null?void 0:m.user_metadata)!=null&&g.is_customer?(console.log("Customer sign in successful"),n(p),await K.from("customers").update({last_login:new Date().toISOString()}).eq("id",p.id),{error:null}):(console.log("User does not have customer metadata, signing out"),await K.auth.signOut(),{error:{message:"Access denied - not a customer account"}}))}catch(p){return console.error("Sign in error:",p),{error:p}}},l=async()=>{try{const{error:d}=await K.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/customer-dashboard`}});return{error:d}}catch(d){return{error:d}}},c=async()=>{await K.auth.signOut(),n(null)},u=async d=>{if(!t)return{error:{message:"Not authenticated"}};try{const{data:h,error:f}=await K.from("customers").update(d).eq("id",t.id).select().single();return!f&&h&&n(h),{error:f}}catch(h){return{error:h}}};return s.jsx(OU.Provider,{value:{customer:t,loading:r,signIn:o,signInWithGoogle:l,signOut:c,updateProfile:u},children:e})}function ws(){const e=y.useContext(OU);if(e===void 0)throw new Error("useCustomerAuth must be used within a CustomerAuthProvider");return e}const P_=768;function Mle(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${P_-1}px)`),r=()=>{t(window.innerWidth<P_)};return n.addEventListener("change",r),t(window.innerWidth<P_),()=>n.removeEventListener("change",r)},[]),!!e}const Ep=Yh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?vs:"button";return s.jsx(o,{className:me(Ep({variant:t,size:n,className:e})),ref:i,...a})});X.displayName="Button";const le=y.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));le.displayName="Input";var Dle="Separator",dD="horizontal",Ile=["horizontal","vertical"],MU=y.forwardRef((e,t)=>{const{decorative:n,orientation:r=dD,...a}=e,i=Rle(r)?r:dD,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(De.div,{"data-orientation":i,...l,...a,ref:t})});MU.displayName=Dle;function Rle(e){return Ile.includes(e)}var DU=MU;const Yr=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(DU,{ref:a,decorative:n,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Yr.displayName=DU.displayName;var A_="focusScope.autoFocusOnMount",T_="focusScope.autoFocusOnUnmount",hD={bubbles:!1,cancelable:!0},$le="FocusScope",Rg=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=yn(a),d=yn(i),h=y.useRef(null),f=Ye(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:Yo(h.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Yo(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Yo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[r,l,m.paused]),y.useEffect(()=>{if(l){mD.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(A_,hD);l.addEventListener(A_,u),l.dispatchEvent(x),x.defaultPrevented||(Lle(qle(IU(l)),{select:!0}),document.activeElement===p&&Yo(l))}return()=>{l.removeEventListener(A_,u),setTimeout(()=>{const x=new CustomEvent(T_,hD);l.addEventListener(T_,d),l.dispatchEvent(x),x.defaultPrevented||Yo(p??document.body,{select:!0}),l.removeEventListener(T_,d),mD.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!n&&!r||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const b=p.currentTarget,[w,j]=Fle(b);w&&j?!p.shiftKey&&x===j?(p.preventDefault(),n&&Yo(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),n&&Yo(j,{select:!0})):x===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(De.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Rg.displayName=$le;function Lle(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yo(r,{select:t}),document.activeElement!==n)return}function Fle(e){const t=IU(e),n=fD(t,e),r=fD(t.reverse(),e);return[n,r]}function IU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fD(e,t){for(const n of e)if(!Ble(n,{upTo:t}))return n}function Ble(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ule(e){return e instanceof HTMLInputElement&&"select"in e}function Yo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ule(e)&&t&&e.select()}}var mD=zle();function zle(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=pD(e,t),e.unshift(t)},remove(t){var n;e=pD(e,t),(n=e[0])==null||n.resume()}}}function pD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qle(e){return e.filter(t=>t.tagName!=="A")}var O_=0;function cw(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gD()),document.body.insertAdjacentElement("beforeend",e[1]??gD()),O_++,()=>{O_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),O_--}},[])}function gD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ki=function(){return ki=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ki.apply(this,arguments)};function RU(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Vle(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Xx="right-scroll-bar-position",Qx="width-before-scroll-bar",Wle="with-scroll-bars-hidden",Hle="--removed-body-scroll-bar-size";function M_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Gle(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Kle=typeof window<"u"?y.useLayoutEffect:y.useEffect,vD=new WeakMap;function Yle(e,t){var n=Gle(null,function(r){return e.forEach(function(a){return M_(a,r)})});return Kle(function(){var r=vD.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||M_(l,null)}),i.forEach(function(l){a.has(l)||M_(l,o)})}vD.set(n,e)},[e]),n}function Jle(e){return e}function Xle(e,t){t===void 0&&(t=Jle);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function Qle(e){e===void 0&&(e={});var t=Xle(null);return t.options=ki({async:!0,ssr:!1},e),t}var $U=function(e){var t=e.sideCar,n=RU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,ki({},n))};$U.isSideCarExport=!0;function Zle(e,t){return e.useMedium(t),$U}var LU=Qle(),D_=function(){},uw=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:D_,onWheelCapture:D_,onTouchMoveCapture:D_}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,w=RU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,S=Yle([n,t]),N=ki(ki({},w),a);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:LU,removeScrollBar:u,shards:h,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(l),ki(ki({},N),{ref:S})):y.createElement(x,ki({},N,{className:c,ref:S}),l))});uw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uw.classNames={fullWidth:Qx,zeroRight:Xx};var ece=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ece();return t&&e.setAttribute("nonce",t),e}function nce(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sce=function(){var e=0,t=null;return{add:function(n){e==0&&(t=tce())&&(nce(t,n),rce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ace=function(){var e=sce();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},FU=function(){var e=ace(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},ice={left:0,top:0,right:0,gap:0},I_=function(e){return parseInt(e||"",10)||0},oce=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[I_(n),I_(r),I_(a)]},lce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ice;var t=oce(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},cce=FU(),Nd="data-scroll-locked",uce=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Wle,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Nd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xx,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qx,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xx," .").concat(Xx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qx," .").concat(Qx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nd,`] {
    `).concat(Hle,": ").concat(l,`px;
  }
`)},xD=function(){var e=parseInt(document.body.getAttribute(Nd)||"0",10);return isFinite(e)?e:0},dce=function(){y.useEffect(function(){return document.body.setAttribute(Nd,(xD()+1).toString()),function(){var e=xD()-1;e<=0?document.body.removeAttribute(Nd):document.body.setAttribute(Nd,e.toString())}},[])},hce=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;dce();var i=y.useMemo(function(){return lce(a)},[a]);return y.createElement(cce,{styles:uce(i,!t,a,n?"":"!important")})},zS=!1;if(typeof window<"u")try{var Xv=Object.defineProperty({},"passive",{get:function(){return zS=!0,!0}});window.addEventListener("test",Xv,Xv),window.removeEventListener("test",Xv,Xv)}catch{zS=!1}var Uu=zS?{passive:!1}:!1,fce=function(e){return e.tagName==="TEXTAREA"},BU=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!fce(e)&&n[t]==="visible")},mce=function(e){return BU(e,"overflowY")},pce=function(e){return BU(e,"overflowX")},yD=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=UU(e,r);if(a){var i=zU(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gce=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},vce=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},UU=function(e,t){return e==="v"?mce(t):pce(t)},zU=function(e,t){return e==="v"?gce(t):vce(t)},xce=function(e,t){return e==="h"&&t==="rtl"?-1:1},yce=function(e,t,n,r,a){var i=xce(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=zU(e,l),g=m[0],p=m[1],v=m[2],x=p-v-i*g;(g||x)&&UU(e,l)&&(h+=x,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},Qv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bD=function(e){return[e.deltaX,e.deltaY]},wD=function(e){return e&&"current"in e?e.current:e},bce=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wce=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jce=0,zu=[];function _ce(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),a=y.useState(jce++)[0],i=y.useState(FU)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Vle([e.lockRef.current],(e.shards||[]).map(wD),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Qv(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-x[0],j="deltaY"in p?p.deltaY:b[1]-x[1],S,N=p.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var k=yD(C,N);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=yD(C,N)),!k)return!1;if(!r.current&&"changedTouches"in p&&(w||j)&&(r.current=S),!S)return!0;var D=r.current||S;return yce(D,v,p,D==="h"?w:j,!0)},[]),c=y.useCallback(function(p){var v=p;if(!(!zu.length||zu[zu.length-1]!==i)){var x="deltaY"in v?bD(v):Qv(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&bce(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(wD).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,x,b){var w={name:p,delta:v,target:x,should:b,shadowParent:Nce(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=y.useCallback(function(p){n.current=Qv(p),r.current=void 0},[]),h=y.useCallback(function(p){u(p.type,bD(p),p.target,l(p,e.lockRef.current))},[]),f=y.useCallback(function(p){u(p.type,Qv(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return zu.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Uu),document.addEventListener("touchmove",c,Uu),document.addEventListener("touchstart",d,Uu),function(){zu=zu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Uu),document.removeEventListener("touchmove",c,Uu),document.removeEventListener("touchstart",d,Uu)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:wce(a)}):null,m?y.createElement(hce,{gapMode:e.gapMode}):null)}function Nce(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sce=Zle(LU,_ce);var $g=y.forwardRef(function(e,t){return y.createElement(uw,ki({},e,{ref:t,sideCar:Sce}))});$g.classNames=uw.classNames;var Cce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qu=new WeakMap,Zv=new WeakMap,ex={},R_=0,qU=function(e){return e&&(e.host||qU(e.parentNode))},kce=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=qU(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ece=function(e,t,n,r){var a=kce(t,Array.isArray(e)?e:[e]);ex[n]||(ex[n]=new WeakMap);var i=ex[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",p=(qu.get(f)||0)+1,v=(i.get(f)||0)+1;qu.set(f,p),i.set(f,v),o.push(f),p===1&&g&&Zv.set(f,!0),v===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),R_++,function(){o.forEach(function(h){var f=qu.get(h)-1,m=i.get(h)-1;qu.set(h,f),i.set(h,m),f||(Zv.has(h)||h.removeAttribute(r),Zv.delete(h)),m||h.removeAttribute(n)}),R_--,R_||(qu=new WeakMap,qu=new WeakMap,Zv=new WeakMap,ex={})}},dw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Cce(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Ece(r,a,n,"aria-hidden")):function(){return null}},s2="Dialog",[VU,WU]=Or(s2),[Pce,ci]=VU(s2),HU=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u=!1,d]=xs({prop:r,defaultProp:a,onChange:i});return s.jsx(Pce,{scope:t,triggerRef:l,contentRef:c,contentId:Bs(),titleId:Bs(),descriptionId:Bs(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};HU.displayName=s2;var GU="DialogTrigger",KU=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ci(GU,n),i=Ye(t,a.triggerRef);return s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":o2(a.open),...r,ref:i,onClick:we(e.onClick,a.onOpenToggle)})});KU.displayName=GU;var a2="DialogPortal",[Ace,YU]=VU(a2,{forceMount:void 0}),JU=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=ci(a2,t);return s.jsx(Ace,{scope:t,forceMount:n,children:y.Children.map(r,o=>s.jsx($n,{present:n||i.open,children:s.jsx(Kh,{asChild:!0,container:a,children:o})}))})};JU.displayName=a2;var Yy="DialogOverlay",XU=y.forwardRef((e,t)=>{const n=YU(Yy,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ci(Yy,e.__scopeDialog);return i.modal?s.jsx($n,{present:r||i.open,children:s.jsx(Tce,{...a,ref:t})}):null});XU.displayName=Yy;var Tce=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ci(Yy,n);return s.jsx($g,{as:vs,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(De.div,{"data-state":o2(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),au="DialogContent",QU=y.forwardRef((e,t)=>{const n=YU(au,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ci(au,e.__scopeDialog);return s.jsx($n,{present:r||i.open,children:i.modal?s.jsx(Oce,{...a,ref:t}):s.jsx(Mce,{...a,ref:t})})});QU.displayName=au;var Oce=y.forwardRef((e,t)=>{const n=ci(au,e.__scopeDialog),r=y.useRef(null),a=Ye(t,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return dw(i)},[]),s.jsx(ZU,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault())})}),Mce=y.forwardRef((e,t)=>{const n=ci(au,e.__scopeDialog),r=y.useRef(!1),a=y.useRef(!1);return s.jsx(ZU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ZU=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ci(au,n),c=y.useRef(null),u=Ye(t,c);return cw(),s.jsxs(s.Fragment,{children:[s.jsx(Rg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ju,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":o2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ice,{titleId:l.titleId}),s.jsx($ce,{contentRef:c,descriptionId:l.descriptionId})]})]})}),i2="DialogTitle",ez=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ci(i2,n);return s.jsx(De.h2,{id:a.titleId,...r,ref:t})});ez.displayName=i2;var tz="DialogDescription",nz=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ci(tz,n);return s.jsx(De.p,{id:a.descriptionId,...r,ref:t})});nz.displayName=tz;var rz="DialogClose",sz=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ci(rz,n);return s.jsx(De.button,{type:"button",...r,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});sz.displayName=rz;function o2(e){return e?"open":"closed"}var az="DialogTitleWarning",[Dce,iz]=Mee(az,{contentName:au,titleName:i2,docsSlug:"dialog"}),Ice=({titleId:e})=>{const t=iz(az),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Rce="DialogDescriptionWarning",$ce=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iz(Rce).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},l2=HU,oz=KU,c2=JU,Lg=XU,Fg=QU,Bg=ez,Ug=nz,hw=sz;const zg=l2,Lce=c2,lz=y.forwardRef(({className:e,...t},n)=>s.jsx(Lg,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));lz.displayName=Lg.displayName;const Fce=Yh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sf=y.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(Lce,{children:[s.jsx(lz,{}),s.jsxs(Fg,{ref:a,className:me(Fce({side:e}),t),...r,children:[n,s.jsxs(hw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Yl,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sf.displayName=Fg.displayName;const qg=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});qg.displayName="SheetHeader";const Vg=y.forwardRef(({className:e,...t},n)=>s.jsx(Bg,{ref:n,className:me("text-lg font-semibold text-foreground",e),...t}));Vg.displayName=Bg.displayName;const Wg=y.forwardRef(({className:e,...t},n)=>s.jsx(Ug,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Wg.displayName=Ug.displayName;function Ds({className:e,...t}){return s.jsx("div",{className:me("animate-pulse rounded-md bg-muted",e),...t})}const Bce="sidebar:state",Uce=60*60*24*7,zce="16rem",qce="18rem",Vce="3rem",Wce="b",cz=y.createContext(null);function af(){const e=y.useContext(cz);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const u2=y.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const c=Mle(),[u,d]=y.useState(!1),[h,f]=y.useState(e),m=t??h,g=y.useCallback(b=>{const w=typeof b=="function"?b(m):b;n?n(w):f(w),document.cookie=`${Bce}=${w}; path=/; max-age=${Uce}`},[n,m]),p=y.useCallback(()=>c?d(b=>!b):g(b=>!b),[c,g,d]);y.useEffect(()=>{const b=w=>{w.key===Wce&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[p]);const v=m?"expanded":"collapsed",x=y.useMemo(()=>({state:v,open:m,setOpen:g,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[v,m,g,c,u,d,p]);return s.jsx(cz.Provider,{value:x,children:s.jsx(L8,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":zce,"--sidebar-width-icon":Vce,...a},className:me("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});u2.displayName="SidebarProvider";const d2=y.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=af();return n==="none"?s.jsx("div",{className:me("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?s.jsx(zg,{open:u,onOpenChange:d,...i,children:s.jsx(sf,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":qce},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:me("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:me("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});d2.displayName="Sidebar";const fw=y.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=af();return s.jsxs(X,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:me("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...n,children:[s.jsx(Mte,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});fw.displayName="SidebarTrigger";const Hce=y.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=af();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:me("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Hce.displayName="SidebarRail";const Gce=y.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:me("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Gce.displayName="SidebarInset";const Kce=y.forwardRef(({className:e,...t},n)=>s.jsx(le,{ref:n,"data-sidebar":"input",className:me("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Kce.displayName="SidebarInput";const uz=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:me("flex flex-col gap-2 p-2",e),...t}));uz.displayName="SidebarHeader";const dz=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:me("flex flex-col gap-2 p-2",e),...t}));dz.displayName="SidebarFooter";const Yce=y.forwardRef(({className:e,...t},n)=>s.jsx(Yr,{ref:n,"data-sidebar":"separator",className:me("mx-2 w-auto bg-sidebar-border",e),...t}));Yce.displayName="SidebarSeparator";const h2=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:me("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));h2.displayName="SidebarContent";const Sd=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:me("relative flex w-full min-w-0 flex-col p-2",e),...t}));Sd.displayName="SidebarGroup";const Um=y.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?vs:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:me("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});Um.displayName="SidebarGroupLabel";const Jce=y.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?vs:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:me("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Jce.displayName="SidebarGroupAction";const Cd=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:me("w-full text-sm",e),...t}));Cd.displayName="SidebarGroupContent";const Cc=y.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:me("flex w-full min-w-0 flex-col gap-1",e),...t}));Cc.displayName="SidebarMenu";const kc=y.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:me("group/menu-item relative",e),...t}));kc.displayName="SidebarMenuItem";const Xce=Yh("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ec=y.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const c=e?vs:"button",{isMobile:u,state:d}=af(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:me(Xce({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Ese,{children:[s.jsx(Pse,{asChild:!0,children:h}),s.jsx(F8,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):h});Ec.displayName="SidebarMenuButton";const Qce=y.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const i=t?vs:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:me("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});Qce.displayName="SidebarMenuAction";const Zce=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:me("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Zce.displayName="SidebarMenuBadge";const eue=y.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:me("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Ds,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Ds,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});eue.displayName="SidebarMenuSkeleton";const tue=y.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:me("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));tue.displayName="SidebarMenuSub";const nue=y.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));nue.displayName="SidebarMenuSubItem";const rue=y.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},i)=>{const o=e?vs:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:me("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});rue.displayName="SidebarMenuSubButton";const sue={theme:"system",setTheme:()=>null},hz=y.createContext(sue);function aue({children:e,defaultTheme:t="light",storageKey:n="vite-ui-theme",...r}){const[a,i]=y.useState(()=>localStorage.getItem(n)||t);y.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return s.jsx(hz.Provider,{...r,value:o,children:e})}const Hg=()=>{const e=y.useContext(hz);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Vc="/assets/voxtro-logo-dark-Z6DETYOB.png",iue=[{title:"Dashboard",url:"/dashboard",icon:OP},{title:"Voice Assistants",url:"/voice-assistants",icon:It},{title:"WhatsApp Agents",url:"/whatsapp-agents",icon:Ht},{title:"Chatbots",url:"/chatbots",icon:vt},{title:"Tasks",url:"/voice-tasks",icon:aS},{title:"Forms",url:"/forms",icon:Tn},{title:"Flows",url:"/flows",icon:iS},{title:"Customers",url:"/customers",icon:ur},{title:"Support Tickets",url:"/support-tickets",icon:Ri},{title:"Usage",url:"/usage",icon:ho},{title:"Changelog",url:"/changelog",icon:jte}],oue=[{title:"Settings",url:"/settings",icon:hs}];function lue(){const{state:e}=af(),t=li(),{theme:n}=Hg(),{signOut:r}=qt();t.pathname;const a=({isActive:c})=>c?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",i=e==="collapsed",o=n==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":Vc,l=async()=>{try{await r(),window.location.href="/auth"}catch(c){Te({title:"Error",description:`Failed to sign out: ${(c==null?void 0:c.message)||"Unknown error"}`,variant:"destructive"})}};return s.jsxs(d2,{className:i?"w-14":"w-60",collapsible:"icon",children:[s.jsx("div",{className:"p-4 border-b bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center justify-start",children:s.jsx("img",{src:o,alt:"Voxtro",className:"h-10 w-auto"})})}),s.jsxs(h2,{children:[s.jsxs(Sd,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[!i&&s.jsx(Um,{children:"Navigation"}),s.jsx(fw,{className:i?"mx-auto":""})]}),s.jsx(Cd,{children:s.jsx(Cc,{children:iue.map(c=>s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs(TS,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]}),s.jsxs(Sd,{children:[s.jsx(Um,{children:"Tools"}),s.jsx(Cd,{children:s.jsx(Cc,{children:s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs("a",{href:"https://build.voxtro.io",target:"_blank",rel:"noopener noreferrer",className:"text-sidebar-foreground hover:bg-sidebar-accent/50 flex items-center",children:[s.jsx(JB,{className:"mr-2 h-4 w-4"}),!i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Voice Agent Studio"}),s.jsx(GB,{className:"ml-auto h-3 w-3 opacity-50"})]})]})})})})})]}),s.jsxs(Sd,{children:[s.jsx(Um,{children:"Account"}),s.jsx(Cd,{children:s.jsx(Cc,{children:oue.map(c=>s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs(TS,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]})]}),s.jsx(dz,{className:"border-t",children:s.jsx(Cc,{children:s.jsx(kc,{children:s.jsxs(Ec,{onClick:l,className:"text-sidebar-foreground hover:bg-sidebar-accent/50 cursor-pointer",children:[s.jsx(YB,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:"Sign Out"})]})})})})]})}function cue(){const{user:e}=qt(),t=Mr(),[n,r]=y.useState([]),a=y.useRef(null),[i,o]=y.useState(!1);y.useEffect(()=>(a.current=new Audio("/chime-alert.wav"),a.current.volume=.5,a.current.addEventListener("canplaythrough",()=>{o(!0)}),a.current.load(),()=>{a.current&&(a.current.pause(),a.current=null)}),[]);const l=()=>{a.current&&i&&(a.current.currentTime=0,a.current.play().catch(f=>{console.log("Audio play failed:",f)}))};y.useEffect(()=>{if(!(e!=null&&e.id))return;console.log("Setting up realtime subscription for user:",e.id);const f=K.channel("admin-new-tickets").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_tickets",filter:`user_id=eq.${e.id}`},g=>{const p=g.new;console.log("New support ticket received:",p);const v={id:`ticket-${p.id}`,type:"new_ticket",subject:p.subject,customerName:p.customer_name,priority:p.priority,ticketId:p.id,createdAt:p.created_at};r(x=>[v,...x].slice(0,5)),l()}).subscribe(g=>{console.log("Tickets channel status:",g)}),m=K.channel("admin-ticket-replies").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},async g=>{var w;const p=g.new;if(console.log("New ticket message received:",p),p.sender_type!=="customer"){console.log("Ignoring non-customer message");return}const{data:v,error:x}=await K.from("support_tickets").select("id, subject, customer_name, priority, user_id").eq("id",p.ticket_id).single();if(x){console.error("Error fetching ticket:",x);return}if(v.user_id!==e.id){console.log("Ticket does not belong to this user");return}const b={id:`message-${p.id}`,type:"ticket_reply",subject:v.subject,customerName:v.customer_name,priority:v.priority,ticketId:v.id,createdAt:p.created_at,content:(w=p.content)==null?void 0:w.substring(0,100)};r(j=>[b,...j].slice(0,5)),l()}).subscribe(g=>{console.log("Messages channel status:",g)});return()=>{console.log("Cleaning up realtime subscriptions"),K.removeChannel(f),K.removeChannel(m)}},[e==null?void 0:e.id,i]);const c=f=>{r(m=>m.filter(g=>g.id!==f))},u=()=>{r([])},d=f=>{var m;t(`/support-tickets?ticket=${f}`),c(((m=n.find(g=>g.ticketId===f))==null?void 0:m.id)||"")},h=f=>{switch(f==null?void 0:f.toLowerCase()){case"urgent":return"bg-red-500/10 text-red-600 border-red-200";case"high":return"bg-orange-500/10 text-orange-600 border-orange-200";case"medium":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";default:return"bg-blue-500/10 text-blue-600 border-blue-200"}};return n.length===0?null:s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-2",children:[n.map((f,m)=>{var g,p,v;return s.jsx("div",{className:"pointer-events-auto border-l-4 rounded-lg shadow-lg border bg-card animate-in slide-in-from-top-5 duration-300",style:{animationDelay:`${m*100}ms`,borderLeftColor:((g=f.priority)==null?void 0:g.toLowerCase())==="urgent"?"rgb(239 68 68)":((p=f.priority)==null?void 0:p.toLowerCase())==="high"?"rgb(249 115 22)":((v=f.priority)==null?void 0:v.toLowerCase())==="medium"?"rgb(234 179 8)":"rgb(59 130 246)"},children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${f.type==="new_ticket"?"bg-primary/10":"bg-blue-500/10"}`,children:f.type==="new_ticket"?s.jsx(EP,{className:"h-4 w-4 text-primary"}):s.jsx(kn,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:f.type==="new_ticket"?"New Support Ticket":"Customer Reply"}),f.priority&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${h(f.priority)}`,children:f.priority})]}),s.jsx("p",{className:"font-medium text-sm truncate",children:f.subject}),f.type==="ticket_reply"&&f.content&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:['"',f.content,'..."']}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["From: ",f.customerName]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>d(f.ticketId),className:"text-xs h-7",children:[s.jsx(Ri,{className:"h-3 w-3 mr-1"}),"View"]}),s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-7 w-7",children:s.jsx(Yl,{className:"h-4 w-4"})})]})]})})},f.id)}),n.length>1&&s.jsx("div",{className:"pointer-events-auto flex justify-center",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:u,className:"text-xs shadow-md bg-card border",children:["Dismiss All (",n.length,")"]})})]})})}function br({children:e}){var l;const{user:t,loading:n}=qt(),[r,a]=y.useState(""),i=((l=t==null?void 0:t.user_metadata)==null?void 0:l.is_customer)===!0;if(!n&&i)return s.jsx(qs,{to:"/customer-login",replace:!0});const o=async()=>{if(t)try{const{data:c,error:u}=await K.from("profiles").select("full_name").eq("user_id",t.id).maybeSingle();a(!u&&c?c.full_name||t.email||"":t.email||"")}catch(c){console.error("Error fetching profile:",c),a(t.email||"")}};return y.useEffect(()=>{o();const c=K.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`user_id=eq.${t==null?void 0:t.id}`},()=>{o()}).subscribe();return()=>{K.removeChannel(c)}},[t]),s.jsxs(u2,{children:[s.jsx(cue,{}),s.jsxs("div",{className:"min-h-screen flex w-full",children:[s.jsx(lue,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(fw,{className:"lg:hidden"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ys,{className:"w-4 h-4"}),s.jsx("span",{className:"text-muted-foreground",children:r})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})]})}function uue({children:e}){const r=li().pathname.startsWith("/customer-")?"voxtro-customer-theme":"voxtro-admin-theme";return s.jsx(aue,{defaultTheme:"dark",storageKey:r,children:e})}const due=()=>{const{user:e,loading:t}=qt();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(qs,{to:"/dashboard",replace:!0}):s.jsx(qs,{to:"/auth",replace:!0})};var hue="Label",fz=y.forwardRef((e,t)=>s.jsx(De.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fz.displayName=hue;var mz=fz;const fue=Yh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=y.forwardRef(({className:e,...t},n)=>s.jsx(mz,{ref:n,className:me(fue(),e),...t}));J.displayName=mz.displayName;const dr="/assets/voxtro-logo-BTHQL5eT.png";function mue(){var w;const{user:e,signUp:t,signIn:n,signInWithProvider:r,loading:a,session:i,resetPassword:o}=qt(),{toast:l}=vn(),{resolvedTheme:c}=$P(),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[m,g]=y.useState(!1);if(console.log("Auth page - loading:",a,"user:",!!e,"session:",!!i),a)return console.log("Auth page showing loading..."),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(vt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})});if(!a&&e)return((w=e.user_metadata)==null?void 0:w.is_customer)===!0?(console.log("Auth page redirecting to customer portal - user is a customer"),s.jsx(qs,{to:"/customer-login",replace:!0})):(console.log("Auth page redirecting to dashboard - user exists"),s.jsx(qs,{to:"/dashboard",replace:!0}));const p=async j=>{j.preventDefault(),d(!0);const S=new FormData(j.currentTarget),N=S.get("email"),C=S.get("password"),k=S.get("confirmPassword"),D=S.get("fullName");if(C!==k){l({title:"Error",description:"Passwords do not match.",variant:"destructive"}),d(!1);return}const{error:R}=await t(N,C,D);l(R?{title:"Error",description:R.message,variant:"destructive"}:{title:"Success",description:"Please check your email to confirm your account."}),d(!1)},v=async j=>{j.preventDefault(),d(!0);const S=new FormData(j.currentTarget),N=S.get("email"),C=S.get("password"),{error:k}=await n(N,C);k&&l({title:"Error",description:k.message,variant:"destructive"}),d(!1)},x=async j=>{j.preventDefault(),d(!0);const N=new FormData(j.currentTarget).get("email"),{error:C}=await o(N);C?l({title:"Error",description:C.message,variant:"destructive"}):(l({title:"Success",description:"Password reset email sent. Please check your inbox."}),f(!1)),d(!1)},b=async j=>{const{error:S}=await r(j);S&&l({title:"Error",description:S.message,variant:"destructive"})};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-black relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full px-12",children:[s.jsx("div",{className:"mb-8",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-24 drop-shadow-2xl"})}),s.jsx("h1",{className:"text-4xl font-normal text-white text-center",style:{fontFamily:"Montserrat, sans-serif"},children:"AI-Powered Customer Engagement"})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white force-light",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:s.jsx("img",{src:c==="dark"?dr:Vc,alt:"Voxtro",className:"h-16"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:m?"Create your account":"Welcome back"}),s.jsx("p",{className:"mt-2 text-gray-600",children:m?"Start building amazing chatbots today":"Sign in to continue to your dashboard"})]}),m?s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"signup-name",className:"text-gray-700",children:"Full Name"}),s.jsx(le,{id:"signup-name",name:"fullName",type:"text",placeholder:"John Doe",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"signup-email",className:"text-gray-700",children:"Email"}),s.jsx(le,{id:"signup-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"signup-password",className:"text-gray-700",children:"Password"}),s.jsx(le,{id:"signup-password",name:"password",type:"password",placeholder:"Create a password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"signup-confirm-password",className:"text-gray-700",children:"Confirm Password"}),s.jsx(le,{id:"signup-confirm-password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsx(X,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium mt-2",disabled:u,children:u?"Creating account...":"Create account"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(X,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>g(!1),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign in"})]})]}):s.jsxs(s.Fragment,{children:[h?s.jsxs("form",{onSubmit:x,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"reset-email",className:"text-gray-700",children:"Email"}),s.jsx(le,{id:"reset-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsx(X,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e]",disabled:u,children:u?"Sending...":"Send reset link"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-sm text-gray-600 hover:text-gray-900",children:"Back to sign in"})]}):s.jsxs("form",{onSubmit:v,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"signin-email",className:"text-gray-700",children:"Email"}),s.jsx(le,{id:"signin-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"signin-password",className:"text-gray-700",children:"Password"}),s.jsx(le,{id:"signin-password",name:"password",type:"password",placeholder:"Enter your password",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-[#e45133] hover:text-[#cc472e] font-medium",children:"Forgot password?"})}),s.jsx(X,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium",disabled:u,children:u?"Signing in...":"Sign in"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(X,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{type:"button",onClick:()=>g(!0),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign up for free"})]})]}),s.jsxs("p",{className:"mt-8 text-center text-xs text-gray-500",children:["By continuing, you agree to our"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Privacy Policy"})]})]})})]})}const W=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const re=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const se=y.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));se.displayName="CardTitle";const xe=y.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));xe.displayName="CardDescription";const G=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));G.displayName="CardContent";const pue=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));pue.displayName="CardFooter";function gue(){const[e]=mie(),t=Mr(),{toast:n}=vn(),{resolvedTheme:r}=$P(),[a,i]=y.useState(!0),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,h]=y.useState(null),[f,m]=y.useState(""),[g,p]=y.useState(""),[v,x]=y.useState(!1),[b,w]=y.useState(!1),[j,S]=y.useState(!1),[N,C]=y.useState(!1),k=e.get("token_hash"),D=e.get("type"),R=e.get("next")||"/auth";y.useEffect(()=>{(async()=>{if(!k||!D){h("Invalid or missing verification parameters."),l(!1),i(!1);return}try{if(D==="recovery"){const{data:F,error:L}=await K.auth.verifyOtp({token_hash:k,type:"recovery"});L?(console.error("Token verification error:",L),h(L.message||"Failed to verify reset token. It may have expired."),u(!1)):F.session?(console.log("Token verified successfully"),u(!0)):(h("Unable to verify reset token."),u(!1))}else if(D==="signup"||D==="email_change"){const{error:F}=await K.auth.verifyOtp({token_hash:k,type:D==="signup"?"signup":"email_change"});if(F)h(F.message||"Failed to verify email.");else{n({title:"Email Verified",description:"Your email has been verified successfully."}),t(R);return}}else h("Unknown verification type.")}catch(F){console.error("Verification error:",F),h(F.message||"An unexpected error occurred.")}l(!1),i(!1)})()},[k,D,t,R,n]);const E=async B=>{if(B.preventDefault(),f!==g){n({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}if(f.length<6){n({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}S(!0);try{const{error:F}=await K.auth.updateUser({password:f});F?n({title:"Error",description:F.message,variant:"destructive"}):(C(!0),n({title:"Success",description:"Your password has been updated successfully."}),setTimeout(async()=>{await K.auth.signOut(),t("/auth")},2e3))}catch(F){n({title:"Error",description:F.message||"Failed to update password.",variant:"destructive"})}S(!1)};return a||o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifying your request..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?dr:Vc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(W,{className:"border-0 shadow-lg",children:[s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(wte,{className:"h-12 w-12 text-destructive"})}),s.jsx(se,{className:"text-2xl",children:"Verification Failed"}),s.jsx(xe,{className:"text-destructive",children:d})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"The link may have expired or already been used. Please request a new password reset."}),s.jsx(X,{onClick:()=>t("/auth"),className:"w-full",children:"Back to Sign In"})]})]})]})}):N?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?dr:Vc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(W,{className:"border-0 shadow-lg",children:[s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(rs,{className:"h-12 w-12 text-green-500"})}),s.jsx(se,{className:"text-2xl",children:"Password Updated!"}),s.jsx(xe,{children:"Your password has been successfully changed."})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirecting you to the sign in page..."}),s.jsx(X,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In Now"})]})]})]})}):c&&D==="recovery"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?dr:Vc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(W,{className:"border-0 shadow-lg",children:[s.jsxs(re,{className:"text-center",children:[s.jsx(se,{className:"text-2xl",children:"Set New Password"}),s.jsx(xe,{children:"Enter your new password below"})]}),s.jsxs(G,{children:[s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"new-password",type:v?"text":"password",placeholder:"Enter your new password",value:f,onChange:B=>m(B.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>x(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:v?s.jsx(yp,{className:"h-4 w-4"}):s.jsx(ba,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm your new password",value:g,onChange:B=>p(B.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:b?s.jsx(yp,{className:"h-4 w-4"}):s.jsx(ba,{className:"h-4 w-4"})})]})]}),f&&g&&f!==g&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"}),s.jsx(X,{type:"submit",className:"w-full",disabled:j||!f||!g||f!==g,children:j?"Updating...":"Update Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:()=>t("/auth"),className:"text-sm text-muted-foreground hover:underline",children:"Back to Sign In"})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4 force-light",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Something went wrong. Please try again."}),s.jsx(X,{onClick:()=>t("/auth"),className:"mt-4",children:"Back to Sign In"})]})})}const vue=Yh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ee({className:e,variant:t,...n}){return s.jsx("div",{className:me(vue({variant:t}),e),...n})}function Pt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function _r(e,t){const n=Pt(e);return isNaN(t)?bs(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ni(e,t){const n=Pt(e);if(isNaN(t))return bs(e,NaN);if(!t)return n;const r=n.getDate(),a=bs(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const f2=6048e5,xue=864e5,pz=6e4,gz=36e5;let yue={};function Gg(){return yue}function Li(e,t){var l,c,u,d;const n=Gg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Pt(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function iu(e){return Li(e,{weekStartsOn:1})}function vz(e){const t=Pt(e),n=t.getFullYear(),r=bs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=iu(r),i=bs(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=iu(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function dh(e){const t=Pt(e);return t.setHours(0,0,0,0),t}function Jy(e){const t=Pt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Pi(e,t){const n=dh(e),r=dh(t),a=+n-Jy(n),i=+r-Jy(r);return Math.round((a-i)/xue)}function bue(e){const t=vz(e),n=bs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),iu(n)}function qS(e,t){const n=t*7;return _r(e,n)}function wue(e,t){return ni(e,t*12)}function jue(e){let t;return e.forEach(function(n){const r=Pt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function _ue(e){let t;return e.forEach(n=>{const r=Pt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function xz(e){return bs(e,Date.now())}function Pr(e,t){const n=dh(e),r=dh(t);return+n==+r}function m2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Nue(e){if(!m2(e)&&typeof e!="number")return!1;const t=Pt(e);return!isNaN(Number(t))}function Pp(e,t){const n=Pt(e),r=Pt(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function Sue(e,t,n){const r=Li(e,n),a=Li(t,n),i=+r-Jy(r),o=+a-Jy(a);return Math.round((i-o)/f2)}function p2(e){const t=Pt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function fs(e){const t=Pt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yz(e){const t=Pt(e),n=bs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function g2(e,t){var l,c,u,d;const n=Gg(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Pt(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function bz(e){return g2(e,{weekStartsOn:1})}const Cue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kue=(e,t,n)=>{let r;const a=Cue[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Eue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Aue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tue={date:$_({formats:Eue,defaultWidth:"full"}),time:$_({formats:Pue,defaultWidth:"full"}),dateTime:$_({formats:Aue,defaultWidth:"full"})},Oue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mue=(e,t,n,r)=>Oue[e];function Yf(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Due={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$ue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bue=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Uue={ordinalNumber:Bue,era:Yf({values:Due,defaultWidth:"wide"}),quarter:Yf({values:Iue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yf({values:Rue,defaultWidth:"wide"}),day:Yf({values:$ue,defaultWidth:"wide"}),dayPeriod:Yf({values:Lue,defaultWidth:"wide",formattingValues:Fue,defaultFormattingWidth:"wide"})};function Jf(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?que(l,h=>h.test(o)):zue(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function zue(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function que(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Vue(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Wue=/^(\d+)(th|st|nd|rd)?/i,Hue=/\d+/i,Gue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kue={any:[/^b/i,/^(a|c)/i]},Yue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jue={any:[/1/i,/2/i,/3/i,/4/i]},Xue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Que={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ede={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rde={ordinalNumber:Vue({matchPattern:Wue,parsePattern:Hue,valueCallback:e=>parseInt(e,10)}),era:Jf({matchPatterns:Gue,defaultMatchWidth:"wide",parsePatterns:Kue,defaultParseWidth:"any"}),quarter:Jf({matchPatterns:Yue,defaultMatchWidth:"wide",parsePatterns:Jue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jf({matchPatterns:Xue,defaultMatchWidth:"wide",parsePatterns:Que,defaultParseWidth:"any"}),day:Jf({matchPatterns:Zue,defaultMatchWidth:"wide",parsePatterns:ede,defaultParseWidth:"any"}),dayPeriod:Jf({matchPatterns:tde,defaultMatchWidth:"any",parsePatterns:nde,defaultParseWidth:"any"})},wz={code:"en-US",formatDistance:kue,formatLong:Tue,formatRelative:Mue,localize:Uue,match:rde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sde(e){const t=Pt(e);return Pi(t,yz(t))+1}function jz(e){const t=Pt(e),n=+iu(t)-+bue(t);return Math.round(n/f2)+1}function _z(e,t){var d,h,f,m;const n=Pt(e),r=n.getFullYear(),a=Gg(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=bs(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Li(o,t),c=bs(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Li(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function ade(e,t){var l,c,u,d;const n=Gg(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=_z(e,t),i=bs(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Li(i,t)}function Nz(e,t){const n=Pt(e),r=+Li(n,t)-+ade(n,t);return Math.round(r/f2)+1}function Ut(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Vo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ut(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ut(n+1,2)},d(e,t){return Ut(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ut(e.getHours()%12||12,t.length)},H(e,t){return Ut(e.getHours(),t.length)},m(e,t){return Ut(e.getMinutes(),t.length)},s(e,t){return Ut(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Ut(a,t.length)}},Vu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jD={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Vo.y(e,t)},Y:function(e,t,n,r){const a=_z(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ut(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ut(i,t.length)},R:function(e,t){const n=vz(e);return Ut(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ut(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Vo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Nz(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Ut(a,t.length)},I:function(e,t,n){const r=jz(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ut(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Vo.d(e,t)},D:function(e,t,n){const r=sde(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ut(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ut(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ut(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Ut(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Vu.noon:r===0?a=Vu.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Vu.evening:r>=12?a=Vu.afternoon:r>=4?a=Vu.morning:a=Vu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Vo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ut(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Vo.s(e,t)},S:function(e,t){return Vo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ND(r);case"XXXX":case"XX":return vc(r);case"XXXXX":case"XXX":default:return vc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ND(r);case"xxxx":case"xx":return vc(r);case"xxxxx":case"xxx":default:return vc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_D(r,":");case"OOOO":default:return"GMT"+vc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_D(r,":");case"zzzz":default:return"GMT"+vc(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ut(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ut(r,t.length)}};function _D(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Ut(i,2)}function ND(e,t){return e%60===0?(e>0?"-":"+")+Ut(Math.abs(e)/60,2):vc(e,t)}function vc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Ut(Math.trunc(r/60),2),i=Ut(r%60,2);return n+a+t+i}const SD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Sz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ide=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return SD(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",SD(r,t)).replace("{{time}}",Sz(a,t))},ode={p:Sz,P:ide},lde=/^D+$/,cde=/^Y+$/,ude=["D","DD","YY","YYYY"];function dde(e){return lde.test(e)}function hde(e){return cde.test(e)}function fde(e,t,n){const r=mde(e,t,n);if(console.warn(r),ude.includes(e))throw new RangeError(r)}function mde(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vde=/^'([^]*?)'?$/,xde=/''/g,yde=/[a-zA-Z]/;function at(e,t,n){var d,h,f,m,g,p,v,x;const r=Gg(),a=(n==null?void 0:n.locale)??r.locale??wz,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=Pt(e);if(!Nue(l))throw new RangeError("Invalid time value");let c=t.match(gde).map(b=>{const w=b[0];if(w==="p"||w==="P"){const j=ode[w];return j(b,a.formatLong)}return b}).join("").match(pde).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:bde(b)};if(jD[w])return{isToken:!0,value:b};if(w.match(yde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&hde(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&dde(w))&&fde(w,t,String(e));const j=jD[w[0]];return j(l,w,a.localize,u)}).join("")}function bde(e){const t=e.match(vde);return t?t[1].replace(xde,"'"):e}function wde(e){const t=Pt(e),n=t.getFullYear(),r=t.getMonth(),a=bs(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function jde(e){return Math.trunc(+Pt(e)/1e3)}function _de(e){const t=Pt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Nde(e,t){return Sue(_de(e),fs(e),t)+1}function VS(e,t){const n=Pt(e),r=Pt(t);return n.getTime()>r.getTime()}function Cz(e,t){const n=Pt(e),r=Pt(t);return+n<+r}function kz(e){return+Pt(e)<Date.now()}function v2(e,t){const n=Pt(e),r=Pt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Sde(e,t){const n=Pt(e),r=Pt(t);return n.getFullYear()===r.getFullYear()}function WS(e){return Pr(e,xz(e))}function Cde(e){return Pr(e,_r(xz(e),1))}function L_(e,t){return _r(e,-t)}function HS(e,t){const r=Ade(e);let a;if(r.date){const c=Tde(r.date,2);a=Ode(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=Mde(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=Dde(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const tx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ede=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ade(e){const t={},n=e.split(tx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],tx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(tx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=tx.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Tde(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Ode(e,t){if(t===null)return new Date(NaN);const n=e.match(kde);if(!n)return new Date(NaN);const r=!!n[4],a=Xf(n[1]),i=Xf(n[2])-1,o=Xf(n[3]),l=Xf(n[4]),c=Xf(n[5])-1;if(r)return Fde(t,l,c)?Ide(t,l,c):new Date(NaN);{const u=new Date(0);return!$de(t,i,o)||!Lde(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Xf(e){return e?parseInt(e):1}function Mde(e){const t=e.match(Ede);if(!t)return NaN;const n=F_(t[1]),r=F_(t[2]),a=F_(t[3]);return Bde(n,r,a)?n*gz+r*pz+a*1e3:NaN}function F_(e){return e&&parseFloat(e.replace(",","."))||0}function Dde(e){if(e==="Z")return 0;const t=e.match(Pde);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Ude(r,a)?n*(r*gz+a*pz):NaN}function Ide(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const Rde=[31,null,31,30,31,30,31,31,30,31,30,31];function Ez(e){return e%400===0||e%4===0&&e%100!==0}function $de(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Rde[t]||(Ez(e)?29:28))}function Lde(e,t){return t>=1&&t<=(Ez(e)?366:365)}function Fde(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Bde(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Ude(e,t){return t>=0&&t<=59}function B_(e,t){const n=Pt(e),r=n.getFullYear(),a=n.getDate(),i=bs(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=wde(i);return n.setMonth(t,Math.min(a,o)),n}function CD(e,t){const n=Pt(e);return isNaN(+n)?bs(e,NaN):(n.setFullYear(t),n)}function zde(){const{user:e,loading:t}=qt(),{toast:n}=vn(),r=Mr(),[a,i]=y.useState({totalChatbots:0,activeChatbots:0,totalConversations:0,totalMessages:0,totalVoiceAssistants:0,totalVoiceCalls:0,totalCallMinutes:0,avgMessagesPerConversation:0,avgCallDuration:0,totalWhatsAppAgents:0,activeWhatsAppAgents:0,totalWhatsAppConversations:0,totalWhatsAppMessages:0,totalCustomers:0,openTickets:0}),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState(!0),f=async()=>{if(!(e!=null&&e.id)){h(!1);return}try{const{data:b,error:w}=await K.from("chatbots").select("id, is_active").eq("user_id",e.id);if(w)throw w;const j=(b==null?void 0:b.length)||0,S=(b==null?void 0:b.filter(q=>q.is_active).length)||0,N=(b==null?void 0:b.map(q=>q.id))||[];let C=0;if(N.length>0){const{count:q,error:Q}=await K.from("conversations").select("*",{count:"exact",head:!0}).in("chatbot_id",N);if(Q)throw Q;C=q||0}let k=0;if(N.length>0){const{count:q,error:Q}=await K.from("messages").select("id, conversations!inner(chatbot_id)",{count:"exact",head:!0}).in("conversations.chatbot_id",N);if(Q)throw Q;k=q||0}const{data:D,error:R}=await K.from("voice_assistants").select("id, name, org_id").eq("user_id",e.id);if(R)throw R;const E=(D==null?void 0:D.length)||0,B=(D==null?void 0:D.map(q=>q.id))||[];u(D||[]);let F=0,L=0,I=0;if(B.length>0){const{data:q,error:Q}=await K.from("voice_assistant_calls").select("duration_seconds, status").in("assistant_id",B);if(Q)throw Q;if(F=(q==null?void 0:q.length)||0,q&&q.length>0){const ne=q.filter(Se=>Se.duration_seconds!=null&&Se.duration_seconds>0),pe=ne.reduce((Se,qe)=>Se+(qe.duration_seconds||0),0);L=ne.length>0?Math.round(pe/ne.length):0,I=Math.round(pe/60)}}const{data:O,error:$}=await K.from("whatsapp_agents").select("id, status").eq("user_id",e.id);if($)throw $;const T=(O==null?void 0:O.length)||0,U=(O==null?void 0:O.filter(q=>q.status==="active").length)||0,M=(O==null?void 0:O.map(q=>q.id))||[];let Y=0;if(M.length>0){const{count:q,error:Q}=await K.from("whatsapp_conversations").select("*",{count:"exact",head:!0}).in("agent_id",M);if(Q)throw Q;Y=q||0}let ee=0;if(M.length>0){const{count:q,error:Q}=await K.from("whatsapp_messages").select("id, whatsapp_conversations!inner(agent_id)",{count:"exact",head:!0}).in("whatsapp_conversations.agent_id",M);if(Q)throw Q;ee=q||0}const{count:_,error:A}=await K.from("customers").select("*",{count:"exact",head:!0});if(A)throw A;const{count:P,error:z}=await K.from("support_tickets").select("*",{count:"exact",head:!0}).eq("user_id",e.id).in("status",["open","in_progress"]);if(z)throw z;const{data:V,error:te}=await K.from("voice_assistant_tasks").select("*").eq("user_id",e.id).in("status",["pending","in-progress"]).order("due_date",{ascending:!0,nullsFirst:!1}).limit(5);if(te)throw te;l(V||[]);const Z=C>0?Math.round(k/C):0;i({totalChatbots:j,activeChatbots:S,totalConversations:C,totalMessages:k,totalVoiceAssistants:E,totalVoiceCalls:F,totalCallMinutes:I,avgMessagesPerConversation:Z,avgCallDuration:L,totalWhatsAppAgents:T,activeWhatsAppAgents:U,totalWhatsAppConversations:Y,totalWhatsAppMessages:ee,totalCustomers:_||0,openTickets:P||0})}catch(b){console.error("Error fetching stats:",b),n({title:"Error",description:"Failed to load dashboard statistics",variant:"destructive"})}finally{h(!1)}};y.useEffect(()=>{if(!t&&!(e!=null&&e.id)){h(!1);return}if(e!=null&&e.id&&!t){f();const b=K.channel("dashboard-chatbots").on("postgres_changes",{event:"*",schema:"public",table:"chatbots"},f).subscribe(),w=K.channel("dashboard-conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},f).subscribe(),j=K.channel("dashboard-messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},f).subscribe(),S=K.channel("dashboard-assistants").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistants"},f).subscribe(),N=K.channel("dashboard-calls").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls"},f).subscribe(),C=K.channel("dashboard-tasks").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_tasks"},f).subscribe(),k=K.channel("dashboard-whatsapp-agents").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_agents"},f).subscribe(),D=K.channel("dashboard-whatsapp-conversations").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},f).subscribe(),R=K.channel("dashboard-whatsapp-messages").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_messages"},f).subscribe();return()=>{K.removeChannel(b),K.removeChannel(w),K.removeChannel(j),K.removeChannel(S),K.removeChannel(N),K.removeChannel(C),K.removeChannel(k),K.removeChannel(D),K.removeChannel(R)}}},[e==null?void 0:e.id,t]);const m=b=>{const w=c.find(j=>j.id===b);return(w==null?void 0:w.name)||"Unknown Assistant"},g=b=>{switch(b){case"urgent":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},p=b=>{switch(b){case"completed":return s.jsx(Ya,{className:"h-4 w-4 text-green-500"});case"in-progress":return s.jsx(Ot,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"})}},v=b=>{if(!b)return null;const w=HS(b);return kz(w)&&!WS(w)?{label:"Overdue",className:"text-destructive"}:WS(w)?{label:"Today",className:"text-primary"}:Cde(w)?{label:"Tomorrow",className:"text-yellow-600"}:{label:at(w,"MMM d"),className:"text-muted-foreground"}},x=b=>{if(b<60)return`${b}s`;const w=Math.floor(b/60);if(w<60)return`${w}m`;const j=Math.floor(w/60),S=w%60;return`${j}h ${S}m`};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ah,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})}):!t&&!e?s.jsx(qs,{to:"/auth",replace:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overview of your AI agents and platform activity"})]}),d?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[...Array(6)].map((b,w)=>s.jsx("div",{className:"h-20 bg-muted rounded-lg animate-pulse"},w))})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(W,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/chatbots"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(vt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalChatbots})]})]})}),s.jsx(W,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/voice-assistants"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-5/10 rounded-lg",children:s.jsx(It,{className:"h-4 w-4 text-chart-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice Assistants"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalVoiceAssistants})]})]})}),s.jsx(W,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/whatsapp-agents"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Ht,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppAgents})]})]})}),s.jsx(W,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/customers"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-2/10 rounded-lg",children:s.jsx(ur,{className:"h-4 w-4 text-chart-2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalCustomers})]})]})}),s.jsx(W,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/support-tickets"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsx(Ri,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Tickets"}),s.jsx("p",{className:"text-xl font-bold",children:a.openTickets})]})]})}),s.jsx(W,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/voice-tasks"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-3/10 rounded-lg",children:s.jsx(fr,{className:"h-4 w-4 text-chart-3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Tasks"}),s.jsx("p",{className:"text-xl font-bold",children:o.length})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(W,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),s.jsx(se,{className:"text-base",children:"Chatbots"})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("/chatbots"),children:s.jsx(Wa,{className:"h-4 w-4"})})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalMessages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsxs("span",{className:"font-medium",children:[a.activeChatbots," / ",a.totalChatbots]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.avgMessagesPerConversation})]})]})]})]}),s.jsxs(W,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4 text-chart-5"}),s.jsx(se,{className:"text-base",children:"Voice Assistants"})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("/voice-assistants"),children:s.jsx(Wa,{className:"h-4 w-4"})})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalVoiceCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalCallMinutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:a.totalVoiceAssistants})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg duration"}),s.jsx("span",{className:"font-medium",children:x(a.avgCallDuration)})]})]})]})]}),s.jsxs(W,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4 text-green-500"}),s.jsx(se,{className:"text-base",children:"WhatsApp Agents"})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("/whatsapp-agents"),children:s.jsx(Wa,{className:"h-4 w-4"})})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppMessages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active agents"}),s.jsxs("span",{className:"font-medium",children:[a.activeWhatsAppAgents," / ",a.totalWhatsAppAgents]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.totalWhatsAppConversations>0?Math.round(a.totalWhatsAppMessages/a.totalWhatsAppConversations):0})]})]})]})]})]}),s.jsxs(W,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-4 w-4 text-chart-3"}),s.jsx(se,{className:"text-base",children:"Upcoming Tasks"})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>r("/voice-tasks"),children:["View All",s.jsx(Wa,{className:"h-4 w-4 ml-1"})]})]})}),s.jsx(G,{children:o.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Ya,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No pending tasks"}),s.jsx(X,{variant:"link",size:"sm",onClick:()=>r("/voice-tasks"),className:"mt-1",children:"Create a task"})]}):s.jsx("div",{className:"space-y-2",children:o.map(b=>{const w=v(b.due_date);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>r("/voice-tasks"),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[p(b.status),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:b.title}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:m(b.assistant_id)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Ee,{variant:g(b.priority),className:"capitalize text-xs",children:b.priority}),w&&s.jsx("span",{className:`text-xs font-medium ${w.className}`,children:w.label})]})]},b.id)})})})]})]})]})}var qde=Array.isArray,js=qde,Vde=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,Pz=Vde,Wde=Pz,Hde=typeof self=="object"&&self&&self.Object===Object&&self,Gde=Wde||Hde||Function("return this")(),qi=Gde,Kde=qi,Yde=Kde.Symbol,Kg=Yde,kD=Kg,Az=Object.prototype,Jde=Az.hasOwnProperty,Xde=Az.toString,Qf=kD?kD.toStringTag:void 0;function Qde(e){var t=Jde.call(e,Qf),n=e[Qf];try{e[Qf]=void 0;var r=!0}catch{}var a=Xde.call(e);return r&&(t?e[Qf]=n:delete e[Qf]),a}var Zde=Qde,ehe=Object.prototype,the=ehe.toString;function nhe(e){return the.call(e)}var rhe=nhe,ED=Kg,she=Zde,ahe=rhe,ihe="[object Null]",ohe="[object Undefined]",PD=ED?ED.toStringTag:void 0;function lhe(e){return e==null?e===void 0?ohe:ihe:PD&&PD in Object(e)?she(e):ahe(e)}var To=lhe;function che(e){return e!=null&&typeof e=="object"}var Oo=che,uhe=To,dhe=Oo,hhe="[object Symbol]";function fhe(e){return typeof e=="symbol"||dhe(e)&&uhe(e)==hhe}var of=fhe,mhe=js,phe=of,ghe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vhe=/^\w*$/;function xhe(e,t){if(mhe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||phe(e)?!0:vhe.test(e)||!ghe.test(e)||t!=null&&e in Object(t)}var x2=xhe;function yhe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ql=yhe;const lf=Bt(Ql);var bhe=To,whe=Ql,jhe="[object AsyncFunction]",_he="[object Function]",Nhe="[object GeneratorFunction]",She="[object Proxy]";function Che(e){if(!whe(e))return!1;var t=bhe(e);return t==_he||t==Nhe||t==jhe||t==She}var y2=Che;const bt=Bt(y2);var khe=qi,Ehe=khe["__core-js_shared__"],Phe=Ehe,U_=Phe,AD=function(){var e=/[^.]+$/.exec(U_&&U_.keys&&U_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ahe(e){return!!AD&&AD in e}var The=Ahe,Ohe=Function.prototype,Mhe=Ohe.toString;function Dhe(e){if(e!=null){try{return Mhe.call(e)}catch{}try{return e+""}catch{}}return""}var Tz=Dhe,Ihe=y2,Rhe=The,$he=Ql,Lhe=Tz,Fhe=/[\\^$.*+?()[\]{}|]/g,Bhe=/^\[object .+?Constructor\]$/,Uhe=Function.prototype,zhe=Object.prototype,qhe=Uhe.toString,Vhe=zhe.hasOwnProperty,Whe=RegExp("^"+qhe.call(Vhe).replace(Fhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hhe(e){if(!$he(e)||Rhe(e))return!1;var t=Ihe(e)?Whe:Bhe;return t.test(Lhe(e))}var Ghe=Hhe;function Khe(e,t){return e==null?void 0:e[t]}var Yhe=Khe,Jhe=Ghe,Xhe=Yhe;function Qhe(e,t){var n=Xhe(e,t);return Jhe(n)?n:void 0}var Nu=Qhe,Zhe=Nu,efe=Zhe(Object,"create"),mw=efe,TD=mw;function tfe(){this.__data__=TD?TD(null):{},this.size=0}var nfe=tfe;function rfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sfe=rfe,afe=mw,ife="__lodash_hash_undefined__",ofe=Object.prototype,lfe=ofe.hasOwnProperty;function cfe(e){var t=this.__data__;if(afe){var n=t[e];return n===ife?void 0:n}return lfe.call(t,e)?t[e]:void 0}var ufe=cfe,dfe=mw,hfe=Object.prototype,ffe=hfe.hasOwnProperty;function mfe(e){var t=this.__data__;return dfe?t[e]!==void 0:ffe.call(t,e)}var pfe=mfe,gfe=mw,vfe="__lodash_hash_undefined__";function xfe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gfe&&t===void 0?vfe:t,this}var yfe=xfe,bfe=nfe,wfe=sfe,jfe=ufe,_fe=pfe,Nfe=yfe;function cf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cf.prototype.clear=bfe;cf.prototype.delete=wfe;cf.prototype.get=jfe;cf.prototype.has=_fe;cf.prototype.set=Nfe;var Sfe=cf;function Cfe(){this.__data__=[],this.size=0}var kfe=Cfe;function Efe(e,t){return e===t||e!==e&&t!==t}var b2=Efe,Pfe=b2;function Afe(e,t){for(var n=e.length;n--;)if(Pfe(e[n][0],t))return n;return-1}var pw=Afe,Tfe=pw,Ofe=Array.prototype,Mfe=Ofe.splice;function Dfe(e){var t=this.__data__,n=Tfe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Mfe.call(t,n,1),--this.size,!0}var Ife=Dfe,Rfe=pw;function $fe(e){var t=this.__data__,n=Rfe(t,e);return n<0?void 0:t[n][1]}var Lfe=$fe,Ffe=pw;function Bfe(e){return Ffe(this.__data__,e)>-1}var Ufe=Bfe,zfe=pw;function qfe(e,t){var n=this.__data__,r=zfe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Vfe=qfe,Wfe=kfe,Hfe=Ife,Gfe=Lfe,Kfe=Ufe,Yfe=Vfe;function uf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uf.prototype.clear=Wfe;uf.prototype.delete=Hfe;uf.prototype.get=Gfe;uf.prototype.has=Kfe;uf.prototype.set=Yfe;var gw=uf,Jfe=Nu,Xfe=qi,Qfe=Jfe(Xfe,"Map"),w2=Qfe,OD=Sfe,Zfe=gw,eme=w2;function tme(){this.size=0,this.__data__={hash:new OD,map:new(eme||Zfe),string:new OD}}var nme=tme;function rme(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sme=rme,ame=sme;function ime(e,t){var n=e.__data__;return ame(t)?n[typeof t=="string"?"string":"hash"]:n.map}var vw=ime,ome=vw;function lme(e){var t=ome(this,e).delete(e);return this.size-=t?1:0,t}var cme=lme,ume=vw;function dme(e){return ume(this,e).get(e)}var hme=dme,fme=vw;function mme(e){return fme(this,e).has(e)}var pme=mme,gme=vw;function vme(e,t){var n=gme(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var xme=vme,yme=nme,bme=cme,wme=hme,jme=pme,_me=xme;function df(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}df.prototype.clear=yme;df.prototype.delete=bme;df.prototype.get=wme;df.prototype.has=jme;df.prototype.set=_me;var j2=df,Oz=j2,Nme="Expected a function";function _2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nme);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(_2.Cache||Oz),n}_2.Cache=Oz;var Mz=_2;const Sme=Bt(Mz);var Cme=Mz,kme=500;function Eme(e){var t=Cme(e,function(r){return n.size===kme&&n.clear(),r}),n=t.cache;return t}var Pme=Eme,Ame=Pme,Tme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ome=/\\(\\)?/g,Mme=Ame(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Tme,function(n,r,a,i){t.push(a?i.replace(Ome,"$1"):r||n)}),t}),Dme=Mme;function Ime(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var N2=Ime,MD=Kg,Rme=N2,$me=js,Lme=of,Fme=1/0,DD=MD?MD.prototype:void 0,ID=DD?DD.toString:void 0;function Dz(e){if(typeof e=="string")return e;if($me(e))return Rme(e,Dz)+"";if(Lme(e))return ID?ID.call(e):"";var t=e+"";return t=="0"&&1/e==-Fme?"-0":t}var Bme=Dz,Ume=Bme;function zme(e){return e==null?"":Ume(e)}var Iz=zme,qme=js,Vme=x2,Wme=Dme,Hme=Iz;function Gme(e,t){return qme(e)?e:Vme(e,t)?[e]:Wme(Hme(e))}var Rz=Gme,Kme=of,Yme=1/0;function Jme(e){if(typeof e=="string"||Kme(e))return e;var t=e+"";return t=="0"&&1/e==-Yme?"-0":t}var xw=Jme,Xme=Rz,Qme=xw;function Zme(e,t){t=Xme(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Qme(t[n++])];return n&&n==r?e:void 0}var S2=Zme,epe=S2;function tpe(e,t,n){var r=e==null?void 0:epe(e,t);return r===void 0?n:r}var $z=tpe;const ma=Bt($z);function npe(e){return e==null}var rpe=npe;const jt=Bt(rpe);var spe=To,ape=js,ipe=Oo,ope="[object String]";function lpe(e){return typeof e=="string"||!ape(e)&&ipe(e)&&spe(e)==ope}var cpe=lpe;const Yg=Bt(cpe);var Lz={exports:{}},Vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2=Symbol.for("react.element"),k2=Symbol.for("react.portal"),yw=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),ww=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),upe=Symbol.for("react.server_context"),Nw=Symbol.for("react.forward_ref"),Sw=Symbol.for("react.suspense"),Cw=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),Ew=Symbol.for("react.lazy"),dpe=Symbol.for("react.offscreen"),Fz;Fz=Symbol.for("react.module.reference");function Na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case C2:switch(e=e.type,e){case yw:case ww:case bw:case Sw:case Cw:return e;default:switch(e=e&&e.$$typeof,e){case upe:case _w:case Nw:case Ew:case kw:case jw:return e;default:return t}}case k2:return t}}}Vt.ContextConsumer=_w;Vt.ContextProvider=jw;Vt.Element=C2;Vt.ForwardRef=Nw;Vt.Fragment=yw;Vt.Lazy=Ew;Vt.Memo=kw;Vt.Portal=k2;Vt.Profiler=ww;Vt.StrictMode=bw;Vt.Suspense=Sw;Vt.SuspenseList=Cw;Vt.isAsyncMode=function(){return!1};Vt.isConcurrentMode=function(){return!1};Vt.isContextConsumer=function(e){return Na(e)===_w};Vt.isContextProvider=function(e){return Na(e)===jw};Vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===C2};Vt.isForwardRef=function(e){return Na(e)===Nw};Vt.isFragment=function(e){return Na(e)===yw};Vt.isLazy=function(e){return Na(e)===Ew};Vt.isMemo=function(e){return Na(e)===kw};Vt.isPortal=function(e){return Na(e)===k2};Vt.isProfiler=function(e){return Na(e)===ww};Vt.isStrictMode=function(e){return Na(e)===bw};Vt.isSuspense=function(e){return Na(e)===Sw};Vt.isSuspenseList=function(e){return Na(e)===Cw};Vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yw||e===ww||e===bw||e===Sw||e===Cw||e===dpe||typeof e=="object"&&e!==null&&(e.$$typeof===Ew||e.$$typeof===kw||e.$$typeof===jw||e.$$typeof===_w||e.$$typeof===Nw||e.$$typeof===Fz||e.getModuleId!==void 0)};Vt.typeOf=Na;Lz.exports=Vt;var Bz=Lz.exports,hpe=To,fpe=Oo,mpe="[object Number]";function ppe(e){return typeof e=="number"||fpe(e)&&hpe(e)==mpe}var Uz=ppe;const gpe=Bt(Uz);var vpe=Uz;function xpe(e){return vpe(e)&&e!=+e}var ype=xpe;const Jg=Bt(ype);var Ha=function(t){return t===0?0:t>0?1:-1},Pc=function(t){return Yg(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return gpe(t)&&!Jg(t)},zn=function(t){return Pe(t)||Yg(t)},bpe=0,Xg=function(t){var n=++bpe;return"".concat(t||"").concat(n)},ou=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!Yg(t))return r;var i;if(Pc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Jg(i)&&(i=r),a&&i>n&&(i=n),i},ol=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},wpe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},qa=function(t,n){return Pe(t)&&Pe(n)?function(r){return t+r*(n-t)}:function(){return n}};function Xy(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ma(r,t))===n})}function kd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function GS(e){"@babel/helpers - typeof";return GS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GS(e)}var jpe=["viewBox","children"],_pe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RD=["points","pathLength"],z_={svg:jpe,polygon:RD,polyline:RD},E2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qy=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(y.isValidElement(t)&&(r=t.props),!lf(r))return null;var a={};return Object.keys(r).forEach(function(i){E2.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},Npe=function(t,n,r){return function(a){return t(n,r,a),null}},Zy=function(t,n,r){if(!lf(t)||GS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];E2.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Npe(o,n,r))}),a},Spe=["children"],Cpe=["children"];function $D(e,t){if(e==null)return{};var n=kpe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KS(e){"@babel/helpers - typeof";return KS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KS(e)}var LD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},fo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},FD=null,q_=null,P2=function e(t){if(t===FD&&Array.isArray(q_))return q_;var n=[];return y.Children.forEach(t,function(r){jt(r)||(Bz.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),q_=n,FD=t,n};function pa(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return fo(a)}):r=[fo(t)],P2(e).forEach(function(a){var i=ma(a,"type.displayName")||ma(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Os(e,t){var n=pa(e,t);return n&&n[0]}var BD=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Pe(r)||r<=0||!Pe(a)||a<=0)},Epe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ppe=function(t){return t&&t.type&&Yg(t.type)&&Epe.indexOf(t.type)>=0},Ape=function(t){return t&&KS(t)==="object"&&"clipDot"in t},Tpe=function(t,n,r,a){var i,o=(i=z_==null?void 0:z_[a])!==null&&i!==void 0?i:[];return!bt(t)&&(a&&o.includes(n)||_pe.includes(n))||r&&E2.includes(n)},kt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!lf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Tpe((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},YS=function e(t,n){if(t===n)return!0;var r=y.Children.count(t);if(r!==y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return UD(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!UD(i,o))return!1}return!0},UD=function(t,n){if(jt(t)&&jt(n))return!0;if(!jt(t)&&!jt(n)){var r=t.props||{},a=r.children,i=$D(r,Spe),o=n.props||{},l=o.children,c=$D(o,Cpe);return a&&l?kd(i,c)&&YS(a,l):!a&&!l?kd(i,c):!1}return!1},zD=function(t,n){var r=[],a={};return P2(t).forEach(function(i,o){if(Ppe(i))r.push(i);else if(i){var l=fo(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);r.push(h),a[l]=!0}}}),r},Ope=function(t){var n=t&&t.type;return n&&LD[n]?LD[n]:null},Mpe=function(t,n){return P2(n).indexOf(t)},Dpe=["children","width","height","viewBox","className","style","title","desc"];function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function Ipe(e,t){if(e==null)return{};var n=Rpe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XS(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Ipe(e,Dpe),d=a||{width:n,height:r,x:0,y:0},h=Et("recharts-surface",i);return H.createElement("svg",JS({},kt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,l),H.createElement("desc",null,c),t)}var $pe=["children","className"];function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function Lpe(e,t){if(e==null)return{};var n=Fpe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var An=H.forwardRef(function(e,t){var n=e.children,r=e.className,a=Lpe(e,$pe),i=Et("recharts-layer",r);return H.createElement("g",QS({className:i},kt(a,!0),{ref:t}),n)}),mo=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Bpe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var Upe=Bpe,zpe=Upe;function qpe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:zpe(e,t,n)}var Vpe=qpe,Wpe="\\ud800-\\udfff",Hpe="\\u0300-\\u036f",Gpe="\\ufe20-\\ufe2f",Kpe="\\u20d0-\\u20ff",Ype=Hpe+Gpe+Kpe,Jpe="\\ufe0e\\ufe0f",Xpe="\\u200d",Qpe=RegExp("["+Xpe+Wpe+Ype+Jpe+"]");function Zpe(e){return Qpe.test(e)}var zz=Zpe;function ege(e){return e.split("")}var tge=ege,qz="\\ud800-\\udfff",nge="\\u0300-\\u036f",rge="\\ufe20-\\ufe2f",sge="\\u20d0-\\u20ff",age=nge+rge+sge,ige="\\ufe0e\\ufe0f",oge="["+qz+"]",ZS="["+age+"]",eC="\\ud83c[\\udffb-\\udfff]",lge="(?:"+ZS+"|"+eC+")",Vz="[^"+qz+"]",Wz="(?:\\ud83c[\\udde6-\\uddff]){2}",Hz="[\\ud800-\\udbff][\\udc00-\\udfff]",cge="\\u200d",Gz=lge+"?",Kz="["+ige+"]?",uge="(?:"+cge+"(?:"+[Vz,Wz,Hz].join("|")+")"+Kz+Gz+")*",dge=Kz+Gz+uge,hge="(?:"+[Vz+ZS+"?",ZS,Wz,Hz,oge].join("|")+")",fge=RegExp(eC+"(?="+eC+")|"+hge+dge,"g");function mge(e){return e.match(fge)||[]}var pge=mge,gge=tge,vge=zz,xge=pge;function yge(e){return vge(e)?xge(e):gge(e)}var bge=yge,wge=Vpe,jge=zz,_ge=bge,Nge=Iz;function Sge(e){return function(t){t=Nge(t);var n=jge(t)?_ge(t):void 0,r=n?n[0]:t.charAt(0),a=n?wge(n,1).join(""):t.slice(1);return r[e]()+a}}var Cge=Sge,kge=Cge,Ege=kge("toUpperCase"),Pge=Ege;const Pw=Bt(Pge);function sn(e){return function(){return e}}const Yz=Math.cos,eb=Math.sin,ui=Math.sqrt,tb=Math.PI,Aw=2*tb,tC=Math.PI,nC=2*tC,xc=1e-6,Age=nC-xc;function Jz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Tge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Jz;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Oge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Jz:Tge(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>xc)if(!(Math.abs(h*c-u*d)>xc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),b=Math.sqrt(f),w=i*Math.tan((tC-Math.acos((p+f-v)/(2*x*b)))/2),j=w/b,S=w/x;Math.abs(j-1)>xc&&this._append`L${t+j*d},${n+j*h}`,this._append`A${i},${i},0,0,${+(h*m>d*g)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xc||Math.abs(this._y1-d)>xc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%nC+nC),f>Age?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>xc&&this._append`A${r},${r},0,${+(f>=tC)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function A2(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Oge(t)}function T2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xz(e){this._context=e}Xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tw(e){return new Xz(e)}function Qz(e){return e[0]}function Zz(e){return e[1]}function eq(e,t){var n=sn(!0),r=null,a=Tw,i=null,o=A2(l);e=typeof e=="function"?e:e===void 0?Qz:sn(e),t=typeof t=="function"?t:t===void 0?Zz:sn(t);function l(c){var u,d=(c=T2(c)).length,h,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:sn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:sn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:sn(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function nx(e,t,n){var r=null,a=sn(!0),i=null,o=Tw,l=null,c=A2(u);e=typeof e=="function"?e:e===void 0?Qz:sn(+e),t=typeof t=="function"?t:sn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Zz:sn(+n);function u(h){var f,m,g,p=(h=T2(h)).length,v,x=!1,b,w=new Array(p),j=new Array(p);for(i==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&a(v=h[f],f,h))===x)if(x=!x)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}x&&(w[f]=+e(v,f,h),j[f]=+t(v,f,h),l.point(r?+r(v,f,h):w[f],n?+n(v,f,h):j[f]))}if(b)return l=null,b+""||null}function d(){return eq().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:sn(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:sn(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:sn(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:sn(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:sn(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:sn(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:sn(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class tq{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Mge(e){return new tq(e,!0)}function Dge(e){return new tq(e,!1)}const O2={draw(e,t){const n=ui(t/tb);e.moveTo(n,0),e.arc(0,0,n,0,Aw)}},Ige={draw(e,t){const n=ui(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nq=ui(1/3),Rge=nq*2,$ge={draw(e,t){const n=ui(t/Rge),r=n*nq;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Lge={draw(e,t){const n=ui(t),r=-n/2;e.rect(r,r,n,n)}},Fge=.8908130915292852,rq=eb(tb/10)/eb(7*tb/10),Bge=eb(Aw/10)*rq,Uge=-Yz(Aw/10)*rq,zge={draw(e,t){const n=ui(t*Fge),r=Bge*n,a=Uge*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Aw*i/5,l=Yz(o),c=eb(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},V_=ui(3),qge={draw(e,t){const n=-ui(t/(V_*3));e.moveTo(0,n*2),e.lineTo(-V_*n,-n),e.lineTo(V_*n,-n),e.closePath()}},Qs=-.5,Zs=ui(3)/2,rC=1/ui(12),Vge=(rC/2+1)*3,Wge={draw(e,t){const n=ui(t/Vge),r=n/2,a=n*rC,i=r,o=n*rC+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Qs*r-Zs*a,Zs*r+Qs*a),e.lineTo(Qs*i-Zs*o,Zs*i+Qs*o),e.lineTo(Qs*l-Zs*c,Zs*l+Qs*c),e.lineTo(Qs*r+Zs*a,Qs*a-Zs*r),e.lineTo(Qs*i+Zs*o,Qs*o-Zs*i),e.lineTo(Qs*l+Zs*c,Qs*c-Zs*l),e.closePath()}};function Hge(e,t){let n=null,r=A2(a);e=typeof e=="function"?e:sn(e||O2),t=typeof t=="function"?t:sn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:sn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:sn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function nb(){}function rb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function sq(e){this._context=e}sq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gge(e){return new sq(e)}function aq(e){this._context=e}aq.prototype={areaStart:nb,areaEnd:nb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kge(e){return new aq(e)}function iq(e){this._context=e}iq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yge(e){return new iq(e)}function oq(e){this._context=e}oq.prototype={areaStart:nb,areaEnd:nb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Jge(e){return new oq(e)}function qD(e){return e<0?-1:1}function VD(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(qD(i)+qD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function WD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function W_(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function sb(e){this._context=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W_(this,this._t0,WD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,W_(this,WD(this,n=VD(this,e,t)),n);break;default:W_(this,this._t0,n=VD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function lq(e){this._context=new cq(e)}(lq.prototype=Object.create(sb.prototype)).point=function(e,t){sb.prototype.point.call(this,t,e)};function cq(e){this._context=e}cq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function Xge(e){return new sb(e)}function Qge(e){return new lq(e)}function uq(e){this._context=e}uq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=HD(e),a=HD(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HD(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Zge(e){return new uq(e)}function Ow(e,t){this._context=e,this._t=t}Ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function eve(e){return new Ow(e,.5)}function tve(e){return new Ow(e,0)}function nve(e){return new Ow(e,1)}function hh(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function sC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function rve(e,t){return e[t]}function sve(e){const t=[];return t.key=e,t}function ave(){var e=sn([]),t=sC,n=hh,r=rve;function a(i){var o=Array.from(e.apply(this,arguments),sve),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=T2(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:sn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:sn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?sC:typeof i=="function"?i:sn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??hh,a):n},a}function ive(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}hh(e,t)}}function ove(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}hh(e,t)}}function lve(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],v=p[r][1]||0,x=p[r-1][1]||0;m+=v-x}c+=h,u+=m*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,hh(e,t)}}function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}var cve=["type","size","sizeType"];function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aC.apply(this,arguments)}function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){uve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uve(e,t,n){return t=dve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dve(e){var t=hve(e,"string");return Ap(t)=="symbol"?t:t+""}function hve(e,t){if(Ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fve(e,t){if(e==null)return{};var n=mve(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var dq={symbolCircle:O2,symbolCross:Ige,symbolDiamond:$ge,symbolSquare:Lge,symbolStar:zge,symbolTriangle:qge,symbolWye:Wge},pve=Math.PI/180,gve=function(t){var n="symbol".concat(Pw(t));return dq[n]||O2},vve=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*pve;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},xve=function(t,n){dq["symbol".concat(Pw(t))]=n},M2=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=fve(t,cve),u=KD(KD({},c),{},{type:r,size:i,sizeType:l}),d=function(){var v=gve(r),x=Hge().type(v).size(vve(i,l,r));return x()},h=u.className,f=u.cx,m=u.cy,g=kt(u,!0);return f===+f&&m===+m&&i===+i?H.createElement("path",aC({},g,{className:Et("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};M2.registerSymbol=xve;function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iC.apply(this,arguments)}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(n),!0).forEach(function(r){Tp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fq(r.key),r)}}function jve(e,t,n){return t&&wve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ve(e,t,n){return t=ab(t),Nve(e,hq()?Reflect.construct(t,n||[],ab(e).constructor):t.apply(e,n))}function Nve(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(e)}function Sve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ab(e)}function Cve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oC(e,t)}function oC(e,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oC(e,t)}function Tp(e,t,n){return t=fq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fq(e){var t=kve(e,"string");return fh(t)=="symbol"?t:t+""}function kve(e,t){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ea=32,D2=function(e){function t(){return bve(this,t),_ve(this,t,arguments)}return Cve(t,e),jve(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ea/2,o=ea/6,l=ea/3,c=r.inactive?a:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ea,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ea,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ea/8,"h").concat(ea,"v").concat(ea*3/4,"h").concat(-ea,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var u=yve({},r);return delete u.legendIcon,H.cloneElement(r.legendIcon,u)}return H.createElement(M2,{fill:c,cx:i,cy:i,size:ea,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ea,height:ea},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=Et(Tp(Tp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=bt(m.value)?null:m.value;mo(!bt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return H.createElement("li",iC({className:v,style:h,key:"legend-item-".concat(g)},Zy(r.props,m,g)),H.createElement(XS,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,m,g):x))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Tp(D2,"displayName","Legend");Tp(D2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Eve=gw;function Pve(){this.__data__=new Eve,this.size=0}var Ave=Pve;function Tve(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Ove=Tve;function Mve(e){return this.__data__.get(e)}var Dve=Mve;function Ive(e){return this.__data__.has(e)}var Rve=Ive,$ve=gw,Lve=w2,Fve=j2,Bve=200;function Uve(e,t){var n=this.__data__;if(n instanceof $ve){var r=n.__data__;if(!Lve||r.length<Bve-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fve(r)}return n.set(e,t),this.size=n.size,this}var zve=Uve,qve=gw,Vve=Ave,Wve=Ove,Hve=Dve,Gve=Rve,Kve=zve;function hf(e){var t=this.__data__=new qve(e);this.size=t.size}hf.prototype.clear=Vve;hf.prototype.delete=Wve;hf.prototype.get=Hve;hf.prototype.has=Gve;hf.prototype.set=Kve;var mq=hf,Yve="__lodash_hash_undefined__";function Jve(e){return this.__data__.set(e,Yve),this}var Xve=Jve;function Qve(e){return this.__data__.has(e)}var Zve=Qve,exe=j2,txe=Xve,nxe=Zve;function ib(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new exe;++t<n;)this.add(e[t])}ib.prototype.add=ib.prototype.push=txe;ib.prototype.has=nxe;var pq=ib;function rxe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gq=rxe;function sxe(e,t){return e.has(t)}var vq=sxe,axe=pq,ixe=gq,oxe=vq,lxe=1,cxe=2;function uxe(e,t,n,r,a,i){var o=n&lxe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&cxe?new axe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(r)var v=o?r(p,g,h,t,e,i):r(g,p,h,e,t,i);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!ixe(t,function(x,b){if(!oxe(m,b)&&(g===x||a(g,x,n,r,i)))return m.push(b)})){f=!1;break}}else if(!(g===p||a(g,p,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var xq=uxe,dxe=qi,hxe=dxe.Uint8Array,fxe=hxe;function mxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var pxe=mxe;function gxe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var I2=gxe,JD=Kg,XD=fxe,vxe=b2,xxe=xq,yxe=pxe,bxe=I2,wxe=1,jxe=2,_xe="[object Boolean]",Nxe="[object Date]",Sxe="[object Error]",Cxe="[object Map]",kxe="[object Number]",Exe="[object RegExp]",Pxe="[object Set]",Axe="[object String]",Txe="[object Symbol]",Oxe="[object ArrayBuffer]",Mxe="[object DataView]",QD=JD?JD.prototype:void 0,H_=QD?QD.valueOf:void 0;function Dxe(e,t,n,r,a,i,o){switch(n){case Mxe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oxe:return!(e.byteLength!=t.byteLength||!i(new XD(e),new XD(t)));case _xe:case Nxe:case kxe:return vxe(+e,+t);case Sxe:return e.name==t.name&&e.message==t.message;case Exe:case Axe:return e==t+"";case Cxe:var l=yxe;case Pxe:var c=r&wxe;if(l||(l=bxe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=jxe,o.set(e,t);var d=xxe(l(e),l(t),r,a,i,o);return o.delete(e),d;case Txe:if(H_)return H_.call(e)==H_.call(t)}return!1}var Ixe=Dxe;function Rxe(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var yq=Rxe,$xe=yq,Lxe=js;function Fxe(e,t,n){var r=t(e);return Lxe(e)?r:$xe(r,n(e))}var Bxe=Fxe;function Uxe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var zxe=Uxe;function qxe(){return[]}var Vxe=qxe,Wxe=zxe,Hxe=Vxe,Gxe=Object.prototype,Kxe=Gxe.propertyIsEnumerable,ZD=Object.getOwnPropertySymbols,Yxe=ZD?function(e){return e==null?[]:(e=Object(e),Wxe(ZD(e),function(t){return Kxe.call(e,t)}))}:Hxe,Jxe=Yxe;function Xxe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Qxe=Xxe,Zxe=To,eye=Oo,tye="[object Arguments]";function nye(e){return eye(e)&&Zxe(e)==tye}var rye=nye,eI=rye,sye=Oo,bq=Object.prototype,aye=bq.hasOwnProperty,iye=bq.propertyIsEnumerable,oye=eI(function(){return arguments}())?eI:function(e){return sye(e)&&aye.call(e,"callee")&&!iye.call(e,"callee")},R2=oye,ob={exports:{}};function lye(){return!1}var cye=lye;ob.exports;(function(e,t){var n=qi,r=cye,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(ob,ob.exports);var wq=ob.exports,uye=9007199254740991,dye=/^(?:0|[1-9]\d*)$/;function hye(e,t){var n=typeof e;return t=t??uye,!!t&&(n=="number"||n!="symbol"&&dye.test(e))&&e>-1&&e%1==0&&e<t}var $2=hye,fye=9007199254740991;function mye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fye}var L2=mye,pye=To,gye=L2,vye=Oo,xye="[object Arguments]",yye="[object Array]",bye="[object Boolean]",wye="[object Date]",jye="[object Error]",_ye="[object Function]",Nye="[object Map]",Sye="[object Number]",Cye="[object Object]",kye="[object RegExp]",Eye="[object Set]",Pye="[object String]",Aye="[object WeakMap]",Tye="[object ArrayBuffer]",Oye="[object DataView]",Mye="[object Float32Array]",Dye="[object Float64Array]",Iye="[object Int8Array]",Rye="[object Int16Array]",$ye="[object Int32Array]",Lye="[object Uint8Array]",Fye="[object Uint8ClampedArray]",Bye="[object Uint16Array]",Uye="[object Uint32Array]",hn={};hn[Mye]=hn[Dye]=hn[Iye]=hn[Rye]=hn[$ye]=hn[Lye]=hn[Fye]=hn[Bye]=hn[Uye]=!0;hn[xye]=hn[yye]=hn[Tye]=hn[bye]=hn[Oye]=hn[wye]=hn[jye]=hn[_ye]=hn[Nye]=hn[Sye]=hn[Cye]=hn[kye]=hn[Eye]=hn[Pye]=hn[Aye]=!1;function zye(e){return vye(e)&&gye(e.length)&&!!hn[pye(e)]}var qye=zye;function Vye(e){return function(t){return e(t)}}var jq=Vye,lb={exports:{}};lb.exports;(function(e,t){var n=Pz,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(lb,lb.exports);var Wye=lb.exports,Hye=qye,Gye=jq,tI=Wye,nI=tI&&tI.isTypedArray,Kye=nI?Gye(nI):Hye,_q=Kye,Yye=Qxe,Jye=R2,Xye=js,Qye=wq,Zye=$2,ebe=_q,tbe=Object.prototype,nbe=tbe.hasOwnProperty;function rbe(e,t){var n=Xye(e),r=!n&&Jye(e),a=!n&&!r&&Qye(e),i=!n&&!r&&!a&&ebe(e),o=n||r||a||i,l=o?Yye(e.length,String):[],c=l.length;for(var u in e)(t||nbe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Zye(u,c)))&&l.push(u);return l}var sbe=rbe,abe=Object.prototype;function ibe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||abe;return e===n}var obe=ibe;function lbe(e,t){return function(n){return e(t(n))}}var Nq=lbe,cbe=Nq,ube=cbe(Object.keys,Object),dbe=ube,hbe=obe,fbe=dbe,mbe=Object.prototype,pbe=mbe.hasOwnProperty;function gbe(e){if(!hbe(e))return fbe(e);var t=[];for(var n in Object(e))pbe.call(e,n)&&n!="constructor"&&t.push(n);return t}var vbe=gbe,xbe=y2,ybe=L2;function bbe(e){return e!=null&&ybe(e.length)&&!xbe(e)}var Qg=bbe,wbe=sbe,jbe=vbe,_be=Qg;function Nbe(e){return _be(e)?wbe(e):jbe(e)}var Mw=Nbe,Sbe=Bxe,Cbe=Jxe,kbe=Mw;function Ebe(e){return Sbe(e,kbe,Cbe)}var Pbe=Ebe,rI=Pbe,Abe=1,Tbe=Object.prototype,Obe=Tbe.hasOwnProperty;function Mbe(e,t,n,r,a,i){var o=n&Abe,l=rI(e),c=l.length,u=rI(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:Obe.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){f=l[h];var x=e[f],b=t[f];if(r)var w=o?r(b,x,f,t,e,i):r(x,b,f,e,t,i);if(!(w===void 0?x===b||a(x,b,n,r,i):w)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var j=e.constructor,S=t.constructor;j!=S&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(e),i.delete(t),p}var Dbe=Mbe,Ibe=Nu,Rbe=qi,$be=Ibe(Rbe,"DataView"),Lbe=$be,Fbe=Nu,Bbe=qi,Ube=Fbe(Bbe,"Promise"),zbe=Ube,qbe=Nu,Vbe=qi,Wbe=qbe(Vbe,"Set"),Sq=Wbe,Hbe=Nu,Gbe=qi,Kbe=Hbe(Gbe,"WeakMap"),Ybe=Kbe,lC=Lbe,cC=w2,uC=zbe,dC=Sq,hC=Ybe,Cq=To,ff=Tz,sI="[object Map]",Jbe="[object Object]",aI="[object Promise]",iI="[object Set]",oI="[object WeakMap]",lI="[object DataView]",Xbe=ff(lC),Qbe=ff(cC),Zbe=ff(uC),e0e=ff(dC),t0e=ff(hC),yc=Cq;(lC&&yc(new lC(new ArrayBuffer(1)))!=lI||cC&&yc(new cC)!=sI||uC&&yc(uC.resolve())!=aI||dC&&yc(new dC)!=iI||hC&&yc(new hC)!=oI)&&(yc=function(e){var t=Cq(e),n=t==Jbe?e.constructor:void 0,r=n?ff(n):"";if(r)switch(r){case Xbe:return lI;case Qbe:return sI;case Zbe:return aI;case e0e:return iI;case t0e:return oI}return t});var n0e=yc,G_=mq,r0e=xq,s0e=Ixe,a0e=Dbe,cI=n0e,uI=js,dI=wq,i0e=_q,o0e=1,hI="[object Arguments]",fI="[object Array]",rx="[object Object]",l0e=Object.prototype,mI=l0e.hasOwnProperty;function c0e(e,t,n,r,a,i){var o=uI(e),l=uI(t),c=o?fI:cI(e),u=l?fI:cI(t);c=c==hI?rx:c,u=u==hI?rx:u;var d=c==rx,h=u==rx,f=c==u;if(f&&dI(e)){if(!dI(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new G_),o||i0e(e)?r0e(e,t,n,r,a,i):s0e(e,t,c,n,r,a,i);if(!(n&o0e)){var m=d&&mI.call(e,"__wrapped__"),g=h&&mI.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new G_),a(p,v,n,r,i)}}return f?(i||(i=new G_),a0e(e,t,n,r,a,i)):!1}var u0e=c0e,d0e=u0e,pI=Oo;function kq(e,t,n,r,a){return e===t?!0:e==null||t==null||!pI(e)&&!pI(t)?e!==e&&t!==t:d0e(e,t,n,r,kq,a)}var F2=kq,h0e=mq,f0e=F2,m0e=1,p0e=2;function g0e(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new h0e;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?f0e(d,u,m0e|p0e,r,h):f))return!1}}return!0}var v0e=g0e,x0e=Ql;function y0e(e){return e===e&&!x0e(e)}var Eq=y0e,b0e=Eq,w0e=Mw;function j0e(e){for(var t=w0e(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,b0e(a)]}return t}var _0e=j0e;function N0e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Pq=N0e,S0e=v0e,C0e=_0e,k0e=Pq;function E0e(e){var t=C0e(e);return t.length==1&&t[0][2]?k0e(t[0][0],t[0][1]):function(n){return n===e||S0e(n,e,t)}}var P0e=E0e;function A0e(e,t){return e!=null&&t in Object(e)}var T0e=A0e,O0e=Rz,M0e=R2,D0e=js,I0e=$2,R0e=L2,$0e=xw;function L0e(e,t,n){t=O0e(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=$0e(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&R0e(a)&&I0e(o,a)&&(D0e(e)||M0e(e)))}var F0e=L0e,B0e=T0e,U0e=F0e;function z0e(e,t){return e!=null&&U0e(e,t,B0e)}var q0e=z0e,V0e=F2,W0e=$z,H0e=q0e,G0e=x2,K0e=Eq,Y0e=Pq,J0e=xw,X0e=1,Q0e=2;function Z0e(e,t){return G0e(e)&&K0e(t)?Y0e(J0e(e),t):function(n){var r=W0e(n,e);return r===void 0&&r===t?H0e(n,e):V0e(t,r,X0e|Q0e)}}var ewe=Z0e;function twe(e){return e}var mf=twe;function nwe(e){return function(t){return t==null?void 0:t[e]}}var rwe=nwe,swe=S2;function awe(e){return function(t){return swe(t,e)}}var iwe=awe,owe=rwe,lwe=iwe,cwe=x2,uwe=xw;function dwe(e){return cwe(e)?owe(uwe(e)):lwe(e)}var hwe=dwe,fwe=P0e,mwe=ewe,pwe=mf,gwe=js,vwe=hwe;function xwe(e){return typeof e=="function"?e:e==null?pwe:typeof e=="object"?gwe(e)?mwe(e[0],e[1]):fwe(e):vwe(e)}var Zl=xwe;function ywe(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Aq=ywe;function bwe(e){return e!==e}var wwe=bwe;function jwe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var _we=jwe,Nwe=Aq,Swe=wwe,Cwe=_we;function kwe(e,t,n){return t===t?Cwe(e,t,n):Nwe(e,Swe,n)}var Ewe=kwe,Pwe=Ewe;function Awe(e,t){var n=e==null?0:e.length;return!!n&&Pwe(e,t,0)>-1}var Twe=Awe;function Owe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var Mwe=Owe;function Dwe(){}var Iwe=Dwe,K_=Sq,Rwe=Iwe,$we=I2,Lwe=1/0,Fwe=K_&&1/$we(new K_([,-0]))[1]==Lwe?function(e){return new K_(e)}:Rwe,Bwe=Fwe,Uwe=pq,zwe=Twe,qwe=Mwe,Vwe=vq,Wwe=Bwe,Hwe=I2,Gwe=200;function Kwe(e,t,n){var r=-1,a=zwe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=qwe;else if(i>=Gwe){var u=t?null:Wwe(e);if(u)return Hwe(u);o=!1,a=Vwe,c=new Uwe}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var Ywe=Kwe,Jwe=Zl,Xwe=Ywe;function Qwe(e,t){return e&&e.length?Xwe(e,Jwe(t)):[]}var Zwe=Qwe;const gI=Bt(Zwe);function Tq(e,t,n){return t===!0?gI(e,n):bt(t)?gI(e,t):e}function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}var eje=["ref"];function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){Dw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mq(r.key),r)}}function nje(e,t,n){return t&&xI(e.prototype,t),n&&xI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rje(e,t,n){return t=cb(t),sje(e,Oq()?Reflect.construct(t,n||[],cb(e).constructor):t.apply(e,n))}function sje(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aje(e)}function aje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(e)}function ije(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fC(e,t)}function Dw(e,t,n){return t=Mq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t=oje(e,"string");return mh(t)=="symbol"?t:t+""}function oje(e,t){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lje(e,t){if(e==null)return{};var n=cje(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uje(e){return e.value}function dje(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=lje(t,eje);return H.createElement(D2,n)}var yI=1,Ed=function(e){function t(){var n;tje(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=rje(this,t,[].concat(a)),Dw(n,"lastBoundingBox",{width:-1,height:-1}),n}return ije(t,e),nje(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yI||Math.abs(a.height-this.lastBoundingBox.height)>yI)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Gi(Gi({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Gi(Gi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},dje(i,Gi(Gi({},this.props),{},{payload:Tq(d,u,uje)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Gi(Gi({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Pe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(y.PureComponent);Dw(Ed,"displayName","Legend");Dw(Ed,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bI=Kg,hje=R2,fje=js,wI=bI?bI.isConcatSpreadable:void 0;function mje(e){return fje(e)||hje(e)||!!(wI&&e&&e[wI])}var pje=mje,gje=yq,vje=pje;function Dq(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=vje),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?Dq(l,t-1,n,r,a):gje(a,l):r||(a[a.length]=l)}return a}var Iq=Dq;function xje(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var yje=xje,bje=yje,wje=bje(),jje=wje,_je=jje,Nje=Mw;function Sje(e,t){return e&&_je(e,t,Nje)}var Rq=Sje,Cje=Qg;function kje(e,t){return function(n,r){if(n==null)return n;if(!Cje(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var Eje=kje,Pje=Rq,Aje=Eje,Tje=Aje(Pje),B2=Tje,Oje=B2,Mje=Qg;function Dje(e,t){var n=-1,r=Mje(e)?Array(e.length):[];return Oje(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var $q=Dje;function Ije(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Rje=Ije,jI=of;function $je(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=jI(e),o=t!==void 0,l=t===null,c=t===t,u=jI(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var Lje=$je,Fje=Lje;function Bje(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=Fje(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Uje=Bje,Y_=N2,zje=S2,qje=Zl,Vje=$q,Wje=Rje,Hje=jq,Gje=Uje,Kje=mf,Yje=js;function Jje(e,t,n){t.length?t=Y_(t,function(i){return Yje(i)?function(o){return zje(o,i.length===1?i[0]:i)}:i}):t=[Kje];var r=-1;t=Y_(t,Hje(qje));var a=Vje(e,function(i,o,l){var c=Y_(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return Wje(a,function(i,o){return Gje(i,o,n)})}var Xje=Jje;function Qje(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Zje=Qje,e_e=Zje,_I=Math.max;function t_e(e,t,n){return t=_I(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=_I(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),e_e(e,this,l)}}var n_e=t_e;function r_e(e){return function(){return e}}var s_e=r_e,a_e=Nu,i_e=function(){try{var e=a_e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Lq=i_e,o_e=s_e,NI=Lq,l_e=mf,c_e=NI?function(e,t){return NI(e,"toString",{configurable:!0,enumerable:!1,value:o_e(t),writable:!0})}:l_e,u_e=c_e,d_e=800,h_e=16,f_e=Date.now;function m_e(e){var t=0,n=0;return function(){var r=f_e(),a=h_e-(r-n);if(n=r,a>0){if(++t>=d_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var p_e=m_e,g_e=u_e,v_e=p_e,x_e=v_e(g_e),y_e=x_e,b_e=mf,w_e=n_e,j_e=y_e;function __e(e,t){return j_e(w_e(e,t,b_e),e+"")}var N_e=__e,S_e=b2,C_e=Qg,k_e=$2,E_e=Ql;function P_e(e,t,n){if(!E_e(n))return!1;var r=typeof t;return(r=="number"?C_e(n)&&k_e(t,n.length):r=="string"&&t in n)?S_e(n[t],e):!1}var Iw=P_e,A_e=Iq,T_e=Xje,O_e=N_e,SI=Iw,M_e=O_e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&SI(e,t[0],t[1])?t=[]:n>2&&SI(t[0],t[1],t[2])&&(t=[t[0]]),T_e(e,A_e(t,1),[])}),D_e=M_e;const U2=Bt(D_e);function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mC.apply(this,arguments)}function I_e(e,t){return F_e(e)||L_e(e,t)||$_e(e,t)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(e,t){if(e){if(typeof e=="string")return CI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function F_e(e){if(Array.isArray(e))return e}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){B_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B_e(e,t,n){return t=U_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U_e(e){var t=z_e(e,"string");return Op(t)=="symbol"?t:t+""}function z_e(e,t){if(Op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q_e(e){return Array.isArray(e)&&zn(e[0])&&zn(e[1])?e.join(" ~ "):e}var V_e=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var B={padding:0,margin:0},F=(f?U2(d,f):d).map(function(L,I){if(L.type==="none")return null;var O=J_({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),$=L.formatter||h||q_e,T=L.value,U=L.name,M=T,Y=U;if($&&M!=null&&Y!=null){var ee=$(T,U,L,I,d);if(Array.isArray(ee)){var _=I_e(ee,2);M=_[0],Y=_[1]}else M=ee}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:O},zn(Y)?H.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,zn(Y)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},M),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:B},F)}return null},j=J_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=J_({margin:0},u),N=!jt(p),C=N?p:"",k=Et("recharts-default-tooltip",m),D=Et("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(C=v(p,d));var R=b?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",mC({className:k,style:j},R),H.createElement("p",{className:D,style:S},H.isValidElement(C)?C:"".concat(C)),w())};function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function sx(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=H_e(e,"string");return Mp(t)=="symbol"?t:t+""}function H_e(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zf="recharts-tooltip-wrapper",G_e={visibility:"hidden"};function K_e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Et(Zf,sx(sx(sx(sx({},"".concat(Zf,"-right"),Pe(n)&&t&&Pe(t.x)&&n>=t.x),"".concat(Zf,"-left"),Pe(n)&&t&&Pe(t.x)&&n<t.x),"".concat(Zf,"-bottom"),Pe(r)&&t&&Pe(t.y)&&r>=t.y),"".concat(Zf,"-top"),Pe(r)&&t&&Pe(t.y)&&r<t.y))}function EI(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pe(i[r]))return i[r];var d=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?d:h;if(o[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var g=h+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(h,c[r])}function Y_e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function J_e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=EI({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=EI({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Y_e({translateX:d,translateY:h,useTranslate3d:l})):u=G_e,{cssProperties:u,cssClasses:K_e({translateX:d,translateY:h,coordinate:n})}}function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){gC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bq(r.key),r)}}function Z_e(e,t,n){return t&&Q_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,n){return t=ub(t),t1e(e,Fq()?Reflect.construct(t,n||[],ub(e).constructor):t.apply(e,n))}function t1e(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n1e(e)}function n1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!e})()}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ub(e)}function r1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pC(e,t)}function pC(e,t){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pC(e,t)}function gC(e,t,n){return t=Bq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bq(e){var t=s1e(e,"string");return ph(t)=="symbol"?t:t+""}function s1e(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TI=1,a1e=function(e){function t(){var n;X_e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=e1e(this,t,[].concat(a)),gC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return r1e(t,e),Z_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>TI||Math.abs(r.height-this.state.lastBoundingBox.height)>TI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=J_e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),j=w.cssClasses,S=w.cssProperties,N=AI(AI({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return H.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(k){r.wrapperNode=k}},u)}}])}(y.PureComponent),i1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},po={isSsr:i1e(),get:function(t){return po[t]},set:function(t,n){if(typeof t=="string")po[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){po[a]=t[a]})}}};function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){z2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zq(r.key),r)}}function c1e(e,t,n){return t&&l1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u1e(e,t,n){return t=db(t),d1e(e,Uq()?Reflect.construct(t,n||[],db(e).constructor):t.apply(e,n))}function d1e(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},db(e)}function f1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vC(e,t)}function z2(e,t,n){return t=zq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=m1e(e,"string");return gh(t)=="symbol"?t:t+""}function m1e(e,t){if(gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p1e(e){return e.dataKey}function g1e(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(V_e,t)}var La=function(e){function t(){return o1e(this,t),u1e(this,t,arguments)}return f1e(t,e),c1e(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,j=a.wrapperStyle,S=g??[];h&&S.length&&(S=Tq(g.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,p1e));var N=S.length>0;return H.createElement(a1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:j},g1e(u,MI(MI({},this.props),{},{payload:S})))}}])}(y.PureComponent);z2(La,"displayName","Tooltip");z2(La,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!po.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var v1e=qi,x1e=function(){return v1e.Date.now()},y1e=x1e,b1e=/\s/;function w1e(e){for(var t=e.length;t--&&b1e.test(e.charAt(t)););return t}var j1e=w1e,_1e=j1e,N1e=/^\s+/;function S1e(e){return e&&e.slice(0,_1e(e)+1).replace(N1e,"")}var C1e=S1e,k1e=C1e,DI=Ql,E1e=of,II=NaN,P1e=/^[-+]0x[0-9a-f]+$/i,A1e=/^0b[01]+$/i,T1e=/^0o[0-7]+$/i,O1e=parseInt;function M1e(e){if(typeof e=="number")return e;if(E1e(e))return II;if(DI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=DI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=k1e(e);var n=A1e.test(e);return n||T1e.test(e)?O1e(e.slice(2),n?2:8):P1e.test(e)?II:+e}var qq=M1e,D1e=Ql,X_=y1e,RI=qq,I1e="Expected a function",R1e=Math.max,$1e=Math.min;function L1e(e,t,n){var r,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(I1e);t=RI(t)||0,D1e(n)&&(d=!!n.leading,h="maxWait"in n,i=h?R1e(RI(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(N){var C=r,k=a;return r=a=void 0,u=N,o=e.apply(k,C),o}function g(N){return u=N,l=setTimeout(x,t),d?m(N):o}function p(N){var C=N-c,k=N-u,D=t-C;return h?$1e(D,i-k):D}function v(N){var C=N-c,k=N-u;return c===void 0||C>=t||C<0||h&&k>=i}function x(){var N=X_();if(v(N))return b(N);l=setTimeout(x,p(N))}function b(N){return l=void 0,f&&r?m(N):(r=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function j(){return l===void 0?o:b(X_())}function S(){var N=X_(),C=v(N);if(r=arguments,a=this,c=N,C){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=w,S.flush=j,S}var F1e=L1e,B1e=F1e,U1e=Ql,z1e="Expected a function";function q1e(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(z1e);return U1e(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),B1e(e,t,{leading:r,maxWait:t,trailing:a})}var V1e=q1e;const Vq=Bt(V1e);function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){W1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W1e(e,t,n){return t=H1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H1e(e){var t=G1e(e,"string");return Dp(t)=="symbol"?t:t+""}function G1e(e,t){if(Dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K1e(e,t){return Q1e(e)||X1e(e,t)||J1e(e,t)||Y1e()}function Y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1e(e,t){if(e){if(typeof e=="string")return LI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(e,t)}}function LI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Q1e(e){if(Array.isArray(e))return e}var hb=y.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,S=y.useRef(null),N=y.useRef();N.current=b,y.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=y.useState({containerWidth:a.width,containerHeight:a.height}),k=K1e(C,2),D=k[0],R=k[1],E=y.useCallback(function(F,L){R(function(I){var O=Math.round(F),$=Math.round(L);return I.containerWidth===O&&I.containerHeight===$?I:{containerWidth:O,containerHeight:$}})},[]);y.useEffect(function(){var F=function(U){var M,Y=U[0].contentRect,ee=Y.width,_=Y.height;E(ee,_),(M=N.current)===null||M===void 0||M.call(N,ee,_)};p>0&&(F=Vq(F,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),I=S.current.getBoundingClientRect(),O=I.width,$=I.height;return E(O,$),L.observe(S.current),function(){L.disconnect()}},[E,p]);var B=y.useMemo(function(){var F=D.containerWidth,L=D.containerHeight;if(F<0||L<0)return null;mo(Pc(o)||Pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),mo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=Pc(o)?F:o,O=Pc(c)?L:c;n&&n>0&&(I?O=I/n:O&&(I=O*n),f&&O>f&&(O=f)),mo(I>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,O,o,c,d,h,n);var $=!Array.isArray(m)&&fo(m.type).endsWith("Chart");return H.Children.map(m,function(T){return Bz.isElement(T)?y.cloneElement(T,ax({width:I,height:O},$?{style:ax({height:"100%",width:"100%",maxHeight:O,maxWidth:I},T.props.style)}:{})):T})},[n,m,c,f,h,d,D,o]);return H.createElement("div",{id:v?"".concat(v):void 0,className:Et("recharts-responsive-container",x),style:ax(ax({},j),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},B)}),Wq=function(t){return null};Wq.displayName="Cell";function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){Z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z1e(e,t,n){return t=eNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eNe(e){var t=tNe(e,"string");return Ip(t)=="symbol"?t:t+""}function tNe(e,t){if(Ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu={widthCache:{},cacheCount:0},nNe=2e3,rNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BI="recharts_measurement_span";function sNe(e){var t=xC({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var zm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||po.isSsr)return{width:0,height:0};var r=sNe(n),a=JSON.stringify({text:t,copyStyle:r});if(Wu.widthCache[a])return Wu.widthCache[a];try{var i=document.getElementById(BI);i||(i=document.createElement("span"),i.setAttribute("id",BI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=xC(xC({},rNe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Wu.widthCache[a]=c,++Wu.cacheCount>nNe&&(Wu.cacheCount=0,Wu.widthCache={}),c}catch{return{width:0,height:0}}},aNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function fb(e,t){return cNe(e)||lNe(e,t)||oNe(e,t)||iNe()}function iNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(e,t){if(e){if(typeof e=="string")return UI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(e,t)}}function UI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cNe(e){if(Array.isArray(e))return e}function uNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hNe(r.key),r)}}function dNe(e,t,n){return t&&zI(e.prototype,t),n&&zI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hNe(e){var t=fNe(e,"string");return Rp(t)=="symbol"?t:t+""}function fNe(e,t){if(Rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Hq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gNe=Object.keys(Hq),dd="NaN";function vNe(e,t){return e*Hq[t]}var ix=function(){function e(t,n){uNe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!mNe.test(n)&&(this.num=NaN,this.unit=""),gNe.includes(n)&&(this.num=vNe(t,n),this.unit="px")}return dNe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=pNe.exec(n))!==null&&r!==void 0?r:[],i=fb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Gq(e){if(e.includes(dd))return dd;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=qI.exec(t))!==null&&n!==void 0?n:[],a=fb(r,4),i=a[1],o=a[2],l=a[3],c=ix.parse(i??""),u=ix.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return dd;t=t.replace(qI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=VI.exec(t))!==null&&h!==void 0?h:[],m=fb(f,4),g=m[1],p=m[2],v=m[3],x=ix.parse(g??""),b=ix.parse(v??""),w=p==="+"?x.add(b):x.subtract(b);if(w.isNaN())return dd;t=t.replace(VI,w.toString())}return t}var WI=/\(([^()]*)\)/;function xNe(e){for(var t=e;t.includes("(");){var n=WI.exec(t),r=fb(n,2),a=r[1];t=t.replace(WI,Gq(a))}return t}function yNe(e){var t=e.replace(/\s+/g,"");return t=xNe(t),t=Gq(t),t}function bNe(e){try{return yNe(e)}catch{return dd}}function Q_(e){var t=bNe(e.slice(5,-1));return t===dd?"":t}var wNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jNe=["dx","dy","angle","className","breakAll"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yC.apply(this,arguments)}function HI(e,t){if(e==null)return{};var n=_Ne(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Ne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GI(e,t){return kNe(e)||CNe(e,t)||SNe(e,t)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SNe(e,t){if(e){if(typeof e=="string")return KI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(e,t)}}function KI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kNe(e){if(Array.isArray(e))return e}var Kq=/[ \f\n\r\t\v\u2028\u2029]+/,Yq=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];jt(n)||(r?i=n.toString().split(""):i=n.toString().split(Kq));var o=i.map(function(c){return{word:c,width:zm(c,a).width}}),l=r?0:zm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ENe=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),h=l,f=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(O,$){var T=$.word,U=$.width,M=O[O.length-1];if(M&&(a==null||i||M.width+U+r<Number(a)))M.words.push(T),M.width+=U+r;else{var Y={words:[T],width:U};O.push(Y)}return O},[])},m=f(n),g=function(I){return I.reduce(function(O,$){return O.width>$.width?O:$})};if(!d)return m;for(var p="",v=function(I){var O=h.slice(0,I),$=Yq({breakAll:u,style:c,children:O+p}).wordsWithComputedWidth,T=f($),U=T.length>o||g(T).width>Number(a);return[U,T]},x=0,b=h.length-1,w=0,j;x<=b&&w<=h.length-1;){var S=Math.floor((x+b)/2),N=S-1,C=v(N),k=GI(C,2),D=k[0],R=k[1],E=v(S),B=GI(E,1),F=B[0];if(!D&&!F&&(x=S+1),D&&F&&(b=S-1),!D&&F){j=R;break}w++}return j||m},YI=function(t){var n=jt(t)?[]:t.toString().split(Kq);return[{words:n}]},PNe=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!po.isSsr){var c,u,d=Yq({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return YI(a);return ENe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return YI(a)},JI="#808080",mb=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?JI:v,b=HI(t,wNe),w=y.useMemo(function(){return PNe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),j=b.dx,S=b.dy,N=b.angle,C=b.className,k=b.breakAll,D=HI(b,jNe);if(!zn(r)||!zn(i))return null;var R=r+(Pe(j)?j:0),E=i+(Pe(S)?S:0),B;switch(p){case"start":B=Q_("calc(".concat(u,")"));break;case"middle":B=Q_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:B=Q_("calc(".concat(w.length-1," * -").concat(l,")"));break}var F=[];if(h){var L=w[0].width,I=b.width;F.push("scale(".concat((Pe(I)?I/L:1)/L,")"))}return N&&F.push("rotate(".concat(N,", ").concat(R,", ").concat(E,")")),F.length&&(D.transform=F.join(" ")),H.createElement("text",yC({},kt(D,!0),{x:R,y:E,className:Et("recharts-text",C),textAnchor:m,fill:x.includes("url")?JI:x}),w.map(function(O,$){var T=O.words.join(k?"":" ");return H.createElement("tspan",{x:R,dy:$===0?B:l,key:"".concat(T,"-").concat($)},T)}))};function Al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ANe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q2(e){let t,n,r;e.length!==2?(t=Al,n=(l,c)=>Al(e(l),c),r=(l,c)=>e(l)-c):(t=e===Al||e===ANe?e:TNe,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function TNe(){return 0}function Jq(e){return e===null?NaN:+e}function*ONe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const MNe=q2(Al),Zg=MNe.right;q2(Jq).center;class XI extends Map{constructor(t,n=RNe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(QI(this,t))}has(t){return super.has(QI(this,t))}set(t,n){return super.set(DNe(this,t),n)}delete(t){return super.delete(INe(this,t))}}function QI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function DNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function INe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function RNe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $Ne(e=Al){if(e===Al)return Xq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Xq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LNe=Math.sqrt(50),FNe=Math.sqrt(10),BNe=Math.sqrt(2);function pb(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=LNe?10:i>=FNe?5:i>=BNe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?pb(e,t,n*2):[l,c,u]}function bC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?pb(t,e,n):pb(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function wC(e,t,n){return t=+t,e=+e,n=+n,pb(e,t,n)[2]}function jC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?wC(t,e,n):wC(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ZI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Qq(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Xq:$Ne(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),g=Math.min(r,Math.floor(t+(c-u)*h/c+f));Qq(e,t,m,g,a)}const i=e[t];let o=n,l=r;for(em(e,n,t),a(e[r],i)>0&&em(e,n,r);o<l;){for(em(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?em(e,n,l):(++l,em(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function em(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UNe(e,t,n){if(e=Float64Array.from(ONe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return eR(e);if(t>=1)return ZI(e);var r,a=(r-1)*t,i=Math.floor(a),o=ZI(Qq(e,i).subarray(0,i+1)),l=eR(e.subarray(i+1));return o+(l-o)*(a-i)}}function zNe(e,t,n=Jq){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function qNe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Sa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _C=Symbol("implicit");function V2(){var e=new XI,t=[],n=[],r=_C;function a(i){let o=e.get(i);if(o===void 0){if(r!==_C)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new XI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return V2(t,n).unknown(r)},Sa.apply(a,arguments),a}function $p(){var e=V2().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<r,g=m?a:r,p=m?r:a;i=(p-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=qNe(f).map(function(x){return g+i*x});return n(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return $p(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Sa.apply(h(),arguments)}function Zq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Zq(t())},e}function qm(){return Zq($p.apply(null,arguments).paddingInner(1))}function W2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ev(){}var Lp=.7,gb=1/Lp,Pd="\\s*([+-]?\\d+)\\s*",Fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VNe=/^#([0-9a-f]{3,8})$/,WNe=new RegExp(`^rgb\\(${Pd},${Pd},${Pd}\\)$`),HNe=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),GNe=new RegExp(`^rgba\\(${Pd},${Pd},${Pd},${Fp}\\)$`),KNe=new RegExp(`^rgba\\(${Di},${Di},${Di},${Fp}\\)$`),YNe=new RegExp(`^hsl\\(${Fp},${Di},${Di}\\)$`),JNe=new RegExp(`^hsla\\(${Fp},${Di},${Di},${Fp}\\)$`),tR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W2(ev,Bp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nR,formatHex:nR,formatHex8:XNe,formatHsl:QNe,formatRgb:rR,toString:rR});function nR(){return this.rgb().formatHex()}function XNe(){return this.rgb().formatHex8()}function QNe(){return tV(this).formatHsl()}function rR(){return this.rgb().formatRgb()}function Bp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VNe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sR(t):n===3?new os(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ox(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ox(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WNe.exec(e))?new os(t[1],t[2],t[3],1):(t=HNe.exec(e))?new os(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GNe.exec(e))?ox(t[1],t[2],t[3],t[4]):(t=KNe.exec(e))?ox(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YNe.exec(e))?oR(t[1],t[2]/100,t[3]/100,1):(t=JNe.exec(e))?oR(t[1],t[2]/100,t[3]/100,t[4]):tR.hasOwnProperty(e)?sR(tR[e]):e==="transparent"?new os(NaN,NaN,NaN,0):null}function sR(e){return new os(e>>16&255,e>>8&255,e&255,1)}function ox(e,t,n,r){return r<=0&&(e=t=n=NaN),new os(e,t,n,r)}function ZNe(e){return e instanceof ev||(e=Bp(e)),e?(e=e.rgb(),new os(e.r,e.g,e.b,e.opacity)):new os}function NC(e,t,n,r){return arguments.length===1?ZNe(e):new os(e,t,n,r??1)}function os(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}W2(os,NC,eV(ev,{brighter(e){return e=e==null?gb:Math.pow(gb,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lp:Math.pow(Lp,e),new os(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new os(Wc(this.r),Wc(this.g),Wc(this.b),vb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aR,formatHex:aR,formatHex8:eSe,formatRgb:iR,toString:iR}));function aR(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function eSe(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function iR(){const e=vb(this.opacity);return`${e===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${e===1?")":`, ${e})`}`}function vb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ac(e){return e=Wc(e),(e<16?"0":"")+e.toString(16)}function oR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function tV(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof ev||(e=Bp(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Va(o,l,c,e.opacity)}function tSe(e,t,n,r){return arguments.length===1?tV(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}W2(Va,tSe,eV(ev,{brighter(e){return e=e==null?gb:Math.pow(gb,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lp:Math.pow(Lp,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new os(Z_(e>=240?e-240:e+120,a,r),Z_(e,a,r),Z_(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Va(lR(this.h),lx(this.s),lx(this.l),vb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vb(this.opacity);return`${e===1?"hsl(":"hsla("}${lR(this.h)}, ${lx(this.s)*100}%, ${lx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lR(e){return e=(e||0)%360,e<0?e+360:e}function lx(e){return Math.max(0,Math.min(1,e||0))}function Z_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const H2=e=>()=>e;function nSe(e,t){return function(n){return e+n*t}}function rSe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sSe(e){return(e=+e)==1?nV:function(t,n){return n-t?rSe(t,n,e):H2(isNaN(t)?n:t)}}function nV(e,t){var n=t-e;return n?nSe(e,n):H2(isNaN(e)?t:e)}const cR=function e(t){var n=sSe(t);function r(a,i){var o=n((a=NC(a)).r,(i=NC(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=nV(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function aSe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function iSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oSe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=pf(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function lSe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cSe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=pf(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var SC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e1=new RegExp(SC.source,"g");function uSe(e){return function(){return e}}function dSe(e){return function(t){return e(t)+""}}function hSe(e,t){var n=SC.lastIndex=e1.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=SC.exec(e))&&(a=e1.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:xb(r,a)})),n=e1.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?dSe(c[0].x):uSe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function pf(e,t){var n=typeof t,r;return t==null||n==="boolean"?H2(t):(n==="number"?xb:n==="string"?(r=Bp(t))?(t=r,cR):hSe:t instanceof Bp?cR:t instanceof Date?lSe:iSe(t)?aSe:Array.isArray(t)?oSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cSe:xb)(e,t)}function G2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fSe(e,t){t===void 0&&(t=e,e=pf);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function mSe(e){return function(){return e}}function yb(e){return+e}var uR=[0,1];function Gr(e){return e}function CC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mSe(isNaN(t)?NaN:.5)}function pSe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gSe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=CC(a,r),i=n(o,i)):(r=CC(r,a),i=n(i,o)),function(l){return i(r(l))}}function vSe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=CC(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Zg(e,l,1,r)-1;return i[c](a[c](l))}}function tv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rw(){var e=uR,t=uR,n=pf,r,a,i,o=Gr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Gr&&(o=pSe(e[0],e[f-1])),l=f>2?vSe:gSe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(r),xb)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,yb),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=G2,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Gr,d()):o!==Gr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,a=m,d()}}function K2(){return Rw()(Gr,Gr)}function xSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function vh(e){return e=bb(Math.abs(e)),e?e[1]:NaN}function ySe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function bSe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var wSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Up(e){if(!(t=wSe.exec(e)))throw new Error("invalid format: "+e);var t;return new Y2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Up.prototype=Y2.prototype;function Y2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Y2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jSe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var rV;function _Se(e,t){var n=bb(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(rV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+bb(e,Math.max(0,t+i-1))[0]}function dR(e,t){var n=bb(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const hR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dR(e*100,t),r:dR,s:_Se,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fR(e){return e}var mR=Array.prototype.map,pR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NSe(e){var t=e.grouping===void 0||e.thousands===void 0?fR:ySe(mR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?fR:bSe(mR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Up(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,v=h.zero,x=h.width,b=h.comma,w=h.precision,j=h.trim,S=h.type;S==="n"?(b=!0,S="g"):hR[S]||(w===void 0&&(w=12),j=!0,S="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var N=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=p==="$"?r:/[%p]/.test(S)?o:"",k=hR[S],D=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(E){var B=N,F=C,L,I,O;if(S==="c")F=k(E)+F,E="";else{E=+E;var $=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),w),j&&(E=jSe(E)),$&&+E==0&&g!=="+"&&($=!1),B=($?g==="("?g:l:g==="-"||g==="("?"":g)+B,F=(S==="s"?pR[8+rV/3]:"")+F+($&&g==="("?")":""),D){for(L=-1,I=E.length;++L<I;)if(O=E.charCodeAt(L),48>O||O>57){F=(O===46?a+E.slice(L+1):E.slice(L))+F,E=E.slice(0,L);break}}}b&&!v&&(E=t(E,1/0));var T=B.length+E.length+F.length,U=T<x?new Array(x-T+1).join(f):"";switch(b&&v&&(E=t(U+E,U.length?x-F.length:1/0),U=""),m){case"<":E=B+E+F+U;break;case"=":E=B+U+E+F;break;case"^":E=U.slice(0,T=U.length>>1)+B+E+F+U.slice(T);break;default:E=U+B+E+F;break}return i(E)}return R.toString=function(){return h+""},R}function d(h,f){var m=u((h=Up(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(vh(f)/3)))*3,p=Math.pow(10,-g),v=pR[8+g/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:d}}var cx,J2,sV;SSe({thousands:",",grouping:[3],currency:["$",""]});function SSe(e){return cx=NSe(e),J2=cx.format,sV=cx.formatPrefix,cx}function CSe(e){return Math.max(0,-vh(Math.abs(e)))}function kSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vh(t)/3)))*3-vh(Math.abs(e)))}function ESe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vh(t)-vh(e))+1}function aV(e,t,n,r){var a=jC(e,t,n),i;switch(r=Up(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=kSe(a,o))&&(r.precision=i),sV(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ESe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=CSe(a))&&(r.precision=i-(r.type==="%")*2);break}}return J2(r)}function ec(e){var t=e.domain;return e.ticks=function(n){var r=t();return bC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return aV(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=wC(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wb(){var e=K2();return e.copy=function(){return tv(e,wb())},Sa.apply(e,arguments),ec(e)}function iV(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return iV(e).unknown(t)},e=arguments.length?Array.from(e,yb):[0,1],ec(n)}function oV(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function gR(e){return Math.log(e)}function vR(e){return Math.exp(e)}function PSe(e){return-Math.log(-e)}function ASe(e){return-Math.exp(-e)}function TSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OSe(e){return e===10?TSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xR(e){return(t,n)=>-e(-t,n)}function X2(e){const t=e(gR,vR),n=t.domain;let r=10,a,i;function o(){return a=MSe(r),i=OSe(r),n()[0]<0?(a=xR(a),i=xR(i),e(PSe,ASe)):e(gR,vR),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),g,p;const v=l==null?10:+l;let x=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(p=f<0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;x.push(p)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=bC(u,d,v))}else x=bC(f,m,Math.min(m-f,v)).map(i);return h?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Up(c)).precision==null&&(c.trim=!0),c=J2(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(oV(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function lV(){const e=X2(Rw()).domain([1,10]);return e.copy=()=>tv(e,lV()).base(e.base()),Sa.apply(e,arguments),e}function yR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q2(e){var t=1,n=e(yR(t),bR(t));return n.constant=function(r){return arguments.length?e(yR(t=+r),bR(t)):t},ec(n)}function cV(){var e=Q2(Rw());return e.copy=function(){return tv(e,cV()).constant(e.constant())},Sa.apply(e,arguments)}function wR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ISe(e){return e<0?-e*e:e*e}function Z2(e){var t=e(Gr,Gr),n=1;function r(){return n===1?e(Gr,Gr):n===.5?e(DSe,ISe):e(wR(n),wR(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},ec(t)}function eA(){var e=Z2(Rw());return e.copy=function(){return tv(e,eA()).exponent(e.exponent())},Sa.apply(e,arguments),e}function RSe(){return eA.apply(null,arguments).exponent(.5)}function jR(e){return Math.sign(e)*e*e}function $Se(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uV(){var e=K2(),t=[0,1],n=!1,r;function a(i){var o=$Se(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(jR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,yb)).map(jR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uV(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Sa.apply(a,arguments),ec(a)}function dV(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=zNe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Zg(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Al),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return dV().domain(e).range(t).unknown(r)},Sa.apply(i,arguments)}function hV(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Zg(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return hV().domain([e,t]).range(a).unknown(i)},Sa.apply(ec(o),arguments)}function fV(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Zg(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return fV().domain(e).range(t).unknown(n)},Sa.apply(a,arguments)}const t1=new Date,n1=new Date;function qn(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>qn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(t1.setTime(+i),n1.setTime(+o),e(t1),e(n1),Math.floor(n(t1,n1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const jb=qn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):jb);jb.range;const ao=1e3,ua=ao*60,io=ua*60,So=io*24,tA=So*7,_R=So*30,r1=So*365,Tc=qn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCSeconds());Tc.range;const nA=qn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ao)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getMinutes());nA.range;const rA=qn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCMinutes());rA.range;const sA=qn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ao-e.getMinutes()*ua)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getHours());sA.range;const aA=qn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCHours());aA.range;const nv=qn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ua)/So,e=>e.getDate()-1);nv.range;const $w=qn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>e.getUTCDate()-1);$w.range;const mV=qn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/So,e=>Math.floor(e/So));mV.range;function Su(e){return qn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ua)/tA)}const Lw=Su(0),_b=Su(1),LSe=Su(2),FSe=Su(3),xh=Su(4),BSe=Su(5),USe=Su(6);Lw.range;_b.range;LSe.range;FSe.range;xh.range;BSe.range;USe.range;function Cu(e){return qn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tA)}const Fw=Cu(0),Nb=Cu(1),zSe=Cu(2),qSe=Cu(3),yh=Cu(4),VSe=Cu(5),WSe=Cu(6);Fw.range;Nb.range;zSe.range;qSe.range;yh.range;VSe.range;WSe.range;const iA=qn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iA.range;const oA=qn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oA.range;const Co=qn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Co.range;const ko=qn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ko.range;function pV(e,t,n,r,a,i){const o=[[Tc,1,ao],[Tc,5,5*ao],[Tc,15,15*ao],[Tc,30,30*ao],[i,1,ua],[i,5,5*ua],[i,15,15*ua],[i,30,30*ua],[a,1,io],[a,3,3*io],[a,6,6*io],[a,12,12*io],[r,1,So],[r,2,2*So],[n,1,tA],[t,1,_R],[t,3,3*_R],[e,1,r1]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,m=q2(([,,v])=>v).right(o,f);if(m===o.length)return e.every(jC(u/r1,d/r1,h));if(m===0)return jb.every(Math.max(jC(u,d,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[HSe,GSe]=pV(ko,oA,Fw,mV,aA,rA),[KSe,YSe]=pV(Co,iA,Lw,nv,sA,nA);function s1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function JSe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=nm(a),d=rm(a),h=nm(i),f=rm(i),m=nm(o),g=rm(o),p=nm(l),v=rm(l),x=nm(c),b=rm(c),w={a:$,A:T,b:U,B:M,c:null,d:PR,e:PR,f:yCe,g:PCe,G:TCe,H:gCe,I:vCe,j:xCe,L:gV,m:bCe,M:wCe,p:Y,q:ee,Q:OR,s:MR,S:jCe,u:_Ce,U:NCe,V:SCe,w:CCe,W:kCe,x:null,X:null,y:ECe,Y:ACe,Z:OCe,"%":TR},j={a:_,A,b:P,B:z,c:null,d:AR,e:AR,f:RCe,g:HCe,G:KCe,H:MCe,I:DCe,j:ICe,L:xV,m:$Ce,M:LCe,p:V,q:te,Q:OR,s:MR,S:FCe,u:BCe,U:UCe,V:zCe,w:qCe,W:VCe,x:null,X:null,y:WCe,Y:GCe,Z:YCe,"%":TR},S={a:R,A:E,b:B,B:F,c:L,d:kR,e:kR,f:hCe,g:CR,G:SR,H:ER,I:ER,j:lCe,L:dCe,m:oCe,M:cCe,p:D,q:iCe,Q:mCe,s:pCe,S:uCe,u:tCe,U:nCe,V:rCe,w:eCe,W:sCe,x:I,X:O,y:CR,Y:SR,Z:aCe,"%":fCe};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),j.x=N(n,j),j.X=N(r,j),j.c=N(t,j);function N(Z,q){return function(Q){var ne=[],pe=-1,Se=0,qe=Z.length,Ve,We,st;for(Q instanceof Date||(Q=new Date(+Q));++pe<qe;)Z.charCodeAt(pe)===37&&(ne.push(Z.slice(Se,pe)),(We=NR[Ve=Z.charAt(++pe)])!=null?Ve=Z.charAt(++pe):We=Ve==="e"?" ":"0",(st=q[Ve])&&(Ve=st(Q,We)),ne.push(Ve),Se=pe+1);return ne.push(Z.slice(Se,pe)),ne.join("")}}function C(Z,q){return function(Q){var ne=tm(1900,void 0,1),pe=k(ne,Z,Q+="",0),Se,qe;if(pe!=Q.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(q&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Se=a1(tm(ne.y,0,1)),qe=Se.getUTCDay(),Se=qe>4||qe===0?Nb.ceil(Se):Nb(Se),Se=$w.offset(Se,(ne.V-1)*7),ne.y=Se.getUTCFullYear(),ne.m=Se.getUTCMonth(),ne.d=Se.getUTCDate()+(ne.w+6)%7):(Se=s1(tm(ne.y,0,1)),qe=Se.getDay(),Se=qe>4||qe===0?_b.ceil(Se):_b(Se),Se=nv.offset(Se,(ne.V-1)*7),ne.y=Se.getFullYear(),ne.m=Se.getMonth(),ne.d=Se.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),qe="Z"in ne?a1(tm(ne.y,0,1)).getUTCDay():s1(tm(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(qe+5)%7:ne.w+ne.U*7-(qe+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,a1(ne)):s1(ne)}}function k(Z,q,Q,ne){for(var pe=0,Se=q.length,qe=Q.length,Ve,We;pe<Se;){if(ne>=qe)return-1;if(Ve=q.charCodeAt(pe++),Ve===37){if(Ve=q.charAt(pe++),We=S[Ve in NR?q.charAt(pe++):Ve],!We||(ne=We(Z,Q,ne))<0)return-1}else if(Ve!=Q.charCodeAt(ne++))return-1}return ne}function D(Z,q,Q){var ne=u.exec(q.slice(Q));return ne?(Z.p=d.get(ne[0].toLowerCase()),Q+ne[0].length):-1}function R(Z,q,Q){var ne=m.exec(q.slice(Q));return ne?(Z.w=g.get(ne[0].toLowerCase()),Q+ne[0].length):-1}function E(Z,q,Q){var ne=h.exec(q.slice(Q));return ne?(Z.w=f.get(ne[0].toLowerCase()),Q+ne[0].length):-1}function B(Z,q,Q){var ne=x.exec(q.slice(Q));return ne?(Z.m=b.get(ne[0].toLowerCase()),Q+ne[0].length):-1}function F(Z,q,Q){var ne=p.exec(q.slice(Q));return ne?(Z.m=v.get(ne[0].toLowerCase()),Q+ne[0].length):-1}function L(Z,q,Q){return k(Z,t,q,Q)}function I(Z,q,Q){return k(Z,n,q,Q)}function O(Z,q,Q){return k(Z,r,q,Q)}function $(Z){return o[Z.getDay()]}function T(Z){return i[Z.getDay()]}function U(Z){return c[Z.getMonth()]}function M(Z){return l[Z.getMonth()]}function Y(Z){return a[+(Z.getHours()>=12)]}function ee(Z){return 1+~~(Z.getMonth()/3)}function _(Z){return o[Z.getUTCDay()]}function A(Z){return i[Z.getUTCDay()]}function P(Z){return c[Z.getUTCMonth()]}function z(Z){return l[Z.getUTCMonth()]}function V(Z){return a[+(Z.getUTCHours()>=12)]}function te(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var q=N(Z+="",w);return q.toString=function(){return Z},q},parse:function(Z){var q=C(Z+="",!1);return q.toString=function(){return Z},q},utcFormat:function(Z){var q=N(Z+="",j);return q.toString=function(){return Z},q},utcParse:function(Z){var q=C(Z+="",!0);return q.toString=function(){return Z},q}}}var NR={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,XSe=/^%/,QSe=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function ZSe(e){return e.replace(QSe,"\\$&")}function nm(e){return new RegExp("^(?:"+e.map(ZSe).join("|")+")","i")}function rm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function eCe(e,t,n){var r=tr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tCe(e,t,n){var r=tr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nCe(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rCe(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sCe(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function SR(e,t,n){var r=tr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CR(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aCe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iCe(e,t,n){var r=tr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function oCe(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kR(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lCe(e,t,n){var r=tr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ER(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cCe(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function uCe(e,t,n){var r=tr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dCe(e,t,n){var r=tr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hCe(e,t,n){var r=tr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fCe(e,t,n){var r=XSe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mCe(e,t,n){var r=tr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pCe(e,t,n){var r=tr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function PR(e,t){return Mt(e.getDate(),t,2)}function gCe(e,t){return Mt(e.getHours(),t,2)}function vCe(e,t){return Mt(e.getHours()%12||12,t,2)}function xCe(e,t){return Mt(1+nv.count(Co(e),e),t,3)}function gV(e,t){return Mt(e.getMilliseconds(),t,3)}function yCe(e,t){return gV(e,t)+"000"}function bCe(e,t){return Mt(e.getMonth()+1,t,2)}function wCe(e,t){return Mt(e.getMinutes(),t,2)}function jCe(e,t){return Mt(e.getSeconds(),t,2)}function _Ce(e){var t=e.getDay();return t===0?7:t}function NCe(e,t){return Mt(Lw.count(Co(e)-1,e),t,2)}function vV(e){var t=e.getDay();return t>=4||t===0?xh(e):xh.ceil(e)}function SCe(e,t){return e=vV(e),Mt(xh.count(Co(e),e)+(Co(e).getDay()===4),t,2)}function CCe(e){return e.getDay()}function kCe(e,t){return Mt(_b.count(Co(e)-1,e),t,2)}function ECe(e,t){return Mt(e.getFullYear()%100,t,2)}function PCe(e,t){return e=vV(e),Mt(e.getFullYear()%100,t,2)}function ACe(e,t){return Mt(e.getFullYear()%1e4,t,4)}function TCe(e,t){var n=e.getDay();return e=n>=4||n===0?xh(e):xh.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function OCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function AR(e,t){return Mt(e.getUTCDate(),t,2)}function MCe(e,t){return Mt(e.getUTCHours(),t,2)}function DCe(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function ICe(e,t){return Mt(1+$w.count(ko(e),e),t,3)}function xV(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function RCe(e,t){return xV(e,t)+"000"}function $Ce(e,t){return Mt(e.getUTCMonth()+1,t,2)}function LCe(e,t){return Mt(e.getUTCMinutes(),t,2)}function FCe(e,t){return Mt(e.getUTCSeconds(),t,2)}function BCe(e){var t=e.getUTCDay();return t===0?7:t}function UCe(e,t){return Mt(Fw.count(ko(e)-1,e),t,2)}function yV(e){var t=e.getUTCDay();return t>=4||t===0?yh(e):yh.ceil(e)}function zCe(e,t){return e=yV(e),Mt(yh.count(ko(e),e)+(ko(e).getUTCDay()===4),t,2)}function qCe(e){return e.getUTCDay()}function VCe(e,t){return Mt(Nb.count(ko(e)-1,e),t,2)}function WCe(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function HCe(e,t){return e=yV(e),Mt(e.getUTCFullYear()%100,t,2)}function GCe(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function KCe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?yh(e):yh.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function YCe(){return"+0000"}function TR(){return"%"}function OR(e){return+e}function MR(e){return Math.floor(+e/1e3)}var Hu,bV,wV;JCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JCe(e){return Hu=JSe(e),bV=Hu.format,Hu.parse,wV=Hu.utcFormat,Hu.utcParse,Hu}function XCe(e){return new Date(e)}function QCe(e){return e instanceof Date?+e:+new Date(+e)}function lA(e,t,n,r,a,i,o,l,c,u){var d=K2(),h=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:i(N)<N?v:r(N)<N?a(N)<N?x:b:n(N)<N?w:j)(N)}return d.invert=function(N){return new Date(h(N))},d.domain=function(N){return arguments.length?f(Array.from(N,QCe)):f().map(XCe)},d.ticks=function(N){var C=f();return e(C[0],C[C.length-1],N??10)},d.tickFormat=function(N,C){return C==null?S:u(C)},d.nice=function(N){var C=f();return(!N||typeof N.range!="function")&&(N=t(C[0],C[C.length-1],N??10)),N?f(oV(C,N)):d},d.copy=function(){return tv(d,lA(e,t,n,r,a,i,o,l,c,u))},d}function ZCe(){return Sa.apply(lA(KSe,YSe,Co,iA,Lw,nv,sA,nA,Tc,bV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eke(){return Sa.apply(lA(HSe,GSe,ko,oA,Fw,$w,aA,rA,Tc,wV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bw(){var e=0,t=1,n,r,a,i,o=Gr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),u):[o(0),o(1)]}}return u.range=d(pf),u.rangeRound=d(G2),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),u}}function tc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jV(){var e=ec(Bw()(Gr));return e.copy=function(){return tc(e,jV())},Mo.apply(e,arguments)}function _V(){var e=X2(Bw()).domain([1,10]);return e.copy=function(){return tc(e,_V()).base(e.base())},Mo.apply(e,arguments)}function NV(){var e=Q2(Bw());return e.copy=function(){return tc(e,NV()).constant(e.constant())},Mo.apply(e,arguments)}function cA(){var e=Z2(Bw());return e.copy=function(){return tc(e,cA()).exponent(e.exponent())},Mo.apply(e,arguments)}function tke(){return cA.apply(null,arguments).exponent(.5)}function SV(){var e=[],t=Gr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Al),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>UNe(e,i/r))},n.copy=function(){return SV(t).domain(e)},Mo.apply(n,arguments)}function Uw(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=Gr,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,u=fSe(p,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(pf),m.rangeRound=g(G2),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function CV(){var e=ec(Uw()(Gr));return e.copy=function(){return tc(e,CV())},Mo.apply(e,arguments)}function kV(){var e=X2(Uw()).domain([.1,1,10]);return e.copy=function(){return tc(e,kV()).base(e.base())},Mo.apply(e,arguments)}function EV(){var e=Q2(Uw());return e.copy=function(){return tc(e,EV()).constant(e.constant())},Mo.apply(e,arguments)}function uA(){var e=Z2(Uw());return e.copy=function(){return tc(e,uA()).exponent(e.exponent())},Mo.apply(e,arguments)}function nke(){return uA.apply(null,arguments).exponent(.5)}const DR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$p,scaleDiverging:CV,scaleDivergingLog:kV,scaleDivergingPow:uA,scaleDivergingSqrt:nke,scaleDivergingSymlog:EV,scaleIdentity:iV,scaleImplicit:_C,scaleLinear:wb,scaleLog:lV,scaleOrdinal:V2,scalePoint:qm,scalePow:eA,scaleQuantile:dV,scaleQuantize:hV,scaleRadial:uV,scaleSequential:jV,scaleSequentialLog:_V,scaleSequentialPow:cA,scaleSequentialQuantile:SV,scaleSequentialSqrt:tke,scaleSequentialSymlog:NV,scaleSqrt:RSe,scaleSymlog:cV,scaleThreshold:fV,scaleTime:ZCe,scaleUtc:eke,tickFormat:aV},Symbol.toStringTag,{value:"Module"}));var rke=of;function ske(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!rke(o):n(o,l)))var l=o,c=i}return c}var PV=ske;function ake(e,t){return e>t}var ike=ake,oke=PV,lke=ike,cke=mf;function uke(e){return e&&e.length?oke(e,cke,lke):void 0}var dke=uke;const zw=Bt(dke);function hke(e,t){return e<t}var fke=hke,mke=PV,pke=fke,gke=mf;function vke(e){return e&&e.length?mke(e,gke,pke):void 0}var xke=vke;const qw=Bt(xke);var yke=N2,bke=Zl,wke=$q,jke=js;function _ke(e,t){var n=jke(e)?yke:wke;return n(e,bke(t))}var Nke=_ke,Ske=Iq,Cke=Nke;function kke(e,t){return Ske(Cke(e,t),1)}var Eke=kke;const Pke=Bt(Eke);var Ake=F2;function Tke(e,t){return Ake(e,t)}var Oke=Tke;const Vw=Bt(Oke);var gf=1e9,Mke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hA,gn=!0,wa="[DecimalError] ",Hc=wa+"Invalid argument: ",dA=wa+"Exponent out of range: ",vf=Math.floor,bc=Math.pow,Dke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Is,Hn=1e7,fn=7,AV=9007199254740991,Sb=vf(AV/fn),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*fn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(e){return go(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,n=t.constructor;return en(go(t,new n(e),0,1),n.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return Rn(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Is))throw Error(wa+"NaN");if(n.s<1)throw Error(wa+(n.s?"NaN":"-Infinity"));return n.eq(Is)?new r(0):(gn=!1,t=go(zp(n,i),zp(e,i),i),gn=!0,en(t,a))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MV(t,e):TV(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(wa+"NaN");return n.s?(gn=!1,t=go(n,e,0,1).times(e),gn=!0,n.minus(t)):en(new r(n),a)};Re.naturalExponential=Re.exp=function(){return OV(this)};Re.naturalLogarithm=Re.ln=function(){return zp(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TV(t,e):MV(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hc+e);if(t=Rn(a)+1,r=a.d.length-1,n=r*fn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Re.squareRoot=Re.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wa+"NaN")}for(e=Rn(l),gn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ai(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=vf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(go(l,i,o+2)).times(.5),Ai(i.d).slice(0,o)===(t=Ai(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(en(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return gn=!0,en(r,n)};Re.times=Re.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%Hn|0,t=l/Hn|0;i[a]=(i[a]+t)%Hn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,gn?en(e,h.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fi(e,0,gf),t===void 0?t=r.rounding:Fi(t,0,8),en(n,e+Rn(n)+1,t))};Re.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=lu(r,!0):(Fi(e,0,gf),t===void 0?t=a.rounding:Fi(t,0,8),r=en(new a(r),e+1,t),n=lu(r,!0,e+1)),n};Re.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?lu(a):(Fi(e,0,gf),t===void 0?t=i.rounding:Fi(t,0,8),r=en(new i(a),e+Rn(a)+1,t),n=lu(r.abs(),!1,e+Rn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return en(new t(e),Rn(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Is);if(l=new c(l),!l.s){if(e.s<1)throw Error(wa+"Infinity");return l}if(l.eq(Is))return l;if(r=c.precision,e.eq(Is))return en(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=AV){for(a=new c(Is),t=Math.ceil(r/fn+4),gn=!1;n%2&&(a=a.times(l),RR(a.d,t)),n=vf(n/2),n!==0;)l=l.times(l),RR(l.d,t);return gn=!0,e.s<0?new c(Is).div(a):en(a,r)}}else if(i<0)throw Error(wa+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,gn=!1,a=e.times(zp(l,r+u)),gn=!0,a=OV(a),a.s=i,a};Re.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Rn(a),r=lu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Fi(e,1,gf),t===void 0?t=i.rounding:Fi(t,0,8),a=en(new i(a),e,t),n=Rn(a),r=lu(a,e<=n||n<=i.toExpNeg,e)),r};Re.toSignificantDigits=Re.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fi(e,1,gf),t===void 0?t=r.rounding:Fi(t,0,8)),en(new r(n),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),n=e.constructor;return lu(e,t<=n.toExpNeg||t>=n.toExpPos)};function TV(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),gn?en(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(h/fn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Hn|0,c[i]%=Hn;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,gn?en(t,h):t}function Fi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hc+e)}function Ai(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=fn-r.length,n&&(i+=tl(n)),i+=r;o=e[t],r=o+"",n=fn-r.length,n&&(i+=tl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var go=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Hn|0,o=i/Hn|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Hn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,h,f,m,g,p,v,x,b,w,j,S,N,C,k,D=r.constructor,R=r.s==a.s?1:-1,E=r.d,B=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(wa+"Division by zero");for(c=r.e-a.e,C=B.length,S=E.length,m=new D(R),g=m.d=[],u=0;B[u]==(E[u]||0);)++u;if(B[u]>(E[u]||0)&&--c,i==null?b=i=D.precision:o?b=i+(Rn(r)-Rn(a))+1:b=i,b<0)return new D(0);if(b=b/fn+2|0,u=0,C==1)for(d=0,B=B[0],b++;(u<S||d)&&b--;u++)w=d*Hn+(E[u]||0),g[u]=w/B|0,d=w%B|0;else{for(d=Hn/(B[0]+1)|0,d>1&&(B=e(B,d),E=e(E,d),C=B.length,S=E.length),j=C,p=E.slice(0,C),v=p.length;v<C;)p[v++]=0;k=B.slice(),k.unshift(0),N=B[0],B[1]>=Hn/2&&++N;do d=0,l=t(B,p,C,v),l<0?(x=p[0],C!=v&&(x=x*Hn+(p[1]||0)),d=x/N|0,d>1?(d>=Hn&&(d=Hn-1),h=e(B,d),f=h.length,v=p.length,l=t(h,p,f,v),l==1&&(d--,n(h,C<f?k:B,f))):(d==0&&(l=d=1),h=B.slice()),f=h.length,f<v&&h.unshift(0),n(p,h,v),l==-1&&(v=p.length,l=t(B,p,C,v),l<1&&(d++,n(p,C<v?k:B,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=E[j]||0:(p=[E[j]],v=1);while((j++<S||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,en(m,o?i+Rn(m)+1:i)}}();function OV(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(Rn(e)>16)throw Error(dA+Rn(e));if(!e.s)return new d(Is);for(t==null?(gn=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(bc(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(Is),d.precision=l;;){if(a=en(a.times(e),l),n=n.times(++c),o=i.plus(go(a,n,l)),Ai(o.d).slice(0,l)===Ai(i.d).slice(0,l)){for(;u--;)i=en(i.times(i),l);return d.precision=h,t==null?(gn=!0,en(i,h)):i}i=o}}function Rn(e){for(var t=e.e*fn,n=e.d[0];n>=10;n/=10)t++;return t}function i1(e,t,n){if(t>e.LN10.sd())throw gn=!0,n&&(e.precision=n),Error(wa+"LN10 precision limit exceeded");return en(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function zp(e,t){var n,r,a,i,o,l,c,u,d,h=1,f=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(wa+(m.s?"NaN":"-Infinity"));if(m.eq(Is))return new p(0);if(t==null?(gn=!1,u=v):u=t,m.eq(10))return t==null&&(gn=!0),i1(p,u);if(u+=f,p.precision=u,n=Ai(g),r=n.charAt(0),i=Rn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ai(m.d),r=n.charAt(0),h++;i=Rn(m),r>1?(m=new p("0."+n),i++):m=new p(r+"."+n.slice(1))}else return c=i1(p,u+2,v).times(i+""),m=zp(new p(r+"."+n.slice(1)),u-f).plus(c),p.precision=v,t==null?(gn=!0,en(m,v)):m;for(l=o=m=go(m.minus(Is),m.plus(Is),u),d=en(m.times(m),u),a=3;;){if(o=en(o.times(d),u),c=l.plus(go(o,new p(a),u)),Ai(c.d).slice(0,u)===Ai(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(i1(p,u+2,v).times(i+""))),l=go(l,new p(h),u),p.precision=v,t==null?(gn=!0,en(l,v)):l;l=c,a+=2}}function IR(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=vf(n/fn),e.d=[],r=(n+1)%fn,n<0&&(r+=fn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=fn;r<a;)e.d.push(+t.slice(r,r+=fn));t=t.slice(r),r=fn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),gn&&(e.e>Sb||e.e<-Sb))throw Error(dA+n)}else e.s=0,e.e=0,e.d=[0];return e}function en(e,t,n){var r,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=fn,a=t,u=h[d=0];else{if(d=Math.ceil((r+1)/fn),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=fn,a=r-fn+o}if(n!==void 0&&(i=bc(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/bc(10,o-a):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=Rn(e),h.length=1,t=t-i-1,h[0]=bc(10,(fn-t%fn)%fn),e.e=vf(-t/fn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=bc(10,fn-r),h[d]=a>0?(u/bc(10,o-a)%bc(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Hn&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Hn)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(gn&&(e.e>Sb||e.e<-Sb))throw Error(dA+Rn(e));return e}function MV(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),gn?en(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),a=Math.max(Math.ceil(m/fn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Hn-1;--c[i],c[a]+=Hn}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,gn?en(t,m):t):new f(0)}function lu(e,t,n){var r,a=Rn(e),i=Ai(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+tl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+tl(-a-1)+i,n&&(r=n-o)>0&&(i+=tl(r))):a>=o?(i+=tl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+tl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=tl(r))),e.s<0?"-"+i:i}function RR(e,t){if(e.length>t)return e.length=t,!0}function DV(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return IR(o,i.toString())}else if(typeof i!="string")throw Error(Hc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Dke.test(i))IR(o,i);else throw Error(Hc+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DV,a.config=a.set=Ike,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Ike(e){if(!e||typeof e!="object")throw Error(wa+"Object expected");var t,n,r,a=["precision",1,gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(vf(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hc+n+": "+r);return this}var hA=DV(Mke);Is=new hA(1);const Wt=hA;function Rke(e){return Bke(e)||Fke(e)||Lke(e)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(e,t){if(e){if(typeof e=="string")return kC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(e,t)}}function Fke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Bke(e){if(Array.isArray(e))return kC(e)}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uke=function(t){return t},IV={"@@functional/placeholder":!0},RV=function(t){return t===IV},$R=function(t){return function n(){return arguments.length===0||arguments.length===1&&RV(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},zke=function e(t,n){return t===1?n:$R(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==IV}).length;return o>=t?n.apply(void 0,a):e(t-o,$R(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return RV(h)?c.shift():h});return n.apply(void 0,Rke(d).concat(c))}))})},Ww=function(t){return zke(t.length,t)},EC=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},qke=Ww(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Vke=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Uke;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},PC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},$V=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function Wke(e){var t;return e===0?t=1:t=Math.floor(new Wt(e).abs().log(10).toNumber())+1,t}function Hke(e,t,n){for(var r=new Wt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var Gke=Ww(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),Kke=Ww(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Yke=Ww(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Hw={rangeStep:Hke,getDigitCount:Wke,interpolateNumber:Gke,uninterpolateNumber:Kke,uninterpolateTruncation:Yke};function AC(e){return Qke(e)||Xke(e)||LV(e)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Qke(e){if(Array.isArray(e))return TC(e)}function qp(e,t){return tEe(e)||eEe(e,t)||LV(e,t)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LV(e,t){if(e){if(typeof e=="string")return TC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(e,t)}}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eEe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function tEe(e){if(Array.isArray(e))return e}function FV(e){var t=qp(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function BV(e,t,n){if(e.lte(0))return new Wt(0);var r=Hw.getDigitCount(e.toNumber()),a=new Wt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Wt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Wt(Math.ceil(c))}function nEe(e,t,n){var r=1,a=new Wt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Wt(10).pow(Hw.getDigitCount(e)-1),a=new Wt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Wt(Math.floor(e)))}else e===0?a=new Wt(Math.floor((t-1)/2)):n||(a=new Wt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Vke(qke(function(c){return a.add(new Wt(c-o).mul(r)).toNumber()}),EC);return l(0,t)}function UV(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var i=BV(new Wt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Wt(0):(o=new Wt(e).add(t).div(2),o=o.sub(new Wt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Wt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?UV(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Wt(l).mul(i)),tickMax:o.add(new Wt(c).mul(i))})}function rEe(e){var t=qp(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=FV([n,r]),c=qp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(AC(EC(0,a-1).map(function(){return 1/0}))):[].concat(AC(EC(0,a-1).map(function(){return-1/0})),[d]);return n>r?PC(h):h}if(u===d)return nEe(u,a,i);var f=UV(u,d,o,i),m=f.step,g=f.tickMin,p=f.tickMax,v=Hw.rangeStep(g,p.add(new Wt(.1).mul(m)),m);return n>r?PC(v):v}function sEe(e,t){var n=qp(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=FV([r,a]),l=qp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),h=BV(new Wt(u).sub(c).div(d-1),i,0),f=[].concat(AC(Hw.rangeStep(new Wt(c),new Wt(u).sub(new Wt(.99).mul(h)),h)),[u]);return r>a?PC(f):f}var aEe=$V(rEe),iEe=$V(sEe),oEe="Invariant failed";function cu(e,t){throw new Error(oEe)}var lEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(this,arguments)}function cEe(e,t){return fEe(e)||hEe(e,t)||dEe(e,t)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(e,t){if(e){if(typeof e=="string")return LR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LR(e,t)}}function LR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fEe(e){if(Array.isArray(e))return e}function mEe(e,t){if(e==null)return{};var n=pEe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VV(r.key),r)}}function xEe(e,t,n){return t&&vEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yEe(e,t,n){return t=kb(t),bEe(e,zV()?Reflect.construct(t,n||[],kb(e).constructor):t.apply(e,n))}function bEe(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wEe(e)}function wEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zV=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kb(e)}function jEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},OC(e,t)}function qV(e,t,n){return t=VV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=_Ee(e,"string");return bh(t)=="symbol"?t:t+""}function _Ee(e,t){if(bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rv=function(e){function t(){return gEe(this,t),yEe(this,t,arguments)}return jEe(t,e),xEe(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=mEe(r,lEe),m=kt(f,!1);this.props.direction==="x"&&d.type!=="number"&&cu();var g=c.map(function(p){var v=u(p,l),x=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var S=[],N,C;if(Array.isArray(j)){var k=cEe(j,2);N=k[0],C=k[1]}else N=C=j;if(i==="vertical"){var D=d.scale,R=b+a,E=R+o,B=R-o,F=D(w-N),L=D(w+C);S.push({x1:L,y1:E,x2:L,y2:B}),S.push({x1:F,y1:R,x2:L,y2:R}),S.push({x1:F,y1:E,x2:F,y2:B})}else if(i==="horizontal"){var I=h.scale,O=x+a,$=O-o,T=O+o,U=I(w-N),M=I(w+C);S.push({x1:$,y1:M,x2:T,y2:M}),S.push({x1:O,y1:U,x2:O,y2:M}),S.push({x1:$,y1:U,x2:T,y2:U})}return H.createElement(An,Cb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},m),S.map(function(Y){return H.createElement("line",Cb({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return H.createElement(An,{className:"recharts-errorBars"},g)}}])}(H.Component);qV(rv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qV(rv,"displayName","ErrorBar");function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){NEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NEe(e,t,n){return t=SEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SEe(e){var t=CEe(e,"string");return Vp(t)=="symbol"?t:t+""}function CEe(e,t){if(Vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WV=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Os(n,Ed);if(!o)return null;var l=Ed.defaultProps,c=l!==void 0?cc(cc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?cc(cc({},f),h.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:fA(h),value:p||g,payload:m}}),cc(cc(cc({},c),Ed.getWithHeight(o,a)),{},{payload:u,item:o})};function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function BR(e){return AEe(e)||PEe(e)||EEe(e)||kEe()}function kEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(e,t){if(e){if(typeof e=="string")return MC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(e,t)}}function PEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AEe(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){Ad(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ad(e,t,n){return t=TEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TEe(e){var t=OEe(e,"string");return Wp(t)=="symbol"?t:t+""}function OEe(e,t){if(Wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vs(e,t,n){return jt(e)||jt(t)?n:zn(t)?ma(e,t,n):bt(t)?t(e):n}function Vm(e,t,n,r){var a=Pke(e,function(l){return Vs(l,t)});if(n==="number"){var i=a.filter(function(l){return Pe(l)||parseFloat(l)});return i.length?[qw(i),zw(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!jt(l)}):a;return o.map(function(l){return zn(l)||l instanceof Date?l:""})}var MEe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Ha(h-d)!==Ha(f-h)){var g=[];if(Ha(f-h)===Ha(c[1]-c[0])){m=f;var p=h+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=f+c[1]-c[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var x=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,f),w=Math.max(d,f);if(t>(b+h)/2&&t<=(w+h)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2&&t<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&t>(r[j].coordinate+r[j-1].coordinate)/2){o=r[j].index;break}return o},fA=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Sn(Sn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},DEe=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],p=g.items,v=g.cateAxisId,x=p.filter(function(C){return fo(C.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Sn(Sn({},b),x[0].props):x[0].props,j=w.barSize,S=w[v];o[S]||(o[S]=[]);var N=jt(j)?n:j;o[S].push({item:x[0],stackList:x.slice(1),barSize:jt(N)?void 0:ou(N,r,0)})}}return o},IEe=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=ou(n,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,g=o.reduce(function(j,S){return j+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(f=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(j,S){var N={item:S.item,position:{offset:v.offset+v.size+u,size:f?m:S.barSize}},C=[].concat(BR(j),[N]);return v=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){C.push({item:k,position:v})}),C},h)}else{var x=ou(r,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(j,S,N){var C=[].concat(BR(j),[{item:S.item,position:{offset:x+(b+u)*N+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},h)}return d},REe=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=WV({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Pe(t[m]))return Sn(Sn({},t),{},Ad({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Pe(t[g]))return Sn(Sn({},t),{},Ad({},g,t[g]+(f||0)))}return t},$Ee=function(t,n,r){return jt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},HV=function(t,n,r,a,i){var o=n.props.children,l=pa(o,rv).filter(function(u){return $Ee(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Vs(d,r);if(jt(h))return u;var f=Array.isArray(h)?[qw(h),zw(h)]:[h,h],m=c.reduce(function(g,p){var v=Vs(d,p,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},LEe=function(t,n,r,a,i){var o=n.map(function(l){return HV(t,l,r,i,a)}).filter(function(l){return!jt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},GV=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&HV(t,c,u,a)||Vm(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},KV=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},YV=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},oo=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ha(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!Jg(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},o1=new WeakMap,ux=function(t,n){if(typeof n!="function")return t;o1.has(t)||o1.set(t,new WeakMap);var r=o1.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},FEe=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$p(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:wb(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:qm(),realScaleType:"point"}:i==="category"?{scale:$p(),realScaleType:"band"}:{scale:wb(),realScaleType:"linear"};if(Yg(a)){var c="scale".concat(Pw(a));return{scale:(DR[c]||qm)(),realScaleType:DR[c]?c:"point"}}return bt(a)?{scale:a}:{scale:qm(),realScaleType:"point"}},zR=1e-4,BEe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-zR,o=Math.max(a[0],a[1])+zR,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},UEe=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},zEe=function(t,n){if(!n||n.length!==2||!Pe(n[0])||!Pe(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<r)&&(i[0]=r),(!Pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},qEe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Jg(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},VEe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Jg(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},WEe={sign:qEe,expand:ive,none:hh,silhouette:ove,wiggle:lve,positive:VEe},HEe=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=WEe[r],o=ave().keys(a).value(function(l,c){return+Vs(l,c,0)}).order(sC).offset(i);return o(t)},GEe=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Sn(Sn({},f.type.defaultProps),f.props):f.props,p=g.stackId,v=g.hide;if(v)return h;var x=g[r],b=h[x]||{hasStack:!1,stackGroups:{}};if(zn(p)){var w=b.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[Xg("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return Sn(Sn({},h),{},Ad({},x,b))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return Sn(Sn({},p),{},Ad({},v,{numericAxisId:r,cateAxisId:a,items:x.items,stackedData:HEe(t,x.items,i)}))},g)}return Sn(Sn({},h),{},Ad({},f,m))},d)},KEe=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=aEe(u,i,l);return t.domain([qw(d),zw(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=iEe(h,i,l);return{niceTicks:f}}return null};function qR(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jt(a[t.dataKey])){var l=Xy(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Vs(a,jt(o)?t.dataKey:o);return jt(c)?null:t.scale(c)}var VR=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Vs(o,n.dataKey,n.domain[l]);return jt(c)?null:n.scale(c)-i/2+a},YEe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},JEe=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Sn(Sn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(zn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},XEe=function(t){return t.reduce(function(n,r){return[qw(r.concat([n[0]]).filter(Pe)),zw(r.concat([n[1]]).filter(Pe))]},[1/0,-1/0])},JV=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=XEe(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},WR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DC=function(t,n,r){if(bt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Pe(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(WR.test(t[0])){var i=+WR.exec(t[0])[1];a[0]=n[0]-i}else bt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Pe(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(HR.test(t[1])){var o=+HR.exec(t[1])[1];a[1]=n[1]+o}else bt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Eb=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=U2(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},GR=function(t,n,r){return!t||!t.length||Vw(t,ma(r,"type.defaultProps.domain"))?n:t},XV=function(t,n){var r=t.type.defaultProps?Sn(Sn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Sn(Sn({},kt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:fA(t),value:Vs(n,a),type:c,payload:n,chartType:u,hide:d})};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){QEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QEe(e,t,n){return t=ZEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZEe(e){var t=ePe(e,"string");return Hp(t)=="symbol"?t:t+""}function ePe(e,t){if(Hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pb=Math.PI/180,tPe=function(t){return t*180/Math.PI},lr=function(t,n,r,a){return{x:t+Math.cos(-Pb*a)*r,y:n+Math.sin(-Pb*a)*r}},nPe=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},rPe=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=nPe({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:tPe(u),angleInRadian:u}},sPe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},aPe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},JR=function(t,n){var r=t.x,a=t.y,i=rPe({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=sPe(n),h=d.startAngle,f=d.endAngle,m=l,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?YR(YR({},n),{},{radius:o,angle:aPe(m,n)}):null};function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}var iPe=["offset"];function oPe(e){return dPe(e)||uPe(e)||cPe(e)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cPe(e,t){if(e){if(typeof e=="string")return IC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(e,t)}}function uPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dPe(e){if(Array.isArray(e))return IC(e)}function IC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hPe(e,t){if(e==null)return{};var n=fPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){mPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mPe(e,t,n){return t=pPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pPe(e){var t=gPe(e,"string");return Gp(t)=="symbol"?t:t+""}function gPe(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kp(){return Kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kp.apply(this,arguments)}var vPe=function(t){var n=t.value,r=t.formatter,a=jt(t.children)?n:t.children;return bt(r)?r(a):a},xPe=function(t,n){var r=Ha(n-t),a=Math.min(Math.abs(n-t),360);return r*a},yPe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(h+f)/2,x=xPe(m,g),b=x>=0?1:-1,w,j;a==="insideStart"?(w=m+b*o,j=p):a==="insideEnd"?(w=g-b*o,j=!p):a==="end"&&(w=g+b*o,j=p),j=x<=0?j:!j;var S=lr(u,d,v,w),N=lr(u,d,v,w+(j?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),k=jt(t.id)?Xg("recharts-radial-line-"):t.id;return H.createElement("text",Kp({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:k,d:C})),H.createElement("textPath",{xlinkHref:"#".concat(k)},n))},bPe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=lr(o,l,u+r,f),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=lr(o,l,v,f),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},wPe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return Ln(Ln({},w),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:g};return Ln(Ln({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ln(Ln({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ln(Ln({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return i==="insideLeft"?Ln({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?Ln({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideTop"?Ln({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},C):i==="insideBottom"?Ln({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?Ln({x:l+v,y:c+f,textAnchor:b,verticalAnchor:g},C):i==="insideTopRight"?Ln({x:l+u-v,y:c+f,textAnchor:x,verticalAnchor:g},C):i==="insideBottomLeft"?Ln({x:l+v,y:c+d-f,textAnchor:b,verticalAnchor:m},C):i==="insideBottomRight"?Ln({x:l+u-v,y:c+d-f,textAnchor:x,verticalAnchor:m},C):lf(i)&&(Pe(i.x)||Pc(i.x))&&(Pe(i.y)||Pc(i.y))?Ln({x:l+ou(i.x,u),y:c+ou(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):Ln({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},jPe=function(t){return"cx"in t&&Pe(t.cx)};function Sr(e){var t=e.offset,n=t===void 0?5:t,r=hPe(e,iPe),a=Ln({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||jt(l)&&jt(c)&&!y.isValidElement(u)&&!bt(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(bt(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=vPe(a);var g=jPe(i),p=kt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return yPe(a,m,p);var v=g?bPe(a):wPe(a);return H.createElement(mb,Kp({className:Et("recharts-label",h)},p,v,{breakAll:f}),m)}Sr.displayName="Label";var QV=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(Pe(p)&&Pe(v)){if(Pe(h)&&Pe(f))return{x:h,y:f,width:p,height:v};if(Pe(m)&&Pe(g))return{x:m,y:g,width:p,height:v}}return Pe(h)&&Pe(f)?{x:h,y:f,width:0,height:0}:Pe(n)&&Pe(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},_Pe=function(t,n){return t?t===!0?H.createElement(Sr,{key:"label-implicit",viewBox:n}):zn(t)?H.createElement(Sr,{key:"label-implicit",viewBox:n,value:t}):y.isValidElement(t)?t.type===Sr?y.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(Sr,{key:"label-implicit",content:t,viewBox:n}):bt(t)?H.createElement(Sr,{key:"label-implicit",content:t,viewBox:n}):lf(t)?H.createElement(Sr,Kp({viewBox:n},t,{key:"label-implicit"})):null:null},NPe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=QV(t),o=pa(a,Sr).map(function(c,u){return y.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=_Pe(t.label,n||i);return[l].concat(oPe(o))};Sr.parseViewBox=QV;Sr.renderCallByParent=NPe;function SPe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var CPe=SPe;const kPe=Bt(CPe);function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}var EPe=["valueAccessor"],PPe=["data","dataKey","clockWise","id","textBreakAll"];function APe(e){return DPe(e)||MPe(e)||OPe(e)||TPe()}function TPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPe(e,t){if(e){if(typeof e=="string")return RC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(e,t)}}function MPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DPe(e){if(Array.isArray(e))return RC(e)}function RC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(this,arguments)}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){IPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IPe(e,t,n){return t=RPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RPe(e){var t=$Pe(e,"string");return Yp(t)=="symbol"?t:t+""}function $Pe(e,t){if(Yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e4(e,t){if(e==null)return{};var n=LPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var FPe=function(t){return Array.isArray(t.value)?kPe(t.value):t.value};function Tl(e){var t=e.valueAccessor,n=t===void 0?FPe:t,r=e4(e,EPe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=e4(r,PPe);return!a||!a.length?null:H.createElement(An,{className:"recharts-label-list"},a.map(function(d,h){var f=jt(i)?n(d,h):Vs(d&&d.payload,i),m=jt(l)?{}:{id:"".concat(l,"-").concat(h)};return H.createElement(Sr,Ab({},kt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Sr.parseViewBox(jt(o)?d:ZR(ZR({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Tl.displayName="LabelList";function BPe(e,t){return e?e===!0?H.createElement(Tl,{key:"labelList-implicit",data:t}):H.isValidElement(e)||bt(e)?H.createElement(Tl,{key:"labelList-implicit",data:t,content:e}):lf(e)?H.createElement(Tl,Ab({data:t},e,{key:"labelList-implicit"})):null:null}function UPe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=pa(r,Tl).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=BPe(e.label,t);return[i].concat(APe(a))}Tl.renderCallByParent=UPe;function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$C.apply(this,arguments)}function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(r){zPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zPe(e,t,n){return t=qPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qPe(e){var t=VPe(e,"string");return Jp(t)=="symbol"?t:t+""}function VPe(e,t){if(Jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WPe=function(t,n){var r=Ha(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},dx=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/Pb,f=u?i:i+o*h,m=lr(n,r,d,f),g=lr(n,r,a,f),p=u?i-o*h:i,v=lr(n,r,d*Math.cos(h*Pb),p);return{center:m,circleTangency:g,lineTangency:v,theta:h}},ZV=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=WPe(o,l),u=o+c,d=lr(n,r,i,o),h=lr(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=lr(n,r,a,o),g=lr(n,r,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},HPe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=Ha(d-u),f=dx({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,p=f.theta,v=dx({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,w=v.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(j<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ZV({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=dx({cx:n,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=N.circleTangency,k=N.lineTangency,D=N.theta,R=dx({cx:n,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=R.circleTangency,B=R.lineTangency,F=R.theta,L=c?Math.abs(u-d):Math.abs(u-d)-D-F;if(L<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},GPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eW=function(t){var n=n4(n4({},GPe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var m=Et("recharts-sector",f),g=o-i,p=ou(l,g,0,!0),v;return p>0&&Math.abs(d-h)<360?v=HPe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=ZV({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),H.createElement("path",$C({},kt(n,!0),{className:m,d:v,role:"img"}))};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function LC(){return LC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LC.apply(this,arguments)}function r4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function s4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(n),!0).forEach(function(r){KPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KPe(e,t,n){return t=YPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YPe(e){var t=JPe(e,"string");return Xp(t)=="symbol"?t:t+""}function JPe(e,t){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a4={curveBasisClosed:Kge,curveBasisOpen:Yge,curveBasis:Gge,curveBumpX:Mge,curveBumpY:Dge,curveLinearClosed:Jge,curveLinear:Tw,curveMonotoneX:Xge,curveMonotoneY:Qge,curveNatural:Zge,curveStep:eve,curveStepAfter:nve,curveStepBefore:tve},hx=function(t){return t.x===+t.x&&t.y===+t.y},sm=function(t){return t.x},am=function(t){return t.y},XPe=function(t,n){if(bt(t))return t;var r="curve".concat(Pw(t));return(r==="curveMonotone"||r==="curveBump")&&n?a4["".concat(r).concat(n==="vertical"?"Y":"X")]:a4[r]||Tw},QPe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=XPe(r,l),h=u?i.filter(function(p){return hx(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return hx(p)}):o,g=h.map(function(p,v){return s4(s4({},p),{},{base:m[v]})});return l==="vertical"?f=nx().y(am).x1(sm).x0(function(p){return p.base.x}):f=nx().x(sm).y1(am).y0(function(p){return p.base.y}),f.defined(hx).curve(d),f(g)}return l==="vertical"&&Pe(o)?f=nx().y(am).x1(sm).x0(o):Pe(o)?f=nx().x(sm).y1(am).y0(o):f=eq().x(sm).y(am),f.defined(hx).curve(d),f(h)},FC=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?QPe(t):a;return H.createElement("path",LC({},kt(t,!1),Qy(t),{className:Et("recharts-curve",n),d:o,ref:i}))},tW={exports:{}},ZPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e2e=ZPe,t2e=e2e;function nW(){}function rW(){}rW.resetWarningCache=nW;var n2e=function(){function e(r,a,i,o,l,c){if(c!==t2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rW,resetWarningCache:nW};return n.PropTypes=n,n};tW.exports=n2e();var r2e=tW.exports;const pt=Bt(r2e);var s2e=Object.getOwnPropertyNames,a2e=Object.getOwnPropertySymbols,i2e=Object.prototype.hasOwnProperty;function i4(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function fx(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function o4(e){return s2e(e).concat(a2e(e))}var sW=Object.hasOwn||function(e,t){return i2e.call(e,t)};function xf(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var aW="_owner",l4=Object.getOwnPropertyDescriptor,c4=Object.keys;function o2e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function l2e(e,t){return xf(e.getTime(),t.getTime())}function u4(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],g=l.value,p=g[0],v=g[1];!u&&!r[d]&&(u=n.equals(f,p,i,d,e,t,n)&&n.equals(m,v,f,p,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;i++}return!0}function c2e(e,t,n){var r=c4(e),a=r.length;if(c4(t).length!==a)return!1;for(var i;a-- >0;)if(i=r[a],i===aW&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!sW(t,i)||!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function im(e,t,n){var r=o4(e),a=r.length;if(o4(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],i===aW&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!sW(t,i)||!n.equals(e[i],t[i],i,i,e,t,n)||(o=l4(e,i),l=l4(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function u2e(e,t){return xf(e.valueOf(),t.valueOf())}function d2e(e,t){return e.source===t.source&&e.flags===t.flags}function d4(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(i.value,o.value,i.value,o.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function h2e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var f2e="[object Arguments]",m2e="[object Boolean]",p2e="[object Date]",g2e="[object Map]",v2e="[object Number]",x2e="[object Object]",y2e="[object RegExp]",b2e="[object Set]",w2e="[object String]",j2e=Array.isArray,h4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,f4=Object.assign,_2e=Object.prototype.toString.call.bind(Object.prototype.toString);function N2e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return a(d,h,f);if(j2e(d))return t(d,h,f);if(h4!=null&&h4(d))return c(d,h,f);if(m===Date)return n(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return r(d,h,f);if(m===Set)return l(d,h,f);var g=_2e(d);return g===p2e?n(d,h,f):g===y2e?o(d,h,f):g===g2e?r(d,h,f):g===b2e?l(d,h,f):g===x2e?typeof d.then!="function"&&typeof h.then!="function"&&a(d,h,f):g===f2e?a(d,h,f):g===m2e||g===v2e||g===w2e?i(d,h,f):!1}}function S2e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?im:o2e,areDatesEqual:l2e,areMapsEqual:r?i4(u4,im):u4,areObjectsEqual:r?im:c2e,arePrimitiveWrappersEqual:u2e,areRegExpsEqual:d2e,areSetsEqual:r?i4(d4,im):d4,areTypedArraysEqual:r?im:h2e};if(n&&(a=f4({},a,n(a))),t){var i=fx(a.areArraysEqual),o=fx(a.areMapsEqual),l=fx(a.areObjectsEqual),c=fx(a.areSetsEqual);a=f4({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function C2e(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function k2e(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var E2e=nc();nc({strict:!0});nc({circular:!0});nc({circular:!0,strict:!0});nc({createInternalComparator:function(){return xf}});nc({strict:!0,createInternalComparator:function(){return xf}});nc({circular:!0,createInternalComparator:function(){return xf}});nc({circular:!0,createInternalComparator:function(){return xf},strict:!0});function nc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=S2e(e),c=N2e(l),u=r?r(c):C2e(c);return k2e({circular:n,comparator:c,createState:a,equals:u,strict:o})}function P2e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function m4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):P2e(a)};requestAnimationFrame(r)}function BC(e){"@babel/helpers - typeof";return BC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BC(e)}function A2e(e){return D2e(e)||M2e(e)||O2e(e)||T2e()}function T2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(e,t){if(e){if(typeof e=="string")return p4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p4(e,t)}}function p4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D2e(e){if(Array.isArray(e))return e}function I2e(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=A2e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){m4(a.bind(null,u),c);return}a(c),m4(a.bind(null,u));return}BC(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function g4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function v4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(n),!0).forEach(function(r){iW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iW(e,t,n){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R2e(e){var t=$2e(e,"string");return Qp(t)==="symbol"?t:String(t)}function $2e(e,t){if(Qp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},F2e=function(t){return t},B2e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Wm=function(t,n){return Object.keys(n).reduce(function(r,a){return v4(v4({},r),{},iW({},a,t(a,n[a])))},{})},x4=function(t,n,r){return t.map(function(a){return"".concat(B2e(a)," ").concat(n,"ms ").concat(r)}).join(",")};function U2e(e,t){return V2e(e)||q2e(e,t)||oW(e,t)||z2e()}function z2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function V2e(e){if(Array.isArray(e))return e}function W2e(e){return K2e(e)||G2e(e)||oW(e)||H2e()}function H2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oW(e,t){if(e){if(typeof e=="string")return UC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(e,t)}}function G2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K2e(e){if(Array.isArray(e))return UC(e)}function UC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tb=1e-4,lW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},cW=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},y4=function(t,n){return function(r){var a=lW(t,n);return cW(a,r)}},Y2e=function(t,n){return function(r){var a=lW(t,n),i=[].concat(W2e(a.map(function(o,l){return o*l}).slice(1)),[0]);return cW(i,r)}},b4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=U2e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=y4(a,o),f=y4(i,l),m=Y2e(a,o),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,w=b,j=0;j<8;++j){var S=h(w)-b,N=m(w);if(Math.abs(S-b)<Tb||N<Tb)return f(w);w=g(w-S/N)}return f(w)};return p.isStepper=!1,p},J2e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*r,g=f*i,p=f+(m-g)*l/1e3,v=f*l/1e3+d;return Math.abs(v-h)<Tb&&Math.abs(p)<Tb?[h,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},X2e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b4(a);case"spring":return J2e();default:if(a.split("(")[0]==="cubic-bezier")return b4(a)}return typeof a=="function"?a:null};function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function w4(e){return eAe(e)||Z2e(e)||uW(e)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eAe(e){if(Array.isArray(e))return qC(e)}function j4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(n),!0).forEach(function(r){zC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zC(e,t,n){return t=tAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tAe(e){var t=nAe(e,"string");return Zp(t)==="symbol"?t:String(t)}function nAe(e,t){if(Zp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rAe(e,t){return iAe(e)||aAe(e,t)||uW(e,t)||sAe()}function sAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){if(e){if(typeof e=="string")return qC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(e,t)}}function qC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iAe(e){if(Array.isArray(e))return e}var Ob=function(t,n,r){return t+(n-t)*r},VC=function(t){var n=t.from,r=t.to;return n!==r},oAe=function e(t,n,r){var a=Wm(function(i,o){if(VC(o)){var l=t(o.from,o.to,o.velocity),c=rAe(l,2),u=c[0],d=c[1];return ar(ar({},o),{},{from:u,velocity:d})}return o},n);return r<1?Wm(function(i,o){return VC(o)?ar(ar({},o),{},{velocity:Ob(o.velocity,a[i].velocity,r),from:Ob(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const lAe=function(e,t,n,r,a){var i=L2e(e,t),o=i.reduce(function(v,x){return ar(ar({},v),{},zC({},x,[e[x],t[x]]))},{}),l=i.reduce(function(v,x){return ar(ar({},v),{},zC({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Wm(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(VC).length},g=function(x){u||(u=x);var b=x-u,w=b/n.dt;l=oAe(n,l,w),a(ar(ar(ar({},e),t),f())),u=x,m()||(c=requestAnimationFrame(h))},p=function(x){d||(d=x);var b=(x-d)/r,w=Wm(function(S,N){return Ob.apply(void 0,w4(N).concat([n(b)]))},o);if(a(ar(ar(ar({},e),t),w)),b<1)c=requestAnimationFrame(h);else{var j=Wm(function(S,N){return Ob.apply(void 0,w4(N).concat([n(1)]))},o);a(ar(ar(ar({},e),t),j))}};return h=n.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}var cAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uAe(e,t){if(e==null)return{};var n=dAe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function l1(e){return pAe(e)||mAe(e)||fAe(e)||hAe()}function hAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(e,t){if(e){if(typeof e=="string")return WC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(e,t)}}function mAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pAe(e){if(Array.isArray(e))return WC(e)}function WC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){wm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wm(e,t,n){return t=dW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dW(r.key),r)}}function xAe(e,t,n){return t&&vAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dW(e){var t=yAe(e,"string");return wh(t)==="symbol"?t:String(t)}function yAe(e,t){if(wh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},HC(e,t)}function wAe(e){var t=jAe();return function(){var r=Mb(e),a;if(t){var i=Mb(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return GC(this,a)}}function GC(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KC(e)}function KC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(e)}var Eo=function(e){bAe(n,e);var t=wAe(n);function n(r,a){var i;gAe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(KC(i)),i.changeStyle=i.changeStyle.bind(KC(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),GC(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},GC(i);i.state={style:c?wm({},c,u):u}}else i.state={style:{}};return i}return xAe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?wm({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(E2e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:a.to;if(this.state&&f){var v={style:c?wm({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Pa(Pa({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=lAe(o,l,X2e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([f,d,g,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,v,x){if(x===0)return p;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,S=v.style,N=v.properties,C=v.onAnimationEnd,k=x>0?o[x-1]:v,D=N||Object.keys(S);if(typeof j=="function"||j==="spring")return[].concat(l1(p),[i.runJSAnimation.bind(i,{from:k.style,to:S,duration:b,easing:j}),b]);var R=x4(D,b,j),E=Pa(Pa(Pa({},k.style),S),{},{transition:R});return[].concat(l1(p),[E,b,C]).filter(F2e)};return this.manager.start([c].concat(l1(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=I2e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?wm({},l,c):c,v=x4(Object.keys(p),o,u);g.start([d,i,Pa(Pa({},p),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=uAe(a,cAe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,b=y.cloneElement(m,Pa(Pa({},c),{},{style:Pa(Pa({},v),d),className:x}));return b};return u===1?h(y.Children.only(i)):H.createElement("div",null,y.Children.map(i,function(f){return h(f)}))}}]),n}(y.PureComponent);Eo.displayName="Animate";Eo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Eo.propTypes={from:pt.oneOfType([pt.object,pt.string]),to:pt.oneOfType([pt.object,pt.string]),attributeName:pt.string,duration:pt.number,begin:pt.number,easing:pt.oneOfType([pt.string,pt.func]),steps:pt.arrayOf(pt.shape({duration:pt.number.isRequired,style:pt.object.isRequired,easing:pt.oneOfType([pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pt.func]),properties:pt.arrayOf("string"),onAnimationEnd:pt.func})),children:pt.oneOfType([pt.node,pt.func]),isActive:pt.bool,canBegin:pt.bool,onAnimationEnd:pt.func,shouldReAnimate:pt.bool,onAnimationStart:pt.func,onAnimationReStart:pt.func};pt.object,pt.object,pt.object,pt.element;pt.object,pt.object,pt.object,pt.oneOfType([pt.array,pt.element]),pt.any;function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(this,arguments)}function _Ae(e,t){return kAe(e)||CAe(e,t)||SAe(e,t)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SAe(e,t){if(e){if(typeof e=="string")return N4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N4(e,t)}}function N4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kAe(e){if(Array.isArray(e))return e}function S4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(n),!0).forEach(function(r){EAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EAe(e,t,n){return t=PAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PAe(e){var t=AAe(e,"string");return eg(t)=="symbol"?t:t+""}function AAe(e,t){if(eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k4=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),d+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+a,`
            L `).concat(t+c*g,",").concat(n+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},TAe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&a>=h&&a<=f}return!1},OAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mA=function(t){var n=C4(C4({},OAe),t),r=y.useRef(),a=y.useState(-1),i=_Ae(a,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Et("recharts-rectangle",m);return b?H.createElement(Eo,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(j){var S=j.width,N=j.height,C=j.x,k=j.y;return H.createElement(Eo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},H.createElement("path",Db({},kt(n,!0),{className:w,d:k4(C,k,S,N,f),ref:r})))}):H.createElement("path",Db({},kt(n,!0),{className:w,d:k4(c,u,d,h,f)}))};function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(this,arguments)}var pA=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Et("recharts-dot",i);return n===+n&&r===+r&&a===+a?H.createElement("circle",YC({},kt(t,!1),Qy(t),{className:o,cx:n,cy:r,r:a})):null};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}var MAe=["x","y","top","left","width","height","className"];function JC(){return JC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JC.apply(this,arguments)}function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function DAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(r){IAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IAe(e,t,n){return t=RAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RAe(e){var t=$Ae(e,"string");return tg(t)=="symbol"?t:t+""}function $Ae(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LAe(e,t){if(e==null)return{};var n=FAe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var BAe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},UAe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,g=t.className,p=LAe(t,MAe),v=DAe({x:r,y:i,top:l,left:u,width:h,height:m},p);return!Pe(r)||!Pe(i)||!Pe(h)||!Pe(m)||!Pe(l)||!Pe(u)?null:H.createElement("path",JC({},kt(v,!0),{className:Et("recharts-cross",g),d:BAe(r,i,h,m,l,u)}))},zAe=Nq,qAe=zAe(Object.getPrototypeOf,Object),VAe=qAe,WAe=To,HAe=VAe,GAe=Oo,KAe="[object Object]",YAe=Function.prototype,JAe=Object.prototype,hW=YAe.toString,XAe=JAe.hasOwnProperty,QAe=hW.call(Object);function ZAe(e){if(!GAe(e)||WAe(e)!=KAe)return!1;var t=HAe(e);if(t===null)return!0;var n=XAe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&hW.call(n)==QAe}var eTe=ZAe;const tTe=Bt(eTe);var nTe=To,rTe=Oo,sTe="[object Boolean]";function aTe(e){return e===!0||e===!1||rTe(e)&&nTe(e)==sTe}var iTe=aTe;const oTe=Bt(iTe);function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(this,arguments)}function lTe(e,t){return hTe(e)||dTe(e,t)||uTe(e,t)||cTe()}function cTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uTe(e,t){if(e){if(typeof e=="string")return P4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P4(e,t)}}function P4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hTe(e){if(Array.isArray(e))return e}function A4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(n),!0).forEach(function(r){fTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fTe(e,t,n){return t=mTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mTe(e){var t=pTe(e,"string");return ng(t)=="symbol"?t:t+""}function pTe(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O4=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},gTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vTe=function(t){var n=T4(T4({},gTe),t),r=y.useRef(),a=y.useState(-1),i=lTe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,p=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=Et("recharts-trapezoid",m);return x?H.createElement(Eo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(w){var j=w.upperWidth,S=w.lowerWidth,N=w.height,C=w.x,k=w.y;return H.createElement(Eo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},H.createElement("path",Ib({},kt(n,!0),{className:b,d:O4(C,k,j,S,N),ref:r})))}):H.createElement("g",null,H.createElement("path",Ib({},kt(n,!0),{className:b,d:O4(c,u,d,h,f)})))},xTe=["option","shapeType","propTransformer","activeClassName","isActive"];function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function yTe(e,t){if(e==null)return{};var n=bTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function M4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(n),!0).forEach(function(r){wTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wTe(e,t,n){return t=jTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jTe(e){var t=_Te(e,"string");return rg(t)=="symbol"?t:t+""}function _Te(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NTe(e,t){return Rb(Rb({},t),e)}function STe(e,t){return e==="symbols"}function D4(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(mA,n);case"trapezoid":return H.createElement(vTe,n);case"sector":return H.createElement(eW,n);case"symbols":if(STe(t))return H.createElement(M2,n);break;default:return null}}function CTe(e){return y.isValidElement(e)?e.props:e}function kTe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?NTe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=yTe(e,xTe),u;if(y.isValidElement(t))u=y.cloneElement(t,Rb(Rb({},c),CTe(t)));else if(bt(t))u=t(c);else if(tTe(t)&&!oTe(t)){var d=a(t,c);u=H.createElement(D4,{shapeType:n,elementProps:d})}else{var h=c;u=H.createElement(D4,{shapeType:n,elementProps:h})}return l?H.createElement(An,{className:o},u):u}function Gw(e,t){return t!=null&&"trapezoids"in e.props}function Kw(e,t){return t!=null&&"sectors"in e.props}function sg(e,t){return t!=null&&"points"in e.props}function ETe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function PTe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function ATe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function TTe(e,t){var n;return Gw(e,t)?n=ETe:Kw(e,t)?n=PTe:sg(e,t)&&(n=ATe),n}function OTe(e,t){var n;return Gw(e,t)?n="trapezoids":Kw(e,t)?n="sectors":sg(e,t)&&(n="points"),n}function MTe(e,t){if(Gw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Kw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sg(e,t)?t.payload:{}}function DTe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=OTe(n,t),i=MTe(n,t),o=r.filter(function(c,u){var d=Vw(i,c),h=n.props[a].filter(function(g){var p=TTe(n,t);return p(g,t)}),f=n.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var ITe=Math.ceil,RTe=Math.max;function $Te(e,t,n,r){for(var a=-1,i=RTe(ITe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var LTe=$Te,FTe=qq,I4=1/0,BTe=17976931348623157e292;function UTe(e){if(!e)return e===0?e:0;if(e=FTe(e),e===I4||e===-I4){var t=e<0?-1:1;return t*BTe}return e===e?e:0}var fW=UTe,zTe=LTe,qTe=Iw,c1=fW;function VTe(e){return function(t,n,r){return r&&typeof r!="number"&&qTe(t,n,r)&&(n=r=void 0),t=c1(t),n===void 0?(n=t,t=0):n=c1(n),r=r===void 0?t<n?1:-1:c1(r),zTe(t,n,r,e)}}var WTe=VTe,HTe=WTe,GTe=HTe(),KTe=GTe;const $b=Bt(KTe);function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(r){mW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mW(e,t,n){return t=YTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YTe(e){var t=JTe(e,"string");return ag(t)=="symbol"?t:t+""}function JTe(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XTe=["Webkit","Moz","O","ms"],QTe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=XTe.reduce(function(i,o){return $4($4({},i),{},mW({},o+r,n))},{});return a[t]=n,a};function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lb.apply(this,arguments)}function L4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function u1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(n),!0).forEach(function(r){Es(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gW(r.key),r)}}function eOe(e,t,n){return t&&F4(e.prototype,t),n&&F4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tOe(e,t,n){return t=Fb(t),nOe(e,pW()?Reflect.construct(t,n||[],Fb(e).constructor):t.apply(e,n))}function nOe(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(e)}function rOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(e)}function sOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},XC(e,t)}function Es(e,t,n){return t=gW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=aOe(e,"string");return jh(t)=="symbol"?t:t+""}function aOe(e,t){if(jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iOe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=qm().domain($b(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},B4=function(t){return t.changedTouches&&!!t.changedTouches.length},_h=function(e){function t(n){var r;return ZTe(this,t),r=tOe(this,t,[n]),Es(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Es(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Es(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Es(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Es(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Es(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Es(r,"handleSlideDragStart",function(a){var i=B4(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return sOe(t,e),eOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),g=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Vs(i[r],l,r);return bt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=B4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,h+f-m-u):b<0&&(b=Math.max(b,h-u)),x[o]=u+b;var w=this.getIndex(x),j=w.startIndex,S=w.endIndex,N=function(){var k=v.length-1;return o==="startX"&&(l>c?j%p===0:S%p===0)||l<c&&S===k||o==="endX"&&(l>c?S%p===0:j%p===0)||l>c&&S===k};this.setState(Es(Es({},o,u+b),"brushMoveStartX",r.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Es({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return H.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=y.Children.only(u);return h?H.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(r,this.props.x),b=u1(u1({},kt(this.props,!1)),{},{x,y:u,width:d,height:h}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return H.createElement(An,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,h=Math.max(Math.abs(a-r)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:u};return H.createElement(An,{className:"recharts-brush-texts"},H.createElement(mb,Lb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},g),this.getTextOfTick(a)),H.createElement(mb,Lb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,p=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,b=f.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var w=Et("recharts-brush",i),j=H.Children.count(o)===1,S=QTe("userSelect","none");return H.createElement(An,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),H.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return H.isValidElement(r)?i=H.cloneElement(r,a):bt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return u1({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?iOe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(y.PureComponent);Es(_h,"displayName","Brush");Es(_h,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oOe=B2;function lOe(e,t){var n;return oOe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var cOe=lOe,uOe=gq,dOe=Zl,hOe=cOe,fOe=js,mOe=Iw;function pOe(e,t,n){var r=fOe(e)?uOe:hOe;return n&&mOe(e,t,n)&&(t=void 0),r(e,dOe(t))}var gOe=pOe;const vOe=Bt(gOe);var Ii=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},U4=Lq;function xOe(e,t,n){t=="__proto__"&&U4?U4(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var yOe=xOe,bOe=yOe,wOe=Rq,jOe=Zl;function _Oe(e,t){var n={};return t=jOe(t),wOe(e,function(r,a,i){bOe(n,a,t(r,a,i))}),n}var NOe=_Oe;const SOe=Bt(NOe);function COe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var kOe=COe,EOe=B2;function POe(e,t){var n=!0;return EOe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var AOe=POe,TOe=kOe,OOe=AOe,MOe=Zl,DOe=js,IOe=Iw;function ROe(e,t,n){var r=DOe(e)?TOe:OOe;return n&&IOe(e,t,n)&&(t=void 0),r(e,MOe(t))}var $Oe=ROe;const vW=Bt($Oe);var LOe=["x","y"];function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QC.apply(this,arguments)}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){FOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FOe(e,t,n){return t=BOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BOe(e){var t=UOe(e,"string");return ig(t)=="symbol"?t:t+""}function UOe(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zOe(e,t){if(e==null)return{};var n=qOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VOe(e,t){var n=e.x,r=e.y,a=zOe(e,LOe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return om(om(om(om(om({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function q4(e){return H.createElement(kTe,QC({shapeType:"rectangle",propTransformer:VOe,activeClassName:"recharts-active-bar"},e))}var WOe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,a):(i||cu(),n)}},HOe=["value","background"],xW;function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function GOe(e,t){if(e==null)return{};var n=KOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bb.apply(this,arguments)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){yl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bW(r.key),r)}}function JOe(e,t,n){return t&&W4(e.prototype,t),n&&W4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XOe(e,t,n){return t=Ub(t),QOe(e,yW()?Reflect.construct(t,n||[],Ub(e).constructor):t.apply(e,n))}function QOe(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZOe(e)}function ZOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yW=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ub(e)}function eMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ZC(e,t)}function yl(e,t,n){return t=bW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=tMe(e,"string");return Nh(t)=="symbol"?t:t+""}function tMe(e,t){if(Nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zl=function(e){function t(){var n;YOe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=XOe(this,t,[].concat(a)),yl(n,"state",{isAnimationFinished:!1}),yl(n,"id",Xg("recharts-bar-")),yl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),yl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return eMe(t,e),JOe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=kt(this.props,!1);return r&&r.map(function(h,f){var m=f===c,g=m?u:o,p=Mn(Mn(Mn({},d),h),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return H.createElement(An,Bb({className:"recharts-bar-rectangle"},Zy(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),H.createElement(q4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return H.createElement(Eo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,x){var b=f&&f[x];if(b){var w=qa(b.x,v.x),j=qa(b.y,v.y),S=qa(b.width,v.width),N=qa(b.height,v.height);return Mn(Mn({},v),{},{x:w(g),y:j(g),width:S(g),height:N(g)})}if(o==="horizontal"){var C=qa(0,v.height),k=C(g);return Mn(Mn({},v),{},{y:v.y+v.height-k,height:k})}var D=qa(0,v.width),R=D(g);return Mn(Mn({},v),{},{width:R})});return H.createElement(An,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Vw(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=kt(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=GOe(u,HOe);if(!h)return null;var m=Mn(Mn(Mn(Mn(Mn({},f),{},{fill:"#eee"},h),c),Zy(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(q4,Bb({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=pa(d,rv);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Vs(v,x)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return H.createElement(An,g,h.map(function(p){return H.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,g=r.background,p=r.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=Et("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,S=jt(p)?this.id:p;return H.createElement(An,{className:x},b||w?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:b?u:u-h/2,y:w?d:d-f/2,width:b?h:h*2,height:w?f:f*2}))):null,H.createElement(An,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,S),(!m||v)&&Tl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(y.PureComponent);xW=zl;yl(zl,"displayName","Bar");yl(zl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!po.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yl(zl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=UEe(r,n);if(!m)return null;var g=t.layout,p=n.type.defaultProps,v=p!==void 0?Mn(Mn({},p),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,j=g==="horizontal"?o:i,S=u?j.scale.domain():null,N=YEe({numericAxis:j}),C=pa(b,Wq),k=h.map(function(D,R){var E,B,F,L,I,O;u?E=zEe(u[d+R],S):(E=Vs(D,x),Array.isArray(E)||(E=[N,E]));var $=WOe(w,xW.defaultProps.minPointSize)(E[1],R);if(g==="horizontal"){var T,U=[o.scale(E[0]),o.scale(E[1])],M=U[0],Y=U[1];B=VR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:D,index:R}),F=(T=Y??M)!==null&&T!==void 0?T:void 0,L=m.size;var ee=M-Y;if(I=Number.isNaN(ee)?0:ee,O={x:B,y:o.y,width:L,height:o.height},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var _=Ha(I||$)*(Math.abs($)-Math.abs(I));F-=_,I+=_}}else{var A=[i.scale(E[0]),i.scale(E[1])],P=A[0],z=A[1];if(B=P,F=VR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:D,index:R}),L=z-P,I=m.size,O={x:i.x,y:F,width:i.width,height:I},Math.abs($)>0&&Math.abs(L)<Math.abs($)){var V=Ha(L||$)*(Math.abs($)-Math.abs(L));L+=V}}return Mn(Mn(Mn({},D),{},{x:B,y:F,width:L,height:I,value:u?E:E[1],payload:D,background:O},C&&C[R]&&C[R].props),{},{tooltipPayload:[XV(n,D)],tooltipPosition:{x:B+L/2,y:F+I/2}})});return Mn({data:k,layout:g},f)});function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function nMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wW(r.key),r)}}function rMe(e,t,n){return t&&H4(e.prototype,t),n&&H4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(r){Yw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yw(e,t,n){return t=wW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=sMe(e,"string");return og(t)=="symbol"?t:t+""}function sMe(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!Os(u,zl);return d.reduce(function(m,g){var p=n[g],v=p.orientation,x=p.domain,b=p.padding,w=b===void 0?{}:b,j=p.mirror,S=p.reversed,N="".concat(v).concat(j?"Mirror":""),C,k,D,R,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var B=x[1]-x[0],F=1/0,L=p.categoricalDomain.sort();if(L.forEach(function(A,P){P>0&&(F=Math.min((A||0)-(L[P-1]||0),F))}),Number.isFinite(F)){var I=F/B,O=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=I*O/2),p.padding==="no-gap"){var $=ou(t.barCategoryGap,I*O),T=I*O/2;C=T-$-(T-$)/O*$}}}a==="xAxis"?k=[r.left+(w.left||0)+(C||0),r.left+r.width-(w.right||0)-(C||0)]:a==="yAxis"?k=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(C||0),r.top+r.height-(w.bottom||0)-(C||0)]:k=p.range,S&&(k=[k[1],k[0]]);var U=FEe(p,i,f),M=U.scale,Y=U.realScaleType;M.domain(x).range(k),BEe(M);var ee=KEe(M,Fa(Fa({},p),{},{realScaleType:Y}));a==="xAxis"?(E=v==="top"&&!j||v==="bottom"&&j,D=r.left,R=h[N]-E*p.height):a==="yAxis"&&(E=v==="left"&&!j||v==="right"&&j,D=h[N]-E*p.width,R=r.top);var _=Fa(Fa(Fa({},p),ee),{},{realScaleType:Y,x:D,y:R,scale:M,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return _.bandSize=Eb(_,ee),!p.hide&&a==="xAxis"?h[N]+=(E?-1:1)*_.height:p.hide||(h[N]+=(E?-1:1)*_.width),Fa(Fa({},m),{},Yw({},g,_))},{})},_W=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},aMe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return _W({x:n,y:r},{x:a,y:i})},NW=function(){function e(t){nMe(this,e),this.scale=t}return rMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Yw(NW,"EPS",1e-4);var gA=function(t){var n=Object.keys(t).reduce(function(r,a){return Fa(Fa({},r),{},Yw({},a,NW.create(t[a])))},{});return Fa(Fa({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return SOe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return vW(a,function(i,o){return n[o].isInRange(i)})}})};function iMe(e){return(e%180+180)%180}var oMe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=iMe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},lMe=Zl,cMe=Qg,uMe=Mw;function dMe(e){return function(t,n,r){var a=Object(t);if(!cMe(t)){var i=lMe(n);t=uMe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var hMe=dMe,fMe=fW;function mMe(e){var t=fMe(e),n=t%1;return t===t?n?t-n:t:0}var pMe=mMe,gMe=Aq,vMe=Zl,xMe=pMe,yMe=Math.max;function bMe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:xMe(n);return a<0&&(a=yMe(r+a,0)),gMe(e,vMe(t),a)}var wMe=bMe,jMe=hMe,_Me=wMe,NMe=jMe(_Me),SMe=NMe;const CMe=Bt(SMe);var kMe=Sme(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vA=y.createContext(void 0),xA=y.createContext(void 0),SW=y.createContext(void 0),CW=y.createContext({}),kW=y.createContext(void 0),EW=y.createContext(0),PW=y.createContext(0),K4=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=kMe(i);return H.createElement(vA.Provider,{value:r},H.createElement(xA.Provider,{value:a},H.createElement(CW.Provider,{value:i},H.createElement(SW.Provider,{value:d},H.createElement(kW.Provider,{value:o},H.createElement(EW.Provider,{value:u},H.createElement(PW.Provider,{value:c},l)))))))},EMe=function(){return y.useContext(kW)},AW=function(t){var n=y.useContext(vA);n==null&&cu();var r=n[t];return r==null&&cu(),r},PMe=function(){var t=y.useContext(vA);return ol(t)},AMe=function(){var t=y.useContext(xA),n=CMe(t,function(r){return vW(r.domain,Number.isFinite)});return n||ol(t)},TW=function(t){var n=y.useContext(xA);n==null&&cu();var r=n[t];return r==null&&cu(),r},TMe=function(){var t=y.useContext(SW);return t},OMe=function(){return y.useContext(CW)},yA=function(){return y.useContext(PW)},bA=function(){return y.useContext(EW)};function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function MMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MW(r.key),r)}}function IMe(e,t,n){return t&&DMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RMe(e,t,n){return t=zb(t),$Me(e,OW()?Reflect.construct(t,n||[],zb(e).constructor):t.apply(e,n))}function $Me(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LMe(e)}function LMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zb(e)}function FMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ek(e,t)}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){wA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wA(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=BMe(e,"string");return Sh(t)=="symbol"?t:t+""}function BMe(e,t){if(Sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UMe(e,t){return WMe(e)||VMe(e,t)||qMe(e,t)||zMe()}function zMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(e,t){if(e){if(typeof e=="string")return X4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WMe(e){if(Array.isArray(e))return e}function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(this,arguments)}var HMe=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):bt(t)?r=t(n):r=H.createElement("line",tk({},n,{className:"recharts-reference-line-line"})),r},GMe=function(t,n,r,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(Ii(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(n){var x=u.x,b=t.x.apply(x,{position:o});if(Ii(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:h+m},{x:b,y:h}];return l==="top"?w.reverse():w}if(a){var j=u.segment,S=j.map(function(N){return t.apply(N,{position:o})});return Ii(u,"discard")&&vOe(S,function(N){return!t.isInRange(N)})?null:S}return null};function KMe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=EMe(),d=AW(a),h=TW(i),f=TMe();if(!u||!f)return null;mo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=gA({x:d.scale,y:h.scale}),g=zn(t),p=zn(n),v=r&&r.length===2,x=GMe(m,g,p,v,f,e.position,d.orientation,h.orientation,e);if(!x)return null;var b=UMe(x,2),w=b[0],j=w.x,S=w.y,N=b[1],C=N.x,k=N.y,D=Ii(e,"hidden")?"url(#".concat(u,")"):void 0,R=J4(J4({clipPath:D},kt(e,!0)),{},{x1:j,y1:S,x2:C,y2:k});return H.createElement(An,{className:Et("recharts-reference-line",l)},HMe(o,R),Sr.renderCallByParent(e,aMe({x1:j,y1:S,x2:C,y2:k})))}var jA=function(e){function t(){return MMe(this,t),RMe(this,t,arguments)}return FMe(t,e),IMe(t,[{key:"render",value:function(){return H.createElement(KMe,this.props)}}])}(H.Component);wA(jA,"displayName","ReferenceLine");wA(jA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(this,arguments)}function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(r){Jw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IW(r.key),r)}}function XMe(e,t,n){return t&&JMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QMe(e,t,n){return t=qb(t),ZMe(e,DW()?Reflect.construct(t,n||[],qb(e).constructor):t.apply(e,n))}function ZMe(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eDe(e)}function eDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qb(e)}function tDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rk(e,t)}function Jw(e,t,n){return t=IW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=nDe(e,"string");return Ch(t)=="symbol"?t:t+""}function nDe(e,t){if(Ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rDe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=gA({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ii(t,"discard")&&!o.isInRange(l)?null:l},Xw=function(e){function t(){return YMe(this,t),QMe(this,t,arguments)}return tDe(t,e),XMe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=zn(a),d=zn(i);if(mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=rDe(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,p=g.shape,v=g.className,x=Ii(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=Z4(Z4({clipPath:x},kt(this.props,!0)),{},{cx:f,cy:m});return H.createElement(An,{className:Et("recharts-reference-dot",v)},t.renderDot(p,b),Sr.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(H.Component);Jw(Xw,"displayName","ReferenceDot");Jw(Xw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jw(Xw,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):bt(e)?n=e(t):n=H.createElement(pA,nk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sk.apply(this,arguments)}function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function t$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){Qw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$W(r.key),r)}}function iDe(e,t,n){return t&&aDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oDe(e,t,n){return t=Vb(t),lDe(e,RW()?Reflect.construct(t,n||[],Vb(e).constructor):t.apply(e,n))}function lDe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cDe(e)}function cDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vb(e)}function uDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ak(e,t)}function Qw(e,t,n){return t=$W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=dDe(e,"string");return kh(t)=="symbol"?t:t+""}function dDe(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hDe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=gA({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Ii(i,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:_W(m,g)},Zw=function(e){function t(){return sDe(this,t),oDe(this,t,arguments)}return uDe(t,e),iDe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;mo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=zn(a),f=zn(i),m=zn(o),g=zn(l),p=this.props.shape;if(!h&&!f&&!m&&!g&&!p)return null;var v=hDe(h,f,m,g,this.props);if(!v&&!p)return null;var x=Ii(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(An,{className:Et("recharts-reference-area",c)},t.renderRect(p,t$(t$({clipPath:x},kt(this.props,!0)),v)),Sr.renderCallByParent(this.props,v))}}])}(H.Component);Qw(Zw,"displayName","ReferenceArea");Qw(Zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qw(Zw,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):bt(e)?n=e(t):n=H.createElement(mA,sk({},t,{className:"recharts-reference-area-rect"})),n});function LW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function fDe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return oMe(r,n)}function mDe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Wb(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function pDe(e,t){return LW(e,t+1)}function gDe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:LW(r,u)};var p=c,v,x=function(){return v===void 0&&(v=n(g,p)),v},b=g.coordinate,w=c===0||Wb(e,b,x,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(x()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){vDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vDe(e,t,n){return t=xDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xDe(e){var t=yDe(e,"string");return lg(t)=="symbol"?t:t+""}function yDe(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bDe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],g,p=function(){return g===void 0&&(g=n(m,f)),g};if(f===o-1){var v=e*(m.coordinate+e*p()/2-c);i[f]=m=jr(jr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[f]=m=jr(jr({},m),{},{tickCoord:m.coordinate});var x=Wb(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),i[f]=jr(jr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function wDe(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=jr(jr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=Wb(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=jr(jr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(b){var w=o[b],j,S=function(){return j===void 0&&(j=n(w,b)),j};if(b===0){var N=e*(w.coordinate-e*S()/2-c);o[b]=w=jr(jr({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=jr(jr({},w),{},{tickCoord:w.coordinate});var C=Wb(e,w.tickCoord,S,c,u);C&&(c=w.tickCoord+e*(S()/2+a),o[b]=jr(jr({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function _A(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(Pe(c)||po.isSsr)return pDe(a,typeof c=="number"&&Pe(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?zm(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(w,j){var S=bt(u)?u(w.value,j):w.value;return m==="width"?fDe(zm(S,{fontSize:t,letterSpacing:n}),g,h):zm(S,{fontSize:t,letterSpacing:n})[m]},v=a.length>=2?Ha(a[1].coordinate-a[0].coordinate):1,x=mDe(i,v,m);return c==="equidistantPreserveStart"?gDe(v,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=wDe(v,x,p,a,o,c==="preserveStartEnd"):f=bDe(v,x,p,a,o),f.filter(function(b){return b.isShow}))}var jDe=["viewBox"],_De=["viewBox"],NDe=["ticks"];function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd.apply(this,arguments)}function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(r){NA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d1(e,t){if(e==null)return{};var n=SDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BW(r.key),r)}}function kDe(e,t,n){return t&&s$(e.prototype,t),n&&s$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EDe(e,t,n){return t=Hb(t),PDe(e,FW()?Reflect.construct(t,n||[],Hb(e).constructor):t.apply(e,n))}function PDe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ADe(e)}function ADe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(e)}function TDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}function ik(e,t){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ik(e,t)}function NA(e,t,n){return t=BW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=ODe(e,"string");return Eh(t)=="symbol"?t:t+""}function ODe(e,t){if(Eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yf=function(e){function t(n){var r;return CDe(this,t),r=EDe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return TDe(t,e),kDe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=d1(r,jDe),l=this.props,c=l.viewBox,u=d1(l,_De);return!kd(i,c)||!kd(o,u)||!kd(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,g,p,v,x,b,w=h?-1:1,j=r.tickSize||d,S=Pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,v=o+ +!h*c,p=v-w*j,b=p-w*f,x=S;break;case"left":p=v=r.coordinate,g=i+ +!h*l,m=g-w*j,x=m-w*f,b=S;break;case"right":p=v=r.coordinate,g=i+ +h*l,m=g+w*j,x=m+w*f,b=S;break;default:m=g=r.coordinate,v=o+ +h*c,p=v+w*j,b=p+w*f,x=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Lr(Lr(Lr({},kt(this.props,!1)),kt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Lr(Lr({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Lr(Lr({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return H.createElement("line",hd({},h,{className:Et("recharts-cartesian-axis-line",ma(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=_A(Lr(Lr({},this.props),{},{ticks:r}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=kt(this.props,!1),x=kt(d,!1),b=Lr(Lr({},v),{},{fill:"none"},kt(c,!1)),w=m.map(function(j,S){var N=o.getTickLineCoord(j),C=N.line,k=N.tick,D=Lr(Lr(Lr(Lr({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),k),{},{index:S,payload:j,visibleTicksCount:m.length,tickFormatter:h});return H.createElement(An,hd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Zy(o.props,j,S)),c&&H.createElement("line",hd({},b,C,{className:Et("recharts-cartesian-axis-tick-line",ma(c,"className"))})),d&&t.renderTickItem(d,D,"".concat(bt(h)?h(j.value,S):j.value).concat(f||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=d1(h,NDe),g=f;return bt(c)&&(g=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:H.createElement(An,{className:Et("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Sr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,a):bt(r)?o=r(a):o=H.createElement(mb,hd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);NA(yf,"displayName","CartesianAxis");NA(yf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var MDe=["x1","y1","x2","y2","key"],DDe=["offset"];function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function a$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(n),!0).forEach(function(r){IDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IDe(e,t,n){return t=RDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RDe(e){var t=$De(e,"string");return uu(t)=="symbol"?t:t+""}function $De(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oc.apply(this,arguments)}function i$(e,t){if(e==null)return{};var n=LDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var FDe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return H.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UW(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(bt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=i$(t,MDe),u=kt(c,!1);u.offset;var d=i$(u,DDe);n=H.createElement("line",Oc({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function BDe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Cr(Cr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return UW(a,u)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function UDe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Cr(Cr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return UW(a,u)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function zDe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?a+o-f:d[m+1]-f;if(p<=0)return null;var v=m%t.length;return H.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function qDe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?i+l-f:d[m+1]-f;if(p<=0)return null;var v=m%r.length;return H.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var VDe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return YV(_A(Cr(Cr(Cr({},yf.defaultProps),r),{},{ticks:oo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},WDe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return YV(_A(Cr(Cr(Cr({},yf.defaultProps),r),{},{ticks:oo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Gu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zW(e){var t,n,r,a,i,o,l=yA(),c=bA(),u=OMe(),d=Cr(Cr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Gu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Gu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Gu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gu.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=PMe(),w=AMe();if(!Pe(m)||m<=0||!Pe(g)||g<=0||!Pe(h)||h!==+h||!Pe(f)||f!==+f)return null;var j=d.verticalCoordinatesGenerator||VDe,S=d.horizontalCoordinatesGenerator||WDe,N=d.horizontalPoints,C=d.verticalPoints;if((!N||!N.length)&&bt(S)){var k=v&&v.length,D=S({yAxis:w?Cr(Cr({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);mo(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uu(D),"]")),Array.isArray(D)&&(N=D)}if((!C||!C.length)&&bt(j)){var R=x&&x.length,E=j({xAxis:b?Cr(Cr({},b),{},{ticks:R?x:b.ticks}):void 0,width:l,height:c,offset:u},R?!0:p);mo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uu(E),"]")),Array.isArray(E)&&(C=E)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(FDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),H.createElement(BDe,Oc({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:w})),H.createElement(UDe,Oc({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:w})),H.createElement(zDe,Oc({},d,{horizontalPoints:N})),H.createElement(qDe,Oc({},d,{verticalPoints:C})))}zW.displayName="CartesianGrid";var HDe=["type","layout","connectNulls","ref"],GDe=["key"];function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function o$(e,t){if(e==null)return{};var n=KDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hm.apply(this,arguments)}function l$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(n),!0).forEach(function(r){Ba(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ku(e){return QDe(e)||XDe(e)||JDe(e)||YDe()}function YDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JDe(e,t){if(e){if(typeof e=="string")return ok(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ok(e,t)}}function XDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QDe(e){if(Array.isArray(e))return ok(e)}function ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VW(r.key),r)}}function eIe(e,t,n){return t&&c$(e.prototype,t),n&&c$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tIe(e,t,n){return t=Gb(t),nIe(e,qW()?Reflect.construct(t,n||[],Gb(e).constructor):t.apply(e,n))}function nIe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rIe(e)}function rIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(e)}function sIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lk(e,t)}function Ba(e,t,n){return t=VW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=aIe(e,"string");return Ph(t)=="symbol"?t:t+""}function aIe(e,t){if(Ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bf=function(e){function t(){var n;ZDe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=tIe(this,t,[].concat(a)),Ba(n,"state",{isAnimationFinished:!0,totalLength:0}),Ba(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ba(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>h){m=[].concat(Ku(c.slice(0,g)),[h-p]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(Ku(t.repeat(c,d)),Ku(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Ba(n,"id",Xg("recharts-line-")),Ba(n,"pathRef",function(o){n.mainCurve=o}),Ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sIe(t,e),eIe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=pa(d,rv);if(!h)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Vs(p.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return H.createElement(An,m,h.map(function(g){return H.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=kt(this.props,!1),f=kt(c,!0),m=u.map(function(p,v){var x=Cs(Cs(Cs({key:"dot-".concat(v),r:3},h),f),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:v,payload:p.payload});return t.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return H.createElement(An,Hm({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=o$(l,HDe),f=Cs(Cs(Cs({},kt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return H.createElement(FC,Hm({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,x=this.state,b=x.prevPoints,w=x.totalLength;return H.createElement(Eo,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var S=j.t;if(b){var N=b.length/l.length,C=l.map(function(B,F){var L=Math.floor(F*N);if(b[L]){var I=b[L],O=qa(I.x,B.x),$=qa(I.y,B.y);return Cs(Cs({},B),{},{x:O(S),y:$(S)})}if(g){var T=qa(p*2,B.x),U=qa(v/2,B.y);return Cs(Cs({},B),{},{x:T(S),y:U(S)})}return Cs(Cs({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(C,r,a)}var k=qa(0,w),D=k(S),R;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});R=i.getStrokeDasharray(D,w,E)}else R=i.generateSimpleStrokeDasharray(w,D);return i.renderCurveStatically(l,r,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Vw(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,w=Et("recharts-line",c),j=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=j||S,C=jt(v)?this.id:v,k=(r=kt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=k.r,R=D===void 0?3:D,E=k.strokeWidth,B=E===void 0?2:E,F=Ape(o)?o:{},L=F.clipDot,I=L===void 0?!0:L,O=R*2+B;return H.createElement(An,{className:w},j||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(C)},H.createElement("rect",{x:j?f:f-m/2,y:S?h:h-g/2,width:j?m:m*2,height:S?g:g*2})),!I&&H.createElement("clipPath",{id:"clipPath-dots-".concat(C)},H.createElement("rect",{x:f-O/2,y:h-O/2,width:m+O,height:g+O}))):null,!b&&this.renderCurve(N,C),this.renderErrorBar(N,C),(b||o)&&this.renderDots(N,I,C),(!p||x)&&Tl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Ku(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(Ku(o),Ku(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(H.isValidElement(r))i=H.cloneElement(r,a);else if(bt(r))i=r(a);else{var o=a.key,l=o$(a,GDe),c=Et("recharts-line-dot",typeof r!="boolean"?r.className:"");i=H.createElement(pA,Hm({key:o},l,{className:c}))}return i}}])}(y.PureComponent);Ba(bf,"displayName","Line");Ba(bf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!po.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(bf,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var g=Vs(f,o);return d==="horizontal"?{x:qR({axis:n,ticks:a,bandSize:l,entry:f,index:m}),y:jt(g)?null:r.scale(g),value:g,payload:f}:{x:jt(g)?null:n.scale(g),y:qR({axis:r,ticks:i,bandSize:l,entry:f,index:m}),value:g,payload:f}});return Cs({points:h,layout:d},u)});function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function iIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GW(r.key),r)}}function lIe(e,t,n){return t&&oIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e,t,n){return t=Kb(t),uIe(e,WW()?Reflect.construct(t,n||[],Kb(e).constructor):t.apply(e,n))}function uIe(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(e)}function dIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kb(e)}function hIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ck(e,t)}function HW(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=fIe(e,"string");return Ah(t)=="symbol"?t:t+""}function fIe(e,t){if(Ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(this,arguments)}function mIe(e){var t=e.xAxisId,n=yA(),r=bA(),a=AW(t);return a==null?null:H.createElement(yf,uk({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return oo(o,!0)}}))}var du=function(e){function t(){return iIe(this,t),cIe(this,t,arguments)}return hIe(t,e),lIe(t,[{key:"render",value:function(){return H.createElement(mIe,this.props)}}])}(H.Component);HW(du,"displayName","XAxis");HW(du,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function pIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JW(r.key),r)}}function vIe(e,t,n){return t&&gIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xIe(e,t,n){return t=Yb(t),yIe(e,KW()?Reflect.construct(t,n||[],Yb(e).constructor):t.apply(e,n))}function yIe(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bIe(e)}function bIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function wIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dk(e,t)}function YW(e,t,n){return t=JW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=jIe(e,"string");return Th(t)=="symbol"?t:t+""}function jIe(e,t){if(Th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hk.apply(this,arguments)}var _Ie=function(t){var n=t.yAxisId,r=yA(),a=bA(),i=TW(n);return i==null?null:H.createElement(yf,hk({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return oo(l,!0)}}))},hu=function(e){function t(){return pIe(this,t),xIe(this,t,arguments)}return wIe(t,e),vIe(t,[{key:"render",value:function(){return H.createElement(_Ie,this.props)}}])}(H.Component);YW(hu,"displayName","YAxis");YW(hu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function u$(e){return kIe(e)||CIe(e)||SIe(e)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SIe(e,t){if(e){if(typeof e=="string")return fk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(e,t)}}function CIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kIe(e){if(Array.isArray(e))return fk(e)}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mk=function(t,n,r,a,i){var o=pa(t,jA),l=pa(t,Xw),c=[].concat(u$(o),u$(l)),u=pa(t,Zw),d="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(p,v){if(v.props[d]===r&&Ii(v.props,"extendDomain")&&Pe(v.props[h])){var x=v.props[h];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},f)),u.length){var m="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(p,v){if(v.props[d]===r&&Ii(v.props,"extendDomain")&&Pe(v.props[m])&&Pe(v.props[g])){var x=v.props[m],b=v.props[g];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,v){return Pe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},XW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,S;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,h);break;case 4:v[w].fn.call(v[w].context,d,h,f);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||f&&!g[p].once||h&&g[p].context!==h)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(XW);var EIe=XW.exports;const PIe=Bt(EIe);var h1=new PIe,f1="recharts.syncMouseEvents";function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function AIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QW(r.key),r)}}function OIe(e,t,n){return t&&TIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m1(e,t,n){return t=QW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=MIe(e,"string");return cg(t)=="symbol"?t:t+""}function MIe(e,t){if(cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DIe=function(){function e(){AIe(this,e),m1(this,"activeIndex",0),m1(this,"coordinateList",[]),m1(this,"layout","horizontal")}return OIe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function IIe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Pe(r)&&Pe(a))return!0}return!1}function RIe(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ZW(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=lr(t,n,r,a),l=lr(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function $Ie(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=lr(l,c,u,h),m=lr(l,c,d,h);r=f.x,a=f.y,i=m.x,o=m.y}else return ZW(t);return[{x:r,y:a},{x:i,y:o}]}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){LIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LIe(e,t,n){return t=FIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FIe(e){var t=BIe(e,"string");return ug(t)=="symbol"?t:t+""}function BIe(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UIe(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var g,p=FC;if(f==="ScatterChart")g=o,p=UAe;else if(f==="BarChart")g=RIe(h,o,c,d),p=mA;else if(h==="radial"){var v=ZW(o),x=v.cx,b=v.cy,w=v.radius,j=v.startAngle,S=v.endAngle;g={cx:x,cy:b,startAngle:j,endAngle:S,innerRadius:w,outerRadius:w},p=eW}else g={points:$Ie(h,o,c)},p=FC;var N=mx(mx(mx(mx({stroke:"#ccc",pointerEvents:"none"},c),g),kt(m,!1)),{},{payload:l,payloadIndex:u,className:Et("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,N):y.createElement(p,N)}var zIe=["item"],qIe=["children","className","width","height","style","compact","title","desc"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gm.apply(this,arguments)}function h$(e,t){return HIe(e)||WIe(e,t)||t9(e,t)||VIe()}function VIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HIe(e){if(Array.isArray(e))return e}function f$(e,t){if(e==null)return{};var n=GIe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n9(r.key),r)}}function JIe(e,t,n){return t&&YIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XIe(e,t,n){return t=Jb(t),QIe(e,e9()?Reflect.construct(t,n||[],Jb(e).constructor):t.apply(e,n))}function QIe(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZIe(e)}function ZIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(e)}function eRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pk(e,t)}function Mh(e){return rRe(e)||nRe(e)||t9(e)||tRe()}function tRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t9(e,t){if(e){if(typeof e=="string")return gk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(e,t)}}function nRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rRe(e){if(Array.isArray(e))return gk(e)}function gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){Xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xe(e,t,n){return t=n9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9(e){var t=sRe(e,"string");return Oh(t)=="symbol"?t:t+""}function sRe(e,t){if(Oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aRe={xAxis:["bottom","top"],yAxis:["left","right"]},iRe={width:"100%",height:"100%"},r9={x:0,y:0};function px(e){return e}var oRe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},lRe=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return fe(fe(fe({},a),lr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return fe(fe(fe({},a),lr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return r9},ej=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Mh(l),Mh(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(a)&&Pe(i)?t.slice(a,i+1):[]};function s9(e){return e==="number"?[0,"auto"]:void 0}var vk=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=ej(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Xy(m,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(Mh(c),[XV(u,f)]):c},[])},p$=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=oRe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=MEe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=vk(t,n,d,h),m=lRe(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},cRe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=KV(d,i);return r.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?fe(fe({},p.type.defaultProps),p.props):p.props,b=x.type,w=x.dataKey,j=x.allowDataOverflow,S=x.allowDuplicatedCategory,N=x.scale,C=x.ticks,k=x.includeHidden,D=x[o];if(g[D])return g;var R=ej(t.data,{graphicalItems:a.filter(function(ee){var _,A=o in ee.props?ee.props[o]:(_=ee.type.defaultProps)===null||_===void 0?void 0:_[o];return A===D}),dataStartIndex:c,dataEndIndex:u}),E=R.length,B,F,L;IIe(x.domain,j,b)&&(B=DC(x.domain,null,j),m&&(b==="number"||N!=="auto")&&(L=Vm(R,w,"category")));var I=s9(b);if(!B||B.length===0){var O,$=(O=x.domain)!==null&&O!==void 0?O:I;if(w){if(B=Vm(R,w,b),b==="category"&&m){var T=wpe(B);S&&T?(F=B,B=$b(0,E)):S||(B=GR($,B,p).reduce(function(ee,_){return ee.indexOf(_)>=0?ee:[].concat(Mh(ee),[_])},[]))}else if(b==="category")S?B=B.filter(function(ee){return ee!==""&&!jt(ee)}):B=GR($,B,p).reduce(function(ee,_){return ee.indexOf(_)>=0||_===""||jt(_)?ee:[].concat(Mh(ee),[_])},[]);else if(b==="number"){var U=LEe(R,a.filter(function(ee){var _,A,P=o in ee.props?ee.props[o]:(_=ee.type.defaultProps)===null||_===void 0?void 0:_[o],z="hide"in ee.props?ee.props.hide:(A=ee.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===D&&(k||!z)}),w,i,d);U&&(B=U)}m&&(b==="number"||N!=="auto")&&(L=Vm(R,w,"category"))}else m?B=$b(0,E):l&&l[D]&&l[D].hasStack&&b==="number"?B=f==="expand"?[0,1]:JV(l[D].stackGroups,c,u):B=GV(R,a.filter(function(ee){var _=o in ee.props?ee.props[o]:ee.type.defaultProps[o],A="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return _===D&&(k||!A)}),b,d,!0);if(b==="number")B=mk(h,B,D,i,C),$&&(B=DC($,B,j));else if(b==="category"&&$){var M=$,Y=B.every(function(ee){return M.indexOf(ee)>=0});Y&&(B=M)}}return fe(fe({},g),{},Xe({},D,fe(fe({},x),{},{axisType:i,domain:B,categoricalDomain:L,duplicateDomain:F,originalDomain:(v=x.domain)!==null&&v!==void 0?v:I,isCategorical:m,layout:d})))},{})},uRe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=ej(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=KV(d,i),p=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?fe(fe({},x.type.defaultProps),x.props):x.props,w=b[o],j=s9("number");if(!v[w]){p++;var S;return g?S=$b(0,m):l&&l[w]&&l[w].hasStack?(S=JV(l[w].stackGroups,c,u),S=mk(h,S,w,i)):(S=DC(j,GV(f,r.filter(function(N){var C,k,D=o in N.props?N.props[o]:(C=N.type.defaultProps)===null||C===void 0?void 0:C[o],R="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return D===w&&!R}),"number",d),a.defaultProps.allowDataOverflow),S=mk(h,S,w,i)),fe(fe({},v),{},Xe({},w,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:ma(aRe,"".concat(i,".").concat(p%2),null),domain:S,originalDomain:j,isCategorical:g,layout:d})))}return v},{})},dRe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=pa(d,i),m={};return f&&f.length?m=cRe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=uRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},hRe=function(t){var n=ol(t),r=oo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:U2(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Eb(n,r)}},g$=function(t){var n=t.children,r=t.defaultShowTooltip,a=Os(n,_h),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},fRe=function(t){return!t||!t.length?!1:t.some(function(n){var r=fo(n&&n.type);return r&&r.indexOf("Bar")>=0})},v$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mRe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=Os(h,_h),g=Os(h,Ed),p=Object.keys(c).reduce(function(S,N){var C=c[N],k=C.orientation;return!C.mirror&&!C.hide?fe(fe({},S),{},Xe({},k,S[k]+C.width)):S},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(S,N){var C=o[N],k=C.orientation;return!C.mirror&&!C.hide?fe(fe({},S),{},Xe({},k,ma(S,"".concat(k))+C.height)):S},{top:f.top||0,bottom:f.bottom||0}),x=fe(fe({},v),p),b=x.bottom;m&&(x.bottom+=m.props.height||_h.defaultProps.height),g&&n&&(x=REe(x,a,r,n));var w=u-x.left-x.right,j=d-x.top-x.bottom;return fe(fe({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(j,0)})},pRe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},a9=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(v,x){var b=x.graphicalItems,w=x.stackGroups,j=x.offset,S=x.updateId,N=x.dataStartIndex,C=x.dataEndIndex,k=v.barSize,D=v.layout,R=v.barGap,E=v.barCategoryGap,B=v.maxBarSize,F=v$(D),L=F.numericAxisName,I=F.cateAxisName,O=fRe(b),$=[];return b.forEach(function(T,U){var M=ej(v.data,{graphicalItems:[T],dataStartIndex:N,dataEndIndex:C}),Y=T.type.defaultProps!==void 0?fe(fe({},T.type.defaultProps),T.props):T.props,ee=Y.dataKey,_=Y.maxBarSize,A=Y["".concat(L,"Id")],P=Y["".concat(I,"Id")],z={},V=c.reduce(function(it,he){var ge=x["".concat(he.axisType,"Map")],ae=Y["".concat(he.axisType,"Id")];ge&&ge[ae]||he.axisType==="zAxis"||cu();var Ne=ge[ae];return fe(fe({},it),{},Xe(Xe({},he.axisType,Ne),"".concat(he.axisType,"Ticks"),oo(Ne)))},z),te=V[I],Z=V["".concat(I,"Ticks")],q=w&&w[A]&&w[A].hasStack&&JEe(T,w[A].stackGroups),Q=fo(T.type).indexOf("Bar")>=0,ne=Eb(te,Z),pe=[],Se=O&&DEe({barSize:k,stackGroups:w,totalSize:pRe(V,I)});if(Q){var qe,Ve,We=jt(_)?B:_,st=(qe=(Ve=Eb(te,Z,!0))!==null&&Ve!==void 0?Ve:We)!==null&&qe!==void 0?qe:0;pe=IEe({barGap:R,barCategoryGap:E,bandSize:st!==ne?st:ne,sizeList:Se[P],maxBarSize:We}),st!==ne&&(pe=pe.map(function(it){return fe(fe({},it),{},{position:fe(fe({},it.position),{},{offset:it.position.offset-st/2})})}))}var Ke=T&&T.type&&T.type.getComposedData;Ke&&$.push({props:fe(fe({},Ke(fe(fe({},V),{},{displayedData:M,props:v,dataKey:ee,item:T,bandSize:ne,barPosition:pe,offset:j,stackedData:q,layout:D,dataStartIndex:N,dataEndIndex:C}))),{},Xe(Xe(Xe({key:T.key||"item-".concat(U)},L,V[L]),I,V[I]),"animationId",S)),childIndex:Mpe(T,v.children),item:T})}),$},m=function(v,x){var b=v.props,w=v.dataStartIndex,j=v.dataEndIndex,S=v.updateId;if(!BD({props:b}))return null;var N=b.children,C=b.layout,k=b.stackOffset,D=b.data,R=b.reverseStackOrder,E=v$(C),B=E.numericAxisName,F=E.cateAxisName,L=pa(N,r),I=GEe(D,L,"".concat(B,"Id"),"".concat(F,"Id"),k,R),O=c.reduce(function(Y,ee){var _="".concat(ee.axisType,"Map");return fe(fe({},Y),{},Xe({},_,dRe(b,fe(fe({},ee),{},{graphicalItems:L,stackGroups:ee.axisType===B&&I,dataStartIndex:w,dataEndIndex:j}))))},{}),$=mRe(fe(fe({},O),{},{props:b,graphicalItems:L}),x==null?void 0:x.legendBBox);Object.keys(O).forEach(function(Y){O[Y]=d(b,O[Y],$,Y.replace("Map",""),n)});var T=O["".concat(F,"Map")],U=hRe(T),M=f(b,fe(fe({},O),{},{dataStartIndex:w,dataEndIndex:j,updateId:S,graphicalItems:L,stackGroups:I,offset:$}));return fe(fe({formattedGraphicalItems:M,graphicalItems:L,offset:$,stackGroups:I},U),O)},g=function(p){function v(x){var b,w,j;return KIe(this,v),j=XIe(this,v,[x]),Xe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(j,"accessibilityManager",new DIe),Xe(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,C=N.dataStartIndex,k=N.dataEndIndex,D=N.updateId;j.setState(fe({legendBBox:S},m({props:j.props,dataStartIndex:C,dataEndIndex:k,updateId:D},fe(fe({},j.state),{},{legendBBox:S}))))}}),Xe(j,"handleReceiveSyncEvent",function(S,N,C){if(j.props.syncId===S){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Xe(j,"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return fe({dataStartIndex:N,dataEndIndex:C},m({props:j.props,dataStartIndex:N,dataEndIndex:C,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Xe(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var C=fe(fe({},N),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseEnter;bt(k)&&k(C,S)}}),Xe(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),C=N?fe(fe({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var k=j.props.onMouseMove;bt(k)&&k(C,S)}),Xe(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Xe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Xe(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Xe(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var C=j.props.onMouseLeave;bt(C)&&C(N,S)}),Xe(j,"handleOuterEvent",function(S){var N=Ope(S),C=ma(j.props,"".concat(N));if(N&&bt(C)){var k,D;/.*touch.*/i.test(N)?D=j.getMouseInfo(S.changedTouches[0]):D=j.getMouseInfo(S),C((k=D)!==null&&k!==void 0?k:{},S)}}),Xe(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var C=fe(fe({},N),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var k=j.props.onClick;bt(k)&&k(C,S)}}),Xe(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(bt(N)){var C=j.getMouseInfo(S);N(C,S)}}),Xe(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(bt(N)){var C=j.getMouseInfo(S);N(C,S)}}),Xe(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Xe(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Xe(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Xe(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&h1.emit(f1,j.props.syncId,S,j.eventEmitterSymbol)}),Xe(j,"applySyncEvent",function(S){var N=j.props,C=N.layout,k=N.syncMethod,D=j.state.updateId,R=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(fe({dataStartIndex:R,dataEndIndex:E},m({props:j.props,dataStartIndex:R,dataEndIndex:E,updateId:D},j.state)));else if(S.activeTooltipIndex!==void 0){var B=S.chartX,F=S.chartY,L=S.activeTooltipIndex,I=j.state,O=I.offset,$=I.tooltipTicks;if(!O)return;if(typeof k=="function")L=k($,S);else if(k==="value"){L=-1;for(var T=0;T<$.length;T++)if($[T].value===S.activeLabel){L=T;break}}var U=fe(fe({},O),{},{x:O.left,y:O.top}),M=Math.min(B,U.x+U.width),Y=Math.min(F,U.y+U.height),ee=$[L]&&$[L].value,_=vk(j.state,j.props.data,L),A=$[L]?{x:C==="horizontal"?$[L].coordinate:M,y:C==="horizontal"?Y:$[L].coordinate}:r9;j.setState(fe(fe({},S),{},{activeLabel:ee,activeCoordinate:A,activePayload:_,activeTooltipIndex:L}))}else j.setState(S)}),Xe(j,"renderCursor",function(S){var N,C=j.state,k=C.isTooltipActive,D=C.activeCoordinate,R=C.activePayload,E=C.offset,B=C.activeTooltipIndex,F=C.tooltipAxisBandSize,L=j.getTooltipEventType(),I=(N=S.props.active)!==null&&N!==void 0?N:k,O=j.props.layout,$=S.key||"_recharts-cursor";return H.createElement(UIe,{key:$,activeCoordinate:D,activePayload:R,activeTooltipIndex:B,chartName:n,element:S,isActive:I,layout:O,offset:E,tooltipAxisBandSize:F,tooltipEventType:L})}),Xe(j,"renderPolarAxis",function(S,N,C){var k=ma(S,"type.axisType"),D=ma(j.state,"".concat(k,"Map")),R=S.type.defaultProps,E=R!==void 0?fe(fe({},R),S.props):S.props,B=D&&D[E["".concat(k,"Id")]];return y.cloneElement(S,fe(fe({},B),{},{className:Et(k,B.className),key:S.key||"".concat(N,"-").concat(C),ticks:oo(B,!0)}))}),Xe(j,"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,k=N.polarAngles,D=N.polarRadius,R=j.state,E=R.radiusAxisMap,B=R.angleAxisMap,F=ol(E),L=ol(B),I=L.cx,O=L.cy,$=L.innerRadius,T=L.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(k)?k:oo(L,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(D)?D:oo(F,!0).map(function(U){return U.coordinate}),cx:I,cy:O,innerRadius:$,outerRadius:T,key:S.key||"polar-grid",radialLines:C})}),Xe(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,C=N.children,k=N.width,D=N.height,R=j.props.margin||{},E=k-(R.left||0)-(R.right||0),B=WV({children:C,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!B)return null;var F=B.item,L=f$(B,zIe);return y.cloneElement(F,fe(fe({},L),{},{chartWidth:k,chartHeight:D,margin:R,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Xe(j,"renderTooltip",function(){var S,N=j.props,C=N.children,k=N.accessibilityLayer,D=Os(C,La);if(!D)return null;var R=j.state,E=R.isTooltipActive,B=R.activeCoordinate,F=R.activePayload,L=R.activeLabel,I=R.offset,O=(S=D.props.active)!==null&&S!==void 0?S:E;return y.cloneElement(D,{viewBox:fe(fe({},I),{},{x:I.left,y:I.top}),active:O,label:L,payload:O?F:[],coordinate:B,accessibilityLayer:k})}),Xe(j,"renderBrush",function(S){var N=j.props,C=N.margin,k=N.data,D=j.state,R=D.offset,E=D.dataStartIndex,B=D.dataEndIndex,F=D.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ux(j.handleBrushChange,S.props.onChange),data:k,x:Pe(S.props.x)?S.props.x:R.left,y:Pe(S.props.y)?S.props.y:R.top+R.height+R.brushBottom-(C.bottom||0),width:Pe(S.props.width)?S.props.width:R.width,startIndex:E,endIndex:B,updateId:"brush-".concat(F)})}),Xe(j,"renderReferenceElement",function(S,N,C){if(!S)return null;var k=j,D=k.clipPathId,R=j.state,E=R.xAxisMap,B=R.yAxisMap,F=R.offset,L=S.type.defaultProps||{},I=S.props,O=I.xAxisId,$=O===void 0?L.xAxisId:O,T=I.yAxisId,U=T===void 0?L.yAxisId:T;return y.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:E[$],yAxis:B[U],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:D})}),Xe(j,"renderActivePoints",function(S){var N=S.item,C=S.activePoint,k=S.basePoint,D=S.childIndex,R=S.isRange,E=[],B=N.props.key,F=N.item.type.defaultProps!==void 0?fe(fe({},N.item.type.defaultProps),N.item.props):N.item.props,L=F.activeDot,I=F.dataKey,O=fe(fe({index:D,dataKey:I,cx:C.x,cy:C.y,r:4,fill:fA(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},kt(L,!1)),Qy(L));return E.push(v.renderActiveDot(L,O,"".concat(B,"-activePoint-").concat(D))),k?E.push(v.renderActiveDot(L,fe(fe({},O),{},{cx:k.x,cy:k.y}),"".concat(B,"-basePoint-").concat(D))):R&&E.push(null),E}),Xe(j,"renderGraphicChild",function(S,N,C){var k=j.filterFormatItem(S,N,C);if(!k)return null;var D=j.getTooltipEventType(),R=j.state,E=R.isTooltipActive,B=R.tooltipAxis,F=R.activeTooltipIndex,L=R.activeLabel,I=j.props.children,O=Os(I,La),$=k.props,T=$.points,U=$.isRange,M=$.baseLine,Y=k.item.type.defaultProps!==void 0?fe(fe({},k.item.type.defaultProps),k.item.props):k.item.props,ee=Y.activeDot,_=Y.hide,A=Y.activeBar,P=Y.activeShape,z=!!(!_&&E&&O&&(ee||A||P)),V={};D!=="axis"&&O&&O.props.trigger==="click"?V={onClick:ux(j.handleItemMouseEnter,S.props.onClick)}:D!=="axis"&&(V={onMouseLeave:ux(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ux(j.handleItemMouseEnter,S.props.onMouseEnter)});var te=y.cloneElement(S,fe(fe({},k.props),V));function Z(he){return typeof B.dataKey=="function"?B.dataKey(he.payload):null}if(z)if(F>=0){var q,Q;if(B.dataKey&&!B.allowDuplicatedCategory){var ne=typeof B.dataKey=="function"?Z:"payload.".concat(B.dataKey.toString());q=Xy(T,ne,L),Q=U&&M&&Xy(M,ne,L)}else q=T==null?void 0:T[F],Q=U&&M&&M[F];if(P||A){var pe=S.props.activeIndex!==void 0?S.props.activeIndex:F;return[y.cloneElement(S,fe(fe(fe({},k.props),V),{},{activeIndex:pe})),null,null]}if(!jt(q))return[te].concat(Mh(j.renderActivePoints({item:k,activePoint:q,basePoint:Q,childIndex:F,isRange:U})))}else{var Se,qe=(Se=j.getItemByXY(j.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:te},Ve=qe.graphicalItem,We=Ve.item,st=We===void 0?S:We,Ke=Ve.childIndex,it=fe(fe(fe({},k.props),V),{},{activeIndex:Ke});return[y.cloneElement(st,it),null,null]}return U?[te,null,null]:[te,null]}),Xe(j,"renderCustomized",function(S,N,C){return y.cloneElement(S,fe(fe({key:"recharts-customized-".concat(C)},j.props),j.state))}),Xe(j,"renderMap",{CartesianGrid:{handler:px,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:px},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:px},YAxis:{handler:px},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Xg("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Vq(j.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return eRe(v,p),JIe(v,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,S=b.height,N=b.layout,C=Os(w,La);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,R=vk(this.state,j,k,D),E=this.state.tooltipTicks[k].coordinate,B=(this.state.offset.top+S)/2,F=N==="horizontal",L=F?{x:E,y:B}:{y:E,x:B},I=this.state.formattedGraphicalItems.find(function($){var T=$.item;return T.type.name==="Scatter"});I&&(L=fe(fe({},L),I.props.points[k].tooltipPosition),R=I.props.points[k].tooltipPayload);var O={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:R,activeCoordinate:L};this.setState(O),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){YS([Os(b.children,La)],[Os(this.props.children,La)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Os(this.props.children,La);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),S=aNe(j),N={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},C=j.width/w.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,C);if(!k)return null;var D=this.state,R=D.xAxisMap,E=D.yAxisMap,B=this.getTooltipEventType();if(B!=="axis"&&R&&E){var F=ol(R).scale,L=ol(E).scale,I=F&&F.invert?F.invert(N.chartX):null,O=L&&L.invert?L.invert(N.chartY):null;return fe(fe({},N),{},{xValue:I,yValue:O})}var $=p$(this.state,this.props.data,this.props.layout,k);return $?fe(fe({},N),$):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=b/j,C=w/j;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,D=N>=k.left&&N<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return D?{x:N,y:C}:null}var R=this.state,E=R.angleAxisMap,B=R.radiusAxisMap;if(E&&B){var F=ol(E);return JR({x:N,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=Os(b,La),S={};j&&w==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var N=Qy(this.props,this.handleOuterEvent);return fe(fe({},N),S)}},{key:"addListener",value:function(){h1.on(f1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){h1.removeListener(f1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var k=S[N];if(k.item===b||k.props.key===b.key||w===fo(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,S=w.top,N=w.height,C=w.width;return H.createElement("defs",null,H.createElement("clipPath",{id:b},H.createElement("rect",{x:j,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var S=h$(j,2),N=S[0],C=S[1];return fe(fe({},w),{},Xe({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var S=h$(j,2),N=S[0],C=S[1];return fe(fe({},w),{},Xe({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,S=w.activeItem;if(j&&j.length)for(var N=0,C=j.length;N<C;N++){var k=j[N],D=k.props,R=k.item,E=R.type.defaultProps!==void 0?fe(fe({},R.type.defaultProps),R.props):R.props,B=fo(R.type);if(B==="Bar"){var F=(D.data||[]).find(function($){return TAe(b,$)});if(F)return{graphicalItem:k,payload:F}}else if(B==="RadialBar"){var L=(D.data||[]).find(function($){return JR(b,$)});if(L)return{graphicalItem:k,payload:L}}else if(Gw(k,S)||Kw(k,S)||sg(k,S)){var I=DTe({graphicalItem:k,activeTooltipItem:S,itemData:E.data}),O=E.activeIndex===void 0?I:E.activeIndex;return{graphicalItem:fe(fe({},k),{},{childIndex:O}),payload:sg(k,S)?E.data[I]:k.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!BD(this))return null;var w=this.props,j=w.children,S=w.className,N=w.width,C=w.height,k=w.style,D=w.compact,R=w.title,E=w.desc,B=f$(w,qIe),F=kt(B,!1);if(D)return H.createElement(K4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(XS,Gm({},F,{width:N,height:C,title:R,desc:E}),this.renderClipPath(),zD(j,this.renderMap)));if(this.props.accessibilityLayer){var L,I;F.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,F.role=(I=this.props.role)!==null&&I!==void 0?I:"application",F.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},F.onFocus=function(){b.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return H.createElement(K4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Gm({className:Et("recharts-wrapper",S),style:fe({position:"relative",cursor:"default",width:N,height:C},k)},O,{ref:function(T){b.container=T}}),H.createElement(XS,Gm({},F,{width:N,height:C,title:R,desc:E,style:iRe}),this.renderClipPath(),zD(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);return Xe(g,"displayName",n),Xe(g,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Xe(g,"getDerivedStateFromProps",function(p,v){var x=p.dataKey,b=p.data,w=p.children,j=p.width,S=p.height,N=p.layout,C=p.stackOffset,k=p.margin,D=v.dataStartIndex,R=v.dataEndIndex;if(v.updateId===void 0){var E=g$(p);return fe(fe(fe({},E),{},{updateId:0},m(fe(fe({props:p},E),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:w})}if(x!==v.prevDataKey||b!==v.prevData||j!==v.prevWidth||S!==v.prevHeight||N!==v.prevLayout||C!==v.prevStackOffset||!kd(k,v.prevMargin)){var B=g$(p),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},L=fe(fe({},p$(v,b,N)),{},{updateId:v.updateId+1}),I=fe(fe(fe({},B),F),L);return fe(fe(fe({},I),m(fe({props:p},I),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:w})}if(!YS(w,v.prevChildren)){var O,$,T,U,M=Os(w,_h),Y=M&&(O=($=M.props)===null||$===void 0?void 0:$.startIndex)!==null&&O!==void 0?O:D,ee=M&&(T=(U=M.props)===null||U===void 0?void 0:U.endIndex)!==null&&T!==void 0?T:R,_=Y!==D||ee!==R,A=!jt(b),P=A&&!_?v.updateId:v.updateId+1;return fe(fe({updateId:P},m(fe(fe({props:p},v),{},{updateId:P,dataStartIndex:Y,dataEndIndex:ee}),v)),{},{prevChildren:w,dataStartIndex:Y,dataEndIndex:ee})}return null}),Xe(g,"renderActiveDot",function(p,v,x){var b;return y.isValidElement(p)?b=y.cloneElement(p,v):bt(p)?b=p(v):b=H.createElement(pA,v),H.createElement(An,{className:"recharts-active-dot",key:x},b)}),function(v){return H.createElement(g,v)}},i9=a9({chartName:"LineChart",GraphicalChild:bf,axisComponents:[{axisType:"xAxis",AxisComp:du},{axisType:"yAxis",AxisComp:hu}],formatAxisMap:jW}),gRe=a9({chartName:"BarChart",GraphicalChild:zl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:du},{axisType:"yAxis",AxisComp:hu}],formatAxisMap:jW});const vRe={light:"",dark:".dark"},o9=y.createContext(null);function l9(){const e=y.useContext(o9);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const xk=y.forwardRef(({id:e,className:t,children:n,config:r,...a},i)=>{const o=y.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(o9.Provider,{value:{config:r},children:s.jsxs("div",{"data-chart":l,ref:i,className:me("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(xRe,{id:l,config:r}),s.jsx(hb,{children:n})]})})});xk.displayName="Chart";const xRe=({id:e,config:t})=>{const n=Object.entries(t).filter(([r,a])=>a.theme||a.color);return n.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(vRe).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},x$=La,yk=y.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:g}=l9(),p=y.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[x]=t,b=`${f||x.dataKey||x.name||"value"}`,w=bk(g,x,b),j=!f&&typeof o=="string"?((S=g[o])==null?void 0:S.label)||o:w==null?void 0:w.label;return l?s.jsx("div",{className:me("font-medium",c),children:l(j,t)}):j?s.jsx("div",{className:me("font-medium",c),children:j}):null},[o,l,t,a,c,g,f]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&r!=="dot";return s.jsxs("div",{ref:m,className:me("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${h||x.name||x.dataKey||"value"}`,j=bk(g,x,w),S=d||x.payload.fill||x.color;return s.jsx("div",{className:me("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):s.jsxs(s.Fragment,{children:[j!=null&&j.icon?s.jsx(j.icon,{}):!i&&s.jsx("div",{className:me("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":v&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),s.jsxs("div",{className:me("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,s.jsx("span",{className:"text-muted-foreground",children:(j==null?void 0:j.label)||x.name})]}),x.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});yk.displayName="ChartTooltip";const yRe=y.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:a},i)=>{const{config:o}=l9();return n!=null&&n.length?s.jsx("div",{ref:i,className:me("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,u=bk(o,l,c);return s.jsxs("div",{className:me("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});yRe.displayName="ChartLegend";function bk(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:r&&n in r&&typeof r[n]=="string"&&(a=r[n]),a in e?e[a]:e[n]}function bRe({chatbotId:e}){var o;const[t,n]=y.useState({totalConversations:0,totalMessages:0,avgMessagesPerConversation:0,dailyStats:[],hourlyStats:[]}),[r,a]=y.useState(!0);y.useEffect(()=>{i()},[e]);const i=async()=>{try{a(!0);const{count:l}=await K.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",e),{count:c}=await K.from("messages").select("*, conversations!inner(*)",{count:"exact",head:!0}).eq("conversations.chatbot_id",e),u=new Date;u.setDate(u.getDate()-7);const{data:d}=await K.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",u.toISOString()),{data:h}=await K.from("messages").select("created_at, conversations!inner(chatbot_id)").eq("conversations.chatbot_id",e).gte("created_at",u.toISOString()),f=new Map;for(let p=6;p>=0;p--){const v=new Date;v.setDate(v.getDate()-p);const x=v.toISOString().split("T")[0];f.set(x,{date:x,conversations:0,messages:0})}d==null||d.forEach(p=>{const v=p.created_at.split("T")[0],x=f.get(v);x&&x.conversations++}),h==null||h.forEach(p=>{const v=p.created_at.split("T")[0],x=f.get(v);x&&x.messages++});const{data:m}=await K.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),g=new Map;for(let p=0;p<24;p++)g.set(p,{hour:p,conversations:0});m==null||m.forEach(p=>{const v=new Date(p.created_at).getHours(),x=g.get(v);x&&x.conversations++}),n({totalConversations:l||0,totalMessages:c||0,avgMessagesPerConversation:l>0?Math.round((c||0)/l*10)/10:0,dailyStats:Array.from(f.values()),hourlyStats:Array.from(g.values())})}catch(l){console.error("Error fetching analytics:",l)}finally{a(!1)}};return r?s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((l,c)=>s.jsxs(W,{children:[s.jsx(re,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(G,{children:s.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"})})]},c))})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalConversations})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(jo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalMessages})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.avgMessagesPerConversation})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Active Today"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:((o=t.dailyStats[t.dailyStats.length-1])==null?void 0:o.conversations)||0})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Daily Activity (Last 7 Days)"}),s.jsx(xe,{children:"Conversations and messages over time"})]}),s.jsx(G,{children:s.jsx(xk,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"},messages:{label:"Messages",color:"hsl(var(--secondary))"}},className:"h-[200px]",children:s.jsx(hb,{width:"100%",height:"100%",children:s.jsxs(gRe,{data:t.dailyStats,children:[s.jsx(du,{dataKey:"date",tickFormatter:l=>new Date(l).toLocaleDateString("en-US",{weekday:"short"})}),s.jsx(hu,{}),s.jsx(x$,{content:s.jsx(yk,{})}),s.jsx(zl,{dataKey:"conversations",fill:"hsl(var(--primary))"}),s.jsx(zl,{dataKey:"messages",fill:"hsl(var(--secondary))"})]})})})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Hourly Distribution (Last 24h)"}),s.jsx(xe,{children:"When users are most active"})]}),s.jsx(G,{children:s.jsx(xk,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"}},className:"h-[200px]",children:s.jsx(hb,{width:"100%",height:"100%",children:s.jsxs(i9,{data:t.hourlyStats,children:[s.jsx(du,{dataKey:"hour",tickFormatter:l=>`${l}:00`}),s.jsx(hu,{}),s.jsx(x$,{content:s.jsx(yk,{})}),s.jsx(bf,{type:"monotone",dataKey:"conversations",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})})]})]})]})}function dg(e,[t,n]){return Math.min(n,Math.max(t,e))}var wRe=y.createContext(void 0);function ku(e){const t=y.useContext(wRe);return e||t||"ltr"}function sv(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jRe=[" ","Enter","ArrowUp","ArrowDown"],_Re=[" ","Enter"],av="Select",[tj,nj,NRe]=kg(av),[wf,RGe]=Or(av,[NRe,Jl]),rj=Jl(),[SRe,rc]=wf(av),[CRe,kRe]=wf(av),c9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:g}=e,p=rj(t),[v,x]=y.useState(null),[b,w]=y.useState(null),[j,S]=y.useState(!1),N=ku(u),[C=!1,k]=xs({prop:r,defaultProp:a,onChange:i}),[D,R]=xs({prop:o,defaultProp:l,onChange:c}),E=y.useRef(null),B=v?g||!!v.closest("form"):!0,[F,L]=y.useState(new Set),I=Array.from(F).map(O=>O.props.value).join(";");return s.jsx(W0,{...p,children:s.jsxs(SRe,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Bs(),value:D,onValueChange:R,open:C,onOpenChange:k,dir:N,triggerPointerDownPosRef:E,disabled:f,children:[s.jsx(tj.Provider,{scope:t,children:s.jsx(CRe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(O=>{L($=>new Set($).add(O))},[]),onNativeOptionRemove:y.useCallback(O=>{L($=>{const T=new Set($);return T.delete(O),T})},[]),children:n})}),B?s.jsxs(D9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:D,onChange:O=>R(O.target.value),disabled:f,form:g,children:[D===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},I):null]})})};c9.displayName=av;var u9="SelectTrigger",d9=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=rj(n),o=rc(u9,n),l=o.disabled||r,c=Ye(t,o.onTriggerChange),u=nj(n),d=y.useRef("touch"),[h,f,m]=I9(p=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),b=R9(v,p,x);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Tg,{asChild:!0,...i,children:s.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":M9(o.value)?"":void 0,...a,ref:c,onClick:we(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:we(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:we(a.onKeyDown,p=>{const v=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&jRe.includes(p.key)&&(g(),p.preventDefault())})})})});d9.displayName=u9;var h9="SelectValue",f9=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=rc(h9,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ye(t,c.onValueNodeChange);return Xn(()=>{u(d)},[u,d]),s.jsx(De.span,{...l,ref:h,style:{pointerEvents:"none"},children:M9(c.value)?s.jsx(s.Fragment,{children:o}):i})});f9.displayName=h9;var ERe="SelectIcon",m9=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(De.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});m9.displayName=ERe;var PRe="SelectPortal",p9=e=>s.jsx(Kh,{asChild:!0,...e});p9.displayName=PRe;var fu="SelectContent",g9=y.forwardRef((e,t)=>{const n=rc(fu,e.__scopeSelect),[r,a]=y.useState();if(Xn(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?ca.createPortal(s.jsx(v9,{scope:e.__scopeSelect,children:s.jsx(tj.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(x9,{...e,ref:t})});g9.displayName=fu;var Oa=10,[v9,sc]=wf(fu),ARe="SelectContentImpl",x9=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,b=rc(fu,n),[w,j]=y.useState(null),[S,N]=y.useState(null),C=Ye(t,V=>j(V)),[k,D]=y.useState(null),[R,E]=y.useState(null),B=nj(n),[F,L]=y.useState(!1),I=y.useRef(!1);y.useEffect(()=>{if(w)return dw(w)},[w]),cw();const O=y.useCallback(V=>{const[te,...Z]=B().map(ne=>ne.ref.current),[q]=Z.slice(-1),Q=document.activeElement;for(const ne of V)if(ne===Q||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===te&&S&&(S.scrollTop=0),ne===q&&S&&(S.scrollTop=S.scrollHeight),ne==null||ne.focus(),document.activeElement!==Q))return},[B,S]),$=y.useCallback(()=>O([k,w]),[O,k,w]);y.useEffect(()=>{F&&$()},[F,$]);const{onOpenChange:T,triggerPointerDownPosRef:U}=b;y.useEffect(()=>{if(w){let V={x:0,y:0};const te=q=>{var Q,ne;V={x:Math.abs(Math.round(q.pageX)-(((Q=U.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(q.pageY)-(((ne=U.current)==null?void 0:ne.y)??0))}},Z=q=>{V.x<=10&&V.y<=10?q.preventDefault():w.contains(q.target)||T(!1),document.removeEventListener("pointermove",te),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,T,U]),y.useEffect(()=>{const V=()=>T(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[T]);const[M,Y]=I9(V=>{const te=B().filter(Q=>!Q.disabled),Z=te.find(Q=>Q.ref.current===document.activeElement),q=R9(te,V,Z);q&&setTimeout(()=>q.ref.current.focus())}),ee=y.useCallback((V,te,Z)=>{const q=!I.current&&!Z;(b.value!==void 0&&b.value===te||q)&&(D(V),q&&(I.current=!0))},[b.value]),_=y.useCallback(()=>w==null?void 0:w.focus(),[w]),A=y.useCallback((V,te,Z)=>{const q=!I.current&&!Z;(b.value!==void 0&&b.value===te||q)&&E(V)},[b.value]),P=r==="popper"?wk:y9,z=P===wk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(v9,{scope:n,content:w,viewport:S,onViewportChange:N,itemRefCallback:ee,selectedItem:k,onItemLeave:_,itemTextRefCallback:A,focusSelectedItem:$,selectedItemText:R,position:r,isPositioned:F,searchRef:M,children:s.jsx($g,{as:vs,allowPinchZoom:!0,children:s.jsx(Rg,{asChild:!0,trapped:b.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:we(a,V=>{var te;(te=b.trigger)==null||te.focus({preventScroll:!0}),V.preventDefault()}),children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(P,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:V=>V.preventDefault(),...x,...z,onPlaced:()=>L(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:we(x.onKeyDown,V=>{const te=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!te&&V.key.length===1&&Y(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let q=B().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(V.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const Q=V.target,ne=q.indexOf(Q);q=q.slice(ne+1)}setTimeout(()=>O(q)),V.preventDefault()}})})})})})})});x9.displayName=ARe;var TRe="SelectItemAlignedPosition",y9=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=rc(fu,n),o=sc(fu,n),[l,c]=y.useState(null),[u,d]=y.useState(null),h=Ye(t,C=>d(C)),f=nj(n),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&x){const C=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(i.dir!=="rtl"){const Q=R.left-k.left,ne=D.left-Q,pe=C.left-ne,Se=C.width+pe,qe=Math.max(Se,k.width),Ve=window.innerWidth-Oa,We=dg(ne,[Oa,Math.max(Oa,Ve-qe)]);l.style.minWidth=Se+"px",l.style.left=We+"px"}else{const Q=k.right-R.right,ne=window.innerWidth-D.right-Q,pe=window.innerWidth-C.right-ne,Se=C.width+pe,qe=Math.max(Se,k.width),Ve=window.innerWidth-Oa,We=dg(ne,[Oa,Math.max(Oa,Ve-qe)]);l.style.minWidth=Se+"px",l.style.right=We+"px"}const E=f(),B=window.innerHeight-Oa*2,F=p.scrollHeight,L=window.getComputedStyle(u),I=parseInt(L.borderTopWidth,10),O=parseInt(L.paddingTop,10),$=parseInt(L.borderBottomWidth,10),T=parseInt(L.paddingBottom,10),U=I+O+F+T+$,M=Math.min(v.offsetHeight*5,U),Y=window.getComputedStyle(p),ee=parseInt(Y.paddingTop,10),_=parseInt(Y.paddingBottom,10),A=C.top+C.height/2-Oa,P=B-A,z=v.offsetHeight/2,V=v.offsetTop+z,te=I+O+V,Z=U-te;if(te<=A){const Q=E.length>0&&v===E[E.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-p.offsetTop-p.offsetHeight,pe=Math.max(P,z+(Q?_:0)+ne+$),Se=te+pe;l.style.height=Se+"px"}else{const Q=E.length>0&&v===E[0].ref.current;l.style.top="0px";const pe=Math.max(A,I+p.offsetTop+(Q?ee:0)+z)+Z;l.style.height=pe+"px",p.scrollTop=te-A+p.offsetTop}l.style.margin=`${Oa}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,v,x,i.dir,r]);Xn(()=>w(),[w]);const[j,S]=y.useState();Xn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=y.useCallback(C=>{C&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return s.jsx(MRe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(De.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});y9.displayName=TRe;var ORe="SelectPopperPosition",wk=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Oa,...i}=e,o=rj(n);return s.jsx(H0,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wk.displayName=ORe;var[MRe,SA]=wf(fu,{}),jk="SelectViewport",b9=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=sc(jk,n),o=SA(jk,n),l=Ye(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(tj.Slot,{scope:n,children:s.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Oa*2,p=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(p,v);if(x<g){const b=x+m,w=Math.min(g,b),j=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});b9.displayName=jk;var w9="SelectGroup",[DRe,IRe]=wf(w9),RRe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Bs();return s.jsx(DRe,{scope:n,id:a,children:s.jsx(De.div,{role:"group","aria-labelledby":a,...r,ref:t})})});RRe.displayName=w9;var j9="SelectLabel",_9=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=IRe(j9,n);return s.jsx(De.div,{id:a.id,...r,ref:t})});_9.displayName=j9;var Xb="SelectItem",[$Re,N9]=wf(Xb),S9=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=rc(Xb,n),c=sc(Xb,n),u=l.value===r,[d,h]=y.useState(i??""),[f,m]=y.useState(!1),g=Ye(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,a)}),p=Bs(),v=y.useRef("touch"),x=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx($Re,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(tj.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(De.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:we(o.onFocus,()=>m(!0)),onBlur:we(o.onBlur,()=>m(!1)),onClick:we(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:we(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:we(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:we(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:we(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(_Re.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});S9.displayName=Xb;var jm="SelectItemText",C9=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=rc(jm,n),l=sc(jm,n),c=N9(jm,n),u=kRe(jm,n),[d,h]=y.useState(null),f=Ye(t,x=>h(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Xn(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(De.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ca.createPortal(i.children,o.valueNode):null]})});C9.displayName=jm;var k9="SelectItemIndicator",E9=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return N9(k9,n).isSelected?s.jsx(De.span,{"aria-hidden":!0,...r,ref:t}):null});E9.displayName=k9;var _k="SelectScrollUpButton",P9=y.forwardRef((e,t)=>{const n=sc(_k,e.__scopeSelect),r=SA(_k,e.__scopeSelect),[a,i]=y.useState(!1),o=Ye(t,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(T9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});P9.displayName=_k;var Nk="SelectScrollDownButton",A9=y.forwardRef((e,t)=>{const n=sc(Nk,e.__scopeSelect),r=SA(Nk,e.__scopeSelect),[a,i]=y.useState(!1),o=Ye(t,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(T9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});A9.displayName=Nk;var T9=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=sc("SelectScrollButton",n),o=y.useRef(null),l=nj(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Xn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(De.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:we(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:we(a.onPointerLeave,()=>{c()})})}),LRe="SelectSeparator",O9=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(De.div,{"aria-hidden":!0,...r,ref:t})});O9.displayName=LRe;var Sk="SelectArrow",FRe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=rj(n),i=rc(Sk,n),o=sc(Sk,n);return i.open&&o.position==="popper"?s.jsx(G0,{...a,...r,ref:t}):null});FRe.displayName=Sk;function M9(e){return e===""||e===void 0}var D9=y.forwardRef((e,t)=>{const{value:n,...r}=e,a=y.useRef(null),i=Ye(t,a),o=sv(n);return y.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(Eg,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});D9.displayName="BubbleSelect";function I9(e){const t=yn(e),n=y.useRef(""),r=y.useRef(0),a=y.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function R9(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=BRe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function BRe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var URe=c9,$9=d9,zRe=f9,qRe=m9,VRe=p9,L9=g9,WRe=b9,F9=_9,B9=S9,HRe=C9,GRe=E9,U9=P9,z9=A9,q9=O9;const Ue=URe,ze=zRe,Le=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs($9,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(qRe,{asChild:!0,children:s.jsx(Jh,{className:"h-4 w-4 opacity-50"})})]}));Le.displayName=$9.displayName;const V9=y.forwardRef(({className:e,...t},n)=>s.jsx(U9,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(PP,{className:"h-4 w-4"})}));V9.displayName=U9.displayName;const W9=y.forwardRef(({className:e,...t},n)=>s.jsx(z9,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Jh,{className:"h-4 w-4"})}));W9.displayName=z9.displayName;const Fe=y.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(VRe,{children:s.jsxs(L9,{ref:a,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(V9,{}),s.jsx(WRe,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(W9,{})]})}));Fe.displayName=L9.displayName;const KRe=y.forwardRef(({className:e,...t},n)=>s.jsx(F9,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));KRe.displayName=F9.displayName;const oe=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(B9,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(GRe,{children:s.jsx(U0,{className:"h-4 w-4"})})}),s.jsx(HRe,{children:t})]}));oe.displayName=B9.displayName;const YRe=y.forwardRef(({className:e,...t},n)=>s.jsx(q9,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));YRe.displayName=q9.displayName;const H9=({onConversationSelect:e,chatbotId:t,hideFilter:n=!1})=>{const{user:r}=qt(),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(t||"all"),[d,h]=y.useState(""),[f,m]=y.useState(!0),g=async()=>{if(!r)return;const{data:b,error:w}=await K.from("chatbots").select("id, name").eq("user_id",r.id).order("name");if(w){Te({title:"Error",description:"Failed to fetch chatbots",variant:"destructive"});return}l(b||[])},p=async()=>{if(!r)return;m(!0);let b=K.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name,
            user_id
          )
        )
      `).eq("conversations.chatbots.user_id",r.id).order("created_at",{ascending:!1});c!=="all"&&(b=b.eq("conversations.chatbot_id",c));const{data:w,error:j}=await b;if(j){console.error("Error fetching conversations:",j),Te({title:"Error",description:"Failed to fetch conversations",variant:"destructive"}),m(!1);return}const S=new Map;w==null||w.forEach(C=>{const k=C.conversation_id;S.has(k)||S.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),S.get(k).messages.push(C)});const N=[];S.forEach((C,k)=>{const D=C.messages.sort((R,E)=>new Date(E.created_at).getTime()-new Date(R.created_at).getTime());if(D.length>0){const R=D[0],E={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:R.content,last_message_time:R.created_at,message_count:D.length,last_sender:R.role};(!d||E.last_message.toLowerCase().includes(d.toLowerCase())||E.chatbot_name.toLowerCase().includes(d.toLowerCase()))&&N.push(E)}}),N.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),i(N),m(!1)};y.useEffect(()=>{n||g()},[r,n]),y.useEffect(()=>{t&&u(t)},[t]),y.useEffect(()=>{p()},[r,c,d]);const v=b=>{const w=new Date(b),S=new Date().getTime()-w.getTime(),N=Math.floor(S/(1e3*60*60*24));return N===0?w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):N===1?"Yesterday":N<7?w.toLocaleDateString([],{weekday:"short"}):w.toLocaleDateString([],{month:"short",day:"numeric"})},x=(b,w=60)=>b.length>w?b.substring(0,w)+"...":b;return r?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-4 border-b bg-background",children:s.jsxs("div",{className:"flex gap-4",children:[!n&&s.jsxs(Ue,{value:c,onValueChange:u,children:[s.jsx(Le,{className:"w-[200px]",children:s.jsx(ze,{placeholder:"Filter by chatbot"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Chatbots"}),o.map(b=>s.jsx(oe,{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(_a,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search conversations...",value:d,onChange:b=>h(b.target.value),className:"pl-8"})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto",children:f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversations..."})}):a.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No conversations found."}):s.jsx("div",{className:"p-2",children:a.map(b=>s.jsx(W,{className:"mb-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>e(b.id),children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(kn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:b.chatbot_name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.message_count," messages"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.jsx("span",{className:"font-medium",children:b.last_sender==="user"?"User: ":"Bot: "}),x(b.last_message)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground ml-4 flex-shrink-0",children:v(b.last_message_time)})]})})},b.id))})})]}):s.jsx("div",{children:"Please log in to view conversations."})},G9=({conversationId:e,onBack:t})=>{const{user:n}=qt(),[r,a]=y.useState([]),[i,o]=y.useState(null),[l,c]=y.useState(!0),u=y.useRef(null),d=()=>{var g;(g=u.current)==null||g.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:g,error:p}=await K.from("messages").select(`
        id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          created_at,
          chatbots!inner(
            name,
            user_id
          )
        )
      `).eq("conversation_id",e).eq("conversations.chatbots.user_id",n.id).order("created_at",{ascending:!0});if(p){console.error("Error fetching conversation:",p),Te({title:"Error",description:"Failed to fetch conversation",variant:"destructive"}),c(!1);return}g&&g.length>0&&(a(g.map(v=>({id:v.id,content:v.content,role:v.role,created_at:v.created_at}))),o({id:e,chatbot_name:g[0].conversations.chatbots.name,created_at:g[0].conversations.created_at})),c(!1)};y.useEffect(()=>{h()},[e,n]),y.useEffect(()=>{d()},[r]);const f=g=>new Date(g).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=g=>new Date(g).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(re,{className:"flex-shrink-0 border-b bg-background",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:t,children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx(se,{className:"text-lg",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})]})}),s.jsx(G,{className:"flex-1 overflow-auto p-0",children:s.jsxs("div",{className:"p-4 space-y-4",children:[r.map(g=>s.jsxs("div",{className:`flex items-start gap-3 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(vt,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${g.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.content}),s.jsx("p",{className:`text-xs mt-1 ${g.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(g.created_at)})]}),g.role==="user"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:s.jsx(ys,{className:"w-4 h-4 text-secondary-foreground"})})]},g.id)),s.jsx("div",{ref:u})]})})]}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})},xt=y.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));xt.displayName="Textarea";var K9=["PageUp","PageDown"],Y9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jf="Slider",[Ck,JRe,XRe]=kg(jf),[X9,$Ge]=Or(jf,[XRe]),[QRe,sj]=X9(jf),Q9=y.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:g,...p}=e,v=y.useRef(new Set),x=y.useRef(0),w=o==="horizontal"?ZRe:e4e,[j=[],S]=xs({prop:d,defaultProp:u,onChange:E=>{var F;(F=[...v.current][x.current])==null||F.focus(),h(E)}}),N=y.useRef(j);function C(E){const B=a4e(j,E);R(E,B)}function k(E){R(E,x.current)}function D(){const E=N.current[x.current];j[x.current]!==E&&f(j)}function R(E,B,{commit:F}={commit:!1}){const L=c4e(i),I=u4e(Math.round((E-r)/i)*i+r,L),O=dg(I,[r,a]);S(($=[])=>{const T=r4e($,O,B);if(l4e(T,c*i)){x.current=T.indexOf(O);const U=String(T)!==String($);return U&&F&&f(T),U?T:$}else return $})}return s.jsx(QRe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:x,thumbs:v.current,values:j,orientation:o,form:g,children:s.jsx(Ck.Provider,{scope:e.__scopeSlider,children:s.jsx(Ck.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:we(p.onPointerDown,()=>{l||(N.current=j)}),min:r,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:D,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(a,j.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:B})=>{if(!l){const I=K9.includes(E.key)||E.shiftKey&&Y9.includes(E.key)?10:1,O=x.current,$=j[O],T=i*I*B;R($+T,O,{commit:!0})}}})})})})});Q9.displayName=jf;var[Z9,e7]=X9(jf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ZRe=y.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=y.useState(null),m=Ye(t,w=>f(w)),g=y.useRef(),p=ku(a),v=p==="ltr",x=v&&!i||!v&&i;function b(w){const j=g.current||h.getBoundingClientRect(),S=[0,j.width],C=CA(S,x?[n,r]:[r,n]);return g.current=j,C(w-j.left)}return s.jsx(Z9,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(t7,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=b(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=b(w.clientX);l==null||l(j)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=J9[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),e4e=y.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=y.useRef(null),h=Ye(t,d),f=y.useRef(),m=!a;function g(p){const v=f.current||d.current.getBoundingClientRect(),x=[0,v.height],w=CA(x,m?[r,n]:[n,r]);return f.current=v,w(p-v.top)}return s.jsx(Z9,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(t7,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=g(p.clientY);i==null||i(v)},onSlideMove:p=>{const v=g(p.clientY);o==null||o(v)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const x=J9[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),t7=y.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=sj(jf,n);return s.jsx(De.span,{...u,ref:t,onKeyDown:we(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):K9.concat(Y9).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:we(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:we(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:we(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),n7="SliderTrack",r7=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=sj(n7,n);return s.jsx(De.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});r7.displayName=n7;var kk="SliderRange",s7=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=sj(kk,n),i=e7(kk,n),o=y.useRef(null),l=Ye(t,o),c=a.values.length,u=a.values.map(f=>i7(f,a.min,a.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(De.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});s7.displayName=kk;var Ek="SliderThumb",a7=y.forwardRef((e,t)=>{const n=JRe(e.__scopeSlider),[r,a]=y.useState(null),i=Ye(t,l=>a(l)),o=y.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(t4e,{...e,ref:i,index:o})}),t4e=y.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=sj(Ek,n),l=e7(Ek,n),[c,u]=y.useState(null),d=Ye(t,b=>u(b)),h=c?o.form||!!c.closest("form"):!0,f=Ag(c),m=o.values[r],g=m===void 0?0:i7(m,o.min,o.max),p=s4e(r,o.values.length),v=f==null?void 0:f[l.size],x=v?i4e(v,g,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${x}px)`},children:[s.jsx(Ck.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(De.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:we(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&s.jsx(n4e,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});a7.displayName=Ek;var n4e=e=>{const{value:t,...n}=e,r=y.useRef(null),a=sv(t);return y.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function r4e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,i)=>a-i)}function i7(e,t,n){const i=100/(n-t)*(e-t);return dg(i,[0,100])}function s4e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function a4e(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function i4e(e,t,n){const r=e/2,i=CA([0,50],[0,r]);return(r-i(t)*n)*n}function o4e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function l4e(e,t){if(t>0){const n=o4e(e);return Math.min(...n)>=t}return!0}function CA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function c4e(e){return(String(e).split(".")[1]||"").length}function u4e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var o7=Q9,d4e=r7,h4e=s7,f4e=a7;const Dh=y.forwardRef(({className:e,...t},n)=>s.jsxs(o7,{ref:n,className:me("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(d4e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(h4e,{className:"absolute h-full bg-primary"})}),s.jsx(f4e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Dh.displayName=o7.displayName;var kA="Switch",[m4e,LGe]=Or(kA),[p4e,g4e]=m4e(kA),l7=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=y.useState(null),g=Ye(t,w=>m(w)),p=y.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,b]=xs({prop:a,defaultProp:i,onChange:u});return s.jsxs(p4e,{scope:n,checked:x,disabled:l,children:[s.jsx(De.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":d7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:we(e.onClick,w=>{b(j=>!j),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&s.jsx(v4e,{control:f,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});l7.displayName=kA;var c7="SwitchThumb",u7=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=g4e(c7,n);return s.jsx(De.span,{"data-state":d7(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});u7.displayName=c7;var v4e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=y.useRef(null),o=sv(n),l=Ag(t);return y.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function d7(e){return e?"checked":"unchecked"}var h7=l7,x4e=u7;const Rt=y.forwardRef(({className:e,...t},n)=>s.jsx(h7,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(x4e,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=h7.displayName;function y4e(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,b4e(a,...t)]}function b4e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var p1="rovingFocusGroup.onEntryFocus",w4e={bubbles:!1,cancelable:!0},aj="RovingFocusGroup",[Pk,f7,j4e]=kg(aj),[_4e,_f]=y4e(aj,[j4e]),[N4e,S4e]=_4e(aj),m7=y.forwardRef((e,t)=>s.jsx(Pk.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Pk.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(C4e,{...e,ref:t})})}));m7.displayName=aj;var C4e=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=y.useRef(null),m=Ye(t,f),g=ku(i),[p=null,v]=xs({prop:o,defaultProp:l,onChange:c}),[x,b]=y.useState(!1),w=yn(u),j=f7(n),S=y.useRef(!1),[N,C]=y.useState(0);return y.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(p1,w),()=>k.removeEventListener(p1,w)},[w]),s.jsx(N4e,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(k=>v(k),[v]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>C(k=>k-1),[]),children:s.jsx(De.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{S.current=!0}),onFocus:we(e.onFocus,k=>{const D=!S.current;if(k.target===k.currentTarget&&D&&!x){const R=new CustomEvent(p1,w4e);if(k.currentTarget.dispatchEvent(R),!R.defaultPrevented){const E=j().filter(O=>O.focusable),B=E.find(O=>O.active),F=E.find(O=>O.id===p),I=[B,F,...E].filter(Boolean).map(O=>O.ref.current);v7(I,d)}}S.current=!1}),onBlur:we(e.onBlur,()=>b(!1))})})}),p7="RovingFocusGroupItem",g7=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=Bs(),c=i||l,u=S4e(p7,n),d=u.currentTabStopId===c,h=f7(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return y.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),s.jsx(Pk.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(De.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:we(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:we(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:we(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=P4e(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const b=x.indexOf(g.currentTarget);x=u.loop?A4e(x,b+1):x.slice(b+1)}setTimeout(()=>v7(x))}})})})});g7.displayName=p7;var k4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E4e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function P4e(e,t,n){const r=E4e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k4e[r]}function v7(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function A4e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var EA=m7,PA=g7,AA="Tabs",[T4e,FGe]=Or(AA,[_f]),x7=_f(),[O4e,TA]=T4e(AA),y7=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ku(l),[h,f]=xs({prop:r,onChange:a,defaultProp:i});return s.jsx(O4e,{scope:n,baseId:Bs(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(De.div,{dir:d,"data-orientation":o,...u,ref:t})})});y7.displayName=AA;var b7="TabsList",w7=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=TA(b7,n),o=x7(n);return s.jsx(EA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});w7.displayName=b7;var j7="TabsTrigger",_7=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=TA(j7,n),l=x7(n),c=C7(o.baseId,r),u=k7(o.baseId,r),d=r===o.value;return s.jsx(PA,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(De.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:we(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:we(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:we(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});_7.displayName=j7;var N7="TabsContent",S7=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=TA(N7,n),c=C7(l.baseId,r),u=k7(l.baseId,r),d=r===l.value,h=y.useRef(d);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx($n,{present:a||d,children:({present:f})=>s.jsx(De.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});S7.displayName=N7;function C7(e,t){return`${e}-trigger-${t}`}function k7(e,t){return`${e}-content-${t}`}var M4e=y7,E7=w7,P7=_7,A7=S7;const Nf=M4e,Eu=y.forwardRef(({className:e,...t},n)=>s.jsx(E7,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Eu.displayName=E7.displayName;const Kt=y.forwardRef(({className:e,...t},n)=>s.jsx(P7,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Kt.displayName=P7.displayName;const Yt=y.forwardRef(({className:e,...t},n)=>s.jsx(A7,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yt.displayName=A7.displayName;var OA="Checkbox",[D4e,BGe]=Or(OA),[I4e,R4e]=D4e(OA),T7=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=y.useState(null),g=Ye(t,j=>m(j)),p=y.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,b]=xs({prop:a,defaultProp:i,onChange:u}),w=y.useRef(x);return y.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const S=()=>b(w.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[f,b]),s.jsxs(I4e,{scope:n,state:x,disabled:l,children:[s.jsx(De.button,{type:"button",role:"checkbox","aria-checked":Ol(x)?"mixed":x,"aria-required":o,"data-state":D7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:we(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:we(e.onClick,j=>{b(S=>Ol(S)?!0:!S),v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),v&&s.jsx($4e,{control:f,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ol(i)?!1:i})]})});T7.displayName=OA;var O7="CheckboxIndicator",M7=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=R4e(O7,n);return s.jsx($n,{present:r||Ol(i.state)||i.state===!0,children:s.jsx(De.span,{"data-state":D7(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});M7.displayName=O7;var $4e=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=y.useRef(null),l=sv(n),c=Ag(t);y.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const g=new Event("click",{bubbles:r});d.indeterminate=Ol(n),m.call(d,Ol(n)?!1:n),d.dispatchEvent(g)}},[l,n,r]);const u=y.useRef(Ol(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ol(e){return e==="indeterminate"}function D7(e){return Ol(e)?"indeterminate":e?"checked":"unchecked"}var I7=T7,L4e=M7;const Ih=y.forwardRef(({className:e,...t},n)=>s.jsx(I7,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(L4e,{className:me("flex items-center justify-center text-current"),children:s.jsx(U0,{className:"h-4 w-4"})})}));Ih.displayName=I7.displayName;function R7(e,t){return function(){return e.apply(t,arguments)}}const{toString:F4e}=Object.prototype,{getPrototypeOf:MA}=Object,{iterator:ij,toStringTag:$7}=Symbol,oj=(e=>t=>{const n=F4e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),di=e=>(e=e.toLowerCase(),t=>oj(t)===e),lj=e=>t=>typeof t===e,{isArray:Sf}=Array,Rh=lj("undefined");function iv(e){return e!==null&&!Rh(e)&&e.constructor!==null&&!Rh(e.constructor)&&ms(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const L7=di("ArrayBuffer");function B4e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&L7(e.buffer),t}const U4e=lj("string"),ms=lj("function"),F7=lj("number"),ov=e=>e!==null&&typeof e=="object",z4e=e=>e===!0||e===!1,Zx=e=>{if(oj(e)!=="object")return!1;const t=MA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($7 in e)&&!(ij in e)},q4e=e=>{if(!ov(e)||iv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},V4e=di("Date"),W4e=di("File"),H4e=di("Blob"),G4e=di("FileList"),K4e=e=>ov(e)&&ms(e.pipe),Y4e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ms(e.append)&&((t=oj(e))==="formdata"||t==="object"&&ms(e.toString)&&e.toString()==="[object FormData]"))},J4e=di("URLSearchParams"),[X4e,Q4e,Z4e,e$e]=["ReadableStream","Request","Response","Headers"].map(di),t$e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Sf(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(iv(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function B7(e,t){if(iv(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U7=e=>!Rh(e)&&e!==Mc;function Ak(){const{caseless:e,skipUndefined:t}=U7(this)&&this||{},n={},r=(a,i)=>{const o=e&&B7(n,i)||i;Zx(n[o])&&Zx(a)?n[o]=Ak(n[o],a):Zx(a)?n[o]=Ak({},a):Sf(a)?n[o]=a.slice():(!t||!Rh(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&lv(arguments[a],r);return n}const n$e=(e,t,n,{allOwnKeys:r}={})=>(lv(t,(a,i)=>{n&&ms(a)?e[i]=R7(a,n):e[i]=a},{allOwnKeys:r}),e),r$e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),s$e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},a$e=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&MA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},i$e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},o$e=e=>{if(!e)return null;if(Sf(e))return e;let t=e.length;if(!F7(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},l$e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&MA(Uint8Array)),c$e=(e,t)=>{const r=(e&&e[ij]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},u$e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},d$e=di("HTMLFormElement"),h$e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),y$=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),f$e=di("RegExp"),z7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};lv(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},m$e=e=>{z7(e,(t,n)=>{if(ms(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ms(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},p$e=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Sf(e)?r(e):r(String(e).split(t)),n},g$e=()=>{},v$e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function x$e(e){return!!(e&&ms(e.append)&&e[$7]==="FormData"&&e[ij])}const y$e=e=>{const t=new Array(10),n=(r,a)=>{if(ov(r)){if(t.indexOf(r)>=0)return;if(iv(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Sf(r)?[]:{};return lv(r,(o,l)=>{const c=n(o,a+1);!Rh(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},b$e=di("AsyncFunction"),w$e=e=>e&&(ov(e)||ms(e))&&ms(e.then)&&ms(e.catch),q7=((e,t)=>e?setImmediate:t?((n,r)=>(Mc.addEventListener("message",({source:a,data:i})=>{a===Mc&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Mc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ms(Mc.postMessage)),j$e=typeof queueMicrotask<"u"?queueMicrotask.bind(Mc):typeof process<"u"&&process.nextTick||q7,_$e=e=>e!=null&&ms(e[ij]),de={isArray:Sf,isArrayBuffer:L7,isBuffer:iv,isFormData:Y4e,isArrayBufferView:B4e,isString:U4e,isNumber:F7,isBoolean:z4e,isObject:ov,isPlainObject:Zx,isEmptyObject:q4e,isReadableStream:X4e,isRequest:Q4e,isResponse:Z4e,isHeaders:e$e,isUndefined:Rh,isDate:V4e,isFile:W4e,isBlob:H4e,isRegExp:f$e,isFunction:ms,isStream:K4e,isURLSearchParams:J4e,isTypedArray:l$e,isFileList:G4e,forEach:lv,merge:Ak,extend:n$e,trim:t$e,stripBOM:r$e,inherits:s$e,toFlatObject:a$e,kindOf:oj,kindOfTest:di,endsWith:i$e,toArray:o$e,forEachEntry:c$e,matchAll:u$e,isHTMLForm:d$e,hasOwnProperty:y$,hasOwnProp:y$,reduceDescriptors:z7,freezeMethods:m$e,toObjectSet:p$e,toCamelCase:h$e,noop:g$e,toFiniteNumber:v$e,findKey:B7,global:Mc,isContextDefined:U7,isSpecCompliantForm:x$e,toJSONObject:y$e,isAsyncFn:b$e,isThenable:w$e,setImmediate:q7,asap:j$e,isIterable:_$e};function ht(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}de.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const V7=ht.prototype,W7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{W7[e]={value:e}});Object.defineProperties(ht,W7);Object.defineProperty(V7,"isAxiosError",{value:!0});ht.from=(e,t,n,r,a,i)=>{const o=Object.create(V7);de.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ht.call(o,l,c,n,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const N$e=null;function Tk(e){return de.isPlainObject(e)||de.isArray(e)}function H7(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function b$(e,t,n){return e?e.concat(t).map(function(a,i){return a=H7(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function S$e(e){return de.isArray(e)&&!e.some(Tk)}const C$e=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function cj(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!de.isUndefined(v[p])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(de.isDate(g))return g.toISOString();if(de.isBoolean(g))return g.toString();if(!c&&de.isBlob(g))throw new ht("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(g)||de.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,v){let x=g;if(g&&!v&&typeof g=="object"){if(de.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(de.isArray(g)&&S$e(g)||(de.isFileList(g)||de.endsWith(p,"[]"))&&(x=de.toArray(g)))return p=H7(p),x.forEach(function(w,j){!(de.isUndefined(w)||w===null)&&t.append(o===!0?b$([p],j,i):o===null?p:p+"[]",u(w))}),!1}return Tk(g)?!0:(t.append(b$(v,p,i),u(g)),!1)}const h=[],f=Object.assign(C$e,{defaultVisitor:d,convertValue:u,isVisitable:Tk});function m(g,p){if(!de.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),de.forEach(g,function(x,b){(!(de.isUndefined(x)||x===null)&&a.call(t,x,de.isString(b)?b.trim():b,p,f))===!0&&m(x,p?p.concat(b):[b])}),h.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return m(e),t}function w$(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function DA(e,t){this._pairs=[],e&&cj(e,this,t)}const G7=DA.prototype;G7.append=function(t,n){this._pairs.push([t,n])};G7.toString=function(t){const n=t?function(r){return t.call(this,r,w$)}:w$;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function k$e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function K7(e,t,n){if(!t)return e;const r=n&&n.encode||k$e;de.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=de.isURLSearchParams(t)?t.toString():new DA(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class j${constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Y7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E$e=typeof URLSearchParams<"u"?URLSearchParams:DA,P$e=typeof FormData<"u"?FormData:null,A$e=typeof Blob<"u"?Blob:null,T$e={isBrowser:!0,classes:{URLSearchParams:E$e,FormData:P$e,Blob:A$e},protocols:["http","https","file","blob","url","data"]},IA=typeof window<"u"&&typeof document<"u",Ok=typeof navigator=="object"&&navigator||void 0,O$e=IA&&(!Ok||["ReactNative","NativeScript","NS"].indexOf(Ok.product)<0),M$e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D$e=IA&&window.location.href||"http://localhost",I$e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:IA,hasStandardBrowserEnv:O$e,hasStandardBrowserWebWorkerEnv:M$e,navigator:Ok,origin:D$e},Symbol.toStringTag,{value:"Module"})),Er={...I$e,...T$e};function R$e(e,t){return cj(e,new Er.classes.URLSearchParams,{visitor:function(n,r,a,i){return Er.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function $$e(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function L$e(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function J7(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&de.isArray(a)?a.length:o,c?(de.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!de.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&de.isArray(a[o])&&(a[o]=L$e(a[o])),!l)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(r,a)=>{t($$e(r),a,n,0)}),n}return null}function F$e(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const cv={transitional:Y7,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=de.isObject(t);if(i&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return a?JSON.stringify(J7(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t)||de.isReadableStream(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return R$e(t,this.formSerializer).toString();if((l=de.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),F$e(t)):t}],transformResponse:[function(t){const n=this.transitional||cv.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(de.isResponse(t)||de.isReadableStream(t))return t;if(t&&de.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ht.from(l,ht.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Er.classes.FormData,Blob:Er.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{cv.headers[e]={}});const B$e=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),U$e=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&B$e[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},_$=Symbol("internals");function lm(e){return e&&String(e).trim().toLowerCase()}function ey(e){return e===!1||e==null?e:de.isArray(e)?e.map(ey):String(e)}function z$e(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const q$e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function g1(e,t,n,r,a){if(de.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!de.isString(t)){if(de.isString(r))return t.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(t)}}function V$e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function W$e(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class ps{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const d=lm(c);if(!d)throw new Error("header name must be a non-empty string");const h=de.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=ey(l))}const o=(l,c)=>de.forEach(l,(u,d)=>i(u,d,c));if(de.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(de.isString(t)&&(t=t.trim())&&!q$e(t))o(U$e(t),n);else if(de.isObject(t)&&de.isIterable(t)){let l={},c,u;for(const d of t){if(!de.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?de.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=lm(t),t){const r=de.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return z$e(a);if(de.isFunction(n))return n.call(this,a,r);if(de.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=lm(t),t){const r=de.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||g1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=lm(o),o){const l=de.findKey(r,o);l&&(!n||g1(r,r[l],l,n))&&(delete r[l],a=!0)}}return de.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||g1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return de.forEach(this,(a,i)=>{const o=de.findKey(r,i);if(o){n[o]=ey(a),delete n[i];return}const l=t?V$e(i):String(i).trim();l!==i&&delete n[i],n[l]=ey(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[_$]=this[_$]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=lm(o);r[l]||(W$e(a,o),r[l]=!0)}return de.isArray(t)?t.forEach(i):i(t),this}}ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(ps.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});de.freezeMethods(ps);function v1(e,t){const n=this||cv,r=t||n,a=ps.from(r.headers);let i=r.data;return de.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function X7(e){return!!(e&&e.__CANCEL__)}function Cf(e,t,n){ht.call(this,e??"canceled",ht.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(Cf,ht,{__CANCEL__:!0});function Q7(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function H$e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function G$e(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[a]=c,r[a]=u;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function K$e(e,t){let n=0,r=1e3/t,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const Qb=(e,t,n=3)=>{let r=0;const a=G$e(50,250);return K$e(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},N$=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},S$=e=>(...t)=>de.asap(()=>e(...t)),Y$e=Er.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Er.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Er.origin),Er.navigator&&/(msie|trident)/i.test(Er.navigator.userAgent)):()=>!0,J$e=Er.hasStandardBrowserEnv?{write(e,t,n,r,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];de.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),de.isString(r)&&l.push(`path=${r}`),de.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),de.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function X$e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Q$e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Z7(e,t,n){let r=!X$e(t);return e&&(r||n==!1)?Q$e(e,t):t}const C$=e=>e instanceof ps?{...e}:e;function mu(e,t){t=t||{};const n={};function r(u,d,h,f){return de.isPlainObject(u)&&de.isPlainObject(d)?de.merge.call({caseless:f},u,d):de.isPlainObject(d)?de.merge({},d):de.isArray(d)?d.slice():d}function a(u,d,h,f){if(de.isUndefined(d)){if(!de.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!de.isUndefined(d))return r(void 0,d)}function o(u,d){if(de.isUndefined(d)){if(!de.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(C$(u),C$(d),h,!0)};return de.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||a,f=h(e[d],t[d],d);de.isUndefined(f)&&h!==l||(n[d]=f)}),n}const eH=e=>{const t=mu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ps.from(o),t.url=K7(Z7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),de.isFormData(n)){if(Er.hasStandardBrowserEnv||Er.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(de.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Er.hasStandardBrowserEnv&&(r&&de.isFunction(r)&&(r=r(t)),r||r!==!1&&Y$e(t.url))){const c=a&&i&&J$e.read(i);c&&o.set(a,c)}return t},Z$e=typeof XMLHttpRequest<"u",eLe=Z$e&&function(e){return new Promise(function(n,r){const a=eH(e);let i=a.data;const o=ps.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,f,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function x(){if(!v)return;const w=ps.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};Q7(function(C){n(C),p()},function(C){r(C),p()},S),v=null}"onloadend"in v?v.onloadend=x:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(x)},v.onabort=function(){v&&(r(new ht("Request aborted",ht.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const S=j&&j.message?j.message:"Network Error",N=new ht(S,ht.ERR_NETWORK,e,v);N.event=j||null,r(N),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||Y7;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new ht(j,S.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&de.forEach(o.toJSON(),function(j,S){v.setRequestHeader(S,j)}),de.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([f,g]=Qb(u,!0),v.addEventListener("progress",f)),c&&v.upload&&([h,m]=Qb(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(r(!w||w.type?new Cf(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=H$e(a.url);if(b&&Er.protocols.indexOf(b)===-1){r(new ht("Unsupported protocol "+b+":",ht.ERR_BAD_REQUEST,e));return}v.send(i||null)})},tLe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ht?d:new Cf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ht(`timeout ${t} of ms exceeded`,ht.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>de.asap(l),c}},nLe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},rLe=async function*(e,t){for await(const n of sLe(e))yield*nLe(n,t)},sLe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},k$=(e,t,n,r)=>{const a=rLe(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},E$=64*1024,{isFunction:gx}=de,aLe=(({Request:e,Response:t})=>({Request:e,Response:t}))(de.global),{ReadableStream:P$,TextEncoder:A$}=de.global,T$=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iLe=e=>{e=de.merge.call({skipUndefined:!0},aLe,e);const{fetch:t,Request:n,Response:r}=e,a=t?gx(t):typeof fetch=="function",i=gx(n),o=gx(r);if(!a)return!1;const l=a&&gx(P$),c=a&&(typeof A$=="function"?(g=>p=>g.encode(p))(new A$):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&l&&T$(()=>{let g=!1;const p=new n(Er.origin,{body:new P$,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=o&&l&&T$(()=>de.isReadableStream(new r("").body)),h={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(p,v)=>{let x=p&&p[g];if(x)return x.call(p);throw new ht(`Response type '${g}' is not supported`,ht.ERR_NOT_SUPPORT,v)})});const f=async g=>{if(g==null)return 0;if(de.isBlob(g))return g.size;if(de.isSpecCompliantForm(g))return(await new n(Er.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(de.isArrayBufferView(g)||de.isArrayBuffer(g))return g.byteLength;if(de.isURLSearchParams(g)&&(g=g+""),de.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const v=de.toFiniteNumber(g.getContentLength());return v??f(p)};return async g=>{let{url:p,method:v,data:x,signal:b,cancelToken:w,timeout:j,onDownloadProgress:S,onUploadProgress:N,responseType:C,headers:k,withCredentials:D="same-origin",fetchOptions:R}=eH(g),E=t||fetch;C=C?(C+"").toLowerCase():"text";let B=tLe([b,w&&w.toAbortSignal()],j),F=null;const L=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let I;try{if(N&&u&&v!=="get"&&v!=="head"&&(I=await m(k,x))!==0){let Y=new n(p,{method:"POST",body:x,duplex:"half"}),ee;if(de.isFormData(x)&&(ee=Y.headers.get("content-type"))&&k.setContentType(ee),Y.body){const[_,A]=N$(I,Qb(S$(N)));x=k$(Y.body,E$,_,A)}}de.isString(D)||(D=D?"include":"omit");const O=i&&"credentials"in n.prototype,$={...R,signal:B,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:O?D:void 0};F=i&&new n(p,$);let T=await(i?E(F,R):E(p,$));const U=d&&(C==="stream"||C==="response");if(d&&(S||U&&L)){const Y={};["status","statusText","headers"].forEach(P=>{Y[P]=T[P]});const ee=de.toFiniteNumber(T.headers.get("content-length")),[_,A]=S&&N$(ee,Qb(S$(S),!0))||[];T=new r(k$(T.body,E$,_,()=>{A&&A(),L&&L()}),Y)}C=C||"text";let M=await h[de.findKey(h,C)||"text"](T,g);return!U&&L&&L(),await new Promise((Y,ee)=>{Q7(Y,ee,{data:M,headers:ps.from(T.headers),status:T.status,statusText:T.statusText,config:g,request:F})})}catch(O){throw L&&L(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,g,F),{cause:O.cause||O}):ht.from(O,O&&O.code,g,F)}}},oLe=new Map,tH=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let o=i.length,l=o,c,u,d=oLe;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:iLe(t)),d=u;return u};tH();const RA={http:N$e,xhr:eLe,fetch:{get:tH}};de.forEach(RA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const O$=e=>`- ${e}`,lLe=e=>de.isFunction(e)||e===null||e===!1;function cLe(e,t){e=de.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(a=r,!lLe(r)&&(a=RA[(l=String(r)).toLowerCase()],a===void 0))throw new ht(`Unknown adapter '${l}'`);if(a&&(de.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(O$).join(`
`):" "+O$(o[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const nH={getAdapter:cLe,adapters:RA};function x1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cf(null,e)}function M$(e){return x1(e),e.headers=ps.from(e.headers),e.data=v1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nH.getAdapter(e.adapter||cv.adapter,e)(e).then(function(r){return x1(e),r.data=v1.call(e,e.transformResponse,r),r.headers=ps.from(r.headers),r},function(r){return X7(r)||(x1(e),r&&r.response&&(r.response.data=v1.call(e,e.transformResponse,r.response),r.response.headers=ps.from(r.response.headers))),Promise.reject(r)})}const rH="1.13.2",uj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const D$={};uj.transitional=function(t,n,r){function a(i,o){return"[Axios v"+rH+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new ht(a(o," has been removed"+(n?" in "+n:"")),ht.ERR_DEPRECATED);return n&&!D$[o]&&(D$[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};uj.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function uLe(e,t,n){if(typeof e!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ht("option "+i+" must be "+c,ht.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ht("Unknown option "+i,ht.ERR_BAD_OPTION)}}const ty={assertOptions:uLe,validators:uj},gi=ty.validators;class Gc{constructor(t){this.defaults=t||{},this.interceptors={request:new j$,response:new j$}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mu(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&ty.assertOptions(r,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),a!=null&&(de.isFunction(a)?n.paramsSerializer={serialize:a}:ty.assertOptions(a,{encode:gi.function,serialize:gi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ty.assertOptions(n,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&de.merge(i.common,i[n.method]);i&&de.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=ps.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,h=0,f;if(!c){const g=[M$.bind(this),void 0];for(g.unshift(...l),g.push(...u),f=g.length,d=Promise.resolve(n);h<f;)d=d.then(g[h++],g[h++]);return d}f=l.length;let m=n;for(;h<f;){const g=l[h++],p=l[h++];try{m=g(m)}catch(v){p.call(this,v);break}}try{d=M$.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=mu(this.defaults,t);const n=Z7(t.baseURL,t.url,t.allowAbsoluteUrls);return K7(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){Gc.prototype[t]=function(n,r){return this.request(mu(r||{},{method:t,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(mu(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Gc.prototype[t]=n(),Gc.prototype[t+"Form"]=n(!0)});class $A{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Cf(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new $A(function(a){t=a}),cancel:t}}}function dLe(e){return function(n){return e.apply(null,n)}}function hLe(e){return de.isObject(e)&&e.isAxiosError===!0}const Mk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mk).forEach(([e,t])=>{Mk[t]=e});function sH(e){const t=new Gc(e),n=R7(Gc.prototype.request,t);return de.extend(n,Gc.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return sH(mu(e,a))},n}const On=sH(cv);On.Axios=Gc;On.CanceledError=Cf;On.CancelToken=$A;On.isCancel=X7;On.VERSION=rH;On.toFormData=cj;On.AxiosError=ht;On.Cancel=On.CanceledError;On.all=function(t){return Promise.all(t)};On.spread=dLe;On.isAxiosError=hLe;On.mergeConfig=mu;On.AxiosHeaders=ps;On.formToJSON=e=>J7(de.isHTMLForm(e)?new FormData(e):e);On.getAdapter=nH.getAdapter;On.HttpStatusCode=Mk;On.default=On;const fLe="https://voxtro-backend.onrender.com";class mLe{constructor(){ut(this,"client");this.client=On.create({baseURL:fLe,headers:{"Content-Type":"application/json"},timeout:3e4}),this.client.interceptors.request.use(async t=>{try{const{data:{session:n}}=await K.auth.getSession();n!=null&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error getting session:",n)}return t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var r,a,i;((r=t.response)==null?void 0:r.status)===401&&(console.error("Authentication error - redirecting to login"),window.location.href="/auth");const n=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.detail)||t.message||"An unexpected error occurred";return Promise.reject(new Error(n))})}async get(t,n){return(await this.client.get(t,{params:n})).data}async post(t,n){return(await this.client.post(t,n)).data}async patch(t,n){return(await this.client.patch(t,n)).data}async delete(t){return(await this.client.delete(t)).data}async put(t,n){return(await this.client.put(t,n)).data}}const nr=new mLe;async function pLe(e){return nr.post("/api/chat/message",e)}async function I$(e){return nr.post("/api/chat/crawl",e)}function LA({chatbotId:e,websiteUrl:t="",websiteContent:n,crawlStatus:r="pending",lastCrawledAt:a,onWebsiteUpdate:i,onCrawlComplete:o}){const[l,c]=y.useState(t),[u,d]=y.useState(!1),[h,f]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState(!1),{toast:x}=vn(),b=async()=>{if(l.trim()){d(!0);try{const S=await I$({chatbot_id:e,url:l,discover_only:!0});S!=null&&S.pages&&(f(S.pages),g(S.pages.slice(0,5)),v(!0))}catch{x({title:"Error",description:"Failed to discover pages",variant:"destructive"})}finally{d(!1)}}},w=async()=>{if(!l.trim()){x({title:"Error",description:"Please enter a website URL",variant:"destructive"});return}if(!e){x({title:"Error",description:"No chatbot selected",variant:"destructive"});return}d(!0);try{i==null||i(l);const S=await I$({chatbot_id:e,url:l,selected_pages:m.length>0?m:void 0});S!=null&&S.success?(x({title:"Success",description:`Website crawled successfully! ${S.pagesCount} pages processed.`}),o==null||o()):x({title:"Error",description:(S==null?void 0:S.error)||"Failed to crawl website",variant:"destructive"})}catch(S){console.error("Crawl error:",S),x({title:"Error",description:"Failed to crawl website",variant:"destructive"})}finally{d(!1)}},j=()=>{switch(r){case"completed":return s.jsxs(Ee,{variant:"default",className:"bg-green-100 text-green-800",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Completed"]});case"crawling":return s.jsxs(Ee,{variant:"secondary",children:[s.jsx(ds,{className:"h-3 w-3 mr-1 animate-spin"}),"Crawling..."]});case"failed":return s.jsxs(Ee,{variant:"destructive",children:[s.jsx(Mi,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return s.jsx(Ee,{variant:"outline",children:"Pending"})}};return s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(ih,{className:"h-5 w-5"}),"Website Content"]}),s.jsx(xe,{children:"Crawl your website to provide context to your chatbot"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"url",placeholder:"https://example.com",value:l,onChange:S=>c(S.target.value),className:"flex-1",disabled:u}),s.jsx(X,{onClick:b,disabled:u||!l.trim(),variant:"outline",className:"min-w-[100px]",children:"Discover Pages"}),s.jsx(X,{onClick:w,disabled:u||!l.trim()||p&&m.length===0,className:"min-w-[100px]",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"h-4 w-4 mr-2 animate-spin"}),"Crawling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"h-4 w-4 mr-2"}),n?"Re-crawl":"Crawl"]})})]}),p&&h.length>0&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("h4",{className:"font-semibold mb-2",children:["Select Pages to Crawl (",m.length," selected)"]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:h.map((S,N)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ih,{id:`page-${N}`,checked:m.includes(S),onCheckedChange:C=>{g(C?[...m,S]:m.filter(k=>k!==S))}}),s.jsx("label",{htmlFor:`page-${N}`,className:"text-sm cursor-pointer flex-1 truncate",children:S})]},N))})]}),l&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),j()]}),a&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last crawled: ",new Date(a).toLocaleString()]})]})]})]})}const mr=l2,kf=oz,gLe=c2,aH=y.forwardRef(({className:e,...t},n)=>s.jsx(Lg,{ref:n,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aH.displayName=Lg.displayName;const Qn=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gLe,{children:[s.jsx(aH,{}),s.jsxs(Fg,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(hw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Yl,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qn.displayName=Fg.displayName;const Zn=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zn.displayName="DialogHeader";const iH=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});iH.displayName="DialogFooter";const er=y.forwardRef(({className:e,...t},n)=>s.jsx(Bg,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));er.displayName=Bg.displayName;const Do=y.forwardRef(({className:e,...t},n)=>s.jsx(Ug,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Do.displayName=Ug.displayName;const y1=[{id:"email_send",name:"Send Email",description:"Send emails to users or notify team members",icon:Za},{id:"webhook_call",name:"Webhook Call",description:"Call external APIs or services",icon:zte},{id:"custom_tool",name:"Custom Tool",description:"Create a custom tool with configurable parameters for automation",icon:hs}];function R$({chatbotId:e,onSuccess:t,action:n}){var N,C,k;const[r,a]=y.useState((n==null?void 0:n.action_type)||""),[i,o]=y.useState((n==null?void 0:n.name)||""),[l,c]=y.useState((n==null?void 0:n.description)||""),[u,d]=y.useState((n==null?void 0:n.configuration)||{}),[h,f]=y.useState(!1),[m,g]=y.useState((n==null?void 0:n.action_type)==="custom_tool"&&((N=n==null?void 0:n.configuration)!=null&&N.parameters)?n.configuration.parameters:[]),{toast:p}=vn(),v=async D=>{if(D.preventDefault(),!r||!i.trim()){p({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f(!0);try{const R=r==="custom_tool"?{...u,parameters:m}:u;if(n){const{error:E}=await K.from("chatbot_actions").update({action_type:r,name:i.trim(),description:l.trim(),configuration:R}).eq("id",n.id);if(E)throw E;p({title:"Success",description:"Action updated successfully"})}else{const{error:E}=await K.from("chatbot_actions").insert({chatbot_id:e,action_type:r,name:i.trim(),description:l.trim(),configuration:R,is_active:!0});if(E)throw E;p({title:"Success",description:"Action created successfully"})}t()}catch(R){console.error("Error creating action:",R),p({title:"Error",description:"Failed to create action",variant:"destructive"})}finally{f(!1)}},x=(D,R)=>{d(E=>({...E,[D]:R}))},b=()=>{g(D=>[...D,{name:"",type:"text",description:"",required:!1}])},w=D=>{g(R=>R.filter((E,B)=>B!==D))},j=(D,R,E)=>{g(B=>B.map((F,L)=>L===D?{...F,[R]:E}:F))},S=()=>{var D,R,E,B,F;switch(r){case"email_send":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-provider",children:"Email Provider"}),s.jsxs(Ue,{value:u.provider||"",onValueChange:L=>x("provider",L),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select email provider"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"smtp",children:"SMTP"}),s.jsx(oe,{value:"sendgrid",children:"SendGrid"}),s.jsx(oe,{value:"mailgun",children:"Mailgun"})]})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-from",children:"From Email"}),s.jsx(le,{id:"email-from",type:"email",placeholder:"noreply@yourcompany.com",value:u.fromEmail||"",onChange:L=>x("fromEmail",L.target.value)})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-to",children:"Default To Email"}),s.jsx(le,{id:"email-to",type:"email",placeholder:"support@yourcompany.com",value:u.defaultToEmail||"",onChange:L=>x("defaultToEmail",L.target.value)})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-template",children:"Email Template"}),s.jsx(xt,{id:"email-template",placeholder:"Enter email template...",value:u.emailTemplate||"",onChange:L=>x("emailTemplate",L.target.value)})]})]});case"webhook_call":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(le,{id:"webhook-url",type:"url",placeholder:"https://api.yourservice.com/webhook",value:u.webhookUrl||"",onChange:L=>x("webhookUrl",L.target.value)})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"webhook-method",children:"HTTP Method"}),s.jsxs(Ue,{value:u.method||"POST",onValueChange:L=>x("method",L),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select HTTP method"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"POST",children:"POST"}),s.jsx(oe,{value:"PUT",children:"PUT"}),s.jsx(oe,{value:"PATCH",children:"PATCH"})]})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"webhook-headers",children:"Headers (JSON)"}),s.jsx(xt,{id:"webhook-headers",placeholder:'{"Authorization": "Bearer YOUR_TOKEN"}',value:u.headers||"",onChange:L=>x("headers",L.target.value)})]})]});case"custom_tool":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(le,{id:"webhook-url",type:"url",placeholder:"https://hook.make.com/your-webhook-id",value:u.webhookUrl||"",onChange:L=>x("webhookUrl",L.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Connect to Make.com, Zapier, or any webhook endpoint"})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"tool-trigger",children:"Tool Trigger Phrase"}),s.jsx(le,{id:"tool-trigger",placeholder:"e.g., 'book appointment', 'send notification'",value:u.triggerPhrase||"",onChange:L=>x("triggerPhrase",L.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"When users say this phrase, the tool will be triggered"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(J,{children:"Custom Parameters"}),s.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"h-4 w-4"}),"Add Parameter"]})]}),m.map((L,I)=>s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:`param-name-${I}`,children:"Parameter Name"}),s.jsx(le,{id:`param-name-${I}`,placeholder:"e.g., customer_email",value:L.name,onChange:O=>j(I,"name",O.target.value)})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:`param-type-${I}`,children:"Parameter Type"}),s.jsxs(Ue,{value:L.type,onValueChange:O=>j(I,"type",O),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"text",children:"Text"}),s.jsx(oe,{value:"email",children:"Email"}),s.jsx(oe,{value:"number",children:"Number"}),s.jsx(oe,{value:"date",children:"Date"}),s.jsx(oe,{value:"phone",children:"Phone"})]})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(J,{htmlFor:`param-desc-${I}`,children:"Description"}),s.jsx(le,{id:`param-desc-${I}`,placeholder:"Describe what this parameter is for",value:L.description,onChange:O=>j(I,"description",O.target.value)})]}),s.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:L.required,onChange:O=>j(I,"required",O.target.checked),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:"Required parameter"})]}),s.jsxs(X,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(I),className:"flex items-center gap-2",children:[s.jsx(ln,{className:"h-4 w-4"}),"Remove"]})]})]})},I)),m.length===0&&s.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"No parameters added yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add parameters that your automation tool needs"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(Za,{className:"h-5 w-5"})," Email Automation"]}),s.jsx(xe,{children:"Automatically send emails when this tool is triggered and all required parameters are collected"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"email-automation-enabled",checked:((D=u.emailAutomation)==null?void 0:D.enabled)||!1,onChange:L=>x("emailAutomation",{...u.emailAutomation,enabled:L.target.checked}),className:"rounded border-gray-300"}),s.jsx(J,{htmlFor:"email-automation-enabled",children:"Enable email trigger for this tool"})]}),((R=u.emailAutomation)==null?void 0:R.enabled)&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(le,{id:"email-subject",placeholder:"e.g., New Lead from {{bot_name}}",value:((E=u.emailAutomation)==null?void 0:E.subject)||"",onChange:L=>x("emailAutomation",{...u.emailAutomation,subject:L.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use ","{{bot_name}}"," for chatbot name and parameter names like ","{{name}}, {{email}}"]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-body",children:"Email Body Template"}),s.jsx(xt,{id:"email-body",placeholder:`Name: {{name}}
Email: {{email}}
Service: {{service}}
Notes: {{notes}}`,value:((B=u.emailAutomation)==null?void 0:B.body)||"",onChange:L=>x("emailAutomation",{...u.emailAutomation,body:L.target.value}),rows:6}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use dynamic variables from your tool parameters (e.g., ","{{name}}, {{email}}, {{service}}",")"]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email-recipients",children:"Recipient Email(s)"}),s.jsx(le,{id:"email-recipients",placeholder:"admin@company.com, {{email}}",value:((F=u.emailAutomation)==null?void 0:F.recipients)||"",onChange:L=>x("emailAutomation",{...u.emailAutomation,recipients:L.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Comma-separated emails. Use ","{{email}}"," or other parameters as recipients"]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:" Example Configuration:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Subject:"})," New Lead from ","{{bot_name}}"]}),s.jsx("p",{children:s.jsx("strong",{children:"Body:"})}),s.jsxs("pre",{className:"bg-background p-2 rounded text-xs whitespace-pre-wrap",children:["Name: ","{{name}}",`
`,"Email: ","{{email}}",`
`,"Service: ","{{service}}",`
`,"Notes: ","{{notes}}"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Recipients:"})," support@company.com, ","{{email}}"]})]})]})]})]})]})]});default:return null}};return s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"action-type",children:"Action Type"}),s.jsxs(Ue,{value:r,onValueChange:a,children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select action type"})}),s.jsx(Fe,{children:y1.map(D=>s.jsx(oe,{value:D.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D.icon,{className:"h-4 w-4"}),D.name]})},D.id))})]})]}),r&&s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:(C=y1.find(D=>D.id===r))==null?void 0:C.name}),s.jsx(xe,{children:(k=y1.find(D=>D.id===r))==null?void 0:k.description})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"action-name",children:"Action Name"}),s.jsx(le,{id:"action-name",placeholder:"e.g., Book Appointment",value:i,onChange:D=>o(D.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"action-description",children:"Description"}),s.jsx(xt,{id:"action-description",placeholder:"Describe what this action does...",value:l,onChange:D=>c(D.target.value)})]}),S()]})})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(X,{type:"submit",disabled:h||!r||!i.trim(),children:h?n?"Updating...":"Creating...":n?"Update Action":"Create Action"})})]})}function oH({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(null),{toast:u}=vn();y.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:p,error:v}=await K.from("chatbot_actions").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(v)throw v;n(p||[])}catch(p){console.error("Error fetching actions:",p),u({title:"Error",description:"Failed to fetch actions",variant:"destructive"})}finally{a(!1)}},h=async(p,v)=>{try{const{error:x}=await K.from("chatbot_actions").update({is_active:!v}).eq("id",p);if(x)throw x;await d(),u({title:"Success",description:`Action ${v?"disabled":"enabled"} successfully`})}catch(x){console.error("Error toggling action:",x),u({title:"Error",description:"Failed to toggle action",variant:"destructive"})}},f=async p=>{try{const{error:v}=await K.from("chatbot_actions").delete().eq("id",p);if(v)throw v;await d(),u({title:"Success",description:"Action deleted successfully"})}catch(v){console.error("Error deleting action:",v),u({title:"Error",description:"Failed to delete action",variant:"destructive"})}},m=p=>{switch(p){case"calendar_booking":return"Calendar Booking";case"email_send":return"Send Email";case"webhook_call":return"Webhook Call";case"zapier_trigger":return"Zapier Trigger";case"custom_tool":return"Custom Tool";default:return p}},g=p=>{switch(p){case"calendar_booking":return"bg-blue-100 text-blue-800";case"email_send":return"bg-green-100 text-green-800";case"webhook_call":return"bg-purple-100 text-purple-800";case"zapier_trigger":return"bg-orange-100 text-orange-800";case"custom_tool":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx(W,{children:s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(xe,{children:"Loading actions..."})]})}):s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(xe,{children:"Configure actions your chatbot can perform, like booking appointments or sending emails"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.length," action",t.length!==1?"s":""," configured"]}),s.jsxs(mr,{open:i,onOpenChange:o,children:[s.jsx(kf,{asChild:!0,children:s.jsxs(X,{size:"sm",type:"button",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add Action"]})}),s.jsxs(Qn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(Zn,{children:s.jsx(er,{children:"Add New Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:s.jsx(R$,{chatbotId:e,onSuccess:()=>{o(!1),d()}})})]})]})]}),s.jsx(mr,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(Qn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(Zn,{children:s.jsx(er,{children:"Edit Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:l&&s.jsx(R$,{chatbotId:e,action:l,onSuccess:()=>{c(null),d()}})})]})}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(hs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"font-semibold mb-2",children:"No actions configured"}),s.jsx("p",{className:"text-sm mb-4",children:"Add actions to let your chatbot perform tasks like booking appointments or sending emails"}),s.jsxs(X,{onClick:()=>o(!0),type:"button",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add Your First Action"]})]}):s.jsx("div",{className:"space-y-3",children:t.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium",children:p.name}),s.jsx(Ee,{className:g(p.action_type),children:m(p.action_type)}),s.jsx(Ee,{variant:p.is_active?"default":"secondary",children:p.is_active?"Active":"Inactive"})]}),p.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(p.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",type:"button",onClick:()=>c(p),title:"Edit action",children:s.jsx(ZB,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",type:"button",onClick:()=>h(p.id,p.is_active),children:p.is_active?s.jsx($te,{className:"h-4 w-4"}):s.jsx(QB,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",type:"button",onClick:()=>f(p.id),children:s.jsx(ln,{className:"h-4 w-4"})})]})]},p.id))})]})]})}function lH({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!1),[i,o]=y.useState({question:"",answer:""}),{toast:l}=vn();y.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:m,error:g}=await K.from("chatbot_faqs").select("*").eq("chatbot_id",e).order("sort_order");if(g)throw g;n(m||[])}catch{l({title:"Error",description:"Failed to fetch FAQs",variant:"destructive"})}},u=async()=>{if(!(!i.question.trim()||!i.answer.trim())){a(!0);try{const m=Math.max(...t.map(p=>p.sort_order),-1),{error:g}=await K.from("chatbot_faqs").insert({chatbot_id:e,question:i.question.trim(),answer:i.answer.trim(),sort_order:m+1});if(g)throw g;o({question:"",answer:""}),c(),l({title:"Success",description:"FAQ added successfully"})}catch{l({title:"Error",description:"Failed to add FAQ",variant:"destructive"})}finally{a(!1)}}},d=async m=>{if(confirm("Are you sure you want to delete this FAQ?"))try{const{error:g}=await K.from("chatbot_faqs").delete().eq("id",m);if(g)throw g;c(),l({title:"Success",description:"FAQ deleted successfully"})}catch{l({title:"Error",description:"Failed to delete FAQ",variant:"destructive"})}},h=async(m,g)=>{try{const{error:p}=await K.from("chatbot_faqs").update({is_active:g}).eq("id",m);if(p)throw p;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}},f=async(m,g,p)=>{try{const{error:v}=await K.from("chatbot_faqs").update({[g]:p}).eq("id",m);if(v)throw v;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}};return s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-5 w-5 text-primary"}),"Frequently Asked Questions"]}),s.jsx(xe,{children:"Create quick-send buttons for common questions that visitors can click to ask"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/10",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"new-question",className:"text-sm font-medium",children:"Question"}),s.jsx(le,{id:"new-question",placeholder:"Enter a frequently asked question...",value:i.question,onChange:m=>o(g=>({...g,question:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"new-answer",className:"text-sm font-medium",children:"Answer"}),s.jsx(xt,{id:"new-answer",placeholder:"Enter the answer the chatbot should give...",value:i.answer,onChange:m=>o(g=>({...g,answer:m.target.value})),rows:3})]}),s.jsxs(X,{onClick:u,disabled:r||!i.question.trim()||!i.answer.trim(),className:"w-full",children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add FAQ"]})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ht,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No FAQs yet. Add your first FAQ to get started!"})]}):t.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{checked:m.is_active,onCheckedChange:g=>h(m.id,g)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:m.is_active?"Active":"Inactive"})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>d(m.id),className:"text-destructive hover:text-destructive",children:s.jsx(ln,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx(J,{className:"text-sm font-medium text-muted-foreground",children:"Question"}),s.jsx(le,{value:m.question,onChange:g=>f(m.id,"question",g.target.value),placeholder:"Enter the question visitors will see...",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(J,{className:"text-sm font-medium text-muted-foreground",children:"Answer"}),s.jsx(xt,{value:m.answer||"",onChange:g=>f(m.id,"answer",g.target.value),placeholder:"Enter the answer the chatbot should give...",rows:3,className:"mt-1 resize-none"})]})]},m.id))}),t.length>0&&s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[s.jsx("strong",{children:"Tip:"})," These questions will appear as clickable buttons in your chat widget, making it easy for visitors to ask common questions. Only active FAQs will be shown."]})]})]})}function cH({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0);y.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:c,error:u}=await K.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(u)throw u;n(c||[])}catch(c){console.error("Error fetching forms:",c),_e.error("Failed to load forms")}finally{a(!1)}},o=async(c,u)=>{try{const{error:d}=await K.from("chatbot_forms").update({is_active:!u}).eq("id",c);if(d)throw d;n(t.map(h=>h.id===c?{...h,is_active:!u}:h)),_e.success(`Form ${u?"deactivated":"activated"}`)}catch(d){console.error("Error toggling form status:",d),_e.error("Failed to update form status")}},l=async c=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:u}=await K.from("chatbot_forms").delete().eq("id",c);if(u)throw u;n(t.filter(d=>d.id!==c)),_e.success("Form deleted successfully")}catch(u){console.error("Error deleting form:",u),_e.error("Failed to delete form")}};return r?s.jsx("div",{children:"Loading forms..."}):t.length===0?s.jsx(W,{children:s.jsx(G,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No forms created yet. Go to the Forms section to create forms for this chatbot."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage which forms are active for this chatbot. Active forms will be triggered when users mention the associated keywords."}),t.map(c=>s.jsxs(W,{children:[s.jsx(re,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ih,{checked:c.is_active,onCheckedChange:()=>o(c.id,c.is_active)}),s.jsxs("div",{children:[s.jsx(se,{className:"text-sm",children:c.form_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.form_title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{variant:c.is_active?"default":"secondary",children:c.is_active?"Active":"Inactive"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>l(c.id),className:"text-destructive hover:text-destructive",children:s.jsx(ln,{className:"h-4 w-4"})})]})]})}),c.form_description&&s.jsx(G,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:c.form_description})}),c.trigger_keywords&&c.trigger_keywords.length>0&&s.jsx(G,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Keywords:"}),c.trigger_keywords.map((u,d)=>s.jsx(Ee,{variant:"outline",className:"text-xs",children:u},d))]})})]},c.id))]})}async function ny(){return nr.post("/api/voice/sync")}async function vLe(e,t){return nr.patch(`/api/voice/${e}`,t)}async function xLe(e,t){return nr.post("/api/voice/validate",{api_key:e,public_key:t||null})}async function yLe(){return nr.get("/api/voice/token")}async function bLe(e){return nr.post("/api/whatsapp/validate-elevenlabs",{api_key:e})}async function $$(){return nr.post("/api/whatsapp/sync")}async function wLe(e,t){return nr.patch(`/api/whatsapp/${e}`,t)}async function jLe(e){return nr.get(`/api/whatsapp/${e}`)}async function uH(e){return nr.post("/api/notifications/email",e)}async function _Le(e){return nr.post("/api/notifications/contact",e)}async function NLe(e){return nr.post("/api/notifications/ticket-reply",e)}async function SLe(e){return nr.post("/api/notifications/admin-ticket",e)}async function CLe(e){return nr.post("/api/customers",e)}async function kLe(e){return nr.post(`/api/customers/send-login-link?email=${encodeURIComponent(e)}`)}async function ELe(e){return nr.post("/api/customers/portal/tickets",e)}async function Dk(){return nr.get("/api/customers/portal/leads")}const PLe="https://nzqzmvsrsfynatxojuil.supabase.co",ALe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",ry={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"};async function dH(e){try{console.log("[Branding API] Fetching branding for email:",e);const t=`${PLe}/functions/v1/get-customer-branding`;console.log("[Branding API] URL:",t);const n=await On.get(t,{params:{email:e},headers:{Authorization:`Bearer ${ALe}`,"Content-Type":"application/json"},timeout:1e4});return console.log("[Branding API] Response:",n.data),n.data}catch(t){return console.error("[Branding API] Error fetching branding:",t),ry}}const TLe=[{value:"basic",label:"Basic Condition"},{value:"message_content",label:"Message Content"},{value:"custom_parameter",label:"Custom Parameter"},{value:"parameter_exists",label:"Parameter Exists"}],OLe=[{value:"always",label:"Always send email"}],L$=[{value:"conversation_length",label:"Conversation Length (messages)"},{value:"conversation_duration",label:"Duration (minutes)"},{value:"user_rating",label:"User Rating"},{value:"summary_sentiment",label:"Summary Sentiment"},{value:"agent_name",label:"Agent/Bot Name"}],MLe=[{value:"user",label:"User"},{value:"bot",label:"Bot"},{value:"any",label:"Any"}],F$=[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"starts_with",label:"Starts With"},{value:"ends_with",label:"Ends With"},{value:"not_contains",label:"Does Not Contain"},{value:"not_equals",label:"Does Not Equal"}],B$=[{value:"equals",label:"Equals"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_than_equal",label:"Greater Than or Equal"},{value:"less_than_equal",label:"Less Than or Equal"},{value:"not_equals",label:"Not Equal"}],DLe=["{{user_name}}","{{bot_name}}","{{conversation_summary}}","{{timestamp}}","{{first_message}}","{{last_message}}"];function hH({chatbotId:e,template:t,conditions:n,notificationEmail:r,onTemplateChange:a,onConditionsChange:i}){const[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState([]),[f,m]=y.useState([]),{toast:g}=vn();y.useEffect(()=>{p(),v()},[e]);const p=async()=>{try{const{data:F,error:L}=await K.from("chatbot_custom_parameters").select("id, parameter_name, parameter_type, is_required").eq("chatbot_id",e);if(L)throw L;h(F||[])}catch(F){console.error("Error loading custom parameters:",F)}},v=async()=>{try{const{data:F,error:L}=await K.from("chatbot_actions").select("name, configuration").eq("chatbot_id",e).eq("action_type","custom_tool").eq("is_active",!0);if(L)throw L;const I=[];F==null||F.forEach(O=>{const $=O.configuration;(($==null?void 0:$.parameters)||[]).forEach(U=>{I.push({tool_name:O.name,parameter_name:U.name,parameter_type:U.type,is_required:U.required})})}),m(I)}catch(F){console.error("Error loading tool parameters:",F)}},x=n.groups?n:{logic:n.logic||"AND",groups:[{logic:"AND",rules:n.rules||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},b=()=>{const F={...x,groups:[...x.groups,{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]};i(F)},w=F=>{const L={...x,groups:x.groups.map((I,O)=>O===F?{...I,rules:[...I.rules,{type:"basic",field:"always",operator:"equals",value:"true"}]}:I)};i(L)},j=F=>{if(x.groups.length===1)return;const L={...x,groups:x.groups.filter((I,O)=>O!==F)};i(L)},S=(F,L)=>{if(x.groups[F].rules.length===1)return;const O={...x,groups:x.groups.map(($,T)=>T===F?{...$,rules:$.rules.filter((U,M)=>M!==L)}:$)};i(O)},N=(F,L,I,O)=>{const $={...x,groups:x.groups.map((T,U)=>U===F?{...T,rules:T.rules.map((M,Y)=>Y===L?{...M,[I]:O}:M)}:T)};i($)},C=(F,L)=>{const I={...x,groups:x.groups.map((O,$)=>$===F?{...O,logic:L}:O)};i(I)},k=F=>{i({...x,logic:F})},D=F=>{if(F.type==="custom_parameter"){const L=L$.find(O=>O.value===F.field);if((L==null?void 0:L.value)==="conversation_length"||(L==null?void 0:L.value)==="conversation_duration"||(L==null?void 0:L.value)==="user_rating")return B$;const I=d.find(O=>O.parameter_name===F.field);if((I==null?void 0:I.parameter_type)==="number")return B$}return F$},R=F=>{const L=document.getElementById("email-template");if(L){const I=L.selectionStart,O=L.selectionEnd,$=t.slice(0,I)+F+t.slice(O);a($),setTimeout(()=>{L.focus(),L.setSelectionRange(I+F.length,I+F.length)},0)}},E=()=>{const F={user_name:"John Doe",bot_name:"SalesBot",conversation_summary:"The user inquired about pricing for the premium package and asked about scheduling a demo. The conversation covered features, pricing tiers, and implementation timeline.",timestamp:new Date().toLocaleString(),first_message:"Hi, I'm interested in learning more about your premium package.",last_message:"Thank you for the information. I'll discuss this with my team and get back to you soon."};let L=t;return Object.entries(F).forEach(([I,O])=>{const $=new RegExp(`\\{\\{${I}\\}\\}`,"g");L=L.replace($,O)}),d.forEach(I=>{const O=new RegExp(`\\{\\{${I.parameter_name}\\}\\}`,"g");L=L.replace(O,`[Mock ${I.parameter_name}]`)}),f.forEach(I=>{const O=new RegExp(`\\{\\{tool_${I.parameter_name}\\}\\}`,"g");L=L.replace(O,`[Mock Tool Data: ${I.parameter_name}]`)}),L},B=async()=>{if(!r){g({title:"Error",description:"Please set a notification email address first.",variant:"destructive"});return}u(!0);try{const F=E();await uH({to_email:r,subject:" Test Email - End-of-Chat Template",html_content:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
              <div style="background-color: #3b82f6; color: white; padding: 15px; border-radius: 8px 8px 0 0;">
                <h2 style="margin: 0;"> Test Email - End-of-Chat Template</h2>
              </div>
              <div style="border: 1px solid #e2e8f0; border-top: none; padding: 20px; border-radius: 0 0 8px 8px;">
                <p><strong>This is a test of your custom email template.</strong></p>
                <hr style="margin: 20px 0; border: 1px solid #e2e8f0;">
                <div style="white-space: pre-line; line-height: 1.6;">
                  ${F.replace(/\n/g,"<br>")}
                </div>
              </div>
            </div>
          `,from_name:"Voxtro Chatbots"}),g({title:"Test Email Sent",description:`Test email sent successfully to ${r}`})}catch(F){console.error("Error sending test email:",F),g({title:"Error",description:`Failed to send test email: ${F.message}`,variant:"destructive"})}finally{u(!1)}};return s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"End-of-Chat Email Settings"}),s.jsx(xe,{children:"Customize your email template and set conditions for when emails should be sent"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{htmlFor:"email-template",className:"text-sm font-medium",children:"Email Template"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Available variables:"}),DLe.map(F=>s.jsx(Ee,{variant:"secondary",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>R(F),children:F},F)),d.map(F=>s.jsxs(Ee,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>R(`{{${F.parameter_name}}}`),children:["{{","$",F.parameter_name,"}}"]},F.parameter_name)),f.map(F=>s.jsxs(Ee,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs border-orange-500 text-orange-700",onClick:()=>R(`{{tool_${F.parameter_name}}}`),children:["{{tool_","$",F.parameter_name,"}}"]},`${F.tool_name}-${F.parameter_name}`))]}),f.length>0&&s.jsx("p",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded",children:" Tool parameters (orange badges) are collected when your custom tools execute during conversations"}),s.jsx(xt,{id:"email-template",value:t,onChange:F=>a(F.target.value),placeholder:"Enter your custom email template...",className:"min-h-[200px] font-mono text-sm"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(J,{className:"text-sm font-medium",children:"Email Sending Conditions"}),s.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:b,children:[s.jsx(Gt,{className:"h-4 w-4 mr-1"}),"Add Rule Group"]})]}),x.groups.length>1&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Between groups use:"}),s.jsxs(Ue,{value:x.logic,onValueChange:F=>k(F),children:[s.jsx(Le,{className:"w-20",children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"AND",children:"AND"}),s.jsx(oe,{value:"OR",children:"OR"})]})]})]}),s.jsx("div",{className:"space-y-4",children:x.groups.map((F,L)=>s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Rule Group ",L+1]}),F.rules.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Logic:"}),s.jsxs(Ue,{value:F.logic,onValueChange:I=>C(L,I),children:[s.jsx(Le,{className:"w-16 h-6 text-xs",children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"AND",children:"AND"}),s.jsx(oe,{value:"OR",children:"OR"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(X,{type:"button",variant:"outline",size:"sm",onClick:()=>w(L),children:s.jsx(Gt,{className:"h-3 w-3"})}),x.groups.length>1&&s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(L),children:s.jsx(ln,{className:"h-3 w-3 text-destructive"})})]})]}),s.jsx("div",{className:"space-y-2",children:F.rules.map((I,O)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/30 flex-wrap",children:[s.jsxs(Ue,{value:I.type,onValueChange:$=>{var M;let T={type:$,field:"",operator:"equals",value:""};$==="basic"?(T.field="always",T.value="true"):$==="message_content"?(T.field="any_message",T.operator="contains",T.sender="any",T.case_sensitive=!1):$==="custom_parameter"?(T.field="conversation_length",T.operator="greater_than",T.value="5"):$==="parameter_exists"&&(T.field="parameter_exists",T.operator="exists",T.parameter_name=((M=d[0])==null?void 0:M.parameter_name)||"",T.value="true");const U={...x,groups:x.groups.map((Y,ee)=>ee===L?{...Y,rules:Y.rules.map((_,A)=>A===O?T:_)}:Y)};i(U)},children:[s.jsx(Le,{className:"w-36",children:s.jsx(ze,{})}),s.jsx(Fe,{children:TLe.map($=>s.jsx(oe,{value:$.value,children:$.label},$.value))})]}),I.type==="basic"&&s.jsxs(Ue,{value:I.field,onValueChange:$=>N(L,O,"field",$),children:[s.jsx(Le,{className:"w-40",children:s.jsx(ze,{})}),s.jsx(Fe,{children:OLe.map($=>s.jsx(oe,{value:$.value,children:$.label},$.value))})]}),I.type==="message_content"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{value:I.sender||"any",onValueChange:$=>N(L,O,"sender",$),children:[s.jsx(Le,{className:"w-24",children:s.jsx(ze,{})}),s.jsx(Fe,{children:MLe.map($=>s.jsx(oe,{value:$.value,children:$.label},$.value))})]}),s.jsxs(Ue,{value:I.operator,onValueChange:$=>N(L,O,"operator",$),children:[s.jsx(Le,{className:"w-32",children:s.jsx(ze,{})}),s.jsx(Fe,{children:F$.map($=>s.jsx(oe,{value:$.value,children:$.label},$.value))})]}),s.jsx(le,{value:I.value,onChange:$=>N(L,O,"value",$.target.value),placeholder:"Search text...",className:"flex-1 min-w-[120px]"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{checked:I.case_sensitive||!1,onCheckedChange:$=>N(L,O,"case_sensitive",$)}),s.jsx(J,{className:"text-xs",children:"Case"})]})]}),I.type==="custom_parameter"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{value:I.field,onValueChange:$=>N(L,O,"field",$),children:[s.jsx(Le,{className:"w-48",children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[L$.map($=>s.jsx(oe,{value:$.value,children:$.label},$.value)),d.map($=>s.jsxs(oe,{value:$.parameter_name,children:["Custom: ",$.parameter_name," (",$.parameter_type,")"]},$.parameter_name)),f.map($=>s.jsxs(oe,{value:`tool_${$.parameter_name}`,children:['Tool "',$.tool_name,'": ',$.parameter_name," (",$.parameter_type,")"]},`tool_${$.parameter_name}`))]})]}),s.jsxs(Ue,{value:I.operator,onValueChange:$=>N(L,O,"operator",$),children:[s.jsx(Le,{className:"w-36",children:s.jsx(ze,{})}),s.jsx(Fe,{children:D(I).map($=>s.jsx(oe,{value:$.value,children:$.label},$.value))})]}),s.jsx(le,{value:I.value,onChange:$=>N(L,O,"value",$.target.value),placeholder:"Value...",className:"flex-1 min-w-[100px]"})]}),I.type==="parameter_exists"&&s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{value:I.parameter_name||"",onValueChange:$=>N(L,O,"parameter_name",$),children:[s.jsx(Le,{className:"w-40",children:s.jsx(ze,{placeholder:"Select parameter"})}),s.jsxs(Fe,{children:[d.map($=>s.jsxs(oe,{value:$.parameter_name,children:[$.parameter_name," (",$.parameter_type,")"]},$.id)),f.map($=>s.jsxs(oe,{value:`tool_${$.parameter_name}`,children:['Tool "',$.tool_name,'": ',$.parameter_name," (",$.parameter_type,")"]},`tool_${$.parameter_name}`))]})]}),s.jsxs(Ue,{value:I.operator,onValueChange:$=>N(L,O,"operator",$),children:[s.jsx(Le,{className:"w-32",children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"exists",children:"Exists"}),s.jsx(oe,{value:"not_exists",children:"Does Not Exist"})]})]})]}),F.rules.length>1&&s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(L,O),children:s.jsx(ln,{className:"h-4 w-4 text-destructive"})})]},O))})]})},L))})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(X,{type:"button",variant:"outline",onClick:()=>l(!o),children:[o?s.jsx(yp,{className:"h-4 w-4 mr-2"}):s.jsx(ba,{className:"h-4 w-4 mr-2"}),o?"Hide Preview":"Show Preview"]}),s.jsxs(X,{type:"button",variant:"outline",onClick:B,disabled:c||!r,children:[s.jsx(Bte,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test Email"]})]}),o&&s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{className:"text-sm",children:"Email Preview (with mock data)"})}),s.jsx(G,{children:s.jsx("div",{className:"p-4 border rounded-lg bg-muted/30 text-sm whitespace-pre-line",style:{fontFamily:"Arial, sans-serif"},children:E()})})]})]})]})}const ILe=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Yes/No"},{value:"email",label:"Email Address"},{value:"phone",label:"Phone Number"}],U$={text:{patterns:["name is *","my name is *","call me *"]},email:{patterns:["email is *","my email is *","contact me at *"],validation_regex:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"},phone:{patterns:["phone is *","my phone is *","call me at *"],validation_regex:"^[\\+]?[1-9][\\d]{0,15}$"},number:{patterns:["age is *","I am * years old"]},boolean:{patterns:["yes","no","true","false"]}};function fH({chatbotId:e,onParametersChange:t}){const[n,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(!1),{toast:c}=vn();y.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:p,error:v}=await K.from("chatbot_custom_parameters").select("*").eq("chatbot_id",e).order("created_at");if(v)throw v;const x=(p==null?void 0:p.map(b=>({id:b.id,parameter_name:b.parameter_name,parameter_type:b.parameter_type,extraction_rules:b.extraction_rules||{},is_required:b.is_required,validation_rules:b.validation_rules||{}})))||[];r(x),t==null||t(x)}catch(p){console.error("Error loading parameters:",p),c({title:"Error",description:"Failed to load custom parameters",variant:"destructive"})}finally{i(!1)}},d=()=>{const p={parameter_name:"",parameter_type:"text",extraction_rules:U$.text,is_required:!1,validation_rules:{}};r([...n,p])},h=(p,v)=>{const x=n.map((b,w)=>{if(w===p){const j={...b,...v};return v.parameter_type&&v.parameter_type!==b.parameter_type&&(j.extraction_rules=U$[v.parameter_type]||{}),j}return b});r(x)},f=p=>{const v=n[p];r(n.filter((x,b)=>b!==p)),v.id&&m(v.id)},m=async p=>{try{const{error:v}=await K.from("chatbot_custom_parameters").delete().eq("id",p);if(v)throw v}catch(v){console.error("Error deleting parameter:",v),c({title:"Error",description:"Failed to delete parameter",variant:"destructive"})}},g=async()=>{l(!0);try{if(n.filter(w=>!w.parameter_name.trim()).length>0){c({title:"Validation Error",description:"All parameters must have a name",variant:"destructive"});return}const v=n.map(w=>w.parameter_name.toLowerCase().trim());if(v.filter((w,j)=>v.indexOf(w)!==j).length>0){c({title:"Validation Error",description:"Parameter names must be unique",variant:"destructive"});return}const{error:b}=await K.from("chatbot_custom_parameters").delete().eq("chatbot_id",e);if(b)throw b;if(n.length>0){const{error:w}=await K.from("chatbot_custom_parameters").insert(n.map(j=>({chatbot_id:e,parameter_name:j.parameter_name.trim(),parameter_type:j.parameter_type,extraction_rules:j.extraction_rules,is_required:j.is_required,validation_rules:j.validation_rules})));if(w)throw w}c({title:"Success",description:"Custom parameters saved successfully"}),await u()}catch(p){console.error("Error saving parameters:",p),c({title:"Error",description:"Failed to save parameters",variant:"destructive"})}finally{l(!1)}};return a?s.jsx("div",{className:"p-4",children:"Loading parameters..."}):s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"h-5 w-5"}),"Custom Parameters"]}),s.jsx(xe,{children:"Define custom parameters your chatbot should extract from conversations. These can be used in email conditions and templates."})]}),s.jsxs(G,{className:"space-y-4",children:[n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No custom parameters defined yet."}),s.jsx("p",{className:"text-sm",children:"Add parameters to extract structured data from conversations."})]}):s.jsx("div",{className:"space-y-4",children:n.map((p,v)=>s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:`param-name-${v}`,children:"Parameter Name"}),s.jsx(le,{id:`param-name-${v}`,value:p.parameter_name,onChange:x=>h(v,{parameter_name:x.target.value}),placeholder:"e.g., name, email, phone_number"})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:`param-type-${v}`,children:"Type"}),s.jsxs(Ue,{value:p.parameter_type,onValueChange:x=>h(v,{parameter_type:x}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsx(Fe,{children:ILe.map(x=>s.jsx(oe,{value:x.value,children:x.label},x.value))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:`param-required-${v}`,checked:p.is_required,onCheckedChange:x=>h(v,{is_required:x})}),s.jsx(J,{htmlFor:`param-required-${v}`,children:"Required"})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:`param-patterns-${v}`,children:"Extraction Patterns"}),s.jsx(xt,{id:`param-patterns-${v}`,value:(p.extraction_rules.patterns||[]).join(`
`),onChange:x=>h(v,{extraction_rules:{...p.extraction_rules,patterns:x.target.value.split(`
`).filter(b=>b.trim())}}),placeholder:`Enter patterns (one per line):
my name is *
call me *
email is *`,className:"min-h-[80px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use * as wildcard. Example: "my name is *" will extract "John" from "my name is John"'})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(v),children:s.jsx(ln,{className:"h-4 w-4 text-destructive"})})})]})},v))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(X,{type:"button",variant:"outline",onClick:d,children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add Parameter"]}),n.length>0&&s.jsx(X,{onClick:g,disabled:o,children:o?"Saving...":"Save Parameters"})]}),n.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Usage in Email Conditions:"}),' Once saved, these parameters will be available in the email conditions as "Parameter Exists/Does Not Exist" and "Parameter Value" conditions.']})})]})]})}function mH({formData:e,onChange:t,availableForms:n}){var l;const r=[{value:"phone",label:"Phone",icon:It},{value:"email",label:"Email",icon:Za},{value:"message",label:"Message",icon:kn},{value:"user",label:"Contact",icon:ys}],a=()=>{var d;const c={id:`btn_${Date.now()}`,label:"Contact Us",icon:"phone",formId:((d=n[0])==null?void 0:d.id)||"",color:e.widget_button_color||"#3b82f6"},u=[...e.widget_form_buttons||[],c];t({target:{name:"widget_form_buttons",value:u}})},i=(c,u,d)=>{const h=[...e.widget_form_buttons||[]];h[c]={...h[c],[u]:d},t({target:{name:"widget_form_buttons",value:h}})},o=c=>{var d;const u=((d=e.widget_form_buttons)==null?void 0:d.filter((h,f)=>f!==c))||[];t({target:{name:"widget_form_buttons",value:u}})};return s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Widget Customization"}),s.jsx(xe,{children:"Customize how your chat widget appears on your website"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_button_text",children:"Button Text"}),s.jsx(le,{id:"widget_button_text",name:"widget_button_text",value:e.widget_button_text,onChange:t,placeholder:"Chat with us"})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_position",children:"Widget Position"}),s.jsxs(Ue,{value:e.widget_position,onValueChange:c=>t({target:{name:"widget_position",value:c}}),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select position"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"center",children:"Center"}),s.jsx(oe,{value:"bottom-right",children:"Bottom Right"}),s.jsx(oe,{value:"bottom-left",children:"Bottom Left"}),s.jsx(oe,{value:"top-right",children:"Top Right"}),s.jsx(oe,{value:"top-left",children:"Top Left"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_button_color",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"widget_button_color",name:"widget_button_color",type:"color",value:e.widget_button_color||"#3b82f6",onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"widget_button_color",value:e.widget_button_color||"#3b82f6",onChange:t,placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_text_color",children:"Text Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"widget_text_color",name:"widget_text_color",type:"color",value:e.widget_text_color,onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"widget_text_color",value:e.widget_text_color,onChange:t,placeholder:"#ffffff",className:"flex-1"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_size",children:"Widget Size"}),s.jsxs(Ue,{value:e.widget_size,onValueChange:c=>t({target:{name:"widget_size",value:c}}),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select size"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"small",children:"Small"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"large",children:"Large"})]})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_border_radius",children:"Border Radius"}),s.jsxs(Ue,{value:e.widget_border_radius,onValueChange:c=>t({target:{name:"widget_border_radius",value:c}}),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select border radius"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"0",children:"Square"}),s.jsx(oe,{value:"8px",children:"Rounded"}),s.jsx(oe,{value:"50%",children:"Circular"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"widget_custom_css",children:"Custom CSS"}),s.jsx(xt,{id:"widget_custom_css",name:"widget_custom_css",value:e.widget_custom_css,onChange:t,placeholder:`/* Example: Customize widget button */
#voxtro-button {
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  animation: pulse 2s infinite;
}

/* Customize chat window */
#voxtro-chat {
  border-radius: 20px !important;
}

/* Customize messages */
.voxtro-user-message {
  background: linear-gradient(45deg, #667eea, #764ba2);
}

.voxtro-bot-message {
  background: #f8f9fa;
  border-left: 4px solid #007bff;
}`,className:"min-h-32 font-mono text-sm"}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:s.jsx("strong",{children:"Available CSS selectors:"})}),s.jsxs("div",{className:"bg-muted p-2 rounded text-xs font-mono space-y-0.5",children:[s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-widget"})," - Main widget container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-button"})," - Chat button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-chat"})," - Chat window container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-messages"})," - Messages container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-input"})," - Input field"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-send"})," - Send button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-faq-container"})," - FAQ suggestions container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-end-conversation"})," - End conversation button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-overlay"})," - Background overlay"]})]})]})]}),s.jsx(Yr,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(J,{className:"text-base font-medium",children:"Form Buttons"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add buttons that open contact forms instead of the chat"})]}),s.jsxs(X,{type:"button",onClick:a,size:"sm",disabled:n.length===0,children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Add Button"]})]}),e.widget_form_buttons&&e.widget_form_buttons.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx(J,{htmlFor:"widget_form_buttons_layout",children:"Button Layout"}),s.jsxs(Ue,{value:e.widget_form_buttons_layout||"vertical",onValueChange:c=>t({target:{name:"widget_form_buttons_layout",value:c}}),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select layout"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"vertical",children:"Vertical (Stacked)"}),s.jsx(oe,{value:"horizontal",children:"Horizontal (Side by Side)"})]})]})]}),n.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"No forms available. Create some forms first to add form buttons to your widget."}),s.jsx("div",{className:"space-y-4",children:(l=e.widget_form_buttons)==null?void 0:l.map((c,u)=>{var h;const d=((h=r.find(f=>f.value===c.icon))==null?void 0:h.icon)||It;return s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Form Button ",u+1]})]}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(u),children:s.jsx(ln,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(J,{className:"text-sm",children:"Button Label"}),s.jsx(le,{value:c.label,onChange:f=>i(u,"label",f.target.value),placeholder:"Contact Us"})]}),s.jsxs("div",{children:[s.jsx(J,{className:"text-sm",children:"Icon"}),s.jsxs(Ue,{value:c.icon,onValueChange:f=>i(u,"icon",f),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsx(Fe,{children:r.map(f=>s.jsx(oe,{value:f.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f.icon,{className:"h-4 w-4"}),f.label]})},f.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(J,{className:"text-sm",children:"Form to Open"}),s.jsxs(Ue,{value:c.formId,onValueChange:f=>i(u,"formId",f),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select form"})}),s.jsx(Fe,{children:n.map(f=>s.jsx(oe,{value:f.id,children:f.form_title||f.form_name},f.id))})]})]}),s.jsxs("div",{children:[s.jsx(J,{className:"text-sm",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{type:"color",value:c.color,onChange:f=>i(u,"color",f.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{value:c.color,onChange:f=>i(u,"color",f.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]})]})]})},c.id)})})]})]})]})}const RLe=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function $Le({chatbotId:e,onSave:t}){const{user:n}=qt(),{toast:r}=vn(),[a,i]=y.useState(!1),[o,l]=y.useState(!0),[c,u]=y.useState([]),[d,h]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,x]=y.useState([]),[b,w]=y.useState(!1),[j,S]=y.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});y.useEffect(()=>{e&&(N(),C())},[e]);const N=async()=>{var I;try{const{data:O,error:$}=await K.from("chatbots").select("*").eq("id",e).eq("user_id",n==null?void 0:n.id).single();if($||!O)throw new Error("Chatbot not found or you do not have permission to edit it");p(O),S({name:O.name,description:O.description||"",system_prompt:O.system_prompt,model:O.model,temperature:[O.temperature],max_tokens:O.max_tokens,is_active:O.is_active,website_url:O.website_url||"",theme_color:O.theme_color,theme_color_type:O.theme_color_type||"solid",theme_gradient_start:O.theme_gradient_start||"#3b82f6",theme_gradient_end:O.theme_gradient_end||"#8b5cf6",theme_gradient_angle:O.theme_gradient_angle||135,session_timeout_minutes:O.session_timeout_minutes||30,welcome_message:O.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:O.daily_token_limit||1e5,monthly_token_limit:O.monthly_token_limit||1e6,cache_enabled:O.cache_enabled??!0,cache_duration_hours:O.cache_duration_hours||168,end_chat_notification_enabled:O.end_chat_notification_enabled||!1,end_chat_notification_email:O.end_chat_notification_email||"",email_template:O.email_template||"",email_conditions:typeof O.email_conditions=="object"&&O.email_conditions!==null?O.email_conditions.groups?O.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((I=O.email_conditions.rules)==null?void 0:I.map(T=>({type:"basic",...T})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:O.widget_button_text||"Chat with us",widget_position:O.widget_position||"bottom-right",widget_button_color:O.widget_button_color||"#3b82f6",widget_text_color:O.widget_text_color||"#ffffff",widget_size:O.widget_size||"medium",widget_border_radius:O.widget_border_radius||"50%",widget_custom_css:O.widget_custom_css||"",widget_form_buttons:Array.isArray(O.widget_form_buttons)?O.widget_form_buttons:[],widget_form_buttons_layout:O.widget_form_buttons_layout||"vertical",hide_branding:O.hide_branding||!1}),u([{role:"assistant",content:O.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch(O){r({title:"Error",description:O.message,variant:"destructive"})}finally{l(!1)}},C=async()=>{try{const{data:I,error:O}=await K.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if(O){console.error("Error fetching forms:",O);return}x(I||[])}catch(I){console.error("Error fetching forms:",I)}},k=(I,O)=>{S($=>({...$,[I]:O})),I==="welcome_message"&&O&&u([{role:"assistant",content:O,timestamp:new Date}])},D=I=>{const{name:O,value:$}=I.target;k(O,$)},R=()=>{N(),r({title:"Website Crawled",description:"Your website content has been updated."})},E=async I=>{I.preventDefault(),i(!0);try{const O=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],$={},T={};if(g)for(const M of O){const Y=g[M],ee=M==="temperature"?j.temperature[0]:j[M];Y!==ee&&($[M]=Y,T[M]=ee)}const{error:U}=await K.from("chatbots").update({...j,temperature:j.temperature[0]}).eq("id",e).eq("user_id",n==null?void 0:n.id);if(U)throw U;if(Object.keys(T).length>0&&e&&n){const M=Object.keys(T).join(", ");await K.from("changelog_entries").insert({user_id:n.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${M}`,description:`Updated settings for chatbot "${j.name}"`,previous_values:$,new_values:T,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."}),t==null||t()}catch(O){r({title:"Error",description:O.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},B=()=>{e&&window.open(`/embed/${e}`,"_blank")},F=async()=>{if(!d.trim()||f)return;const I={role:"user",content:d.trim(),timestamp:new Date};u(O=>[...O,I]),h(""),m(!0);try{const O=[{role:"system",content:j.system_prompt},...c.filter(Y=>Y.role!=="system").map(Y=>({role:Y.role,content:Y.content.replace(" (Live Preview)","")})),{role:"user",content:I.content}],T=await fetch("https://voxtro-backend.onrender.com/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:O.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:j.system_prompt,model:j.model,temperature:j.temperature[0],max_tokens:j.max_tokens}})});if(!T.ok)throw new Error("Failed to get AI response");const M={role:"assistant",content:(await T.json()).response,timestamp:new Date};u(Y=>[...Y,M])}catch(O){console.error("Preview error:",O);const $={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(T=>[...T,$])}finally{m(!1)}},L=I=>{I.key==="Enter"&&F()};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ds,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading chatbot..."})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(Nf,{defaultValue:"basic",className:"space-y-4",children:[s.jsxs(Eu,{className:"grid w-full grid-cols-6",children:[s.jsx(Kt,{value:"basic",children:"Basic"}),s.jsx(Kt,{value:"ai",children:"AI Config"}),s.jsx(Kt,{value:"widget",children:"Widget"}),s.jsx(Kt,{value:"actions",children:"Actions & FAQs"}),s.jsx(Kt,{value:"notifications",children:"Notifications"}),s.jsx(Kt,{value:"preview",children:"Preview"})]}),s.jsxs("form",{onSubmit:E,children:[s.jsx(Yt,{value:"basic",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(xe,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(le,{id:"name",value:j.name,onChange:I=>k("name",I.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"description",children:"Description"}),s.jsx(xt,{id:"description",value:j.description,onChange:I=>k("description",I.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(xt,{id:"welcome_message",value:j.welcome_message,onChange:I=>k("welcome_message",I.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"website_url",children:"Website URL"}),s.jsx(le,{id:"website_url",value:j.website_url,onChange:I=>k("website_url",I.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(LA,{chatbotId:g==null?void 0:g.id,websiteUrl:j.website_url,websiteContent:g==null?void 0:g.website_content,crawlStatus:g==null?void 0:g.crawl_status,lastCrawledAt:g==null?void 0:g.last_crawled_at,onWebsiteUpdate:I=>k("website_url",I),onCrawlComplete:R}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Rt,{checked:j.is_active,onCheckedChange:I=>k("is_active",I)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Rt,{checked:j.hide_branding,onCheckedChange:I=>k("hide_branding",I)})]})]})]})}),s.jsx(Yt,{value:"ai",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"AI Configuration"}),s.jsx(xe,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(xt,{id:"system_prompt",value:j.system_prompt,onChange:I=>k("system_prompt",I.target.value),placeholder:"Define how your chatbot should behave...",rows:6,required:!0}),s.jsx(X,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>w(!0),title:"Expand editor",children:s.jsx(MP,{className:"h-4 w-4"})})]})]}),s.jsx(mr,{open:b,onOpenChange:w,children:s.jsxs(Qn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(Zn,{children:s.jsx(er,{children:"Edit System Prompt"})}),s.jsx(xt,{value:j.system_prompt,onChange:I=>k("system_prompt",I.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"model",children:"AI Model"}),s.jsxs(Ue,{value:j.model,onValueChange:I=>k("model",I),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsx(Fe,{children:RLe.map(I=>s.jsx(oe,{value:I.value,children:I.label},I.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{children:["Creativity Level: ",j.temperature[0]]}),s.jsx(Dh,{value:j.temperature,onValueChange:I=>k("temperature",I),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(le,{id:"max_tokens",type:"number",value:j.max_tokens,onChange:I=>k("max_tokens",parseInt(I.target.value)),min:100,max:4e3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(le,{id:"session_timeout_minutes",type:"number",value:j.session_timeout_minutes,onChange:I=>k("session_timeout_minutes",parseInt(I.target.value)),min:1,max:1440})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h4",{className:"font-medium",children:"Usage Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(le,{id:"daily_token_limit",type:"number",value:j.daily_token_limit,onChange:I=>k("daily_token_limit",parseInt(I.target.value)||0),min:0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(le,{id:"monthly_token_limit",type:"number",value:j.monthly_token_limit,onChange:I=>k("monthly_token_limit",parseInt(I.target.value)||0),min:0})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Rt,{checked:j.cache_enabled,onCheckedChange:I=>k("cache_enabled",I)})]}),j.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(le,{id:"cache_duration_hours",type:"number",value:j.cache_duration_hours,onChange:I=>k("cache_duration_hours",parseInt(I.target.value)||0),min:1,max:8760})]})]})]})]})}),s.jsxs(Yt,{value:"widget",className:"space-y-4",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Appearance"}),s.jsx(xe,{children:"Customize how your chatbot looks"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Color Type"}),s.jsxs(Ue,{value:j.theme_color_type||"solid",onValueChange:I=>k("theme_color_type",I),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"solid",children:"Solid Color"}),s.jsx(oe,{value:"gradient",children:"Gradient"})]})]})]}),j.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Gradient Start"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"color",value:j.theme_gradient_start,onChange:I=>k("theme_gradient_start",I.target.value),className:"w-16 h-10 p-1"}),s.jsx(le,{value:j.theme_gradient_start,onChange:I=>k("theme_gradient_start",I.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Gradient End"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"color",value:j.theme_gradient_end,onChange:I=>k("theme_gradient_end",I.target.value),className:"w-16 h-10 p-1"}),s.jsx(le,{value:j.theme_gradient_end,onChange:I=>k("theme_gradient_end",I.target.value),className:"flex-1"})]})]})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Theme Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"color",value:j.theme_color,onChange:I=>k("theme_color",I.target.value),className:"w-16 h-10 p-1"}),s.jsx(le,{value:j.theme_color,onChange:I=>k("theme_color",I.target.value),className:"flex-1"})]})]})]})]}),s.jsx(mH,{formData:j,onChange:D,availableForms:v})]}),s.jsxs(Yt,{value:"actions",className:"space-y-4",children:[s.jsx(oH,{chatbotId:e}),s.jsx(lH,{chatbotId:e}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Connected Forms"}),s.jsx(xe,{children:"Manage which forms are active for this chatbot"})]}),s.jsx(G,{children:s.jsx(cH,{chatbotId:e})})]})]}),s.jsxs(Yt,{value:"notifications",className:"space-y-4",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"End of Chat Notifications"}),s.jsx(xe,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end"})]}),s.jsx(Rt,{checked:j.end_chat_notification_enabled,onCheckedChange:I=>k("end_chat_notification_enabled",I)})]}),j.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(le,{id:"end_chat_notification_email",type:"email",value:j.end_chat_notification_email,onChange:I=>k("end_chat_notification_email",I.target.value),placeholder:"notifications@yourdomain.com"})]})]})]}),j.end_chat_notification_enabled&&s.jsxs(s.Fragment,{children:[s.jsx(fH,{chatbotId:e}),s.jsx(hH,{chatbotId:e,template:j.email_template,conditions:j.email_conditions,notificationEmail:j.end_chat_notification_email,onTemplateChange:I=>k("email_template",I),onConditionsChange:I=>k("email_conditions",I)})]})]}),s.jsx(Yt,{value:"preview",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Live Preview"}),s.jsx(xe,{children:"Test your chatbot configuration"})]}),s.jsx(G,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:j.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((I,O)=>s.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${I.role==="user"?"text-white":"bg-background border"}`,style:I.role==="user"?j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}:{},children:I.content})},O)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:I=>h(I.target.value),onKeyPress:L,disabled:f}),s.jsx(X,{type:"button",size:"sm",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color},onClick:F,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Widget Preview"}),s.jsx(xe,{children:"How the chat widget appears on your website"})]}),s.jsx(G,{children:s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-muted/50 to-muted h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-full"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-5/6"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer ${j.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":j.widget_position==="top-left"?"top-4 left-4":j.widget_position==="top-right"?"top-4 right-4":j.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${j.widget_size==="small"?"w-12 h-12":j.widget_size==="large"?"w-20 h-20":"w-16 h-16"}`,style:{backgroundColor:j.widget_button_color,color:j.widget_text_color,borderRadius:j.widget_border_radius},children:s.jsx(Ht,{className:`${j.widget_size==="small"?"h-4 w-4":j.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]})})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t mt-6",children:[s.jsxs(X,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(X,{type:"button",variant:"outline",onClick:B,children:[s.jsx(ba,{className:"h-4 w-4 mr-2"}),"Open Preview"]})]})]})]})})}function LLe(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var FA="ScrollArea",[pH,UGe]=Or(FA),[FLe,Ca]=pH(FA),gH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[h,f]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[x,b]=y.useState(0),[w,j]=y.useState(0),[S,N]=y.useState(!1),[C,k]=y.useState(!1),D=Ye(t,E=>c(E)),R=ku(a);return s.jsx(FLe,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:j,children:s.jsx(De.div,{dir:R,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});gH.displayName=FA;var vH="ScrollAreaViewport",xH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:i,...o}=e,l=Ca(vH,n),c=y.useRef(null),u=Ye(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(De.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:YLe({asChild:a,children:r},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});xH.displayName=vH;var Vi="ScrollAreaScrollbar",BA=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ca(Vi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(BLe,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(ULe,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(yH,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(UA,{...r,ref:t}):null});BA.displayName=Vi;var BLe=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ca(Vi,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx($n,{present:n||i,children:s.jsx(yH,{"data-state":i?"visible":"hidden",...r,ref:t})})}),ULe=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ca(Vi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=hj(()=>c("SCROLL_END"),100),[l,c]=LLe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx($n,{present:n||l!=="hidden",children:s.jsx(UA,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:we(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yH=y.forwardRef((e,t)=>{const n=Ca(Vi,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=hj(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return $h(n.viewport,c),$h(n.content,c),s.jsx($n,{present:r||i,children:s.jsx(UA,{"data-state":i?"visible":"hidden",...a,ref:t})})}),UA=y.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Ca(Vi,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=NH(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return GLe(f,o.current,l,m)}return n==="horizontal"?s.jsx(zLe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=z$(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(qLe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=z$(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),zLe=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ca(Vi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ye(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wH,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),CH(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:e0(o.paddingLeft),paddingEnd:e0(o.paddingRight)}})}})}),qLe=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ca(Vi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ye(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wH,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),CH(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:e0(o.paddingTop),paddingEnd:e0(o.paddingBottom)}})}})}),[VLe,bH]=pH(Vi),wH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Ca(Vi,n),[g,p]=y.useState(null),v=Ye(t,D=>p(D)),x=y.useRef(null),b=y.useRef(""),w=m.viewport,j=r.content-r.viewport,S=yn(d),N=yn(c),C=hj(h,10);function k(D){if(x.current){const R=D.clientX-x.current.left,E=D.clientY-x.current.top;u({x:R,y:E})}}return y.useEffect(()=>{const D=R=>{const E=R.target;(g==null?void 0:g.contains(E))&&S(R,j)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[w,g,j,S]),y.useEffect(N,[r,N]),$h(g,C),$h(m.content,C),s.jsx(VLe,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:yn(i),onThumbPointerUp:yn(o),onThumbPositionChange:N,onThumbPointerDown:yn(l),children:s.jsx(De.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:we(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(D))}),onPointerMove:we(e.onPointerMove,k),onPointerUp:we(e.onPointerUp,D=>{const R=D.target;R.hasPointerCapture(D.pointerId)&&R.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Zb="ScrollAreaThumb",jH=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bH(Zb,e.__scopeScrollArea);return s.jsx($n,{present:n||a.hasThumb,children:s.jsx(WLe,{ref:t,...r})})}),WLe=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Ca(Zb,n),o=bH(Zb,n),{onThumbPositionChange:l}=o,c=Ye(t,h=>o.onThumbChange(h)),u=y.useRef(),d=hj(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=KLe(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(De.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:we(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:we(e.onPointerUp,o.onThumbPointerUp)})});jH.displayName=Zb;var zA="ScrollAreaCorner",_H=y.forwardRef((e,t)=>{const n=Ca(zA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(HLe,{...e,ref:t}):null});_H.displayName=zA;var HLe=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Ca(zA,n),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return $h(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),$h(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(De.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function e0(e){return e?parseInt(e,10):0}function NH(e,t){const n=e/t;return isNaN(n)?0:n}function dj(e){const t=NH(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function GLe(e,t,n,r="ltr"){const a=dj(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return SH([c,u],h)(e)}function z$(e,t,n="ltr"){const r=dj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=dg(e,c);return SH([0,o],[0,l])(u)}function SH(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function CH(e,t){return e>0&&e<t}var KLe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function hj(e,t){const n=yn(e),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function $h(e,t){const n=yn(t);Xn(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function YLe(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=y.Children.only(r);return y.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var kH=gH,JLe=xH,XLe=_H;const Ws=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(kH,{ref:r,className:me("relative overflow-hidden",e),...n,children:[s.jsx(JLe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(EH,{}),s.jsx(XLe,{})]}));Ws.displayName=kH.displayName;const EH=y.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(BA,{ref:r,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(jH,{className:"relative flex-1 rounded-full bg-border"})}));EH.displayName=BA.displayName;function QLe(){const{user:e,signOut:t,loading:n}=qt(),r=Mr(),{toast:a}=vn(),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[h,f]=y.useState(!0),[m,g]=y.useState(null),[p,v]=y.useState(""),[x,b]=y.useState(!1),[w,j]=y.useState(""),[S,N]=y.useState(null),[C,k]=y.useState("conversations"),D=async()=>{if(e!=null&&e.id)try{const{data:_,error:A}=await K.from("chatbots").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(A)throw A;const P=await Promise.all((_||[]).map(async z=>{const{count:V}=await K.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",z.id);return{...z,conversationCount:V||0}}));o(P)}catch{a({title:"Error",description:"Failed to load chatbots",variant:"destructive"})}finally{f(!1)}},R=async()=>{if(e!=null&&e.id)try{const _=[],{data:A}=await K.from("chatbots").select("id").eq("user_id",e.id),P=(A==null?void 0:A.map(Q=>Q.id))||[],{data:z}=await K.from("voice_assistants").select("id").eq("user_id",e.id),V=(z==null?void 0:z.map(Q=>Q.id))||[],{data:te}=await K.from("whatsapp_agents").select("id").eq("user_id",e.id),Z=(te==null?void 0:te.map(Q=>Q.id))||[];if(P.length>0){const{data:Q}=await K.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",P);Q&&_.push(...Q)}if(V.length>0){const{data:Q}=await K.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",V);Q&&_.push(...Q)}if(Z.length>0){const{data:Q}=await K.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",Z);Q&&_.push(...Q)}const q=Array.from(new Map(_.map(Q=>[Q.id,Q])).values());c(q)}catch(_){console.error("Error fetching customers:",_)}},E=async()=>{if(e!=null&&e.id)try{const{data:_,error:A}=await K.from("customer_chatbot_assignments").select(`
          id,
          chatbot_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(A)throw A;const P=(_==null?void 0:_.map(z=>({id:z.id,chatbot_id:z.chatbot_id,customer:z.customers})))||[];d(P)}catch(_){console.error("Error fetching assignments:",_)}};if(y.useEffect(()=>{e!=null&&e.id&&!n&&(D(),R(),E())},[e==null?void 0:e.id,n]),y.useEffect(()=>{i.length>0&&!m&&g(i[0].id)},[i,m]),n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ds,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!n&&!e)return s.jsx(qs,{to:"/auth",replace:!0});const B=()=>{r("/create-chatbot")},F=async _=>{var A;try{const{error:P}=await K.from("chatbots").delete().eq("id",_);if(P)throw P;o(i.filter(z=>z.id!==_)),m===_&&g(((A=i.filter(z=>z.id!==_)[0])==null?void 0:A.id)||null),a({title:"Success",description:"Chatbot deleted successfully"})}catch{a({title:"Error",description:"Failed to delete chatbot",variant:"destructive"})}},L=async _=>{try{const{data:A,error:P}=await K.from("chatbots").select("*").eq("id",_).single();if(P)throw P;const z={...A,id:void 0,name:`Copy of ${A.name}`,is_active:!0,created_at:void 0,updated_at:void 0,last_crawled_at:void 0,crawl_status:"pending",embed_code:void 0,inline_embed_code:void 0,user_id:e==null?void 0:e.id},{data:V,error:te}=await K.from("chatbots").insert(z).select().single();if(te)throw te;const Z=V.id,{data:q}=await K.from("chatbot_actions").select("*").eq("chatbot_id",_);if(q&&q.length>0){const pe=q.map(Se=>({...Se,id:void 0,chatbot_id:Z,created_at:void 0,updated_at:void 0}));await K.from("chatbot_actions").insert(pe)}const{data:Q}=await K.from("chatbot_faqs").select("*").eq("chatbot_id",_);if(Q&&Q.length>0){const pe=Q.map(Se=>({...Se,id:void 0,chatbot_id:Z,created_at:void 0,updated_at:void 0}));await K.from("chatbot_faqs").insert(pe)}const{data:ne}=await K.from("chatbot_custom_parameters").select("*").eq("chatbot_id",_);if(ne&&ne.length>0){const pe=ne.map(Se=>({...Se,id:void 0,chatbot_id:Z,created_at:void 0,updated_at:void 0}));await K.from("chatbot_custom_parameters").insert(pe)}D(),a({title:"Success",description:"Chatbot duplicated successfully"})}catch{a({title:"Error",description:"Failed to duplicate chatbot",variant:"destructive"})}},I=async(_,A)=>{try{const{error:P}=await K.from("chatbots").update({is_active:!A}).eq("id",_);if(P)throw P;D(),a({title:"Success",description:`Chatbot ${A?"deactivated":"activated"} successfully`})}catch{a({title:"Error",description:"Failed to update chatbot status",variant:"destructive"})}},O=async()=>{if(!m||!w){a({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:_}=await K.from("customer_chatbot_assignments").insert({customer_id:w,chatbot_id:m,assigned_by:e==null?void 0:e.id});if(_){if(_.code==="23505")a({title:"Error",description:"This customer is already assigned to this chatbot",variant:"destructive"});else throw _;return}a({title:"Success",description:"Chatbot assigned successfully"}),b(!1),j(""),await E()}catch(_){console.error("Error assigning chatbot:",_),a({title:"Error",description:"Failed to assign chatbot",variant:"destructive"})}},$=async _=>{try{const{error:A}=await K.from("customer_chatbot_assignments").delete().eq("id",_);if(A)throw A;a({title:"Success",description:"Assignment removed"}),await E()}catch(A){console.error("Error removing assignment:",A),a({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},T=(_,A="widget")=>{let P,z;const V="https://voxtro-backend.onrender.com";A==="inline"?(P=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${V}/api/widget/${_}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,z="Inline chat embed code copied to clipboard"):A==="messenger"?(P=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${V}/api/widget/${_}/messenger.js';
    script.async = true;
    script.onload = function() {
      window.openVoxtroMessenger();
    };
    document.head.appendChild(script);
  })();
<\/script>`,z="Full-screen messenger embed code copied to clipboard"):(P=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${V}/api/widget/${_}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,z="Widget embed code copied to clipboard"),navigator.clipboard.writeText(P),a({title:"Copied!",description:z})},U=_=>{if(!_)return null;const P={completed:{variant:"default",label:"Crawled"},crawling:{variant:"secondary",label:"Crawling..."},failed:{variant:"destructive",label:"Failed"},pending:{variant:"outline",label:"Pending"}}[_]||{variant:"outline",label:_};return s.jsx(Ee,{variant:P.variant,className:"text-xs",children:P.label})},M=i.find(_=>_.id===m),Y=u.filter(_=>_.chatbot_id===m),ee=i.filter(_=>{var A;return(A=_.name)==null?void 0:A.toLowerCase().includes(p.toLowerCase())});return h?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ds,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Chatbots"})]}),s.jsxs(X,{onClick:B,size:"sm",className:"gap-1.5",children:[s.jsx(Gt,{className:"h-3.5 w-3.5"}),"New"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:"Search chatbots...",value:p,onChange:_=>v(_.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Ws,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:ee.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(vt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p?"No matching chatbots":"No chatbots yet"}),!p&&s.jsx(X,{onClick:B,variant:"link",className:"text-xs mt-1 p-0 h-auto",children:"Create your first chatbot"})]}):ee.map(_=>{const A=u.filter(z=>z.chatbot_id===_.id).length,P=m===_.id;return s.jsx("button",{onClick:()=>g(_.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${P?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:_.is_active?"#22c55e":"#94a3b8"}}),s.jsx("p",{className:`font-medium text-sm truncate ${P?"text-primary":""}`,children:_.name})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 ml-4",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[_.conversationCount||0," chats"]}),A>0&&s.jsxs(Ee,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[A," assigned"]})]})]}),P&&s.jsx(Wa,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},_.id)})})}),i.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[i.length," chatbots"]}),s.jsxs("span",{children:[i.filter(_=>_.is_active).length," active"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:M?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl border",style:{backgroundColor:`${M.theme_color}15`,borderColor:`${M.theme_color}30`},children:s.jsx(vt,{className:"h-6 w-6",style:{color:M.theme_color}})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:M.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ee,{variant:M.is_active?"default":"secondary",children:M.is_active?"Active":"Inactive"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",new Date(M.created_at).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(bd,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(X,{variant:"default",size:"sm",onClick:()=>k("edit"),className:"gap-1.5",children:[s.jsx(sS,{className:"h-4 w-4"}),"Edit"]})]})]}),M.description&&s.jsx(W,{className:"mb-6",children:s.jsx(G,{className:"pt-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:M.description})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(`/embed/${M.id}`),className:"justify-start gap-2",children:[s.jsx(ba,{className:"h-4 w-4"}),"Preview Widget"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(`/messenger/${M.id}`),className:"justify-start gap-2",children:[s.jsx(GB,{className:"h-4 w-4"}),"Preview Messenger"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(M.id,"widget"),className:"justify-start gap-2",children:[s.jsx(vM,{className:"h-4 w-4"}),"Copy Widget Code"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(M.id,"messenger"),className:"justify-start gap-2",children:[s.jsx(vM,{className:"h-4 w-4"}),"Copy Messenger Code"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(W,{children:s.jsx(G,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ih,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Website"}),M.website_url?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:new URL(M.website_url).hostname}),U(M.crawl_status)]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Not configured"})]})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Conversations"}),s.jsx("p",{className:"text-sm font-medium",children:M.conversationCount||0})]})]})})})]})]}),s.jsxs(Nf,{value:C,onValueChange:k,className:"space-y-4",children:[s.jsxs(Eu,{children:[s.jsxs(Kt,{value:"conversations",children:["Conversations (",M.conversationCount||0,")"]}),s.jsx(Kt,{value:"analytics",children:"Analytics"}),s.jsxs(Kt,{value:"customers",children:["Customers (",Y.length,")"]}),s.jsxs(Kt,{value:"edit",children:[s.jsx(sS,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),s.jsx(Kt,{value:"actions",children:"Actions"})]}),s.jsx(Yt,{value:"conversations",className:"space-y-4",children:s.jsx(W,{className:"h-[400px] overflow-hidden",children:s.jsx(G,{className:"p-0 h-full",children:S?s.jsx(G9,{conversationId:S,onBack:()=>N(null)}):s.jsx(H9,{onConversationSelect:N,chatbotId:M.id,hideFilter:!0})})})}),s.jsx(Yt,{value:"analytics",className:"space-y-4",children:s.jsx(bRe,{chatbotId:M.id})}),s.jsx(Yt,{value:"customers",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{className:"text-lg",children:"Assigned Customers"}),s.jsxs(X,{size:"sm",variant:"outline",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(bd,{className:"h-4 w-4"}),"Assign Customer"]})]}),s.jsx(xe,{children:"Customers who have access to this chatbot"})]}),s.jsx(G,{children:Y.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(bd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned"}),s.jsx(X,{variant:"link",className:"text-xs mt-1 p-0 h-auto",onClick:()=>b(!0),children:"Assign your first customer"})]}):s.jsx("div",{className:"space-y-2",children:Y.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:_.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.customer.email}),_.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:_.customer.company_name})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>$(_.id),className:"text-destructive hover:text-destructive",children:s.jsx(ln,{className:"h-4 w-4"})})]},_.id))})})]})}),s.jsx(Yt,{value:"edit",className:"space-y-4",children:s.jsx($Le,{chatbotId:M.id,onSave:()=>{D(),k("conversations")}})}),s.jsx(Yt,{value:"actions",className:"space-y-4",children:s.jsxs(W,{children:[s.jsx(re,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(se,{className:"text-lg",children:"Chatbot Actions"})})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(X,{variant:"outline",onClick:()=>L(M.id),className:"justify-start gap-2",children:[s.jsx(Ste,{className:"h-4 w-4"}),"Duplicate Chatbot"]}),s.jsxs(X,{variant:"outline",onClick:()=>I(M.id,M.is_active),className:"justify-start gap-2",children:[s.jsx(QB,{className:"h-4 w-4"}),M.is_active?"Deactivate":"Activate"]}),s.jsxs(X,{variant:"outline",className:"justify-start gap-2 text-destructive hover:text-destructive",onClick:()=>F(M.id),children:[s.jsx(ln,{className:"h-4 w-4"}),"Delete Chatbot"]})]})})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No chatbot selected"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a chatbot from the sidebar or create a new one"}),s.jsxs(X,{onClick:B,children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create Chatbot"]})]})})}),s.jsx(mr,{open:x,onOpenChange:b,children:s.jsxs(Qn,{children:[s.jsxs(Zn,{children:[s.jsx(er,{children:"Assign Chatbot to Customer"}),s.jsx(Do,{children:"Select a customer to give them access to this chatbot"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs(Ue,{value:w,onValueChange:j,children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select a customer"})}),s.jsx(Fe,{children:l.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No customers available"}):l.map(_=>s.jsx(oe,{value:_.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:_.full_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:_.email})]})},_.id))})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(X,{onClick:O,disabled:!w,children:"Assign"})]})]})})]})}const ZLe=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}],e3e=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];function t3e(){const{user:e}=qt(),t=Mr(),{toast:n}=vn(),[r,a]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState({name:"",description:"",system_prompt:"You are a helpful assistant that answers questions about our company and helps customers with their inquiries. Be friendly, professional, and concise in your responses.",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",session_timeout_minutes:30,end_chat_notification_enabled:!1,end_chat_notification_email:""});if(!e)return s.jsx(qs,{to:"/auth",replace:!0});const u=(m,g)=>{c(p=>({...p,[m]:g}))},d=async m=>{m.preventDefault(),a(!0);try{const g=crypto.randomUUID(),p="https://voxtro-backend.onrender.com",v=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${p}/api/widget/${g}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,x=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${p}/api/widget/${g}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,{data:b,error:w}=await K.from("chatbots").insert([{...l,temperature:l.temperature[0],embed_code:v,inline_embed_code:x,user_id:e.id}]).select().single();if(w)throw w;if(b){const j=v.replace(g,b.id),S=x.replace(g,b.id);await K.from("chatbots").update({embed_code:j,inline_embed_code:S}).eq("id",b.id),o(b.id)}n({title:"Success!",description:"Your chatbot has been created successfully."}),t("/dashboard")}catch(g){n({title:"Error",description:g.message||"Failed to create chatbot",variant:"destructive"})}finally{a(!1)}},h=()=>{n({title:"Preview Coming Soon",description:"Chatbot preview functionality will be available soon!"})},f=()=>{n({title:"Website Crawled",description:"Your website content has been processed and will be available to your chatbot."})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Create New Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(xe,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(le,{id:"name",value:l.name,onChange:m=>u("name",m.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"description",children:"Description"}),s.jsx(xt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"website_url",children:"Website URL"}),s.jsx(le,{id:"website_url",value:l.website_url,onChange:m=>u("website_url",m.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),i&&s.jsx(LA,{chatbotId:i,websiteUrl:l.website_url,onWebsiteUpdate:m=>u("website_url",m),onCrawlComplete:f})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"AI Configuration"}),s.jsx(xe,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsx(xt,{id:"system_prompt",value:l.system_prompt,onChange:m=>u("system_prompt",m.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"model",children:"AI Model"}),s.jsxs(Ue,{value:l.model,onValueChange:m=>u("model",m),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsx(Fe,{children:ZLe.map(m=>s.jsx(oe,{value:m.value,children:m.label},m.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{children:["Creativity Level: ",l.temperature[0]]}),s.jsx(Dh,{value:l.temperature,onValueChange:m=>u("temperature",m),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(le,{id:"max_tokens",type:"number",value:l.max_tokens,onChange:m=>u("max_tokens",parseInt(m.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(le,{id:"session_timeout_minutes",type:"number",value:l.session_timeout_minutes,onChange:m=>u("session_timeout_minutes",parseInt(m.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Appearance"}),s.jsx(xe,{children:"Customize how your chatbot looks"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Theme Color"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:e3e.map(m=>s.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${l.theme_color===m?"border-foreground scale-110":"border-border"}`,style:{backgroundColor:m},onClick:()=>u("theme_color",m)},m))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Rt,{checked:l.is_active,onCheckedChange:m=>u("is_active",m)})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"End of Chat Notifications"}),s.jsx(xe,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Rt,{checked:l.end_chat_notification_enabled,onCheckedChange:m=>u("end_chat_notification_enabled",m)})]}),l.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(le,{id:"end_chat_notification_email",type:"email",value:l.end_chat_notification_email,onChange:m=>u("end_chat_notification_email",m.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(X,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),r?"Creating...":"Create Chatbot"]}),s.jsxs(X,{type:"button",variant:"outline",onClick:h,children:[s.jsx(ba,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Live Preview"}),s.jsx(xe,{children:"See how your chatbot will appear"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:l.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"bg-background p-2 rounded border",children:[s.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"User:"}),s.jsx("p",{children:"Hello! Can you help me?"})]}),s.jsxs("div",{className:"p-2 rounded text-white",style:{backgroundColor:l.theme_color},children:[s.jsxs("p",{className:"text-xs mb-1 opacity-80",children:[l.name||"Bot",":"]}),s.jsx("p",{children:"Hello! I'd be happy to help you. What can I assist you with today?"})]})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(le,{placeholder:"Type your message...",className:"flex-1 text-sm",disabled:!0}),s.jsx(X,{size:"sm",style:{backgroundColor:l.theme_color},disabled:!0,children:"Send"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Model:"}),s.jsx("span",{children:l.model})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Creativity:"}),s.jsx("span",{children:l.temperature[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:l.is_active?"text-green-600":"text-red-600",children:l.is_active?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Session Timeout:"}),s.jsxs("span",{children:[l.session_timeout_minutes," min"]})]})]})]})]})})})]})})})]})}const n3e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function r3e(){const{chatbotId:e}=ew(),{user:t}=qt(),n=Mr(),{toast:r}=vn(),[a,i]=y.useState(!1),[o,l]=y.useState(!0),[c,u]=y.useState([]),[d,h]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,x]=y.useState([]),[b,w]=y.useState(!1),[j,S]=y.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});if(!t)return s.jsx(qs,{to:"/auth",replace:!0});y.useEffect(()=>{e&&(N(),C())},[e]);const N=async()=>{var O;try{const{data:$,error:T}=await K.from("chatbots").select("*").eq("id",e).eq("user_id",t.id).single();if(T||!$)throw new Error("Chatbot not found or you do not have permission to edit it");p($),S({name:$.name,description:$.description||"",system_prompt:$.system_prompt,model:$.model,temperature:[$.temperature],max_tokens:$.max_tokens,is_active:$.is_active,website_url:$.website_url||"",theme_color:$.theme_color,theme_color_type:$.theme_color_type||"solid",theme_gradient_start:$.theme_gradient_start||"#3b82f6",theme_gradient_end:$.theme_gradient_end||"#8b5cf6",theme_gradient_angle:$.theme_gradient_angle||135,session_timeout_minutes:$.session_timeout_minutes||30,welcome_message:$.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:$.daily_token_limit||1e5,monthly_token_limit:$.monthly_token_limit||1e6,cache_enabled:$.cache_enabled??!0,cache_duration_hours:$.cache_duration_hours||168,end_chat_notification_enabled:$.end_chat_notification_enabled||!1,end_chat_notification_email:$.end_chat_notification_email||"",email_template:$.email_template||"",email_conditions:typeof $.email_conditions=="object"&&$.email_conditions!==null?$.email_conditions.groups?$.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((O=$.email_conditions.rules)==null?void 0:O.map(U=>({type:"basic",...U})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:$.widget_button_text||"Chat with us",widget_position:$.widget_position||"bottom-right",widget_button_color:$.widget_button_color||"#3b82f6",widget_text_color:$.widget_text_color||"#ffffff",widget_size:$.widget_size||"medium",widget_border_radius:$.widget_border_radius||"50%",widget_custom_css:$.widget_custom_css||"",widget_form_buttons:Array.isArray($.widget_form_buttons)?$.widget_form_buttons:[],widget_form_buttons_layout:$.widget_form_buttons_layout||"vertical",hide_branding:$.hide_branding||!1}),u([{role:"assistant",content:$.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch($){r({title:"Error",description:$.message,variant:"destructive"}),n("/dashboard")}finally{l(!1)}},C=async()=>{try{const{data:O,error:$}=await K.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if($){console.error("Error fetching forms:",$);return}x(O||[])}catch(O){console.error("Error fetching forms:",O)}},k=(O,$)=>{S(T=>({...T,[O]:$})),O==="welcome_message"&&$&&u([{role:"assistant",content:$,timestamp:new Date}])},D=O=>{const{name:$,value:T}=O.target;k($,T)},R=()=>{N(),r({title:"Website Crawled",description:"Your website content has been updated."})},E=async O=>{O.preventDefault(),i(!0);try{const $=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],T={},U={};if(g)for(const Y of $){const ee=g[Y],_=Y==="temperature"?j.temperature[0]:j[Y];ee!==_&&(T[Y]=ee,U[Y]=_)}const{error:M}=await K.from("chatbots").update({...j,temperature:j.temperature[0]}).eq("id",e).eq("user_id",t.id);if(M)throw M;if(Object.keys(U).length>0&&e&&t){const Y=Object.keys(U).join(", ");await K.from("changelog_entries").insert({user_id:t.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${Y}`,description:`Updated settings for chatbot "${j.name}"`,previous_values:T,new_values:U,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."})}catch($){r({title:"Error",description:$.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},B=async()=>{if(confirm("Are you sure you want to delete this chatbot? This action cannot be undone.")){i(!0);try{const{error:O}=await K.from("chatbots").delete().eq("id",e).eq("user_id",t.id);if(O)throw O;r({title:"Success!",description:"Chatbot deleted successfully."}),n("/dashboard")}catch(O){r({title:"Error",description:O.message||"Failed to delete chatbot",variant:"destructive"})}finally{i(!1)}}},F=()=>{e&&window.open(`/embed/${e}`,"_blank")},L=async()=>{if(!d.trim()||f)return;const O={role:"user",content:d.trim(),timestamp:new Date};u($=>[...$,O]),h(""),m(!0);try{const $=[{role:"system",content:j.system_prompt},...c.filter(ee=>ee.role!=="system").map(ee=>({role:ee.role,content:ee.content.replace(" (Live Preview)","")})),{role:"user",content:O.content}],U=await fetch("https://voxtro-backend.onrender.com/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:$.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:j.system_prompt,model:j.model,temperature:j.temperature[0],max_tokens:j.max_tokens}})});if(!U.ok)throw new Error("Failed to get AI response");const Y={role:"assistant",content:(await U.json()).response,timestamp:new Date};u(ee=>[...ee,Y])}catch($){console.error("Preview error:",$);const T={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(U=>[...U,T])}finally{m(!1)}},I=O=>{O.key==="Enter"&&L()};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>n("/dashboard"),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Edit Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-5",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(xe,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(le,{id:"name",value:j.name,onChange:O=>k("name",O.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"description",children:"Description"}),s.jsx(xt,{id:"description",value:j.description,onChange:O=>k("description",O.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(xt,{id:"welcome_message",value:j.welcome_message,onChange:O=>k("welcome_message",O.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The first message visitors see when they open the chat"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"website_url",children:"Website URL"}),s.jsx(le,{id:"website_url",value:j.website_url,onChange:O=>k("website_url",O.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(LA,{chatbotId:g==null?void 0:g.id,websiteUrl:j.website_url,websiteContent:g==null?void 0:g.website_content,crawlStatus:g==null?void 0:g.crawl_status,lastCrawledAt:g==null?void 0:g.last_crawled_at,onWebsiteUpdate:O=>k("website_url",O),onCrawlComplete:R})]})]}),s.jsx(oH,{chatbotId:e||""}),s.jsx(lH,{chatbotId:e||""}),s.jsx(mH,{formData:j,onChange:D,availableForms:v}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"AI Configuration"}),s.jsx(xe,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(xt,{id:"system_prompt",value:j.system_prompt,onChange:O=>k("system_prompt",O.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx(X,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>w(!0),title:"Expand editor",children:s.jsx(MP,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsx(mr,{open:b,onOpenChange:w,children:s.jsxs(Qn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(Zn,{children:s.jsx(er,{children:"Edit System Prompt"})}),s.jsx(xt,{value:j.system_prompt,onChange:O=>k("system_prompt",O.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"model",children:"AI Model"}),s.jsxs(Ue,{value:j.model,onValueChange:O=>k("model",O),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsx(Fe,{children:n3e.map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{children:["Creativity Level: ",j.temperature[0]]}),s.jsx(Dh,{value:j.temperature,onValueChange:O=>k("temperature",O),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(le,{id:"max_tokens",type:"number",value:j.max_tokens,onChange:O=>k("max_tokens",parseInt(O.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(le,{id:"session_timeout_minutes",type:"number",value:j.session_timeout_minutes,onChange:O=>k("session_timeout_minutes",parseInt(O.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Usage Limits"}),s.jsx(xe,{children:"Set daily and monthly token limits to control usage and costs"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(le,{id:"daily_token_limit",type:"number",value:j.daily_token_limit,onChange:O=>k("daily_token_limit",parseInt(O.target.value)||0),min:0,placeholder:"100000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per day. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(le,{id:"monthly_token_limit",type:"number",value:j.monthly_token_limit,onChange:O=>k("monthly_token_limit",parseInt(O.target.value)||0),min:0,placeholder:"1000000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per month. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Rt,{checked:j.cache_enabled,onCheckedChange:O=>k("cache_enabled",O)})]}),j.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(le,{id:"cache_duration_hours",type:"number",value:j.cache_duration_hours,onChange:O=>k("cache_duration_hours",parseInt(O.target.value)||0),min:1,max:8760,placeholder:"168"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep cached responses (1-8760 hours, default: 168 hours = 1 week)"})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Appearance"}),s.jsx(xe,{children:"Customize how your chatbot looks"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Color Type"}),s.jsxs(Ue,{value:j.theme_color_type||"solid",onValueChange:O=>k("theme_color_type",O),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"solid",children:"Solid Color"}),s.jsx(oe,{value:"gradient",children:"Gradient"})]})]})]}),j.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"theme_gradient_start",children:"Gradient Start"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"theme_gradient_start",name:"theme_gradient_start",type:"color",value:j.theme_gradient_start||"#3b82f6",onChange:O=>k("theme_gradient_start",O.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"theme_gradient_start",value:j.theme_gradient_start||"#3b82f6",onChange:O=>k("theme_gradient_start",O.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"theme_gradient_end",children:"Gradient End"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"theme_gradient_end",name:"theme_gradient_end",type:"color",value:j.theme_gradient_end||"#8b5cf6",onChange:O=>k("theme_gradient_end",O.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"theme_gradient_end",value:j.theme_gradient_end||"#8b5cf6",onChange:O=>k("theme_gradient_end",O.target.value),placeholder:"#8b5cf6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"theme_gradient_angle",children:"Gradient Angle"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dh,{id:"theme_gradient_angle",value:[j.theme_gradient_angle||135],onValueChange:O=>k("theme_gradient_angle",O[0]),min:0,max:360,step:15,className:"flex-1"}),s.jsxs("span",{className:"text-sm font-medium w-12",children:[j.theme_gradient_angle||135,""]})]})]}),s.jsx("div",{className:"p-3 rounded-lg border",style:{background:`linear-gradient(${j.theme_gradient_angle||135}deg, ${j.theme_gradient_start||"#3b82f6"}, ${j.theme_gradient_end||"#8b5cf6"})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"theme_color",children:"Theme Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"theme_color",name:"theme_color",type:"color",value:j.theme_color||"#3b82f6",onChange:O=>k("theme_color",O.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"theme_color",value:j.theme_color||"#3b82f6",onChange:O=>k("theme_color",O.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a solid color or gradient for your chatbot's theme"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Rt,{checked:j.is_active,onCheckedChange:O=>k("is_active",O)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Rt,{checked:j.hide_branding,onCheckedChange:O=>k("hide_branding",O)})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"End of Chat Notifications"}),s.jsx(xe,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Rt,{checked:j.end_chat_notification_enabled,onCheckedChange:O=>k("end_chat_notification_enabled",O)})]}),j.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(le,{id:"end_chat_notification_email",type:"email",value:j.end_chat_notification_email,onChange:O=>k("end_chat_notification_email",O.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),j.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(fH,{chatbotId:e||""}),s.jsx(hH,{chatbotId:e||"",template:j.email_template,conditions:j.email_conditions,notificationEmail:j.end_chat_notification_email,onTemplateChange:O=>k("email_template",O),onConditionsChange:O=>k("email_conditions",O)})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Connected Forms"}),s.jsx(xe,{children:"Manage which forms are active for this chatbot. Create new forms in the Forms section."})]}),s.jsx(G,{children:s.jsx(cH,{chatbotId:e||""})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(X,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(X,{type:"button",variant:"outline",onClick:F,children:[s.jsx(ba,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(X,{type:"button",variant:"destructive",onClick:B,disabled:a,children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"sticky top-8 space-y-6",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Live Preview"}),s.jsx(xe,{children:"Test your chatbot configuration"})]}),s.jsx(G,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:j.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((O,$)=>s.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${O.role==="user"?"text-white":"bg-background border"}`,style:O.role==="user"?j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color}:{},children:O.content})},$)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:O=>h(O.target.value),onKeyPress:I,disabled:f}),s.jsx(X,{size:"sm",style:j.theme_color_type==="gradient"?{background:`linear-gradient(${j.theme_gradient_angle}deg, ${j.theme_gradient_start}, ${j.theme_gradient_end})`}:{backgroundColor:j.theme_color},onClick:L,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Widget Preview"}),s.jsx(xe,{children:"How the chat widget appears on your website"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer transform hover:scale-105 transition-all duration-200 text-sm font-medium ${j.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":j.widget_position==="top-left"?"top-4 left-4":j.widget_position==="top-right"?"top-4 right-4":j.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${j.widget_size==="small"?"w-12 h-12 text-xs":j.widget_size==="large"?"w-20 h-20 text-base":"w-16 h-16 text-sm"}`,style:{backgroundColor:j.widget_button_color||"#3b82f6",color:j.widget_text_color,borderRadius:j.widget_border_radius},children:j.widget_position==="center"?s.jsx("span",{className:"px-4 py-2",children:j.widget_button_text}):s.jsx(Ht,{className:`${j.widget_size==="small"?"h-4 w-4":j.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Position:"})," ",j.widget_position]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Size:"})," ",j.widget_size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Button Text:"})," ",j.widget_button_text]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Colors:"})," Button: ",j.widget_button_color,", Text: ",j.widget_text_color]})]})]})]})]})})]})})})]})}const s3e="/assets/chime-alert-DWmXsH8Y.wav";function a3e(){const{chatbotId:e}=ew(),t=Mr(),{toast:n}=vn(),[r,a]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState(!0),[h,f]=y.useState(""),[m,g]=y.useState(!1),[p,v]=y.useState(null),[x]=y.useState(()=>localStorage.getItem("voxtro_visitor_id")||(()=>{const D=`visitor_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem("voxtro_visitor_id",D),D})()),b=y.useState(()=>new Audio(s3e))[0];y.useEffect(()=>{b.volume=.5},[]);const w=()=>{try{b.currentTime=0,b.play().catch(D=>{console.log(" EmbedChat - Sound blocked by browser:",D.message)})}catch(D){console.error(" EmbedChat - Error playing audio:",D)}};y.useEffect(()=>{const D=E=>{E.stopPropagation()},R=document.querySelector(".chat-container");if(R)return R.addEventListener("wheel",D),()=>R.removeEventListener("wheel",D)},[]),y.useEffect(()=>{e&&(S(),j())},[e]);const j=async()=>{if(e)try{const{data:D,error:R}=await K.from("chatbot_faqs").select("id, question, answer, is_active").eq("chatbot_id",e).eq("is_active",!0).order("sort_order").limit(4);!R&&D&&o(D)}catch{console.log("No FAQs configured for this chatbot")}},S=async()=>{try{const{data:D,error:R}=await K.from("chatbots").select("id, name, theme_color, is_active, end_chat_notification_email, welcome_message").eq("id",e).single();if(R||!D)throw new Error("Chatbot not found");a(D);const E=D.welcome_message||`Hi! I'm ${D.name}. How can I help you today?`;c([{role:"assistant",content:`${E}${D.is_active?"":" (Preview Mode)"}`,timestamp:new Date}])}catch{n({title:"Error",description:"Failed to load chatbot",variant:"destructive"})}},N=async()=>{if(!h.trim()||m||!r)return;if(d(!1),!r.is_active){const R={role:"user",content:h.trim(),timestamp:new Date},E={role:"assistant",content:"This is preview mode. The chatbot will respond with actual AI when it's active and embedded on your website.",timestamp:new Date};c(B=>[...B,R,E]),f("");return}const D={role:"user",content:h.trim(),timestamp:new Date};c(R=>[...R,D]),f(""),g(!0);try{const E={role:"assistant",content:(await pLe({chatbot_id:r.id,message:D.content,visitor_id:x})).message,timestamp:new Date};c(B=>[...B,E]),console.log(" Calling playNotificationSound now..."),w(),console.log(" playNotificationSound called"),setTimeout(()=>{p==null||p.scrollIntoView({behavior:"smooth"})},100)}catch{n({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{g(!1)}},C=D=>{D.key==="Enter"&&N()},k=async()=>{if(r!=null&&r.id)try{if(!r.end_chat_notification_email)throw new Error("Please configure an end-of-chat notification email for this chatbot first");await uH({to_email:r.end_chat_notification_email,subject:`Test Email - ${r.name}`,html_content:`<p>Test email for chatbot "${r.name}" - End-of-chat notifications are working correctly!</p>`}),n({title:"Test Email Sent!",description:`Check your inbox at ${r.end_chat_notification_email}`})}catch(D){n({title:"Error",description:D.message||"Failed to send test notification",variant:"destructive"})}};return e?r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-0 md:p-4",children:s.jsxs(W,{className:"chat-container w-full h-screen md:max-w-md md:h-[600px] flex flex-col overflow-hidden border-0 shadow-xl rounded-none md:rounded-2xl",children:[s.jsx(re,{className:"text-white p-4 border-0",style:{backgroundColor:r.theme_color},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-black font-bold text-sm",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{children:s.jsx("h3",{className:"font-semibold text-white",children:r.name})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:s.jsx(pr,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:k,className:"text-white hover:bg-white/10",children:s.jsx(Za,{className:"h-4 w-4"})})]})]})}),s.jsxs(G,{className:"flex-1 flex flex-col p-0 bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100% - 120px)"},children:[l.map((D,R)=>s.jsxs("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:[D.role==="assistant"&&s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm text-gray-800 leading-relaxed",children:D.content})]}),D.role==="user"&&s.jsx("div",{className:"max-w-[85%] p-4 rounded-2xl rounded-tr-md text-sm text-white leading-relaxed",style:{backgroundColor:r.theme_color},children:D.content})]},R)),m&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:v})]}),u&&i.length>0&&s.jsxs("div",{className:"px-4 pb-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"Suggested questions"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(D=>s.jsx("button",{className:"text-left px-4 py-2 bg-white hover:bg-gray-50 transition-all duration-200 rounded-xl text-sm text-gray-700 border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow",style:{borderColor:`${r.theme_color}20`},onMouseEnter:R=>{R.currentTarget.style.borderColor=r.theme_color,R.currentTarget.style.color=r.theme_color},onMouseLeave:R=>{R.currentTarget.style.borderColor=`${r.theme_color}20`,R.currentTarget.style.color="#374151"},onClick:()=>{f(D.question),d(!1)},children:D.question},D.id))})]}),s.jsx("div",{className:"px-4 pb-2",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[s.jsx("img",{src:"https://ik.imagekit.io/wrewtbha2/voxtrofavicon.png?updatedAt=1752758574810",alt:"Voxtro",className:"w-4 h-4 object-contain"}),s.jsx("span",{children:"Powered by Voxtro"})]})})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx(le,{value:h,onChange:D=>f(D.target.value),onKeyPress:C,placeholder:"Message...",disabled:m,className:"border-0 bg-white rounded-full px-4 py-3 text-sm text-gray-900 placeholder:text-gray-500 shadow-sm focus:ring-2 focus:ring-blue-500 focus:shadow-md transition-all",style:{color:"#111827"}})}),s.jsx(X,{onClick:N,disabled:m||!h.trim(),size:"sm",className:"w-10 h-10 p-0 rounded-full bg-blue-500 hover:bg-blue-600 text-white border-0 shadow-sm",children:s.jsx(nu,{className:"h-4 w-4"})})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsx(qs,{to:"/",replace:!0})}var qA="Radio",[i3e,PH]=Or(qA),[o3e,l3e]=i3e(qA),AH=y.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,f]=y.useState(null),m=Ye(t,v=>f(v)),g=y.useRef(!1),p=h?u||!!h.closest("form"):!0;return s.jsxs(o3e,{scope:n,checked:a,disabled:o,children:[s.jsx(De.button,{type:"button",role:"radio","aria-checked":a,"data-state":MH(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:we(e.onClick,v=>{a||c==null||c(),p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),p&&s.jsx(c3e,{control:h,bubbles:!g.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});AH.displayName=qA;var TH="RadioIndicator",OH=y.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=l3e(TH,n);return s.jsx($n,{present:r||i.checked,children:s.jsx(De.span,{"data-state":MH(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});OH.displayName=TH;var c3e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=y.useRef(null),o=sv(n),l=Ag(t);return y.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function MH(e){return e?"checked":"unchecked"}var u3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VA="RadioGroup",[d3e,zGe]=Or(VA,[_f,PH]),DH=_f(),IH=PH(),[h3e,f3e]=d3e(VA),RH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,m=DH(n),g=ku(u),[p,v]=xs({prop:i,defaultProp:a,onChange:h});return s.jsx(h3e,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:v,children:s.jsx(EA,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:s.jsx(De.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...f,ref:t})})})});RH.displayName=VA;var $H="RadioGroupItem",LH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=f3e($H,n),o=i.disabled||r,l=DH(n),c=IH(n),u=y.useRef(null),d=Ye(t,u),h=i.value===a.value,f=y.useRef(!1);return y.useEffect(()=>{const m=p=>{u3e.includes(p.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),s.jsx(PA,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(AH,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:we(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:we(a.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});LH.displayName=$H;var m3e="RadioGroupIndicator",FH=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=IH(n);return s.jsx(OH,{...a,...r,ref:t})});FH.displayName=m3e;var BH=RH,UH=LH,p3e=FH;const zH=y.forwardRef(({className:e,...t},n)=>s.jsx(BH,{className:me("grid gap-2",e),...t,ref:n}));zH.displayName=BH.displayName;const qH=y.forwardRef(({className:e,...t},n)=>s.jsx(UH,{ref:n,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(p3e,{className:"flex items-center justify-center",children:s.jsx(VB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));qH.displayName=UH.displayName;function g3e({formData:e,onSubmit:t,isSubmitting:n=!1,themeColor:r}){const[a,i]=y.useState({}),[o,l]=y.useState({}),[c,u]=y.useState(!1),d=(g,p)=>{var v,x,b;return g.required&&(!p||p==="")?`${g.label} is required`:g.type==="email"&&p&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)?"Please enter a valid email address":g.type==="phone"&&p&&!/^[\+]?[1-9][\d]{0,15}$/.test(p.replace(/[\s\-\(\)]/g,""))?"Please enter a valid phone number":(v=g.validation)!=null&&v.min&&p&&p.length<g.validation.min?`${g.label} must be at least ${g.validation.min} characters`:(x=g.validation)!=null&&x.max&&p&&p.length>g.validation.max?`${g.label} must be no more than ${g.validation.max} characters`:(b=g.validation)!=null&&b.pattern&&p&&!new RegExp(g.validation.pattern).test(p)?`${g.label} format is invalid`:null},h=g=>{g.preventDefault();const p={};e.fields.forEach(v=>{const x=d(v,a[v.id]);x&&(p[v.id]=x)}),e.require_terms_acceptance&&!c&&(p.terms="You must accept the terms and conditions to proceed"),l(p),Object.keys(p).length===0&&t(a)},f=(g,p)=>{i(v=>({...v,[g]:p})),o[g]&&l(v=>({...v,[g]:""}))},m=g=>{var v,x,b;const p=o[g.id];switch(g.type){case"text":case"email":case"phone":case"number":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:g.id,className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(le,{id:g.id,type:g.type,placeholder:g.placeholder,value:a[g.id]||"",onChange:w=>f(g.id,w.target.value),className:`focus:ring-2 ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"date":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:g.id,className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(le,{id:g.id,type:"date",value:a[g.id]||"",onChange:w=>f(g.id,w.target.value),className:`focus:ring-2 ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"textarea":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:g.id,className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(xt,{id:g.id,placeholder:g.placeholder,value:a[g.id]||"",onChange:w=>f(g.id,w.target.value),rows:3,className:`focus:ring-2 resize-none ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"select":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(Ue,{value:a[g.id]||"",onValueChange:w=>f(g.id,w),children:[s.jsx(Le,{className:p?"border-destructive":"",children:s.jsx(ze,{placeholder:g.placeholder||"Select an option"})}),s.jsx(Fe,{children:(v=g.options)==null?void 0:v.map(w=>s.jsx(oe,{value:w,children:w},w))})]}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"radio":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(J,{className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(zH,{value:a[g.id]||"",onValueChange:w=>f(g.id,w),className:"space-y-2",children:(x=g.options)==null?void 0:x.map(w=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qH,{value:w,id:`${g.id}-${w}`}),s.jsx(J,{htmlFor:`${g.id}-${w}`,className:"text-sm font-normal",children:w})]},w))}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"checkbox":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(J,{className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:(b=g.options)==null?void 0:b.map(w=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ih,{id:`${g.id}-${w}`,checked:(a[g.id]||[]).includes(w),onCheckedChange:j=>{const S=a[g.id]||[];j?f(g.id,[...S,w]):f(g.id,S.filter(N=>N!==w))}}),s.jsx(J,{htmlFor:`${g.id}-${w}`,className:"text-sm font-normal",children:w})]},w))}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);default:return null}};return s.jsxs(W,{className:"w-full max-w-md mx-auto shadow-lg border-0 bg-card",children:[s.jsxs(re,{className:"text-center pb-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:r+"20"},children:s.jsx(Tn,{className:"h-5 w-5",style:{color:r}})})}),s.jsx(se,{className:"text-lg font-semibold text-foreground",children:e.form_title}),e.form_description&&s.jsx(xe,{className:"text-sm text-muted-foreground",children:e.form_description})]}),s.jsx(G,{children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.fields.map(m),e.require_terms_acceptance&&e.terms_and_conditions&&s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.terms_and_conditions})}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ih,{id:"terms-acceptance",checked:c,onCheckedChange:g=>{u(!!g),o.terms&&l(p=>({...p,terms:""}))}}),s.jsxs(J,{htmlFor:"terms-acceptance",className:"text-sm font-normal leading-relaxed",children:["I accept the terms and conditions",s.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),o.terms&&s.jsx("p",{className:"text-sm text-destructive",children:o.terms})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(X,{type:"submit",disabled:n,className:"w-full text-white font-medium py-2.5 hover:opacity-90 transition-opacity",style:{backgroundColor:r},children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Submit Form"]})})})]})})]})}function v3e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const x3e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,y3e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b3e={};function q$(e,t){return(b3e.jsx?y3e:x3e).test(e)}const w3e=/[ \t\n\f\r]/g;function j3e(e){return typeof e=="object"?e.type==="text"?V$(e.value):!1:V$(e)}function V$(e){return e.replace(w3e,"")===""}class uv{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}uv.prototype.normal={};uv.prototype.property={};uv.prototype.space=void 0;function VH(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new uv(n,r,t)}function Ik(e){return e.toLowerCase()}class _s{constructor(t,n){this.attribute=n,this.property=t}}_s.prototype.attribute="";_s.prototype.booleanish=!1;_s.prototype.boolean=!1;_s.prototype.commaOrSpaceSeparated=!1;_s.prototype.commaSeparated=!1;_s.prototype.defined=!1;_s.prototype.mustUseProperty=!1;_s.prototype.number=!1;_s.prototype.overloadedBoolean=!1;_s.prototype.property="";_s.prototype.spaceSeparated=!1;_s.prototype.space=void 0;let _3e=0;const mt=Pu(),Dn=Pu(),Rk=Pu(),ke=Pu(),nn=Pu(),Td=Pu(),ks=Pu();function Pu(){return 2**++_3e}const $k=Object.freeze(Object.defineProperty({__proto__:null,boolean:mt,booleanish:Dn,commaOrSpaceSeparated:ks,commaSeparated:Td,number:ke,overloadedBoolean:Rk,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),b1=Object.keys($k);class WA extends _s{constructor(t,n,r,a){let i=-1;if(super(t,n),W$(this,"space",a),typeof r=="number")for(;++i<b1.length;){const o=b1[i];W$(this,b1[i],(r&$k[o])===$k[o])}}}WA.prototype.defined=!0;function W$(e,t,n){n&&(e[t]=n)}function Ef(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new WA(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Ik(r)]=r,n[Ik(i.attribute)]=r}return new uv(t,n,e.space)}const WH=Ef({properties:{ariaActiveDescendant:null,ariaAtomic:Dn,ariaAutoComplete:null,ariaBusy:Dn,ariaChecked:Dn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:Dn,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:Dn,ariaFlowTo:nn,ariaGrabbed:Dn,ariaHasPopup:null,ariaHidden:Dn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:ke,ariaLive:null,ariaModal:Dn,ariaMultiLine:Dn,ariaMultiSelectable:Dn,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Dn,ariaReadOnly:Dn,ariaRelevant:null,ariaRequired:Dn,ariaRoleDescription:nn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Dn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function HH(e,t){return t in e?e[t]:t}function GH(e,t){return HH(e,t.toLowerCase())}const N3e=Ef({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Td,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:mt,allowPaymentRequest:mt,allowUserMedia:mt,alt:null,as:null,async:mt,autoCapitalize:null,autoComplete:nn,autoFocus:mt,autoPlay:mt,blocking:nn,capture:null,charSet:null,checked:mt,cite:null,className:nn,cols:ke,colSpan:null,content:null,contentEditable:Dn,controls:mt,controlsList:nn,coords:ke|Td,crossOrigin:null,data:null,dateTime:null,decoding:null,default:mt,defer:mt,dir:null,dirName:null,disabled:mt,download:Rk,draggable:Dn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:mt,formTarget:null,headers:nn,height:ke,hidden:Rk,high:ke,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:mt,inputMode:null,integrity:null,is:null,isMap:mt,itemId:null,itemProp:nn,itemRef:nn,itemScope:mt,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:mt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:mt,muted:mt,name:null,nonce:null,noModule:mt,noValidate:mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:mt,optimum:ke,pattern:null,ping:nn,placeholder:null,playsInline:mt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:mt,referrerPolicy:null,rel:nn,required:mt,reversed:mt,rows:ke,rowSpan:ke,sandbox:nn,scope:null,scoped:mt,seamless:mt,selected:mt,shadowRootClonable:mt,shadowRootDelegatesFocus:mt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Dn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:mt,useMap:null,value:Dn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:mt,declare:mt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:mt,noHref:mt,noShade:mt,noWrap:mt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Dn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:mt,disableRemotePlayback:mt,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:GH}),S3e=Ef({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ks,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:mt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Td,g2:Td,glyphName:Td,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:ks,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ks,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ks,rev:ks,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ks,requiredFeatures:ks,requiredFonts:ks,requiredFormats:ks,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:ks,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ks,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ks,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:HH}),KH=Ef({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),YH=Ef({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:GH}),JH=Ef({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),C3e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},k3e=/[A-Z]/g,H$=/-[a-z]/g,E3e=/^data[-\w.:]+$/i;function P3e(e,t){const n=Ik(t);let r=t,a=_s;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&E3e.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(H$,T3e);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!H$.test(i)){let o=i.replace(k3e,A3e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=WA}return new a(r,t)}function A3e(e){return"-"+e.toLowerCase()}function T3e(e){return e.charAt(1).toUpperCase()}const O3e=VH([WH,N3e,KH,YH,JH],"html"),HA=VH([WH,S3e,KH,YH,JH],"svg");function M3e(e){return e.join(" ").trim()}var GA={},G$=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,D3e=/\n/g,I3e=/^\s*/,R3e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,$3e=/^:\s*/,L3e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,F3e=/^[;\s]*/,B3e=/^\s+|\s+$/g,U3e=`
`,K$="/",Y$="*",jc="",z3e="comment",q3e="declaration",V3e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(g){var p=g.match(D3e);p&&(n+=p.length);var v=g.lastIndexOf(U3e);r=~v?g.length-v:r+g.length}function i(){var g={line:n,column:r};return function(p){return p.position=new o(g),u(),p}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(g){var p=new Error(t.source+":"+n+":"+r+": "+g);if(p.reason=g,p.filename=t.source,p.line=n,p.column=r,p.source=e,!t.silent)throw p}function c(g){var p=g.exec(e);if(p){var v=p[0];return a(v),e=e.slice(v.length),p}}function u(){c(I3e)}function d(g){var p;for(g=g||[];p=h();)p!==!1&&g.push(p);return g}function h(){var g=i();if(!(K$!=e.charAt(0)||Y$!=e.charAt(1))){for(var p=2;jc!=e.charAt(p)&&(Y$!=e.charAt(p)||K$!=e.charAt(p+1));)++p;if(p+=2,jc===e.charAt(p-1))return l("End of comment missing");var v=e.slice(2,p-2);return r+=2,a(v),e=e.slice(p),r+=2,g({type:z3e,comment:v})}}function f(){var g=i(),p=c(R3e);if(p){if(h(),!c($3e))return l("property missing ':'");var v=c(L3e),x=g({type:q3e,property:J$(p[0].replace(G$,jc)),value:v?J$(v[0].replace(G$,jc)):jc});return c(F3e),x}}function m(){var g=[];d(g);for(var p;p=f();)p!==!1&&(g.push(p),d(g));return g}return u(),m()};function J$(e){return e?e.replace(B3e,jc):jc}var W3e=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(GA,"__esModule",{value:!0});GA.default=G3e;var H3e=W3e(V3e);function G3e(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,H3e.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;a?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}var fj={};Object.defineProperty(fj,"__esModule",{value:!0});fj.camelCase=void 0;var K3e=/^--[a-zA-Z0-9_-]+$/,Y3e=/-([a-z])/g,J3e=/^[^-]+$/,X3e=/^-(webkit|moz|ms|o|khtml)-/,Q3e=/^-(ms)-/,Z3e=function(e){return!e||J3e.test(e)||K3e.test(e)},eFe=function(e,t){return t.toUpperCase()},X$=function(e,t){return"".concat(t,"-")},tFe=function(e,t){return t===void 0&&(t={}),Z3e(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Q3e,X$):e=e.replace(X3e,X$),e.replace(Y3e,eFe))};fj.camelCase=tFe;var nFe=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},rFe=nFe(GA),sFe=fj;function Lk(e,t){var n={};return!e||typeof e!="string"||(0,rFe.default)(e,function(r,a){r&&a&&(n[(0,sFe.camelCase)(r,t)]=a)}),n}Lk.default=Lk;var aFe=Lk;const iFe=Bt(aFe),XH=QH("end"),KA=QH("start");function QH(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oFe(e){const t=KA(e),n=XH(e);if(t&&n)return{start:t,end:n}}function Km(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Q$(e.position):"start"in e||"end"in e?Q$(e):"line"in e||"column"in e?Fk(e):""}function Fk(e){return Z$(e&&e.line)+":"+Z$(e&&e.column)}function Q$(e){return Fk(e&&e.start)+"-"+Fk(e&&e.end)}function Z$(e){return e&&typeof e=="number"?e:1}class Dr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=Km(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Dr.prototype.file="";Dr.prototype.name="";Dr.prototype.reason="";Dr.prototype.message="";Dr.prototype.stack="";Dr.prototype.column=void 0;Dr.prototype.line=void 0;Dr.prototype.ancestors=void 0;Dr.prototype.cause=void 0;Dr.prototype.fatal=void 0;Dr.prototype.place=void 0;Dr.prototype.ruleId=void 0;Dr.prototype.source=void 0;const YA={}.hasOwnProperty,lFe=new Map,cFe=/[A-Z]/g,uFe=new Set(["table","tbody","thead","tfoot","tr"]),dFe=new Set(["td","th"]),ZH="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hFe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bFe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yFe(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?HA:O3e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=eG(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function eG(e,t,n){if(t.type==="element")return fFe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mFe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return gFe(e,t,n);if(t.type==="mdxjsEsm")return pFe(e,t);if(t.type==="root")return vFe(e,t,n);if(t.type==="text")return xFe(e,t)}function fFe(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=HA,e.schema=a),e.ancestors.push(t);const i=nG(e,t.tagName,!1),o=wFe(e,t);let l=XA(e,t);return uFe.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!j3e(c):!0})),tG(e,o,i,t),JA(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function mFe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}hg(e,t.position)}function pFe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);hg(e,t.position)}function gFe(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=HA,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:nG(e,t.name,!0),o=jFe(e,t),l=XA(e,t);return tG(e,o,i,t),JA(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function vFe(e,t,n){const r={};return JA(r,XA(e,t)),e.create(t,e.Fragment,r,n)}function xFe(e,t){return t.value}function tG(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function JA(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function yFe(e,t,n){return r;function r(a,i,o,l){const u=Array.isArray(o.children)?n:t;return l?u(i,o,l):u(i,o)}}function bFe(e,t){return n;function n(r,a,i,o){const l=Array.isArray(i.children),c=KA(r);return t(a,i,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function wFe(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&YA.call(t.properties,a)){const i=_Fe(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&dFe.has(t.tagName)?r=l:n[o]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jFe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else hg(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else hg(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function XA(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:lFe;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;o=c+"-"+u,a.set(c,u+1)}}const l=eG(e,i,o);l!==void 0&&n.push(l)}return n}function _Fe(e,t,n){const r=P3e(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?v3e(n):M3e(n)),r.property==="style"){let a=typeof n=="object"?n:NFe(e,String(n));return e.stylePropertyNameCase==="css"&&(a=SFe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?C3e[r.property]||r.property:r.attribute,n]}}function NFe(e,t){try{return iFe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Dr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=ZH+"#cannot-parse-style-attribute",a}}function nG(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=q$(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=o}else r=q$(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return YA.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);hg(e)}function hg(e,t){const n=new Dr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ZH+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SFe(e){const t={};let n;for(n in e)YA.call(e,n)&&(t[CFe(n)]=e[n]);return t}function CFe(e){let t=e.replace(cFe,kFe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function kFe(e){return"-"+e.toLowerCase()}const w1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},EFe={};function PFe(e,t){const n=EFe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rG(e,r,a)}function rG(e,t,n){if(AFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return eL(e.children,t,n)}return Array.isArray(e)?eL(e,t,n):""}function eL(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=rG(e[a],t,n);return r.join("")}function AFe(e){return!!(e&&typeof e=="object")}const tL=document.createElement("i");function QA(e){const t="&"+e+";";tL.innerHTML=t;const n=tL.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Bi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function ia(e,t){return e.length>0?(Bi(e,e.length,0,t),e):t}const nL={}.hasOwnProperty;function TFe(e){const t={};let n=-1;for(;++n<e.length;)OFe(t,e[n]);return t}function OFe(e,t){let n;for(n in t){const a=(nL.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){nL.call(a,o)||(a[o]=[]);const l=i[o];MFe(a[o],Array.isArray(l)?l:l?[l]:[])}}}function MFe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Bi(e,0,0,r)}function sG(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Od(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ei=ac(/[A-Za-z]/),$s=ac(/[\dA-Za-z]/),DFe=ac(/[#-'*+\--9=?A-Z^-~]/);function Bk(e){return e!==null&&(e<32||e===127)}const Uk=ac(/\d/),IFe=ac(/[\dA-Fa-f]/),RFe=ac(/[!-/:-@[-`{-~]/);function nt(e){return e!==null&&e<-2}function gs(e){return e!==null&&(e<0||e===32)}function $t(e){return e===-2||e===-1||e===32}const $Fe=ac(new RegExp("\\p{P}|\\p{S}","u")),LFe=ac(/\s/);function ac(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Pf(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&$s(e.charCodeAt(n+1))&&$s(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function on(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(c){return $t(c)?(e.enter(n),l(c)):t(c)}function l(c){return $t(c)&&i++<a?(e.consume(c),l):(e.exit(n),t(c))}}const FFe={tokenize:BFe};function BFe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),on(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return nt(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const UFe={tokenize:zFe},rL={tokenize:qFe};function zFe(e){const t=this,n=[];let r=0,a,i,o;return l;function l(w){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const j=t.events.length;let S=j,N;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){N=t.events[S][1].end;break}x(r);let C=j;for(;C<t.events.length;)t.events[C][1].end={...N},C++;return Bi(t.events,S+1,0,t.events.slice(j)),t.events.length=C,u(w)}return l(w)}function u(w){if(r===n.length){if(!a)return f(w);if(a.currentConstruct&&a.currentConstruct.concrete)return g(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(rL,d,h)(w)}function d(w){return a&&b(),x(r),f(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(w)}function f(w){return t.containerState={},e.attempt(rL,m,g)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function g(w){if(w===null){a&&b(),x(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),p(w)}function p(w){if(w===null){v(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return nt(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),p)}function v(w,j){const S=t.sliceStream(w);if(j&&S.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(S),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const C=t.events.length;let k=C,D,R;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(D){R=t.events[k][1].end;break}D=!0}for(x(r),N=C;N<t.events.length;)t.events[N][1].end={...R},N++;Bi(t.events,k+1,0,t.events.slice(C)),t.events.length=N}}function x(w){let j=n.length;for(;j-- >w;){const S=n[j];t.containerState=S[1],S[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function qFe(e,t,n){return on(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sL(e){if(e===null||gs(e)||LFe(e))return 1;if($Fe(e))return 2}function ZA(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const zk={name:"attention",resolveAll:VFe,tokenize:WFe};function VFe(e,t){let n=-1,r,a,i,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};aL(h,-c),aL(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=ia(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=ia(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=ia(u,ZA(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=ia(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=ia(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Bi(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function WFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=sL(r);let i;return o;function o(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),d=sL(c),h=!d||d===2&&a||n.includes(c),f=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(a||!f)),u._close=!!(i===42?f:f&&(d||!h)),t(c)}}function aL(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const HFe={name:"autolink",tokenize:GFe};function GFe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ei(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||$s(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||$s(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Bk(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):DFe(m)?(e.consume(m),u):n(m)}function d(m){return $s(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||$s(m))&&r++<63){const g=m===45?f:h;return e.consume(m),g}return n(m)}}const mj={partial:!0,tokenize:KFe};function KFe(e,t,n){return r;function r(i){return $t(i)?on(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||nt(i)?t(i):n(i)}}const aG={continuation:{tokenize:JFe},exit:XFe,name:"blockQuote",tokenize:YFe};function YFe(e,t,n){const r=this;return a;function a(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return $t(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function JFe(e,t,n){const r=this;return a;function a(o){return $t(o)?on(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(aG,t,n)(o)}}function XFe(e){e.exit("blockQuote")}const iG={name:"characterEscape",tokenize:QFe};function QFe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return RFe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const oG={name:"characterReference",tokenize:ZFe};function ZFe(e,t,n){const r=this;let a=0,i,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=$s,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=IFe,d):(e.enter("characterReferenceValue"),i=7,o=Uk,d(h))}function d(h){if(h===59&&a){const f=e.exit("characterReferenceValue");return o===$s&&!QA(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&a++<i?(e.consume(h),d):n(h)}}const iL={partial:!0,tokenize:t5e},oL={concrete:!0,name:"codeFenced",tokenize:e5e};function e5e(e,t,n){const r=this,a={partial:!0,tokenize:S};let i=0,o=0,l;return c;function c(N){return u(N)}function u(N){const C=r.events[r.events.length-1];return i=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===l?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),$t(N)?on(e,h,"whitespace")(N):h(N))}function h(N){return N===null||nt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(iL,p,j)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(N))}function f(N){return N===null||nt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(N)):$t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),on(e,m,"whitespace")(N)):N===96&&N===l?n(N):(e.consume(N),f)}function m(N){return N===null||nt(N)?h(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||nt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(N)):N===96&&N===l?n(N):(e.consume(N),g)}function p(N){return e.attempt(a,j,v)(N)}function v(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return i>0&&$t(N)?on(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||nt(N)?e.check(iL,p,j)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||nt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function j(N){return e.exit("codeFenced"),t(N)}function S(N,C,k){let D=0;return R;function R(I){return N.enter("lineEnding"),N.consume(I),N.exit("lineEnding"),E}function E(I){return N.enter("codeFencedFence"),$t(I)?on(N,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):B(I)}function B(I){return I===l?(N.enter("codeFencedFenceSequence"),F(I)):k(I)}function F(I){return I===l?(D++,N.consume(I),F):D>=o?(N.exit("codeFencedFenceSequence"),$t(I)?on(N,L,"whitespace")(I):L(I)):k(I)}function L(I){return I===null||nt(I)?(N.exit("codeFencedFence"),C(I)):k(I)}}}function t5e(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const j1={name:"codeIndented",tokenize:r5e},n5e={partial:!0,tokenize:s5e};function r5e(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),on(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):nt(u)?e.attempt(n5e,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||nt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function s5e(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):on(e,i,"linePrefix",5)(o)}function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):nt(o)?a(o):n(o)}}const a5e={name:"codeText",previous:o5e,resolve:i5e,tokenize:l5e};function i5e(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function o5e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function l5e(e,t,n){let r=0,a,i;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),a=0,d(h)):nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||nt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class c5e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&cm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),cm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),cm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);cm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);cm(this.left,n.reverse())}}}function cm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lG(e){const t={};let n=-1,r,a,i,o,l,c,u;const d=new c5e(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,u5e(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return Bi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function u5e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,h,f=-1,m=n,g=0,p=0;const v=[p];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(p=f+1,v.push(p),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):v.pop(),f=v.length;f--;){const x=l.slice(v[f],v[f+1]),b=i.pop();c.push([b,b+x.length-1]),e.splice(b,2,x)}for(c.reverse(),f=-1;++f<c.length;)u[g+c[f][0]]=g+c[f][1],g+=c[f][1]-c[f][0]-1;return u}const d5e={resolve:f5e,tokenize:m5e},h5e={partial:!0,tokenize:p5e};function f5e(e){return lG(e),e}function m5e(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):nt(l)?e.check(h5e,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function p5e(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),on(e,i,"linePrefix")}function i(o){if(o===null||nt(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function cG(e,t,n,r,a,i,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(x){return x===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(x),e.exit(i),f):x===null||x===32||x===41||Bk(x)?n(x):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),p(x))}function f(x){return x===62?(e.enter(i),e.consume(x),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(l),f(x)):x===null||x===60||nt(x)?n(x):(e.consume(x),x===92?g:m)}function g(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function p(x){return!d&&(x===null||x===41||gs(x))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,p):x===41?(e.consume(x),d--,p):x===null||x===32||x===40||Bk(x)?n(x):(e.consume(x),x===92?v:p)}function v(x){return x===40||x===41||x===92?(e.consume(x),p):p(x)}}function uG(e,t,n,r,a,i){const o=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):nt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||nt(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!$t(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function dG(e,t,n,r,a,i){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(a),e.consume(f),e.exit(a),o=f===40?41:f,c):n(f)}function c(f){return f===o?(e.enter(a),e.consume(f),e.exit(a),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===o?(e.exit(i),c(o)):f===null?n(f):nt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),on(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||nt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(e.consume(f),d):d(f)}}function Ym(e,t){let n;return r;function r(a){return nt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):$t(a)?on(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const g5e={name:"definition",tokenize:x5e},v5e={partial:!0,tokenize:y5e};function x5e(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return uG.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return a=Od(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return gs(m)?Ym(e,u)(m):u(m)}function u(m){return cG(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(v5e,h,h)(m)}function h(m){return $t(m)?on(e,f,"whitespace")(m):f(m)}function f(m){return m===null||nt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function y5e(e,t,n){return r;function r(l){return gs(l)?Ym(e,a)(l):n(l)}function a(l){return dG(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return $t(l)?on(e,o,"whitespace")(l):o(l)}function o(l){return l===null||nt(l)?t(l):n(l)}}const b5e={name:"hardBreakEscape",tokenize:w5e};function w5e(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return nt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const j5e={name:"headingAtx",resolve:_5e,tokenize:N5e};function _5e(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Bi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function N5e(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||gs(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||nt(d)?(e.exit("atxHeading"),t(d)):$t(d)?on(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||gs(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const S5e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lL=["pre","script","style","textarea"],C5e={concrete:!0,name:"htmlFlow",resolveTo:P5e,tokenize:A5e},k5e={partial:!0,tokenize:O5e},E5e={partial:!0,tokenize:T5e};function P5e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function A5e(e,t,n){const r=this;let a,i,o,l,c;return u;function u(_){return d(_)}function d(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),h}function h(_){return _===33?(e.consume(_),f):_===47?(e.consume(_),i=!0,p):_===63?(e.consume(_),a=3,r.interrupt?t:M):Ei(_)?(e.consume(_),o=String.fromCharCode(_),v):n(_)}function f(_){return _===45?(e.consume(_),a=2,m):_===91?(e.consume(_),a=5,l=0,g):Ei(_)?(e.consume(_),a=4,r.interrupt?t:M):n(_)}function m(_){return _===45?(e.consume(_),r.interrupt?t:M):n(_)}function g(_){const A="CDATA[";return _===A.charCodeAt(l++)?(e.consume(_),l===A.length?r.interrupt?t:B:g):n(_)}function p(_){return Ei(_)?(e.consume(_),o=String.fromCharCode(_),v):n(_)}function v(_){if(_===null||_===47||_===62||gs(_)){const A=_===47,P=o.toLowerCase();return!A&&!i&&lL.includes(P)?(a=1,r.interrupt?t(_):B(_)):S5e.includes(o.toLowerCase())?(a=6,A?(e.consume(_),x):r.interrupt?t(_):B(_)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):i?b(_):w(_))}return _===45||$s(_)?(e.consume(_),o+=String.fromCharCode(_),v):n(_)}function x(_){return _===62?(e.consume(_),r.interrupt?t:B):n(_)}function b(_){return $t(_)?(e.consume(_),b):R(_)}function w(_){return _===47?(e.consume(_),R):_===58||_===95||Ei(_)?(e.consume(_),j):$t(_)?(e.consume(_),w):R(_)}function j(_){return _===45||_===46||_===58||_===95||$s(_)?(e.consume(_),j):S(_)}function S(_){return _===61?(e.consume(_),N):$t(_)?(e.consume(_),S):w(_)}function N(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),c=_,C):$t(_)?(e.consume(_),N):k(_)}function C(_){return _===c?(e.consume(_),c=null,D):_===null||nt(_)?n(_):(e.consume(_),C)}function k(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||gs(_)?S(_):(e.consume(_),k)}function D(_){return _===47||_===62||$t(_)?w(_):n(_)}function R(_){return _===62?(e.consume(_),E):n(_)}function E(_){return _===null||nt(_)?B(_):$t(_)?(e.consume(_),E):n(_)}function B(_){return _===45&&a===2?(e.consume(_),O):_===60&&a===1?(e.consume(_),$):_===62&&a===4?(e.consume(_),Y):_===63&&a===3?(e.consume(_),M):_===93&&a===5?(e.consume(_),U):nt(_)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(k5e,ee,F)(_)):_===null||nt(_)?(e.exit("htmlFlowData"),F(_)):(e.consume(_),B)}function F(_){return e.check(E5e,L,ee)(_)}function L(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),I}function I(_){return _===null||nt(_)?F(_):(e.enter("htmlFlowData"),B(_))}function O(_){return _===45?(e.consume(_),M):B(_)}function $(_){return _===47?(e.consume(_),o="",T):B(_)}function T(_){if(_===62){const A=o.toLowerCase();return lL.includes(A)?(e.consume(_),Y):B(_)}return Ei(_)&&o.length<8?(e.consume(_),o+=String.fromCharCode(_),T):B(_)}function U(_){return _===93?(e.consume(_),M):B(_)}function M(_){return _===62?(e.consume(_),Y):_===45&&a===2?(e.consume(_),M):B(_)}function Y(_){return _===null||nt(_)?(e.exit("htmlFlowData"),ee(_)):(e.consume(_),Y)}function ee(_){return e.exit("htmlFlow"),t(_)}}function T5e(e,t,n){const r=this;return a;function a(o){return nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function O5e(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(mj,t,n)}}const M5e={name:"htmlText",tokenize:D5e};function D5e(e,t,n){const r=this;let a,i,o;return l;function l(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),c}function c(M){return M===33?(e.consume(M),u):M===47?(e.consume(M),S):M===63?(e.consume(M),w):Ei(M)?(e.consume(M),k):n(M)}function u(M){return M===45?(e.consume(M),d):M===91?(e.consume(M),i=0,g):Ei(M)?(e.consume(M),b):n(M)}function d(M){return M===45?(e.consume(M),m):n(M)}function h(M){return M===null?n(M):M===45?(e.consume(M),f):nt(M)?(o=h,$(M)):(e.consume(M),h)}function f(M){return M===45?(e.consume(M),m):h(M)}function m(M){return M===62?O(M):M===45?f(M):h(M)}function g(M){const Y="CDATA[";return M===Y.charCodeAt(i++)?(e.consume(M),i===Y.length?p:g):n(M)}function p(M){return M===null?n(M):M===93?(e.consume(M),v):nt(M)?(o=p,$(M)):(e.consume(M),p)}function v(M){return M===93?(e.consume(M),x):p(M)}function x(M){return M===62?O(M):M===93?(e.consume(M),x):p(M)}function b(M){return M===null||M===62?O(M):nt(M)?(o=b,$(M)):(e.consume(M),b)}function w(M){return M===null?n(M):M===63?(e.consume(M),j):nt(M)?(o=w,$(M)):(e.consume(M),w)}function j(M){return M===62?O(M):w(M)}function S(M){return Ei(M)?(e.consume(M),N):n(M)}function N(M){return M===45||$s(M)?(e.consume(M),N):C(M)}function C(M){return nt(M)?(o=C,$(M)):$t(M)?(e.consume(M),C):O(M)}function k(M){return M===45||$s(M)?(e.consume(M),k):M===47||M===62||gs(M)?D(M):n(M)}function D(M){return M===47?(e.consume(M),O):M===58||M===95||Ei(M)?(e.consume(M),R):nt(M)?(o=D,$(M)):$t(M)?(e.consume(M),D):O(M)}function R(M){return M===45||M===46||M===58||M===95||$s(M)?(e.consume(M),R):E(M)}function E(M){return M===61?(e.consume(M),B):nt(M)?(o=E,$(M)):$t(M)?(e.consume(M),E):D(M)}function B(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),a=M,F):nt(M)?(o=B,$(M)):$t(M)?(e.consume(M),B):(e.consume(M),L)}function F(M){return M===a?(e.consume(M),a=void 0,I):M===null?n(M):nt(M)?(o=F,$(M)):(e.consume(M),F)}function L(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||gs(M)?D(M):(e.consume(M),L)}function I(M){return M===47||M===62||gs(M)?D(M):n(M)}function O(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function $(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),T}function T(M){return $t(M)?on(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):U(M)}function U(M){return e.enter("htmlTextData"),o(M)}}const eT={name:"labelEnd",resolveAll:L5e,resolveTo:F5e,tokenize:B5e},I5e={tokenize:U5e},R5e={tokenize:z5e},$5e={tokenize:q5e};function L5e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Bi(e,0,e.length,n),e}function F5e(e,t){let n=e.length,r=0,a,i,o,l;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=ia(l,e.slice(i+1,i+r+3)),l=ia(l,[["enter",d,t]]),l=ia(l,ZA(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),l=ia(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=ia(l,e.slice(o+1)),l=ia(l,[["exit",c,t]]),Bi(e,i,e.length,l),e}function B5e(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return l;function l(f){return i?i._inactive?h(f):(o=r.parser.defined.includes(Od(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(I5e,d,o?d:h)(f):f===91?e.attempt(R5e,d,o?u:h)(f):o?d(f):h(f)}function u(f){return e.attempt($5e,d,h)(f)}function d(f){return t(f)}function h(f){return i._balanced=!0,n(f)}}function U5e(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),a}function a(h){return gs(h)?Ym(e,i)(h):i(h)}function i(h){return h===41?d(h):cG(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return gs(h)?Ym(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?dG(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return gs(h)?Ym(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function z5e(e,t,n){const r=this;return a;function a(l){return uG.call(r,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(Od(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function q5e(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const V5e={name:"labelStartImage",resolveAll:eT.resolveAll,tokenize:W5e};function W5e(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const H5e={name:"labelStartLink",resolveAll:eT.resolveAll,tokenize:G5e};function G5e(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const _1={name:"lineEnding",tokenize:K5e};function K5e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),on(e,t,"linePrefix")}}const sy={name:"thematicBreak",tokenize:Y5e};function Y5e(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||nt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===a?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),$t(u)?on(e,l,"whitespace")(u):l(u))}}const ts={continuation:{tokenize:Z5e},exit:t6e,name:"list",tokenize:Q5e},J5e={partial:!0,tokenize:n6e},X5e={partial:!0,tokenize:e6e};function Q5e(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Uk(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(sy,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return Uk(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(mj,r.interrupt?n:d,e.attempt(J5e,f,h))}function d(m){return r.containerState.initialBlankLine=!0,i++,f(m)}function h(m){return $t(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Z5e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mj,a,i);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,on(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!$t(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(X5e,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,on(e,e.attempt(ts,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function e6e(e,t,n){const r=this;return on(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function t6e(e){e.exit(this.containerState.type)}function n6e(e,t,n){const r=this;return on(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!$t(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const cL={name:"setextUnderline",resolveTo:r6e,tokenize:s6e};function r6e(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function s6e(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),$t(u)?on(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||nt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const a6e={tokenize:i6e};function i6e(e){const t=this,n=e.attempt(mj,r,e.attempt(this.parser.constructs.flowInitial,a,on(e,e.attempt(this.parser.constructs.flow,a,e.attempt(d5e,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const o6e={resolveAll:fG()},l6e=hG("string"),c6e=hG("text");function hG(e){return{resolveAll:fG(e==="text"?u6e:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,l);return o;function o(d){return u(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=a[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function fG(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function u6e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,l=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const d6e={42:ts,43:ts,45:ts,48:ts,49:ts,50:ts,51:ts,52:ts,53:ts,54:ts,55:ts,56:ts,57:ts,62:aG},h6e={91:g5e},f6e={[-2]:j1,[-1]:j1,32:j1},m6e={35:j5e,42:sy,45:[cL,sy],60:C5e,61:cL,95:sy,96:oL,126:oL},p6e={38:oG,92:iG},g6e={[-5]:_1,[-4]:_1,[-3]:_1,33:V5e,38:oG,42:zk,60:[HFe,M5e],91:H5e,92:[b5e,iG],93:eT,95:zk,96:a5e},v6e={null:[zk,o6e]},x6e={null:[42,95]},y6e={null:[]},b6e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:x6e,contentInitial:h6e,disable:y6e,document:d6e,flow:m6e,flowInitial:f6e,insideSpan:v6e,string:p6e,text:g6e},Symbol.toStringTag,{value:"Module"}));function w6e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],l=[];const c={attempt:C(S),check:C(N),consume:b,enter:w,exit:j,interrupt:C(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(E){return o=ia(o,E),v(),o[o.length-1]!==null?[]:(k(t,0),u.events=ZA(i,u.events,u),u.events)}function f(E,B){return _6e(m(E),B)}function m(E){return j6e(o,E)}function g(){const{_bufferIndex:E,_index:B,line:F,column:L,offset:I}=r;return{_bufferIndex:E,_index:B,line:F,column:L,offset:I}}function p(E){a[E.line]=E.column,R()}function v(){let E;for(;r._index<o.length;){const B=o[r._index];if(typeof B=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<B.length;)x(B.charCodeAt(r._bufferIndex));else x(B)}}function x(E){d=d(E)}function b(E){nt(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,R()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=E}function w(E,B){const F=B||{};return F.type=E,F.start=g(),u.events.push(["enter",F,u]),l.push(F),F}function j(E){const B=l.pop();return B.end=g(),u.events.push(["exit",B,u]),B}function S(E,B){k(E,B.from)}function N(E,B){B.restore()}function C(E,B){return F;function F(L,I,O){let $,T,U,M;return Array.isArray(L)?ee(L):"tokenize"in L?ee([L]):Y(L);function Y(z){return V;function V(te){const Z=te!==null&&z[te],q=te!==null&&z.null,Q=[...Array.isArray(Z)?Z:Z?[Z]:[],...Array.isArray(q)?q:q?[q]:[]];return ee(Q)(te)}}function ee(z){return $=z,T=0,z.length===0?O:_(z[T])}function _(z){return V;function V(te){return M=D(),U=z,z.partial||(u.currentConstruct=z),z.name&&u.parser.constructs.disable.null.includes(z.name)?P():z.tokenize.call(B?Object.assign(Object.create(u),B):u,c,A,P)(te)}}function A(z){return E(U,M),I}function P(z){return M.restore(),++T<$.length?_($[T]):O}}}function k(E,B){E.resolveAll&&!i.includes(E)&&i.push(E),E.resolve&&Bi(u.events,B,u.events.length-B,E.resolve(u.events.slice(B),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function D(){const E=g(),B=u.previous,F=u.currentConstruct,L=u.events.length,I=Array.from(l);return{from:L,restore:O};function O(){r=E,u.previous=B,u.currentConstruct=F,u.events.length=L,l=I,R()}}function R(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function j6e(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function _6e(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function N6e(e){const r={constructs:TFe([b6e,...(e||{}).extensions||[]]),content:a(FFe),defined:[],document:a(UFe),flow:a(a6e),lazy:{},string:a(l6e),text:a(c6e)};return r;function a(i){return o;function o(l){return w6e(r,i,l)}}}function S6e(e){for(;!lG(e););return e}const uL=/[\0\t\n\r]/g;function C6e(){let e=1,t="",n=!0,r;return a;function a(i,o,l){const c=[];let u,d,h,f,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(uL.lastIndex=h,u=uL.exec(i),f=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(f),!u){t=i.slice(h);break}if(m===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(i.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const k6e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function E6e(e){return e.replace(k6e,P6e)}function P6e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return sG(n.slice(i?2:1),i?16:10)}return QA(n)||e}const mG={}.hasOwnProperty;function A6e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),T6e(n)(S6e(N6e(n).document().write(C6e()(e,t,!0))))}function T6e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ke),autolinkProtocol:D,autolinkEmail:D,atxHeading:i(qe),blockQuote:i(q),characterEscape:D,characterReference:D,codeFenced:i(Q),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Q,o),codeText:i(ne,o),codeTextData:D,data:D,codeFlowValue:D,definition:i(pe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Se),hardBreakEscape:i(Ve),hardBreakTrailing:i(Ve),htmlFlow:i(We,o),htmlFlowData:D,htmlText:i(We,o),htmlTextData:D,image:i(st),label:o,link:i(Ke),listItem:i(he),listItemValue:f,listOrdered:i(it,h),listUnordered:i(it),paragraph:i(ge),reference:_,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(qe),strong:i(ae),thematicBreak:i(gt)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:Z,autolinkProtocol:te,blockQuote:c(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:P,characterReferenceMarkerNumeric:P,characterReferenceValue:z,characterReference:V,codeFenced:c(v),codeFencedFence:p,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:c(x),codeText:c(I),codeTextData:R,data:R,definition:c(),definitionDestinationString:j,definitionLabelString:b,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(B),hardBreakTrailing:c(B),htmlFlow:c(F),htmlFlowData:R,htmlText:c(L),htmlTextData:R,image:c($),label:U,labelText:T,lineEnding:E,link:c(O),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:A,resourceDestinationString:M,resourceTitleString:Y,resource:ee,setextHeading:c(k),setextHeadingLineSequence:C,setextHeadingText:N,strong:c(),thematicBreak:c()}};pG(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ce){let ye={type:"root",children:[]};const Me={stack:[ye],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},Be=[];let Ze=-1;for(;++Ze<ce.length;)if(ce[Ze][1].type==="listOrdered"||ce[Ze][1].type==="listUnordered")if(ce[Ze][0]==="enter")Be.push(Ze);else{const ct=Be.pop();Ze=a(ce,ct,Ze)}for(Ze=-1;++Ze<ce.length;){const ct=t[ce[Ze][0]];mG.call(ct,ce[Ze][1].type)&&ct[ce[Ze][1].type].call(Object.assign({sliceSerialize:ce[Ze][2].sliceSerialize},Me),ce[Ze][1])}if(Me.tokenStack.length>0){const ct=Me.tokenStack[Me.tokenStack.length-1];(ct[1]||dL).call(Me,void 0,ct[0])}for(ye.position={start:Wo(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Wo(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<t.transforms.length;)ye=t.transforms[Ze](ye)||ye;return ye}function a(ce,ye,Me){let Be=ye-1,Ze=-1,ct=!1,Ir,gr,ka,Rr;for(;++Be<=Me;){const ue=ce[Be];switch(ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ue[0]==="enter"?Ze++:Ze--,Rr=void 0;break}case"lineEndingBlank":{ue[0]==="enter"&&(Ir&&!Rr&&!Ze&&!ka&&(ka=Be),Rr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rr=void 0}if(!Ze&&ue[0]==="enter"&&ue[1].type==="listItemPrefix"||Ze===-1&&ue[0]==="exit"&&(ue[1].type==="listUnordered"||ue[1].type==="listOrdered")){if(Ir){let Ae=Be;for(gr=void 0;Ae--;){const be=ce[Ae];if(be[1].type==="lineEnding"||be[1].type==="lineEndingBlank"){if(be[0]==="exit")continue;gr&&(ce[gr][1].type="lineEndingBlank",ct=!0),be[1].type="lineEnding",gr=Ae}else if(!(be[1].type==="linePrefix"||be[1].type==="blockQuotePrefix"||be[1].type==="blockQuotePrefixWhitespace"||be[1].type==="blockQuoteMarker"||be[1].type==="listItemIndent"))break}ka&&(!gr||ka<gr)&&(Ir._spread=!0),Ir.end=Object.assign({},gr?ce[gr][1].start:ue[1].end),ce.splice(gr||Be,0,["exit",Ir,ue[2]]),Be++,Me++}if(ue[1].type==="listItemPrefix"){const Ae={type:"listItem",_spread:!1,start:Object.assign({},ue[1].start),end:void 0};Ir=Ae,ce.splice(Be,0,["enter",Ae,ue[2]]),Be++,Me++,ka=void 0,Rr=!0}}}return ce[ye][1]._spread=ct,Me}function i(ce,ye){return Me;function Me(Be){l.call(this,ce(Be),Be),ye&&ye.call(this,Be)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(ce,ye,Me){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([ye,Me||void 0]),ce.position={start:Wo(ye.start),end:void 0}}function c(ce){return ye;function ye(Me){ce&&ce.call(this,Me),u.call(this,Me)}}function u(ce,ye){const Me=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==ce.type&&(ye?ye.call(this,ce,Be[0]):(Be[1]||dL).call(this,ce,Be[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Km({start:ce.start,end:ce.end})+"): its not open");Me.position.end=Wo(ce.end)}function d(){return PFe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(ce){if(this.data.expectingFirstListItemValue){const ye=this.stack[this.stack.length-2];ye.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.lang=ce}function g(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.meta=ce}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce.replace(/(\r?\n|\r)$/g,"")}function b(ce){const ye=this.resume(),Me=this.stack[this.stack.length-1];Me.label=ye,Me.identifier=Od(this.sliceSerialize(ce)).toLowerCase()}function w(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.title=ce}function j(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.url=ce}function S(ce){const ye=this.stack[this.stack.length-1];if(!ye.depth){const Me=this.sliceSerialize(ce).length;ye.depth=Me}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function C(ce){const ye=this.stack[this.stack.length-1];ye.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ce){const Me=this.stack[this.stack.length-1].children;let Be=Me[Me.length-1];(!Be||Be.type!=="text")&&(Be=Ne(),Be.position={start:Wo(ce.start),end:void 0},Me.push(Be)),this.stack.push(Be)}function R(ce){const ye=this.stack.pop();ye.value+=this.sliceSerialize(ce),ye.position.end=Wo(ce.end)}function E(ce){const ye=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=ye.children[ye.children.length-1];Me.position.end=Wo(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ye.type)&&(D.call(this,ce),R.call(this,ce))}function B(){this.data.atHardBreak=!0}function F(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce}function L(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce}function I(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.value=ce}function O(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ye,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function $(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ye=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ye,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function T(ce){const ye=this.sliceSerialize(ce),Me=this.stack[this.stack.length-2];Me.label=E6e(ye),Me.identifier=Od(ye).toLowerCase()}function U(){const ce=this.stack[this.stack.length-1],ye=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const Be=ce.children;Me.children=Be}else Me.alt=ye}function M(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.url=ce}function Y(){const ce=this.resume(),ye=this.stack[this.stack.length-1];ye.title=ce}function ee(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function A(ce){const ye=this.resume(),Me=this.stack[this.stack.length-1];Me.label=ye,Me.identifier=Od(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function P(ce){this.data.characterReferenceType=ce.type}function z(ce){const ye=this.sliceSerialize(ce),Me=this.data.characterReferenceType;let Be;Me?(Be=sG(ye,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=QA(ye);const Ze=this.stack[this.stack.length-1];Ze.value+=Be}function V(ce){const ye=this.stack.pop();ye.position.end=Wo(ce.end)}function te(ce){R.call(this,ce);const ye=this.stack[this.stack.length-1];ye.url=this.sliceSerialize(ce)}function Z(ce){R.call(this,ce);const ye=this.stack[this.stack.length-1];ye.url="mailto:"+this.sliceSerialize(ce)}function q(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function qe(){return{type:"heading",depth:0,children:[]}}function Ve(){return{type:"break"}}function We(){return{type:"html",value:""}}function st(){return{type:"image",title:null,url:"",alt:null}}function Ke(){return{type:"link",title:null,url:"",children:[]}}function it(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function he(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function ge(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function gt(){return{type:"thematicBreak"}}}function Wo(e){return{line:e.line,column:e.column,offset:e.offset}}function pG(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?pG(e,r):O6e(e,r)}}function O6e(e,t){let n;for(n in t)if(mG.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function dL(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Km({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Km({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Km({start:t.start,end:t.end})+") is still open")}function M6e(e){const t=this;t.parser=n;function n(r){return A6e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function D6e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function I6e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function R6e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function $6e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L6e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F6e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Pf(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function B6e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U6e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function gG(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function z6e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gG(e,t);const a={src:Pf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function q6e(e,t){const n={src:Pf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function V6e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function W6e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return gG(e,t);const a={href:Pf(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function H6e(e,t){const n={href:Pf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function G6e(e,t,n){const r=e.all(t),a=n?K6e(n):vG(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function K6e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=vG(n[r])}return t}function vG(e){const t=e.spread;return t??e.children.length>1}function Y6e(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function J6e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X6e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Q6e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Z6e(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=KA(t.children[1]),c=XH(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function eBe(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},m=o?o[c]:void 0;m&&(f.align=m);let g={type:"element",tagName:i,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function tBe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const hL=9,fL=32;function nBe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(mL(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(mL(t.slice(a),a>0,!1)),i.join("")}function mL(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===hL||i===fL;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===hL||i===fL;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function rBe(e,t){const n={type:"text",value:nBe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function sBe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const aBe={blockquote:D6e,break:I6e,code:R6e,delete:$6e,emphasis:L6e,footnoteReference:F6e,heading:B6e,html:U6e,imageReference:z6e,image:q6e,inlineCode:V6e,linkReference:W6e,link:H6e,listItem:G6e,list:Y6e,paragraph:J6e,root:X6e,strong:Q6e,table:Z6e,tableCell:tBe,tableRow:eBe,text:rBe,thematicBreak:sBe,toml:vx,yaml:vx,definition:vx,footnoteDefinition:vx};function vx(){}const xG=-1,pj=0,Jm=1,t0=2,tT=3,nT=4,rT=5,sT=6,yG=7,bG=8,pL=typeof self=="object"?self:globalThis,iBe=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case pj:case xG:return n(o,a);case Jm:{const l=n([],a);for(const c of o)l.push(r(c));return l}case t0:{const l=n({},a);for(const[c,u]of o)l[r(c)]=r(u);return l}case tT:return n(new Date(o),a);case nT:{const{source:l,flags:c}=o;return n(new RegExp(l,c),a)}case rT:{const l=n(new Map,a);for(const[c,u]of o)l.set(r(c),r(u));return l}case sT:{const l=n(new Set,a);for(const c of o)l.add(r(c));return l}case yG:{const{name:l,message:c}=o;return n(new pL[l](c),a)}case bG:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new pL[i](o),a)};return r},gL=e=>iBe(new Map,e)(0),Yu="",{toString:oBe}={},{keys:lBe}=Object,um=e=>{const t=typeof e;if(t!=="object"||!e)return[pj,t];const n=oBe.call(e).slice(8,-1);switch(n){case"Array":return[Jm,Yu];case"Object":return[t0,Yu];case"Date":return[tT,Yu];case"RegExp":return[nT,Yu];case"Map":return[rT,Yu];case"Set":return[sT,Yu];case"DataView":return[Jm,n]}return n.includes("Array")?[Jm,n]:n.includes("Error")?[yG,n]:[t0,n]},xx=([e,t])=>e===pj&&(t==="function"||t==="symbol"),cBe=(e,t,n,r)=>{const a=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},i=o=>{if(n.has(o))return n.get(o);let[l,c]=um(o);switch(l){case pj:{let d=o;switch(c){case"bigint":l=bG,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([xG],o)}return a([l,d],o)}case Jm:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),a([c,[...f]],o)}const d=[],h=a([l,d],o);for(const f of o)d.push(i(f));return h}case t0:{if(c)switch(c){case"BigInt":return a([c,o.toString()],o);case"Boolean":case"Number":case"String":return a([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],h=a([l,d],o);for(const f of lBe(o))(e||!xx(um(o[f])))&&d.push([i(f),i(o[f])]);return h}case tT:return a([l,o.toISOString()],o);case nT:{const{source:d,flags:h}=o;return a([l,{source:d,flags:h}],o)}case rT:{const d=[],h=a([l,d],o);for(const[f,m]of o)(e||!(xx(um(f))||xx(um(m))))&&d.push([i(f),i(m)]);return h}case sT:{const d=[],h=a([l,d],o);for(const f of o)(e||!xx(um(f)))&&d.push(i(f));return h}}const{message:u}=o;return a([l,{name:c,message:u}],o)};return i},vL=(e,{json:t,lossy:n}={})=>{const r=[];return cBe(!(t||n),!!t,new Map,r)(e),r},n0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?gL(vL(e,t)):structuredClone(e):(e,t)=>gL(vL(e,t));function uBe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function dBe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function hBe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||uBe,r=e.options.footnoteBackLabel||dBe,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=Pf(h.toLowerCase());let m=0;const g=[],p=e.footnoteCounts.get(h);for(;p!==void 0&&++m<=p;){g.length>0&&g.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,m);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...g)}else d.push(...g);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...n0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const wG=function(e){if(e==null)return gBe;if(typeof e=="function")return gj(e);if(typeof e=="object")return Array.isArray(e)?fBe(e):mBe(e);if(typeof e=="string")return pBe(e);throw new Error("Expected function, string, or object as test")};function fBe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wG(e[n]);return gj(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function mBe(e){const t=e;return gj(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function pBe(e){return gj(t);function t(n){return n&&n.type===e}}function gj(e){return t;function t(n,r,a){return!!(vBe(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function gBe(){return!0}function vBe(e){return e!==null&&typeof e=="object"&&"type"in e}const jG=[],xBe=!0,xL=!1,yBe="skip";function bBe(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=wG(a),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=jG,g,p,v;if((!t||i(c,u,d[d.length-1]||void 0))&&(m=wBe(n(c,d)),m[0]===xL))return m;if("children"in c&&c.children){const x=c;if(x.children&&m[0]!==yBe)for(p=(r?x.children.length:-1)+o,v=d.concat(x);p>-1&&p<x.children.length;){const b=x.children[p];if(g=l(b,p,v)(),g[0]===xL)return g;p=typeof g[1]=="number"?g[1]:p+o}}return m}}}function wBe(e){return Array.isArray(e)?e:typeof e=="number"?[xBe,e]:e==null?jG:[e]}function _G(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),bBe(e,i,l,a);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const qk={}.hasOwnProperty,jBe={};function _Be(e,t){const n=t||jBe,r=new Map,a=new Map,i=new Map,o={...aBe,...n.handlers},l={all:u,applyData:SBe,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:c,options:n,patch:NBe,wrap:kBe};return _G(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,m=l.handlers[f];if(qk.call(l.handlers,f)&&m)return m(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:p,...v}=d,x=n0(v);return x.children=l.all(d),x}return n0(d)}return(l.options.unknownHandler||CBe)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const g=l.one(f[m],d);if(g){if(m&&f[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=yL(g.value)),!Array.isArray(g)&&g.type==="element")){const p=g.children[0];p&&p.type==="text"&&(p.value=yL(p.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function NBe(e,t){e.position&&(t.position=oFe(e))}function SBe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,n0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function CBe(e,t){const n=t.data||{},r="value"in t&&!(qk.call(n,"hProperties")||qk.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kBe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function yL(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function bL(e,t){const n=_Be(e,t),r=n.one(e,void 0),a=hBe(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function EBe(e,t){return e&&"run"in e?async function(n,r){const a=bL(n,{file:r,...t});await e.run(a,r)}:function(n,r){return bL(n,{file:r,...e||t})}}function wL(e){if(e)throw e}var ay=Object.prototype.hasOwnProperty,NG=Object.prototype.toString,jL=Object.defineProperty,_L=Object.getOwnPropertyDescriptor,NL=function(t){return typeof Array.isArray=="function"?Array.isArray(t):NG.call(t)==="[object Array]"},SL=function(t){if(!t||NG.call(t)!=="[object Object]")return!1;var n=ay.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ay.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||ay.call(t,a)},CL=function(t,n){jL&&n.name==="__proto__"?jL(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},kL=function(t,n){if(n==="__proto__")if(ay.call(t,n)){if(_L)return _L(t,n).value}else return;return t[n]},PBe=function e(){var t,n,r,a,i,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=kL(l,n),a=kL(t,n),l!==a&&(d&&a&&(SL(a)||(i=NL(a)))?(i?(i=!1,o=r&&NL(r)?r:[]):o=r&&SL(r)?r:{},CL(l,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&CL(l,{name:n,newValue:a}));return l};const N1=Bt(PBe);function Vk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ABe(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(c,...u){const d=e[++i];let h=-1;if(c){o(c);return}for(;++h<a.length;)(u[h]===null||u[h]===void 0)&&(u[h]=a[h]);a=u,d?TBe(d,l)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function TBe(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(a);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return a(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(o,...l){n||(n=!0,t(o,...l))}function i(o){a(null,o)}}const xi={basename:OBe,dirname:MBe,extname:DBe,join:IBe,sep:"/"};function OBe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dv(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function MBe(e){if(dv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function DBe(e){dv(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function IBe(...e){let t=-1,n;for(;++t<e.length;)dv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":RBe(n)}function RBe(e){dv(e);const t=e.codePointAt(0)===47;let n=$Be(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $Be(e,t){let n="",r=0,a=-1,i=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function dv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const LBe={cwd:FBe};function FBe(){return"/"}function Wk(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function BBe(e){if(typeof e=="string")e=new URL(e);else if(!Wk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return UBe(e)}function UBe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const S1=["history","path","basename","stem","extname","dirname"];class SG{constructor(t){let n;t?Wk(t)?n={path:t}:typeof t=="string"||zBe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":LBe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<S1.length;){const i=S1[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)S1.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?xi.basename(this.path):void 0}set basename(t){k1(t,"basename"),C1(t,"basename"),this.path=xi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?xi.dirname(this.path):void 0}set dirname(t){EL(this.basename,"dirname"),this.path=xi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?xi.extname(this.path):void 0}set extname(t){if(C1(t,"extname"),EL(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Wk(t)&&(t=BBe(t)),k1(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?xi.basename(this.path,this.extname):void 0}set stem(t){k1(t,"stem"),C1(t,"stem"),this.path=xi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Dr(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function C1(e,t){if(e&&e.includes(xi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xi.sep+"`")}function k1(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function EL(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zBe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qBe=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},VBe={}.hasOwnProperty;class aT extends qBe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ABe()}copy(){const t=new aT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(N1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(A1("data",this.frozen),this.namespace[t]=n,this):VBe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(A1("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=yx(t),r=this.parser||this.Parser;return E1("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),E1("process",this.parser||this.Parser),P1("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const l=yx(t),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const m=h,g=r.stringify(m,f);GBe(g)?f.value=g:f.result=g,u(d,f)});function u(d,h){d||!h?o(d):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),E1("processSync",this.parser||this.Parser),P1("processSync",this.compiler||this.Compiler),this.process(t,a),AL("processSync","process",n),r;function a(i,o){n=!0,wL(i),r=o}}run(t,n,r){PL(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,l){const c=yx(n);a.run(t,c,u);function u(d,h,f){const m=h||t;d?l(d):o?o(m):r(void 0,m,f)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),AL("runSync","run",r),a;function i(o,l){wL(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=yx(n),a=this.compiler||this.Compiler;return P1("stringify",a),PL(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(A1("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=N1(!0,a.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[m,...g]=d;const p=r[f][1];Vk(p)&&Vk(m)&&(m=N1(!0,p,m)),r[f]=[u,m,...g]}}}}const WBe=new aT().freeze();function E1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function P1(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function A1(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function PL(e){if(!Vk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function AL(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function yx(e){return HBe(e)?e:new SG(e)}function HBe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function GBe(e){return typeof e=="string"||KBe(e)}function KBe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const YBe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",TL=[],OL={allowDangerousHtml:!0},JBe=/^(https?|ircs?|mailto|xmpp)$/i,XBe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function QBe(e){const t=ZBe(e),n=e8e(e);return t8e(t.runSync(t.parse(n),n),e)}function ZBe(e){const t=e.rehypePlugins||TL,n=e.remarkPlugins||TL,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...OL}:OL;return WBe().use(M6e).use(n).use(EBe,r).use(t)}function e8e(e){const t=e.children||"",n=new SG;return typeof t=="string"&&(n.value=t),n}function t8e(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||n8e;for(const d of XBe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+YBe+d.id,void 0);return _G(e,u),hFe(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in w1)if(Object.hasOwn(w1,m)&&Object.hasOwn(d.properties,m)){const g=d.properties[m],p=w1[m];(p===null||p.includes(d.tagName))&&(d.properties[m]=c(String(g||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,f)),m&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function n8e(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||JBe.test(e.slice(0,t))?e:""}const dm="https://voxtro-backend.onrender.com";function r8e(){const{chatbotId:e}=ew(),[t,n]=y.useState(null),[r,a]=y.useState([]),[i,o]=y.useState(""),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,f]=y.useState(null),[m,g]=y.useState(!1),[p,v]=y.useState(null),[x,b]=y.useState(!1),w=y.useRef(null),j=()=>{const T=`voxtro_visitor_${e}`;let U=localStorage.getItem(T);return U||(U=`visitor_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,localStorage.setItem(T,U)),U},S=()=>{const T=`voxtro_conversation_${e}`;return localStorage.getItem(T)},N=T=>{const U=`voxtro_conversation_${e}`;localStorage.setItem(U,T)},C=()=>{var T;(T=w.current)==null||T.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{C()},[r]),y.useEffect(()=>{(async()=>{if(!e){v("No chatbot ID provided"),c(!1);return}try{const U=await fetch(`${dm}/api/widget/${e}/config`);if(!U.ok){U.status===404?v("Chatbot not found"):v("Failed to load chatbot configuration"),c(!1);return}const M=await U.json();n(M);const Y=S();Y&&f(Y),a([{role:"assistant",content:M.welcome_message||"Hi! How can I help you today?"}])}catch(U){console.error("Error fetching widget config:",U),v("Failed to connect to chatbot service")}finally{c(!1)}})()},[e]);const k=async T=>{if(!T.trim()||!t)return;const U=j(),M={role:"user",content:T};a(Y=>[...Y,M]),o(""),d(!0);try{const Y=await fetch(`${dm}/api/widget/${e}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitor_id:U,message:T,conversation_id:h})});if(!Y.ok)throw new Error("Failed to send message");const ee=await Y.json();ee.conversation_id&&!h&&(f(ee.conversation_id),N(ee.conversation_id));const _=ee.message||"Sorry, I encountered an error. Please try again.",A=ee.form_data;a(P=>[...P,{role:"assistant",content:_,formData:A}])}catch(Y){console.error("Error sending message:",Y),a(ee=>[...ee,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}},D=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),k(i))},R=T=>{k(T),b(!0)},E=async(T,U)=>{if(!t)return;g(!0);const M=j();try{const Y=await fetch(`${dm}/api/widget/${e}/form`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form_id:T,submitted_data:U,conversation_id:h,visitor_id:M})});if(!Y.ok)throw new Error("Failed to submit form");const ee=await Y.json();a(_=>[..._,{role:"assistant",content:ee.message||"Thank you for submitting the form!"}]),_e.success("Form submitted successfully!")}catch(Y){console.error("Error submitting form:",Y),_e.error("Failed to submit form. Please try again."),a(ee=>[...ee,{role:"assistant",content:"Sorry, there was an error submitting your form. Please try again."}])}finally{g(!1)}},B=async T=>{try{await fetch(`${dm}/api/chat/conversations/${T}/end`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})}catch(U){console.error("Error ending conversation:",U)}},F=async()=>{h&&await B(h);const T=`voxtro_conversation_${e}`;localStorage.removeItem(T),f(null),a([{role:"assistant",content:(t==null?void 0:t.welcome_message)||"Hi! How can I help you today?"}]),b(!1)};if(y.useEffect(()=>{const T=()=>{h&&navigator.sendBeacon(`${dm}/api/chat/conversations/${h}/end`,JSON.stringify({}))};return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T),h&&B(h)}},[h]),l)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(p||!t)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-1",children:p||"Unable to load chatbot"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please check the chatbot ID and try again."})]})});const L=t.theme&&t.theme.primary_color||t.theme_color||"#3B82F6",I=t.widget_button_color||t.theme&&t.theme.secondary_color||"#6366F1",O=t.widget_button_text||"",$=t.faqs||[];return s.jsxs("div",{className:"h-screen w-full flex flex-col bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 text-white shadow-md flex items-center gap-3",style:{backgroundColor:L},children:[t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/30"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(ys,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"font-semibold text-base truncate",children:t.name}),s.jsx("p",{className:"text-xs opacity-80",children:"Online"})]}),h&&s.jsx("button",{onClick:F,className:"p-2 rounded-full hover:bg-white/20 transition-colors",title:"New conversation",children:s.jsx(Yl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map((T,U)=>s.jsxs("div",{children:[s.jsx("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-sm ${T.role==="user"?"text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,style:{backgroundColor:T.role==="user"?L:void 0},children:T.role==="assistant"?s.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0",children:s.jsx(QBe,{components:{p:({children:M})=>s.jsx("p",{className:"mb-1.5 last:mb-0",children:M}),ul:({children:M})=>s.jsx("ul",{className:"list-disc pl-4 space-y-0.5 my-1",children:M}),li:({children:M})=>s.jsx("li",{className:"text-sm",children:M}),strong:({children:M})=>s.jsx("strong",{className:"font-semibold",children:M}),a:({href:M,children:Y})=>s.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:Y})},children:T.content})}):T.content})}),T.formData&&s.jsx("div",{className:"flex justify-center mt-3",children:s.jsx(g3e,{formData:T.formData,onSubmit:M=>E(T.formData.id,M),isSubmitting:m,themeColor:L})})]},U)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 px-4 py-3 rounded-2xl rounded-bl-md",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:w})]}),$.length>0&&r.length<=1&&!x&&s.jsx("div",{className:"flex-shrink-0 px-4 py-6 border-t bg-white/90 shadow-sm rounded-b-xl",children:s.jsxs("div",{className:"max-w-sm mx-auto",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"Suggested questions"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:$.slice(0,4).map((T,U)=>s.jsx("button",{onClick:()=>R(T.question),className:"px-4 py-2 rounded-xl bg-white border text-gray-700 text-sm shadow-sm hover:shadow transition-all",style:{borderColor:`${L}20`},onMouseEnter:M=>{M.currentTarget.style.borderColor=L,M.currentTarget.style.color=L},onMouseLeave:M=>{M.currentTarget.style.borderColor=`${L}20`,M.currentTarget.style.color="#374151"},children:T.question},U))}),O.trim()?s.jsx("button",{className:"w-full py-3 rounded-full text-white font-semibold text-base shadow-lg transition-all hover:opacity-90",style:{backgroundColor:I},onClick:()=>b(!0),children:O}):s.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all hover:opacity-90",style:{backgroundColor:I},onClick:()=>b(!0),"aria-label":"Open chat",children:s.jsx(nu,{className:"w-5 h-5"})})]})}),x&&s.jsxs("div",{className:"flex-shrink-0 p-3 border-t bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),onKeyDown:D,placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 text-sm border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-400",style:{focusRing:L},disabled:u}),s.jsx("button",{onClick:()=>k(i),disabled:!i.trim()||u,className:"flex-shrink-0 w-10 h-10 rounded-full text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:opacity-90",style:{backgroundColor:I},children:s.jsx(nu,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-2",children:"Powered by Voxtro"})]})]})}function s8e(){const[e,t]=y.useState([]),n=(r,a="info")=>{t(i=>[...i,`${a.toUpperCase()}: ${r}`])};return y.useEffect(()=>{(async()=>{try{n("Testing widget URL...","info");const a=await fetch(`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?test=${Date.now()}`);if(n(`HTTP Status: ${a.status} ${a.statusText}`,a.ok?"success":"error"),n(`Content-Type: ${a.headers.get("content-type")}`,"info"),a.ok){const i=await a.text();n(`Response length: ${i.length} characters`,"success"),n(`Contains CHATBOT_ID: ${i.includes("CHATBOT_ID")?"Yes":"No"}`,i.includes("CHATBOT_ID")?"success":"error"),i.includes("console.error")?n(`Widget returns error: ${i}`,"error"):i.includes("CHATBOT_ID")&&(n("Widget returns valid JavaScript","success"),setTimeout(()=>{const o=document.createElement("script");o.src=`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?widget=${Date.now()}`,o.onload=()=>{n("Widget script loaded successfully","success"),setTimeout(()=>{const l=document.getElementById("voxtro-widget");n(`Widget element in DOM: ${l?"Yes":"No"}`,l?"success":"error")},1e3)},o.onerror=()=>{n("Widget script failed to load","error")},document.head.appendChild(o)},1e3))}else{const i=await a.text();n(`Error response: ${i}`,"error")}}catch(a){n(`Network error: ${a instanceof Error?a.message:"Unknown error"}`,"error")}})()},[]),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Widget Test"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Results:"}),s.jsx("div",{className:"space-y-3",children:e.map((r,a)=>{const[i,...o]=r.split(": "),l=o.join(": "),c=i==="ERROR",u=i==="SUCCESS";return s.jsxs("div",{className:`p-3 rounded-md ${c?"bg-red-50 border border-red-200 text-red-800":u?"bg-green-50 border border-green-200 text-green-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:[s.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",l]},a)})}),e.length===0&&s.jsx("div",{className:"text-gray-500 italic",children:"Running tests..."})]}),s.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"What to look for:"}),s.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[s.jsx("li",{children:" HTTP Status should be 200 OK"}),s.jsx("li",{children:" Response should contain CHATBOT_ID"}),s.jsx("li",{children:" Widget script should load successfully"}),s.jsx("li",{children:" Widget element should appear in DOM"}),s.jsx("li",{children:" Blue chat button should be visible in bottom-right corner"})]})]})]})})}const a8e=()=>{const{user:e}=qt(),[t,n]=y.useState(null),r=i=>{n(i)},a=()=>{n(null)};return e?s.jsxs("div",{className:"p-6",children:[!t&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View all chat history between users and your chatbots"})]}),s.jsx(W,{className:"h-[calc(100vh-200px)]",children:t?s.jsx(G9,{conversationId:t,onBack:a}):s.jsx(H9,{onConversationSelect:r})})]}):s.jsx("div",{children:"Please log in to view conversations."})},i8e=()=>{const{user:e}=qt(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState({totalConversations:0,totalMessages:0,totalBots:0,avgMessagesPerConversation:0}),[l,c]=y.useState(!0),u=async()=>{if(e)try{const{data:d,error:h}=await K.from("chatbots").select("id, name, theme_color").eq("user_id",e.id).eq("is_active",!0);if(h)throw h;const f=[];let m=0,g=0;for(const j of d||[]){const{count:S}=await K.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",j.id),{count:N}=await K.from("messages").select(`
            *,
            conversations!inner(chatbot_id)
          `,{count:"exact",head:!0}).eq("conversations.chatbot_id",j.id),C=S||0,k=N||0;f.push({id:j.id,name:j.name,conversations:C,messages:k,theme_color:j.theme_color}),m+=C,g+=k}f.sort((j,S)=>S.messages-j.messages),n(f);const p=new Date;p.setDate(p.getDate()-7);const{data:v,error:x}=await K.from("messages").select(`
          created_at,
          conversations!inner(
            chatbot_id,
            chatbots!inner(user_id)
          )
        `).eq("conversations.chatbots.user_id",e.id).gte("created_at",p.toISOString());if(x)throw x;const b=new Map;for(let j=6;j>=0;j--){const S=new Date;S.setDate(S.getDate()-j);const N=S.toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(N,0)}v==null||v.forEach(j=>{const N=new Date(j.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(N,(b.get(N)||0)+1)});const w=Array.from(b.entries()).map(([j,S])=>({date:j,messages:S}));a(w),o({totalConversations:m,totalMessages:g,totalBots:(d==null?void 0:d.length)||0,avgMessagesPerConversation:m>0?Math.round(g/m*100)/100:0})}catch(d){console.error("Error fetching usage data:",d),Te({title:"Error",description:"Failed to load usage analytics",variant:"destructive"})}finally{c(!1)}};return y.useEffect(()=>{u();const d=setInterval(u,3e4);return()=>clearInterval(d)},[e]),e?l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ah,{className:"h-8 w-8 animate-pulse mx-auto mb-2 text-primary"}),s.jsx("p",{children:"Loading analytics..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Usage Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor your chatbot performance and usage statistics"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalConversations})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(jo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalMessages})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Active Bots"}),s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalBots})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(ho,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.avgMessagesPerConversation})})]})]}),s.jsx("div",{className:"grid gap-6",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Messages Per Day"}),s.jsx(xe,{children:"Last 7 days message volume"})]}),s.jsx(G,{children:s.jsx(hb,{width:"100%",height:300,children:s.jsxs(i9,{data:r,children:[s.jsx(zW,{strokeDasharray:"3 3"}),s.jsx(du,{dataKey:"date"}),s.jsx(hu,{}),s.jsx(La,{}),s.jsx(bf,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})]})}),t.length>0&&s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Bot Details"}),s.jsx(xe,{children:"Detailed statistics for each bot"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:t.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ee,{variant:"outline",className:"text-xs",children:["#",h+1]}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.theme_color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.conversations," conversations  ",d.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:d.messages}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"total messages"})]})]},d.id))})})]})]}):s.jsx("div",{children:"Please log in to view usage analytics."})};function o8e({userId:e}){const[t,n]=y.useState({user_id:e,logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"}),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=y.useRef(null);y.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:g,error:p}=await K.from("branding_settings").select("*").eq("user_id",e).maybeSingle();if(p&&p.code!=="PGRST116")throw p;g&&n({id:g.id,user_id:g.user_id,logo_url:g.logo_url,primary_color:g.primary_color||"#f97316",secondary_color:g.secondary_color||"#ea580c"})}catch(g){console.error("Error fetching branding:",g),Te({title:"Error",description:"Failed to load branding settings",variant:"destructive"})}finally{a(!1)}},h=async g=>{var x;const p=(x=g.target.files)==null?void 0:x[0];if(!p)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp"].includes(p.type)){Te({title:"Invalid file type",description:"Please upload a PNG, JPEG, SVG, or WebP image",variant:"destructive"});return}if(p.size>2*1024*1024){Te({title:"File too large",description:"Please upload an image smaller than 2MB",variant:"destructive"});return}c(!0);try{const b=p.name.split(".").pop(),w=`${e}/logo.${b}`;await K.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]);const{error:j}=await K.storage.from("logos").upload(w,p,{upsert:!0});if(j)throw j;const{data:S}=K.storage.from("logos").getPublicUrl(w);n(N=>({...N,logo_url:S.publicUrl})),Te({title:"Logo uploaded",description:"Your logo has been uploaded successfully"})}catch(b){console.error("Error uploading logo:",b),Te({title:"Upload failed",description:b.message||"Failed to upload logo",variant:"destructive"})}finally{c(!1)}},f=async()=>{if(t.logo_url)try{await K.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]),n(g=>({...g,logo_url:null})),Te({title:"Logo removed",description:"Your logo has been removed"})}catch(g){console.error("Error removing logo:",g),Te({title:"Error",description:"Failed to remove logo",variant:"destructive"})}},m=async()=>{o(!0);try{const g={user_id:e,logo_url:t.logo_url,primary_color:t.primary_color,secondary_color:t.secondary_color};if(t.id){const{error:p}=await K.from("branding_settings").update(g).eq("id",t.id);if(p)throw p}else{const{data:p,error:v}=await K.from("branding_settings").insert(g).select().single();if(v)throw v;n(x=>({...x,id:p.id}))}Te({title:"Success",description:"Branding settings saved successfully"})}catch(g){console.error("Error saving branding:",g),Te({title:"Error",description:"Failed to save branding settings",variant:"destructive"})}finally{o(!1)}};return r?s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yM,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Customer Portal Branding"})]})}),s.jsx(G,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading branding settings..."})})]}):s.jsxs(W,{className:"md:col-span-2",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yM,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Customer Portal Branding"})]}),s.jsx(xe,{children:"Customize the appearance of the customer portal with your brand colors and logo"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{children:"Company Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-16 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted/30 overflow-hidden",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Company logo",className:"max-w-full max-h-full object-contain p-2"}):s.jsx(Ete,{className:"w-8 h-8 text-muted-foreground/50"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{ref:u,type:"file",accept:"image/png,image/jpeg,image/svg+xml,image/webp",onChange:h,className:"hidden"}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},disabled:l,children:[s.jsx(Ute,{className:"w-4 h-4 mr-2"}),l?"Uploading...":"Upload Logo"]}),t.logo_url&&s.jsxs(X,{variant:"ghost",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(ln,{className:"w-4 h-4 mr-2"}),"Remove"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPEG, SVG or WebP. Max 2MB."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{htmlFor:"primary-color",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"primary-color",value:t.primary_color,onChange:g=>n(p=>({...p,primary_color:g.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(le,{value:t.primary_color,onChange:g=>n(p=>({...p,primary_color:g.target.value})),placeholder:"#f97316",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for buttons, links, and accents"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{htmlFor:"secondary-color",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"secondary-color",value:t.secondary_color,onChange:g=>n(p=>({...p,secondary_color:g.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(le,{value:t.secondary_color,onChange:g=>n(p=>({...p,secondary_color:g.target.value})),placeholder:"#ea580c",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for hover states and secondary elements"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{children:"Preview"}),s.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Preview logo",className:"h-8 object-contain"}):s.jsx("div",{className:"h-8 w-24 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Your Logo"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-md text-white text-sm font-medium transition-colors",style:{backgroundColor:t.primary_color},onMouseEnter:g=>g.currentTarget.style.backgroundColor=t.secondary_color,onMouseLeave:g=>g.currentTarget.style.backgroundColor=t.primary_color,children:"Primary Button"}),s.jsx("button",{className:"px-4 py-2 rounded-md text-sm font-medium border transition-colors",style:{color:t.primary_color,borderColor:t.primary_color},children:"Secondary Button"})]})]})]}),s.jsxs(X,{onClick:m,disabled:i,className:"w-full",children:[s.jsx(Ja,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Branding Settings"]})]})})]})}const l8e=()=>{const{user:e}=qt(),{theme:t,setTheme:n}=Hg(),[r,a]=y.useState(null),[i,o]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState({user_id:"",chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:""}),[h,f]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState(""),[x,b]=y.useState(""),[w,j]=y.useState(!0),[S,N]=y.useState(!1),[C,k]=y.useState([]),[D,R]=y.useState(""),[E,B]=y.useState(""),[F,L]=y.useState(""),[I,O]=y.useState(!1),[$,T]=y.useState(!1),[U,M]=y.useState([]),[Y,ee]=y.useState(""),[_,A]=y.useState(""),[P,z]=y.useState(!1),[V,te]=y.useState(!1),[Z,q]=y.useState([]),[Q,ne]=y.useState(""),[pe,Se]=y.useState(""),[qe,Ve]=y.useState(!1),[We,st]=y.useState(!1),Ke=async()=>{if(e)try{const{data:ue,error:Ae}=await K.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(Ae)throw Ae;ue&&(a(ue),o(ue.full_name||"")),c(e.email||"")}catch(ue){console.error("Error fetching profile:",ue),Te({title:"Error",description:"Failed to load profile",variant:"destructive"})}},it=async()=>{if(e)try{const{data:ue,error:Ae}=await K.from("notification_preferences").select("*").eq("user_id",e.id).maybeSingle();if(Ae&&Ae.code!=="PGRST116")throw Ae;d(ue||{user_id:e.id,chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:e.email||""})}catch(ue){console.error("Error fetching notification preferences:",ue),Te({title:"Error",description:"Failed to load notification preferences",variant:"destructive"})}},he=async()=>{if(e)try{const{data:ue,error:Ae}=await K.from("voice_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Ae)throw Ae;k(ue||[])}catch(ue){console.error("Error fetching voice connections:",ue)}},ge=async()=>{if(e)try{const{data:ue,error:Ae}=await K.from("elevenlabs_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Ae)throw Ae;M(ue||[])}catch(ue){console.error("Error fetching ElevenLabs connections:",ue)}},ae=async()=>{if(e)try{const{data:ue,error:Ae}=await K.from("openai_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Ae)throw Ae;q(ue||[])}catch(ue){console.error("Error fetching OpenAI connections:",ue)}},Ne=async()=>{j(!0),await Promise.all([Ke(),it(),he(),ge(),ae()]),j(!1)},gt=async()=>{var ue;if(e){N(!0);try{const Ae=l!==e.email,be=i.trim()!==((r==null?void 0:r.full_name)||"");if(Ae&&l.trim()){const{error:Je}=await K.auth.updateUser({email:l.trim()});if(Je)throw Je;Te({title:"Email Update Sent",description:"Please check both your old and new email addresses to confirm the change"})}if(be){const Je={user_id:e.id,full_name:i.trim()||null,email:e.email};if(r){const{error:ot}=await K.from("profiles").update({full_name:Je.full_name}).eq("user_id",e.id);if(ot)throw ot}else{const{error:ot}=await K.from("profiles").insert(Je);if(ot)throw ot}}!Ae&&be?Te({title:"Success",description:"Profile updated successfully"}):!Ae&&!be&&Te({title:"No Changes",description:"No changes were made to your profile"}),await Ke()}catch(Ae){console.error("Error saving profile:",Ae);let be="Failed to update profile";(ue=Ae.message)!=null&&ue.includes("email")&&(be="Failed to update email. Please check the email format."),Te({title:"Error",description:be,variant:"destructive"})}finally{N(!1)}}},ce=async()=>{if(e){N(!0);try{if(u.id){const{error:ue}=await K.from("notification_preferences").update({chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null}).eq("user_id",e.id);if(ue)throw ue}else{const{error:ue}=await K.from("notification_preferences").insert({user_id:e.id,chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null});if(ue)throw ue}Te({title:"Success",description:"Notification preferences updated successfully"}),await it()}catch(ue){console.error("Error saving notification preferences:",ue),Te({title:"Error",description:"Failed to update notification preferences",variant:"destructive"})}finally{N(!1)}}},ye=async()=>{var ue,Ae;if(e){if(!h||!m||!p){Te({title:"Error",description:"Please fill in all password fields",variant:"destructive"});return}if(m!==p){Te({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(m.length<6){Te({title:"Error",description:"New password must be at least 6 characters long",variant:"destructive"});return}N(!0);try{const{error:be}=await K.auth.updateUser({password:m});if(be)throw be;f(""),g(""),v(""),Te({title:"Success",description:"Password updated successfully"})}catch(be){console.error("Error changing password:",be);let Je="Failed to update password";(ue=be.message)!=null&&ue.includes("weak")?Je="Password is too weak. Please choose a stronger password.":(Ae=be.message)!=null&&Ae.includes("same")&&(Je="New password must be different from your current password."),Te({title:"Error",description:Je,variant:"destructive"})}finally{N(!1)}}},Me=async()=>{if(!D.trim()){Te({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!F.trim()){Te({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}O(!0);try{const{data:{session:ue}}=await K.auth.getSession();if(!e||!(ue!=null&&ue.access_token)){Te({title:"Not Logged In",description:"You must be logged in to validate VAPI credentials. Please sign in and try again.",variant:"destructive"}),O(!1);return}const Ae=await xLe(D.trim(),E.trim()),be=(Ae==null?void 0:Ae.data)||Ae;if(!be.valid){Te({title:"Invalid Credentials",description:be.message||"The credentials you provided are not valid.",variant:"destructive"});return}const Je=C.length===0,{error:ot}=await K.from("voice_connections").insert({user_id:e==null?void 0:e.id,api_key:D.trim(),public_key:E.trim()||null,org_name:F.trim(),is_active:Je});if(ot){if(ot.code==="23505"){Te({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw ot}Te({title:"Success",description:`Organization "${F}" connected successfully`}),R(""),B(""),L(""),T(!1),await he()}catch(ue){console.error("Error connecting voice:",ue),Te({title:"Error",description:ue.message||"Failed to connect voice service",variant:"destructive"})}finally{O(!1)}},Be=async ue=>{const Ae=C.find(be=>be.id===ue);if(Ae)try{const{error:be}=await K.from("voice_connections").delete().eq("id",ue);if(be)throw be;if(Ae.is_active&&C.length>1){const Je=C.filter(ot=>ot.id!==ue);Je.length>0&&await K.from("voice_connections").update({is_active:!0}).eq("id",Je[0].id)}Te({title:"Success",description:`Organization "${Ae.org_name}" removed`}),await he()}catch(be){console.error("Error removing connection:",be),Te({title:"Error",description:"Failed to remove organization",variant:"destructive"})}},Ze=async(ue,Ae)=>{try{const{error:be}=await K.from("voice_connections").update({public_key:Ae.trim()||null}).eq("id",ue);if(be)throw be;Te({title:"Success",description:"Public key updated"}),await he()}catch(be){console.error("Error updating public key:",be),Te({title:"Error",description:be.message,variant:"destructive"})}},ct=async()=>{if(!Y.trim()){Te({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!_.trim()){Te({title:"Error",description:"Please enter a connection name",variant:"destructive"});return}z(!0);try{if(!(await bLe(Y.trim())).valid){Te({title:"Invalid API Key",description:"The API key you provided is not valid",variant:"destructive"});return}const Ae=U.length===0,{error:be}=await K.from("elevenlabs_connections").insert({user_id:e==null?void 0:e.id,api_key:Y.trim(),org_name:_.trim(),is_active:Ae});if(be){if(be.code==="23505"){Te({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw be}Te({title:"Success",description:`"${_}" connected successfully`}),ee(""),A(""),te(!1),await ge()}catch(ue){console.error("Error connecting ElevenLabs:",ue),Te({title:"Error",description:ue.message||"Failed to connect ElevenLabs",variant:"destructive"})}finally{z(!1)}},Ir=async ue=>{const Ae=U.find(be=>be.id===ue);if(Ae)try{const{error:be}=await K.from("elevenlabs_connections").delete().eq("id",ue);if(be)throw be;if(Ae.is_active&&U.length>1){const Je=U.filter(ot=>ot.id!==ue);Je.length>0&&await K.from("elevenlabs_connections").update({is_active:!0}).eq("id",Je[0].id)}Te({title:"Success",description:`"${Ae.org_name}" removed`}),await ge()}catch(be){console.error("Error removing ElevenLabs connection:",be),Te({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},gr=async()=>{if(!Q.trim()){Te({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!pe.trim()){Te({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}Ve(!0);try{const ue=Z.length===0,{error:Ae}=await K.from("openai_connections").insert({user_id:e==null?void 0:e.id,api_key:Q.trim(),org_name:pe.trim(),is_active:ue});if(Ae){if(Ae.code==="23505"){Te({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw Ae}Te({title:"Success",description:"OpenAI connected successfully"}),ne(""),Se(""),st(!1),await ae()}catch(ue){console.error("Error connecting OpenAI:",ue),Te({title:"Error",description:ue.message||"Failed to connect OpenAI",variant:"destructive"})}finally{Ve(!1)}},ka=async ue=>{const Ae=Z.find(be=>be.id===ue);if(Ae)try{const{error:be}=await K.from("openai_connections").delete().eq("id",ue);if(be)throw be;if(Ae.is_active&&Z.length>1){const Je=Z.filter(ot=>ot.id!==ue);Je.length>0&&await K.from("openai_connections").update({is_active:!0}).eq("id",Je[0].id)}Te({title:"Success",description:`"${Ae.org_name}" removed`}),await ae()}catch(be){console.error("Error removing OpenAI connection:",be),Te({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},Rr=async()=>{if(!e||!x.trim()){Te({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.trim())){Te({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}N(!0);try{Te({title:"Invite Sent",description:`Invitation sent to ${x}`}),b("")}catch(Ae){console.error("Error inviting member:",Ae),Te({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{N(!1)}};return y.useEffect(()=>{Ne()},[e]),e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account and application preferences"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Profile Settings"})]}),s.jsx(xe,{children:"Update your personal information and account details"})]}),s.jsx(G,{children:w?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading profile..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email",placeholder:"Enter your email address",value:l,onChange:ue=>c(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Changing your email will require confirmation from both your old and new email addresses"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"fullName",children:"Display Name"}),s.jsx(le,{id:"fullName",type:"text",placeholder:"Enter your display name",value:i,onChange:ue=>o(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This name will be displayed in the header"})]}),s.jsxs(X,{onClick:gt,disabled:S,className:"w-full",children:[s.jsx(Ja,{className:"w-4 h-4 mr-2"}),S?"Saving...":"Save Changes"]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(XB,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Appearance"})]}),s.jsx(xe,{children:"Customize the look and feel of the application"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark mode"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:t==="light"?"default":"outline",size:"sm",onClick:()=>n("light"),className:"gap-2",children:[s.jsx(IP,{className:"h-4 w-4"}),"Light"]}),s.jsxs(X,{variant:t==="dark"?"default":"outline",size:"sm",onClick:()=>n("dark"),className:"gap-2",children:[s.jsx(DP,{className:"h-4 w-4"}),"Dark"]})]})]})})})]}),e&&s.jsx(o8e,{userId:e.id}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(EP,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Notifications"})]}),s.jsx(xe,{children:"Configure how you receive notifications and alerts"})]}),s.jsx(G,{children:w?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading preferences..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"notification-email",children:"Notification Email"}),s.jsx(le,{id:"notification-email",type:"email",placeholder:"Enter email address for notifications",value:u.notification_email||(e==null?void 0:e.email)||"",onChange:ue=>d(Ae=>({...Ae,notification_email:ue.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address where notifications will be sent. Defaults to your account email."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"chat-started",children:"New chat started"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when a user starts a new conversation with your chatbot"})]}),s.jsx(Rt,{id:"chat-started",checked:u.chat_started,onCheckedChange:ue=>d(Ae=>({...Ae,chat_started:ue}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"chat-ended",children:"Chat ended"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when a conversation with your chatbot ends"})]}),s.jsx(Rt,{id:"chat-ended",checked:u.chat_ended,onCheckedChange:ue=>d(Ae=>({...Ae,chat_ended:ue}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"chat-error",children:"Chat errors"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when there's an error in your chatbot conversations"})]}),s.jsx(Rt,{id:"chat-error",checked:u.chat_error,onCheckedChange:ue=>d(Ae=>({...Ae,chat_error:ue}))})]})]}),s.jsxs(X,{onClick:ce,disabled:S,className:"w-full",children:[s.jsx(Ja,{className:"w-4 h-4 mr-2"}),S?"Saving...":"Save Notification Preferences"]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Security"})]}),s.jsx(xe,{children:"Manage your password and security preferences"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"current-password",children:"Current Password"}),s.jsx(le,{id:"current-password",type:"password",placeholder:"Enter your current password",value:h,onChange:ue=>f(ue.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-password",children:"New Password"}),s.jsx(le,{id:"new-password",type:"password",placeholder:"Enter your new password",value:m,onChange:ue=>g(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsx(le,{id:"confirm-password",type:"password",placeholder:"Confirm your new password",value:p,onChange:ue=>v(ue.target.value)})]}),s.jsxs(X,{onClick:ye,disabled:S,className:"w-full",children:[s.jsx(Ja,{className:"w-4 h-4 mr-2"}),S?"Updating...":"Update Password"]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Members"})]}),s.jsx(xe,{children:"Manage team members and access permissions"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"invite-email",children:"Invite New Member"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"invite-email",type:"email",placeholder:"Enter email address to invite",value:x,onChange:ue=>b(ue.target.value),className:"flex-1"}),s.jsx(X,{onClick:Rr,disabled:S||!x.trim(),children:S?"Sending...":"Invite"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send an invitation to add a new team member to your account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Current Members"}),s.jsx("div",{className:"border rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(ys,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:(r==null?void 0:r.full_name)||"You"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"Owner"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Team member management coming soon"})]})]})})]}),s.jsxs(W,{className:"md:col-span-2",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Voice Organizations"})]}),C.length>0&&!$&&s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>T(!0),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),s.jsx(xe,{children:"Connect multiple Vapi organizations and switch between them"})]}),s.jsx(G,{children:C.length===0&&!$?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No voice organizations connected. Add your first Vapi organization to get started."}),s.jsxs(X,{onClick:()=>T(!0),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}):s.jsxs("div",{className:"space-y-6",children:[C.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{children:"Connected Organizations"}),s.jsx(Ws,{className:C.length>3?"h-[280px]":"",children:s.jsx("div",{className:"space-y-3 pr-4",children:C.map(ue=>s.jsxs("div",{className:"p-4 border rounded-lg border-border hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"font-medium",children:ue.org_name||"Unnamed Organization"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Be(ue.id),className:"text-destructive hover:text-destructive",children:s.jsx(ln,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{className:"text-xs text-muted-foreground",children:"Public Key (for Web SDK)"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(le,{type:"text",placeholder:"Enter public key for browser testing",defaultValue:ue.public_key||"",className:"text-sm",onBlur:Ae=>{Ae.target.value!==(ue.public_key||"")&&Ze(ue.id,Ae.target.value)}})})]})]},ue.id))})})]}),$&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(J,{className:"text-base font-medium",children:"Add New Organization"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{T(!1),R(""),B(""),L("")},children:"Cancel"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-org-name",children:"Organization Name"}),s.jsx(le,{id:"new-org-name",type:"text",placeholder:"e.g., My Company Production",value:F,onChange:ue=>L(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A friendly name to identify this organization"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-voice-api-key",children:"Private API Key"}),s.jsx(le,{id:"new-voice-api-key",type:"password",placeholder:"Enter your Vapi private API key",value:D,onChange:ue=>R(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Vapi private API key for server-side operations"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-voice-public-key",children:"Public Key (Optional)"}),s.jsx(le,{id:"new-voice-public-key",type:"text",placeholder:"Enter your Vapi public key",value:E,onChange:ue=>B(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Add your public key to enable testing voice assistants in the browser"})]}),s.jsx(X,{onClick:Me,disabled:I||!D.trim()||!F.trim(),className:"w-full",children:I?"Validating...":"Connect Organization"})]}),C.length>0&&!$&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Switch between organizations on the Voice Assistants or Changelog pages."})]})})]}),s.jsxs(W,{className:"md:col-span-2",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"ElevenLabs Connection"})]}),U.length>0&&!V&&s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>te(!0),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]}),s.jsx(xe,{children:"Connect your ElevenLabs account to manage WhatsApp agents"})]}),s.jsx(G,{children:U.length===0&&!V?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No ElevenLabs account connected. Add your API key to get started with WhatsApp agents."}),s.jsxs(X,{onClick:()=>te(!0),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]}):s.jsxs("div",{className:"space-y-6",children:[U.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{children:"Connected Accounts"}),s.jsx(Ws,{className:U.length>3?"h-[200px]":"",children:s.jsx("div",{className:"space-y-3 pr-4",children:U.map(ue=>s.jsx("div",{className:"p-4 border rounded-lg border-border hover:border-primary/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:ue.org_name||"Unnamed Connection"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Ir(ue.id),className:"text-destructive hover:text-destructive",children:s.jsx(ln,{className:"w-4 h-4"})})]})},ue.id))})})]}),V&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(J,{className:"text-base font-medium",children:"Add ElevenLabs Connection"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{te(!1),ee(""),A("")},children:"Cancel"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-elevenlabs-org-name",children:"Connection Name"}),s.jsx(le,{id:"new-elevenlabs-org-name",type:"text",placeholder:"e.g., My ElevenLabs Account",value:_,onChange:ue=>A(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A friendly name to identify this connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-elevenlabs-api-key",children:"API Key"}),s.jsx(le,{id:"new-elevenlabs-api-key",type:"password",placeholder:"Enter your ElevenLabs API key",value:Y,onChange:ue=>ee(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your API key at elevenlabs.io/settings/api-keys"})]}),s.jsx(X,{onClick:ct,disabled:P||!Y.trim()||!_.trim(),className:"w-full",children:P?"Validating...":"Connect Account"})]}),U.length>0&&!V&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"View your WhatsApp agents on the WhatsApp Agents page."})]})})]}),s.jsxs(W,{className:"md:col-span-2",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"OpenAI Connection"})]}),Z.length>0&&!We&&s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>st(!0),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]}),s.jsx(xe,{children:"Connect your OpenAI API key to power chatbot conversations and AI-powered features"})]}),s.jsx(G,{children:Z.length===0&&!We?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No OpenAI account connected. Add your API key to enable chatbot creation and AI-powered features."}),s.jsxs(X,{onClick:()=>st(!0),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Add OpenAI API Key"]})]}):s.jsxs("div",{className:"space-y-4",children:[Z.map(ue=>s.jsx(W,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:ue.org_name}),ue.is_active&&s.jsx("span",{className:"px-2 py-0.5 text-xs bg-primary/10 text-primary rounded",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["API Key: ",ue.api_key.substring(0,7),"...",ue.api_key.substring(ue.api_key.length-4)]})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ka(ue.id),children:s.jsx(ln,{className:"w-4 h-4 text-destructive"})})]})})},ue.id)),We&&s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{className:"text-base",children:"Add OpenAI Connection"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-openai-org-name",children:"Organization Name"}),s.jsx(le,{id:"new-openai-org-name",type:"text",placeholder:"e.g., Main Account, Production, Testing",value:pe,onChange:ue=>Se(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A friendly name to identify this connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-openai-api-key",children:"API Key"}),s.jsx(le,{id:"new-openai-api-key",type:"password",placeholder:"sk-proj-...",value:Q,onChange:ue=>ne(ue.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your API key at platform.openai.com/api-keys"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>{st(!1),ne(""),Se("")},className:"flex-1",children:"Cancel"}),s.jsx(X,{onClick:gr,disabled:qe||!Q.trim()||!pe.trim(),className:"flex-1",children:qe?"Connecting...":"Connect OpenAI"})]})]})]}),Z.length>0&&!We&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"This API key will be used for chatbot conversations, website crawling, and AI-powered features."})]})})]})]})]}):s.jsx("div",{children:"Please log in to view settings."})},c8e=()=>{const{user:e}=qt();return e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Billing & Subscription"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription and billing information"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ote,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Current Plan"})]}),s.jsx(Ee,{variant:"default",children:"Free Tier"})]}),s.jsx(xe,{children:"You are currently on the free tier"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Monthly message limit"}),s.jsx("span",{className:"font-medium",children:"1,000 messages"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Chatbots"}),s.jsx("span",{className:"font-medium",children:"Up to 3"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Analytics"}),s.jsx("span",{className:"font-medium",children:"Basic"})]}),s.jsxs(X,{className:"w-full",children:[s.jsx($l,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(WB,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Payment Method"})]}),s.jsx(xe,{children:"Manage your payment methods"})]}),s.jsxs(G,{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment method on file"}),s.jsx(X,{variant:"outline",className:"w-full mt-4",children:"Add Payment Method"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lte,{className:"w-5 h-5 text-primary"}),s.jsx(se,{children:"Billing History"})]}),s.jsx(xe,{children:"View your past invoices and receipts"})]}),s.jsx(G,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]})]})]}):s.jsx("div",{children:"Please log in to view billing information."})};function u8e({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,f]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState(""),[x,b]=y.useState(""),[w,j]=y.useState("Thank you for submitting the form!"),[S,N]=y.useState(!1),[C,k]=y.useState(""),[D,R]=y.useState("New Form Submission"),[E,B]=y.useState(!1),[F,L]=y.useState(""),[I,O]=y.useState(""),[$,T]=y.useState(!1),[U,M]=y.useState([]);y.useEffect(()=>{e&&Y()},[e]);const Y=async()=>{try{const{data:q,error:Q}=await K.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(Q)throw Q;n((q||[]).map(ne=>({...ne,fields:Array.isArray(ne.fields)?ne.fields:[]})))}catch(q){console.error("Error fetching forms:",q),_e.error("Failed to load forms")}finally{a(!1)}},ee=()=>{f(""),g(""),v(""),b(""),j("Thank you for submitting the form!"),N(!1),k(""),R("New Form Submission"),B(!1),L(""),O(""),T(!1),M([]),c(null),d(!1)},_=q=>{c(q),f(q.form_name),g(q.form_title),v(q.form_description||""),b(q.trigger_keywords.join(", ")),j(q.success_message),N(q.notify_email||!1),k(q.notification_email||""),R(q.email_subject||"New Form Submission"),B(q.webhook_enabled||!1),L(q.webhook_url||""),O(q.terms_and_conditions||""),T(q.require_terms_acceptance||!1),M(q.fields),d(!0)},A=()=>{const q={id:`field_${Date.now()}`,type:"text",label:"New Field",required:!1};M(Q=>[...Q,q])},P=(q,Q)=>{M(ne=>ne.map((pe,Se)=>Se===q?{...pe,...Q}:pe))},z=q=>{M(Q=>Q.filter((ne,pe)=>pe!==q))},V=async()=>{if(!h.trim()||!m.trim()||U.length===0){_e.error("Please fill in all required fields and add at least one form field");return}if(S&&!C.trim()){_e.error("Please enter a notification email address");return}if(E&&!F.trim()){_e.error("Please enter a webhook URL");return}if($&&!I.trim()){_e.error("Please enter terms and conditions text");return}o(!0);try{const q={chatbot_id:e,form_name:h.trim(),form_title:m.trim(),form_description:p.trim()||null,fields:U,trigger_keywords:x.split(",").map(ne=>ne.trim()).filter(ne=>ne),success_message:w.trim(),notify_email:S,notification_email:S&&C.trim()||null,email_subject:D.trim(),webhook_enabled:E,webhook_url:E&&F.trim()||null,terms_and_conditions:I.trim()||null,require_terms_acceptance:$};let Q;if(l?Q=await K.from("chatbot_forms").update(q).eq("id",l.id).select():Q=await K.from("chatbot_forms").insert(q).select(),Q.error)throw Q.error;_e.success(l?"Form updated successfully!":"Form created successfully!"),ee(),Y()}catch(q){console.error("Error saving form:",q),_e.error("Failed to save form")}finally{o(!1)}},te=async(q,Q)=>{try{const{error:ne}=await K.from("chatbot_forms").update({is_active:!Q}).eq("id",q);if(ne)throw ne;_e.success(`Form ${Q?"deactivated":"activated"} successfully`),Y()}catch(ne){console.error("Error updating form status:",ne),_e.error("Failed to update form status")}},Z=async q=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:Q}=await K.from("chatbot_forms").delete().eq("id",q);if(Q)throw Q;_e.success("Form deleted successfully"),Y()}catch(Q){console.error("Error deleting form:",Q),_e.error("Failed to delete form")}};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Chatbot Forms"}),s.jsx("p",{className:"text-muted-foreground",children:"Create forms that your chatbot can send to users"})]}),s.jsxs(mr,{open:u,onOpenChange:q=>{q||ee(),d(q)},children:[s.jsx(kf,{asChild:!0,children:s.jsxs(X,{children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create Form"]})}),s.jsxs(Qn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsx(er,{children:l?"Edit Form":"Create New Form"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"form-name",children:"Form Name *"}),s.jsx(le,{id:"form-name",placeholder:"Contact Form",value:h,onChange:q=>f(q.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"form-title",children:"Form Title *"}),s.jsx(le,{id:"form-title",placeholder:"Get in Touch",value:m,onChange:q=>g(q.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"form-description",children:"Form Description"}),s.jsx(xt,{id:"form-description",placeholder:"Please fill out this form so we can help you better.",value:p,onChange:q=>v(q.target.value),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"trigger-keywords",children:"Trigger Keywords"}),s.jsx(le,{id:"trigger-keywords",placeholder:"contact, form, get in touch",value:x,onChange:q=>b(q.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated keywords that trigger this form"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"success-message",children:"Success Message"}),s.jsx(le,{id:"success-message",value:w,onChange:q=>j(q.target.value)})]})]}),s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"notify-email",checked:S,onCheckedChange:N}),s.jsx(J,{htmlFor:"notify-email",children:"Send email notification when form is submitted"})]}),S&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"notification-email",children:"Notification Email *"}),s.jsx(le,{id:"notification-email",type:"email",placeholder:"notifications@example.com",value:C,onChange:q=>k(q.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address to receive form submissions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(le,{id:"email-subject",placeholder:"New Form Submission",value:D,onChange:q=>R(q.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"webhook-enabled",checked:E,onCheckedChange:B}),s.jsx(J,{htmlFor:"webhook-enabled",children:"Send webhook when form is submitted"})]}),E&&s.jsx("div",{className:"pl-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"webhook-url",children:"Webhook URL *"}),s.jsx(le,{id:"webhook-url",type:"url",placeholder:"https://your-webhook-endpoint.com/webhook",value:F,onChange:q=>L(q.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL where form data will be sent as POST request with JSON payload"})]})})]})]}),s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Terms and Conditions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"require-terms",checked:$,onCheckedChange:T}),s.jsx(J,{htmlFor:"require-terms",children:"Require users to accept terms and conditions"})]}),$&&s.jsxs("div",{className:"pl-6 space-y-2",children:[s.jsx(J,{htmlFor:"terms-text",children:"Terms and Conditions Text *"}),s.jsx(xt,{id:"terms-text",placeholder:"By submitting this form, you agree to our privacy policy and terms of service...",value:I,onChange:q=>O(q.target.value),rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This text will be displayed to users who must accept it before submitting the form"})]})]})]}),s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Form Fields"}),s.jsxs(X,{onClick:A,variant:"outline",size:"sm",children:[s.jsx(Gt,{className:"h-4 w-4 mr-1"}),"Add Field"]})]}),U.map((q,Q)=>s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end",children:[s.jsxs("div",{className:"col-span-3",children:[s.jsx(J,{children:"Field Type"}),s.jsxs(Ue,{value:q.type,onValueChange:ne=>P(Q,{type:ne}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"text",children:"Text"}),s.jsx(oe,{value:"email",children:"Email"}),s.jsx(oe,{value:"phone",children:"Phone"}),s.jsx(oe,{value:"number",children:"Number"}),s.jsx(oe,{value:"date",children:"Date"}),s.jsx(oe,{value:"textarea",children:"Textarea"}),s.jsx(oe,{value:"select",children:"Select"}),s.jsx(oe,{value:"radio",children:"Radio"}),s.jsx(oe,{value:"checkbox",children:"Checkbox"})]})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(J,{children:"Label"}),s.jsx(le,{value:q.label,onChange:ne=>P(Q,{label:ne.target.value}),placeholder:"Field label"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(J,{children:"Placeholder"}),s.jsx(le,{value:q.placeholder||"",onChange:ne=>P(Q,{placeholder:ne.target.value}),placeholder:"Placeholder text"})]}),(q.type==="select"||q.type==="radio"||q.type==="checkbox")&&s.jsxs("div",{className:"col-span-2",children:[s.jsx(J,{children:"Options"}),s.jsx(le,{value:(q.options||[]).join(", "),onChange:ne=>P(Q,{options:ne.target.value.split(",").map(pe=>pe.trim()).filter(pe=>pe)}),placeholder:"Option 1, Option 2"})]}),s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{checked:q.required||!1,onCheckedChange:ne=>P(Q,{required:ne})}),s.jsx(J,{className:"text-xs",children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(X,{onClick:()=>z(Q),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(ln,{className:"h-4 w-4"})})})]})},q.id)),U.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Tn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:'No fields added yet. Click "Add Field" to get started.'})]})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(X,{onClick:V,disabled:i,children:i?"Saving...":l?"Update Form":"Create Form"})})]})]})]})]}),t.length===0?s.jsx(W,{className:"text-center py-12",children:s.jsxs(G,{children:[s.jsx(Tn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No forms created yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first form to collect information from chat users"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(q=>s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-5 w-5"}),q.form_title,q.is_active?s.jsx(Ee,{variant:"default",children:"Active"}):s.jsx(Ee,{variant:"secondary",children:"Inactive"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:q.form_description||"No description provided"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(X,{onClick:()=>te(q.id,q.is_active),variant:"outline",size:"sm",children:[s.jsx(hs,{className:"h-4 w-4 mr-1"}),q.is_active?"Deactivate":"Activate"]}),s.jsxs(X,{onClick:()=>_(q),variant:"outline",size:"sm",children:[s.jsx(Dte,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(X,{onClick:()=>Z(q.id),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[s.jsx(ln,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fields:"}),s.jsx("span",{className:"font-medium",children:q.fields.length})]}),q.trigger_keywords.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggers:"}),s.jsx("div",{className:"flex gap-1",children:q.trigger_keywords.map(Q=>s.jsx(Ee,{variant:"outline",className:"text-xs",children:Q},Q))})]}),q.notify_email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email notifications:"}),s.jsx(Ee,{variant:"secondary",className:"text-xs",children:q.notification_email})]})]})})]},q.id))})]})}function d8e({chatbotId:e}){const[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:h,error:f}=await K.from("chatbot_forms").select("id").eq("chatbot_id",e);if(f||!h||h.length===0){n([]);return}const m=h.map(v=>v.id),{data:g,error:p}=await K.from("form_submissions").select(`
          *,
          chatbot_forms(form_name, form_title, form_description, fields)
        `).in("form_id",m).order("submitted_at",{ascending:!1});if(p)throw p;n((g||[]).map(v=>({...v,submitted_data:typeof v.submitted_data=="object"?v.submitted_data:{},chatbot_forms:v.chatbot_forms&&typeof v.chatbot_forms=="object"?v.chatbot_forms:{form_name:"Unknown Form",form_title:"Unknown Form",fields:[]}})))}catch(h){console.error("Error fetching form submissions:",h),_e.error("Failed to load form submissions")}finally{a(!1)}},c=()=>{if(t.length===0)return;const h=t.map(x=>{const b={"Form Name":x.chatbot_forms.form_name,"Submitted At":at(new Date(x.submitted_at),"yyyy-MM-dd HH:mm:ss"),"Visitor ID":x.visitor_id||"Anonymous",Status:x.status};return Object.entries(x.submitted_data).forEach(([w,j])=>{b[w]=Array.isArray(j)?j.join(", "):j}),b}),f=Object.keys(h[0]),m=[f.join(","),...h.map(x=>f.map(b=>`"${x[b]||""}"`).join(","))].join(`
`),g=new Blob([m],{type:"text/csv"}),p=window.URL.createObjectURL(g),v=document.createElement("a");v.href=p,v.download=`form-submissions-${at(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(p),_e.success("Form submissions exported successfully")},u=(h,f)=>Array.isArray(f)?f.join(", "):h.type==="date"&&f?at(new Date(f),"PPP"):(f==null?void 0:f.toString())||"Not provided",d=(h,f)=>{const m=f.find(g=>g.id===h);return(m==null?void 0:m.label)||h};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Form Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbot"})]}),t.length>0&&s.jsxs(X,{onClick:c,variant:"outline",children:[s.jsx(Nte,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),t.length===0?s.jsx(W,{className:"text-center py-12",children:s.jsxs(G,{children:[s.jsx(Tn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No form submissions yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Form submissions from your chatbot will appear here"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(h=>s.jsxs(W,{className:"hover:shadow-md transition-shadow",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Tn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(se,{className:"text-lg",children:h.chatbot_forms.form_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-4 w-4"}),at(new Date(h.submitted_at),"PPP p")]}),h.visitor_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ys,{className:"h-4 w-4"}),h.visitor_id]}),h.conversation_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"h-4 w-4"}),"Conversation"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{variant:h.status==="submitted"?"default":"secondary",children:h.status}),s.jsxs(mr,{children:[s.jsx(kf,{asChild:!0,children:s.jsxs(X,{onClick:()=>o(h),variant:"outline",size:"sm",children:[s.jsx(ba,{className:"h-4 w-4 mr-1"}),"View Details"]})}),s.jsxs(Qn,{className:"max-w-2xl",children:[s.jsx(Zn,{children:s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-5 w-5"}),h.chatbot_forms.form_title]})}),s.jsx(Ws,{className:"max-h-[60vh]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Submission Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"}),s.jsx("p",{className:"font-medium",children:at(new Date(h.submitted_at),"PPP p")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("p",{className:"font-medium capitalize",children:h.status})]}),h.visitor_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Visitor ID:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.visitor_id})]}),h.conversation_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversation:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.conversation_id})]})]})]}),s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Form Responses"}),Object.entries(h.submitted_data).map(([f,m])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:d(f,h.chatbot_forms.fields)}),s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm text-foreground",children:u(h.chatbot_forms.fields.find(g=>g.id===f),m)})})]},f))]})]})})]})]})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:h.chatbot_forms.form_description||"No description provided"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(h.submitted_data).slice(0,3).map(([f,m])=>s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs",children:[s.jsxs("span",{className:"font-medium",children:[d(f,h.chatbot_forms.fields),":"]}),s.jsx("span",{className:"ml-1",children:Array.isArray(m)?m.slice(0,2).join(", ")+(m.length>2?"...":""):((m==null?void 0:m.toString().slice(0,30))||"N/A")+((m==null?void 0:m.toString().length)>30?"...":"")})]},f)),Object.keys(h.submitted_data).length>3&&s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs text-muted-foreground",children:["+",Object.keys(h.submitted_data).length-3," more"]})]})]})})]},h.id))})]})}function h8e(){const{user:e}=qt(),[t,n]=y.useState([]),[r,a]=y.useState(""),[i,o]=y.useState(!0);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:c,error:u}=await K.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(u)throw u;n(c||[]),a("")}catch(c){console.error("Error fetching chatbots:",c),_e.error("Failed to load chatbots")}finally{o(!1)}};return e?i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Loading..."})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage forms and view submissions for your chatbots"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(Ue,{value:r,onValueChange:a,children:[s.jsx(Le,{className:"w-64",children:s.jsx(ze,{placeholder:"Select a chatbot"})}),s.jsx(Fe,{children:t.map(c=>s.jsx(oe,{value:c.id,children:c.name},c.id))})]})})]}),s.jsx(Yr,{}),r?s.jsxs(Nf,{defaultValue:"forms",className:"space-y-6",children:[s.jsxs(Eu,{children:[s.jsx(Kt,{value:"forms",children:"Forms"}),s.jsx(Kt,{value:"submissions",children:"Submissions"})]}),s.jsx(Yt,{value:"forms",children:s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{children:"Manage Forms"})}),s.jsx(G,{children:s.jsx(u8e,{chatbotId:r})})]})}),s.jsx(Yt,{value:"submissions",children:s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{children:"Form Submissions"})}),s.jsx(G,{children:s.jsx(d8e,{chatbotId:r})})]})})]}):s.jsx(W,{children:s.jsx(G,{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground mb-4",children:t.length===0?"No chatbots found. Create a chatbot first to manage forms.":"Select a chatbot to manage its forms and view submissions."})})})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Please log in to access this page."})})}function f8e({chatbotId:e,chatbotName:t,onBack:n}){const{toast:r}=vn(),a=y.useRef(null),[i,o]=y.useState("Untitled Flow"),[l,c]=y.useState(""),[u,d]=y.useState(!1),[h,f]=y.useState(!1),[m,g]=y.useState([{id:"start",type:"start",content:"Start",position:{x:0,y:0}}]),[p,v]=y.useState([]),[x,b]=y.useState(1),[w,j]=y.useState(null),[S,N]=y.useState({x:0,y:0}),[C,k]=y.useState(!1),[D,R]=y.useState({x:0,y:0}),[E,B]=y.useState(null),[F,L]=y.useState({x:0,y:0}),[I,O]=y.useState(!1),[$,T]=y.useState(null),[U,M]=y.useState({x:0,y:0}),Y=m.filter(he=>he.type==="trigger").length,ee=m.filter(he=>he.type==="action").length,_=()=>{r({title:"Flow saved",description:`"${i}" has been saved successfully.`})},A=he=>{const ge={id:`node-${Date.now()}`,type:he,content:he.charAt(0).toUpperCase()+he.slice(1),position:{x:(Math.random()-.5)*300,y:(Math.random()-.5)*300},...he==="trigger"&&{triggerType:"time-on-page",triggerValue:"5s"},...he==="action"&&{actionType:"show-message",actionValue:" Hi there! How can I help you today?",actionDelay:0}};g([...m,ge]),r({title:`${he.charAt(0).toUpperCase()+he.slice(1)} added`,description:"Node has been added to your flow"})},P=(he,ge)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,triggerType:ge}:Ne))},z=(he,ge)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,actionType:ge}:Ne))},V=(he,ge)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,actionValue:ge}:Ne))},te=(he,ge)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,actionDelay:ge}:Ne))},Z=he=>{he!=="start"&&(g(ge=>ge.filter(ae=>ae.id!==he)),r({title:"Node deleted",description:"Node has been removed from your flow"}))},q=()=>{b(he=>Math.min(he+.1,2))},Q=()=>{b(he=>Math.max(he-.1,.5))},ne=()=>{b(1),N({x:0,y:0})},pe=he=>{he.button===0&&!E&&(k(!0),R({x:he.clientX-S.x,y:he.clientY-S.y}),a.current&&(a.current.style.cursor="grabbing"))},Se=he=>{if(C&&!E&&!I)N({x:he.clientX-D.x,y:he.clientY-D.y});else if(E)We(he);else if(I&&a.current){const ge=a.current.getBoundingClientRect();M({x:he.clientX-ge.left,y:he.clientY-ge.top})}},qe=()=>{k(!1),B(null),O(!1),T(null),a.current&&(a.current.style.cursor="grab")},Ve=(he,ge)=>{var Be;he.stopPropagation();const ae=m.find(Ze=>Ze.id===ge);if(!ae)return;B(ge);const Ne=(Be=a.current)==null?void 0:Be.getBoundingClientRect();if(!Ne)return;const gt=Ne.width/2,ce=Ne.height/2,ye=gt+ae.position.x*x+S.x,Me=ce+ae.position.y*x+S.y;L({x:he.clientX-ye,y:he.clientY-Me})},We=he=>{if(!E||!a.current)return;const ge=a.current.getBoundingClientRect(),ae=ge.width/2,Ne=ge.height/2,gt=he.clientX-F.x,ce=he.clientY-F.y,ye=(gt-ae-S.x)/x,Me=(ce-Ne-S.y)/x;g(Be=>Be.map(Ze=>Ze.id===E?{...Ze,position:{x:ye,y:Me}}:Ze))},st=(he,ge,ae)=>{if(he.stopPropagation(),O(!0),T({nodeId:ge,point:ae}),a.current){const Ne=a.current.getBoundingClientRect();M({x:he.clientX-Ne.left,y:he.clientY-Ne.top})}},Ke=(he,ge,ae)=>{if(he.stopPropagation(),I&&$&&$.nodeId!==ge){const Ne={id:`conn-${Date.now()}`,sourceId:$.nodeId,targetId:ge,sourcePoint:$.point,targetPoint:ae};v(gt=>[...gt,Ne]),r({title:"Nodes connected",description:"Connection has been created"})}O(!1),T(null)},it=he=>{const ge=m.find(ce=>ce.id===he);if(!ge||!a.current)return{x:0,y:0};const ae=a.current.getBoundingClientRect(),Ne=ae.width/2,gt=ae.height/2;return{x:Ne+ge.position.x*x+S.x,y:gt+ge.position.y*x+S.y}};return y.useEffect(()=>{const he=()=>{k(!1),B(null),O(!1),T(null)};return window.addEventListener("mouseup",he),()=>window.removeEventListener("mouseup",he)},[]),s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"border-b bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex-1",children:[u?s.jsx(le,{value:i,onChange:he=>o(he.target.value),onBlur:()=>d(!1),autoFocus:!0,className:"text-lg font-semibold max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto"}):s.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-muted-foreground transition-colors",onClick:()=>d(!0),children:i}),h?s.jsx(le,{value:l,onChange:he=>c(he.target.value),onBlur:()=>f(!1),placeholder:"Add a description...",autoFocus:!0,className:"text-sm text-muted-foreground max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto mt-1"}):s.jsx("p",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground transition-colors",onClick:()=>f(!0),children:l||"Add a description..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ee,{variant:"secondary",className:"gap-1.5",children:[s.jsx(Cte,{className:"h-3 w-3"}),Y," Triggers"]}),s.jsxs(Ee,{variant:"secondary",className:"gap-1.5",children:[s.jsx($l,{className:"h-3 w-3"}),ee," Actions"]}),s.jsx(X,{variant:"outline",size:"sm",children:"Templates"}),s.jsx(X,{variant:"ghost",size:"icon",children:s.jsx(hs,{className:"h-4 w-4"})}),s.jsx(X,{onClick:_,size:"sm",children:"Save Flow"}),s.jsx(X,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(Yl,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 pb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Add Node:"}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A("trigger"),children:[s.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Trigger"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A("action"),children:[s.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Action"]})]})]}),s.jsxs("div",{ref:a,className:"flex-1 relative overflow-hidden bg-muted/20",style:{cursor:C?"grabbing":I?"crosshair":"grab"},onMouseDown:pe,onMouseMove:Se,onMouseUp:qe,onMouseLeave:qe,children:[s.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[p.map(he=>{const ge=m.find(Ze=>Ze.id===he.sourceId),ae=m.find(Ze=>Ze.id===he.targetId);if(!ge||!ae||!a.current)return null;const Ne=a.current.getBoundingClientRect(),gt=Ne.width/2,ce=Ne.height/2,ye={x:gt+ge.position.x*x+S.x,y:ce+ge.position.y*x+S.y+(he.sourcePoint==="bottom"?24:-24)},Me={x:gt+ae.position.x*x+S.x,y:ce+ae.position.y*x+S.y+(he.targetPoint==="top"?-24:24)},Be=(ye.y+Me.y)/2;return s.jsx("path",{d:`M ${ye.x} ${ye.y} L ${ye.x} ${Be} L ${Me.x} ${Be} L ${Me.x} ${Me.y}`,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",fill:"none",strokeDasharray:"6,6",className:"opacity-60",style:{animation:"flowLine 1s linear infinite"}},he.id)}),I&&$&&a.current&&(()=>{const he=it($.nodeId),ge=he.y+($.point==="bottom"?24:-24),ae=Math.abs(ge-U.y)/4;return s.jsx("path",{d:`M ${he.x} ${ge} C ${he.x} ${ge+ae}, ${U.x} ${U.y-ae}, ${U.x} ${U.y}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",className:"opacity-60"})})()]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:`translate(${S.x}px, ${S.y}px) scale(${x})`,transformOrigin:"center center",transition:C?"none":"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:s.jsx("div",{className:"relative w-full h-full",children:m.map(he=>s.jsxs("div",{className:"absolute select-none",style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${he.position.x}px), calc(-50% + ${he.position.y}px))`,pointerEvents:"auto"},children:[he.type!=="start"&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:ge=>st(ge,he.id,"top"),onMouseUp:ge=>Ke(ge,he.id,"top")}),s.jsx("div",{className:"relative",onMouseDown:ge=>Ve(ge,he.id),children:he.type==="start"?s.jsxs(X,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg cursor-grab",size:"lg",children:[s.jsx(Rte,{className:"h-4 w-4 mr-2 fill-current"}),he.content]}):he.type==="trigger"?s.jsx("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg p-3 min-w-[240px] cursor-grab",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Ot,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs(Ue,{value:he.triggerType,onValueChange:ge=>P(he.id,ge),children:[s.jsx(Le,{className:"border-none bg-transparent p-0 h-auto font-medium focus:ring-0",onClick:ge=>ge.stopPropagation(),onMouseDown:ge=>ge.stopPropagation(),children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"time-on-page",children:"Time on Page"}),s.jsx(oe,{value:"click",children:"Click Event"}),s.jsx(oe,{value:"scroll",children:"Scroll Depth"}),s.jsx(oe,{value:"message",children:"Message Received"})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:he.triggerValue||"5s"})]}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:ge=>{ge.stopPropagation(),Z(he.id)},onMouseDown:ge=>ge.stopPropagation(),children:s.jsx(ln,{className:"h-4 w-4"})})]})}):he.type==="action"?s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg min-w-[240px]",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-grab",onClick:ge=>{(ge.target===ge.currentTarget||ge.target.closest(".node-header"))&&j(w===he.id?null:he.id)},children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center node-header",children:s.jsx(kn,{className:"h-5 w-5 text-primary"})}),s.jsx("div",{className:"flex-1 min-w-0 node-header",children:s.jsx("div",{className:"font-medium",children:"Show Message"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:ge=>{ge.stopPropagation(),Z(he.id)},onMouseDown:ge=>ge.stopPropagation(),children:s.jsx(ln,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 node-header",onClick:ge=>{ge.stopPropagation(),j(w===he.id?null:he.id)},onMouseDown:ge=>ge.stopPropagation(),children:w===he.id?s.jsx(PP,{className:"h-4 w-4"}):s.jsx(Jh,{className:"h-4 w-4"})})]}),w===he.id&&s.jsxs("div",{className:"px-3 pb-3 space-y-3 border-t border-border/50 pt-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsxs(Ue,{value:he.actionType,onValueChange:ge=>z(he.id,ge),children:[s.jsx(Le,{className:"w-full",onClick:ge=>ge.stopPropagation(),onMouseDown:ge=>ge.stopPropagation(),children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"show-message",children:"Show Message"}),s.jsx(oe,{value:"send-email",children:"Send Email"}),s.jsx(oe,{value:"webhook",children:"Call Webhook"}),s.jsx(oe,{value:"redirect",children:"Redirect"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Message"}),s.jsx(xt,{value:he.actionValue||"",onChange:ge=>V(he.id,ge.target.value),placeholder:" Hi there! How can I help you today?",className:"min-h-[80px] resize-none",onClick:ge=>ge.stopPropagation(),onMouseDown:ge=>ge.stopPropagation()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delay (ms)"}),s.jsx(le,{type:"number",value:he.actionDelay||0,onChange:ge=>te(he.id,parseInt(ge.target.value)||0),placeholder:"0",className:"w-full",onClick:ge=>ge.stopPropagation(),onMouseDown:ge=>ge.stopPropagation()})]})]})]}):s.jsx(X,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg cursor-grab",size:"lg",children:he.content})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:ge=>st(ge,he.id,"bottom"),onMouseUp:ge=>Ke(ge,he.id,"bottom")})]},he.id))})}),s.jsxs("div",{className:"absolute bottom-6 left-6 flex flex-col bg-card border rounded-lg shadow-lg overflow-hidden",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:q,children:s.jsx(qte,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(X,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:Q,children:s.jsx(Vte,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(X,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:ne,children:s.jsx(MP,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"absolute bottom-6 left-24 bg-card border rounded-lg shadow-lg px-3 py-2 text-sm text-muted-foreground",children:[Math.round(x*100),"%"]})]})]})}function m8e(){const[e,t]=y.useState(""),[n,r]=y.useState(!1),{toast:a}=vn(),{data:i,isLoading:o}=uae({queryKey:["chatbots"],queryFn:async()=>{const{data:{user:u}}=await K.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:h}=await K.from("chatbots").select("id, name").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;return d}}),l=i==null?void 0:i.find(u=>u.id===e),c=()=>{if(!e){a({title:"Select a chatbot",description:"Please select a chatbot first to create a flow.",variant:"destructive"});return}r(!0)};return n&&l?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(f8e,{chatbotId:l.id,chatbotName:l.name,onBack:()=>r(!1)})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Conversation Flows"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Create custom conversation flows for your chatbots"})]}),s.jsxs(X,{onClick:c,disabled:!e,children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Create Flow"]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5"}),"Select Chatbot"]}),s.jsx(xe,{children:"Choose a chatbot to manage its conversation flows"})]}),s.jsx(G,{children:s.jsxs(Ue,{value:e,onValueChange:t,children:[s.jsx(Le,{className:"w-full",children:s.jsx(ze,{placeholder:"Select a chatbot..."})}),s.jsx(Fe,{children:o?s.jsx(oe,{value:"loading",disabled:!0,children:"Loading chatbots..."}):i&&i.length>0?i.map(u=>s.jsx(oe,{value:u.id,children:u.name},u.id)):s.jsx(oe,{value:"none",disabled:!0,children:"No chatbots available"})})]})})]}),l&&s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(iS,{className:"h-5 w-5"}),"Flows for ",l.name]}),s.jsx(xe,{children:"Manage conversation flows for this chatbot"})]}),s.jsx(G,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(iS,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No flows yet"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Create your first conversation flow to guide users through custom interactions"}),s.jsxs(X,{onClick:c,children:[s.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Create Your First Flow"]})]})})]})]})}const ML={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"},CG=y.createContext({branding:null,loading:!0,refetch:async()=>{}});function p8e({children:e}){const[t,n]=y.useState(null),[r,a]=y.useState(!0),i=async()=>{var o;try{a(!0),console.log("[Branding] Fetching branding settings...");const{data:{session:l}}=await K.auth.getSession();if(!((o=l==null?void 0:l.user)!=null&&o.email)){console.log("[Branding] No user session found"),n(ML),a(!1);return}const c=l.user.email;console.log("[Branding] User email:",c);const u=await dH(c);console.log("[Branding] Fetched branding:",u),n(u),a(!1)}catch(l){console.error("[Branding] Error:",l),n(ML),a(!1)}};return y.useEffect(()=>{i();const{data:{subscription:o}}=K.auth.onAuthStateChange(l=>{console.log("[Branding] Auth state changed:",l),(l==="SIGNED_IN"||l==="TOKEN_REFRESHED")&&i()});return()=>o.unsubscribe()},[]),s.jsx(CG.Provider,{value:{branding:t,loading:r,refetch:i},children:e})}function g8e(){const e=y.useContext(CG);if(e===void 0)throw new Error("useBranding must be used within a BrandingProvider");return e}function Hk(e){e=e.replace("#",""),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,a=Math.max(t,n,r),i=Math.min(t,n,r);let o=0,l=0;const c=(a+i)/2;if(a!==i){const u=a-i;switch(l=c>.5?u/(2-a-i):u/(a+i),a){case t:o=((n-r)/u+(n<r?6:0))/6;break;case n:o=((r-t)/u+2)/6;break;case r:o=((t-n)/u+4)/6;break}}return`${Math.round(o*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%`}function v8e(){const[e,t]=y.useState(""),[n,r]=y.useState(""),[a,i]=y.useState(!1),[o,l]=y.useState(ry),[c,u]=y.useState(!1),{signIn:d,signInWithGoogle:h}=ws(),f=Mr();y.useEffect(()=>{if(o.primary_color!==ry.primary_color){const v=document.documentElement,x=Hk(o.primary_color);return v.style.setProperty("--primary",x),()=>{v.style.removeProperty("--primary")}}},[o]),y.useEffect(()=>{if(!e||!e.includes("@")){l(ry),u(!1);return}const v=setTimeout(async()=>{const x=await dH(e);l(x),u(!0)},500);return()=>clearTimeout(v)},[e]);const m=async v=>{v.preventDefault(),i(!0);try{const{error:x}=await d(e,n);x?_e.error(x.message||"Failed to sign in"):(_e.success("Signed in successfully"),f("/customer-dashboard"))}catch{_e.error("An unexpected error occurred")}finally{i(!1)}},g=async()=>{const{error:v}=await h();v&&_e.error(v.message||"Failed to sign in with Google")},p=o.logo_url||Vc;return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:p,alt:"Logo",className:"h-16 max-w-[200px] object-contain transition-all duration-300"})})}),s.jsxs(W,{className:"border shadow-lg",children:[s.jsxs(re,{className:"text-center",children:[s.jsxs(se,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(oi,{className:"h-5 w-5 text-primary"}),"Customer Portal"]}),s.jsx(xe,{children:"Sign in to access your AI agent analytics"})]}),s.jsxs(G,{children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:v=>t(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"password",children:"Password"}),s.jsx(le,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:v=>r(v.target.value),required:!0})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(X,{type:"button",variant:"outline",onClick:g,className:"w-full",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Contact your AI agent provider for access credentials"})})]})]})]})})}const x8e=[{title:"Dashboard",url:"/customer-dashboard",icon:OP},{title:"Chatbots",url:"/customer-dashboard/conversations",icon:vt},{title:"Voice Assistants",url:"/customer-dashboard/voice-assistants",icon:It},{title:"WhatsApp Agents",url:"/customer-dashboard/whatsapp-agents",icon:Ht},{title:"Leads",url:"/customer-dashboard/leads",icon:ur},{title:"Support Tickets",url:"/customer-dashboard/support-tickets",icon:Ri},{title:"Forms",url:"/customer-dashboard/forms",icon:Tn},{title:"Analytics",url:"/customer-dashboard/analytics",icon:ho},{title:"Settings",url:"/customer-dashboard/settings",icon:hs}];function y8e({customLogo:e}){const{state:t}=af(),n=li(),{customer:r,signOut:a}=ws(),{theme:i}=Hg(),o=n.pathname,l=t==="collapsed",c=m=>m==="/customer-dashboard"?o===m:o.startsWith(m),u=m=>c(m)?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",d=async()=>{await a(),_e.success("Signed out successfully")},f=e||(i==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":Vc);return s.jsxs(d2,{className:l?"w-14":"w-64",collapsible:"icon",children:[s.jsx(uz,{className:"border-b p-4 bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:f,alt:"Company Logo",className:"h-8 w-auto max-w-full object-contain"})})}),s.jsxs(h2,{children:[s.jsxs(Sd,{children:[s.jsx(Um,{children:"Navigation"}),s.jsx(Cd,{children:s.jsx(Cc,{children:x8e.map(m=>s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs(TS,{to:m.url,end:m.url==="/customer-dashboard",className:u(m.url),children:[s.jsx(m.icon,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:m.title})]})})},m.title))})})]}),s.jsx(Sd,{className:"mt-auto",children:s.jsx(Cd,{children:s.jsx(Cc,{children:s.jsx(kc,{children:s.jsx(Ec,{asChild:!0,children:s.jsxs(X,{variant:"ghost",onClick:d,className:"w-full justify-start",children:[s.jsx(YB,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:"Sign Out"})]})})})})})})]})]})}function b8e(){const{customer:e,loading:t}=ws(),{branding:n,loading:r}=g8e();return y.useEffect(()=>{const a="https://voxtro-backend.onrender.com",i=document.createElement("script");return i.src=`${a}/api/widget/90e3f339-4025-4f62-bb91-03366abcfa40/script.js?v=`+Date.now(),i.async=!0,document.head.appendChild(i),()=>{i.parentNode&&i.parentNode.removeChild(i);const o=document.getElementById("voxtro-widget");o&&o.remove()}},[]),y.useEffect(()=>{if(n){const a=document.documentElement,i=Hk(n.primary_color);return Hk(n.secondary_color),a.style.setProperty("--primary",i),a.style.setProperty("--sidebar-primary",i),a.style.setProperty("--sidebar-accent",i),()=>{a.style.removeProperty("--primary"),a.style.removeProperty("--sidebar-primary"),a.style.removeProperty("--sidebar-accent")}}},[n]),t||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(u2,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-muted/10",children:[s.jsx(y8e,{customLogo:n==null?void 0:n.logo_url}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center px-6 sticky top-0 z-50 shadow-sm",children:[s.jsx(fw,{className:"hover:bg-muted/50 transition-colors"}),s.jsx("div",{className:"ml-4 flex-1",children:s.jsxs("h1",{className:"font-semibold text-lg bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:["Welcome back, ",s.jsx("span",{className:"text-primary",children:e.full_name})]})})]}),s.jsx("main",{className:"flex-1 p-8",children:s.jsx(Qae,{})})]})]})}):s.jsx(qs,{to:"/customer-login",replace:!0})}function w8e(){return s.jsx(p8e,{children:s.jsx(b8e,{})})}function Gk({customerId:e,customerName:t,customerEmail:n,onTicketCreated:r,trigger:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(""),[h,f]=y.useState("medium"),[m,g]=y.useState(!1),p=async v=>{if(v.preventDefault(),!l.trim()||!u.trim()){_e.error("Please fill in all required fields");return}g(!0);try{await ELe({subject:l.trim(),description:u.trim(),priority:h}),_e.success("Support ticket created successfully"),c(""),d(""),f("medium"),o(!1),r==null||r()}catch(x){console.error("Error creating ticket:",x),_e.error("Failed to create support ticket")}finally{g(!1)}};return s.jsxs(mr,{open:i,onOpenChange:o,children:[s.jsx(kf,{asChild:!0,children:a||s.jsxs(X,{children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),s.jsxs(Qn,{className:"sm:max-w-[500px]",children:[s.jsxs(Zn,{children:[s.jsx(er,{children:"Create Support Ticket"}),s.jsx(Do,{children:"Describe your issue and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:"subject",children:["Subject ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(le,{id:"subject",placeholder:"Brief summary of your issue",value:l,onChange:v=>c(v.target.value),disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"priority",children:"Priority"}),s.jsxs(Ue,{value:h,onValueChange:f,disabled:m,children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select priority"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"low",children:"Low"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:"description",children:["Description ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(xt,{id:"description",placeholder:"Please describe your issue in detail...",value:u,onChange:v=>d(v.target.value),rows:5,disabled:m})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:m,children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:m||!l.trim()||!u.trim(),children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),m?"Creating...":"Create Ticket"]})]})]})]})]})}const j8e={voice:{icon:It,iconColor:"text-chart-5",bgGradient:"from-chart-5/20 via-chart-5/5 to-transparent",title:"Voice Assistants",subtitle:"Transform Your Customer Calls",description:"AI-powered voice assistants that handle calls 24/7, qualify leads, and schedule appointments with natural conversations.",features:[{icon:KB,title:"24/7 Availability",description:"Never miss a call. Your AI assistant is always ready to help customers."},{icon:$l,title:"Instant Response",description:"Zero wait times. Customers get immediate, accurate answers."},{icon:ho,title:"Call Analytics",description:"Full transcripts, recordings, and insights from every conversation."},{icon:ih,title:"Multi-Language",description:"Support customers in multiple languages automatically."}],stats:[{value:"90%",label:"Call Resolution Rate"},{value:"24/7",label:"Availability"},{value:"< 1s",label:"Response Time"}]},whatsapp:{icon:Ht,iconColor:"text-green-500",bgGradient:"from-green-500/20 via-green-500/5 to-transparent",title:"WhatsApp Agents",subtitle:"Meet Customers Where They Are",description:"Engage billions of WhatsApp users with AI agents that handle inquiries, process orders, and provide supportall within the world's most popular messaging app.",features:[{icon:ur,title:"Massive Reach",description:"Connect with 2+ billion active WhatsApp users worldwide."},{icon:Ot,title:"Instant Replies",description:"Respond to messages instantly, any time of day or night."},{icon:Rl,title:"Secure & Private",description:"End-to-end encryption keeps conversations safe."},{icon:jo,title:"Conversion Boost",description:"Higher engagement rates than email or traditional channels."}],stats:[{value:"98%",label:"Open Rate"},{value:"45%",label:"Higher Engagement"},{value:"3x",label:"Faster Resolution"}]},chatbot:{icon:vt,iconColor:"text-primary",bgGradient:"from-primary/20 via-primary/5 to-transparent",title:"AI Chatbots",subtitle:"Supercharge Your Website",description:"Intelligent chatbots that engage visitors, answer questions, capture leads, and provide personalized supportturning your website into a 24/7 sales and support machine.",features:[{icon:oi,title:"Smart Conversations",description:"AI that understands context and provides relevant answers."},{icon:jo,title:"Lead Capture",description:"Automatically qualify and capture leads from website visitors."},{icon:Ot,title:"Reduce Wait Times",description:"Instant answers mean happier customers and less support load."},{icon:ho,title:"Deep Insights",description:"Understand what your customers are asking and improve over time."}],stats:[{value:"67%",label:"Support Deflection"},{value:"40%",label:"Lead Increase"},{value:"24/7",label:"Availability"}]}};function Md({type:e,compact:t=!1}){const n=j8e[e],r=n.icon,a=()=>{window.location.href="mailto:info@voxtro.io?subject=Interested in "+n.title};return t?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx("div",{className:`p-4 rounded-full w-fit mx-auto mb-4 bg-gradient-to-br ${n.bgGradient}`,children:s.jsx(r,{className:`h-10 w-10 ${n.iconColor}`})}),s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["No ",n.title.toLowerCase()," assigned"]}),s.jsxs("p",{className:"text-muted-foreground text-sm max-w-md mx-auto mb-4",children:[n.description.substring(0,120),"..."]}),s.jsxs(X,{onClick:a,size:"sm",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Contact Sales"]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:`relative overflow-hidden rounded-2xl bg-gradient-to-br ${n.bgGradient} border`,children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),s.jsxs("div",{className:"relative p-8 md:p-12",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[s.jsx("div",{className:`p-5 rounded-2xl bg-gradient-to-br ${n.bgGradient} border shadow-lg`,children:s.jsx(r,{className:`h-12 w-12 ${n.iconColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ee,{variant:"secondary",className:"mb-3",children:[s.jsx(oi,{className:"h-3 w-3 mr-1"}),"Available for Your Account"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.subtitle}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:n.description})]})]}),s.jsx("div",{className:"flex flex-wrap gap-6 mt-8 pt-8 border-t border-border/50",children:n.stats.map((i,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-3xl font-bold ${n.iconColor}`,children:i.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.label})]},o))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.features.map((i,o)=>{const l=i.icon;return s.jsx(W,{className:"group hover:shadow-md transition-all duration-300 hover:border-primary/30",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${n.bgGradient} group-hover:scale-110 transition-transform`,children:s.jsx(l,{className:`h-5 w-5 ${n.iconColor}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})})},o)})}),s.jsx(W,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",children:s.jsx(G,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ready to Get Started?"}),s.jsxs("p",{className:"text-muted-foreground",children:["Contact our sales team to add ",n.title.toLowerCase()," to your account and start seeing results immediately."]})]}),s.jsxs(X,{onClick:a,size:"lg",className:"shrink-0 gap-2",children:[s.jsx(Za,{className:"h-5 w-5"}),"Contact Sales",s.jsx(nS,{className:"h-4 w-4"})]})]})})})]})}function _8e(){const{customer:e}=ws(),t=Mr(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(null),[d,h]=y.useState(null),[f,m]=y.useState(null),[g,p]=y.useState([]),[v,x]=y.useState([]),[b,w]=y.useState(null),[j,S]=y.useState(!0);y.useEffect(()=>{e&&N()},[e]);const N=async()=>{if(e)try{const{data:R,error:E}=await K.from("customer_chatbot_assignments").select("chatbot_id, chatbots (id, name, description, theme_color)").eq("customer_id",e.id);if(E)throw E;const B=(R==null?void 0:R.map(q=>q.chatbot_id))||[],{data:F}=await K.from("conversations").select("chatbot_id").in("chatbot_id",B),{data:L}=await K.from("messages").select("conversation_id, conversations!inner(chatbot_id)").in("conversations.chatbot_id",B),I=(R==null?void 0:R.map(q=>{const Q=q.chatbots;return{id:Q.id,name:Q.name,description:Q.description,theme_color:Q.theme_color,conversation_count:(F==null?void 0:F.filter(ne=>ne.chatbot_id===Q.id).length)||0,message_count:(L==null?void 0:L.filter(ne=>{var pe;return((pe=ne.conversations)==null?void 0:pe.chatbot_id)===Q.id}).length)||0}}))||[];r(I);const O=(F==null?void 0:F.length)||0,$=(L==null?void 0:L.length)||0;u({total_conversations:O,total_messages:$,avg_conversation_length:O>0?Math.round($/O):0});const{data:T}=await K.from("customer_assistant_assignments").select("id, assistant_id, voice_assistants (id, name, phone_number)").eq("customer_id",e.id),U=(T==null?void 0:T.map(q=>q.assistant_id).filter(Boolean))||[];let M=[];if(U.length>0){const{data:q}=await K.from("voice_assistant_calls").select("assistant_id, duration_seconds").in("assistant_id",U);M=q||[]}const Y=(T==null?void 0:T.map(q=>{const Q=M.filter(pe=>pe.assistant_id===q.assistant_id),ne=Q.reduce((pe,Se)=>pe+(Se.duration_seconds||0),0);return{...q,call_count:Q.length,total_duration:ne}}))||[];i(Y);const ee=M.length,_=M.reduce((q,Q)=>q+(Q.duration_seconds||0),0);h({total_calls:ee,total_duration:_,avg_duration:ee>0?Math.round(_/ee):0});const{data:A}=await K.from("customer_whatsapp_agent_assignments").select("id, agent_id, whatsapp_agents (id, name, phone_number, status)").eq("customer_id",e.id),P=(A==null?void 0:A.map(q=>q.agent_id).filter(Boolean))||[];let z=[],V=0;if(P.length>0){const{data:q}=await K.from("whatsapp_conversations").select("id, agent_id").in("agent_id",P);if(z=q||[],z.length>0){const{count:Q}=await K.from("whatsapp_messages").select("*",{count:"exact",head:!0}).in("conversation_id",z.map(ne=>ne.id));V=Q||0}}const te=(A==null?void 0:A.map(q=>({...q,conversation_count:z.filter(Q=>Q.agent_id===q.agent_id).length})))||[];l(te),m({total_conversations:z.length,total_messages:V});const{data:Z}=await K.from("support_tickets").select("id, subject, status, created_at, updated_at").eq("customer_id",e.id).order("updated_at",{ascending:!1}).limit(5);p(Z||[]);try{const Q=(await Dk()).leads||[];x(Q.slice(0,5));const ne=Q.filter(he=>he.source_type==="chatbot").length,pe=Q.filter(he=>he.source_type==="voice").length,Se=Q.filter(he=>he.source_type==="whatsapp").length,qe=O>0?Math.round(ne/O*100):0,Ve=ee>0?Math.round(pe/ee*100):0,We=z.length>0?Math.round(Se/z.length*100):0,st=O+ee+z.length,Ke=Q.length,it=st>0?Math.round(Ke/st*100):0;w({chatbot:qe,voice:Ve,whatsapp:We,overall:it})}catch(q){console.error("Error fetching leads:",q),x([]),w({chatbot:0,voice:0,whatsapp:0,overall:0})}}catch(R){console.error("Error fetching customer data:",R),_e.error("Failed to load dashboard data")}finally{S(!1)}},C=R=>{const E=Math.floor(R/60),B=R%60;return`${E}m ${B}s`},k=R=>{switch(R.toLowerCase()){case"open":return"bg-yellow-500/10 text-yellow-600";case"in_progress":return"bg-blue-500/10 text-blue-600";case"resolved":return"bg-green-500/10 text-green-600";default:return"bg-muted text-muted-foreground"}};if(j)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"h-8 w-48 bg-muted/50 rounded animate-pulse"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((R,E)=>s.jsx("div",{className:"h-24 bg-muted/50 rounded-lg animate-pulse"},E))})]});const D=g.filter(R=>R.status==="open"||R.status==="in_progress");return s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Overview of your AI agents"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:s.jsx(vt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:n.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots"})]})]})}),s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-md bg-violet-500/10",children:s.jsx(It,{className:"h-4 w-4 text-violet-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:a.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice"})]})]})}),s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-md bg-green-500/10",children:s.jsx(Ht,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:o.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp"})]})]})}),s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-md bg-orange-500/10",children:s.jsx(Ri,{className:"h-4 w-4 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-semibold",children:D.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(W,{className:"lg:col-span-2",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(se,{className:"text-base font-medium",children:"Chatbot Analytics"}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/conversations"),className:"text-xs",children:["View All ",s.jsx(nS,{className:"h-3 w-3 ml-1"})]})]}),s.jsx(G,{children:n.length===0?s.jsx(Md,{type:"chatbot",compact:!0}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-semibold",children:(c==null?void 0:c.total_conversations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-semibold",children:(c==null?void 0:c.total_messages)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsxs("p",{className:"text-xl font-semibold",children:[(b==null?void 0:b.chatbot)||0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversion"})]})]}),s.jsx("div",{className:"space-y-2",children:n.map(R=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:R.theme_color||"hsl(var(--primary))"}}),s.jsx("span",{className:"text-sm font-medium",children:R.name})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[R.conversation_count," convos"]})]},R.id))})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(se,{className:"text-base font-medium",children:"Recent Leads"}),v.length>0&&s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t("/customer-dashboard/leads"),className:"text-xs",children:["View All ",s.jsx(nS,{className:"h-3 w-3 ml-1"})]})]}),s.jsx(G,{children:v.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ur,{className:"h-8 w-8 mx-auto text-muted-foreground/50 mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No leads yet"})]}):s.jsx("div",{className:"space-y-3",children:v.map(R=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:(R.name||"U").charAt(0).toUpperCase()}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:R.name||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:R.email||R.phone_number})]})]}),s.jsx(Ee,{variant:"secondary",className:"text-xs capitalize",children:R.source_type})]},R.id))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(W,{children:[s.jsx(re,{className:"pb-2",children:s.jsx(se,{className:"text-base font-medium",children:"Voice Calls"})}),s.jsx(G,{children:a.length===0?s.jsx(Md,{type:"voice",compact:!0}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-semibold",children:(d==null?void 0:d.total_calls)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-semibold",children:C((d==null?void 0:d.avg_duration)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"})]})]}),s.jsx("div",{className:"space-y-2",children:a.slice(0,3).map(R=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"truncate",children:R.voice_assistants.name}),s.jsxs("span",{className:"text-muted-foreground",children:[R.call_count," calls"]})]},R.id))})]})})]}),s.jsxs(W,{children:[s.jsx(re,{className:"pb-2",children:s.jsx(se,{className:"text-base font-medium",children:"WhatsApp"})}),s.jsx(G,{children:o.length===0?s.jsx(Md,{type:"whatsapp",compact:!0}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-semibold",children:(f==null?void 0:f.total_conversations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-semibold",children:(f==null?void 0:f.total_messages)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsx("div",{className:"space-y-2",children:o.slice(0,3).map(R=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"truncate",children:R.whatsapp_agents.name}),s.jsxs("span",{className:"text-muted-foreground",children:[R.conversation_count," chats"]})]},R.id))})]})})]}),s.jsxs(W,{children:[s.jsx(re,{className:"pb-2",children:s.jsx(se,{className:"text-base font-medium",children:"Support"})}),s.jsx(G,{children:g.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Ri,{className:"h-8 w-8 mx-auto text-muted-foreground/50 mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"No tickets yet"}),s.jsx(Gk,{customerId:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.full_name)||"",customerEmail:(e==null?void 0:e.email)||"",onTicketCreated:N,trigger:s.jsx(X,{size:"sm",variant:"outline",children:"Create Ticket"})})]}):s.jsx("div",{className:"space-y-2",children:g.slice(0,4).map(R=>s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-sm truncate",children:R.subject}),s.jsx(Ee,{className:`text-xs shrink-0 ${k(R.status)}`,children:R.status.replace("_"," ")})]},R.id))})})]})]}),((b==null?void 0:b.overall)||0)>0&&s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Overall Conversion Rate"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leads captured from all interactions"})]}),s.jsxs("p",{className:"text-3xl font-bold",children:[(b==null?void 0:b.overall)||0,"%"]})]})})]})}const N8e=({onConversationSelect:e})=>{const{customer:t}=ws(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState("all"),[c,u]=y.useState(""),[d,h]=y.useState(!0),f=async()=>{if(!t)return;const{data:v,error:x}=await K.from("customer_chatbot_assignments").select(`
        chatbot_id,
        chatbots (
          id,
          name
        )
      `).eq("customer_id",t.id);if(x){_e.error("Failed to fetch chatbots");return}const b=(v==null?void 0:v.map(w=>({id:w.chatbots.id,name:w.chatbots.name})))||[];i(b)},m=async()=>{if(!t)return;h(!0);const{data:v}=await K.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",t.id),x=(v==null?void 0:v.map(C=>C.chatbot_id))||[];if(x.length===0){r([]),h(!1);return}let b=K.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name
          )
        )
      `).in("conversations.chatbot_id",x).order("created_at",{ascending:!1});o!=="all"&&(b=b.eq("conversations.chatbot_id",o));const{data:w,error:j}=await b;if(j){console.error("Error fetching conversations:",j),_e.error("Failed to fetch conversations"),h(!1);return}const S=new Map;w==null||w.forEach(C=>{const k=C.conversation_id;S.has(k)||S.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),S.get(k).messages.push(C)});const N=[];S.forEach((C,k)=>{const D=C.messages.sort((R,E)=>new Date(E.created_at).getTime()-new Date(R.created_at).getTime());if(D.length>0){const R=D[0],E={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:R.content,last_message_time:R.created_at,message_count:D.length,last_sender:R.role};(!c||E.last_message.toLowerCase().includes(c.toLowerCase())||E.chatbot_name.toLowerCase().includes(c.toLowerCase()))&&N.push(E)}}),N.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),r(N),h(!1)};y.useEffect(()=>{f()},[t]),y.useEffect(()=>{m()},[t,o,c]);const g=v=>{const x=new Date(v),w=new Date().getTime()-x.getTime(),j=Math.floor(w/(1e3*60*60*24));return j===0?x.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):j===1?"Yesterday":j<7?x.toLocaleDateString([],{weekday:"short"}):x.toLocaleDateString([],{month:"short",day:"numeric"})},p=(v,x=60)=>v.length>x?v.substring(0,x)+"...":v;return s.jsx("div",{className:"space-y-4",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs(Ue,{value:o,onValueChange:l,children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Filter by chatbot"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Chatbots"}),a.map(v=>s.jsx(oe,{value:v.id,children:v.name},v.id))]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search conversations...",value:c,onChange:v=>u(v.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto px-4",children:d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading conversations..."})}):n.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})}):s.jsx("div",{className:"space-y-3",children:n.map(v=>s.jsx(W,{className:"cursor-pointer hover:bg-accent/50 transition-colors border-l-4 border-l-primary",onClick:()=>e(v.id),children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("h4",{className:"font-semibold text-sm truncate",children:v.chatbot_name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:[v.last_sender==="user"?" ":" ",p(v.last_message,100)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:g(v.last_message_time)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium",children:[s.jsx(kn,{className:"h-3 w-3"}),v.message_count]})})]})})},v.id))})})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to view conversations."})})})},S8e=({conversationId:e,onBack:t})=>{const{customer:n}=ws(),[r,a]=y.useState([]),[i,o]=y.useState(null),[l,c]=y.useState(!0),u=y.useRef(null),d=()=>{var g;(g=u.current)==null||g.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:g}=await K.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",n.id),p=(g==null?void 0:g.map(j=>j.chatbot_id))||[];if(p.length===0){c(!1);return}const{data:v,error:x}=await K.from("conversations").select(`
        id,
        created_at,
        chatbot_id,
        summary,
        key_points,
        action_items,
        sentiment,
        sentiment_notes,
        conversation_outcome,
        topics_discussed,
        lead_info,
        chatbots!inner(
          name
        )
      `).eq("id",e).in("chatbot_id",p).single();if(x||!v){console.error("Error fetching conversation:",x),_e.error("Failed to fetch conversation"),c(!1);return}const{data:b,error:w}=await K.from("messages").select(`
        id,
        content,
        role,
        created_at
      `).eq("conversation_id",e).order("created_at",{ascending:!0});if(w){console.error("Error fetching messages:",w),_e.error("Failed to fetch messages"),c(!1);return}b&&b.length>0&&a(b.map(j=>({id:j.id,content:j.content,role:j.role,created_at:j.created_at}))),o({id:e,chatbot_name:v.chatbots.name,created_at:v.created_at,summary:v.summary,key_points:v.key_points,action_items:v.action_items,sentiment:v.sentiment,sentiment_notes:v.sentiment_notes,conversation_outcome:v.conversation_outcome,topics_discussed:v.topics_discussed,lead_info:v.lead_info}),c(!1)};y.useEffect(()=>{h()},[e,n]),y.useEffect(()=>{d()},[r]);const f=g=>new Date(g).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=g=>new Date(g).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(kn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})}),i.summary&&s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-3.5 w-3.5 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"AI Analysis"})]}),s.jsxs("div",{className:"flex gap-1.5",children:[i.sentiment&&s.jsx(Ee,{variant:i.sentiment==="positive"?"default":i.sentiment==="negative"?"destructive":"secondary",className:"text-xs px-2 py-0",children:i.sentiment}),i.conversation_outcome&&s.jsx(Ee,{variant:"outline",className:"text-xs px-2 py-0",children:i.conversation_outcome.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"p-3 space-y-2.5",children:[s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary}),i.topics_discussed&&i.topics_discussed.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.topics_discussed.slice(0,4).map((g,p)=>s.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded-full text-muted-foreground",children:g},p)),i.topics_discussed.length>4&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",i.topics_discussed.length-4," more"]})]}),(i.key_points&&i.key_points.length>0||i.action_items&&i.action_items.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-1",children:[i.key_points&&i.key_points.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key Points"}),s.jsx("ul",{className:"text-xs space-y-0.5",children:i.key_points.slice(0,3).map((g,p)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{className:"line-clamp-1",children:g})]},p))})]}),i.action_items&&i.action_items.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Actions"}),s.jsx("ul",{className:"text-xs space-y-0.5",children:i.action_items.slice(0,3).map((g,p)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx(rs,{className:"h-3 w-3 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:g})]},p))})]})]}),i.lead_info&&(i.lead_info.name||i.lead_info.email||i.lead_info.phone)&&s.jsxs("div",{className:"flex items-center gap-3 pt-1 text-xs border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Lead:"}),i.lead_info.name&&s.jsx("span",{className:"font-medium",children:i.lead_info.name}),i.lead_info.email&&s.jsx("span",{className:"text-muted-foreground",children:i.lead_info.email}),i.lead_info.phone&&s.jsx("span",{className:"text-muted-foreground",children:i.lead_info.phone})]})]})]}),s.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:[r.map(g=>s.jsxs("div",{className:`flex gap-3 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(vt,{className:"h-4 w-4 text-primary"})})}),s.jsxs("div",{className:`max-w-[75%] rounded-lg p-3 ${g.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:g.content}),s.jsx("p",{className:`text-xs mt-1 ${g.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(g.created_at)})]}),g.role==="user"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:s.jsx(ys,{className:"h-4 w-4 text-primary-foreground"})})})]},g.id)),s.jsx("div",{ref:u})]})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})};function C8e(){const{customer:e}=ws(),[t,n]=y.useState(null),[r,a]=y.useState([]),[i,o]=y.useState(!0);y.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:d,error:h}=await K.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name
          )
        `).eq("customer_id",e.id);if(h)throw h;if(((d==null?void 0:d.map(p=>p.chatbot_id))||[]).length===0){o(!1);return}const m=d.map(async p=>{const v=p.chatbot_id,x=p.chatbots.name,{data:b}=await K.from("conversations").select("id").eq("chatbot_id",v),w=(b==null?void 0:b.length)||0,{data:j}=await K.from("messages").select("id, conversation_id").in("conversation_id",(b==null?void 0:b.map(N=>N.id))||[]),S=(j==null?void 0:j.length)||0;return{id:v,name:x,totalConversations:w,totalMessages:S,avgMessagesPerConversation:w>0?Math.round(S/w):0}}),g=await Promise.all(m);a(g)}catch(d){console.error("Error fetching chatbot stats:",d),_e.error("Failed to load chatbot analytics")}finally{o(!1)}},c=d=>{n(d)},u=()=>{n(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all conversations from your chatbots"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i?s.jsx(W,{className:"col-span-full",children:s.jsx(G,{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading analytics..."})})}):r.length===0?s.jsx("div",{className:"col-span-full",children:s.jsx(Md,{type:"chatbot"})}):r.map(d=>s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:d.name}),s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(kn,{className:"h-4 w-4"}),"Conversations"]}),s.jsx("div",{className:"text-2xl font-bold",children:d.totalConversations})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ah,{className:"h-4 w-4"}),"Total Messages"]}),s.jsx("div",{className:"text-lg font-semibold",children:d.totalMessages})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(jo,{className:"h-4 w-4"}),"Avg per Conv."]}),s.jsx("div",{className:"text-lg font-semibold",children:d.avgMessagesPerConversation})]})]})})]},d.id))}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Recent Conversations"}),s.jsx(xe,{children:"Click on a conversation to view details"})]}),s.jsx(G,{className:"p-0",children:s.jsx(N8e,{onConversationSelect:c})})]}),s.jsx(zg,{open:!!t,onOpenChange:u,children:s.jsxs(sf,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(qg,{children:[s.jsx(Vg,{children:"Conversation Details"}),s.jsx(Wg,{children:"View the complete conversation history"})]}),t&&s.jsx(S8e,{conversationId:t,onBack:u})]})})]})}function k8e(){const{customer:e}=ws(),{toast:t}=vn(),[n,r]=y.useState(!0),[a,i]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState([]),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,x]=y.useState(null),[b,w]=y.useState("");y.useEffect(()=>{e&&j()},[e]),y.useEffect(()=>{if(!e)return;const C=K.channel("voice-calls-changes").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls",filter:`customer_id=eq.${e.id}`},D=>{console.log("Call log changed:",D),j()}).subscribe(),k=K.channel("voice-transcripts-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"voice_assistant_transcripts"},D=>{console.log("New transcript:",D),v&&D.new.call_id===v.id&&S(v.id)}).subscribe();return()=>{K.removeChannel(C),K.removeChannel(k)}},[e,v]);const j=async()=>{if(!a)try{i(!0);const{data:C,error:k}=await K.from("customer_assistant_assignments").select("assistant_id").eq("customer_id",e.id);if(k)throw k;if(!C||C.length===0){r(!1);return}const D=C.map(M=>M.assistant_id),{data:R,error:E}=await K.from("voice_assistants").select("*").in("id",D);if(E)throw E;const{data:B,error:F}=await K.from("voice_assistant_calls").select("*, summary, key_points, action_items, sentiment, sentiment_notes, call_outcome, topics_discussed, lead_info").in("assistant_id",D).order("started_at",{ascending:!1});if(F)throw F;const L=B||[],I=L.map(M=>M.id),{data:O}=await K.from("voice_assistant_recordings").select("call_id, recording_url").in("call_id",I),$=new Map((O==null?void 0:O.map(M=>[M.call_id,M.recording_url]))||[]),T=R.map(M=>{const Y=L.filter(P=>P.assistant_id===M.id),ee=Y.filter(P=>P.duration_seconds!=null&&P.duration_seconds>0),_=ee.reduce((P,z)=>P+(z.duration_seconds||0),0),A=Y.filter(P=>P.status==="completed"||P.ended_at!=null).length;return{id:M.id,name:M.name||"Unnamed Assistant",first_message:M.first_message||"",totalCalls:Y.length,completedCalls:A,totalDuration:_,avgDuration:ee.length>0?Math.round(_/ee.length):0}});l(T);const U=L.map(M=>{const Y=R.find(ee=>ee.id===M.assistant_id);return{...M,assistant_name:(Y==null?void 0:Y.name)||"Unknown",assistant_id:M.assistant_id,recording_url:$.get(M.id),summary:M.summary,key_points:M.key_points,action_items:M.action_items,sentiment:M.sentiment,sentiment_notes:M.sentiment_notes,call_outcome:M.call_outcome,topics_discussed:M.topics_discussed,lead_info:M.lead_info}});u(U)}catch(C){console.error("Error fetching data:",C),t({title:"Error",description:"Failed to load voice assistant data",variant:"destructive"})}finally{r(!1),i(!1)}},S=async C=>{m(!0);try{const{data:k,error:D}=await K.from("voice_assistant_transcripts").select("*").eq("call_id",C).order("timestamp",{ascending:!0});if(D)throw D;h(k||[])}catch(k){console.error("Error loading transcript:",k),t({title:"Error",description:"Failed to load transcript",variant:"destructive"})}finally{m(!1)}},N=C=>{const k=Math.floor(C/60),D=C%60;return`${k}m ${D}s`};return n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.length===0?s.jsx(Md,{type:"voice"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Voice Assistants"}),s.jsx("p",{className:"text-muted-foreground",children:"View analytics, call history, and transcripts for your voice assistants"})]}),a&&s.jsx(Ee,{variant:"secondary",className:"animate-pulse",children:"Updating..."})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Calls"}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((C,k)=>C+k.totalCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all assistants"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Completed Calls"}),s.jsx(It,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((C,k)=>C+k.completedCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully completed"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Duration"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N(o.reduce((C,k)=>C+k.totalDuration,0))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined talk time"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Avg Call Duration"}),s.jsx(jo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(()=>{const C=o.reduce((D,R)=>D+R.totalDuration,0),k=o.reduce((D,R)=>D+R.completedCalls,0);return k>0?N(Math.round(C/k)):"0m 0s"})()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per completed call"})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Your Voice Assistants"}),s.jsx(xe,{children:"Overview of your assigned assistants and their performance"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:o.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:C.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:C.first_message})]}),s.jsxs("div",{className:"flex gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:C.totalCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:N(C.totalDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Duration"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:N(C.avgDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"})]})]})]},C.id))})})]}),s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(se,{children:"Call History"}),s.jsx(xe,{children:"Complete history of all voice assistant calls"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search by phone number...",value:b,onChange:C=>w(C.target.value),className:"pl-9"})]})]})}),s.jsx(G,{children:(()=>{const C=c.filter(k=>!b||k.phone_number&&k.phone_number.toLowerCase().includes(b.toLowerCase()));return C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:b?"No calls match your search":"No calls recorded yet"}):s.jsx(Ws,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:C.map(k=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{x(k),S(k.id),p(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:k.assistant_name}),s.jsx(Ee,{variant:k.status==="completed"?"default":"secondary",children:k.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(k.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),at(new Date(k.started_at),"h:mm a")]}),s.jsxs("span",{children:["Duration: ",k.duration_seconds!=null&&k.ended_at?N(k.duration_seconds):"N/A"]}),k.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),k.phone_number]})]})]})},k.id))})})})()})]}),s.jsx(zg,{open:g,onOpenChange:p,children:s.jsxs(sf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(qg,{children:[s.jsx(Vg,{children:"Call Details"}),s.jsx(Wg,{children:v&&s.jsxs("div",{className:"text-sm space-y-1 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(v.started_at),"MMM d, yyyy")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-3 w-3"}),at(new Date(v.started_at),"h:mm a")]}),v.phone_number&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-3 w-3"}),v.phone_number]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-3 w-3"}),"Duration: ",v.duration_seconds!=null&&v.ended_at?N(v.duration_seconds):"N/A"]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(v==null?void 0:v.summary)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm",children:v.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.sentiment&&s.jsxs(Ee,{variant:v.sentiment==="positive"?"default":v.sentiment==="negative"?"destructive":"secondary",children:[v.sentiment==="positive"&&s.jsx(rs,{className:"h-3 w-3 mr-1"}),v.sentiment==="negative"&&s.jsx(Mi,{className:"h-3 w-3 mr-1"}),v.sentiment.charAt(0).toUpperCase()+v.sentiment.slice(1)," Sentiment"]}),v.call_outcome&&s.jsxs(Ee,{variant:"outline",children:[s.jsx(e8,{className:"h-3 w-3 mr-1"}),v.call_outcome.replace(/_/g," ").replace(/\b\w/g,C=>C.toUpperCase())]})]}),v.sentiment_notes&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:v.sentiment_notes}),v.key_points&&v.key_points.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(kn,{className:"h-3 w-3"}),"Key Points"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:v.key_points.map((C,k)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1",children:""}),s.jsx("span",{children:C})]},k))})]}),v.action_items&&v.action_items.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(rs,{className:"h-3 w-3"}),"Action Items"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:v.action_items.map((C,k)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:""}),s.jsx("span",{children:C})]},k))})]}),v.topics_discussed&&v.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Topics Discussed"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.topics_discussed.map((C,k)=>s.jsx(Ee,{variant:"secondary",className:"text-xs",children:C},k))})]}),v.lead_info&&(v.lead_info.name||v.lead_info.email||v.lead_info.phone)&&s.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[v.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",v.lead_info.name]}),v.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",v.lead_info.email]}),v.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",v.lead_info.phone]}),v.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",v.lead_info.company]}),v.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(Ee,{variant:"outline",className:"text-xs",children:v.lead_info.interest_level})]})]}),v.lead_info.notes&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:v.lead_info.notes})]})]}),(v==null?void 0:v.recording_url)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KB,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Recording"})]}),s.jsxs("audio",{controls:!0,className:"w-full",autoPlay:!0,children:[s.jsx("source",{src:v.recording_url,type:"audio/wav"}),"Your browser does not support the audio element."]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this call"}):s.jsx("div",{className:"space-y-4",children:d.map(C=>s.jsx("div",{className:`flex gap-3 ${C.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${C.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:C.role==="assistant"?"Assistant":"User"}),s.jsx("p",{className:"text-sm",children:C.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:at(new Date(C.timestamp),"h:mm:ss a")})]})},C.id))})]})]})]})})]})}function E8e(){var S;const{customer:e}=ws(),{toast:t}=vn(),[n,r]=y.useState(!0),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(!1),[d,h]=y.useState(null),[f,m]=y.useState(null),[g,p]=y.useState(!1),[v,x]=y.useState("");y.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:N,error:C}=await K.from("customer_whatsapp_agent_assignments").select("agent_id").eq("customer_id",e==null?void 0:e.id);if(C)throw C;if(!N||N.length===0){r(!1);return}const k=N.map(I=>I.agent_id),{data:D,error:R}=await K.from("whatsapp_agents").select("*").in("id",k);if(R)throw R;const{data:E,error:B}=await K.from("whatsapp_conversations").select("*").in("agent_id",k).order("started_at",{ascending:!1});if(B)throw B;const F=(D||[]).map(I=>{const O=(E||[]).filter($=>$.agent_id===I.id);return{id:I.id,name:I.name||"Unnamed Agent",phone_number:I.phone_number,totalConversations:O.length}});i(F);const L=(E||[]).map(I=>{const O=D==null?void 0:D.find($=>$.id===I.agent_id);return{conversation_id:I.id,agent_id:I.agent_id,agent_name:(O==null?void 0:O.name)||"Unknown",status:I.status||"unknown",start_time:new Date(I.started_at).getTime()/1e3,end_time:I.ended_at?new Date(I.ended_at).getTime()/1e3:void 0,duration_seconds:I.ended_at?Math.floor((new Date(I.ended_at).getTime()-new Date(I.started_at).getTime())/1e3):void 0,summary:I.summary,sentiment:I.sentiment,phone_number:I.phone_number}});l(L)}catch(N){console.error("Error fetching data:",N),t({title:"Error",description:"Failed to load WhatsApp agent data",variant:"destructive"})}finally{r(!1)}},w=async N=>{p(!0);try{const{data:C,error:k}=await K.from("whatsapp_messages").select("*").eq("conversation_id",N).order("timestamp",{ascending:!0});if(k)throw k;m({messages:C||[]})}catch(C){console.error("Error loading conversation details:",C),t({title:"Error",description:"Failed to load conversation details",variant:"destructive"})}finally{p(!1)}},j=N=>{const C=Math.floor(N/60),k=N%60;return`${C}m ${k}s`};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ds,{className:"h-10 w-64"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Ds,{className:"h-32"}),s.jsx(Ds,{className:"h-32"}),s.jsx(Ds,{className:"h-32"})]}),s.jsx(Ds,{className:"h-96"})]}):a.length===0?s.jsx(Md,{type:"whatsapp"}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"View conversations and transcripts from your WhatsApp agents"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.reduce((N,C)=>N+C.totalConversations,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all agents"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(jo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assigned to you"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Recent Activity"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.filter(N=>{const C=Date.now()/1e3-86400;return N.start_time>C}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations in last 24h"})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Your WhatsApp Agents"}),s.jsx(xe,{children:"Overview of your assigned agents"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:a.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-500/10",children:s.jsx(Ht,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:N.name}),N.phone_number&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),N.phone_number]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:N.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]})]},N.id))})})]}),s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(se,{children:"Conversation History"}),s.jsx(xe,{children:"Complete history of all WhatsApp conversations"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search by phone number...",value:v,onChange:N=>x(N.target.value),className:"pl-9"})]})]})}),s.jsx(G,{children:(()=>{const N=o.filter(C=>!v||C.phone_number&&C.phone_number.toLowerCase().includes(v.toLowerCase()));return N.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:v?"No conversations match your search":"No conversations yet"}):s.jsx(Ws,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:N.map(C=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{h(C),w(C.conversation_id),u(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:C.agent_name}),s.jsx(Ee,{variant:C.status==="done"||C.status==="completed"?"default":"secondary",children:C.status}),C.sentiment&&s.jsx(Ee,{variant:"outline",children:C.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[C.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),C.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(C.start_time*1e3),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),at(new Date(C.start_time*1e3),"h:mm a")]}),C.duration_seconds&&s.jsxs("span",{children:["Duration: ",j(C.duration_seconds)]})]}),C.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:C.summary})]})},C.conversation_id))})})})()})]}),s.jsx(zg,{open:c,onOpenChange:u,children:s.jsxs(sf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(qg,{children:[s.jsx(Vg,{children:"Conversation Details"}),s.jsx(Wg,{children:d&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[d.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(It,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium",children:["+",d.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-3 w-3"}),d.agent_name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(d.start_time*1e3),"MMM d, yyyy h:mm a")]}),d.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-3 w-3"}),"Duration: ",j(d.duration_seconds)]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(d==null?void 0:d.summary)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.summary})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),g?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(S=f==null?void 0:f.messages)!=null&&S.length?s.jsx("div",{className:"space-y-4",children:f.messages.map((N,C)=>s.jsx("div",{className:`flex gap-3 ${N.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${N.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:N.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:N.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:at(new Date(N.timestamp),"h:mm:ss a")})]})},C))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"})]})]})]})})]})}const vj=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",e),...t})}));vj.displayName="Table";const xj=y.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:me("[&_tr]:border-b",e),...t}));xj.displayName="TableHeader";const yj=y.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",e),...t}));yj.displayName="TableBody";const P8e=y.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));P8e.displayName="TableFooter";const pu=y.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pu.displayName="TableRow";const Vr=y.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Vr.displayName="TableHead";const Wr=y.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Wr.displayName="TableCell";const A8e=y.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",e),...t}));A8e.displayName="TableCaption";function T8e(){const{customer:e}=ws(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{e&&u()},[e]);const u=async()=>{if(e)try{console.log("Fetching customer forms for customer:",e.id);const{data:g,error:p}=await K.from("chatbot_forms").select(`
          id,
          form_name,
          form_title,
          form_description,
          fields,
          terms_and_conditions,
          require_terms_acceptance,
          chatbots!inner (
            id,
            name,
            customer_chatbot_assignments!inner (
              customer_id
            )
          )
        `).eq("chatbots.customer_chatbot_assignments.customer_id",e.id).eq("is_active",!0);if(console.log("Forms data:",g,p),p)throw p;const v=await Promise.all((g||[]).map(async x=>{const{count:b}=await K.from("form_submissions").select("*",{count:"exact",head:!0}).eq("form_id",x.id);return{id:x.id,form_name:x.form_name,form_title:x.form_title,form_description:x.form_description,fields:x.fields,terms_and_conditions:x.terms_and_conditions,require_terms_acceptance:x.require_terms_acceptance||!1,chatbot_name:x.chatbots.name,submission_count:b||0}}));n(v)}catch(g){console.error("Error fetching customer forms:",g)}finally{o(!1)}},d=async g=>{try{const{data:p,error:v}=await K.from("form_submissions").select("*").eq("form_id",g).order("submitted_at",{ascending:!1});if(v)throw v;a(p||[])}catch(p){console.error("Error fetching form submissions:",p)}},h=g=>{c(g),d(g.id)},f=(g,p)=>{const x=(Array.isArray(p.fields)?p.fields:[]).find(b=>b.id===g);return(x==null?void 0:x.label)||g},m=(g,p)=>p?p.toString():"N/A";return i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading forms..."})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Forms Found"}),s.jsx("p",{className:"text-muted-foreground",children:"No forms have been created for your assigned chatbots yet."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View forms from your assigned chatbots and their submissions"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>s.jsxs(W,{className:"hover:shadow-md transition-shadow",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(se,{className:"text-lg",children:g.form_title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",g.chatbot_name]})]}),s.jsxs(Ee,{variant:"secondary",children:[g.submission_count," submissions"]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.form_description||"No description provided"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsxs("span",{children:[Array.isArray(g.fields)?g.fields.length:0," fields"]})]}),g.require_terms_acceptance&&s.jsx(Ee,{variant:"secondary",className:"text-xs",children:"Terms Required"})]}),g.require_terms_acceptance&&g.terms_and_conditions&&s.jsxs("div",{className:"p-2 bg-muted rounded text-xs",children:[s.jsx("strong",{children:"Terms:"})," ",g.terms_and_conditions.slice(0,100),g.terms_and_conditions.length>100&&"..."]}),s.jsxs(mr,{children:[s.jsx(kf,{asChild:!0,children:s.jsxs(X,{variant:"outline",size:"sm",className:"w-full",onClick:()=>h(g),children:[s.jsx(ba,{className:"h-4 w-4 mr-2"}),"View Submissions"]})}),s.jsxs(Qn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-5 w-5"}),g.form_title," - Submissions"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No submissions yet"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total submissions: ",r.length]}),s.jsxs(vj,{children:[s.jsx(xj,{children:s.jsxs(pu,{children:[s.jsx(Vr,{children:"Submitted At"}),s.jsx(Vr,{children:"Visitor ID"}),s.jsx(Vr,{children:"Status"}),s.jsx(Vr,{children:"Data"})]})}),s.jsx(yj,{children:r.map(p=>{var v;return s.jsxs(pu,{children:[s.jsx(Wr,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),at(new Date(p.submitted_at),"MMM dd, yyyy HH:mm")]})}),s.jsx(Wr,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),((v=p.visitor_id)==null?void 0:v.slice(0,8))||"Anonymous"]})}),s.jsx(Wr,{children:s.jsx(Ee,{variant:p.status==="submitted"?"default":"secondary",children:p.status})}),s.jsx(Wr,{children:s.jsx("div",{className:"space-y-1 max-w-md",children:p.submitted_data&&typeof p.submitted_data=="object"&&Object.entries(p.submitted_data).map(([x,b])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[l?f(x,l):x,":"]}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:m(null,b)})]},x))})})]},p.id)})})]})]})]})]})]})})]},g.id))})]})}function O8e(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Tn,{className:"h-8 w-8"}),"Forms & Submissions"]}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbots"})]}),s.jsx(T8e,{})]})}function M8e(){const{customer:e}=ws(),[t,n]=y.useState(null),[r,a]=y.useState(!0),[i,o]=y.useState("overview");y.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:u,error:d}=await K.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name,
            theme_color
          )
        `).eq("customer_id",e.id);if(d)throw d;const h=(u==null?void 0:u.map($=>$.chatbot_id))||[];let f=[],m=[];if(h.length>0){const{data:$,error:T}=await K.from("conversations").select("id, chatbot_id, created_at").in("chatbot_id",h);if(T)throw T;f=$||[];const{data:U,error:M}=await K.from("messages").select(`
            id, 
            conversation_id, 
            created_at,
            conversations!inner(chatbot_id)
          `).in("conversations.chatbot_id",h);if(M)throw M;m=U||[]}const g=(u==null?void 0:u.map($=>{const T=$.chatbots,U=f.filter(Y=>Y.chatbot_id===T.id).length,M=m.filter(Y=>{var ee;return((ee=Y.conversations)==null?void 0:ee.chatbot_id)===T.id}).length;return{id:T.id,name:T.name,conversations:U,messages:M,theme_color:T.theme_color}}))||[],{data:p,error:v}=await K.from("customer_assistant_assignments").select(`
          assistant_id,
          voice_assistants (
            id,
            name,
            phone_number
          )
        `).eq("customer_id",e.id);if(v)throw v;const x=(p==null?void 0:p.map($=>$.assistant_id).filter(Boolean))||[];let b=[];if(x.length>0){const{data:$,error:T}=await K.from("voice_assistant_calls").select("id, assistant_id, duration_seconds, status, started_at").in("assistant_id",x);if(T)throw T;b=$||[]}const w=(p==null?void 0:p.map($=>{const T=$.voice_assistants,U=b.filter(ee=>ee.assistant_id===$.assistant_id),Y=U.filter(ee=>ee.duration_seconds!=null&&ee.duration_seconds>0).reduce((ee,_)=>ee+(_.duration_seconds||0),0);return{id:T.id,name:T.name||"Unnamed Assistant",total_calls:U.length,total_duration:Y,phone_number:T.phone_number}}))||[],{data:j,error:S}=await K.from("customer_whatsapp_agent_assignments").select(`
          agent_id,
          whatsapp_agents (
            id,
            name,
            phone_number
          )
        `).eq("customer_id",e.id);if(S)throw S;const N=(j==null?void 0:j.map($=>$.agent_id))||[];let C=[],k=[];if(N.length>0){const{data:$,error:T}=await K.from("whatsapp_conversations").select("id, agent_id, started_at").in("agent_id",N);if(T)throw T;C=$||[];const U=C.map(M=>M.id);if(U.length>0){const{data:M,error:Y}=await K.from("whatsapp_messages").select("id, conversation_id").in("conversation_id",U);if(Y)throw Y;k=M||[]}}const D=(j==null?void 0:j.map($=>{const T=$.whatsapp_agents,U=C.filter(ee=>ee.agent_id===$.agent_id),M=U.map(ee=>ee.id),Y=k.filter(ee=>M.includes(ee.conversation_id));return{id:T.id,name:T.name||"Unnamed Agent",conversations:U.length,messages:Y.length,phone_number:T.phone_number}}))||[],R=f.length,E=m.length,B=b.length,L=b.filter($=>$.duration_seconds!=null&&$.duration_seconds>0).reduce(($,T)=>$+(T.duration_seconds||0),0),I=C.length,O=k.length;n({total_chatbot_conversations:R,total_chatbot_messages:E,avg_chatbot_conversation_length:R>0?Math.round(E/R):0,chatbot_performance:g,total_voice_calls:B,total_voice_duration:L,voice_assistant_performance:w,total_whatsapp_conversations:I,total_whatsapp_messages:O,whatsapp_agent_performance:D,total_conversations:R+I,total_messages:E+O,total_interactions:R+B+I})}catch(u){console.error("Error fetching analytics:",u),_e.error("Failed to load analytics data")}finally{a(!1)}},c=u=>{const d=Math.floor(u/3600),h=Math.floor(u%3600/60);return d>0?`${d}h ${h}m`:`${h}m`};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((u,d)=>s.jsxs(W,{children:[s.jsx(re,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(G,{children:s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"})})]},d))}),s.jsx("div",{className:"h-64 bg-muted rounded animate-pulse"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(ho,{className:"h-8 w-8"}),"Analytics"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights across all your connected agents"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Interactions"}),s.jsx(ah,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_interactions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations + Calls across all agents"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_messages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbot + WhatsApp messages"})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Voice Calls"}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_voice_calls}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c(t.total_voice_duration)," total duration"]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.chatbot_performance.length+t.voice_assistant_performance.length+t.whatsapp_agent_performance.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected agents"})]})]})]}),s.jsxs(Nf,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(Eu,{className:"grid w-full grid-cols-4",children:[s.jsxs(Kt,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(ho,{className:"h-4 w-4"}),"Overview"]}),s.jsxs(Kt,{value:"chatbots",className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4"}),"Chatbots"]}),s.jsxs(Kt,{value:"voice",className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4"}),"Voice"]}),s.jsxs(Kt,{value:"whatsapp",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"WhatsApp"]})]}),s.jsxs(Yt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[s.jsx(vt,{className:"h-5 w-5"}),"Chatbots"]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agents"}),s.jsx("span",{className:"font-medium",children:t.chatbot_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{className:"font-medium",children:t.total_chatbot_conversations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{className:"font-medium",children:t.total_chatbot_messages})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Length"}),s.jsxs("span",{className:"font-medium",children:[t.avg_chatbot_conversation_length," msgs"]})]})]})]}),s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[s.jsx(It,{className:"h-5 w-5"}),"Voice Assistants"]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:t.voice_assistant_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Calls"}),s.jsx("span",{className:"font-medium",children:t.total_voice_calls})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Duration"}),s.jsx("span",{className:"font-medium",children:c(t.total_voice_duration)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Call"}),s.jsx("span",{className:"font-medium",children:t.total_voice_calls>0?c(Math.round(t.total_voice_duration/t.total_voice_calls)):"0m"})]})]})]}),s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ht,{className:"h-5 w-5"}),"WhatsApp Agents"]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agents"}),s.jsx("span",{className:"font-medium",children:t.whatsapp_agent_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{className:"font-medium",children:t.total_whatsapp_conversations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{className:"font-medium",children:t.total_whatsapp_messages})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Length"}),s.jsxs("span",{className:"font-medium",children:[t.total_whatsapp_conversations>0?Math.round(t.total_whatsapp_messages/t.total_whatsapp_conversations):0," msgs"]})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(jo,{className:"h-5 w-5"}),"Top Performers"]}),s.jsx(xe,{children:"Most active agents across all channels"})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[t.chatbot_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.chatbot_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active Chatbot"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.chatbot_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).conversations}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"conversations"})]})]}),t.voice_assistant_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(It,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.voice_assistant_performance.reduce((u,d)=>d.total_calls>u.total_calls?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active Voice Assistant"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.voice_assistant_performance.reduce((u,d)=>d.total_calls>u.total_calls?d:u).total_calls}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"calls"})]})]}),t.whatsapp_agent_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ht,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.whatsapp_agent_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active WhatsApp Agent"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.whatsapp_agent_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).conversations}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"conversations"})]})]}),t.chatbot_performance.length===0&&t.voice_assistant_performance.length===0&&t.whatsapp_agent_performance.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ho,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No agents connected yet"})]})]})})]})]}),s.jsx(Yt,{value:"chatbots",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-5 w-5"}),"Chatbot Performance"]}),s.jsx(xe,{children:"Detailed breakdown by individual chatbot"})]}),s.jsx(G,{children:t.chatbot_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(vt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No chatbots connected"})]}):s.jsx("div",{className:"space-y-4",children:t.chatbot_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.theme_color||"#3b82f6"}}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.conversations," conversations  ",u.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.conversations>0?Math.round(u.messages/u.conversations):0," avg msgs"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"per conversation"})]})]},u.id))})})]})}),s.jsx(Yt,{value:"voice",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-5 w-5"}),"Voice Assistant Performance"]}),s.jsx(xe,{children:"Call statistics by voice assistant"})]}),s.jsx(G,{children:t.voice_assistant_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(It,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No voice assistants connected"})]}):s.jsx("div",{className:"space-y-4",children:t.voice_assistant_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(It,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone_number||"No phone number"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.total_calls," calls"]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),c(u.total_duration)]})]})]},u.id))})})]})}),s.jsx(Yt,{value:"whatsapp",className:"space-y-6",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-5 w-5"}),"WhatsApp Agent Performance"]}),s.jsx(xe,{children:"Conversation statistics by WhatsApp agent"})]}),s.jsx(G,{children:t.whatsapp_agent_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ht,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No WhatsApp agents connected"})]}):s.jsx("div",{className:"space-y-4",children:t.whatsapp_agent_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:s.jsx(Ht,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone_number||"No phone number"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.conversations," conversations"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[u.messages," messages"]})]})]},u.id))})})]})})]})]})]})}function D8e(){const{customer:e,updateProfile:t}=ws(),{theme:n,setTheme:r}=Hg(),[a,i]=y.useState(!1),[o,l]=y.useState({full_name:(e==null?void 0:e.full_name)||"",company_name:(e==null?void 0:e.company_name)||""}),[c,u]=y.useState(!1),[d,h]=y.useState({newPassword:"",confirmPassword:""}),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,x]=y.useState(!1),b=async()=>{if(d.newPassword.length<6){_e.error("Password must be at least 6 characters long");return}if(d.newPassword!==d.confirmPassword){_e.error("Passwords do not match");return}x(!0);try{const{error:N}=await K.auth.updateUser({password:d.newPassword});N?_e.error(N.message||"Failed to update password"):(_e.success("Password updated successfully"),u(!1),h({newPassword:"",confirmPassword:""}))}catch{_e.error("An unexpected error occurred")}finally{x(!1)}},w=()=>{u(!1),h({newPassword:"",confirmPassword:""}),m(!1),p(!1)},j=async N=>{i(!0);try{const{error:C}=await t({weekly_summary_enabled:N});C?_e.error("Failed to update notification settings"):_e.success("Notification settings updated successfully")}finally{i(!1)}},S=async()=>{i(!0);try{const{error:N}=await t(o);N?_e.error("Failed to update profile"):_e.success("Profile updated successfully")}finally{i(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(hs,{className:"h-8 w-8"}),"Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and notification settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(xe,{children:"Update your personal information and company details"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"full_name",children:"Full Name"}),s.jsx(le,{id:"full_name",value:o.full_name,onChange:N=>l(C=>({...C,full_name:N.target.value})),placeholder:"Enter your full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"company_name",children:"Company Name"}),s.jsx(le,{id:"company_name",value:o.company_name,onChange:N=>l(C=>({...C,company_name:N.target.value})),placeholder:"Enter your company name"})]}),s.jsxs(X,{onClick:S,disabled:a,className:"w-full",children:[s.jsx(Ja,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Profile"]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(XB,{className:"h-5 w-5"}),"Appearance"]}),s.jsx(xe,{children:"Customize how the portal looks"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Select your preferred theme"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:n==="light"?"default":"outline",size:"sm",onClick:()=>r("light"),className:"flex items-center gap-2",children:[s.jsx(IP,{className:"h-4 w-4"}),"Light"]}),s.jsxs(X,{variant:n==="dark"?"default":"outline",size:"sm",onClick:()=>r("dark"),className:"flex items-center gap-2",children:[s.jsx(DP,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(EP,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(xe,{children:"Configure how you want to receive updates and alerts"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(J,{htmlFor:"weekly-summary",children:"Weekly Email Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly performance summaries via email"})]}),s.jsx(Rt,{id:"weekly-summary",checked:(e==null?void 0:e.weekly_summary_enabled)||!1,onCheckedChange:j,disabled:a})]}),s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Email Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(J,{children:"New Form Submissions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when forms are submitted"})]}),s.jsx(Rt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(J,{children:"System Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system announcements"})]}),s.jsx(Rt,{defaultChecked:!0})]})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5"}),"Account Information"]}),s.jsx(xe,{children:"View your account details and access information"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Za,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(yte,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Company"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.company_name)||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Account Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Account"})]})]})]})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{className:"flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5"}),"Security"]}),s.jsx(xe,{children:"Manage your account security and access"})]}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rS,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure your account with a strong password"})]})]}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Change Password"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx(X,{variant:"outline",size:"sm",disabled:!0,children:"Coming Soon"})]})]})})]})]}),s.jsx(mr,{open:c,onOpenChange:w,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsxs(Zn,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(rS,{className:"h-5 w-5"}),"Change Password"]}),s.jsx(Do,{children:"Enter your new password below. Make sure it's at least 6 characters long."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"new-password",type:f?"text":"password",value:d.newPassword,onChange:N=>h(C=>({...C,newPassword:N.target.value})),placeholder:"Enter new password",className:"pr-10"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!f),children:f?s.jsx(yp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"confirm-password",type:g?"text":"password",value:d.confirmPassword,onChange:N=>h(C=>({...C,confirmPassword:N.target.value})),placeholder:"Confirm new password",className:"pr-10"}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!g),children:g?s.jsx(yp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})})]})]}),d.newPassword&&d.confirmPassword&&d.newPassword!==d.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(X,{variant:"outline",onClick:w,children:"Cancel"}),s.jsx(X,{onClick:b,disabled:v||!d.newPassword||!d.confirmPassword,children:v?"Updating...":"Update Password"})]})]})})]})}function I8e(){const{user:e}=qt(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]});y.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const{data:p,error:v}=await K.from("chatbots").select("id, name, description").eq("user_id",e==null?void 0:e.id);if(v)throw v;a(p||[]);const{data:x,error:b}=await K.from("customers").select(`
          *,
          customer_chatbot_assignments (
            chatbot_id
          )
        `).eq("created_by_user_id",e==null?void 0:e.id);if(b)throw b;const w=(p==null?void 0:p.map(S=>S.id))||[],j=(x==null?void 0:x.map(S=>({...S,assigned_chatbots:S.customer_chatbot_assignments.filter(N=>w.includes(N.chatbot_id)).map(N=>N.chatbot_id)})))||[];n(j)}catch(p){console.error("Error fetching data:",p),_e.error("Failed to load customer data")}finally{o(!1)}},f=async()=>{if(!u.email||!u.full_name||!u.password){_e.error("Please fill in all required fields including password");return}if(u.password.length<6){_e.error("Password must be at least 6 characters long");return}if(u.assigned_chatbots.length===0){_e.error("Please assign at least one chatbot to the customer");return}try{const p=await CLe({email:u.email,full_name:u.full_name,company_name:u.company_name||void 0,password:u.password,chatbot_id:u.assigned_chatbots[0]||void 0}),v=p==null?void 0:p.customer_id;if(v&&u.assigned_chatbots.length>0)for(const b of u.assigned_chatbots)await K.from("customer_chatbot_assignments").upsert({customer_id:v,chatbot_id:b,assigned_by:e==null?void 0:e.id},{onConflict:"customer_id,chatbot_id",ignoreDuplicates:!0});const x=p!=null&&p.auth_created?"Customer created successfully with login credentials":"Customer created successfully (login credentials may need manual setup)";_e.success(x),c(!1),d({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]}),h()}catch(p){console.error("Error creating customer:",p),_e.error("Failed to create customer")}},m=async p=>{if(confirm("Are you sure you want to delete this customer? This will also remove all their chatbot assignments."))try{const{error:v}=await K.from("customers").delete().eq("id",p);if(v)throw v;_e.success("Customer deleted successfully"),h()}catch(v){console.error("Error deleting customer:",v),_e.error("Failed to delete customer")}},g=async p=>{try{await kLe(p.email),_e.success("Login link sent successfully")}catch(v){console.error("Error sending login link:",v),_e.error("Failed to send login link")}};return i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer access to your chatbots"})]}),s.jsxs(mr,{open:l,onOpenChange:c,children:[s.jsx(kf,{asChild:!0,children:s.jsxs(X,{children:[s.jsx(bp,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsxs(Zn,{children:[s.jsx(er,{children:"Add New Customer"}),s.jsx(Do,{children:"Create a new customer account and assign chatbots"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"email",children:"Email *"}),s.jsx(le,{id:"email",type:"email",value:u.email,onChange:p=>d({...u,email:p.target.value}),placeholder:"customer@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(le,{id:"full_name",value:u.full_name,onChange:p=>d({...u,full_name:p.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"company_name",children:"Company Name"}),s.jsx(le,{id:"company_name",value:u.company_name,onChange:p=>d({...u,company_name:p.target.value}),placeholder:"Acme Corp"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"password",children:"Password *"}),s.jsx(le,{id:"password",type:"password",value:u.password,onChange:p=>d({...u,password:p.target.value}),placeholder:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Assign Chatbots *"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2",children:r.map(p=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ih,{id:p.id,checked:u.assigned_chatbots.includes(p.id),onCheckedChange:v=>{d(v?{...u,assigned_chatbots:[...u.assigned_chatbots,p.id]}:{...u,assigned_chatbots:u.assigned_chatbots.filter(x=>x!==p.id)})}}),s.jsx(J,{htmlFor:p.id,className:"text-sm",children:p.name})]},p.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(X,{onClick:f,children:"Create Customer"})]})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Customers"}),s.jsx(xe,{children:"Manage customer accounts and their chatbot access"})]}),s.jsx(G,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No customers found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first customer to get started."})]}):s.jsxs(vj,{children:[s.jsx(xj,{children:s.jsxs(pu,{children:[s.jsx(Vr,{children:"Customer"}),s.jsx(Vr,{children:"Company"}),s.jsx(Vr,{children:"Assigned Chatbots"}),s.jsx(Vr,{children:"Last Login"}),s.jsx(Vr,{children:"Actions"})]})}),s.jsx(yj,{children:t.map(p=>s.jsxs(pu,{children:[s.jsx(Wr,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:p.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.email})]})}),s.jsx(Wr,{children:p.company_name||"-"}),s.jsx(Wr,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:p.assigned_chatbots.map(v=>{const x=r.find(b=>b.id===v);return s.jsx(Ee,{variant:"secondary",className:"text-xs",children:(x==null?void 0:x.name)||"Unknown"},v)})})}),s.jsx(Wr,{children:p.last_login?new Date(p.last_login).toLocaleDateString():"Never"}),s.jsx(Wr,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:()=>g(p),children:s.jsx(Za,{className:"w-4 h-4"})}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(p.id),children:s.jsx(ln,{className:"w-4 h-4"})})]})})]},p.id))})]})})]})]})}var Kk=["Enter"," "],R8e=["ArrowDown","PageUp","Home"],kG=["ArrowUp","PageDown","End"],$8e=[...R8e,...kG],L8e={ltr:[...Kk,"ArrowRight"],rtl:[...Kk,"ArrowLeft"]},F8e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hv="Menu",[fg,B8e,U8e]=kg(hv),[Au,EG]=Or(hv,[U8e,Jl,_f]),bj=Jl(),PG=_f(),[z8e,Tu]=Au(hv),[q8e,fv]=Au(hv),AG=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=bj(t),[c,u]=y.useState(null),d=y.useRef(!1),h=yn(i),f=ku(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(W0,{...l,children:s.jsx(z8e,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(q8e,{scope:t,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};AG.displayName=hv;var V8e="MenuAnchor",iT=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=bj(n);return s.jsx(Tg,{...a,...r,ref:t})});iT.displayName=V8e;var oT="MenuPortal",[W8e,TG]=Au(oT,{forceMount:void 0}),OG=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Tu(oT,t);return s.jsx(W8e,{scope:t,forceMount:n,children:s.jsx($n,{present:n||i.open,children:s.jsx(Kh,{asChild:!0,container:a,children:r})})})};OG.displayName=oT;var ga="MenuContent",[H8e,lT]=Au(ga),MG=y.forwardRef((e,t)=>{const n=TG(ga,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Tu(ga,e.__scopeMenu),o=fv(ga,e.__scopeMenu);return s.jsx(fg.Provider,{scope:e.__scopeMenu,children:s.jsx($n,{present:r||i.open,children:s.jsx(fg.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(G8e,{...a,ref:t}):s.jsx(K8e,{...a,ref:t})})})})}),G8e=y.forwardRef((e,t)=>{const n=Tu(ga,e.__scopeMenu),r=y.useRef(null),a=Ye(t,r);return y.useEffect(()=>{const i=r.current;if(i)return dw(i)},[]),s.jsx(cT,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),K8e=y.forwardRef((e,t)=>{const n=Tu(ga,e.__scopeMenu);return s.jsx(cT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),cT=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Tu(ga,n),x=fv(ga,n),b=bj(n),w=PG(n),j=B8e(n),[S,N]=y.useState(null),C=y.useRef(null),k=Ye(t,C,v.onContentChange),D=y.useRef(0),R=y.useRef(""),E=y.useRef(0),B=y.useRef(null),F=y.useRef("right"),L=y.useRef(0),I=g?$g:y.Fragment,O=g?{as:vs,allowPinchZoom:!0}:void 0,$=U=>{var V,te;const M=R.current+U,Y=j().filter(Z=>!Z.disabled),ee=document.activeElement,_=(V=Y.find(Z=>Z.ref.current===ee))==null?void 0:V.textValue,A=Y.map(Z=>Z.textValue),P=iUe(A,M,_),z=(te=Y.find(Z=>Z.textValue===P))==null?void 0:te.ref.current;(function Z(q){R.current=q,window.clearTimeout(D.current),q!==""&&(D.current=window.setTimeout(()=>Z(""),1e3))})(M),z&&setTimeout(()=>z.focus())};y.useEffect(()=>()=>window.clearTimeout(D.current),[]),cw();const T=y.useCallback(U=>{var Y,ee;return F.current===((Y=B.current)==null?void 0:Y.side)&&lUe(U,(ee=B.current)==null?void 0:ee.area)},[]);return s.jsx(H8e,{scope:n,searchRef:R,onItemEnter:y.useCallback(U=>{T(U)&&U.preventDefault()},[T]),onItemLeave:y.useCallback(U=>{var M;T(U)||((M=C.current)==null||M.focus(),N(null))},[T]),onTriggerLeave:y.useCallback(U=>{T(U)&&U.preventDefault()},[T]),pointerGraceTimerRef:E,onPointerGraceIntentChange:y.useCallback(U=>{B.current=U},[]),children:s.jsx(I,{...O,children:s.jsx(Rg,{asChild:!0,trapped:a,onMountAutoFocus:we(i,U=>{var M;U.preventDefault(),(M=C.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx(EA,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:we(c,U=>{x.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(H0,{role:"menu","aria-orientation":"vertical","data-state":YG(v.open),"data-radix-menu-content":"",dir:x.dir,...b,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:we(p.onKeyDown,U=>{const Y=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ee=U.ctrlKey||U.altKey||U.metaKey,_=U.key.length===1;Y&&(U.key==="Tab"&&U.preventDefault(),!ee&&_&&$(U.key));const A=C.current;if(U.target!==A||!$8e.includes(U.key))return;U.preventDefault();const z=j().filter(V=>!V.disabled).map(V=>V.ref.current);kG.includes(U.key)&&z.reverse(),sUe(z)}),onBlur:we(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(D.current),R.current="")}),onPointerMove:we(e.onPointerMove,mg(U=>{const M=U.target,Y=L.current!==U.clientX;if(U.currentTarget.contains(M)&&Y){const ee=U.clientX>L.current?"right":"left";F.current=ee,L.current=U.clientX}}))})})})})})})});MG.displayName=ga;var Y8e="MenuGroup",uT=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{role:"group",...r,ref:t})});uT.displayName=Y8e;var J8e="MenuLabel",DG=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});DG.displayName=J8e;var r0="MenuItem",DL="menu.itemSelect",wj=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=y.useRef(null),o=fv(r0,e.__scopeMenu),l=lT(r0,e.__scopeMenu),c=Ye(t,i),u=y.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(DL,{bubbles:!0,cancelable:!0});h.addEventListener(DL,m=>r==null?void 0:r(m),{once:!0}),NP(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(IG,{...a,ref:c,disabled:n,onClick:we(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:we(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:we(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||Kk.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});wj.displayName=r0;var IG=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=lT(r0,n),l=PG(n),c=y.useRef(null),u=Ye(t,c),[d,h]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(fg.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(PA,{asChild:!0,...l,focusable:!r,children:s.jsx(De.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:we(e.onPointerMove,mg(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(e.onPointerLeave,mg(g=>o.onItemLeave(g))),onFocus:we(e.onFocus,()=>h(!0)),onBlur:we(e.onBlur,()=>h(!1))})})})}),X8e="MenuCheckboxItem",RG=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(UG,{scope:e.__scopeMenu,checked:n,children:s.jsx(wj,{role:"menuitemcheckbox","aria-checked":s0(n)?"mixed":n,...a,ref:t,"data-state":hT(n),onSelect:we(a.onSelect,()=>r==null?void 0:r(s0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RG.displayName=X8e;var $G="MenuRadioGroup",[Q8e,Z8e]=Au($G,{value:void 0,onValueChange:()=>{}}),LG=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=yn(r);return s.jsx(Q8e,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(uT,{...a,ref:t})})});LG.displayName=$G;var FG="MenuRadioItem",BG=y.forwardRef((e,t)=>{const{value:n,...r}=e,a=Z8e(FG,e.__scopeMenu),i=n===a.value;return s.jsx(UG,{scope:e.__scopeMenu,checked:i,children:s.jsx(wj,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":hT(i),onSelect:we(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});BG.displayName=FG;var dT="MenuItemIndicator",[UG,eUe]=Au(dT,{checked:!1}),zG=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=eUe(dT,n);return s.jsx($n,{present:r||s0(i.checked)||i.checked===!0,children:s.jsx(De.span,{...a,ref:t,"data-state":hT(i.checked)})})});zG.displayName=dT;var tUe="MenuSeparator",qG=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});qG.displayName=tUe;var nUe="MenuArrow",VG=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=bj(n);return s.jsx(G0,{...a,...r,ref:t})});VG.displayName=nUe;var rUe="MenuSub",[qGe,WG]=Au(rUe),_m="MenuSubTrigger",HG=y.forwardRef((e,t)=>{const n=Tu(_m,e.__scopeMenu),r=fv(_m,e.__scopeMenu),a=WG(_m,e.__scopeMenu),i=lT(_m,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(iT,{asChild:!0,...u,children:s.jsx(IG,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":YG(n.open),...e,ref:L0(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:we(e.onPointerMove,mg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:we(e.onPointerLeave,mg(h=>{var m,g;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(g=n.content)==null?void 0:g.dataset.side,v=p==="right",x=v?-5:5,b=f[v?"left":"right"],w=f[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:b,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:we(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||L8e[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});HG.displayName=_m;var GG="MenuSubContent",KG=y.forwardRef((e,t)=>{const n=TG(ga,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Tu(ga,e.__scopeMenu),o=fv(ga,e.__scopeMenu),l=WG(GG,e.__scopeMenu),c=y.useRef(null),u=Ye(t,c);return s.jsx(fg.Provider,{scope:e.__scopeMenu,children:s.jsx($n,{present:r||i.open,children:s.jsx(fg.Slot,{scope:e.__scopeMenu,children:s.jsx(cT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:we(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:we(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:we(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=F8e[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});KG.displayName=GG;function YG(e){return e?"open":"closed"}function s0(e){return e==="indeterminate"}function hT(e){return s0(e)?"indeterminate":e?"checked":"unchecked"}function sUe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function aUe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function iUe(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=aUe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function oUe(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function lUe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return oUe(n,t)}function mg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cUe=AG,uUe=iT,dUe=OG,hUe=MG,fUe=uT,mUe=DG,pUe=wj,gUe=RG,vUe=LG,xUe=BG,yUe=zG,bUe=qG,wUe=VG,jUe=HG,_Ue=KG,fT="DropdownMenu",[NUe,VGe]=Or(fT,[EG]),Qr=EG(),[SUe,JG]=NUe(fT),XG=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Qr(t),u=y.useRef(null),[d=!1,h]=xs({prop:a,defaultProp:i,onChange:o});return s.jsx(SUe,{scope:t,triggerId:Bs(),triggerRef:u,contentId:Bs(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(cUe,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};XG.displayName=fT;var QG="DropdownMenuTrigger",ZG=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=JG(QG,n),o=Qr(n);return s.jsx(uUe,{asChild:!0,...o,children:s.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:L0(t,i.triggerRef),onPointerDown:we(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:we(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ZG.displayName=QG;var CUe="DropdownMenuPortal",eK=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qr(t);return s.jsx(dUe,{...r,...n})};eK.displayName=CUe;var tK="DropdownMenuContent",nK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=JG(tK,n),i=Qr(n),o=y.useRef(!1);return s.jsx(hUe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:we(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:we(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nK.displayName=tK;var kUe="DropdownMenuGroup",EUe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(fUe,{...a,...r,ref:t})});EUe.displayName=kUe;var PUe="DropdownMenuLabel",rK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(mUe,{...a,...r,ref:t})});rK.displayName=PUe;var AUe="DropdownMenuItem",sK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(pUe,{...a,...r,ref:t})});sK.displayName=AUe;var TUe="DropdownMenuCheckboxItem",aK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(gUe,{...a,...r,ref:t})});aK.displayName=TUe;var OUe="DropdownMenuRadioGroup",MUe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(vUe,{...a,...r,ref:t})});MUe.displayName=OUe;var DUe="DropdownMenuRadioItem",iK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(xUe,{...a,...r,ref:t})});iK.displayName=DUe;var IUe="DropdownMenuItemIndicator",oK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(yUe,{...a,...r,ref:t})});oK.displayName=IUe;var RUe="DropdownMenuSeparator",lK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(bUe,{...a,...r,ref:t})});lK.displayName=RUe;var $Ue="DropdownMenuArrow",LUe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(wUe,{...a,...r,ref:t})});LUe.displayName=$Ue;var FUe="DropdownMenuSubTrigger",cK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(jUe,{...a,...r,ref:t})});cK.displayName=FUe;var BUe="DropdownMenuSubContent",uK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qr(n);return s.jsx(_Ue,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uK.displayName=BUe;var UUe=XG,zUe=ZG,qUe=eK,dK=nK,hK=rK,fK=sK,mK=aK,pK=iK,gK=oK,vK=lK,xK=cK,yK=uK;const mT=UUe,pT=zUe,VUe=y.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(xK,{ref:a,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(Wa,{className:"ml-auto h-4 w-4"})]}));VUe.displayName=xK.displayName;const WUe=y.forwardRef(({className:e,...t},n)=>s.jsx(yK,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));WUe.displayName=yK.displayName;const jj=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(qUe,{children:s.jsx(dK,{ref:r,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jj.displayName=dK.displayName;const bl=y.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(fK,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));bl.displayName=fK.displayName;const HUe=y.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(mK,{ref:a,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gK,{children:s.jsx(U0,{className:"h-4 w-4"})})}),t]}));HUe.displayName=mK.displayName;const GUe=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(pK,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(gK,{children:s.jsx(VB,{className:"h-2 w-2 fill-current"})})}),t]}));GUe.displayName=pK.displayName;const bK=y.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(hK,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));bK.displayName=hK.displayName;const gT=y.forwardRef(({className:e,...t},n)=>s.jsx(vK,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));gT.displayName=vK.displayName;function wK({onSwitch:e,compact:t=!1}){const{user:n}=qt(),[r,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!1),u=async()=>{try{o(!0);const{data:f,error:m}=await K.from("voice_connections").select("id, org_name, org_id, is_active").eq("user_id",n==null?void 0:n.id).order("created_at",{ascending:!0});if(m)throw m;console.log("OrganizationSwitcher: Fetched connections:",f),a(f||[])}catch(f){console.error("Error fetching connections:",f)}finally{o(!1)}};y.useEffect(()=>{n&&u()},[n]),y.useEffect(()=>(window.__refreshOrgSwitcher=u,()=>{delete window.__refreshOrgSwitcher}),[n]);const d=async f=>{if(l)return;const m=r.find(g=>g.id===f);if(!(!m||m.is_active)){c(!0);try{const{error:g}=await K.from("voice_connections").update({is_active:!1}).eq("user_id",n==null?void 0:n.id);if(g)throw g;const{error:p}=await K.from("voice_connections").update({is_active:!0}).eq("id",f);if(p)throw p;_e.success(`Switched to "${m.org_name||"Organization"}"`),await u(),e==null||e()}catch(g){console.error("Error switching organization:",g),_e.error("Failed to switch organization")}finally{c(!1)}}},h=r.find(f=>f.is_active);return i||r.length<=1?null:s.jsxs(mT,{children:[s.jsx(pT,{asChild:!0,children:s.jsxs(X,{variant:"outline",size:t?"sm":"default",className:"gap-2",disabled:l,children:[s.jsx(qB,{className:t?"h-3.5 w-3.5":"h-4 w-4"}),s.jsx("span",{className:t?"text-xs max-w-[100px] truncate":"max-w-[150px] truncate",children:(h==null?void 0:h.org_name)||"Select Org"}),s.jsx(Jh,{className:t?"h-3 w-3":"h-3.5 w-3.5"})]})}),s.jsxs(jj,{align:"end",className:"w-56",children:[s.jsx(bK,{className:"text-xs text-muted-foreground",children:"Vapi Organizations"}),s.jsx(gT,{}),r.map(f=>s.jsxs(bl,{onClick:()=>d(f.id),className:"flex items-center justify-between cursor-pointer",disabled:f.is_active,children:[s.jsx("span",{className:f.is_active?"font-medium":"",children:f.org_name||"Unnamed Organization"}),f.is_active&&s.jsx(U0,{className:"h-4 w-4 text-primary"})]},f.id))]})]})}const jK=({assistantId:e,assistantName:t,orgId:n,onTaskCreated:r,placeholder:a="Add a task and press Enter..."})=>{const{user:i}=qt(),[o,l]=y.useState(""),[c,u]=y.useState(!1),d=async f=>{if(f==null||f.preventDefault(),!(!o.trim()||!i)){u(!0);try{const m=await K.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:e||null,org_id:n||null,title:o.trim(),priority:"medium",status:"pending"}).select().single();if(m.error)throw m.error;e&&await K.from("changelog_entries").insert({user_id:i.id,entity_type:"voice_assistant",entity_id:e,change_type:"task",title:o.trim(),status:"pending",source:"manual"}),r==null||r(m.data),l(""),_e.success(e?`Task added for ${t}`:"Task added (unassigned)")}catch(m){console.error("Error creating task:",m),_e.error("Failed to create task")}finally{u(!1)}}},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),d())};return s.jsxs("form",{onSubmit:d,className:"flex items-center gap-2",children:[s.jsx(le,{value:o,onChange:f=>l(f.target.value),onKeyDown:h,placeholder:a,disabled:c,className:"flex-1"}),s.jsx(X,{type:"submit",size:"sm",disabled:c||!o.trim(),className:"shrink-0",children:c?s.jsx(ds,{className:"h-4 w-4 animate-spin"}):s.jsx(Gt,{className:"h-4 w-4"})})]})};function KUe(){const{user:e}=qt(),t=Mr(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(!0),[d,h]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,x]=y.useState(""),[b,w]=y.useState(""),[j,S]=y.useState(null),N=async()=>{if(!d){h(!0);try{const I=await ny();console.log(`Auto-synced ${(I==null?void 0:I.count)||0} voice assistants`)}catch(I){console.error("Auto-sync error:",I)}finally{h(!1)}}};y.useEffect(()=>{e&&C()},[e]),y.useEffect(()=>{if(e&&j!==null){N().then(()=>D());const I=setInterval(()=>{N().then(()=>D())},12e4);return()=>clearInterval(I)}},[e,j]);const C=async()=>{try{const{data:I,error:O}=await K.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(O)throw O;S((I==null?void 0:I.org_id)||"")}catch(I){console.error("Error fetching active connection:",I),S("")}},k=async()=>{p(null),await C(),h(!0);try{const I=await ny();_e.success(`Synced ${I.count} assistants`)}catch(I){console.error("Error syncing assistants:",I),_e.error("Failed to sync assistants")}finally{h(!1)}};y.useEffect(()=>{n.length>0&&!g&&p(n[0].id)},[n,g]);const D=async()=>{try{u(!0);let I=K.from("voice_assistants").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});j&&(I=I.eq("org_id",j));const{data:O,error:$}=await I;if($)throw $;r(O||[]);const T=[],{data:U}=await K.from("chatbots").select("id").eq("user_id",e==null?void 0:e.id),M=(U==null?void 0:U.map(te=>te.id))||[],Y=(O==null?void 0:O.map(te=>te.id))||[],{data:ee}=await K.from("whatsapp_agents").select("id").eq("user_id",e==null?void 0:e.id),_=(ee==null?void 0:ee.map(te=>te.id))||[];if(M.length>0){const{data:te}=await K.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",M);te&&T.push(...te)}if(Y.length>0){const{data:te}=await K.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",Y);te&&T.push(...te)}if(_.length>0){const{data:te}=await K.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",_);te&&T.push(...te)}const A=Array.from(new Map(T.map(te=>[te.id,te])).values());i(A);const{data:P,error:z}=await K.from("customer_assistant_assignments").select(`
          id,
          assistant_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e==null?void 0:e.id);if(z)throw z;const V=(P==null?void 0:P.map(te=>({id:te.id,assistant_id:te.assistant_id,customer:te.customers})))||[];l(V)}catch(I){console.error("Error fetching data:",I),_e.error("Failed to load data")}finally{u(!1)}},R=async()=>{h(!0);try{const I=await ny();_e.success(`Synced ${I.count} assistants`),await D()}catch(I){console.error("Error syncing assistants:",I),_e.error("Failed to sync assistants")}finally{h(!1)}},E=async()=>{if(!g||!v){_e.error("Please select a customer");return}try{const{error:I}=await K.from("customer_assistant_assignments").insert({customer_id:v,assistant_id:g,assigned_by:e==null?void 0:e.id});if(I){if(I.code==="23505")_e.error("This customer is already assigned to this assistant");else throw I;return}_e.success("Assistant assigned successfully"),m(!1),x(""),await D()}catch(I){console.error("Error assigning assistant:",I),_e.error("Failed to assign assistant")}},B=async I=>{try{const{error:O}=await K.from("customer_assistant_assignments").delete().eq("id",I);if(O)throw O;_e.success("Assignment removed"),await D()}catch(O){console.error("Error removing assignment:",O),_e.error("Failed to remove assignment")}},F=n.find(I=>I.id===g),L=o.filter(I=>I.assistant_id===g);return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Lm,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Voice Assistants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wK,{onSwitch:k,compact:!0}),s.jsxs(X,{onClick:R,disabled:d,size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(fa,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing":"Sync"]})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(_a,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:"Search assistants...",value:b,onChange:I=>w(I.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Ws,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const I=n.filter(O=>{var $;return($=O.name)==null?void 0:$.toLowerCase().includes(b.toLowerCase())});return I.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(vt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b?"No matching assistants":"No assistants found"}),!b&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your assistants"})]}):I.map(O=>{const $=o.filter(U=>U.assistant_id===O.id).length,T=g===O.id;return s.jsx("button",{onClick:()=>p(O.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${T?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${T?"text-primary":""}`,children:O.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[O.model_provider&&s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:O.model_provider}),$>0&&s.jsxs(Ee,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[$," assigned"]})]})]}),T&&s.jsx(Wa,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},O.id)})})()})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," assistants"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:F?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:s.jsx(vt,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:F.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Created ",new Date(F.created_at).toLocaleDateString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(`/voice-assistants/${F.id}/edit`),className:"gap-1.5",children:[s.jsx(Fte,{className:"h-4 w-4"}),"Edit"]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Quick Add Task"}),s.jsx(jK,{assistantId:F.id,assistantName:F.name,orgId:j,placeholder:"Add a task and press Enter..."})]}),F.first_message&&s.jsx(W,{className:"mb-6",children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ht,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"First Message"}),s.jsxs("p",{className:"text-sm italic",children:['"',F.first_message,'"']})]})]})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[F.voice_provider&&s.jsx(W,{children:s.jsx(G,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lm,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice"}),s.jsx("p",{className:"text-sm font-medium",children:F.voice_provider})]})]})})}),F.model_provider&&s.jsx(W,{children:s.jsx(G,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Model"}),s.jsxs("p",{className:"text-sm font-medium",children:[F.model_provider,F.model&&`  ${F.model}`]})]})]})})}),F.transcriber_provider&&s.jsx(W,{children:s.jsx(G,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transcriber"}),s.jsx("p",{className:"text-sm font-medium",children:F.transcriber_provider})]})]})})}),F.phone_number&&s.jsx(W,{children:s.jsx(G,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"text-sm font-medium font-mono",children:F.phone_number})]})]})})})]})]}),s.jsx(Yr,{className:"my-6"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bd,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"Assigned Customers"}),s.jsx(Ee,{variant:"secondary",className:"text-xs",children:L.length})]}),s.jsxs(X,{size:"sm",onClick:()=>m(!0),className:"gap-1.5",children:[s.jsx(bp,{className:"h-3.5 w-3.5"}),"Assign"]})]}),L.length===0?s.jsx(W,{className:"border-dashed",children:s.jsxs(G,{className:"py-8 text-center",children:[s.jsx(bd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assign customers to give them access to this assistant"})]})}):s.jsx("div",{className:"space-y-2",children:L.map(I=>s.jsx(W,{children:s.jsx(G,{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:I.customer.full_name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:I.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I.customer.email})]})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>B(I.id),className:"hover:bg-destructive/10 hover:text-destructive h-8 w-8 p-0",children:s.jsx(ln,{className:"h-4 w-4"})})]})})},I.id))})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an assistant to view details"})]})})}),s.jsx(mr,{open:f,onOpenChange:m,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsxs(Zn,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(bp,{className:"h-5 w-5 text-primary"}),"Assign Customer"]}),s.jsxs(Do,{children:["Select a customer to give them access to ",F==null?void 0:F.name]})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs(Ue,{value:v,onValueChange:x,children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select a customer..."})}),s.jsx(Fe,{children:a.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No customers available"}):a.map(I=>s.jsx(oe,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:I.full_name}),s.jsxs("span",{className:"text-muted-foreground",children:["(",I.email,")"]})]})},I.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"}),s.jsx(X,{onClick:E,disabled:!v,className:"flex-1",children:"Assign"})]})]})]})})]})}var _K={};function IL(e,t){if(e==null)return{};var n,r,a=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e){return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}function NK(e){var t=function(n,r){if(At(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,r||"default");if(At(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return At(t)=="symbol"?t:t+""}function RL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NK(r.key),r)}}function Ys(e,t,n){return t&&RL(e.prototype,t),n&&RL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _j(e,t){if(t&&(At(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(e)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pg(e,t)}function Nj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function Si(e,t,n){return(t=NK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,a)}function tt(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(c){$L(i,r,a,o,l,"next",c)}function l(c){$L(i,r,a,o,l,"throw",c)}o(void 0)})}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ar(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,o,l,c,u=[],d=!0,h=!1;try{if(l=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return LL(n,r);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?LL(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function YUe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FL,bx={exports:{}},Yk=function(){if(FL)return bx.exports;FL=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,v,x){return Function.prototype.apply.call(p,v,x)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function a(){a.init.call(this)}bx.exports=a,bx.exports.once=function(p,v){return new Promise(function(x,b){function w(S){p.removeListener(v,j),b(S)}function j(){typeof p.removeListener=="function"&&p.removeListener("error",w),x([].slice.call(arguments))}g(p,v,j,{once:!0}),v!=="error"&&function(S,N,C){typeof S.on=="function"&&g(S,"error",N,C)}(p,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function l(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}function c(p,v,x,b){var w,j,S,N;if(o(x),(j=p._events)===void 0?(j=p._events=Object.create(null),p._eventsCount=0):(j.newListener!==void 0&&(p.emit("newListener",v,x.listener?x.listener:x),j=p._events),S=j[v]),S===void 0)S=j[v]=x,++p._eventsCount;else if(typeof S=="function"?S=j[v]=b?[x,S]:[S,x]:b?S.unshift(x):S.push(x),(w=l(p))>0&&S.length>w&&!S.warned){S.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=p,C.type=v,C.count=S.length,N=C,console&&console.warn&&console.warn(N)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,v,x){var b={fired:!1,wrapFn:void 0,target:p,type:v,listener:x},w=u.bind(b);return w.listener=x,b.wrapFn=w,w}function h(p,v,x){var b=p._events;if(b===void 0)return[];var w=b[v];return w===void 0?[]:typeof w=="function"?x?[w.listener||w]:[w]:x?function(j){for(var S=new Array(j.length),N=0;N<S.length;++N)S[N]=j[N].listener||j[N];return S}(w):m(w,w.length)}function f(p){var v=this._events;if(v!==void 0){var x=v[p];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function m(p,v){for(var x=new Array(v),b=0;b<v;++b)x[b]=p[b];return x}function g(p,v,x,b){if(typeof p.on=="function")b.once?p.once(v,x):p.on(v,x);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(v,function w(j){b.once&&p.removeEventListener(v,w),x(j)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(p){for(var v=[],x=1;x<arguments.length;x++)v.push(arguments[x]);var b=p==="error",w=this._events;if(w!==void 0)b=b&&w.error===void 0;else if(!b)return!1;if(b){var j;if(v.length>0&&(j=v[0]),j instanceof Error)throw j;var S=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw S.context=j,S}var N=w[p];if(N===void 0)return!1;if(typeof N=="function")n(N,this,v);else{var C=N.length,k=m(N,C);for(x=0;x<C;++x)n(k[x],this,v)}return!0},a.prototype.addListener=function(p,v){return c(this,p,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(p,v){return c(this,p,v,!0)},a.prototype.once=function(p,v){return o(v),this.on(p,d(this,p,v)),this},a.prototype.prependOnceListener=function(p,v){return o(v),this.prependListener(p,d(this,p,v)),this},a.prototype.removeListener=function(p,v){var x,b,w,j,S;if(o(v),(b=this._events)===void 0)return this;if((x=b[p])===void 0)return this;if(x===v||x.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete b[p],b.removeListener&&this.emit("removeListener",p,x.listener||v));else if(typeof x!="function"){for(w=-1,j=x.length-1;j>=0;j--)if(x[j]===v||x[j].listener===v){S=x[j].listener,w=j;break}if(w<0)return this;w===0?x.shift():function(N,C){for(;C+1<N.length;C++)N[C]=N[C+1];N.pop()}(x,w),x.length===1&&(b[p]=x[0]),b.removeListener!==void 0&&this.emit("removeListener",p,S||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(p){var v,x,b;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[p]),this;if(arguments.length===0){var w,j=Object.keys(x);for(b=0;b<j.length;++b)(w=j[b])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=x[p])=="function")this.removeListener(p,v);else if(v!==void 0)for(b=v.length-1;b>=0;b--)this.removeListener(p,v[b]);return this},a.prototype.listeners=function(p){return h(this,p,!0)},a.prototype.rawListeners=function(p){return h(this,p,!1)},a.listenerCount=function(p,v){return typeof p.listenerCount=="function"?p.listenerCount(v):f.call(p,v)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},bx.exports}(),wx=YUe(Yk),BL=Object.prototype.hasOwnProperty;function UL(e,t,n){for(n of e.keys())if(qr(n,t))return n}function qr(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&qr(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((a=r)&&typeof a=="object"&&!(a=UL(t,a))||!t.has(a))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((a=r[0])&&typeof a=="object"&&!(a=UL(t,a))||!qr(r[1],t.get(a)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(BL.call(e,n)&&++r&&!BL.call(t,n)||!(n in t)||!qr(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const JUe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},SK={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},En={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Fr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Jo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ve{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const a=ve.getVersionPrecision(t),i=ve.getVersionPrecision(n);let o=Math.max(a,i),l=0;const c=ve.map([t,n],u=>{const d=o-ve.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return ve.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(l=o-Math.min(a,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(a=0;a<t.length;a+=1)r.push(n(t[a]));return r}static find(t,n){let r,a;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,a=t.length;r<a;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let a,i;if(Object.assign)return Object.assign(t,...n);for(a=0,i=n.length;a<i;a+=1){const o=n[a];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return t}static getBrowserAlias(t){return JUe[t]}static getBrowserTypeByAlias(t){return SK[t]||""}}const Qt=/version\/(\d+(\.?_?\d+)+)/i,XUe=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=ve.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=ve.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=ve.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=ve.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=ve.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=ve.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=ve.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=ve.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=ve.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=ve.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=ve.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=ve.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=ve.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=ve.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=ve.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=ve.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=ve.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=ve.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=ve.getFirstMatch(Qt,e)||ve.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=ve.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=ve.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=ve.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=ve.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=ve.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=ve.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=ve.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=ve.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=ve.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=ve.getFirstMatch(Qt,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ve.getFirstMatch(t,e),version:ve.getSecondMatch(t,e)}}}];var QUe=[{test:[/Roku\/DVP/],describe(e){const t=ve.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Fr.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=ve.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Fr.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=ve.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=ve.getWindowsVersionName(t);return{name:Fr.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Fr.iOS},n=ve.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=ve.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=ve.getMacOSVersionName(t),r={name:Fr.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=ve.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Fr.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=ve.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=ve.getAndroidVersionName(t),r={name:Fr.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=ve.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Fr.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=ve.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ve.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ve.getFirstMatch(/\bbb(\d+)/i,e);return{name:Fr.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=ve.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Fr.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=ve.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Fr.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Fr.Linux})},{test:[/CrOS/],describe:()=>({name:Fr.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=ve.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Fr.PlayStation4,version:t}}}],ZUe=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=ve.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:En.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:En.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:En.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:En.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:En.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:En.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:En.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=ve.getFirstMatch(/(ipod|iphone)/i,e);return{type:En.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:En.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:En.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:En.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:En.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:En.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:En.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:En.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:En.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:En.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:En.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:En.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:En.tv})}],eze=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Jo.Blink};const t=ve.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Jo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Jo.Trident},n=ve.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Jo.Presto},n=ve.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Jo.Gecko},n=ve.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Jo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Jo.WebKit},n=ve.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class zL{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=ve.find(XUe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=ve.find(QUe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=ve.find(ZUe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=ve.find(eze,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ve.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const a={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(a[o]=l,i+=1):typeof l=="object"&&(n[o]=l,r+=1)}),r>0){const o=Object.keys(n),l=ve.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=ve.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(a),l=ve.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=ve.getBrowserTypeByAlias(a);return n&&i&&(a=i.toLowerCase()),a===r}compareVersion(t){let n=[0],r=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(a=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(a=!0,r=t.substr(1)),n.indexOf(ve.compareVersions(i,r,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class tze{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new zL(t,n)}static parse(t){return new zL(t).getResult()}static get BROWSER_MAP(){return SK}static get ENGINE_MAP(){return Jo}static get OS_MAP(){return Fr}static get PLATFORMS_MAP(){return En}}function Sj(){return Date.now()+Math.random().toString()}function hm(){throw new Error("Method must be implemented in subclass")}function CK(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function a0(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:CK("https://c.daily.co/call-machine/versioned/".concat("0.84.0","/static/call-machine-object-bundle.js"),e)}function i0(e){try{new URL(e)}catch{return!1}return!0}const rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kc="8.55.0",Lt=globalThis;function o0(e,t,n){const r=Lt,a=r.__SENTRY__=r.__SENTRY__||{},i=a[Kc]=a[Kc]||{};return i[e]||(i[e]=t())}const Ou=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Jk=["debug","info","warn","error","log","assert","trace"],l0={};function mv(e){if(!("console"in Lt))return e();const t=Lt.console,n={},r=Object.keys(l0);r.forEach(a=>{const i=l0[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}const lt=o0("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ou?Jk.forEach(n=>{t[n]=(...r)=>{e&&mv(()=>{Lt.console[n](`Sentry Logger [${n}]:`,...r)})}}):Jk.forEach(n=>{t[n]=()=>{}}),t}),Dc="?",qL=/\(error: (.*)\)/,VL=/captureMessage|captureException/;function jx(e){return e[e.length-1]||{}}const WL="<anonymous>";function ql(e){try{return e&&typeof e=="function"&&e.name||WL}catch{return WL}}function HL(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const iy={},GL={};function Yc(e,t){iy[e]=iy[e]||[],iy[e].push(t)}function Jc(e,t){if(!GL[e]){GL[e]=!0;try{t()}catch(n){Ou&&lt.error(`Error while instrumenting ${e}`,n)}}}function Xa(e,t){const n=e&&iy[e];if(n)for(const r of n)try{r(t)}catch(a){Ou&&lt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ql(r)}
Error:`,a)}}let T1=null;function nze(){T1=Lt.onerror,Lt.onerror=function(e,t,n,r,a){return Xa("error",{column:r,error:a,line:n,msg:e,url:t}),!!T1&&T1.apply(this,arguments)},Lt.onerror.__SENTRY_INSTRUMENTED__=!0}let O1=null;function rze(){O1=Lt.onunhandledrejection,Lt.onunhandledrejection=function(e){return Xa("unhandledrejection",e),!O1||O1.apply(this,arguments)},Lt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Cj(){return vT(Lt),Lt}function vT(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Kc,t[Kc]=t[Kc]||{}}const kK=Object.prototype.toString;function xT(e){switch(kK.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gu(e,Error)}}function Af(e,t){return kK.call(e)===`[object ${t}]`}function EK(e){return Af(e,"ErrorEvent")}function KL(e){return Af(e,"DOMError")}function lo(e){return Af(e,"String")}function yT(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Xk(e){return e===null||yT(e)||typeof e!="object"&&typeof e!="function"}function Lh(e){return Af(e,"Object")}function kj(e){return typeof Event<"u"&&gu(e,Event)}function Ej(e){return!!(e&&e.then&&typeof e.then=="function")}function gu(e,t){try{return e instanceof t}catch{return!1}}function PK(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const bT=Lt;function AK(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=sze(n,d),!(u==="html"||i>1&&o+a.length*c+u.length>=h));)a.push(u),o+=u.length,n=n.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function sze(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(bT.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const a=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(a&&a.length)a.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&lo(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Dd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function YL(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const a=e[r];try{PK(a)?n.push("[VueViewModel]"):n.push(String(a))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function aze(e,t,n=!1){return!!lo(e)&&(Af(t,"RegExp")?t.test(e):!!lo(t)&&(n?e===t:e.includes(t)))}function _x(e,t=[],n=!1){return t.some(r=>aze(e,r,n))}function Ls(e,t,n){if(!(t in e))return;const r=e[t],a=n(r);typeof a=="function"&&TK(a,r);try{e[t]=a}catch{Ou&&lt.log(`Failed to replace method "${t}" in object`,e)}}function vu(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ou&&lt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function TK(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,vu(e,"__sentry_original__",t)}catch{}}function wT(e){return e.__sentry_original__}function OK(e){if(xT(e))return{message:e.message,name:e.name,stack:e.stack,...XL(e)};if(kj(e)){const t={type:e.type,target:JL(e.target),currentTarget:JL(e.currentTarget),...XL(e)};return typeof CustomEvent<"u"&&gu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function JL(e){try{return t=e,typeof Element<"u"&&gu(t,Element)?AK(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function XL(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function da(e){return Qk(e,new Map)}function Qk(e,t){if(function(n){if(!Lh(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(r[a]=Qk(e[a],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(a=>{r.push(Qk(a,t))}),r}return e}function pv(){return Date.now()/1e3}const vo=function(){const{performance:e}=Lt;if(!e||!e.now)return pv;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function va(){const e=Lt,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function MK(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function nl(e){const{message:t,event_id:n}=e;if(t)return t;const r=MK(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Zk(e,t,n){const r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Fh(e,t){const n=MK(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const a={...r&&r.data,...t.data};n.mechanism.data=a}}function QL(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{vu(e,"__sentry_captured__",!0)}catch{}return!1}var eo;function xu(e){return new oa(t=>{t(e)})}function c0(e){return new oa((t,n)=>{n(e)})}(()=>{const{performance:e}=Lt;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t;(i||l<t)&&a<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(eo||(eo={}));class oa{constructor(t){oa.prototype.__init.call(this),oa.prototype.__init2.call(this),oa.prototype.__init3.call(this),oa.prototype.__init4.call(this),this._state=eo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new oa((r,a)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){a(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){a(o)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new oa((n,r)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{i?r(a):n(a)})})}__init(){this._resolve=t=>{this._setResult(eo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(eo.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===eo.PENDING&&(Ej(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===eo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===eo.RESOLVED&&n[1](this._value),this._state===eo.REJECTED&&n[2](this._value),n[0]=!0)})}}}function ize(e){const t=vo(),n={sid:va(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return da({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&Bh(n,e),n}function Bh(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||vo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:va()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ZL(){return va()}function eE(){return va().substring(16)}function Pj(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=Pj(r[a],t[a],n-1));return r}const tE="_sentrySpan";function e3(e,t){t?vu(e,tE,t):delete e[tE]}function t3(e){return e[tE]}class jT{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ZL(),spanId:eE()}}clone(){const t=new jT;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,e3(t,t3(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Bh(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,a]=n instanceof Vl?[n.getScopeData(),n.getRequestSession()]:Lh(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,e3(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ZL()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const a={timestamp:pv(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:t3(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Pj(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:eE(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:va();if(!this._client)return lt.warn("No client configured on scope - will not capture exception!"),r;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...n,event_id:r},this),r}captureMessage(t,n,r){const a=r&&r.event_id?r.event_id:va();if(!this._client)return lt.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:a},this),a}captureEvent(t,n){const r=n&&n.event_id?n.event_id:va();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(lt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Vl=jT;class oze{constructor(t,n){let r,a;r=t||new Vl,a=n||new Vl,this._stack=[{scope:r}],this._isolationScope=a}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(a){throw this._popScope(),a}return Ej(r)?r.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Uh(){const e=vT(Cj());return e.stack=e.stack||new oze(o0("defaultCurrentScope",()=>new Vl),o0("defaultIsolationScope",()=>new Vl))}function lze(e){return Uh().withScope(e)}function cze(e,t){const n=Uh();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function n3(e){return Uh().withScope(()=>e(Uh().getIsolationScope()))}function _T(e){const t=vT(e);return t.acs?t.acs:{withIsolationScope:n3,withScope:lze,withSetScope:cze,withSetIsolationScope:(n,r)=>n3(r),getCurrentScope:()=>Uh().getScope(),getIsolationScope:()=>Uh().getIsolationScope()}}function Mu(){return _T(Cj()).getCurrentScope()}function gv(){return _T(Cj()).getIsolationScope()}function kr(){return Mu().getClient()}function uze(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:a}=t;return da({trace_id:n,span_id:r,parent_span_id:a})}function dze(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,a]]of t)(n[r]||(n[r]=[])).push(da(a));return n}const hze=/^sentry-/;function fze(e){const t=function(r){if(!(!r||!lo(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((a,i)=>{const o=r3(i);return Object.entries(o).forEach(([l,c])=>{a[l]=c}),a},{}):r3(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[a,i])=>(a.match(hze)&&(r[a.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function r3(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let s3=!1;function mze(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return da({parent_span_id:r?t:NT(e).parent_span_id,span_id:r?eE():t,trace_id:n})}function a3(e){return typeof e=="number"?i3(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?i3(e.getTime()):vo()}function i3(e){return e>9999999999?e/1e3:e}function NT(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const a=r;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:r,startTime:a,name:i,endTime:o,parentSpanId:l,status:c}=e;return da({span_id:t,trace_id:n,data:r,description:i,parent_span_id:l,start_timestamp:a3(a),timestamp:a3(o)||void 0,status:pze(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:dze(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function pze(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function DK(e){return e._sentryRootSpan||e}function gze(){s3||(mv(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),s3=!0)}const ST="production";function IK(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},a=da({environment:n.environment||ST,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",a),a}function vze(e){const t=kr();if(!t)return{};const n=DK(e),r=n._frozenDsc;if(r)return r;const a=n.spanContext().traceState,i=a&&a.get("sentry.dsc"),o=i&&fze(i);if(o)return o;const l=IK(e.spanContext().traceId,t),c=NT(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(l.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=kr(),p=g&&g.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(l.sampled=String(function(m){const{traceFlags:g}=m.spanContext();return g===1}(n))),t.emit("createDsc",l,n),l}const xze=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function u0(e,t=!1){const{host:n,path:r,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function o3(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function yze(e){const t=typeof e=="string"?function(n){const r=xze.exec(n);if(!r)return void mv(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[a,i,o="",l="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return o3({host:l,pass:o,path:d,projectId:h,port:c,protocol:a,publicKey:i})}(e):o3(e);if(t&&function(n){if(!Ou)return!0;const{port:r,projectId:a,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(lt.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(a.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(lt.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(lt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(lt.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function to(e,t=100,n=1/0){try{return nE("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function RK(e,t=3,n=102400){const r=to(e,t);return a=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>n?RK(e,t-1,n):r;var a}function nE(e,t,n=1/0,r=1/0,a=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(m,g){try{if(m==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(PK(g))return"[VueViewModel]";if(Lh(p=g)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${ql(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(x){const b=Object.getPrototypeOf(x);return b?b.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var p}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return nE("",u.toJSON(),c-1,r,a)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=OK(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const g=f[m];d[m]=nE(m,g,c-1,r,a),h++}return o(t),d}function gg(e,t=[]){return[e,t]}function bze(e,t){const[n,r]=e;return[n,[...r,t]]}function l3(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function rE(e){return Lt.__SENTRY__&&Lt.__SENTRY__.encodePolyfill?Lt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function wze(e){const[t,n]=e;let r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[rE(r),i]:r.push(typeof i=="string"?rE(i):i)}for(const i of n){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(to(l))}a(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(r)}function jze(e){const t=typeof e.data=="string"?rE(e.data):e.data;return[da({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const _ze={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function c3(e){return _ze[e]}function $K(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Nze(e,t,n,r){const a=$K(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:u0(d)},...h&&{trace:da({...h})}}}(e,a,r,t);return delete e.sdkProcessingMetadata,gg(o,[[{type:i},e]])}function sE(e,t,n,r=0){return new oa((a,i)=>{const o=e[r];if(t===null||typeof o!="function")a(t);else{const l=o({...t},n);rn&&o.id&&l===null&&lt.log(`Event processor "${o.id}" dropped event`),Ej(l)?l.then(c=>sE(e,c,n,r+1).then(a)).then(null,i):sE(e,l,n,r+1).then(a).then(null,i)}})}let Nx,u3,M1;function Sze(e,t){const{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:m}=l,g=da(c);g&&Object.keys(g).length&&(o.extra={...g,...o.extra});const p=da(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const v=da(d);v&&Object.keys(v).length&&(o.user={...v,...o.user});const x=da(h);x&&Object.keys(x).length&&(o.contexts={...x,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,l){o.contexts={trace:mze(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:vze(l),...o.sdkProcessingMetadata};const c=DK(l),u=NT(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,a),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function d3(e,t){const{extra:n,tags:r,user:a,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:g}=t;Sx(e,"extra",n),Sx(e,"tags",r),Sx(e,"user",a),Sx(e,"contexts",i),e.sdkProcessingMetadata=Pj(e.sdkProcessingMetadata,l,2),o&&(e.level=o),m&&(e.transactionName=m),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Sx(e,t,n){e[t]=Pj(e[t],n,1)}function Cze(e,t,n,r,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||va(),timestamp:t.timestamp||pv()},u=n.integrations||e.integrations.map(g=>g.name);(function(g,p){const{environment:v,release:x,dist:b,maxValueLength:w=250}=p;g.environment=g.environment||v||ST,!g.release&&x&&(g.release=x),!g.dist&&b&&(g.dist=b),g.message&&(g.message=Dd(g.message,w));const j=g.exception&&g.exception.values&&g.exception.values[0];j&&j.value&&(j.value=Dd(j.value,w));const S=g.request;S&&S.url&&(S.url=Dd(S.url,w))})(c,e),function(g,p){p.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...p])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(g,p){const v=function(x){const b=Lt._sentryDebugIds;if(!b)return{};const w=Object.keys(b);return M1&&w.length===u3||(u3=w.length,M1=w.reduce((j,S)=>{Nx||(Nx={});const N=Nx[S];if(N)j[N[0]]=N[1];else{const C=x(S);for(let k=C.length-1;k>=0;k--){const D=C[k],R=D&&D.filename,E=b[S];if(R&&E){j[R]=E,Nx[S]=[R,E];break}}}return j},{})),M1}(p);try{g.exception.values.forEach(x=>{x.stacktrace.frames.forEach(b=>{v&&b.filename&&(b.debug_id=v[b.filename])})})}catch{}}(c,e.stackParser);const d=function(g,p){if(!p)return g;const v=g?g.clone():new Vl;return v.update(p),v}(r,n.captureContext);n.mechanism&&Fh(c,n.mechanism);const h=a?a.getEventProcessors():[],f=o0("globalScope",()=>new Vl).getScopeData();i&&d3(f,i.getScopeData()),d&&d3(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),Sze(c,f),sE([...h,...f.eventProcessors],c,n).then(g=>(g&&function(p){const v={};try{p.exception.values.forEach(b=>{b.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const x=p.debug_meta.images;Object.entries(v).forEach(([b,w])=>{x.push({type:"sourcemap",code_file:b,debug_id:w})})}(g),typeof o=="number"&&o>0?function(p,v,x){if(!p)return null;const b={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(w=>({...w,...w.data&&{data:to(w.data,v,x)}}))},...p.user&&{user:to(p.user,v,x)},...p.contexts&&{contexts:to(p.contexts,v,x)},...p.extra&&{extra:to(p.extra,v,x)}};return p.contexts&&p.contexts.trace&&b.contexts&&(b.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(b.contexts.trace.data=to(p.contexts.trace.data,v,x))),p.spans&&(b.spans=p.spans.map(w=>({...w,...w.data&&{data:to(w.data,v,x)}}))),p.contexts&&p.contexts.flags&&b.contexts&&(b.contexts.flags=to(p.contexts.flags,3,x)),b}(g,o,l):g))}function h3(e,t){return Mu().captureEvent(e,t)}function f3(e){const t=kr(),n=gv(),r=Mu(),{release:a,environment:i=ST}=t&&t.getOptions()||{},{userAgent:o}=Lt.navigator||{},l=ize({release:a,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&Bh(c,{status:"exited"}),LK(),n.setSession(l),r.setSession(l),l}function LK(){const e=gv(),t=Mu(),n=t.getSession()||e.getSession();n&&function(r,a){let i={};r.status==="ok"&&(i={status:"exited"}),Bh(r,i)}(n),FK(),e.setSession(),t.setSession()}function FK(){const e=gv(),t=Mu(),n=kr(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function m3(e=!1){e?LK():FK()}function kze(e,t,n){return t||`${function(r){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",o=a.port?`:${a.port}`:"";return`${i}//${a.host}${o}${a.path?`/${a.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,a){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,n)}`}const p3=[];function g3(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function v3(e,t,n){if(n[t.name])rn&&lt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,p3.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),p3.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),a=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(a)}rn&&lt.log(`Integration installed: ${t.name}`)}}class Ma extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const x3="Not capturing exception because it's already been captured.";class Eze{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=yze(t.dsn):rn&&lt.warn("No DSN provided, client will not send events."),this._dsn){const r=kze(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&mv(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const a=va();if(QL(t))return rn&&lt.log(x3),a;const i={event_id:a,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,a){const i={event_id:va(),...r},o=yT(t)?t:String(t),l=Xk(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,n,r){const a=va();if(n&&n.originalException&&QL(n.originalException))return rn&&lt.log(x3),a;const i={event_id:a,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?rn&&lt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Bh(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(a=>r&&a))):xu(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];v3(this,t,this._integrations),n||g3(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Nze(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=bze(r,jze(i));const a=this.sendEnvelope(r);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,a,i,o){const l=$K(i);return gg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&a&&{dsn:u0(a)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const a=typeof r=="number"?r:1,i=`${t}:${n}`;rn&&lt.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const a=r.indexOf(n);a>-1&&r.splice(a,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(a=>a(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(rn&&lt.error("Error while sending envelope:",n),n)):(rn&&lt.error("Transport disabled"),xu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const a={};return r.forEach(i=>{i&&v3(n,i,a)}),a}(this,t),g3(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Bh(t,{...r&&{status:"crashed"},errors:t.errors||Number(a||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new oa(n=>{let r=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=1,t&&r>=t&&(clearInterval(a),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Mu(),a=gv()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||a.setLastEventId(t.event_id||n.event_id),Cze(i,t,n,r,this,a).then(l=>{if(l===null)return l;l.contexts={trace:uze(r),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||IK(h.traceId,u)}(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(a=>a.event_id,a=>{rn&&(a instanceof Ma&&a.logLevel==="log"?lt.log(a.message):lt.warn(a))})}_processEvent(t,n,r){const a=this.getOptions(),{sampleRate:i}=a,o=b3(t),l=y3(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const g=typeof m=="string"?parseFloat(m):m;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;rn&&lt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),c0(new Ma(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new Ma("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const g=function(p,v,x,b){const{beforeSend:w,beforeSendTransaction:j,beforeSendSpan:S}=v;if(y3(x)&&w)return w(x,b);if(b3(x)){if(x.spans&&S){const N=[];for(const C of x.spans){const k=S(C);k?N.push(k):(gze(),p.recordDroppedEvent("before_send","span"))}x.spans=N}if(j){if(x.spans){const N=x.spans.length;x.sdkProcessingMetadata={...x.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return j(x,b)}}return x}(this,a,m,n);return function(p,v){const x=`${v} must return \`null\` or a valid event.`;if(Ej(p))return p.then(b=>{if(!Lh(b)&&b!==null)throw new Ma(x);return b},b=>{throw new Ma(`${v} rejected with ${b}`)});if(!Lh(p)&&p!==null)throw new Ma(x);return p}(g,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new Ma(`${u} returned \`null\`, will not send event.`,"log")}const g=r&&r.getSession();if(!o&&g&&this._updateSessionFromEvent(g,m),o){const v=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const v="custom";m.transaction_info={...p,source:v}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Ma?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Ma(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[a,i]=n.split(":");return{reason:a,category:i,quantity:r}})}_flushOutcomes(){rn&&lt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(rn&&lt.log("No outcomes to send"));if(!this._dsn)return void(rn&&lt.log("No dsn provided, will not send outcomes"));rn&&lt.log("Sending outcomes:",t);const n=(r=t,gg((a=this._options.tunnel&&u0(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||pv(),discarded_events:r}]]));var r,a,i;this.sendEnvelope(n)}}function y3(e){return e.type===void 0}function b3(e){return e.type==="transaction"}function Pze(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return c0(new Ma("Not adding Promise because buffer limit was reached."));const a=r();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a},drain:function(r){return new oa((a,i)=>{let o=t.length;if(!o)return a(!0);const l=setTimeout(()=>{r&&r>0&&a(!1)},r);t.forEach(c=>{xu(c).then(()=>{--o||(clearTimeout(l),a(!0))},i)})})}}}function Aze(e,{statusCode:t,headers:n},r=Date.now()){const a={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[m]=r+f);else a.all=r+f}else o?a.all=r+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(a.all=r+6e4);return a}function Tze(e,t,n=Pze(e.bufferSize||64)){let r={};return{send:function(a){const i=[];if(l3(a,(c,u)=>{const d=c3(u);if(function(h,f,m=Date.now()){return function(g,p){return g[p]||g.all||0}(h,f)>m}(r,d)){const h=w3(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return xu({});const o=gg(a[0],i),l=c=>{l3(o,(u,d)=>{const h=w3(u,d);e.recordDroppedEvent(c,c3(d),h)})};return n.add(()=>t({body:wze(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&rn&&lt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=Aze(r,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof Ma)return rn&&lt.error("Skipped sending event because buffer is full."),l("queue_overflow"),xu({});throw c})},flush:a=>n.drain(a)}}function w3(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const Oze=100;function uc(e,t){const n=kr(),r=gv();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=Oze}=n.getOptions();if(i<=0)return;const o={timestamp:pv(),...e},l=a?mv(()=>a(o,t)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let j3;const _3=new WeakMap,Mze=()=>({name:"FunctionToString",setupOnce(){j3=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=wT(this),n=_3.has(kr())&&t!==void 0?t:this;return j3.apply(n,e)}}catch{}},setup(e){_3.set(e,!0)}}),Dze=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Ize=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const a=r.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:Dze],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,a);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(rn&&lt.warn(`Event dropped due to being internal Sentry Error.
Event: ${nl(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>_x(d,u))}(o,l.ignoreErrors)?(rn&&lt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${nl(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(rn&&lt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${nl(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&_x(d,u)}(o,l.ignoreTransactions)?(rn&&lt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${nl(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Cx(c);return!!d&&_x(d,u)}(o,l.denyUrls)?(rn&&lt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${nl(o)}.
Url: ${Cx(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Cx(c);return!d||_x(d,u)}(o,l.allowUrls)?!1:(rn&&lt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${nl(o)}.
Url: ${Cx(o)}`),!0)}(t,i)?null:t}});function Cx(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const a=n[r];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return rn&&lt.error(`Cannot extract url for event ${nl(e)}`),null}}function Rze(e,t,n=250,r,a,i,o){if(!(i.exception&&i.exception.values&&o&&gu(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=aE(e,t,a,o.originalException,r,i.exception.values,l,0),u=n,c.map(d=>(d.value&&(d.value=Dd(d.value,u)),d))))}function aE(e,t,n,r,a,i,o,l){if(i.length>=n+1)return i;let c=[...i];if(gu(r[a],Error)){N3(o,l);const u=e(t,r[a]),d=c.length;S3(u,a,d,l),c=aE(e,t,n,r[a],a,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(gu(u,Error)){N3(o,l);const h=e(t,u),f=c.length;S3(h,`errors[${d}]`,f,l),c=aE(e,t,n,u,a,[h,...c],h,f)}}),c}function N3(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function S3(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function D1(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function $ze(){"console"in Lt&&Jk.forEach(function(e){e in Lt.console&&Ls(Lt.console,e,function(t){return l0[e]=t,function(...n){Xa("console",{args:n,level:e});const r=l0[e];r&&r.apply(Lt.console,n)}})})}function Lze(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Fze=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(a,i){const o=a.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!k3(a,i)||!C3(a,i))}(n,r)||function(a,i){const o=E3(i),l=E3(a);return!(!o||!l||o.type!==l.type||o.value!==l.value||!k3(a,i)||!C3(a,i))}(n,r)):!1}(t,e))return rn&&lt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function C3(e,t){let n=HL(e),r=HL(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let a=0;a<r.length;a++){const i=r[a],o=n[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function k3(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function E3(e){return e.exception&&e.exception.values&&e.exception.values[0]}function P3(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const I1=Lt;function iE(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Bze(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in I1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(iE(I1.fetch))return!0;let e=!1;const t=I1.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=iE(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ou&&lt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Uze(e,t){const n="fetch";Yc(n,e),Jc(n,()=>function(r,a=!1){a&&!Bze()||Ls(Lt,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,g]=h;return{url:A3(m),method:oE(g,"method")?String(g.method).toUpperCase():"GET"}}const f=h[0];return{url:A3(f),method:oE(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*vo(),virtualError:l};return r||Xa("fetch",{...d}),i.apply(Lt,o).then(async h=>(r?r(h):Xa("fetch",{...d,endTimestamp:1e3*vo(),response:h}),h),h=>{throw Xa("fetch",{...d,endTimestamp:1e3*vo(),error:h}),xT(h)&&h.stack===void 0&&(h.stack=l.stack,vu(h,"framesToPop",1)),h})}})}(void 0,t))}function oE(e,t){return!!e&&typeof e=="object"&&!!e[t]}function A3(e){return typeof e=="string"?e:e?oE(e,"url")?e.url:e.toString?e.toString():"":""}const kx=Lt,Yn=Lt;let lE=0;function T3(){return lE>0}function zh(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(wT(e))return e}catch{return e}const n=function(...r){try{const a=r.map(i=>zh(i,t));return e.apply(this,a)}catch(a){throw lE++,setTimeout(()=>{lE--}),function(...i){const o=_T(Cj());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(Zk(l,void 0),Fh(l,t.mechanism)),l.extra={...l.extra,arguments:r},l)),o=a,Mu().captureException(o,void 0)}),a}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}TK(n,e),vu(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const Aj=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function CT(e,t){const n=kT(e,t),r={type:Vze(t),value:Wze(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function zze(e,t,n,r){const a=kr(),i=a&&a.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:RK(t,i)};if(o)return{exception:{values:[CT(e,o)]},extra:l};const c={exception:{values:[{type:kj(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Hze(t,{isUnhandledRejection:r})}]},extra:l};if(n){const u=kT(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function R1(e,t){return{exception:{values:[CT(e,t)]}}}function kT(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&qze.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,a)}catch{}return[]}const qze=/Minified React error #\d+;/i;function BK(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function Vze(e){const t=e&&e.name;return!t&&BK(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Wze(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:BK(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function cE(e,t,n,r,a){let i;if(EK(t)&&t.error)return R1(e,t.error);if(KL(t)||Af(t,"DOMException")){const o=t;if("stack"in t)i=R1(e,t);else{const l=o.name||(KL(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=uE(e,c,n,r),Zk(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return xT(t)?R1(e,t):Lh(t)||kj(t)?(i=zze(e,t,n,a),Fh(i,{synthetic:!0}),i):(i=uE(e,t,n,r),Zk(i,`${t}`),Fh(i,{synthetic:!0}),i)}function uE(e,t,n,r){const a={};if(r&&n){const i=kT(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),Fh(a,{synthetic:!0})}if(yT(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function Hze(e,{isUnhandledRejection:t}){const n=function(a,i=40){const o=Object.keys(OK(a));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return Dd(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Dd(u,i)}return""}(e),r=t?"promise rejection":"exception";return EK(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:kj(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class Gze extends Eze{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,a,i=[a],o="npm"){const l=r._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:Kc})),version:Kc}),r._metadata=l})(n,"browser",["browser"],Yn.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&Yn.document&&Yn.document.addEventListener("visibilitychange",()=>{Yn.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,a,i,o){const l=cE(r,a,i&&i.syntheticException||void 0,o);return Fh(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),xu(l)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(a,i,o="info",l,c){const u=uE(a,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),xu(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Aj&&lt.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:a,tunnel:i,dsn:o}){const l={event_id:r.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!o&&{dsn:u0(o)}};return gg(l,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const Kze=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Hr=Lt;let O3,$1,L1,Ex;function Yze(){if(!Hr.document)return;const e=Xa.bind(null,"dom"),t=M3(e,!0);Hr.document.addEventListener("click",t,!1),Hr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Hr[n],a=r&&r.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Ls(a,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=M3(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),Ls(a,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function M3(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;vu(n,"_sentryCaptured",!0),r&&!r._sentryId&&vu(r,"_sentryId",va());const a=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==$1)return!1;try{if(!i.target||i.target._sentryId!==L1)return!1}catch{}return!0})(n)||(e({event:n,name:a,global:t}),$1=n.type,L1=r?r._sentryId:void 0),clearTimeout(O3),O3=Hr.setTimeout(()=>{L1=void 0,$1=void 0},1e3)}}function UK(e){const t="history";Yc(t,e),Jc(t,Jze)}function Jze(){if(!function(){const n=kx.chrome,r=n&&n.app&&n.app.runtime,a="history"in kx&&!!kx.history.pushState&&!!kx.history.replaceState;return!r&&a}())return;const e=Hr.onpopstate;function t(n){return function(...r){const a=r.length>2?r[2]:void 0;if(a){const i=Ex,o=String(a);Ex=o,Xa("history",{from:i,to:o})}return n.apply(this,r)}}Hr.onpopstate=function(...n){const r=Hr.location.href,a=Ex;if(Ex=r,Xa("history",{from:a,to:r}),e)try{return e.apply(this,n)}catch{}},Ls(Hr.history,"pushState",t),Ls(Hr.history,"replaceState",t)}const oy={};function D3(e){oy[e]=void 0}const Nm="__sentry_xhr_v3__";function Xze(){if(!Hr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const a=new Error,i=1e3*vo(),o=lo(r[0])?r[0].toUpperCase():void 0,l=function(u){if(lo(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!l)return t.apply(n,r);n[Nm]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Nm];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}Xa("xhr",{endTimestamp:1e3*vo(),startTimestamp:i,xhr:n,virtualError:a})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,m]=h,g=d[Nm];return g&&lo(f)&&lo(m)&&(g.request_headers[f.toLowerCase()]=m),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const a=n[Nm];return a?(r[0]!==void 0&&(a.body=r[0]),Xa("xhr",{startTimestamp:1e3*vo(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function Qze(e,t=function(n){const r=oy[n];if(r)return r;let a=Hr[n];if(iE(a))return oy[n]=a.bind(Hr);const i=Hr.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(a=l[n]),i.head.removeChild(o)}catch(o){Kze&&lt.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return a&&(oy[n]=a.bind(Hr))}("fetch")){let n=0,r=0;return Tze(e,function(a){const i=a.body.length;n+=i,r++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return D3("fetch"),c0("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return D3("fetch"),n-=i,r--,c0(l)}})}function F1(e,t,n,r){const a={filename:e,function:t==="<anonymous>"?Dc:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const Zze=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,eqe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tqe=/\((\S*)(?::(\d+))(?::(\d+))\)/,nqe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rqe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sqe=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=qL.test(c)?c.replace(qL,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(jx(c).function||"")&&c.pop(),c.reverse(),VL.test(jx(c).function||"")&&(c.pop(),VL.test(jx(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||jx(c).filename,function:u.function||Dc}))}(i.slice(a))}}([30,e=>{const t=Zze.exec(e);if(t){const[,r,a,i]=t;return F1(r,Dc,+a,+i)}const n=eqe.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=tqe.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,a]=I3(n[1]||Dc,n[2]);return F1(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=nqe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=rqe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||Dc;return[r,n]=I3(r,n),F1(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),I3=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Dc,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},R3=1024,aqe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(a){const i="console";Yc(i,a),Jc(i,$ze)}(function(a){return function(i){if(kr()!==a)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:Lze(i.level),message:YL(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${YL(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}uc(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(a,i){return function(o){if(kr()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>R3&&(Aj&&lt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=R3),typeof u=="string"&&(u=[u]);try{const f=o.event,m=function(g){return!!g&&!!g.target}(f)?f.target:f;l=AK(m,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!bT.HTMLElement)return null;let p=g;for(let v=0;v<5;v++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${o.name}`,message:l};c&&(h.data={"ui.component_name":c}),uc(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Yc("dom",r),Jc("dom",Yze)),t.xhr&&function(a){Yc("xhr",a),Jc("xhr",Xze)}(function(a){return function(i){if(kr()!==a)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[Nm];if(!o||!l||!c)return;const{method:u,url:d,status_code:h,body:f}=c,m={method:u,url:d,status_code:h},g={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:l};uc({category:"xhr",data:m,type:"http",level:P3(h)},g)}}(n)),t.fetch&&Uze(function(a){return function(i){if(kr()!==a)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)uc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};uc({category:"fetch",data:u,type:"http",level:P3(u.status_code)},d)}}}(n)),t.history&&UK(function(a){return function(i){if(kr()!==a)return;let o=i.from,l=i.to;const c=D1(Yn.location.href);let u=o?D1(o):void 0;const d=D1(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),uc({category:"navigation",data:{from:o,to:l}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(a){return function(i){kr()===a&&uc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:nl(i)},{event:i})}}(n))}}},iqe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],oqe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&Ls(Yn,"setTimeout",$3),t.setInterval&&Ls(Yn,"setInterval",$3),t.requestAnimationFrame&&Ls(Yn,"requestAnimationFrame",lqe),t.XMLHttpRequest&&"XMLHttpRequest"in Yn&&Ls(XMLHttpRequest.prototype,"send",cqe);const n=t.eventTarget;n&&(Array.isArray(n)?n:iqe).forEach(uqe)}}};function $3(e){return function(...t){const n=t[0];return t[0]=zh(n,{mechanism:{data:{function:ql(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function lqe(e){return function(t){return e.apply(this,[zh(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ql(e)},handled:!1,type:"instrument"}})])}}function cqe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&Ls(n,r,function(a){const i={mechanism:{data:{function:r,handler:ql(a)},handled:!1,type:"instrument"}},o=wT(a);return o&&(i.mechanism.data.handler=ql(o)),zh(a,i)})}),e.apply(this,t)}}function uqe(e){const t=Yn[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ls(n,"addEventListener",function(r){return function(a,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=zh(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ql(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[a,zh(i,{mechanism:{data:{function:"addEventListener",handler:ql(i),target:e},handled:!1,type:"instrument"}}),o])}}),Ls(n,"removeEventListener",function(r){return function(a,i,o){try{const l=i.__sentry_wrapped__;l&&r.call(this,a,l,o)}catch{}return r.call(this,a,i,o)}}))}const dqe=()=>({name:"BrowserSession",setupOnce(){Yn.document!==void 0?(f3({ignoreDuration:!0}),m3(),UK(({from:e,to:t})=>{e!==void 0&&e!==t&&(f3({ignoreDuration:!0}),m3())})):Aj&&lt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),hqe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(a){const i="error";Yc(i,a),Jc(i,nze)})(a=>{const{stackParser:i,attachStacktrace:o}=F3();if(kr()!==r||T3())return;const{msg:l,url:c,line:u,column:d,error:h}=a,f=function(m,g,p,v){const x=m.exception=m.exception||{},b=x.values=x.values||[],w=b[0]=b[0]||{},j=w.stacktrace=w.stacktrace||{},S=j.frames=j.frames||[],N=v,C=p,k=lo(g)&&g.length>0?g:function(){try{return bT.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:N,filename:k,function:Dc,in_app:!0,lineno:C}),m}(cE(i,h||l,void 0,o,!1),c,u,d);f.level="error",h3(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),L3("onerror")),t.onunhandledrejection&&(function(r){(function(a){const i="unhandledrejection";Yc(i,a),Jc(i,rze)})(a=>{const{stackParser:i,attachStacktrace:o}=F3();if(kr()!==r||T3())return;const l=function(u){if(Xk(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=Xk(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:cE(i,l,void 0,o,!0);c.level="error",h3(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),L3("onunhandledrejection"))}}};function L3(e){Aj&&lt.log(`Global Handler attached: ${e}`)}function F3(){const e=kr();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const fqe=()=>({name:"HttpContext",preprocessEvent(e){if(!Yn.navigator&&!Yn.location&&!Yn.document)return;const t=e.request&&e.request.url||Yn.location&&Yn.location.href,{referrer:n}=Yn.document||{},{userAgent:r}=Yn.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),mqe=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,a,i){const o=i.getOptions();Rze(CT,o.stackParser,o.maxValueLength,n,t,r,a)}}};var dE="new",B3="loading",U3="loaded",d0="joining-meeting",ll="joined-meeting",Xo="left-meeting",Xi="error",pqe="blocked",gqe="off",vqe="sendable",xqe="loading",yqe="interrupted",zK="playable",ly="unknown",qK="full",bqe="lobby",wqe="none",VK="base",jqe="*",_qe="ejected",Nqe="nbf-room",Sqe="nbf-token",Cqe="exp-room",kqe="exp-token",hE="no-room",Eqe="meeting-full",WK="end-of-life",Pqe="not-allowed",HK="connection-error",Aqe="cam-in-use",Tqe="mic-in-use",Oqe="cam-mic-in-use",Mqe="permissions",Dqe="undefined-mediadevices",Iqe="not-found",Rqe="constraints",$qe="unknown",GK="iframe-ready-for-launch-config",KK="iframe-launch-config",YK="theme-updated",JK="loading",XK="load-attempt-failed",fE="loaded",QK="started-camera",ZK="camera-error",eY="joining-meeting",tY="joined-meeting",nY="left-meeting",rY="participant-joined",sY="participant-updated",aY="participant-left",iY="participant-counts-updated",oY="access-state-updated",lY="meeting-session-summary-updated",cY="meeting-session-state-updated",Lqe="meeting-session-data-error",uY="waiting-participant-added",dY="waiting-participant-updated",hY="waiting-participant-removed",fY="track-started",mY="track-stopped",pY="transcription-started",gY="transcription-stopped",vY="transcription-error",mE="recording-started",pE="recording-stopped",xY="recording-stats",yY="recording-error",bY="recording-upload-completed",wY="recording-data",jY="app-message",_Y="transcription-message",NY="remote-media-player-started",SY="remote-media-player-updated",CY="remote-media-player-stopped",kY="local-screen-share-started",EY="local-screen-share-stopped",PY="local-screen-share-canceled",AY="active-speaker-change",TY="active-speaker-mode-change",OY="network-quality-change",MY="network-connection",DY="cpu-load-change",IY="face-counts-updated",Sm="fullscreen",Cm="exited-fullscreen",RY="live-streaming-started",$Y="live-streaming-updated",LY="live-streaming-stopped",FY="live-streaming-error",BY="lang-updated",UY="receive-settings-updated",gE="input-settings-updated",vE="nonfatal-error",xE="error",B1=4096,z3=102400,U1="iframe-call-message",q3="local-screen-start",V3="daily-method-update-live-streaming-endpoints",Px="transmit-log",co="daily-custom-track",cy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},zY={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},yE={PLAY:"play",PAUSE:"pause"},z1=["jpg","png","jpeg"],Fqe="add-endpoints",Bqe="remove-endpoints",W3="sip-call-transfer";function ja(){return!Ct()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ct(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function qY(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function Uqe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(yu(),h0())||Ct())}function H3(){if(Ct()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var bE="none",zqe="software",qqe="hardware",Vqe=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?zqe:qqe:bE}catch{return bE}}();function VY(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ct()&&Vqe!==bE&&(e?function(){return G3()?!1:["Chrome","Firefox"].includes(yu())}():function(){if(G3())return!1;var t=yu();if(t==="Safari"){var n=PT();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?ET().major>=77:t==="Firefox"?AT().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function WY(){if(Ct()||HY()||typeof AudioWorkletNode>"u")return!1;switch(yu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=h0();return e.major>17||e.major===17&&e.minor>=4}return!1}function q1(){return qY()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=yu();if(!ja())return!0;switch(t){case"Chrome":return(e=ET()).major&&e.major>0&&e.major<75;case"Firefox":return(e=AT()).major<91;case"Safari":return(e=PT()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function HY(){return ja().match(/Linux; Android/)}function G3(){var e,t=ja(),n=t.match(/Mac/)&&(!Ct()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!ja().match(/DailyAnd\//)||void 0}function yu(){if(typeof window<"u"){var e=ja();return GY()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||KY()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function h0(){switch(yu()){case"Chrome":return ET();case"Safari":return PT();case"Firefox":return AT();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=ja().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function ET(){var e=0,t=0,n=0,r=0,a=!1;if(typeof window<"u"){var i=ja(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:a}}function GY(){return!!ja().match(/iPad|iPhone|iPod/i)&&qY()}function KY(){return ja().indexOf("AppleWebKit/605.1.15")>-1}function PT(){var e=0,t=0,n=0;if(typeof window<"u"){var r=ja().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(GY()||KY())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function AT(){var e=0,t=0;if(typeof window<"u"){var n=ja().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var YY=function(){return Ys(function e(){Ks(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){hm()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){hm()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){hm()}},{key:"sendMessageToDailyJs",value:function(e,t){hm()}},{key:"removeListener",value:function(e){hm()}}])}();function K3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function V1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(n),!0).forEach(function(r){Si(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JY=function(){return!!e})()}var Wqe=function(){function e(){var t,n,r,a;return Ks(this,e),n=this,r=ri(r=e),(t=_j(n,JY()?Reflect.construct(r,[],ri(n).constructor):r.apply(n,a)))._wrappedListeners={},t._messageCallbacks={},t}return Nj(e,YY),Ys(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var a=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=V1({},o.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(r,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(r,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var a=function(i){var o;if(!(!i.data||i.data.what!==U1||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(r,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,n,r,a){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=V1({},t);if(i.what=U1,i.from="module",i.callClientId=r,n){var o=Sj();this._messageCallbacks[o]=n,i.callbackStamp=o}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=U1,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var a=V1({},t);a.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(a,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===n)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function Y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XY=function(){return!!e})()}var Hqe=function(){function e(){var t,n,r,a;return Ks(this,e),n=this,r=ri(r=e),t=_j(n,XY()?Reflect.construct(r,[],ri(n).constructor):r.apply(n,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Yk.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Yk.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Nj(e,YY),Ys(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,a,i){var o=this,l=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(a,c),delete o._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(t,n,r,a,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?Y3(Object(d),!0).forEach(function(h){Si(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):Y3(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,a){var l=Sj();this._messageCallbacks[l]=a,o.callbackStamp=l}n.emit("message",o)}}])}(),wE="replace",jE="shallow-merge",J3=[wE,jE],Gqe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,a=r===void 0?wE:r;Ks(this,e),e._validateMergeStrategy(a),e._validateData(n,a),this.mergeStrategy=a,this.data=n}return Ys(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===jE}},{key:"_validateMergeStrategy",value:function(t){if(!J3.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(J3,"]"))}},{key:"_validateData",value:function(t,n){if(!function(l){if(l==null||At(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===wE){var a=JSON.parse(r);qr(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(n===jE){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));qr(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(r.length>z3)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(z3,"."))}}])}();function QY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QY=function(){return!!e})()}function _E(e){var t=typeof Map=="function"?new Map:void 0;return _E=function(n){if(n===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(a,i,o){if(QY())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return o&&pg(c,o.prototype),c}(n,arguments,ri(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pg(r,n)},_E(e)}function ZY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZY=function(){return!!e})()}function X3(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var Kqe=function(){return Ys(function e(t){Ks(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Yqe(n,function(){r(!1)},function(i,o){o||X3(t._callClientId),a(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),X3(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),Yqe=function(){return Ys(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Ks(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new Q3(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new Q3(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),W1=function(){function e(){return Ks(this,e),t=this,r=arguments,n=ri(n=e),_j(t,ZY()?Reflect.construct(n,r||[],ri(t).constructor):n.apply(t,r));var t,n,r}return Nj(e,_E(Error)),Ys(e)}(),f0=2e4,Q3=function(){return Ys(function t(n,r,a){Ks(this,t),this._loadAttemptImpl=Ct()||!n.avoidEval?new Jqe(n,r,a):new Xqe(n,r,a)},[{key:"start",value:(e=tt(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),Jqe=function(){return Ys(function a(i,o,l){Ks(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(r=tt(function*(){var a=a0(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=tt(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=tt(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(f0," ms) when loading call object bundle ").concat(a),type:"timeout"})},f0);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new W1;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new W1;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof W1||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=tt(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),Xqe=function(){return Ys(function e(t,n,r){Ks(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Sj(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=a0(this._dailyConfig);(typeof document>"u"?"undefined":At(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(f0," ms) when loading call object bundle ").concat(e),type:"timeout"})},f0);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Ax=function(e,t,n){return Zqe(e.local,t,n)===!0},Qqe=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},fd=function(e,t,n,r){var a=eVe(e,t,n,r);return a&&a.pendingTrack},Zqe=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?r(a[t].custom):r(a[t].custom[n]):r(a[t][n]):!a||r(a.ALL)},eVe=function(e,t,n,r){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return a&&a[0]},tVe=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function Z3(e,t){for(var n=t.getState(),r=0,a=["cam","screen"];r<a.length;r++)for(var i=a[r],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?Qqe(n,i,c):fd(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function eF(e,t){try{var n=t.getState();for(var r in e.tracks)if(!nVe(r)){var a=e.tracks[r].kind;if(a){var i=e.tracks[r];if(i){var o=e.local?tVe(n,r):fd(n,e.session_id,r,a);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function nVe(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function tF(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Ax(r,e.session_id,"cam-audio")){var o=fd(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Ax(r,e.session_id,"cam-video")){var l=fd(r,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&Ax(r,e.session_id,"screen-audio")){var c=fd(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Ax(r,e.session_id,"screen-video")){var u=fd(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function rVe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return nF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?nF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function nF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yi=new Map,Id=null;function sVe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return rF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?rF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bi=new Map,Xm=null;function aVe(e){eJ()?function(t){yi.has(t)||(yi.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){yi.has(t)&&(yi.get(t).lastDevicesString=JSON.stringify(n),Id||(Id=function(){var r=tt(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),o=rVe(yi.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value,c=JSON.stringify(i);c!==yi.get(l).lastDevicesString&&(yi.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Id)))}).catch(function(){}))}(e):function(t){bi.has(t)||(bi.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){bi.has(t)&&(bi.get(t).lastDevicesString=JSON.stringify(n),Xm||(Xm=setInterval(tt(function*(){var r,a=yield navigator.mediaDevices.enumerateDevices(),i=sVe(bi.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,l=JSON.stringify(a);l!==bi.get(o).lastDevicesString&&(bi.get(o).lastDevicesString=l,o(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function iVe(e){eJ()?function(t){yi.has(t)&&(yi.delete(t),yi.size===0&&Id&&(navigator.mediaDevices.removeEventListener("devicechange",Id),Id=null))}(e):function(t){bi.has(t)&&(bi.delete(t),bi.size===0&&Xm&&(clearInterval(Xm),Xm=null))}(e)}function eJ(){var e;return Ct()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var oVe=new Set;function lVe(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!oVe.has(n.id)}(e)}function sF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(n),!0).forEach(function(r){Si(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var km=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),cVe=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Qm=Object.values(km),aF=["v","a","sv","sa","cv","ca"];Object.freeze(Qm.reduce(function(e,t,n){return e[t]=aF[n],e},{})),Object.freeze(aF.reduce(function(e,t,n){return e[t]=Qm[n],e},{}));var uVe=[km.VIDEO,km.AUDIO,km.SCREEN_VIDEO,km.SCREEN_AUDIO],iF=Object.values(cVe),oF=["p","s","t"];Object.freeze(iF.reduce(function(e,t,n){return e[t]=oF[n],e},{})),Object.freeze(oF.reduce(function(e,t,n){return e[t]=iF[n],e},{}));var tJ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,a=t.byParticipantId;Ks(this,e),this.base=n,this.byUserId=r,this.byParticipantId=a}return Ys(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof sr?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof sr?r.clone():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof sr?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof sr&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof sr?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof sr?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof sr&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Ar(t,2),r=n[0],a=n[1];return[r,a instanceof sr?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Ar(t,2),r=n[0],a=n[1];return[r,a instanceof sr?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,a;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:sr.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:sr.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:sr.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,a;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:sr.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:sr.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:sr.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(At(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Ar(sr.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(At(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Ar(sr.validateJSONObject(h),2),m=f[0],g=f[1];if(!m)return[!1,g]}}}return[!0]}}])}(),sr=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,a=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;Ks(this,e),this.video=n,this.audio=r,this.screenVideo=a,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return Ys(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Ho({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Ho({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Ho({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Ho({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Ho({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Ho({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Ho({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Ho({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(At(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),a=0,i=r;a<i.length;a++){var o=i[a];if(!Qm.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(uVe.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(At(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Qm.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Qm.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),dVe=["result"],hVe=["preserveIframe"];function lF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(n),!0).forEach(function(r){Si(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!e})()}function cF(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return uF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?uF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function uF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dc={},dF="video",fVe="voice",hF=Ct()?{data:{}}:{data:{},topology:"none"},fF={present:0,hidden:0},rJ={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},H1=Object.keys(rJ),mF=["state","volume","simulcastEncodings"],pF={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},m0={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},NE={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},hc={customIntegrations:{validate:dJ,help:cJ()},customTrayButtons:{validate:uJ,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(m0))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return hJ(e,pF)},help:"reactNativeConfig should look like ".concat(JSON.stringify(pF),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return sJ(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:co};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:co};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return At(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return aJ(e,{allowAllParticipantsKey:!1})},help:lJ({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!iJ(e)&&(t._inputSettings||(t._inputSettings={}),oJ(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:SE()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Tx={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Ct()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!n.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!o&&!r.includes(l),u=!n.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ct()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ar(n[t],2),a=r[0],i=r[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=cF(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(x){c.e(x)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Ar(tJ.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,g=["participants","streaming","transcription"],p=cF(i);try{for(p.s();!(m=p.n()).done;){var v=m.value;if(!g.includes(v))return!1}}catch(x){p.e(x)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=tt(function*(t){return new Promise(function(n,r){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){a.push(o),a.length===t.length&&r(a)})})})});return function(t){return e.apply(this,arguments)}}());var mVe=function(){function e(_){var A,P,z,V,te,Z,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ks(this,e),z=this,V=ri(V=e),Si(P=_j(z,nJ()?Reflect.construct(V,[],ri(z).constructor):V.apply(z,te)),"startListeningForDeviceChanges",function(){aVe(P.handleDeviceChange)}),Si(P,"stopListeningForDeviceChanges",function(){iVe(P.handleDeviceChange)}),Si(P,"handleDeviceChange",function(ne){ne=ne.map(function(pe){return JSON.parse(JSON.stringify(pe))}),P.emitDailyJSEvent({action:"available-devices-updated",availableDevices:ne})}),Si(P,"handleNativeAppStateChange",function(){var ne=tt(function*(pe){if(pe==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield P.destroy());var Se=pe==="active";P.disableReactNativeAutoDeviceManagement("video")||(Se?P.camUnmutedBeforeLosingNativeActiveState&&P.setLocalVideo(!0):(P.camUnmutedBeforeLosingNativeActiveState=P.localVideo(),P.camUnmutedBeforeLosingNativeActiveState&&P.setLocalVideo(!1)))});return function(pe){return ne.apply(this,arguments)}}()),Si(P,"handleNativeAudioFocusChange",function(ne){P.disableReactNativeAutoDeviceManagement("audio")||(P._hasNativeAudioFocus=ne,P.toggleParticipantAudioBasedOnNativeAudioFocus(),P._hasNativeAudioFocus?P.micUnmutedBeforeLosingNativeAudioFocus&&P.setLocalAudio(!0):(P.micUnmutedBeforeLosingNativeAudioFocus=P.localAudio(),P.setLocalAudio(!1)))}),Si(P,"handleNativeSystemScreenCaptureStop",function(){P.stopScreenShare()}),!q1()&&!Ct())throw new Error("WebRTC not supported or suppressed");if(P.strictMode=q.strictMode===void 0||q.strictMode,P.allowMultipleCallInstances=(A=q.allowMultipleCallInstances)!==null&&A!==void 0&&A,Object.keys(dc).length&&(P._logDuplicateInstanceAttempt(),!P.allowMultipleCallInstances)){if(P.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),P.callClientId=Sj(),dc[(Z=P).callClientId]=Z,window._daily.instances[P.callClientId]={},P._sharedTracks={},window._daily.instances[P.callClientId].tracks=P._sharedTracks,q.dailyJsVersion=e.version(),P._iframe=_,P._callObjectMode=q.layout==="none"&&!P._iframe,P._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},q.showLocalVideo!==void 0?P._callObjectMode?console.error("showLocalVideo is not available in call object mode"):P._showLocalVideo=!!q.showLocalVideo:P._showLocalVideo=!0,q.showParticipantsBar!==void 0?P._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):P._showParticipantsBar=!!q.showParticipantsBar:P._showParticipantsBar=!0,q.customIntegrations!==void 0?P._callObjectMode?console.error("customIntegrations is not available in call object mode"):P._customIntegrations=q.customIntegrations:P._customIntegrations={},q.customTrayButtons!==void 0?P._callObjectMode?console.error("customTrayButtons is not available in call object mode"):P._customTrayButtons=q.customTrayButtons:P._customTrayButtons={},q.activeSpeakerMode!==void 0?P._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):P._activeSpeakerMode=!!q.activeSpeakerMode:P._activeSpeakerMode=!1,q.receiveSettings?P._callObjectMode?P._receiveSettings=q.receiveSettings:console.error("receiveSettings is only available in call object mode"):P._receiveSettings={},P.validateProperties(q),P.properties=He({},q),P._inputSettings||(P._inputSettings={}),P._callObjectLoader=P._callObjectMode?new Kqe(P.callClientId):null,P._callState=dE,P._isPreparingToJoin=!1,P._accessState={access:ly},P._meetingSessionSummary={},P._finalSummaryOfPrevSession={},P._meetingSessionState=Y1(hF,P._callObjectMode),P._nativeInCallAudioMode=dF,P._participants={},P._isScreenSharing=!1,P._participantCounts=fF,P._rmpPlayerState={},P._waitingParticipants={},P._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},P._activeSpeaker={},P._localAudioLevel=0,P._isLocalAudioLevelObserverRunning=!1,P._remoteParticipantsAudioLevel={},P._isRemoteParticipantsAudioLevelObserverRunning=!1,P._maxAppMessageSize=B1,P._messageChannel=Ct()?new Hqe:new Wqe,P._iframe&&(P._iframe.requestFullscreen?P._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===P._iframe?(P.emitDailyJSEvent({action:Sm}),P.sendMessageToCallMachine({action:Sm})):(P.emitDailyJSEvent({action:Cm}),P.sendMessageToCallMachine({action:Cm}))}):P._iframe.webkitRequestFullscreen&&P._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===P._iframe?(P.emitDailyJSEvent({action:Sm}),P.sendMessageToCallMachine({action:Sm})):(P.emitDailyJSEvent({action:Cm}),P.sendMessageToCallMachine({action:Cm}))})),Ct()){var Q=P.nativeUtils();Q.addAudioFocusChangeListener&&Q.removeAudioFocusChangeListener&&Q.addAppStateChangeListener&&Q.removeAppStateChangeListener&&Q.addSystemScreenCaptureStopListener&&Q.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),P._hasNativeAudioFocus=!0,Q.addAudioFocusChangeListener(P.handleNativeAudioFocusChange),Q.addAppStateChangeListener(P.handleNativeAppStateChange),Q.addSystemScreenCaptureStopListener(P.handleNativeSystemScreenCaptureStop)}return P._callObjectMode&&P.startListeningForDeviceChanges(),P._messageChannel.addListenerForMessagesFromCallMachine(P.handleMessageFromCallMachine,P.callClientId,P),P}return Nj(e,wx),Ys(e,[{key:"destroy",value:(ee=tt(function*(){var _;try{yield this.leave()}catch{}var A=this._iframe;if(A){var P=A.parentElement;P&&P.removeChild(A)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ct()){var z=this.nativeUtils();z.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),z.removeAppStateChangeListener(this.handleNativeAppStateChange),z.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete dc[this.callClientId],!((_=window)===null||_===void 0||(_=_._daily)===null||_===void 0)&&_.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ee.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(_){var A=_.bodyClass,P=_.cssFile,z=_.cssText;return Nt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(P),bodyClass:A,cssText:z}),this}},{key:"iframe",value:function(){return Nt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Aa(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Aa(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(_,A){for(var P in A){if(!Tx[P])throw new Error("unrecognized updateParticipant property ".concat(P));if(Tx[P].validate&&!Tx[P].validate(A[P],this,this._participants[_]))throw new Error(Tx[P].help)}}},{key:"updateParticipant",value:function(_,A){return this._participants.local&&this._participants.local.session_id===_&&(_="local"),_&&A&&(this.validateParticipantProperties(_,A),this.sendMessageToCallMachine({action:"update-participant",id:_,properties:A})),this}},{key:"updateParticipants",value:function(_){var A=this._participants.local&&this._participants.local.session_id;for(var P in _)P===A&&(P="local"),P&&_[P]&&this.validateParticipantProperties(P,_[P]);return this.sendMessageToCallMachine({action:"update-participants",participants:_}),this}},{key:"updateWaitingParticipant",value:(Y=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Aa(this._callObjectMode,"updateWaitingParticipant()"),Zt(this._callState,"updateWaitingParticipant()"),typeof A!="string"||At(P)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(z,V){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:A,updates:P},function(te){te.error&&V(te.error),te.id||V(new Error("unknown error in updateWaitingParticipant()")),z({id:te.id})})})}),function(){return Y.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(M=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Aa(this._callObjectMode,"updateWaitingParticipants()"),Zt(this._callState,"updateWaitingParticipants()"),At(A)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(P,z){_.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:A},function(V){V.error&&z(V.error),V.ids||z(new Error("unknown error in updateWaitingParticipants()")),P({ids:V.ids})})})}),function(){return M.apply(this,arguments)})},{key:"requestAccess",value:(U=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=A.access,z=P===void 0?{level:qK}:P,V=A.name,te=V===void 0?"":V;return Aa(this._callObjectMode,"requestAccess()"),Zt(this._callState,"requestAccess()"),new Promise(function(Z,q){_.sendMessageToCallMachine({action:"daily-method-request-access",access:z,name:te},function(Q){Q.error&&q(Q.error),Q.access||q(new Error("unknown error in requestAccess()")),Z({access:Q.access,granted:Q.granted})})})}),function(){return U.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in A&&(Ct()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),A={}):_&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),A={})),this.sendMessageToCallMachine({action:"local-audio",state:_,options:A}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(_){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:_}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(_){return this.sendMessageToCallMachine({action:"local-video",state:_}),this}},{key:"_setAllowLocalAudio",value:function(_){if(this._preloadCache.allowLocalAudio=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:_}),this}},{key:"_setAllowLocalVideo",value:function(_){if(this._preloadCache.allowLocalVideo=_,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:_}),this}},{key:"getReceiveSettings",value:(T=tt(function*(_){var A=this,P=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,z=P!==void 0&&P;if(Aa(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(At(_)){case"string":return new Promise(function(V){A.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:_,showInheritedValues:z},function(te){V(te.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(_){return T.apply(this,arguments)})},{key:"updateReceiveSettings",value:($=tt(function*(_){var A=this;if(Aa(this._callObjectMode,"updateReceiveSettings()"),!aJ(_,{allowAllParticipantsKey:!0}))throw new Error(lJ({allowAllParticipantsKey:!0}));return Zt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(P){A.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:_},function(z){P({receiveSettings:z.receiveSettings})})})}),function(_){return $.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(_,A){if(_){var P={};if(_.audio){var z,V,te;_.audio.settings&&(!Object.keys(_.audio.settings).length&&A||(P.audio={settings:He({},_.audio.settings)})),A&&(z=P.audio)!==null&&z!==void 0&&(z=z.settings)!==null&&z!==void 0&&z.customTrack&&(P.audio.settings={customTrack:this._sharedTracks.audioTrack});var Z=((V=_.audio.processor)===null||V===void 0?void 0:V.type)==="none"&&((te=_.audio.processor)===null||te===void 0?void 0:te._isDefaultWhenNone);if(_.audio.processor&&!Z){var q=He({},_.audio.processor);delete q._isDefaultWhenNone,P.audio=He(He({},P.audio),{},{processor:q})}}if(_.video){var Q,ne,pe;_.video.settings&&(!Object.keys(_.video.settings).length&&A||(P.video={settings:He({},_.video.settings)})),A&&(Q=P.video)!==null&&Q!==void 0&&(Q=Q.settings)!==null&&Q!==void 0&&Q.customTrack&&(P.video.settings={customTrack:this._sharedTracks.videoTrack});var Se=((ne=_.video.processor)===null||ne===void 0?void 0:ne.type)==="none"&&((pe=_.video.processor)===null||pe===void 0?void 0:pe._isDefaultWhenNone);if(_.video.processor&&!Se){var qe=He({},_.video.processor);delete qe._isDefaultWhenNone,P.video=He(He({},P.video),{},{processor:qe})}}return P}}},{key:"getInputSettings",value:function(){var _=this;return Nt(),new Promise(function(A){A(_._getInputSettings())})}},{key:"_getInputSettings",value:function(){var _,A,P,z,V,te,Z={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(_=((P=this._inputSettings)===null||P===void 0?void 0:P.video)||Z,A=((z=this._inputSettings)===null||z===void 0?void 0:z.audio)||Z):(_=((V=this._preloadCache)===null||V===void 0||(V=V.inputSettings)===null||V===void 0?void 0:V.video)||Z,A=((te=this._preloadCache)===null||te===void 0||(te=te.inputSettings)===null||te===void 0?void 0:te.audio)||Z);var q={audio:A,video:_};return this._prepInputSettingsForSharing(q,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(_,A){var P=this._inputSettings||{},z={};if(_.video){var V,te,Z;z.video={},_.video.settings?(z.video.settings={},A||_.video.settings.customTrack||(Z=P.video)===null||Z===void 0||!Z.settings?z.video.settings=_.video.settings:z.video.settings=He(He({},P.video.settings),_.video.settings),Object.keys(z.video.settings).length||delete z.video.settings):(V=P.video)!==null&&V!==void 0&&V.settings&&(z.video.settings=P.video.settings),_.video.processor?z.video.processor=_.video.processor:(te=P.video)!==null&&te!==void 0&&te.processor&&(z.video.processor=P.video.processor)}else P.video&&(z.video=P.video);if(_.audio){var q,Q,ne;z.audio={},_.audio.settings?(z.audio.settings={},A||_.audio.settings.customTrack||(ne=P.audio)===null||ne===void 0||!ne.settings?z.audio.settings=_.audio.settings:z.audio.settings=He(He({},P.audio.settings),_.audio.settings),Object.keys(z.audio.settings).length||delete z.audio.settings):(q=P.audio)!==null&&q!==void 0&&q.settings&&(z.audio.settings=P.audio.settings),_.audio.processor?z.audio.processor=_.audio.processor:(Q=P.audio)!==null&&Q!==void 0&&Q.processor&&(z.audio.processor=P.audio.processor)}else P.audio&&(z.audio=P.audio);this._maybeUpdateInputSettings(z)}},{key:"_devicesFromInputSettings",value:function(_){var A,P,z=(_==null||(A=_.video)===null||A===void 0||(A=A.settings)===null||A===void 0?void 0:A.deviceId)||null,V=(_==null||(P=_.audio)===null||P===void 0||(P=P.settings)===null||P===void 0?void 0:P.deviceId)||null,te=this._preloadCache.outputDeviceId||null;return{camera:z?{deviceId:z}:{},mic:V?{deviceId:V}:{},speaker:te?{deviceId:te}:{}}}},{key:"updateInputSettings",value:(O=tt(function*(_){var A=this;return Nt(),iJ(_)?_.video||_.audio?(oJ(_,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(_,!0),this._getInputSettings()):new Promise(function(P,z){A.sendMessageToCallMachine({action:"update-input-settings",inputSettings:_},function(V){if(V.error)z(V.error);else{if(V.returnPreloadCache)return A._updatePreloadCacheInputSettings(_,!0),void P(A._getInputSettings());A._maybeUpdateInputSettings(V.inputSettings),P(A._prepInputSettingsForSharing(V.inputSettings,!0))}})})):this._getInputSettings():(console.error(SE()),Promise.reject(SE()))}),function(_){return O.apply(this,arguments)})},{key:"setBandwidth",value:function(_){var A=_.kbs,P=_.trackConstraints;if(Nt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:A,trackConstraints:P}),this}},{key:"getDailyLang",value:function(){var _=this;if(Nt(),this._callMachineInitialized)return new Promise(function(A){_.sendMessageToCallMachine({action:"get-daily-lang"},function(P){delete P.action,delete P.callbackStamp,A(P)})})}},{key:"setDailyLang",value:function(_){return Nt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:_}),this}},{key:"setProxyUrl",value:function(_){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:_}),this}},{key:"setIceConfig",value:function(_){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:_}),this}},{key:"meetingSessionSummary",value:function(){return[Xo,Xi].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(I=tt(function*(){var _=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Zt(this._callState,"getMeetingSession()"),new Promise(function(A){_.sendMessageToCallMachine({action:"get-meeting-session"},function(P){delete P.action,delete P.callbackStamp,A(P)})})}),function(){return I.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Zt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Aa(this._callObjectMode,"setMeetingSessionData()"),Zt(this._callState,"setMeetingSessionData");try{(function(P,z){new Gqe({data:P,mergeStrategy:z})})(_,A)}catch(P){throw console.error(P),P}try{this.sendMessageToCallMachine({action:"set-session-data",data:_,mergeStrategy:A})}catch(P){throw new Error("Error setting meeting session data: ".concat(P))}}},{key:"setUserName",value:function(_,A){var P=this;return this.properties.userName=_,new Promise(function(z){P.sendMessageToCallMachine({action:"set-user-name",name:_??"",thisMeetingOnly:Ct()||!!A&&!!A.thisMeetingOnly},function(V){delete V.action,delete V.callbackStamp,z(V)})})}},{key:"setUserData",value:(L=tt(function*(_){var A=this;try{sJ(_)}catch(P){throw console.error(P),P}if(this.properties.userData=_,this._callMachineInitialized)return new Promise(function(P){try{A.sendMessageToCallMachine({action:"set-user-data",userData:_},function(z){delete z.action,delete z.callbackStamp,P(z)})}catch(z){throw new Error("Error setting user data: ".concat(z))}})}),function(_){return L.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(_){if(_&&(_<100||typeof _!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(_){var A=this;if(typeof AudioWorkletNode>"u"&&!Ct())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(P,z){A.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:_},function(V){A._isLocalAudioLevelObserverRunning=!V.error,V.error?z({error:V.error}):P()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:_}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(_){var A=this;if(this.validateAudioLevelInterval(_),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(P,z){A.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:_},function(V){A._isRemoteParticipantsAudioLevelObserverRunning=!V.error,V.error?z({error:V.error}):P()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:_}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(F=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Aa(this._callObjectMode,"startCamera()"),G1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(A)}catch(P){return Promise.reject(P)}else{if(this._didPreAuth){if(A.url&&A.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(A.token&&A.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(A),this.properties=He(He({},this.properties),A)}return new Promise(function(P){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"start-camera",properties:Ju(_.properties,_.callClientId),preloadCache:Ju(_._preloadCache,_.callClientId)},function(z){P({camera:z.camera,mic:z.mic,speaker:z.speaker})})})}),function(){return F.apply(this,arguments)})},{key:"validateCustomTrack",value:function(_,A,P){if(P&&P.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(A&&A!=="music"&&A!=="speech"&&!(A instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(P&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(P))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(_ instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Nt(),Zt(this._callState,"startCustomTrack()"),this.validateCustomTrack(A.track,A.mode,A.trackName),new Promise(function(P,z){_._sharedTracks.customTrack=A.track,A.track=co,_.sendMessageToCallMachine({action:"start-custom-track",properties:A},function(V){V.error?z({error:V.error}):P(V.mediaTag)})})}},{key:"stopCustomTrack",value:function(_){var A=this;return Nt(),Zt(this._callState,"stopCustomTrack()"),new Promise(function(P){A.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:_},function(z){P(z.mediaTag)})})}},{key:"setCamera",value:function(_){var A=this;return fm(),Ox(this._callMachineInitialized,"setCamera()"),new Promise(function(P){A.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:_},function(z){P({device:z.device})})})}},{key:"setAudioDevice",value:(B=tt(function*(_){return fm(),this.nativeUtils().setAudioDevice(_),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(_){return B.apply(this,arguments)})},{key:"cycleCamera",value:function(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(P){_.sendMessageToCallMachine({action:"cycle-camera",properties:A},function(z){P({device:z.device})})})}},{key:"cycleMic",value:function(){var _=this;return Nt(),new Promise(function(A){_.sendMessageToCallMachine({action:"cycle-mic"},function(P){A({device:P.device})})})}},{key:"getCameraFacingMode",value:function(){var _=this;return fm(),new Promise(function(A){_.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(P){A(P.facingMode)})})}},{key:"setInputDevicesAsync",value:(E=tt(function*(_){var A=this,P=_.audioDeviceId,z=_.videoDeviceId,V=_.audioSource,te=_.videoSource;if(Nt(),V!==void 0&&(P=V),te!==void 0&&(z=te),typeof P=="boolean"&&(this._setAllowLocalAudio(P),P=void 0),typeof z=="boolean"&&(this._setAllowLocalVideo(z),z=void 0),!P&&!z)return yield this.getInputDevices();var Z={};return P&&(P instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=P,P=co,Z.audio={settings:{customTrack:P}}):(delete this._sharedTracks.audioTrack,Z.audio={settings:{deviceId:P}})),z&&(z instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=z,z=co,Z.video={settings:{customTrack:z}}):(delete this._sharedTracks.videoTrack,Z.video={settings:{deviceId:z}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(Z,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(q){A.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:P,videoDeviceId:z},function(Q){if(delete Q.action,delete Q.callbackStamp,Q.returnPreloadCache)return A._updatePreloadCacheInputSettings(Z,!1),void q(A._devicesFromInputSettings(A._inputSettings));q(Q)})})}),function(_){return E.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=tt(function*(_){var A=this,P=_.outputDeviceId;if(Nt(),!P||typeof P!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=P,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(z,V){A.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:P},function(te){if(delete te.action,delete te.callbackStamp,te.error){var Z=new Error(te.error.message);return Z.type=te.error.type,void V(Z)}te.returnPreloadCache?z(A._devicesFromInputSettings(A._inputSettings)):z(te)})})}),function(_){return R.apply(this,arguments)})},{key:"getInputDevices",value:(D=tt(function*(){var _=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(A){_.sendMessageToCallMachine({action:"get-input-devices"},function(P){P.returnPreloadCache?A(_._devicesFromInputSettings(_._inputSettings)):A({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return D.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return fm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(_){if(fm(),[dF,fVe].includes(_)){if(_!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=_,!this.disableReactNativeAutoDeviceManagement("audio")&&uy(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",_)}},{key:"preAuth",value:(k=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Aa(this._callObjectMode,"preAuth()"),G1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(A)),!A.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(A),this.properties=He(He({},this.properties),A),new Promise(function(P,z){_._preloadCache.inputSettings=_._prepInputSettingsForSharing(_._inputSettings,!1),_.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ju(_.properties,_.callClientId),preloadCache:Ju(_._preloadCache,_.callClientId)},function(V){return V.error?z(V.error):V.access?(_._didPreAuth=!0,void P({access:V.access})):z(new Error("unknown error in preAuth()"))})})}),function(){return k.apply(this,arguments)})},{key:"load",value:(C=tt(function*(_){var A=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(_&&(this.validateProperties(_),this.properties=He(He({},this.properties),_)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(B3),this.emitDailyJSEvent({action:JK}),this._callObjectMode?new Promise(function(P,z){A._callObjectLoader.cancel();var V=Date.now();A._callObjectLoader.load(A.properties.dailyConfig,function(te){A._bundleLoadTime=te?"no-op":Date.now()-V,A._updateCallState(U3),te&&A.emitDailyJSEvent({action:fE}),P()},function(te,Z){if(A.emitDailyJSEvent({action:XK}),!Z){A._updateCallState(Xi),A.resetMeetingDependentVars();var q={action:xE,errorMsg:te.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:te,bundleUrl:a0(A.properties.dailyConfig)}}};A._maybeSendToSentry(q),A.emitDailyJSEvent(q),z(te.msg)}})}):(this._iframe.src=CK(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(P,z){A._loadedCallback=function(V){A._callState!==Xi?(A._updateCallState(U3),(A.properties.cssFile||A.properties.cssText)&&A.loadCss(A.properties),P()):z(V)}}))}}),function(_){return C.apply(this,arguments)})},{key:"join",value:(N=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var P=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(A)}catch(z){return this.updateIsPreparingToJoin(!1),Promise.reject(z)}}else{if(P=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(A.url&&A.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(A.token&&A.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(A.url&&!this._callObjectMode&&A.url&&A.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(A.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(A),this.properties=He(He({},this.properties),A)}return A.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!A.showLocalVideo),A.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!A.showParticipantsBar),this._callState===ll||this._callState===d0?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(d0,!1),this.emitDailyJSEvent({action:eY}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Ju(this.properties,this.callClientId),preloadCache:Ju(this._preloadCache,this.callClientId)}),new Promise(function(z,V){_._joinedCallback=function(te,Z){if(_._callState!==Xi){if(_._updateCallState(ll),te)for(var q in te){if(_._callObjectMode){var Q=_._callMachine().store;Z3(te[q],Q),eF(te[q],Q),tF(te[q],_._participants[q],Q)}_._participants[q]=He({},te[q]),_.toggleParticipantAudioBasedOnNativeAudioFocus()}P&&_.loadCss(_.properties),z(te)}else V(Z)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(S=tt(function*(){var _=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(A){_._callState===Xo||_._callState===Xi?A():_._callObjectLoader&&!_._callObjectLoader.loaded?(_._callObjectLoader.cancel(),_._updateCallState(Xo),_.resetMeetingDependentVars(),_.emitDailyJSEvent({action:Xo}),A()):(_._resolveLeave=A,_.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(j=tt(function*(){var _=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ox(this._callMachineInitialized,"startScreenShare()"),A.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",A.screenVideoSendSettings),A.mediaStream&&(this._sharedTracks.screenMediaStream=A.mediaStream,A.mediaStream=co),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var P=this.nativeUtils();if(yield P.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:vE,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});P.setSystemScreenCaptureStartCallback(function(){P.setSystemScreenCaptureStartCallback(null),_.sendMessageToCallMachine({action:q3,captureOptions:A})}),P.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:q3,captureOptions:A})}),function(){return j.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Ox(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=_.type;if(A&&A!=="cloud"&&A!=="raw-tracks"&&A!=="local")throw new Error("invalid type: ".concat(A,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(He({action:"local-recording-start"},_))}},{key:"updateRecording",value:function(_){var A=_.layout,P=A===void 0?{preset:"default"}:A,z=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:P,instanceId:z})}},{key:"stopRecording",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(He({action:"local-recording-stop"},_))}},{key:"startLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(He({action:"daily-method-start-live-streaming"},_))}},{key:"updateLiveStreaming",value:function(_){var A=_.layout,P=A===void 0?{preset:"default"}:A,z=_.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:P,instanceId:z})}},{key:"addLiveStreamingEndpoints",value:function(_){var A=_.endpoints,P=_.instanceId;this.sendMessageToCallMachine({action:V3,endpointsOp:Fqe,endpoints:A,instanceId:P})}},{key:"removeLiveStreamingEndpoints",value:function(_){var A=_.endpoints,P=_.instanceId;this.sendMessageToCallMachine({action:V3,endpointsOp:Bqe,endpoints:A,instanceId:P})}},{key:"stopLiveStreaming",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(He({action:"daily-method-stop-live-streaming"},_))}},{key:"validateDailyConfig",value:function(_){_.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(_.camSimulcastEncodings)),_.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),HY()&&_.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(_){if(!(_ instanceof Array||Array.isArray(_)))throw new Error("encodings must be an Array");if(!bF(_.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var z=0;z<_.length;z++){var V=_[z];for(var te in this._validateEncodingLayerHasValidProperties(V),V)if(H1.includes(te)){if(typeof V[te]!="number")throw new Error("".concat(te," must be a number"));if(A){var Z=A[te],q=Z.min,Q=Z.max;if(!bF(V[te],q,Q))throw new Error("".concat(te," value not in range. valid range: ").concat(q," to ").concat(Q))}}else if(!["active","scalabilityMode"].includes(te))throw new Error("Invalid key ".concat(te,", valid keys are:")+Object.values(H1));if(P&&!V.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=tt(function*(_){var A=this,P=_.url,z=_.settings,V=z===void 0?{state:yE.PLAY}:z;try{(function(te){if(typeof te!="string")throw new Error('url parameter must be "string" type')})(P),yF(V),function(te){for(var Z in te)if(!mF.includes(Z))throw new Error("Invalid key ".concat(Z,", valid keys are: ").concat(mF));te.simulcastEncodings&&this.validateSimulcastEncodings(te.simulcastEncodings,rJ,!0)}(V)}catch(te){throw console.error("invalid argument Error: ".concat(te)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),te}return new Promise(function(te,Z){A.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:P,settings:V},function(q){q.error?Z({error:q.error,errorMsg:q.errorMsg}):te({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(_){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=tt(function*(_){var A=this;if(typeof _!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(P,z){A.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:_},function(V){V.error?z({error:V.error,errorMsg:V.errorMsg}):P()})})}),function(_){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(x=tt(function*(_){var A=this,P=_.session_id,z=_.settings;try{yF(z)}catch(V){throw console.error("invalid argument Error: ".concat(V)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),V}return new Promise(function(V,te){A.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:P,settings:z},function(Z){Z.error?te({error:Z.error,errorMsg:Z.errorMsg}):V({session_id:Z.session_id,remoteMediaPlayerState:{state:Z.state,settings:Z.settings}})})})}),function(_){return x.apply(this,arguments)})},{key:"startTranscription",value:function(_){Zt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(He({action:"daily-method-start-transcription"},_))}},{key:"updateTranscription",value:function(_){if(Zt(this._callState,"updateTranscription()"),!_)throw new Error("updateTranscription Error: options is mandatory");if(At(_)!=="object")throw new Error("updateTranscription Error: options must be object type");if(_.participants&&!Array.isArray(_.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(He({action:"daily-method-update-transcription"},_))}},{key:"stopTranscription",value:function(_){if(Zt(this._callState,"stopTranscription()"),_&&At(_)!=="object")throw new Error("stopTranscription Error: options must be object type");if(_&&!_.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(He({action:"daily-method-stop-transcription"},_))}},{key:"startDialOut",value:(v=tt(function*(_){var A=this;Zt(this._callState,"startDialOut()");var P=function(Z){if(Z){if(!Array.isArray(Z))throw new Error("Error starting dial out: audio codec must be an array");if(Z.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");Z.forEach(function(q){if(typeof q!="string")throw new Error("Error starting dial out: audio codec must be a string");if(q!=="OPUS"&&q!=="PCMU"&&q!=="PCMA"&&q!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!_.sipUri&&!_.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(_.sipUri&&_.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(_.sipUri){if(typeof _.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!_.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(_.video&&typeof _.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(Z){if(Z&&(P(Z.audio),Z.video)){if(!Array.isArray(Z.video))throw new Error("Error starting dial out: video codec must be an array");if(Z.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");Z.video.forEach(function(q){if(typeof q!="string")throw new Error("Error starting dial out: video codec must be a string");if(q!=="H264"&&q!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(_.codecs)}if(_.phoneNumber){if(typeof _.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(_.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");_.codecs&&P(_.codecs.audio)}if(_.callerId){if(typeof _.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(_.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(_.displayName){if(typeof _.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(_.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(_.userId){if(typeof _.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(_.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(gF(_),_.permissions&&_.permissions.canReceive){var z=Ar(tJ.validateJSONObject(_.permissions.canReceive),2),V=z[0],te=z[1];if(!V)throw new Error(te)}return new Promise(function(Z,q){A.sendMessageToCallMachine(He({action:"dialout-start"},_),function(Q){Q.error?q(Q.error):Z(Q)})})}),function(_){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(_){var A=this;return Zt(this._callState,"stopDialOut()"),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:"dialout-stop"},_),function(V){V.error?z(V.error):P(V)})})}},{key:"sipCallTransfer",value:(p=tt(function*(_){var A=this;if(Zt(this._callState,"sipCallTransfer()"),!_)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return _.useSipRefer=!1,xF(_,"sipCallTransfer"),gF(_),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:W3},_),function(V){V.error?z(V.error):P(V)})})}),function(_){return p.apply(this,arguments)})},{key:"sipRefer",value:(g=tt(function*(_){var A=this;if(Zt(this._callState,"sipRefer()"),!_)throw new Error("sessionId and toEndPoint are mandatory parameter");return _.useSipRefer=!0,xF(_,"sipRefer"),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:W3},_),function(V){V.error?z(V.error):P(V)})})}),function(_){return g.apply(this,arguments)})},{key:"sendDTMF",value:(m=tt(function*(_){var A=this;return Zt(this._callState,"sendDTMF()"),function(P){var z=P.sessionId,V=P.tones;if(!z||!V)throw new Error("sessionId and tones are mandatory parameter");if(typeof z!="string"||typeof V!="string")throw new Error("sessionId and tones should be of string type");if(V.length>20)throw new Error("tones string must be upto 20 characters");var te=/[^0-9A-D*#]/g,Z=V.match(te);if(Z&&Z[0])throw new Error("".concat(Z[0]," is not valid DTMF tone"))}(_),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:"send-dtmf"},_),function(V){V.error?z(V.error):P(V)})})}),function(_){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var _=this;return this._callState!==ll?Promise.resolve(He({stats:{latest:{}}},this._network)):new Promise(function(A){_.sendMessageToCallMachine({action:"get-calc-stats"},function(P){A(He(He({},_._network),{},{stats:P.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=tt(function*(){var _=this;if(K1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}return new Promise(function(A,P){_.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(z){z.error?P(z.error):A(z.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(_){return _?_ instanceof MediaStreamTrack?!!lVe(_)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=tt(function*(){var _=this;Nt(),Aa(this._callObjectMode,"testCallQuality()"),Ox(this._callMachineInitialized,"testCallQuality()",null,!0),G1(this._callState,this._isPreparingToJoin,"testCallQuality()");var A=this._testCallAlreadyInProgress,P=function(V){A||(_._testCallInProgress=V)};if(P(!0),this.needsLoad())try{var z=this._callState;yield this.load(),this._callState=z}catch(V){return P(!1),Promise.reject(V)}return new Promise(function(V){_.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:_.properties.dailyJsVersion},function(te){var Z=te.results,q=Z.result,Q=IL(Z,dVe);if(q==="failed"){var ne,pe=He({},Q);(ne=Q.error)!==null&&ne!==void 0&&ne.details?(Q.error.details=JSON.parse(Q.error.details),pe.error=He(He({},pe.error),{},{details:He({},pe.error.details)}),pe.error.details.duringTest="testCallQuality"):(pe.error=pe.error?He({},pe.error):{},pe.error.details={duringTest:"testCallQuality"}),_._maybeSendToSentry(pe)}P(!1),V(He({result:q},Q))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=tt(function*(_){var A;Ct()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),A=yield this.testPeerToPeerCallQuality(_)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),A=yield this.testCallQuality());var P={result:A.result,secondsElapsed:A.secondsElapsed};return A.data&&(P.data={maxRTT:A.data.maxRoundTripTime,packetLoss:A.data.avgRecvPacketLoss}),P}),function(_){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=tt(function*(_){var A=this;if(K1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(V){return Promise.reject(V)}var P=_.videoTrack,z=_.duration;if(!this._validateVideoTrackForNetworkTests(P))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=P,new Promise(function(V,te){A.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:z},function(Z){Z.error?te(Z.error):V(Z.results)})})}),function(_){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ct()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=tt(function*(_){var A=this;if(K1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=_,new Promise(function(P,z){A.sendMessageToCallMachine({action:"test-network-connectivity"},function(V){V.error?z(V.error):P(V.results)})})}),function(_){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var _=this;return new Promise(function(A){_._callState===ll?_.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(P){A(P.cpuStats)}):A({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(_){var A;if(!(((A=Object.keys(_))===null||A===void 0?void 0:A.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(H1))}},{key:"_validateVideoSendSettings",value:function(_,A){var P=_==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],z="Video send settings should be either an object or one of the supported presets: ".concat(P.join());if(typeof A=="string"){if(!P.includes(A))throw new Error(z)}else{if(At(A)!=="object")throw new Error(z);if(!A.maxQuality&&!A.encodings&&A.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(A.maxQuality&&["low","medium","high"].indexOf(A.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(A.encodings){var V=!1;switch(Object.keys(A.encodings).length){case 1:V=!A.encodings.low;break;case 2:V=!A.encodings.low||!A.encodings.medium;break;case 3:V=!A.encodings.low||!A.encodings.medium||!A.encodings.high;break;default:V=!0}if(V)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");A.encodings.low&&this._validateEncodingLayerHasValidProperties(A.encodings.low),A.encodings.medium&&this._validateEncodingLayerHasValidProperties(A.encodings.medium),A.encodings.high&&this._validateEncodingLayerHasValidProperties(A.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(_){var A=this;if(!_||Object.keys(_).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(_).forEach(function(P){var z=Ar(P,2),V=z[0],te=z[1];A._validateVideoSendSettings(V,te)})}},{key:"updateSendSettings",value:function(_){var A=this;return this.validateUpdateSendSettings(_),this.needsLoad()?(this._preloadCache.sendSettings=_,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(P,z){A.sendMessageToCallMachine({action:"update-send-settings",sendSettings:_},function(V){V.error?z(V.error):P(V.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Nt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(_){return Nt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:_}),this}},{key:"activeSpeakerMode",value:function(){return Nt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(_){return Zt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=_,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:_}),this}},{key:"enumerateDevices",value:(l=tt(function*(){var _=this;if(this._callObjectMode){var A=yield navigator.mediaDevices.enumerateDevices();return yu()==="Firefox"&&h0().major>115&&h0().major<123&&(A=A.filter(function(P){return P.kind!=="audiooutput"})),{devices:A.map(function(P){var z=JSON.parse(JSON.stringify(P));if(!Ct()&&P.kind==="videoinput"&&P.getCapabilities){var V,te=P.getCapabilities();z.facing=(te==null||(V=te.facingMode)===null||V===void 0?void 0:V.length)>=1?te.facingMode[0]:void 0}return z})}}return new Promise(function(P){_.sendMessageToCallMachine({action:"enumerate-devices"},function(z){P({devices:z.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Zt(this._callState,"sendAppMessage()"),JSON.stringify(_).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:_,to:A}),this}},{key:"addFakeParticipant",value:function(_){return Nt(),Zt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(He({action:"add-fake-participant"},_)),this}},{key:"setShowNamesMode",value:function(_){return Ss(this._callObjectMode,"setShowNamesMode()"),Nt(),_&&_!=="always"&&_!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:_}),this)}},{key:"setShowLocalVideo",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ss(this._callObjectMode,"setShowLocalVideo()"),Nt(),Zt(this._callState,"setShowLocalVideo()"),typeof _!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:_}),this._showLocalVideo=_,this)}},{key:"showLocalVideo",value:function(){return Ss(this._callObjectMode,"showLocalVideo()"),Nt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ss(this._callObjectMode,"setShowParticipantsBar()"),Nt(),Zt(this._callState,"setShowParticipantsBar()"),typeof _!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:_}),this._showParticipantsBar=_,this)}},{key:"showParticipantsBar",value:function(){return Ss(this._callObjectMode,"showParticipantsBar()"),Nt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Nt(),Ss(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(_){return Nt(),Ss(this._callObjectMode,"setCustomIntegrations()"),Zt(this._callState,"setCustomIntegrations()"),dJ(_)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:_}),this._customIntegrations=_,this):this}},{key:"startCustomIntegrations",value:function(_){var A=this;if(Nt(),Ss(this._callObjectMode,"startCustomIntegrations()"),Zt(this._callState,"startCustomIntegrations()"),Array.isArray(_)&&_.some(function(V){return typeof V!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var P=typeof _=="string"?[_]:_,z=P.filter(function(V){return!(V in A._customIntegrations)});return z.length?(console.error(`Can't find custom integration(s): "`.concat(z.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:P}),this)}},{key:"stopCustomIntegrations",value:function(_){var A=this;if(Nt(),Ss(this._callObjectMode,"stopCustomIntegrations()"),Zt(this._callState,"stopCustomIntegrations()"),Array.isArray(_)&&_.some(function(V){return typeof V!="string"})||!Array.isArray(_)&&typeof _!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var P=typeof _=="string"?[_]:_,z=P.filter(function(V){return!(V in A._customIntegrations)});return z.length?(console.error(`Can't find custom integration(s): "`.concat(z.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:P}),this)}},{key:"customTrayButtons",value:function(){return Ss(this._callObjectMode,"customTrayButtons()"),Nt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(_){return Ss(this._callObjectMode,"updateCustomTrayButtons()"),Nt(),Zt(this._callState,"updateCustomTrayButtons()"),uJ(_)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:_}),this._customTrayButtons=_,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(m0))),this)}},{key:"theme",value:function(){return Ss(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(_){var A=this;return Ss(this._callObjectMode,"setTheme()"),new Promise(function(P,z){try{A.validateProperties({theme:_}),A.properties.theme=He({},_),A.sendMessageToCallMachine({action:"set-theme",theme:A.properties.theme});try{A.emitDailyJSEvent({action:YK,theme:A.properties.theme})}catch(V){console.log("could not emit 'theme-updated'",V)}P(A.properties.theme)}catch(V){z(V)}})}},{key:"requestFullscreen",value:(o=tt(function*(){if(Nt(),this._iframe&&!document.fullscreenElement&&H3())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(_){console.log("could not make video call fullscreen",_)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Nt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=tt(function*(){var _=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(A){_.sendMessageToCallMachine({action:"get-sidebar-view"},function(P){A(P.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(_){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:_}),this)}},{key:"room",value:(a=tt(function*(){var _=this,A=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,P=A===void 0||A;return this._accessState.access===ly||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(z){_.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:P},function(V){delete V.action,delete V.callbackStamp,z(V)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(r=tt(function*(){try{var _=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield _.json()).geo}}catch(A){return console.error("geo lookup failed",A),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=tt(function*(_){var A=this;return Nt(),Zt(this._callState,"setNetworkTopology()"),new Promise(function(P,z){A.sendMessageToCallMachine({action:"set-network-topology",opts:_},function(V){V.error?z({error:V.error}):P({workerId:V.workerId})})})}),function(_){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=tt(function*(){var _=this;return new Promise(function(A,P){_.needsLoad()&&A({topology:"none"}),_.sendMessageToCallMachine({action:"get-network-topology"},function(z){z.error?P({error:z.error}):A({topology:z.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(_){if(Nt(),typeof _!="number"&&_!==!0&&_!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(_));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:_})}},{key:"on",value:function(_,A){return wx.prototype.on.call(this,_,A)}},{key:"once",value:function(_,A){return wx.prototype.once.call(this,_,A)}},{key:"off",value:function(_,A){return wx.prototype.off.call(this,_,A)}},{key:"validateProperties",value:function(_){var A,P;if(_!=null&&(A=_.dailyConfig)!==null&&A!==void 0&&A.userMediaAudioConstraints){var z,V;Ct()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var te=_.inputSettings||{};te.audio=((z=_.inputSettings)===null||z===void 0?void 0:z.audio)||{},te.audio.settings=((V=_.inputSettings)===null||V===void 0||(V=V.audio)===null||V===void 0?void 0:V.settings)||{},te.audio.settings=He(He({},te.audio.settings),_.dailyConfig.userMediaAudioConstraints),_.inputSettings=te,delete _.dailyConfig.userMediaAudioConstraints}if(_!=null&&(P=_.dailyConfig)!==null&&P!==void 0&&P.userMediaVideoConstraints){var Z,q;Ct()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var Q=_.inputSettings||{};Q.video=((Z=_.inputSettings)===null||Z===void 0?void 0:Z.video)||{},Q.video.settings=((q=_.inputSettings)===null||q===void 0||(q=q.video)===null||q===void 0?void 0:q.settings)||{},Q.video.settings=He(He({},Q.video.settings),_.dailyConfig.userMediaVideoConstraints),_.inputSettings=Q,delete _.dailyConfig.userMediaVideoConstraints}for(var ne in _)if(hc[ne]){if(hc[ne].validate&&!hc[ne].validate(_[ne],this))throw new Error("property '".concat(ne,"': ").concat(hc[ne].help))}else console.warn("Ignoring unrecognized property '".concat(ne,"'")),delete _[ne]}},{key:"assembleMeetingUrl",value:function(){var _,A,P=He(He({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(_=this.properties.dailyConfig)!==null&&_!==void 0&&_.proxyUrl?encodeURIComponent((A=this.properties.dailyConfig)===null||A===void 0?void 0:A.proxyUrl):void 0}),z=P.url.match(/\?/)?"&":"?";return P.url+z+Object.keys(hc).filter(function(V){return hc[V].queryString&&P[V]!==void 0}).map(function(V){return"".concat(hc[V].queryString,"=").concat(P[V])}).join("&")}},{key:"needsLoad",value:function(){return[dE,B3,Xo,Xi].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(_,A){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(_,A,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(_){this._messageChannel.forwardPackagedMessageToCallMachine(_,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(_){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(_,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(_){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(_)}},{key:"handleMessageFromCallMachine",value:function(_){switch(_.action){case GK:this.sendMessageToCallMachine(He({action:KK},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var A={action:Px,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:a0(this.properties.dailyConfig)}};this.sendMessageToCallMachine(A),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case fE:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(_);break;case tY:var P,z=He({},_);delete z.internal,this._maxAppMessageSize=((P=_.internal)===null||P===void 0?void 0:P._maxAppMessageSize)||B1,this._joinedCallback&&(this._joinedCallback(_.participants),this._joinedCallback=null),this.emitDailyJSEvent(z);break;case rY:case sY:if(this._callState===Xo)return;if(_.participant&&_.participant.session_id){var V=_.participant.local?"local":_.participant.session_id;if(this._callObjectMode){var te=this._callMachine().store;Z3(_.participant,te),eF(_.participant,te),tF(_.participant,this._participants[V],te)}try{this.maybeParticipantTracksStopped(this._participants[V],_.participant),this.maybeParticipantTracksStarted(this._participants[V],_.participant),this.maybeEventRecordingStopped(this._participants[V],_.participant),this.maybeEventRecordingStarted(this._participants[V],_.participant)}catch(ce){console.error("track events error",ce)}this.compareEqualForParticipantUpdateEvent(_.participant,this._participants[V])||(this._participants[V]=He({},_.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(_))}break;case aY:if(_.participant&&_.participant.session_id){var Z=this._participants[_.participant.session_id];Z&&this.maybeParticipantTracksStopped(Z,null),delete this._participants[_.participant.session_id],this.emitDailyJSEvent(_)}break;case iY:qr(this._participantCounts,_.participantCounts)||(this._participantCounts=_.participantCounts,this.emitDailyJSEvent(_));break;case oY:var q={access:_.access};_.awaitingAccess&&(q.awaitingAccess=_.awaitingAccess),qr(this._accessState,q)||(this._accessState=q,this.emitDailyJSEvent(_));break;case lY:if(_.meetingSession){this._meetingSessionSummary=_.meetingSession,this.emitDailyJSEvent(_);var Q=He(He({},_),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(Q)}break;case xE:var ne;this._iframe&&!_.preserveIframe&&(this._iframe.src=""),this._updateCallState(Xi),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(_.errorMsg),this._loadedCallback=null),_.preserveIframe;var pe=IL(_,hVe);pe!=null&&(ne=pe.error)!==null&&ne!==void 0&&ne.details&&(pe.error.details=JSON.parse(pe.error.details)),this._maybeSendToSentry(_),this._joinedCallback&&(this._joinedCallback(null,pe),this._joinedCallback=null),this.emitDailyJSEvent(pe);break;case nY:this._callState!==Xi&&this._updateCallState(Xo),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(_);break;case"selected-devices-updated":_.devices&&this.emitDailyJSEvent(_);break;case OY:var Se=_.state,qe=_.threshold,Ve=_.quality,We=Se.state,st=Se.reasons;We===this._network.networkState&&qr(st,this._network.networkStateReasons)&&qe===this._network.threshold&&Ve===this._network.quality||(this._network.networkState=We,this._network.networkStateReasons=st,this._network.quality=Ve,this._network.threshold=qe,_.networkState=We,st.length&&(_.networkStateReasons=st),delete _.state,this.emitDailyJSEvent(_));break;case DY:_&&_.cpuLoadState&&this.emitDailyJSEvent(_);break;case IY:_&&_.faceCounts!==void 0&&this.emitDailyJSEvent(_);break;case AY:var Ke=_.activeSpeaker;this._activeSpeaker.peerId!==Ke.peerId&&(this._activeSpeaker.peerId=Ke.peerId,this.emitDailyJSEvent({action:_.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var it=_.show;this._showLocalVideo=it,this.emitDailyJSEvent({action:_.action,show:it});break;case TY:var he=_.enabled;this._activeSpeakerMode!==he&&(this._activeSpeakerMode=he,this.emitDailyJSEvent({action:_.action,enabled:this._activeSpeakerMode}));break;case uY:case dY:case hY:this._waitingParticipants=_.allWaitingParticipants,this.emitDailyJSEvent({action:_.action,participant:_.participant});break;case UY:qr(this._receiveSettings,_.receiveSettings)||(this._receiveSettings=_.receiveSettings,this.emitDailyJSEvent({action:_.action,receiveSettings:_.receiveSettings}));break;case gE:this._maybeUpdateInputSettings(_.inputSettings);break;case"send-settings-updated":qr(this._sendSettings,_.sendSettings)||(this._sendSettings=_.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:_.action,sendSettings:_.sendSettings}));break;case"local-audio-level":this._localAudioLevel=_.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=_.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(_);break;case NY:var ge=_.session_id;this._rmpPlayerState[ge]=_.playerState,this.emitDailyJSEvent(_);break;case CY:delete this._rmpPlayerState[_.session_id],this.emitDailyJSEvent(_);break;case SY:var ae=_.session_id,Ne=this._rmpPlayerState[ae];Ne&&this.compareEqualForRMPUpdateEvent(Ne,_.remoteMediaPlayerState)||(this._rmpPlayerState[ae]=_.remoteMediaPlayerState,this.emitDailyJSEvent(_));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(_);break;case cY:var gt=this._meetingSessionState.topology!==(_.meetingSessionState&&_.meetingSessionState.topology);this._meetingSessionState=Y1(_.meetingSessionState,this._callObjectMode),(this._callObjectMode||gt)&&this.emitDailyJSEvent(_);break;case kY:this._isScreenSharing=!0,this.emitDailyJSEvent(_);break;case EY:case PY:this._isScreenSharing=!1,this.emitDailyJSEvent(_);break;case mE:case pE:case xY:case yY:case bY:case pY:case gY:case vY:case QK:case ZK:case jY:case _Y:case"test-completed":case MY:case wY:case RY:case $Y:case LY:case FY:case vE:case BY:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(_);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(_,A){var P="record";_&&(A.local||A[P]!==!1||_[P]===A[P]||this.emitDailyJSEvent({action:pE}))}},{key:"maybeEventRecordingStarted",value:function(_,A){var P="record";_&&(A.local||A[P]!==!0||_[P]===A[P]||this.emitDailyJSEvent({action:mE}))}},{key:"_trackStatePlayable",value:function(_){return!(!_||_.state!==zK)}},{key:"_trackChanged",value:function(_,A){return(_==null?void 0:_.id)!==(A==null?void 0:A.id)}},{key:"maybeEventTrackStopped",value:function(_,A,P){var z,V,te=(z=A==null?void 0:A.tracks[_])!==null&&z!==void 0?z:null,Z=(V=P==null?void 0:P.tracks[_])!==null&&V!==void 0?V:null,q=te==null?void 0:te.track;if(q){var Q=this._trackStatePlayable(te),ne=this._trackStatePlayable(Z),pe=this._trackChanged(q,Z==null?void 0:Z.track);Q&&(ne&&!pe||this.emitDailyJSEvent({action:mY,track:q,participant:P??A,type:_}))}}},{key:"maybeEventTrackStarted",value:function(_,A,P){var z,V,te=(z=A==null?void 0:A.tracks[_])!==null&&z!==void 0?z:null,Z=(V=P==null?void 0:P.tracks[_])!==null&&V!==void 0?V:null,q=Z==null?void 0:Z.track;if(q){var Q=this._trackStatePlayable(te),ne=this._trackStatePlayable(Z),pe=this._trackChanged(te==null?void 0:te.track,q);ne&&(Q&&!pe||this.emitDailyJSEvent({action:fY,track:q,participant:P,type:_}))}}},{key:"maybeParticipantTracksStopped",value:function(_,A){if(_)for(var P in _.tracks)this.maybeEventTrackStopped(P,_,A)}},{key:"maybeParticipantTracksStarted",value:function(_,A){if(A)for(var P in A.tracks)this.maybeEventTrackStarted(P,_,A)}},{key:"compareEqualForRMPUpdateEvent",value:function(_,A){var P,z;return _.state===A.state&&((P=_.settings)===null||P===void 0?void 0:P.volume)===((z=A.settings)===null||z===void 0?void 0:z.volume)}},{key:"emitDailyJSEvent",value:function(_){try{_.callClientId=this.callClientId,this.emit(_.action,_)}catch(A){console.log("could not emit",_,A)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(_,A){return!!qr(_,A)&&(!_.videoTrack||!A.videoTrack||_.videoTrack.id===A.videoTrack.id&&_.videoTrack.muted===A.videoTrack.muted&&_.videoTrack.enabled===A.videoTrack.enabled)&&(!_.audioTrack||!A.audioTrack||_.audioTrack.id===A.audioTrack.id&&_.audioTrack.muted===A.audioTrack.muted&&_.audioTrack.enabled===A.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ct()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(_){this._updateCallState(this._callState,_)}},{key:"_updateCallState",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(_!==this._callState||A!==this._isPreparingToJoin){var P=this._callState,z=this._isPreparingToJoin;this._callState=_,this._isPreparingToJoin=A;var V=this._callState===ll;this.updateShowAndroidOngoingMeetingNotification(V);var te=uy(P,z),Z=uy(this._callState,this._isPreparingToJoin);te!==Z&&(this.updateKeepDeviceAwake(Z),this.updateDeviceAudioMode(Z),this.updateNoOpRecordingEnsuringBackgroundContinuity(Z))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=fF,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:ly},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Y1(hF,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=B1,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(_){Ct()&&this.nativeUtils().setKeepDeviceAwake(_,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(_){if(Ct()&&!this.disableReactNativeAutoDeviceManagement("audio")){var A=_?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(A)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(_){if(Ct()&&this.nativeUtils().setShowOngoingMeetingNotification){var A,P,z,V;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var te=this.properties.reactNativeConfig.androidInCallNotification;A=te.title,P=te.subtitle,z=te.iconName,V=te.disableForCustomOverride}V&&(_=!1),this.nativeUtils().setShowOngoingMeetingNotification(_,A,P,z,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(_){Ct()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(_)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var _;if(Ct()){var A=(_=this._callMachine())===null||_===void 0||(_=_.store)===null||_===void 0?void 0:_.getState();for(var P in A==null?void 0:A.streams){var z=A.streams[P];z&&z.pendingTrack&&z.pendingTrack.kind==="audio"&&(z.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(_){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[_]}},{key:"absoluteUrl",value:function(_){if(_!==void 0){var A=document.createElement("a");return A.href=_,A.href}}},{key:"sayHello",value:function(){var _="hello, world.";return console.log(_),_}},{key:"_logUseAfterDestroy",value:function(){var _=Object.values(dc)[0];if(this.needsLoad())if(_&&!_.needsLoad()){var A={action:Px,level:"error",code:this.strictMode?9995:9997};_.sendMessageToCallMachine(A)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var P={action:Px,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(P,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var _=0,A=Object.values(dc);_<A.length;_++){var P=A[_];P._callMachineInitialized?(P.sendMessageToCallMachine({action:Px,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),P._delayDuplicateInstanceLog=!1):P._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(_){var A,P,z,V;if(!((A=_.error)!==null&&A!==void 0&&A.type&&(![HK,WK,hE].includes(_.error.type)||_.error.type===hE&&_.error.msg.includes("deleted")))){var te=(P=this.properties)!==null&&P!==void 0&&P.url?new URL(this.properties.url):void 0,Z="production";te&&te.host.includes(".staging.daily")&&(Z="staging");var q,Q,ne,pe,Se,qe=function(ge){const ae=[Ize(),Mze(),oqe(),aqe(),hqe(),mqe(),Fze(),fqe()];return ge.autoSessionTracking!==!1&&ae.push(dqe()),ae}({}).filter(function(ge){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(ge.name)}),Ve=new Gze({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:Qze,stackParser:sqe,integrations:qe,environment:Z}),We=new Vl;if(We.setClient(Ve),Ve.init(),this.session_id&&We.setExtra("sessionId",this.session_id),this.properties){var st=He({},this.properties);st.userName=st.userName?"[Filtered]":void 0,st.userData=st.userData?"[Filtered]":void 0,st.token=st.token?"[Filtered]":void 0,We.setExtra("properties",st)}if(te){var Ke=te.searchParams.get("domain");if(!Ke){var it=te.host.match(/(.*?)\./);Ke=it&&it[1]||""}Ke&&We.setTag("domain",Ke)}_.error&&(We.setTag("fatalErrorType",_.error.type),We.setExtra("errorDetails",_.error.details),!((q=_.error.details)===null||q===void 0)&&q.uri&&We.setTag("serverAddress",_.error.details.uri),!((Q=_.error.details)===null||Q===void 0)&&Q.workerGroup&&We.setTag("workerGroup",_.error.details.workerGroup),!((ne=_.error.details)===null||ne===void 0)&&ne.geoGroup&&We.setTag("geoGroup",_.error.details.geoGroup),!((pe=_.error.details)===null||pe===void 0)&&pe.on&&We.setTag("connectionAttempt",_.error.details.on),(Se=_.error.details)!==null&&Se!==void 0&&Se.bundleUrl&&(We.setTag("bundleUrl",_.error.details.bundleUrl),We.setTag("bundleError",_.error.details.sourceError.type))),We.setTags({callMode:this._callObjectMode?Ct()?"reactNative":(z=this.properties)!==null&&z!==void 0&&(z=z.dailyConfig)!==null&&z!==void 0&&(z=z.callMode)!==null&&z!==void 0&&z.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var he=((V=_.error)===null||V===void 0?void 0:V.msg)||_.errorMsg;We.captureException(new Error(he))}}},{key:"_callMachine",value:function(){var _;return(_=window._daily)===null||_===void 0||(_=_.instances)===null||_===void 0||(_=_[this.callClientId])===null||_===void 0?void 0:_.callMachine}},{key:"_maybeUpdateInputSettings",value:function(_){if(!qr(this._inputSettings,_)){var A=this._getInputSettings();this._inputSettings=_;var P=this._getInputSettings();qr(A,P)||this.emitDailyJSEvent({action:gE,inputSettings:P})}}}],[{key:"supportedBrowser",value:function(){if(Ct())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var _=tze.getParser(ja());return{supported:!!q1(),mobile:_.getPlatformType()==="mobile",name:_.getBrowserName(),version:_.getBrowserVersion(),supportsFullscreen:!!H3(),supportsScreenShare:!!Uqe(),supportsSfu:!!q1(),supportsVideoProcessing:VY(),supportsAudioProcessing:WY()}}},{key:"version",value:function(){return"0.84.0"}},{key:"createCallObject",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _.layout="none",new e(null,_)}},{key:"wrap",value:function(_){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Nt(),!_||!_.contentWindow||typeof _.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return A.layout||(A.customLayout?A.layout="custom-v1":A.layout="browser"),new e(_,A)}},{key:"createFrame",value:function(_,A){var P,z;Nt(),_&&A?(P=_,z=A):_&&_.append?(P=_,z={}):(P=document.body,z=_||{});var V=z.iframeStyle;V||(V=P===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var te=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?te.allow="microphone, camera":te.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",te.style.visibility="hidden",P.appendChild(te),te.style.visibility=null,Object.keys(V).forEach(function(Z){return te.style[Z]=V[Z]}),z.layout||(z.customLayout?z.layout="custom-v1":z.layout="browser");try{return new e(te,z)}catch(Z){throw P.removeChild(te),Z}}},{key:"createTransparentFrame",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nt();var A=document.createElement("iframe");return A.allow="microphone; camera; autoplay",A.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(A),_.layout||(_.layout="custom-v1"),e.wrap(A,_)}},{key:"getCallInstance",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return _?dc[_]:Object.values(dc)[0]}}]);var t,n,r,a,i,o,l,c,u,d,h,f,m,g,p,v,x,b,w,j,S,N,C,k,D,R,E,B,F,L,I,O,$,T,U,M,Y,ee}();function gF(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Ju(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=co;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Zt(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==ll){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function uy(e,t){return[d0,ll].includes(e)||t}function G1(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(uy(e,t)){var a="".concat(n," not supported after joining a meeting.");throw r&&(a+=" ".concat(r)),console.error(a),new Error(a)}}function Ox(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function K1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Aa(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function Ss(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Nt(){if(Ct())throw new Error("This daily-js method is not currently supported in React Native")}function fm(){if(!Ct())throw new Error("This daily-js method is only supported in React Native")}function sJ(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),qr(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function aJ(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},a=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!a(h.video))&&!(h.screenVideo&&!a(h.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=Ar(l[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function iJ(e){if(At(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ar(n[t],2),a=r[0],i=r[1];switch(a){case"video":if(At(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=Ar(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!gVe(d))return!1;break;case"settings":if(!vF(d))return!1;break;default:return!1}}break;case"audio":if(At(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Ar(f[h],2),g=m[0],p=m[1];switch(g){case"processor":if(!pVe(p))return!1;break;case"settings":if(!vF(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function oJ(e,t,n){var r,a=[];e.video&&e.video.processor&&(VY((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(WY()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:co}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:co}):delete n.videoTrack)}function pVe(e){if(Ct())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&At(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(zY).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function gVe(e){if(Ct())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||At(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(cy).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(At(e.config)!=="object"||!function(n,r){var a=Object.keys(r);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case cy.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case cy.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(i0(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return z1.includes(f)}catch(g){return console.error("failed to deduce blob content type",g),!1}var m=h.split(".").at(-1).toLowerCase().trim();return z1.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(z1.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function vF(e){return At(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function SE(){var e=Object.values(cy).join(" | "),t=Object.values(zY).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function lJ(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(VK).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function cJ(){return"customIntegrations should be an object of type ".concat(JSON.stringify(NE),".")}function uJ(e){if(e&&At(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(m0),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Ar(n[t],1)[0],a=0,i=Object.entries(e[r]);a<i.length;a++){var o=Ar(i[a],2),l=o[0],c=o[1],u=m0.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!i0(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(At(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function dJ(e){if(!e||e&&At(e)!=="object"||Array.isArray(e))return console.error(cJ()),!1;for(var t=function(h){return"".concat(h," should be ").concat(NE.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,a=Object.entries(e);r<a.length;r++){var i=Ar(a[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=Ar(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!i0(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!i0(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!NE.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function hJ(e,t){if(t===void 0)return!1;switch(At(t)){case"string":return At(e)===t;case"object":if(At(e)!=="object")return!1;for(var n in e)if(!hJ(e[n],t[n]))return!1;return!0;default:return!1}}function xF(e,t){var n=e.sessionId,r=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function yF(e){if(At(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(yE).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(yE));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function bF(e,t,n){return!(typeof e!="number"||e<t||e>n)}function Y1(e,t){return e&&!t&&delete e.data,e}const vVe=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:qK,DAILY_ACCESS_LEVEL_LOBBY:bqe,DAILY_ACCESS_LEVEL_NONE:wqe,DAILY_ACCESS_UNKNOWN:ly,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:Oqe,DAILY_CAMERA_ERROR_CAM_IN_USE:Aqe,DAILY_CAMERA_ERROR_CONSTRAINTS:Rqe,DAILY_CAMERA_ERROR_MIC_IN_USE:Tqe,DAILY_CAMERA_ERROR_NOT_FOUND:Iqe,DAILY_CAMERA_ERROR_PERMISSIONS:Mqe,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:Dqe,DAILY_CAMERA_ERROR_UNKNOWN:$qe,DAILY_EVENT_ACCESS_STATE_UPDATED:oY,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:AY,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:TY,DAILY_EVENT_APP_MSG:jY,DAILY_EVENT_CAMERA_ERROR:ZK,DAILY_EVENT_CPU_LOAD_CHANGE:DY,DAILY_EVENT_ERROR:xE,DAILY_EVENT_EXIT_FULLSCREEN:Cm,DAILY_EVENT_FACE_COUNTS_UPDATED:IY,DAILY_EVENT_FULLSCREEN:Sm,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:KK,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:GK,DAILY_EVENT_INPUT_SETTINGS_UPDATED:gE,DAILY_EVENT_JOINED_MEETING:tY,DAILY_EVENT_JOINING_MEETING:eY,DAILY_EVENT_LANG_UPDATED:BY,DAILY_EVENT_LEFT_MEETING:nY,DAILY_EVENT_LIVE_STREAMING_ERROR:FY,DAILY_EVENT_LIVE_STREAMING_STARTED:RY,DAILY_EVENT_LIVE_STREAMING_STOPPED:LY,DAILY_EVENT_LIVE_STREAMING_UPDATED:$Y,DAILY_EVENT_LOADED:fE,DAILY_EVENT_LOADING:JK,DAILY_EVENT_LOAD_ATTEMPT_FAILED:XK,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:PY,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:kY,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:EY,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:Lqe,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:cY,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:lY,DAILY_EVENT_NETWORK_CONNECTION:MY,DAILY_EVENT_NETWORK_QUALITY_CHANGE:OY,DAILY_EVENT_NONFATAL_ERROR:vE,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:iY,DAILY_EVENT_PARTICIPANT_JOINED:rY,DAILY_EVENT_PARTICIPANT_LEFT:aY,DAILY_EVENT_PARTICIPANT_UPDATED:sY,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:UY,DAILY_EVENT_RECORDING_DATA:wY,DAILY_EVENT_RECORDING_ERROR:yY,DAILY_EVENT_RECORDING_STARTED:mE,DAILY_EVENT_RECORDING_STATS:xY,DAILY_EVENT_RECORDING_STOPPED:pE,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:bY,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:NY,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:CY,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:SY,DAILY_EVENT_STARTED_CAMERA:QK,DAILY_EVENT_THEME_UPDATED:YK,DAILY_EVENT_TRACK_STARTED:fY,DAILY_EVENT_TRACK_STOPPED:mY,DAILY_EVENT_TRANSCRIPTION_ERROR:vY,DAILY_EVENT_TRANSCRIPTION_MSG:_Y,DAILY_EVENT_TRANSCRIPTION_STARTED:pY,DAILY_EVENT_TRANSCRIPTION_STOPPED:gY,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:uY,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:hY,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:dY,DAILY_FATAL_ERROR_CONNECTION:HK,DAILY_FATAL_ERROR_EJECTED:_qe,DAILY_FATAL_ERROR_EOL:WK,DAILY_FATAL_ERROR_EXP_ROOM:Cqe,DAILY_FATAL_ERROR_EXP_TOKEN:kqe,DAILY_FATAL_ERROR_MEETING_FULL:Eqe,DAILY_FATAL_ERROR_NBF_ROOM:Nqe,DAILY_FATAL_ERROR_NBF_TOKEN:Sqe,DAILY_FATAL_ERROR_NOT_ALLOWED:Pqe,DAILY_FATAL_ERROR_NO_ROOM:hE,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:jqe,DAILY_RECEIVE_SETTINGS_BASE_KEY:VK,DAILY_STATE_ERROR:Xi,DAILY_STATE_JOINED:ll,DAILY_STATE_JOINING:d0,DAILY_STATE_LEFT:Xo,DAILY_STATE_NEW:dE,DAILY_TRACK_STATE_BLOCKED:pqe,DAILY_TRACK_STATE_INTERRUPTED:yqe,DAILY_TRACK_STATE_LOADING:xqe,DAILY_TRACK_STATE_OFF:gqe,DAILY_TRACK_STATE_PLAYABLE:zK,DAILY_TRACK_STATE_SENDABLE:vqe,default:mVe},Symbol.toStringTag,{value:"Module"})),xVe=n5(vVe);var TT={exports:{}},Rd=typeof Reflect=="object"?Reflect:null,wF=Rd&&typeof Rd.apply=="function"?Rd.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},dy;Rd&&typeof Rd.ownKeys=="function"?dy=Rd.ownKeys:Object.getOwnPropertySymbols?dy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:dy=function(t){return Object.getOwnPropertyNames(t)};function yVe(e){console&&console.warn&&console.warn(e)}var fJ=Number.isNaN||function(t){return t!==t};function Jt(){Jt.init.call(this)}TT.exports=Jt;TT.exports.once=_Ve;Jt.EventEmitter=Jt;Jt.prototype._events=void 0;Jt.prototype._eventsCount=0;Jt.prototype._maxListeners=void 0;var jF=10;function Tj(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Jt,"defaultMaxListeners",{enumerable:!0,get:function(){return jF},set:function(e){if(typeof e!="number"||e<0||fJ(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");jF=e}});Jt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Jt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||fJ(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function mJ(e){return e._maxListeners===void 0?Jt.defaultMaxListeners:e._maxListeners}Jt.prototype.getMaxListeners=function(){return mJ(this)};Jt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a=t==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")wF(c,this,n);else for(var u=c.length,d=yJ(c,u),r=0;r<u;++r)wF(d[r],this,n);return!0};function pJ(e,t,n,r){var a,i,o;if(Tj(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),a=mJ(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,yVe(l)}return e}Jt.prototype.addListener=function(t,n){return pJ(this,t,n,!1)};Jt.prototype.on=Jt.prototype.addListener;Jt.prototype.prependListener=function(t,n){return pJ(this,t,n,!0)};function bVe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gJ(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=bVe.bind(r);return a.listener=n,r.wrapFn=a,a}Jt.prototype.once=function(t,n){return Tj(n),this.on(t,gJ(this,t,n)),this};Jt.prototype.prependOnceListener=function(t,n){return Tj(n),this.prependListener(t,gJ(this,t,n)),this};Jt.prototype.removeListener=function(t,n){var r,a,i,o,l;if(Tj(n),a=this._events,a===void 0)return this;if(r=a[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():wVe(r,i),r.length===1&&(a[t]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};Jt.prototype.off=Jt.prototype.removeListener;Jt.prototype.removeAllListeners=function(t){var n,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(a=0;a<i.length;++a)o=i[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this};function vJ(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?jVe(a):yJ(a,a.length)}Jt.prototype.listeners=function(t){return vJ(this,t,!0)};Jt.prototype.rawListeners=function(t){return vJ(this,t,!1)};Jt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):xJ.call(e,t)};Jt.prototype.listenerCount=xJ;function xJ(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Jt.prototype.eventNames=function(){return this._eventsCount>0?dy(this._events):[]};function yJ(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function wVe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function jVe(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function _Ve(e,t){return new Promise(function(n,r){function a(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),n([].slice.call(arguments))}bJ(e,t,i,{once:!0}),t!=="error"&&NVe(e,a,{once:!0})})}function NVe(e,t,n){typeof e.on=="function"&&bJ(e,"error",t,n)}function bJ(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var SVe=TT.exports,Oj={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.Api=Ml.HttpClient=Ml.ContentType=void 0;var Oe;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Oe||(Ml.ContentType=Oe={}));class wJ{constructor(t={}){ut(this,"baseUrl","https://api.vapi.ai");ut(this,"securityData",null);ut(this,"securityWorker");ut(this,"abortControllers",new Map);ut(this,"customFetch",(...t)=>fetch(...t));ut(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ut(this,"setSecurityData",t=>{this.securityData=t});ut(this,"contentFormatters",{[Oe.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Oe.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Oe.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Oe.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const a=t[r];return n.append(r,a instanceof Blob?a:typeof a=="object"&&a!==null?JSON.stringify(a):`${a}`),n},new FormData),[Oe.UrlEncoded]:t=>this.toQueryString(t)});ut(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});ut(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});ut(this,"request",async({body:t,secure:n,path:r,type:a,query:i,format:o,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),m=this.contentFormatters[a||Oe.Json],g=o||h.format;return this.customFetch(`${l||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...a&&a!==Oe.FormData?{"Content-Type":a}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const v=p;v.data=null,v.error=null;const x=g?p.clone():p,b=g?await x[g]().then(w=>(v.ok?v.data=w:v.error=w,v)).catch(w=>(v.error=w,v)):v;if(c&&this.abortControllers.delete(c),!p.ok)throw b;return b})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(a=>this.encodeQueryParam(n,a)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(a=>typeof n[a]<"u").map(a=>Array.isArray(n[a])?this.addArrayQueryParam(n,a):this.addQueryParam(n,a)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}Ml.HttpClient=wJ;class CVe extends wJ{constructor(){super(...arguments);ut(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),assistantControllerReplace:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Oe.Json,format:"json",...a}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,a={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...a})});ut(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});ut(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,a={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,a={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a})});ut(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,a={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),callControllerDeleteCallData:(n,r={})=>this.request({path:`/call/${n}`,method:"DELETE",secure:!0,format:"json",...r}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r})});ut(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r})});ut(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,a={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,a={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,a={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,a={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Oe.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Oe.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,a={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,a={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,a,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:a,secure:!0,type:Oe.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,a={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteTestControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Oe.Json,format:"json",...a}),testSuiteTestControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteTestControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:a,secure:!0,type:Oe.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...a}),testSuiteRunControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteRunControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Oe.Json,format:"json",...a}),testSuiteRunControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteRunControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:a,secure:!0,type:Oe.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...a})});ut(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,a={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Oe.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});ut(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,a={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,a={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...a}),orgControllerUsersInvite:(n,r,a={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Oe.Json,...a}),orgControllerUserUpdate:(n,r,a={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Oe.Json,...a}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});ut(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,a={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,a={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r}),credentialControllerGenerateSession:(n,r={})=>this.request({path:"/credential/session",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),credentialControllerHandleWebhook:(n,r={})=>this.request({path:"/credential/webhook",method:"POST",body:n,type:Oe.Json,...r}),credentialControllerTriggerCredentialAction:(n,r={})=>this.request({path:"/credential/trigger",method:"POST",body:n,secure:!0,type:Oe.Json,...r})});ut(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,a={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Oe.Json,format:"json",...a}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ut(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,a={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Oe.Json,...r})});ut(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,a={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...a}),providerResourceControllerGetProviderResourcesPaginated:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:a,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,a={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...a}),providerControllerGetWorkflowTriggerHook:(n,r,a={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...a}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,a={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerSearchVoice:(n,r,a={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerAddVoices:(n,r,a={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Oe.Json,format:"json",...a}),voiceProviderControllerAddVoice:(n,r,a={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Oe.Json,format:"json",...a})});ut(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Oe.FormData,...r})});ut(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Oe.Json,format:"json",...r})})}}Ml.Api=CVe;Object.defineProperty(Oj,"__esModule",{value:!0});Oj.client=void 0;const kVe=Ml,EVe=new kVe.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});Oj.client=EVe;var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});Tf.createSafeDailyConfig=PVe;Tf.safeSetLocalAudio=AVe;Tf.safeSetInputDevicesAsync=TVe;Tf.createSafeDailyFactoryOptions=OVe;function PVe(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function AVe(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function TVe(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function OVe(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var jJ=Cn&&Cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_K,"__esModule",{value:!0});const _F=jJ(xVe),MVe=jJ(SVe),J1=Oj,fc=Tf;async function DVe(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function NF(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await DVe(n,e),n}function SF(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function CF(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class IVe extends MVe.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class RVe extends IVe{constructor(n,r,a,i){super();ut(this,"started",!1);ut(this,"call",null);ut(this,"speakingTimeout",null);ut(this,"dailyCallConfig",{});ut(this,"dailyCallObject",{});ut(this,"hasEmittedCallEndedStatus",!1);J1.client.baseUrl=r??"https://api.vapi.ai",J1.client.setSecurityData(n),this.dailyCallConfig=(0,fc.createSafeDailyConfig)(a),this.dailyCallObject=(0,fc.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,a,i,o,l){var u,d,h,f,m,g,p;const c=Date.now();if(!n&&!a&&!i){const v=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",message:v.message,timestamp:new Date().toISOString()}),v}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const v=Date.now(),x=(await J1.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof a=="string"?void 0:a,squadId:typeof a=="string"?a:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,b=Date.now()-v;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{callId:(x==null?void 0:x.id)||"unknown",videoRecordingEnabled:((u=x==null?void 0:x.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=x==null?void 0:x.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const w=((f=x==null?void 0:x.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,j=((g=(m=x==null?void 0:x.assistant)==null?void 0:m.voice)==null?void 0:g.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,isVideoRecordingEnabled:w,isVideoEnabled:j}});const S=Date.now();try{this.call=_F.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??w,dailyConfig:this.dailyCallConfig});const E=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-S;throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:E,timestamp:new Date().toISOString()}),E}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var E;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),w&&((E=this.call)==null||E.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",E=>{var B;this.emit("error",E),w&&((B=this.call)==null||B.stopRecording())}),this.call.on("camera-error",E=>{this.emit("camera-error",E)}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{var B,F,L;!E||!E.participant||(B=E.participant)!=null&&B.local||((F=E.participant)==null?void 0:F.user_name)==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await NF(E.track,E.participant.session_id),(L=this.call)==null||L.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||CF(E,this.call,w,j)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&SF(E.participant.session_id)});const N=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:N}}),N){const E=Date.now();await this.sleep(1e3);const B=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:B,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();try{await this.call.join({url:x.webCallUrl,subscribeToTracksAutomatically:!1});const E=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-C;throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:E,duration:B,timestamp:new Date().toISOString()}),E}if(w){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const E=new Date().getTime(),B=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const F=Date.now()-B;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:F,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const L=(new Date().getTime()-E)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(F){const L=Date.now()-B;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:F==null?void 0:F.toString()}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:F,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const E=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:E,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{var B;(E==null?void 0:E.type)==="audio-processor-error"&&((B=this.call)==null||B.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,fc.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const E=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:E,timestamp:new Date().toISOString()})}const R=Date.now()-c;return this.emit("call-start-success",{totalDuration:R,callId:(x==null?void 0:x.id)||"unknown",timestamp:new Date().toISOString()}),x}catch(v){const x=Date.now()-c;return this.emit("call-start-failed",{stage:"unknown",totalDuration:x,error:(v==null?void 0:v.toString())||"Unknown error occurred",errorStack:v instanceof Error?v.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:v,totalDuration:x,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,fc.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,a,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:a??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,fc.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new AudioContext,i=a.createMediaStreamSource(r),o=a.createGain();o.gain.value=n,i.connect(o);const l=a.createMediaStreamDestination();o.connect(l);const[c]=l.stream.getAudioTracks();await(0,fc.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var a;(a=this.call)==null||a.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var a,i,o,l,c,u,d,h,f,m,g,p,v;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((a=n==null?void 0:n.artifactPlan)!=null&&a.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const x=((l=n==null?void 0:n.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,b=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??x,isVideoRecordingEnabled:x,isVideoEnabled:b}});const w=Date.now();this.call=_F.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??x,dailyConfig:this.dailyCallConfig});const j=Date.now()-w;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:j,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var E;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),x&&((E=this.call)==null||E.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",E=>{var B;this.emit("error",E),x&&((B=this.call)==null||B.stopRecording())}),this.call.on("camera-error",E=>{this.emit("camera-error",E)}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{var B,F,L;!E||!E.participant||(B=E.participant)!=null&&B.local||((F=E.participant)==null?void 0:F.user_name)==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await NF(E.track,E.participant.session_id),(L=this.call)==null||L.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||CF(E,this.call,x,b)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&SF(E.participant.session_id)}),this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{var B;(E==null?void 0:E.type)==="audio-processor-error"&&((B=this.call)==null||B.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,fc.safeSetLocalAudio)(this.call,!0)}))});const S=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:S}}),S){const E=Date.now();await this.sleep(1e3);const B=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:B,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const N=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const C=Date.now()-N;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:C,timestamp:new Date().toISOString()}),x){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const E=Date.now(),B=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const F=Date.now()-E;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:F,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const L=(new Date().getTime()-B)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(F){const L=Date.now()-E;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:F==null?void 0:F.toString()}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const E=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const E=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const B=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:B,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}})}const R=Date.now()-r;this.emit("call-start-success",{totalDuration:R,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(x){const b=Date.now()-r;throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:b,error:(x==null?void 0:x.toString())||"Unknown error occurred",errorStack:x instanceof Error?x.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:x,totalDuration:b,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((g=n==null?void 0:n.artifactPlan)!=null&&g.videoRecordingEnabled),voiceProvider:((v=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:v.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),x}}}var $Ve=_K.default=RVe;function LVe(){const{assistantId:e}=ew(),t=Mr(),{toast:n}=vn(),{user:r}=qt(),[a,i]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(null),v=y.useRef(null),[x,b]=y.useState({name:"",firstMessage:"",firstMessageMode:"assistant-speaks-first",voiceProvider:"11labs",voiceId:"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:"openai",model:"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"});y.useEffect(()=>{w()},[e]);const w=async()=>{try{const{data:N,error:C}=await K.from("voice_assistants").select("*").eq("id",e).single();if(C)throw C;p(N),b({name:N.name||"",firstMessage:N.first_message||"",firstMessageMode:"assistant-speaks-first",voiceProvider:N.voice_provider||"11labs",voiceId:N.voice_id||"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:N.model_provider||"openai",model:N.model||"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:N.transcriber_provider||"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"})}catch(N){n({title:"Error",description:N.message,variant:"destructive"})}finally{i(!1)}},j=async()=>{l(!0);try{const N={name:"name",firstMessage:"first_message",voiceProvider:"voice_provider",voiceId:"voice_id",modelProvider:"model_provider",model:"model"},C={},k={};if(g)for(const[R,E]of Object.entries(N)){const B=g[E],F=x[R];B!==F&&(C[E]=B,k[E]=F)}const D={name:x.name,firstMessage:x.firstMessage,firstMessageMode:x.firstMessageMode,voice:{provider:x.voiceProvider,voiceId:x.voiceId},model:{provider:x.modelProvider,model:x.model,temperature:x.temperature,maxTokens:x.maxTokens,emotionRecognitionEnabled:x.emotionRecognitionEnabled},transcriber:{provider:x.transcriberProvider,model:x.transcriberModel,language:x.transcriberLanguage},silenceTimeoutSeconds:x.silenceTimeoutSeconds,responseDelaySeconds:x.responseDelaySeconds,llmRequestDelaySeconds:x.llmRequestDelaySeconds,numWordsToInterruptAssistant:x.numWordsToInterruptAssistant,maxDurationSeconds:x.maxDurationSeconds,endCallMessage:x.endCallMessage,endCallPhrases:x.endCallPhrases,recordingEnabled:x.recordingEnabled,hipaaEnabled:x.hipaaEnabled,backchannelingEnabled:x.backchannelingEnabled,backgroundDenoisingEnabled:x.backgroundDenoisingEnabled,modelOutputInMessagesEnabled:x.modelOutputInMessagesEnabled,backgroundSound:x.backgroundSound};if(x.voiceProvider==="11labs"&&(D.voice.stability=x.voiceStability,D.voice.similarityBoost=x.voiceSimilarityBoost),(x.voiceProvider==="playht"||x.voiceProvider==="rime-ai")&&(D.voice.speed=x.voiceSpeed),x.voicemailDetectionEnabled&&(D.voicemailDetection={enabled:!0,provider:"twilio"},D.voicemailMessage=x.voicemailMessage),await vLe(e,D),Object.keys(k).length>0&&e&&r){const R=Object.keys(k).join(", ");await K.from("changelog_entries").insert({user_id:r.id,entity_type:"voice_assistant",entity_id:e,change_type:"update",title:`Configuration updated: ${R}`,description:`Updated settings for assistant "${x.name}"`,previous_values:C,new_values:k,status:null,source:"auto"})}n({title:"Success",description:"Voice assistant updated successfully"}),t("/voice-assistants")}catch(N){n({title:"Error",description:N.message,variant:"destructive"})}finally{l(!1)}},S=async()=>{if(d&&v.current){v.current.stop(),h(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"});return}u(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0});const N=await yLe();if(!(N!=null&&N.publicKey))throw new Error("No Vapi public key available. Please reconnect your Vapi account.");v.current||(v.current=new $Ve(N.publicKey)),v.current.on("call-start",()=>{console.log("Call started"),h(!0),n({title:"Call Started",description:"You're now connected to the voice assistant. Speak to test it!"})}),v.current.on("call-end",()=>{console.log("Call ended"),h(!1),m(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"})}),v.current.on("speech-start",()=>{console.log("Assistant started speaking"),m(!0)}),v.current.on("speech-end",()=>{console.log("Assistant stopped speaking"),m(!1)}),v.current.on("error",C=>{console.error("Vapi error:",C),h(!1),u(!1),n({title:"Call Error",description:C.message||"An error occurred during the call",variant:"destructive"})}),v.current.on("message",C=>{console.log("Vapi message:",C)}),await v.current.start(e)}catch(N){console.error("Test error:",N),h(!1),u(!1),N.name==="NotAllowedError"?n({title:"Microphone Access Denied",description:"Please allow microphone access to test the voice assistant",variant:"destructive"}):n({title:"Error",description:N.message||"Failed to start test call. Make sure you have an active Vapi connection.",variant:"destructive"})}finally{d||u(!1)}};return y.useEffect(()=>()=>{v.current&&d&&v.current.stop()},[d]),a?s.jsx(br,{children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(ds,{className:"h-8 w-8 animate-spin"})})}):s.jsx(br,{children:s.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t("/voice-assistants"),children:s.jsx(pr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Voice Assistant"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your Vapi assistant settings"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:d?"destructive":"outline",onClick:S,disabled:c&&!d,children:[c&&!d?s.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"}):d?s.jsx(Ite,{className:"h-4 w-4 mr-2"}):s.jsx(It,{className:"h-4 w-4 mr-2"}),d?"End Call":"Test Assistant"]}),s.jsxs(X,{onClick:j,disabled:o,children:[o?s.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),d&&s.jsx(W,{className:"mb-6 border-primary bg-primary/5",children:s.jsx(G,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(JB,{className:`h-5 w-5 ${f?"text-muted-foreground":"text-primary"}`}),!f&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f?"Assistant is speaking...":"Listening..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"The assistant is responding to you":"Speak now to interact with the assistant"})]})]})})}),s.jsxs(Nf,{defaultValue:"basic",className:"space-y-6",children:[s.jsxs(Eu,{className:"grid w-full grid-cols-6",children:[s.jsx(Kt,{value:"basic",children:"Basic"}),s.jsx(Kt,{value:"voice",children:"Voice"}),s.jsx(Kt,{value:"model",children:"Model"}),s.jsx(Kt,{value:"transcriber",children:"Transcriber"}),s.jsx(Kt,{value:"call",children:"Call Settings"}),s.jsx(Kt,{value:"features",children:"Features"})]}),s.jsx(Yt,{value:"basic",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Basic Information"}),s.jsx(xe,{children:"Configure the basic settings for your assistant"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"name",children:"Assistant Name"}),s.jsx(le,{id:"name",value:x.name,onChange:N=>b({...x,name:N.target.value}),placeholder:"My Assistant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"firstMessage",children:"First Message"}),s.jsx(xt,{id:"firstMessage",value:x.firstMessage,onChange:N=>b({...x,firstMessage:N.target.value}),placeholder:"Hello! How can I help you today?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"firstMessageMode",children:"First Message Mode"}),s.jsxs(Ue,{value:x.firstMessageMode,onValueChange:N=>b({...x,firstMessageMode:N}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"assistant-speaks-first",children:"Assistant Speaks First"}),s.jsx(oe,{value:"assistant-waits",children:"Assistant Waits"}),s.jsx(oe,{value:"assistant-speaks-first-with-model-generated-message",children:"AI Generated First Message"})]})]})]})]})]})}),s.jsx(Yt,{value:"voice",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Voice Configuration"}),s.jsx(xe,{children:"Configure the voice settings for your assistant"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"voiceProvider",children:"Voice Provider"}),s.jsxs(Ue,{value:x.voiceProvider,onValueChange:N=>b({...x,voiceProvider:N}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"11labs",children:"ElevenLabs"}),s.jsx(oe,{value:"playht",children:"PlayHT"}),s.jsx(oe,{value:"rime-ai",children:"Rime AI"}),s.jsx(oe,{value:"deepgram",children:"Deepgram"}),s.jsx(oe,{value:"openai",children:"OpenAI"}),s.jsx(oe,{value:"azure",children:"Azure"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"voiceId",children:"Voice ID"}),s.jsx(le,{id:"voiceId",value:x.voiceId,onChange:N=>b({...x,voiceId:N.target.value}),placeholder:"Enter voice ID"})]}),x.voiceProvider==="11labs"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:"voiceStability",children:["Voice Stability: ",x.voiceStability]}),s.jsx(le,{id:"voiceStability",type:"range",min:"0",max:"1",step:"0.01",value:x.voiceStability,onChange:N=>b({...x,voiceStability:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:"voiceSimilarityBoost",children:["Similarity Boost: ",x.voiceSimilarityBoost]}),s.jsx(le,{id:"voiceSimilarityBoost",type:"range",min:"0",max:"1",step:"0.01",value:x.voiceSimilarityBoost,onChange:N=>b({...x,voiceSimilarityBoost:parseFloat(N.target.value)})})]})]}),(x.voiceProvider==="playht"||x.voiceProvider==="rime-ai")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:"voiceSpeed",children:["Voice Speed: ",x.voiceSpeed]}),s.jsx(le,{id:"voiceSpeed",type:"range",min:"0.5",max:"2",step:"0.1",value:x.voiceSpeed,onChange:N=>b({...x,voiceSpeed:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"backgroundSound",children:"Background Sound"}),s.jsxs(Ue,{value:x.backgroundSound,onValueChange:N=>b({...x,backgroundSound:N}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"off",children:"Off"}),s.jsx(oe,{value:"office",children:"Office"}),s.jsx(oe,{value:"cafe",children:"Cafe"}),s.jsx(oe,{value:"nature",children:"Nature"})]})]})]})]})]})}),s.jsx(Yt,{value:"model",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"AI Model Configuration"}),s.jsx(xe,{children:"Configure the language model settings"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"modelProvider",children:"Model Provider"}),s.jsxs(Ue,{value:x.modelProvider,onValueChange:N=>b({...x,modelProvider:N}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"openai",children:"OpenAI"}),s.jsx(oe,{value:"anthropic",children:"Anthropic"}),s.jsx(oe,{value:"together-ai",children:"Together AI"}),s.jsx(oe,{value:"groq",children:"Groq"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"model",children:"Model"}),s.jsx(le,{id:"model",value:x.model,onChange:N=>b({...x,model:N.target.value}),placeholder:"gpt-4"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{htmlFor:"temperature",children:["Temperature: ",x.temperature]}),s.jsx(le,{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:x.temperature,onChange:N=>b({...x,temperature:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"maxTokens",children:"Max Tokens"}),s.jsx(le,{id:"maxTokens",type:"number",value:x.maxTokens,onChange:N=>b({...x,maxTokens:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rt,{id:"emotionRecognition",checked:x.emotionRecognitionEnabled,onCheckedChange:N=>b({...x,emotionRecognitionEnabled:N})}),s.jsx(J,{htmlFor:"emotionRecognition",children:"Enable Emotion Recognition"})]})]})]})}),s.jsx(Yt,{value:"transcriber",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Transcriber Configuration"}),s.jsx(xe,{children:"Configure speech-to-text settings"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"transcriberProvider",children:"Transcriber Provider"}),s.jsxs(Ue,{value:x.transcriberProvider,onValueChange:N=>b({...x,transcriberProvider:N}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"deepgram",children:"Deepgram"}),s.jsx(oe,{value:"gladia",children:"Gladia"}),s.jsx(oe,{value:"talkscriber",children:"Talkscriber"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"transcriberModel",children:"Model"}),s.jsx(le,{id:"transcriberModel",value:x.transcriberModel,onChange:N=>b({...x,transcriberModel:N.target.value}),placeholder:"nova-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"transcriberLanguage",children:"Language"}),s.jsx(le,{id:"transcriberLanguage",value:x.transcriberLanguage,onChange:N=>b({...x,transcriberLanguage:N.target.value}),placeholder:"en"})]})]})]})}),s.jsx(Yt,{value:"call",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Call Settings"}),s.jsx(xe,{children:"Configure call behavior and timing"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"silenceTimeout",children:"Silence Timeout (seconds)"}),s.jsx(le,{id:"silenceTimeout",type:"number",value:x.silenceTimeoutSeconds,onChange:N=>b({...x,silenceTimeoutSeconds:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"responseDelay",children:"Response Delay (seconds)"}),s.jsx(le,{id:"responseDelay",type:"number",step:"0.1",value:x.responseDelaySeconds,onChange:N=>b({...x,responseDelaySeconds:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"llmRequestDelay",children:"LLM Request Delay (seconds)"}),s.jsx(le,{id:"llmRequestDelay",type:"number",step:"0.1",value:x.llmRequestDelaySeconds,onChange:N=>b({...x,llmRequestDelaySeconds:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"numWordsInterrupt",children:"Words to Interrupt"}),s.jsx(le,{id:"numWordsInterrupt",type:"number",value:x.numWordsToInterruptAssistant,onChange:N=>b({...x,numWordsToInterruptAssistant:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"maxDuration",children:"Max Call Duration (seconds)"}),s.jsx(le,{id:"maxDuration",type:"number",value:x.maxDurationSeconds,onChange:N=>b({...x,maxDurationSeconds:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"endCallMessage",children:"End Call Message"}),s.jsx(xt,{id:"endCallMessage",value:x.endCallMessage,onChange:N=>b({...x,endCallMessage:N.target.value}),rows:2})]})]})]})}),s.jsx(Yt,{value:"features",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Advanced Features"}),s.jsx(xe,{children:"Enable or disable advanced features"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"recording",children:"Call Recording"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record all calls for quality assurance"})]}),s.jsx(Rt,{id:"recording",checked:x.recordingEnabled,onCheckedChange:N=>b({...x,recordingEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"hipaa",children:"HIPAA Compliance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable HIPAA-compliant mode"})]}),s.jsx(Rt,{id:"hipaa",checked:x.hipaaEnabled,onCheckedChange:N=>b({...x,hipaaEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"backchanneling",children:"Backchanneling"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow verbal acknowledgments during speech"})]}),s.jsx(Rt,{id:"backchanneling",checked:x.backchannelingEnabled,onCheckedChange:N=>b({...x,backchannelingEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"denoising",children:"Background Denoising"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce background noise"})]}),s.jsx(Rt,{id:"denoising",checked:x.backgroundDenoisingEnabled,onCheckedChange:N=>b({...x,backgroundDenoisingEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"modelOutput",children:"Model Output in Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Include model output in message logs"})]}),s.jsx(Rt,{id:"modelOutput",checked:x.modelOutputInMessagesEnabled,onCheckedChange:N=>b({...x,modelOutputInMessagesEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(J,{htmlFor:"voicemail",children:"Voicemail Detection"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detect and handle voicemail"})]}),s.jsx(Rt,{id:"voicemail",checked:x.voicemailDetectionEnabled,onCheckedChange:N=>b({...x,voicemailDetectionEnabled:N})})]}),x.voicemailDetectionEnabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"voicemailMessage",children:"Voicemail Message"}),s.jsx(xt,{id:"voicemailMessage",value:x.voicemailMessage,onChange:N=>b({...x,voicemailMessage:N.target.value}),placeholder:"Please leave a message after the beep.",rows:2})]})]})]})})]})]})})}const FVe=()=>{var ge;const{user:e}=qt(),t=Mr(),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState(!0),[d,h]=y.useState(!1),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,x]=y.useState(""),[b,w]=y.useState(null),[j,S]=y.useState([]),[N,C]=y.useState(!1),[k,D]=y.useState(!1),[R,E]=y.useState({}),[B,F]=y.useState(!1),[L,I]=y.useState(""),[O,$]=y.useState(!1),[T,U]=y.useState(null),[M,Y]=y.useState([]),[ee,_]=y.useState(!1),[A,P]=y.useState([]),z=async()=>{if(e)try{const{data:ae,error:Ne}=await K.from("elevenlabs_connections").select("id").eq("user_id",e.id).eq("is_active",!0).maybeSingle();if(Ne)throw Ne;m(!!ae)}catch(ae){console.error("Error checking connection:",ae),m(!1)}},V=async()=>{if(e)try{const{data:ae,error:Ne}=await K.from("whatsapp_agents").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(Ne)throw Ne;r(ae||[])}catch(ae){console.error("Error fetching agents:",ae),Te({title:"Error",description:"Failed to load WhatsApp agents",variant:"destructive"})}finally{u(!1)}},te=async()=>{if(e)try{const ae=[],{data:Ne}=await K.from("chatbots").select("id").eq("user_id",e.id),gt=(Ne==null?void 0:Ne.map(ct=>ct.id))||[],{data:ce}=await K.from("voice_assistants").select("id").eq("user_id",e.id),ye=(ce==null?void 0:ce.map(ct=>ct.id))||[],{data:Me}=await K.from("whatsapp_agents").select("id").eq("user_id",e.id),Be=(Me==null?void 0:Me.map(ct=>ct.id))||[];if(gt.length>0){const{data:ct}=await K.from("customers").select("*, customer_chatbot_assignments!inner(chatbot_id)").in("customer_chatbot_assignments.chatbot_id",gt);ct&&ae.push(...ct)}if(ye.length>0){const{data:ct}=await K.from("customers").select("*, customer_assistant_assignments!inner(assistant_id)").in("customer_assistant_assignments.assistant_id",ye);ct&&ae.push(...ct)}if(Be.length>0){const{data:ct}=await K.from("customers").select("*, customer_whatsapp_agent_assignments!inner(agent_id)").in("customer_whatsapp_agent_assignments.agent_id",Be);ct&&ae.push(...ct)}const Ze=Array.from(new Map(ae.map(ct=>[ct.id,ct])).values());i(Ze)}catch(ae){console.error("Error fetching customers:",ae)}},Z=async()=>{if(e)try{const{data:ae,error:Ne}=await K.from("customer_whatsapp_agent_assignments").select(`
          id,
          agent_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(Ne)throw Ne;const gt=(ae==null?void 0:ae.map(ce=>({id:ce.id,agent_id:ce.agent_id,customer:ce.customers})))||[];l(gt)}catch(ae){console.error("Error fetching assignments:",ae)}},q=y.useCallback(async ae=>{C(!0);try{const Ne=await jLe(ae);Ne.agent&&(w(Ne.agent),E(Ne.agent)),Ne.conversations&&S(Ne.conversations);const{data:gt,error:ce}=await K.from("whatsapp_conversations").select("*").eq("agent_id",ae).order("started_at",{ascending:!1});!ce&&gt&&P(gt)}catch(Ne){console.error("Error fetching agent config:",Ne),Te({title:"Error",description:Ne.message||"Failed to load agent configuration",variant:"destructive"})}finally{C(!1)}},[]),Q=async ae=>{_(!0);try{const{data:Ne,error:gt}=await K.from("whatsapp_messages").select("*").eq("conversation_id",ae).order("timestamp",{ascending:!0});if(gt)throw gt;Y(Ne||[])}catch(Ne){console.error("Error loading conversation messages:",Ne),Te({title:"Error",description:"Failed to load conversation messages",variant:"destructive"})}finally{_(!1)}},ne=ae=>{U(ae),Q(ae.conversation_id),$(!0)},pe=ae=>{const Ne=Math.floor(ae/60),gt=ae%60;return`${Ne}m ${gt}s`},Se=async()=>{h(!0);try{const ae=await $$();if(ae.needsConnection){m(!1),Te({title:"Connection Required",description:"Please connect your ElevenLabs account in Settings first.",variant:"destructive"});return}Te({title:"Success",description:`Synced ${ae.count} agents from ElevenLabs`}),await V()}catch(ae){console.error("Error syncing agents:",ae),Te({title:"Error",description:ae.message||"Failed to sync agents",variant:"destructive"})}finally{h(!1)}},qe=async()=>{if(!(!g||!R)){D(!0);try{const ae={};if(R.name!==(b==null?void 0:b.name)&&(ae.name=R.name),R.system_prompt!==(b==null?void 0:b.system_prompt)&&(ae.system_prompt=R.system_prompt),R.first_message!==(b==null?void 0:b.first_message)&&(ae.first_message=R.first_message),R.language!==(b==null?void 0:b.language)&&(ae.language=R.language),R.voice_id!==(b==null?void 0:b.voice_id)&&(ae.voice_id=R.voice_id),R.llm_model!==(b==null?void 0:b.llm_model)&&(ae.llm_model=R.llm_model),R.temperature!==(b==null?void 0:b.temperature)&&(ae.temperature=R.temperature),R.max_duration_seconds!==(b==null?void 0:b.max_duration_seconds)&&(ae.max_duration_seconds=R.max_duration_seconds),Object.keys(ae).length===0){Te({title:"No changes",description:"No changes to save"});return}await wLe(g,ae),Te({title:"Success",description:"Agent updated successfully"}),await q(g),await V()}catch(ae){console.error("Error saving agent:",ae),Te({title:"Error",description:ae.message||"Failed to save agent",variant:"destructive"})}finally{D(!1)}}},Ve=async()=>{if(!g||!L){Te({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:ae}=await K.from("customer_whatsapp_agent_assignments").insert({customer_id:L,agent_id:g,assigned_by:e==null?void 0:e.id});if(ae){if(ae.code==="23505")Te({title:"Error",description:"This customer is already assigned to this agent",variant:"destructive"});else throw ae;return}Te({title:"Success",description:"Agent assigned to customer successfully"}),F(!1),I(""),await Z()}catch(ae){console.error("Error assigning agent:",ae),Te({title:"Error",description:"Failed to assign agent",variant:"destructive"})}},We=async ae=>{try{const{error:Ne}=await K.from("customer_whatsapp_agent_assignments").delete().eq("id",ae);if(Ne)throw Ne;Te({title:"Success",description:"Assignment removed"}),await Z()}catch(Ne){console.error("Error removing assignment:",Ne),Te({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},st=y.useCallback(async()=>{if(!d){h(!0);try{const ae=await $$();if(ae!=null&&ae.needsConnection){m(!1);return}console.log(`Auto-synced ${(ae==null?void 0:ae.count)||0} WhatsApp agents`)}catch(ae){console.error("Auto-sync error:",ae)}finally{h(!1)}}},[d]);y.useEffect(()=>{if(e){z(),st().then(()=>{V(),te(),Z()});const ae=setInterval(()=>{st().then(()=>V())},12e4);return()=>clearInterval(ae)}else u(!1)},[e]),y.useEffect(()=>{n.length>0&&!g&&p(n[0].id)},[n,g]),y.useEffect(()=>{g&&q(g)},[g,q]);const Ke=n.find(ae=>ae.id===g),it=o.filter(ae=>ae.agent_id===g),he=n.filter(ae=>{var Ne;return(Ne=ae.name)==null?void 0:Ne.toLowerCase().includes(v.toLowerCase())});return e?f===!1?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your ElevenLabs WhatsApp agents"})]}),s.jsxs(W,{className:"max-w-md",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mi,{className:"w-5 h-5 text-warning"}),s.jsx(se,{children:"Connection Required"})]}),s.jsx(xe,{children:"Connect your ElevenLabs account to view and manage your WhatsApp agents."})]}),s.jsx(G,{children:s.jsxs(X,{onClick:()=>t("/settings"),children:[s.jsx(hs,{className:"w-4 h-4 mr-2"}),"Go to Settings"]})})]})]}):c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ht,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"WhatsApp Agents"})]}),s.jsxs(X,{onClick:Se,disabled:d,size:"sm",variant:"outline",className:"w-full gap-1.5",children:[s.jsx(fa,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing...":"Sync Agents"]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(_a,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:"Search agents...",value:v,onChange:ae=>x(ae.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Ws,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:he.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(vt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"No matching agents":"No agents found"}),!v&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your agents"})]}):he.map(ae=>{const Ne=o.filter(ce=>ce.agent_id===ae.id).length,gt=g===ae.id;return s.jsx("button",{onClick:()=>p(ae.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${gt?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${gt?"text-primary":""}`,children:ae.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ae.phone_number&&s.jsxs("span",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),ae.phone_number]}),Ne>0&&s.jsxs(Ee,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[Ne," assigned"]})]})]}),gt&&s.jsx(Wa,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},ae.id)})})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," agents"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:Ke?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-green-500/20 to-green-500/5 border border-green-500/20",children:s.jsx(Ht,{className:"h-6 w-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:Ke.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Ke.phone_number&&s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),Ke.phone_number]}),s.jsx(Ee,{variant:Ke.status==="active"?"default":"secondary",children:Ke.status})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>F(!0),className:"gap-1.5",children:[s.jsx(bp,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(X,{size:"sm",onClick:qe,disabled:k,className:"gap-1.5",children:[k?s.jsx(ds,{className:"h-4 w-4 animate-spin"}):s.jsx(Ja,{className:"h-4 w-4"}),"Save"]})]})]}),N?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ds,{className:"h-10 w-full"}),s.jsx(Ds,{className:"h-32 w-full"}),s.jsx(Ds,{className:"h-32 w-full"})]}):b?s.jsxs(Nf,{defaultValue:"config",className:"space-y-4",children:[s.jsxs(Eu,{children:[s.jsx(Kt,{value:"config",children:"Configuration"}),s.jsx(Kt,{value:"voice",children:"Voice & Model"}),s.jsxs(Kt,{value:"conversations",children:["Conversations (",j.length,")"]}),s.jsxs(Kt,{value:"customers",children:["Customers (",it.length,")"]})]}),s.jsxs(Yt,{value:"config",className:"space-y-4",children:[s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{className:"text-lg",children:"Basic Settings"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"name",children:"Agent Name"}),s.jsx(le,{id:"name",value:R.name||"",onChange:ae=>E({...R,name:ae.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"first_message",children:"First Message"}),s.jsx(xt,{id:"first_message",value:R.first_message||"",onChange:ae=>E({...R,first_message:ae.target.value}),placeholder:"The first message the agent will say...",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"language",children:"Language"}),s.jsxs(Ue,{value:R.language||"en",onValueChange:ae=>E({...R,language:ae}),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"en",children:"English"}),s.jsx(oe,{value:"es",children:"Spanish"}),s.jsx(oe,{value:"fr",children:"French"}),s.jsx(oe,{value:"de",children:"German"}),s.jsx(oe,{value:"it",children:"Italian"}),s.jsx(oe,{value:"pt",children:"Portuguese"}),s.jsx(oe,{value:"nl",children:"Dutch"}),s.jsx(oe,{value:"pl",children:"Polish"}),s.jsx(oe,{value:"ja",children:"Japanese"}),s.jsx(oe,{value:"zh",children:"Chinese"}),s.jsx(oe,{value:"ko",children:"Korean"})]})]})]})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"System Prompt"}),s.jsx(xe,{children:"Define how the agent should behave and respond"})]}),s.jsx(G,{children:s.jsx(xt,{value:R.system_prompt||"",onChange:ae=>E({...R,system_prompt:ae.target.value}),placeholder:"You are a helpful assistant...",rows:10,className:"font-mono text-sm"})})]}),b.tools&&b.tools.length>0&&s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Connected Tools"}),s.jsx(xe,{children:"Tools and functions available to this agent"})]}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:b.tools.map((ae,Ne)=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"font-medium",children:ae.name||`Tool ${Ne+1}`}),ae.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:ae.description})]},Ne))})})]})]}),s.jsxs(Yt,{value:"voice",className:"space-y-4",children:[s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{className:"text-lg",children:"Voice Settings"})}),s.jsx(G,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"voice_id",children:"Voice ID"}),s.jsx(le,{id:"voice_id",value:R.voice_id||"",onChange:ae=>E({...R,voice_id:ae.target.value}),placeholder:"ElevenLabs Voice ID"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The ElevenLabs voice ID to use for text-to-speech"})]})})]}),s.jsxs(W,{children:[s.jsx(re,{children:s.jsx(se,{className:"text-lg",children:"LLM Settings"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"llm_model",children:"Model"}),s.jsx(le,{id:"llm_model",value:R.llm_model||"",onChange:ae=>E({...R,llm_model:ae.target.value}),placeholder:"gpt-4o-mini"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(J,{children:["Temperature: ",((ge=R.temperature)==null?void 0:ge.toFixed(2))||"0.70"]}),s.jsx(Dh,{value:[R.temperature||.7],onValueChange:([ae])=>E({...R,temperature:ae}),min:0,max:1,step:.01}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness. Lower is more focused, higher is more creative."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"max_duration",children:"Max Call Duration (seconds)"}),s.jsx(le,{id:"max_duration",type:"number",value:R.max_duration_seconds||"",onChange:ae=>E({...R,max_duration_seconds:parseInt(ae.target.value)||void 0}),placeholder:"No limit"})]})]})]})]}),s.jsx(Yt,{value:"conversations",className:"space-y-4",children:s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-lg",children:"Recent Conversations"}),s.jsx(xe,{children:"Click on a conversation to view the transcript and AI summary"})]}),s.jsx(G,{children:A.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversations yet. Sync conversations to see them here."}):s.jsx(Ws,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:A.map(ae=>{const Ne=ae.ended_at?Math.floor((new Date(ae.ended_at).getTime()-new Date(ae.started_at).getTime())/1e3):void 0,gt={conversation_id:ae.id,status:ae.status||"unknown",start_time_unix_secs:new Date(ae.started_at).getTime()/1e3,end_time_unix_secs:ae.ended_at?new Date(ae.ended_at).getTime()/1e3:void 0,call_duration_secs:Ne,summary:ae.summary||void 0,sentiment:ae.sentiment||void 0,phone_number:ae.phone_number||void 0};return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ne(gt),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ee,{variant:ae.status==="done"||ae.status==="completed"?"default":"secondary",children:ae.status}),ae.sentiment&&s.jsx(Ee,{variant:"outline",children:ae.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[ae.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),"+",ae.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(ae.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),at(new Date(ae.started_at),"h:mm a")]}),Ne&&s.jsxs("span",{children:["Duration: ",pe(Ne)]})]}),ae.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:ae.summary})]}),s.jsx(Wa,{className:"h-4 w-4 text-muted-foreground"})]},ae.id)})})})})]})}),s.jsx(Yt,{value:"customers",className:"space-y-4",children:s.jsxs(W,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(se,{className:"text-lg",children:"Assigned Customers"}),s.jsx(xe,{children:"Customers who can view this agent's conversations"})]}),s.jsxs(X,{size:"sm",variant:"outline",onClick:()=>F(!0),className:"gap-1.5",children:[s.jsx(bp,{className:"h-4 w-4"}),"Assign Customer"]})]})}),s.jsx(G,{children:it.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No customers assigned to this agent"}):s.jsx("div",{className:"space-y-3",children:it.map(ae=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:s.jsx(bd,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ae.customer.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ae.customer.email}),ae.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.customer.company_name})]})]}),s.jsx(X,{size:"icon",variant:"ghost",onClick:()=>We(ae.id),children:s.jsx(ln,{className:"h-4 w-4 text-destructive"})})]},ae.id))})})]})})]}):s.jsx(W,{children:s.jsx(G,{className:"py-8",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load agent configuration"})})})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ht,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an agent to view details"})]})})}),s.jsx(mr,{open:B,onOpenChange:F,children:s.jsxs(Qn,{children:[s.jsxs(Zn,{children:[s.jsx(er,{children:"Assign Customer"}),s.jsx(Do,{children:"Select a customer to give them access to this agent's conversations."})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs(Ue,{value:L,onValueChange:I,children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select a customer"})}),s.jsx(Fe,{children:a.filter(ae=>!it.some(Ne=>Ne.customer.id===ae.id)).map(ae=>s.jsx(oe,{value:ae.id,children:s.jsxs("div",{children:[s.jsx("p",{children:ae.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.email})]})},ae.id))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),s.jsx(X,{onClick:Ve,disabled:!L,children:"Assign"})]})]})]})}),s.jsx(zg,{open:O,onOpenChange:$,children:s.jsxs(sf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(qg,{children:[s.jsx(Vg,{children:"Conversation Details"}),s.jsx(Wg,{children:T&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[T.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(It,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium text-foreground",children:["+",T.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(T.start_time_unix_secs*1e3),"MMM d, yyyy h:mm a")]}),T.call_duration_secs&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-3 w-3"}),"Duration: ",pe(T.call_duration_secs)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ee,{variant:T.status==="done"||T.status==="completed"?"default":"secondary",children:T.status}),T.sentiment&&s.jsx(Ee,{variant:"outline",children:T.sentiment})]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(T==null?void 0:T.summary)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Summary"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm",children:T.summary})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),ee?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):M.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"}):s.jsx("div",{className:"space-y-4",children:M.map((ae,Ne)=>s.jsx("div",{className:`flex gap-3 ${ae.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${ae.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:ae.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:ae.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:at(new Date(ae.timestamp),"h:mm:ss a")})]})},Ne))})]})]})]})})]}):s.jsx("div",{className:"p-6",children:"Please log in to view WhatsApp agents."})};function BVe(){const{theme:e,setTheme:t}=Hg();return s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t(e==="light"?"dark":"light"),className:"h-9 w-9 px-0",children:[s.jsx(IP,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(DP,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const hi=()=>s.jsx("footer",{className:"border-t border-gray-700 bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 w-auto"})}),s.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:"The complete platform for building & deploying AI support agents for your business."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ge,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/auth",className:"text-gray-400 hover:text-white transition-colors",children:"Get Started"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ge,{to:"/docs",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/api",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/guides",className:"text-gray-400 hover:text-white transition-colors",children:"Guides"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/support",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ge,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Ge,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",new Date().getFullYear()," Voxtro. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(BVe,{}),s.jsx(Ge,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy"}),s.jsx(Ge,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms"})]})]})})]})}),UVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Documentation"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to know about building and deploying AI agents with Voxtro."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Quick Start"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-6 w-6 text-pink-400"}),s.jsx(se,{className:"text-white",children:"1. Create Your Agent"})]}),s.jsx(xe,{className:"text-gray-400",children:"Set up your first AI agent in minutes with our intuitive interface."})]}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Choose your AI model"}),s.jsx("li",{children:" Configure personality and tone"}),s.jsx("li",{children:" Add knowledge sources"}),s.jsx("li",{children:" Set up basic responses"})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"h-6 w-6 text-blue-400"}),s.jsx(se,{className:"text-white",children:"2. Configure Integrations"})]}),s.jsx(xe,{className:"text-gray-400",children:"Connect your systems and data sources for real-time information."})]}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Connect CRM systems"}),s.jsx("li",{children:" Add API endpoints"}),s.jsx("li",{children:" Set up webhooks"}),s.jsx("li",{children:" Configure actions"})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-6 w-6 text-green-400"}),s.jsx(se,{className:"text-white",children:"3. Deploy & Monitor"})]}),s.jsx(xe,{className:"text-gray-400",children:"Launch your agent and track performance with detailed analytics."})]}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Embed on website"}),s.jsx("li",{children:" Monitor conversations"}),s.jsx("li",{children:" Track metrics"}),s.jsx("li",{children:" Optimize performance"})]})})]})]})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Core Features"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(zB,{className:"h-5 w-5 text-pink-400"}),"Agent Configuration"]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to configure your AI agent's personality, knowledge base, and response patterns."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Personality customization"}),s.jsx("li",{children:" Knowledge base management"}),s.jsx("li",{children:" Response templates"}),s.jsx("li",{children:" Conversation flows"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(AP,{className:"h-5 w-5 text-blue-400"}),"API Integration"]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Connect external services and databases to enhance your agent's capabilities."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" REST API connections"}),s.jsx("li",{children:" Database integrations"}),s.jsx("li",{children:" Third-party services"}),s.jsx("li",{children:" Custom webhooks"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Topics"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(Rl,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Understand how Voxtro protects your data and ensures compliance."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Data encryption"}),s.jsx("li",{children:" Access controls"}),s.jsx("li",{children:" GDPR compliance"}),s.jsx("li",{children:" SOC 2 certification"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx($l,{className:"h-5 w-5 text-purple-400"}),"Performance Optimization"]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Best practices for optimizing your agent's performance and response quality."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning"}),s.jsx("li",{children:" Conversation analytics"}),s.jsx("li",{children:" A/B testing"})]})]})]})]})]})]}),s.jsx("section",{className:"mt-16 text-center",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Need Help?"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Can't find what you're looking for? Our support team is here to help."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/support",children:"Contact Support"})}),s.jsx(X,{variant:"outline",asChild:!0,children:s.jsx(Ge,{to:"/api",children:"API Reference"})})]})]})})]}),s.jsx(hi,{})]}),zVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"API Reference"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Complete reference for the Voxtro API. Build integrations and automate your AI agents programmatically."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(Pte,{className:"h-6 w-6 text-pink-400"}),"Authentication"]}),s.jsx(xe,{className:"text-gray-400",children:"All API requests require authentication using your API key."})]}),s.jsxs(G,{children:[s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:s.jsx("code",{className:"text-green-400 text-sm",children:"Authorization: Bearer YOUR_API_KEY"})}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You can find your API key in your dashboard settings. Keep it secure and never expose it in client-side code."})]})]})}),s.jsxs("section",{className:"space-y-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Endpoints"}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(kn,{className:"h-6 w-6 text-blue-400"}),"Agents"]}),s.jsx(xe,{className:"text-gray-400",children:"Manage your AI agents programmatically."})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ee,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve all your AI agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "agents": [
    {
      "id": "agent_123",
      "name": "Support Bot",
      "status": "active",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ee,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create a new AI agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "name": "Customer Support Bot",
  "personality": "helpful and professional",
  "model": "gpt-4",
  "knowledge_base": ["doc1", "doc2"]
}`})})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(TP,{className:"h-6 w-6 text-purple-400"}),"Conversations"]}),s.jsx(xe,{className:"text-gray-400",children:"Access and manage conversations between users and your agents."})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ee,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/conversations"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve conversations for your agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "conversations": [
    {
      "id": "conv_123",
      "agent_id": "agent_123",
      "user_id": "user_456",
      "messages": 5,
      "status": "resolved",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ee,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/conversations/","{conversation_id}","/messages"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Send a message in a conversation."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "message": "Hello, I need help with my order",
  "user_id": "user_456"
}`})})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(AP,{className:"h-6 w-6 text-orange-400"}),"Analytics"]}),s.jsx(xe,{className:"text-gray-400",children:"Get insights and analytics about your agent performance."})]}),s.jsx(G,{className:"space-y-6",children:s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ee,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/analytics/agents/","{agent_id}"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get analytics for a specific agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "total_conversations": 1250,
  "resolution_rate": 0.89,
  "avg_response_time": 1.2,
  "satisfaction_score": 4.6,
  "period": "last_30_days"
}`})})]})})]})]})]}),s.jsx(hi,{})]}),qVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Guides & Tutorials"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Step-by-step guides to help you get the most out of your Voxtro AI agents."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Getting Started"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"h-6 w-6 text-pink-400"}),s.jsx(se,{className:"text-white",children:"Your First AI Agent"})]}),s.jsx(xe,{className:"text-gray-400",children:"Learn how to create and configure your first AI agent from scratch."})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Sign up and access your dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Choose your AI model and configure personality"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Add knowledge sources and train your agent"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test and deploy to your website"})]})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"h-6 w-6 text-blue-400"}),s.jsx(se,{className:"text-white",children:"Setting Up Integrations"})]}),s.jsx(xe,{className:"text-gray-400",children:"Connect your existing tools and systems to enhance your agent's capabilities."})]}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Connect your CRM or helpdesk"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Set up API endpoints for real-time data"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Configure webhooks and notifications"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test integrations and monitor performance"})]})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Guides"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-6 w-6 text-yellow-400"}),s.jsx(se,{className:"text-white",children:"Performance Optimization"})]}),s.jsx(xe,{className:"text-gray-400",children:"Optimize your agent for faster responses and better accuracy."})]}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning techniques"}),s.jsx("li",{children:" Caching strategies"}),s.jsx("li",{children:" Load balancing"})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"h-6 w-6 text-green-400"}),s.jsx(se,{className:"text-white",children:"Multi-Agent Systems"})]}),s.jsx(xe,{className:"text-gray-400",children:"Build complex workflows with multiple specialized agents."})]}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Agent orchestration"}),s.jsx("li",{children:" Handoff strategies"}),s.jsx("li",{children:" Specialized agent roles"}),s.jsx("li",{children:" Workflow management"})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jo,{className:"h-6 w-6 text-purple-400"}),s.jsx(se,{className:"text-white",children:"Analytics & Insights"})]}),s.jsx(xe,{className:"text-gray-400",children:"Extract valuable insights from your agent interactions."})]}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Conversation analysis"}),s.jsx("li",{children:" Performance metrics"}),s.jsx("li",{children:" Customer satisfaction tracking"}),s.jsx("li",{children:" Business intelligence"})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Use Cases & Examples"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"E-commerce Support Agent"}),s.jsx(xe,{className:"text-gray-400",children:"Build an AI agent that handles order inquiries, returns, and product recommendations."})]}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to create a comprehensive e-commerce support agent that can handle order tracking, process returns, and make personalized product recommendations."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"SaaS Onboarding Assistant"}),s.jsx(xe,{className:"text-gray-400",children:"Create an agent that guides new users through your product features and setup."})]}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Build an intelligent onboarding assistant that helps new users understand your product, complete setup tasks, and discover key features."})})]})]})]})]}),s.jsx(hi,{})]}),VVe=()=>{const[e,t]=y.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[n,r]=y.useState(!1),a=async i=>{i.preventDefault(),r(!0);try{await _Le({name:`${e.firstName} ${e.lastName}`.trim(),email:e.email,subject:e.subject,message:e.message}),_e.success("Message sent successfully! We'll get back to you soon."),t({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(o){console.error("Error sending message:",o),_e.error("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Support Center"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get help when you need it. Our support team is here to ensure your success with Voxtro."})]}),s.jsx("section",{className:"mb-16",children:s.jsx("div",{className:"grid lg:grid-cols-1 gap-8 max-w-md mx-auto",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zB,{className:"h-8 w-8 text-pink-400"}),s.jsx(se,{className:"text-white",children:"Documentation"})]}),s.jsx(xe,{className:"text-gray-400",children:"Find answers in our comprehensive documentation and guides."})]}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Browse through detailed documentation, API references, and step-by-step tutorials."}),s.jsx(X,{className:"w-full",asChild:!0,children:s.jsx(Ge,{to:"/docs",children:"View Documentation"})})]})]})})}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Get in Touch"}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"Send us a message"}),s.jsx(xe,{className:"text-gray-400",children:"We'll get back to you within 24 hours."})]}),s.jsx(G,{children:s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),s.jsx(le,{id:"firstName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"John",value:e.firstName,onChange:i=>t({...e,firstName:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),s.jsx(le,{id:"lastName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe",value:e.lastName,onChange:i=>t({...e,lastName:i.target.value}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email",className:"text-gray-300",children:"Email"}),s.jsx(le,{id:"email",type:"email",className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@example.com",value:e.email,onChange:i=>t({...e,email:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),s.jsx(le,{id:"subject",className:"bg-gray-800 border-gray-700 text-white",placeholder:"How can we help?",value:e.subject,onChange:i=>t({...e,subject:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"message",className:"text-gray-300",children:"Message"}),s.jsx(xt,{id:"message",className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your issue or question...",value:e.message,onChange:i=>t({...e,message:i.target.value}),required:!0})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-6",children:s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Za,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Email Support"}),s.jsx("p",{className:"text-gray-400",children:"info@voxtro.io"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We respond within 24 hours"})]})]})})})})]})]})}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(xm,{className:"h-5 w-5 text-pink-400"}),"How do I get started?"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Simply sign up for an account, create your first AI agent, and follow our quick start guide to configure and deploy your agent in minutes."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(xm,{className:"h-5 w-5 text-pink-400"}),"What integrations are supported?"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We support popular tools like Slack, Zendesk, Salesforce, Stripe, and many more. You can also connect custom APIs and webhooks."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(xm,{className:"h-5 w-5 text-pink-400"}),"Is my data secure?"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Yes, we are SOC 2 Type II and GDPR compliant. All data is encrypted at rest and in transit, and we never use your data to train our models."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(xm,{className:"h-5 w-5 text-pink-400"}),"Can I customize the agent's behavior?"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! You can customize your agent's personality, knowledge base, response patterns, and configure when to escalate to human agents."})})]})]})]})]}),s.jsx(hi,{})]})},WVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"System Status"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-time status of Voxtro services and infrastructure."})]}),s.jsx("section",{className:"mb-16",children:s.jsx(W,{className:"bg-background shadow-lg shadow-green-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(rs,{className:"h-12 w-12 text-green-400 mr-4"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"All Systems Operational"}),s.jsx("p",{className:"text-gray-400",children:"All services are running normally"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:"99.98% Uptime (Last 90 days)"})})]})})}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Service Status"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Core Services"}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ah,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"AI Agent API"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Core agent processing and responses"})]})]}),s.jsxs(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(TP,{className:"h-6 w-6 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Database"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Data storage and retrieval"})]})]}),s.jsxs(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ih,{className:"h-6 w-6 text-green-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Chat Widget"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Website embedding and chat interface"})]})]}),s.jsxs(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Infrastructure"}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($l,{className:"h-6 w-6 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"User login and security"})]})]}),s.jsxs(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ah,{className:"h-6 w-6 text-purple-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Analytics"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Usage tracking and insights"})]})]}),s.jsxs(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ih,{className:"h-6 w-6 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"CDN"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Content delivery network"})]})]}),s.jsxs(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(rs,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Recent Incidents"}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rs,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Incidents"}),s.jsx("p",{className:"text-gray-400",children:"All services have been running smoothly. No incidents to report in the last 30 days."})]})})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Performance Metrics"}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"99.98%"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Uptime"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 90 days"})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"0.8s"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Response Time"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Average API response"})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"2.1M"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Requests"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 24 hours"})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:"5"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Regions"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Global coverage"})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Subscribe to status updates and get notified about any service disruptions."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(X,{children:"Subscribe to Updates"}),s.jsx(X,{variant:"outline",children:"RSS Feed"})]})]})})]}),s.jsx(hi,{})]}),HVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("section",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"About Voxtro"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed",children:"We're on a mission to revolutionize customer support through intelligent AI agents that understand, engage, and solve problems just like the best human agentsbut available 24/7."})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16 mb-20",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx(e8,{className:"h-8 w-8 text-pink-400"}),"Our Mission"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"To empower businesses of all sizes with AI-powered customer support that's indistinguishable from human interaction. We believe every customer deserves instant, accurate, and empathetic support, regardless of the time of day or complexity of their inquiry."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx($l,{className:"h-8 w-8 text-blue-400"}),"Our Vision"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"A world where exceptional customer support is accessible to every business, where AI agents seamlessly integrate with existing workflows, and where customers receive instant, personalized assistance that exceeds their expectations."})})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Story"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Founded in 2024, Voxtro emerged from a simple observation: great customer support shouldn't be a luxury reserved for enterprise companies."})]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-12",children:s.jsxs("div",{className:"prose prose-lg prose-invert max-w-none",children:[s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Our founders, experienced engineers and customer success leaders, witnessed firsthand how small and medium-sized businesses struggled to provide consistent, high-quality customer support due to resource constraints and the complexity of existing solutions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"We set out to build something differenta platform that could democratize access to intelligent customer support. By leveraging the latest advances in AI and natural language processing, we created agents that don't just answer questions, but understand context, access real-time data, and take meaningful actions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Today, Voxtro powers customer support for thousands of businesses worldwide, from startups to enterprise companies, helping them deliver exceptional customer experiences while reducing operational overhead and improving team productivity."})]})})})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Values"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"The principles that guide everything we do at Voxtro."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white text-xl",children:"Customer-Centric"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Every decision we make starts with our customers. We build features that solve real problems and create genuine value for businesses and their customers."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white text-xl",children:"Innovation"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We push the boundaries of what's possible with AI, constantly exploring new ways to make customer support more intelligent, efficient, and human-like."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white text-xl",children:"Transparency"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We believe in open communication, clear pricing, and honest relationships with our customers, partners, and team members."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white text-xl",children:"Quality"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We're committed to delivering exceptional quality in our product, our service, and our customer relationships. Excellence is not negotiable."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white text-xl",children:"Accessibility"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Advanced AI should be accessible to businesses of all sizes. We work to make our platform easy to use, affordable, and scalable."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white text-xl",children:"Security"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We take data security and privacy seriously, implementing industry-leading practices to protect our customers' information and maintain their trust."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Leadership Team"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Meet the leaders driving Voxtro's mission forward."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"AS"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Alex Smith"}),s.jsx("p",{className:"text-pink-400 mb-4",children:"CEO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Former VP of Engineering at a leading customer support platform. Passionate about making AI accessible to every business."})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"MJ"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Maria Johnson"}),s.jsx("p",{className:"text-blue-400 mb-4",children:"CTO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI researcher with 15+ years in machine learning and natural language processing. Former principal scientist at a major tech company."})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"DL"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"David Lee"}),s.jsx("p",{className:"text-green-400 mb-4",children:"VP of Customer Success"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Customer success leader who has helped scale support operations for multiple high-growth SaaS companies."})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx(ur,{className:"h-16 w-16 text-pink-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Join Our Mission"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always looking for talented individuals who share our passion for innovation and customer success. Come help us build the future of customer support."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(X,{size:"lg",asChild:!0,children:s.jsx(Ge,{to:"/careers",children:"View Open Positions"})}),s.jsx(X,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Ge,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(hi,{})]}),GVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Join Our Team"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Help us build the future of AI-powered customer support. We're looking for passionate individuals who want to make a real impact on how businesses interact with their customers."})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Why Work at Voxtro?"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Join a team that's passionate about innovation, growth, and making a difference."})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(mM,{className:"h-6 w-6 text-pink-400"}),"Cutting-Edge Technology"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Work with the latest AI technologies and help shape the future of conversational AI. From large language models to advanced NLP techniques, you'll be at the forefront of innovation."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(ur,{className:"h-6 w-6 text-blue-400"}),"Collaborative Culture"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Join a diverse, inclusive team where every voice matters. We believe the best ideas come from collaboration and different perspectives working together."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(xM,{className:"h-6 w-6 text-red-400"}),"Impact & Purpose"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Your work directly impacts thousands of businesses and millions of their customers. See the real-world effects of your contributions every day."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(pM,{className:"h-6 w-6 text-green-400"}),"Growth Opportunities"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Fast-growing company means fast-growing careers. We invest in our people with learning budgets, mentorship programs, and clear paths for advancement."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Open Positions"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Find your next career opportunity with us."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(AP,{className:"h-6 w-6 text-pink-400"}),"Engineering"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(se,{className:"text-white",children:"Senior Full-Stack Engineer"}),s.jsx(xe,{className:"text-gray-400",children:"Build and scale our core platform architecture"})]}),s.jsx(Ee,{className:"bg-green-500/20 text-green-400 border-green-500",children:"New"})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / San Francisco"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We're looking for an experienced engineer to help build scalable systems that power AI agents for thousands of customers worldwide."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(se,{className:"text-white",children:"AI/ML Engineer"}),s.jsx(xe,{className:"text-gray-400",children:"Develop next-generation AI conversation models"})]}),s.jsx(Ee,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Featured"})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / New York"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Join our AI team to research and implement cutting-edge machine learning techniques for conversational AI and natural language understanding."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"Frontend Engineer"}),s.jsx(xe,{className:"text-gray-400",children:"Create beautiful, intuitive user experiences"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / London"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build responsive, accessible web applications using React, TypeScript, and modern frontend technologies to power our customer dashboard."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"DevOps Engineer"}),s.jsx(xe,{className:"text-gray-400",children:"Scale infrastructure for global AI workloads"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / Austin"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build and maintain cloud infrastructure, CI/CD pipelines, and monitoring systems that support millions of AI interactions daily."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(pM,{className:"h-6 w-6 text-blue-400"}),"Product & Design"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"Senior Product Manager"}),s.jsx(xe,{className:"text-gray-400",children:"Drive product strategy and roadmap"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / Seattle"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Lead product development for our AI agent platform, working closely with engineering, design, and customers to deliver impactful features."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"UX/UI Designer"}),s.jsx(xe,{className:"text-gray-400",children:"Design intuitive interfaces for complex AI systems"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / Los Angeles"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Create user-centered designs that make complex AI functionality accessible to users of all technical backgrounds."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(ur,{className:"h-6 w-6 text-green-400"}),"Business"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"Customer Success Manager"}),s.jsx(xe,{className:"text-gray-400",children:"Help customers achieve success with AI agents"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / Chicago"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Work directly with our customers to ensure they're getting maximum value from their AI agents and achieving their support goals."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"Sales Development Representative"}),s.jsx(xe,{className:"text-gray-400",children:"Generate and qualify leads for our sales team"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bo,{className:"h-4 w-4"}),"Remote / Miami"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Help businesses discover how AI can transform their customer support. Perfect for someone passionate about AI and customer success."}),s.jsx(X,{className:"w-full",children:"Apply Now"})]})]})]})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Benefits & Perks"}),s.jsx("p",{className:"text-xl text-gray-400",children:"We take care of our team so they can do their best work."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(xM,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Health & Wellness"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Comprehensive health insurance"}),s.jsx("li",{children:" Dental and vision coverage"}),s.jsx("li",{children:" Mental health support"}),s.jsx("li",{children:" Fitness stipend"})]})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx(Ot,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Work-Life Balance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Flexible working hours"}),s.jsx("li",{children:" Remote-first culture"}),s.jsx("li",{children:" Unlimited PTO policy"}),s.jsx("li",{children:" Quarterly company retreats"})]})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(mM,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Growth & Learning"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" $2,000 annual learning budget"}),s.jsx("li",{children:" Conference attendance"}),s.jsx("li",{children:" Internal mentorship program"}),s.jsx("li",{children:" Equity participation"})]})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Don't See a Perfect Fit?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always interested in hearing from talented individuals. Send us your resume and tell us how you'd like to contribute to our mission."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(X,{size:"lg",children:"Send General Application"}),s.jsx(X,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Ge,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(hi,{})]}),KVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Contact Us"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Have questions about Voxtro? Want to see a demo? Looking to partner with us? We'd love to hear from you."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx(kn,{className:"h-12 w-12 text-pink-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Sales Inquiries"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Interested in Voxtro for your business?"}),s.jsx(X,{className:"w-full",children:"Talk to Sales"})]})}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8 text-center",children:[s.jsx(xm,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Support"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Need help with your account or product?"}),s.jsx(X,{className:"w-full",asChild:!0,children:s.jsx(Ge,{to:"/support",children:"Get Support"})})]})})]})}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Send us a message"}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(re,{children:[s.jsx(se,{className:"text-white",children:"Get in Touch"}),s.jsx(xe,{className:"text-gray-400",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),s.jsx(G,{children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(J,{htmlFor:"firstName",className:"text-gray-300",children:"First Name *"}),s.jsx(le,{id:"firstName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name *"}),s.jsx(le,{id:"lastName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"email",className:"text-gray-300",children:"Work Email *"}),s.jsx(le,{id:"email",type:"email",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@company.com"})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"company",className:"text-gray-300",children:"Company"}),s.jsx(le,{id:"company",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Acme Inc."})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),s.jsx(le,{id:"phone",type:"tel",className:"bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"inquiry",className:"text-gray-300",children:"Inquiry Type *"}),s.jsxs(Ue,{required:!0,children:[s.jsx(Le,{className:"bg-gray-800 border-gray-700 text-white",children:s.jsx(ze,{placeholder:"Select inquiry type"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"sales",children:"Sales & Pricing"}),s.jsx(oe,{value:"demo",children:"Request a Demo"}),s.jsx(oe,{value:"support",children:"Technical Support"}),s.jsx(oe,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(J,{htmlFor:"message",className:"text-gray-300",children:"Message *"}),s.jsx(xt,{id:"message",required:!0,className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your needs, questions, or how we can help..."})]}),s.jsx("div",{className:"text-xs text-gray-400",children:"* Required fields"}),s.jsx(X,{className:"w-full",size:"lg",children:"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-8",children:s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Za,{className:"h-8 w-8 text-pink-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Email Us"}),s.jsx("div",{className:"text-gray-300",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"General inquiries:"})," info@voxtro.io"]})})]})]})})})})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400",children:"Quick answers to common questions"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"How quickly can I get started?"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"You can create and deploy your first AI agent in under 30 minutes. Sign up, configure your agent, and embed it on your website with just a few clicks."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Do you offer custom integrations?"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Yes! We can build custom integrations for Enterprise customers. Contact our sales team to discuss your specific requirements."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"What's your uptime guarantee?"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We maintain 99.9% uptime SLA for all paid plans, with 99.99% uptime SLA available for Enterprise customers."})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Can I try Voxtro before purchasing?"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! We offer a free trial with no credit card required. You can also schedule a personalized demo with our team."})})]})]})]})]}),s.jsx(hi,{})]}),YVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Privacy Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we collect, use, and protect your information"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(Rl,{className:"h-6 w-6 text-pink-400"}),"Our Commitment to Privacy"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"At Voxtro, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our AI agent platform and services. We are committed to protecting your personal information and your right to privacy."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(TP,{className:"h-8 w-8 text-blue-400"}),"Information We Collect"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Personal Information"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Register for an account"}),s.jsx("li",{children:" Use our services"}),s.jsx("li",{children:" Contact us for support"}),s.jsx("li",{children:" Subscribe to our newsletter"}),s.jsx("li",{children:" Participate in surveys or promotions"})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"This may include: name, email address, phone number, company information, payment details, and any other information you choose to provide."})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Usage Information"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We automatically collect certain information when you use our services:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Device information (IP address, browser type, operating system)"}),s.jsx("li",{children:" Usage patterns and preferences"}),s.jsx("li",{children:" Log files and analytics data"}),s.jsx("li",{children:" Cookies and similar tracking technologies"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"AI Training Data"})}),s.jsx(G,{children:s.jsxs("p",{className:"text-gray-300",children:[s.jsx("strong",{children:"Important:"})," We do not use your conversations, documents, or any customer data to train our AI models. Your data remains private and is only used to provide services to you and your organization."]})})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(ba,{className:"h-8 w-8 text-green-400"}),"How We Use Your Information"]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use the information we collect for the following purposes:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Service Delivery"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Provide and maintain our services"}),s.jsx("li",{children:" Process transactions and payments"}),s.jsx("li",{children:" Provide customer support"}),s.jsx("li",{children:" Send service-related communications"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Improvement & Analytics"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Analyze usage patterns and trends"}),s.jsx("li",{children:" Improve our services and develop new features"}),s.jsx("li",{children:" Conduct research and analytics"}),s.jsx("li",{children:" Ensure security and prevent fraud"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Send important updates and notifications"}),s.jsx("li",{children:" Respond to inquiries and support requests"}),s.jsx("li",{children:" Send marketing communications (with consent)"}),s.jsx("li",{children:" Conduct surveys and gather feedback"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Legal Compliance"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Comply with legal obligations"}),s.jsx("li",{children:" Enforce our terms of service"}),s.jsx("li",{children:" Protect rights and prevent misuse"}),s.jsx("li",{children:" Resolve disputes and legal claims"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(ur,{className:"h-8 w-8 text-purple-400"}),"Information Sharing"]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We do not sell, trade, or rent your personal information. We may share your information in the following limited circumstances:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Service Providers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with trusted third-party service providers who assist us in operating our business (hosting, payment processing, analytics, customer support)."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Legal Requirements"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may disclose information when required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Business Transfers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the transaction."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"With Your Consent"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with your explicit consent or at your direction."})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(rS,{className:"h-8 w-8 text-red-400"}),"Data Security"]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We implement appropriate technical and organizational security measures to protect your personal information:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Technical Safeguards"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" AES-256 encryption for data at rest"}),s.jsx("li",{children:" TLS 1.3 encryption for data in transit"}),s.jsx("li",{children:" Regular security audits and penetration testing"}),s.jsx("li",{children:" Secure cloud infrastructure"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Organizational Measures"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Access controls and authentication"}),s.jsx("li",{children:" Employee security training"}),s.jsx("li",{children:" Data processing agreements"}),s.jsx("li",{children:" Incident response procedures"})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("p",{className:"text-yellow-300 text-sm",children:[s.jsx("strong",{children:"Note:"})," While we use industry-standard security measures, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security but are committed to protecting your information."]})})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Tn,{className:"h-8 w-8 text-orange-400"}),"Your Rights"]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"Depending on your location, you may have certain rights regarding your personal information:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Access & Portability"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request a copy of your personal information and receive it in a portable format."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Correction"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Update or correct inaccurate or incomplete personal information."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Deletion"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request deletion of your personal information, subject to certain exceptions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Opt-out"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Opt-out of marketing communications and certain data processing activities."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("p",{className:"text-gray-300 text-sm",children:"To exercise these rights, please contact us at privacy@voxtro.com. We will respond to your request within 30 days."})})]})]})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Cookies and Tracking Technologies"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We use cookies and similar technologies to enhance your experience, analyze usage, and provide personalized content. You can control cookie settings through your browser."}),s.jsxs("p",{className:"text-gray-300",children:["For detailed information about our cookie usage, please see our",s.jsx(Ge,{to:"/cookies",className:"text-pink-400 hover:text-pink-300 ml-1",children:"Cookie Policy"}),"."]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Contact Us"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})}),s.jsx("section",{children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Policy Updates"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the new policy.'})})]})})]}),s.jsx(hi,{})]}),JVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Terms of Service"}),s.jsx("p",{className:"text-xl text-gray-300",children:"The terms and conditions for using Voxtro services"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(Tn,{className:"h-6 w-6 text-pink-400"}),"Agreement to Terms"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'These Terms of Service ("Terms") govern your use of the Voxtro platform and services. By accessing or using our services, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access our services.'})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Rl,{className:"h-8 w-8 text-blue-400"}),"Service Description"]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Voxtro provides an AI-powered customer support platform that enables businesses to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 mb-6",children:[s.jsx("li",{children:" Create and deploy AI agents for customer interactions"}),s.jsx("li",{children:" Integrate with existing business systems and workflows"}),s.jsx("li",{children:" Access analytics and insights about customer interactions"}),s.jsx("li",{children:" Manage and monitor AI agent performance"})]}),s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify, suspend, or discontinue any part of our services at any time with or without notice. We will not be liable to you or any third party for any modification, price change, suspension, or discontinuance of the services."})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(ur,{className:"h-8 w-8 text-green-400"}),"User Accounts and Responsibilities"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Account Creation"})}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" You must provide accurate and complete information when creating an account"}),s.jsx("li",{children:" You are responsible for maintaining the confidentiality of your account credentials"}),s.jsx("li",{children:" You must be at least 18 years old to create an account"}),s.jsx("li",{children:" One person or legal entity may not maintain more than one account"})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Acceptable Use"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You agree not to use our services to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Violate any applicable laws or regulations"}),s.jsx("li",{children:" Infringe on intellectual property rights"}),s.jsx("li",{children:" Transmit harmful, offensive, or inappropriate content"}),s.jsx("li",{children:" Attempt to gain unauthorized access to our systems"}),s.jsx("li",{children:" Use our services for any illegal or fraudulent activities"}),s.jsx("li",{children:" Reverse engineer, decompile, or disassemble our software"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(WB,{className:"h-8 w-8 text-purple-400"}),"Payment Terms"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Billing and Payments"})}),s.jsx(G,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Subscription fees are billed in advance on a monthly or annual basis"}),s.jsx("li",{children:" All fees are non-refundable except as required by law"}),s.jsx("li",{children:" We may change our pricing with 30 days' notice"}),s.jsx("li",{children:" Late payments may result in service suspension"}),s.jsx("li",{children:" You are responsible for all applicable taxes"})]})})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Refunds and Cancellations"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You may cancel your subscription at any time. Cancellations take effect at the end of your current billing period. We do not provide refunds for partial months of service."}),s.jsx("p",{className:"text-gray-300",children:"For annual subscriptions, you may request a pro-rated refund within 30 days of your initial purchase if you have not used more than 20% of your included usage limits."})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Intellectual Property"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Our Rights"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"All rights, title, and interest in the Voxtro platform, including all intellectual property rights, remain our exclusive property. You may not copy, modify, distribute, sell, or lease any part of our services."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Your Content"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You retain ownership of any content you provide to our services. By using our services, you grant us a license to use your content solely for the purpose of providing services to you."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Training Data"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We do not use your data, conversations, or content to train our AI models or improve our services for other customers. Your data remains private and confidential."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Privacy and Data Protection"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Your privacy is important to us. Our collection and use of personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"We implement appropriate technical and organizational measures to ensure a level of security appropriate to the risk, including encryption, access controls, and regular security audits."}),s.jsx("p",{className:"text-gray-300",children:"You are responsible for ensuring that any personal data you provide or process through our services complies with applicable privacy laws and regulations."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Service Level Agreement"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Uptime Commitment"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We strive to maintain 99.9% uptime for our services. In the event of service interruptions, we will work to restore service as quickly as possible."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Support Response Times"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We aim to respond to support requests within 24 hours for standard plans and 4 hours for enterprise plans during business hours."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Maintenance"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may perform scheduled maintenance with advance notice. Emergency maintenance may be performed without notice when necessary to protect service security or integrity."})]})]})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(t8,{className:"h-8 w-8 text-red-400"}),"Limitation of Liability"]}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(G,{className:"p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Disclaimer of Warranties"}),s.jsx("p",{className:"text-gray-300 text-sm",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied, including but not limited to implied warranties of merchantability, fitness for a particular purpose, or non-infringement.'})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Limitation of Damages"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"To the maximum extent permitted by law, our total liability for any claims arising out of or relating to these Terms or our services shall not exceed the amount you paid us in the 12 months preceding the claim."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Service Limitations"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI-generated responses may not always be accurate, appropriate, or complete. You are responsible for reviewing and monitoring AI interactions with your customers."})]})]})})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Termination"})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by You"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You may terminate your account at any time by contacting us or using the account settings in your dashboard. Termination will be effective at the end of your current billing period."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by Us"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may suspend or terminate your account immediately if you violate these Terms, fail to pay fees when due, or if we reasonably believe such action is necessary to protect our services or other users."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Effect of Termination"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Upon termination, your right to use our services will cease immediately. We may delete your data after a reasonable grace period, but are not obligated to do so."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Governing Law and Disputes"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These Terms are governed by the laws of the State of California, without regard to conflict of law principles. Any disputes arising from these Terms or our services will be resolved through binding arbitration in San Francisco, California."}),s.jsx("p",{className:"text-gray-300",children:"You agree to resolve any disputes individually and waive any right to participate in class action lawsuits or class-wide arbitration."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Changes to Terms"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by email or through our services at least 30 days before they take effect. Your continued use of our services after the changes take effect constitutes acceptance of the new Terms."})})]})}),s.jsx("section",{children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Contact Information"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," legal@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Legal Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})})]}),s.jsx(hi,{})]}),XVe=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ge,{to:"/",className:"flex items-center",children:s.jsx("img",{src:dr,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(X,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ge,{to:"/",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(X,{asChild:!0,children:s.jsx(Ge,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Cookie Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we use cookies and similar technologies"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(_te,{className:"h-6 w-6 text-pink-400"}),"What are Cookies?"]})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Cookies are small text files that are stored on your device when you visit a website. They help websites remember your preferences, improve your experience, and provide analytics about how the site is used. We use cookies and similar technologies to enhance your experience with Voxtro."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Types of Cookies We Use"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(Rl,{className:"h-6 w-6 text-green-400"}),"Essential Cookies"]}),s.jsx(Ee,{className:"bg-red-500/20 text-red-400 border-red-500",children:"Required"})]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are necessary for the website to function properly. They cannot be disabled as they are essential for core functionality."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Authentication and session management"}),s.jsx("li",{children:" Security and fraud prevention"}),s.jsx("li",{children:" Load balancing and performance optimization"}),s.jsx("li",{children:" Remember your privacy preferences"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(hs,{className:"h-6 w-6 text-blue-400"}),"Functional Cookies"]}),s.jsx(Ee,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Optional"})]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies enable enhanced functionality and personalization, but the site can function without them."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Remember your language and region preferences"}),s.jsx("li",{children:" Customize the user interface based on your settings"}),s.jsx("li",{children:" Remember form data and user inputs"}),s.jsx("li",{children:" Provide personalized content and recommendations"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(ho,{className:"h-6 w-6 text-purple-400"}),"Analytics Cookies"]}),s.jsx(Ee,{className:"bg-purple-500/20 text-purple-400 border-purple-500",children:"Optional"})]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Track page visits and user behavior patterns"}),s.jsx("li",{children:" Measure website performance and loading times"}),s.jsx("li",{children:" Understand which features are most popular"}),s.jsx("li",{children:" Identify and fix technical issues"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(se,{className:"text-white flex items-center gap-2",children:[s.jsx(ih,{className:"h-6 w-6 text-orange-400"}),"Marketing Cookies"]}),s.jsx(Ee,{className:"bg-orange-500/20 text-orange-400 border-orange-500",children:"Optional"})]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are used to deliver personalized advertisements and measure the effectiveness of marketing campaigns."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Show relevant ads based on your interests"}),s.jsx("li",{children:" Prevent the same ad from being shown repeatedly"}),s.jsx("li",{children:" Measure advertising campaign effectiveness"}),s.jsx("li",{children:" Enable social media sharing features"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Third-Party Services"}),s.jsx(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(G,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use trusted third-party services that may set their own cookies. These services help us provide better functionality and insights:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Analytics & Performance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Google Analytics - Website usage analytics"}),s.jsx("li",{children:" Mixpanel - Product analytics and insights"}),s.jsx("li",{children:" Sentry - Error tracking and monitoring"}),s.jsx("li",{children:" Cloudflare - CDN and security services"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Marketing & Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Intercom - Customer messaging and support"}),s.jsx("li",{children:" Mailchimp - Email marketing campaigns"}),s.jsx("li",{children:" LinkedIn Insights - Professional targeting"}),s.jsx("li",{children:" Google Ads - Advertising and retargeting"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Managing Your Cookie Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Cookie Settings"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:'You can manage your cookie preferences through our cookie banner when you first visit our site, or by clicking the "Cookie Settings" link in our footer.'}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(X,{children:"Manage Cookie Preferences"}),s.jsx(X,{variant:"outline",children:"Accept All Cookies"})]})]})]}),s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Browser Settings"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You can also control cookies through your browser settings. Most browsers allow you to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm mb-4",children:[s.jsx("li",{children:" View cookies that have been set and delete them individually"}),s.jsx("li",{children:" Block third-party cookies"}),s.jsx("li",{children:" Block all cookies from specific sites"}),s.jsx("li",{children:" Block all cookies from being set"}),s.jsx("li",{children:" Delete all cookies when you close your browser"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Desktop Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome: Settings  Privacy and security  Cookies"}),s.jsx("li",{children:" Firefox: Preferences  Privacy & Security"}),s.jsx("li",{children:" Safari: Preferences  Privacy"}),s.jsx("li",{children:" Edge: Settings  Cookies and site permissions"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Mobile Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome Mobile: Settings  Site settings  Cookies"}),s.jsx("li",{children:" Safari iOS: Settings  Safari  Privacy & Security"}),s.jsx("li",{children:" Samsung Internet: Settings  Sites and downloads"})]})]})]})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Cookie Retention"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Different types of cookies are retained for different periods:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Session Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Temporary cookies that are deleted when you close your browser. Used for essential functionality like maintaining your login session."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Persistent Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Stored on your device for a specific period or until manually deleted. Retention periods range from 30 days to 2 years depending on the cookie's purpose."})]})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Impact of Disabling Cookies"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"While you can use our website with cookies disabled, some functionality may be limited:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" You may need to log in repeatedly"}),s.jsx("li",{children:" Your preferences and settings may not be saved"}),s.jsx("li",{children:" Some features may not work as expected"}),s.jsx("li",{children:" You may see less relevant content and advertisements"}),s.jsx("li",{children:" We may not be able to provide personalized experiences"})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Updates to This Policy"})}),s.jsx(G,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by updating the "Last updated" date at the top of this policy.'})})]})}),s.jsx("section",{children:s.jsxs(W,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(re,{children:s.jsx(se,{className:"text-white",children:"Questions About Cookies?"})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about our use of cookies or this policy, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]})]})]})]})})]}),s.jsx(hi,{})]}),QVe=()=>{const e=li(),t=Mr();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center px-6 max-w-md",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("span",{className:"text-[150px] font-bold text-muted/20 leading-none select-none",children:"404"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"p-4 rounded-full bg-muted/50",children:s.jsx(_a,{className:"h-12 w-12 text-muted-foreground"})})})]}),s.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Page not found"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(X,{variant:"outline",onClick:()=>t(-1),className:"gap-2",children:[s.jsx(pr,{className:"h-4 w-4"}),"Go Back"]}),s.jsxs(X,{onClick:()=>t("/"),className:"gap-2",children:[s.jsx(OP,{className:"h-4 w-4"}),"Home"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-8",children:s.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:e.pathname})})]})})};var OT="Collapsible",[ZVe,WGe]=Or(OT),[eWe,MT]=ZVe(OT),_J=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,u]=xs({prop:r,defaultProp:a,onChange:o});return s.jsx(eWe,{scope:n,disabled:i,contentId:Bs(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:s.jsx(De.div,{"data-state":IT(c),"data-disabled":i?"":void 0,...l,ref:t})})});_J.displayName=OT;var NJ="CollapsibleTrigger",SJ=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=MT(NJ,n);return s.jsx(De.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":IT(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:we(e.onClick,a.onOpenToggle)})});SJ.displayName=NJ;var DT="CollapsibleContent",CJ=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=MT(DT,e.__scopeCollapsible);return s.jsx($n,{present:n||a.open,children:({present:i})=>s.jsx(tWe,{...r,ref:t,present:i})})});CJ.displayName=DT;var tWe=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=MT(DT,n),[l,c]=y.useState(r),u=y.useRef(null),d=Ye(t,u),h=y.useRef(0),f=h.current,m=y.useRef(0),g=m.current,p=o.open||l,v=y.useRef(p),x=y.useRef();return y.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),Xn(()=>{const b=u.current;if(b){x.current=x.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,m.current=w.width,v.current||(b.style.transitionDuration=x.current.transitionDuration,b.style.animationName=x.current.animationName),c(r)}},[o.open,r]),s.jsx(De.div,{"data-state":IT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function IT(e){return e?"open":"closed"}var nWe=_J;const rWe=nWe,sWe=SJ,aWe=CJ;function iWe({entry:e,entityName:t,onStatusChange:n,onDelete:r}){const{user:a}=qt(),{toast:i}=vn(),[o,l]=y.useState(!1),[c,u]=y.useState([]),[d,h]=y.useState(!1),[f,m]=y.useState(""),[g,p]=y.useState(!1),v={update:{icon:fa,color:"bg-blue-500/10 text-blue-500"},create:{icon:Gt,color:"bg-green-500/10 text-green-500"},delete:{icon:ln,color:"bg-red-500/10 text-red-500"},note:{icon:Tn,color:"bg-yellow-500/10 text-yellow-500"},task:{icon:Ya,color:"bg-purple-500/10 text-purple-500"}},x={pending:{icon:Ot,color:"text-yellow-500",label:"Pending"},in_progress:{icon:gM,color:"text-blue-500",label:"In Progress"},completed:{icon:Ya,color:"text-green-500",label:"Completed"}},b=v[e.change_type],w=b.icon,j=async()=>{if(d||c.length>0)return;h(!0);const{data:k}=await K.from("changelog_notes").select("*").eq("changelog_entry_id",e.id).order("created_at",{ascending:!0});u(k||[]),h(!1)},S=async()=>{if(!f.trim()||!a)return;p(!0);const{data:k,error:D}=await K.from("changelog_notes").insert({changelog_entry_id:e.id,user_id:a.id,note:f.trim()}).select().single();D?i({title:"Failed to add note",variant:"destructive"}):(u(R=>[...R,k]),m(""),i({title:"Note added"})),p(!1)},N=Object.keys(e.previous_values||{}).length>0||Object.keys(e.new_values||{}).length>0,C=k=>{switch(k){case"vapi_sync":return"Vapi";case"auto":return"Auto";default:return"Manual"}};return s.jsx(W,{className:"p-4",children:s.jsxs(rWe,{open:o,onOpenChange:k=>{l(k),k&&j()},children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg shrink-0 ${b.color}`,children:s.jsx(w,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:at(HS(e.created_at),"MMM d, yyyy  h:mm a")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t}),s.jsx(Ee,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:C(e.source)}),e.status&&e.source==="manual"&&s.jsx(Ee,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${x[e.status].color}`,children:x[e.status].label})]})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(sWe,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Jh,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})}),s.jsxs(mT,{children:[s.jsx(pT,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(HB,{className:"h-4 w-4"})})}),s.jsxs(jj,{align:"end",children:[(e.change_type==="task"||e.change_type==="update")&&e.source==="manual"&&s.jsxs(s.Fragment,{children:[s.jsxs(bl,{onClick:()=>n(e.id,"pending"),children:[s.jsx(Ot,{className:"h-4 w-4 mr-2"})," Mark Pending"]}),s.jsxs(bl,{onClick:()=>n(e.id,"in_progress"),children:[s.jsx(gM,{className:"h-4 w-4 mr-2"})," Mark In Progress"]}),s.jsxs(bl,{onClick:()=>n(e.id,"completed"),children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"})," Mark Complete"]})]}),s.jsxs(bl,{onClick:()=>r(e.id),className:"text-destructive",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]})]})})]}),s.jsxs(aWe,{className:"mt-4 ml-11 space-y-4",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.description}),N&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Changes"}),s.jsx("div",{className:"bg-muted/50 rounded-md p-3 space-y-1.5 text-xs font-mono",children:Object.keys(e.new_values||{}).map(k=>{var D;return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"text-muted-foreground",children:[k,":"]}),((D=e.previous_values)==null?void 0:D[k])!==void 0&&s.jsx("span",{className:"text-red-400 line-through",children:JSON.stringify(e.previous_values[k])}),s.jsx("span",{className:"text-green-400",children:JSON.stringify(e.new_values[k])})]},k)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[s.jsx(kn,{className:"h-3 w-3"}),"Notes (",c.length,")"]}),c.map(k=>s.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.note}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:at(HS(k.created_at),"MMM d, yyyy  h:mm a")})]},k.id)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xt,{placeholder:"Add a note...",value:f,onChange:k=>m(k.target.value),className:"min-h-[60px] text-sm"}),s.jsx(X,{onClick:S,disabled:g||!f.trim(),size:"icon",className:"shrink-0",children:s.jsx(nu,{className:"h-4 w-4"})})]})]})]})]})})}function oWe({entries:e,loading:t,entities:n,onStatusChange:r,onDelete:a}){if(t)return s.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>s.jsx(W,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ds,{className:"h-10 w-10 rounded-lg shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ds,{className:"h-4 w-2/3"}),s.jsx(Ds,{className:"h-3 w-1/3"})]})]})},o))});if(e.length===0)return s.jsxs(W,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No changelog entries found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add notes, track changes, or create tasks to get started."})]});const i=o=>{const l=n.find(c=>c.id===o);return(l==null?void 0:l.name)||"Unknown"};return s.jsx("div",{className:"space-y-3",children:e.map(o=>s.jsx(iWe,{entry:o,entityName:i(o.entity_id),onStatusChange:r,onDelete:a},o.id))})}function lWe({open:e,onOpenChange:t,entityType:n,entities:r,onEntryAdded:a,preSelectedEntityId:i}){const{user:o}=qt(),{toast:l}=vn(),[c,u]=y.useState(!1),[d,h]=y.useState({entity_id:"",change_type:"note",title:"",description:"",status:"pending"});y.useEffect(()=>{e&&i&&h(g=>({...g,entity_id:i}))},[e,i]),y.useEffect(()=>{e||h({entity_id:"",change_type:"note",title:"",description:"",status:"pending"})},[e]);const f=r.find(g=>g.id===d.entity_id),m=async g=>{if(g.preventDefault(),!o||!d.entity_id||!d.title)return;u(!0);const{error:p}=await K.from("changelog_entries").insert({user_id:o.id,entity_type:n,entity_id:d.entity_id,change_type:d.change_type,title:d.title,description:d.description||null,status:d.change_type==="update"?d.status:null,source:"manual"});p?l({title:"Failed to add entry",description:p.message,variant:"destructive"}):(l({title:"Entry added successfully"}),t(!1),a()),u(!1)};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(Qn,{className:"sm:max-w-[500px]",children:[s.jsx(Zn,{children:s.jsx(er,{children:"Add Changelog Entry"})}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&f?s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:f.name})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsxs(Ue,{value:d.entity_id,onValueChange:g=>h(p=>({...p,entity_id:g})),children:[s.jsx(Le,{children:s.jsx(ze,{placeholder:"Select..."})}),s.jsx(Fe,{children:r.map(g=>s.jsx(oe,{value:g.id,children:g.name},g.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Entry Type"}),s.jsxs(Ue,{value:d.change_type,onValueChange:g=>h(p=>({...p,change_type:g})),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"note",children:"Note"}),s.jsx(oe,{value:"update",children:"Update"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Title"}),s.jsx(le,{value:d.title,onChange:g=>h(p=>({...p,title:g.target.value})),placeholder:"Brief title for this entry",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Description (Optional)"}),s.jsx(xt,{value:d.description,onChange:g=>h(p=>({...p,description:g.target.value})),placeholder:"Add more details...",rows:4})]}),d.change_type==="update"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Status"}),s.jsxs(Ue,{value:d.status,onValueChange:g=>h(p=>({...p,status:g})),children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"})]})]})]}),s.jsxs(iH,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(X,{type:"submit",disabled:c||!d.entity_id||!d.title,children:c?"Adding...":"Add Entry"})]})]})]})})}const cWe=({entityType:e,entityId:t,entityName:n,orgId:r,onEntryAdded:a})=>{const{user:i}=qt(),{toast:o}=vn(),[l,c]=y.useState(""),[u,d]=y.useState(!1),h=async m=>{if(m==null||m.preventDefault(),!(!l.trim()||!i)){d(!0);try{if(e==="voice_assistant"){const[g,p]=await Promise.all([K.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:t,org_id:r||null,title:l.trim(),priority:"medium",status:"pending"}),K.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"})]);if(g.error)throw g.error;if(p.error)throw p.error}else{const{error:g}=await K.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"});if(g)throw g}c(""),o({title:`Task added for ${n}`}),a()}catch(g){console.error("Error creating entry:",g),o({title:"Failed to create task",variant:"destructive"})}finally{d(!1)}}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h())};return s.jsxs("form",{onSubmit:h,className:"flex items-center gap-2 mb-6 p-3 bg-muted/50 rounded-lg border border-border",children:[s.jsx(le,{value:l,onChange:m=>c(m.target.value),onKeyDown:f,placeholder:"Add a task and press Enter...",disabled:u,className:"flex-1 bg-background"}),s.jsx(X,{type:"submit",size:"sm",disabled:u||!l.trim(),children:u?s.jsx(ds,{className:"h-4 w-4 animate-spin"}):s.jsx(Gt,{className:"h-4 w-4"})})]})};function uWe(){const{user:e}=qt(),{toast:t}=vn(),[n,r]=y.useState("chatbot"),[a,i]=y.useState(null),[o,l]=y.useState("all"),[c,u]=y.useState([]),[d,h]=y.useState([]),[f,m]=y.useState([]),[g,p]=y.useState(!0),[v,x]=y.useState(!1),[b,w]=y.useState(null),[j,S]=y.useState(!1),[N,C]=y.useState("");y.useEffect(()=>{e&&(k(),D())},[e]),y.useEffect(()=>{e&&b!==null&&n==="voice_assistant"&&R()},[e,b,n]);const k=async()=>{try{const{data:U,error:M}=await K.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(M)throw M;w((U==null?void 0:U.org_id)||"")}catch(U){console.error("Error fetching active connection:",U),w("")}},D=async()=>{const{data:U}=await K.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});U&&h(U)},R=async()=>{let U=K.from("voice_assistants").select("id, name, org_id, created_at").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});b&&(U=U.eq("org_id",b));const{data:M}=await U;M&&m(M.map(Y=>({id:Y.id,name:Y.name||"Unnamed Assistant",org_id:Y.org_id})))},E=async()=>{i(null),await k(),S(!0);try{const U=await ny();t({title:`Synced ${U.count} assistants`})}catch(U){console.error("Error syncing assistants:",U),t({title:"Failed to sync assistants",variant:"destructive"})}finally{S(!1)}};y.useEffect(()=>{const U=n==="chatbot"?d:f;U.length>0&&!a&&i(U[0].id)},[d,f,n,a]),y.useEffect(()=>{if(!e||!a)return;(async()=>{p(!0);let M=K.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(M=M.eq("change_type",o));const{data:Y,error:ee}=await M;ee?t({title:"Error fetching changelog",description:ee.message,variant:"destructive"}):u(Y||[]),p(!1)})()},[e,n,a,o]);const B=n==="chatbot"?d:f,F=B.find(U=>U.id===a),L=async()=>{if(!e||!a)return;let U=K.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(U=U.eq("change_type",o));const{data:M}=await U;M&&u(M)},I=async(U,M)=>{const{error:Y}=await K.from("changelog_entries").update({status:M}).eq("id",U);Y?t({title:"Error updating status",variant:"destructive"}):(u(ee=>ee.map(_=>_.id===U?{..._,status:M}:_)),t({title:"Status updated"}))},O=async U=>{const{error:M}=await K.from("changelog_entries").delete().eq("id",U);M?t({title:"Error deleting entry",variant:"destructive"}):(u(Y=>Y.filter(ee=>ee.id!==U)),t({title:"Entry deleted"}))},$=U=>{r(U),i(null),U==="voice_assistant"&&R()},T=[{value:"all",label:"All",icon:g_},{value:"update",label:"Updates",icon:oi},{value:"note",label:"Notes",icon:Tn}];return s.jsx(br,{children:s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(g_,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Changelog"})]}),s.jsxs("div",{className:"flex rounded-lg border border-border overflow-hidden mb-3",children:[s.jsxs("button",{onClick:()=>$("chatbot"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="chatbot"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(vt,{className:"h-3.5 w-3.5"}),"Chatbots"]}),s.jsxs("button",{onClick:()=>$("voice_assistant"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="voice_assistant"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(Lm,{className:"h-3.5 w-3.5"}),"Voice"]})]}),n==="voice_assistant"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wK,{onSwitch:E,compact:!0}),j&&s.jsx(fa,{className:"h-3.5 w-3.5 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(_a,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:`Search ${n==="chatbot"?"chatbots":"assistants"}...`,value:N,onChange:U=>C(U.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Ws,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const U=B.filter(M=>{var Y;return(Y=M.name)==null?void 0:Y.toLowerCase().includes(N.toLowerCase())});return U.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[n==="chatbot"?s.jsx(vt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}):s.jsx(Lm,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N?"No matching results":`No ${n==="chatbot"?"chatbots":"assistants"} found`})]}):U.map(M=>{const Y=a===M.id;return s.jsx("button",{onClick:()=>i(M.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${Y?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`font-medium text-sm truncate ${Y?"text-primary":""}`,children:M.name})}),Y&&s.jsx(Wa,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},M.id)})})()})}),B.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[B.length," ",n==="chatbot"?"chatbots":"assistants"]}),s.jsxs("span",{children:[c.length," entries"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:F?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:n==="chatbot"?s.jsx(vt,{className:"h-6 w-6 text-primary"}):s.jsx(Lm,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:F.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.length," changelog ",c.length===1?"entry":"entries"]})]})]}),s.jsxs(X,{onClick:()=>x(!0),size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(Gt,{className:"h-4 w-4"}),"More Options"]})]}),s.jsx(cWe,{entityType:n,entityId:a,entityName:F.name,orgId:F.org_id,onEntryAdded:L}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:T.map(U=>s.jsx("button",{onClick:()=>l(U.value),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${o===U.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:U.label},U.value))}),s.jsx(Yr,{className:"mb-6"}),s.jsx(oWe,{entries:c,loading:g,entities:B,onStatusChange:I,onDelete:O})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(g_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an item to view its changelog"})]})})}),s.jsx(lWe,{open:v,onOpenChange:x,entityType:n,entities:B,onEntryAdded:L,preSelectedEntityId:a})]})})}var kJ="AlertDialog",[dWe,HGe]=Or(kJ,[WU]),Io=WU(),EJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Io(t);return s.jsx(l2,{...r,...n,modal:!0})};EJ.displayName=kJ;var hWe="AlertDialogTrigger",fWe=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Io(n);return s.jsx(oz,{...a,...r,ref:t})});fWe.displayName=hWe;var mWe="AlertDialogPortal",PJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Io(t);return s.jsx(c2,{...r,...n})};PJ.displayName=mWe;var pWe="AlertDialogOverlay",AJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Io(n);return s.jsx(Lg,{...a,...r,ref:t})});AJ.displayName=pWe;var $d="AlertDialogContent",[gWe,vWe]=dWe($d),TJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Io(n),o=y.useRef(null),l=Ye(t,o),c=y.useRef(null);return s.jsx(Dce,{contentName:$d,titleName:OJ,docsSlug:"alert-dialog",children:s.jsx(gWe,{scope:n,cancelRef:c,children:s.jsxs(Fg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:we(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(_P,{children:r}),s.jsx(yWe,{contentRef:o})]})})})});TJ.displayName=$d;var OJ="AlertDialogTitle",MJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Io(n);return s.jsx(Bg,{...a,...r,ref:t})});MJ.displayName=OJ;var DJ="AlertDialogDescription",IJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Io(n);return s.jsx(Ug,{...a,...r,ref:t})});IJ.displayName=DJ;var xWe="AlertDialogAction",RJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Io(n);return s.jsx(hw,{...a,...r,ref:t})});RJ.displayName=xWe;var $J="AlertDialogCancel",LJ=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=vWe($J,n),i=Io(n),o=Ye(t,a);return s.jsx(hw,{...i,...r,ref:o})});LJ.displayName=$J;var yWe=({contentRef:e})=>{const t=`\`${$d}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$d}\` by passing a \`${DJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$d}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bWe=EJ,wWe=PJ,FJ=AJ,BJ=TJ,UJ=RJ,zJ=LJ,qJ=MJ,VJ=IJ;const jWe=bWe,_We=wWe,WJ=y.forwardRef(({className:e,...t},n)=>s.jsx(FJ,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));WJ.displayName=FJ.displayName;const HJ=y.forwardRef(({className:e,...t},n)=>s.jsxs(_We,{children:[s.jsx(WJ,{}),s.jsx(BJ,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));HJ.displayName=BJ.displayName;const GJ=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});GJ.displayName="AlertDialogHeader";const KJ=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});KJ.displayName="AlertDialogFooter";const YJ=y.forwardRef(({className:e,...t},n)=>s.jsx(qJ,{ref:n,className:me("text-lg font-semibold",e),...t}));YJ.displayName=qJ.displayName;const JJ=y.forwardRef(({className:e,...t},n)=>s.jsx(VJ,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));JJ.displayName=VJ.displayName;const XJ=y.forwardRef(({className:e,...t},n)=>s.jsx(UJ,{ref:n,className:me(Ep(),e),...t}));XJ.displayName=UJ.displayName;const QJ=y.forwardRef(({className:e,...t},n)=>s.jsx(zJ,{ref:n,className:me(Ep({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));QJ.displayName=zJ.displayName;var Qe=function(){return Qe=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qe.apply(this,arguments)};function NWe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function ZJ(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function vv(e){return e.mode==="multiple"}function xv(e){return e.mode==="range"}function Mj(e){return e.mode==="single"}var SWe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function CWe(e,t){return at(e,"LLLL y",t)}function kWe(e,t){return at(e,"d",t)}function EWe(e,t){return at(e,"LLLL",t)}function PWe(e){return"".concat(e)}function AWe(e,t){return at(e,"cccccc",t)}function TWe(e,t){return at(e,"yyyy",t)}var OWe=Object.freeze({__proto__:null,formatCaption:CWe,formatDay:kWe,formatMonthCaption:EWe,formatWeekNumber:PWe,formatWeekdayName:AWe,formatYearCaption:TWe}),MWe=function(e,t,n){return at(e,"do MMMM (EEEE)",n)},DWe=function(){return"Month: "},IWe=function(){return"Go to next month"},RWe=function(){return"Go to previous month"},$We=function(e,t){return at(e,"cccc",t)},LWe=function(e){return"Week n. ".concat(e)},FWe=function(){return"Year: "},BWe=Object.freeze({__proto__:null,labelDay:MWe,labelMonthDropdown:DWe,labelNext:IWe,labelPrevious:RWe,labelWeekNumber:LWe,labelWeekday:$We,labelYearDropdown:FWe});function UWe(){var e="buttons",t=SWe,n=wz,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:OWe,labels:BWe,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function zWe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=fs(r):t&&(i=new Date(t,0,1)),a?o=p2(a):n&&(o=new Date(n,11,31)),{fromDate:i?dh(i):void 0,toDate:o?dh(o):void 0}}var eX=y.createContext(void 0);function qWe(e){var t,n=e.initialProps,r=UWe(),a=zWe(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Mj(n)||vv(n)||xv(n))&&(c=n.onSelect);var u=Qe(Qe(Qe({},r),n),{captionLayout:l,classNames:Qe(Qe({},r.classNames),n.classNames),components:Qe({},n.components),formatters:Qe(Qe({},r.formatters),n.formatters),fromDate:i,labels:Qe(Qe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Qe(Qe({},r.modifiers),n.modifiers),modifiersClassNames:Qe(Qe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Qe(Qe({},r.styles),n.styles),toDate:o});return s.jsx(eX.Provider,{value:u,children:e.children})}function cn(){var e=y.useContext(eX);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function tX(e){var t=cn(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function VWe(e){return s.jsx("svg",Qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nX(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=cn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:VWe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function WWe(e){var t,n=cn(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(Sde(r,a))for(var f=fs(r),m=r.getMonth();m<=a.getMonth();m++)h.push(B_(f,m));else for(var f=fs(new Date),m=0;m<=11;m++)h.push(B_(f,m));var g=function(v){var x=Number(v.target.value),b=B_(fs(e.displayMonth),x);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:nX;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function HWe(e){var t,n=e.displayMonth,r=cn(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)f.push(CD(yz(new Date),p));var v=function(b){var w=CD(fs(n),Number(b.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:nX;return s.jsx(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function GWe(e,t){var n=y.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function KWe(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Pp(i,a)<0){var u=-1*(c-1);a=ni(i,u)}return o&&Pp(a,o)<0&&(a=o),fs(a)}function YWe(){var e=cn(),t=KWe(e),n=GWe(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=fs(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function JWe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=fs(e),i=fs(ni(a,r)),o=Pp(i,a),l=[],c=0;c<o;c++){var u=ni(a,c);l.push(u)}return n&&(l=l.reverse()),l}function XWe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=fs(e);if(!n)return ni(l,o);var c=Pp(n,e);if(!(c<i))return ni(l,o)}}function QWe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=fs(e);if(!n)return ni(l,-o);var c=Pp(l,n);if(!(c<=0))return ni(l,-o)}}var rX=y.createContext(void 0);function ZWe(e){var t=cn(),n=YWe(),r=n[0],a=n[1],i=JWe(r,t),o=XWe(r,t),l=QWe(r,t),c=function(h){return i.some(function(f){return v2(h,f)})},u=function(h,f){c(h)||(f&&Cz(h,f)?a(ni(h,1+t.numberOfMonths*-1)):a(h))},d={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(rX.Provider,{value:d,children:e.children})}function yv(){var e=y.useContext(rX);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function kF(e){var t,n=cn(),r=n.classNames,a=n.styles,i=n.components,o=yv().goToMonth,l=function(d){o(ni(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:tX,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(WWe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(HWe,{onChange:l,displayMonth:e.displayMonth})]})}function e9e(e){return s.jsx("svg",Qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function t9e(e){return s.jsx("svg",Qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var p0=y.forwardRef(function(e,t){var n=cn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=Qe(Qe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Qe({},e,{ref:t,type:"button",className:o,style:l}))});function n9e(e){var t,n,r=cn(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:t9e,x=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:e9e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(p0,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(p0,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function EF(e){var t=cn().numberOfMonths,n=yv(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(g){return v2(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&i(r)},m=function(){a&&i(a)};return s.jsx(n9e,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:m})}function r9e(e){var t,n=cn(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:tX,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(kF,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(kF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(EF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(EF,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:u})}function s9e(e){var t=cn(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function a9e(e,t,n){for(var r=n?iu(new Date):Li(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=_r(r,i);a.push(o)}return a}function i9e(){var e=cn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=a9e(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},h)})]})}function o9e(){var e,t=cn(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:i9e;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function l9e(e){var t=cn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var RT=y.createContext(void 0);function c9e(e){if(!vv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(RT.Provider,{value:t,children:e.children})}return s.jsx(u9e,{initialProps:e.initialProps,children:e.children})}function u9e(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(u,d,h){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var g=!!(d.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var p=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var v=r?ZJ([],r):[];if(d.selected){var x=v.findIndex(function(b){return Pr(u,b)});v.splice(x,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return Pr(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(RT.Provider,{value:c,children:n})}function $T(){var e=y.useContext(RT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function d9e(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Pr(a,e)&&Pr(r,e)?void 0:Pr(a,e)?{from:a,to:void 0}:Pr(r,e)?void 0:VS(r,e)?{from:e,to:a}:{from:r,to:e}:a?VS(e,a)?{from:a,to:e}:{from:e,to:a}:r?Cz(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var LT=y.createContext(void 0);function h9e(e){if(!xv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(LT.Provider,{value:t,children:e.children})}return s.jsx(f9e,{initialProps:e.initialProps,children:e.children})}function f9e(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var b=d9e(m,r);(x=t.onSelect)===null||x===void 0||x.call(t,b,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Pr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:L_(i,l-1),before:_r(i,l-1)}),i&&o&&d.disabled.push({after:i,before:_r(i,l-1)}),!i&&o&&d.disabled.push({after:L_(o,l-1),before:_r(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:_r(i,-c+1)}),d.disabled.push({after:_r(i,c-1)})),i&&o){var h=Pi(o,i)+1,f=c-h;d.disabled.push({before:L_(i,f)}),d.disabled.push({after:_r(o,f)})}!i&&o&&(d.disabled.push({before:_r(o,-c+1)}),d.disabled.push({after:_r(o,c-1)}))}return s.jsx(LT.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function FT(){var e=y.useContext(LT);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function hy(e){return Array.isArray(e)?ZJ([],e):e!==void 0?[e]:[]}function m9e(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=hy(a)}),t}var si;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(si||(si={}));var p9e=si.Selected,Ki=si.Disabled,g9e=si.Hidden,v9e=si.Today,X1=si.RangeEnd,Q1=si.RangeMiddle,Z1=si.RangeStart,x9e=si.Outside;function y9e(e,t,n){var r,a=(r={},r[p9e]=hy(e.selected),r[Ki]=hy(e.disabled),r[g9e]=hy(e.hidden),r[v9e]=[e.today],r[X1]=[],r[Q1]=[],r[Z1]=[],r[x9e]=[],r);return e.fromDate&&a[Ki].push({before:e.fromDate}),e.toDate&&a[Ki].push({after:e.toDate}),vv(e)?a[Ki]=a[Ki].concat(t.modifiers[Ki]):xv(e)&&(a[Ki]=a[Ki].concat(n.modifiers[Ki]),a[Z1]=n.modifiers[Z1],a[Q1]=n.modifiers[Q1],a[X1]=n.modifiers[X1]),a}var sX=y.createContext(void 0);function b9e(e){var t=cn(),n=$T(),r=FT(),a=y9e(t,n,r),i=m9e(t.modifiers),o=Qe(Qe({},a),i);return s.jsx(sX.Provider,{value:o,children:e.children})}function aX(){var e=y.useContext(sX);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function w9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function j9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function _9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function N9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function S9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function C9e(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Pi(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Pi(e,r)>=0&&Pi(a,e)>=0;return o}return a?Pr(a,e):r?Pr(r,e):!1}function k9e(e){return m2(e)}function E9e(e){return Array.isArray(e)&&e.every(m2)}function P9e(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(k9e(n))return Pr(e,n);if(E9e(n))return n.includes(e);if(j9e(n))return C9e(e,n);if(S9e(n))return n.dayOfWeek.includes(e.getDay());if(w9e(n)){var r=Pi(n.before,e),a=Pi(n.after,e),i=r>0,o=a<0,l=VS(n.before,n.after);return l?o&&i:i||o}return _9e(n)?Pi(e,n.after)>0:N9e(n)?Pi(n.before,e)>0:typeof n=="function"?n(e):!1})}function BT(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return P9e(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!v2(e,n)&&(a.outside=!0),a}function A9e(e,t){for(var n=fs(e[0]),r=p2(e[e.length-1]),a,i,o=n;o<=r;){var l=BT(o,t),c=!l.disabled&&!l.hidden;if(!c){o=_r(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=_r(o,1)}return i||a}var T9e=365;function iX(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,f={day:_r,week:qS,month:ni,year:wue,startOfWeek:function(v){return a.ISOWeek?iu(v):Li(v,{locale:h,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?bz(v):g2(v,{locale:h,weekStartsOn:c})}},m=f[n](e,r==="after"?1:-1);r==="before"&&u?m=jue([u,m]):r==="after"&&d&&(m=_ue([d,m]));var g=!0;if(i){var p=BT(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>T9e?l.lastFocused:iX(m,{moveBy:n,direction:r,context:a,modifiers:i,retry:Qe(Qe({},l),{count:l.count+1})})}var oX=y.createContext(void 0);function O9e(e){var t=yv(),n=aX(),r=y.useState(),a=r[0],i=r[1],o=y.useState(),l=o[0],c=o[1],u=A9e(t.displayMonths,n),d=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},f=function(v){i(v)},m=cn(),g=function(v,x){if(a){var b=iX(a,{moveBy:v,direction:x,context:m,modifiers:n});Pr(a,b)||(t.goToDate(b,a),f(b))}},p={focusedDay:a,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(oX.Provider,{value:p,children:e.children})}function UT(){var e=y.useContext(oX);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function M9e(e,t){var n=aX(),r=BT(e,n,t);return r}var zT=y.createContext(void 0);function D9e(e){if(!Mj(e.initialProps)){var t={selected:void 0};return s.jsx(zT.Provider,{value:t,children:e.children})}return s.jsx(I9e,{initialProps:e.initialProps,children:e.children})}function I9e(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(zT.Provider,{value:a,children:n})}function lX(){var e=y.useContext(zT);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function R9e(e,t){var n=cn(),r=lX(),a=$T(),i=FT(),o=UT(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function($){var T,U,M,Y;Mj(n)?(T=r.onDayClick)===null||T===void 0||T.call(r,e,t,$):vv(n)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,$):xv(n)?(M=i.onDayClick)===null||M===void 0||M.call(i,e,t,$):(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,$)},j=function($){var T;f(e),(T=n.onDayFocus)===null||T===void 0||T.call(n,e,t,$)},S=function($){var T;h(),(T=n.onDayBlur)===null||T===void 0||T.call(n,e,t,$)},N=function($){var T;(T=n.onDayMouseEnter)===null||T===void 0||T.call(n,e,t,$)},C=function($){var T;(T=n.onDayMouseLeave)===null||T===void 0||T.call(n,e,t,$)},k=function($){var T;(T=n.onDayPointerEnter)===null||T===void 0||T.call(n,e,t,$)},D=function($){var T;(T=n.onDayPointerLeave)===null||T===void 0||T.call(n,e,t,$)},R=function($){var T;(T=n.onDayTouchCancel)===null||T===void 0||T.call(n,e,t,$)},E=function($){var T;(T=n.onDayTouchEnd)===null||T===void 0||T.call(n,e,t,$)},B=function($){var T;(T=n.onDayTouchMove)===null||T===void 0||T.call(n,e,t,$)},F=function($){var T;(T=n.onDayTouchStart)===null||T===void 0||T.call(n,e,t,$)},L=function($){var T;(T=n.onDayKeyUp)===null||T===void 0||T.call(n,e,t,$)},I=function($){var T;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?p():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?v():g();break;case"Home":$.preventDefault(),$.stopPropagation(),x();break;case"End":$.preventDefault(),$.stopPropagation(),b();break}(T=n.onDayKeyDown)===null||T===void 0||T.call(n,e,t,$)},O={onClick:w,onFocus:j,onBlur:S,onKeyDown:I,onKeyUp:L,onMouseEnter:N,onMouseLeave:C,onPointerEnter:k,onPointerLeave:D,onTouchCancel:R,onTouchEnd:E,onTouchMove:B,onTouchStart:F};return O}function $9e(){var e=cn(),t=lX(),n=$T(),r=FT(),a=Mj(e)?t.selected:vv(e)?n.selected:xv(e)?r.selected:void 0;return a}function L9e(e){return Object.values(si).includes(e)}function F9e(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(L9e(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function B9e(e,t){var n=Qe({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=Qe(Qe({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function U9e(e,t,n){var r,a,i,o=cn(),l=UT(),c=M9e(e,t),u=R9e(e,c),d=$9e(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;c.outside||l.focusedDay&&h&&Pr(l.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[l.focusedDay,e,n,h,c.outside]);var f=F9e(o,c).join(" "),m=B9e(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:l9e,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:f,children:v,role:"gridcell"},b=l.focusTarget&&Pr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Pr(l.focusedDay,e),j=Qe(Qe(Qe({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||b?0:-1,r)),u),S={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:x};return S}function z9e(e){var t=y.useRef(null),n=U9e(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(p0,Qe({name:"day",ref:t},n.buttonProps)):s.jsx("div",Qe({},n.divProps))}function q9e(e){var t=e.number,n=e.dates,r=cn(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(m){a(t,n,m)};return s.jsx(p0,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function V9e(e){var t,n,r=cn(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:z9e,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:q9e,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},jde(h))})]})}function PF(e,t,n){for(var r=n!=null&&n.ISOWeek?bz(t):g2(t,n),a=n!=null&&n.ISOWeek?iu(e):Li(e,n),i=Pi(r,a),o=[],l=0;l<=i;l++)o.push(_r(a,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?jz(d):Nz(d,n),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function W9e(e,t){var n=PF(fs(e),p2(e),t);if(t!=null&&t.useFixedWeeks){var r=Nde(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=qS(i,6-r),l=PF(qS(i,1),o,t);n.push.apply(n,l)}}return n}function H9e(e){var t,n,r,a=cn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,g=W9e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:o9e,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:V9e,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:s9e;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(b){return s.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function G9e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var K9e=G9e()?y.useLayoutEffect:y.useEffect,eN=!1,Y9e=0;function AF(){return"react-day-picker-".concat(++Y9e)}function J9e(e){var t,n=e??(eN?AF():null),r=y.useState(n),a=r[0],i=r[1];return K9e(function(){a===null&&i(AF())},[]),y.useEffect(function(){eN===!1&&(eN=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function X9e(e){var t,n,r=cn(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=yv().displayMonths,u=J9e(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(h.push(i.caption_start),f=Qe(Qe({},f),o.caption_start)),g&&(h.push(i.caption_end),f=Qe(Qe({},f),o.caption_end)),p&&(h.push(i.caption_between),f=Qe(Qe({},f),o.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:r9e;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(H9e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Q9e(e){var t=cn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function Z9e(e){var t,n,r=e.initialProps,a=cn(),i=UT(),o=yv(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=Qe(Qe({},a.styles.root),a.style),f=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return Qe(Qe({},g),(v={},v[p]=r[p],v))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Q9e;return s.jsx("div",Qe({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(X9e,{displayIndex:p,displayMonth:g},p)})})}))}function e7e(e){var t=e.children,n=NWe(e,["children"]);return s.jsx(qWe,{initialProps:n,children:s.jsx(ZWe,{children:s.jsx(D9e,{initialProps:n,children:s.jsx(c9e,{initialProps:n,children:s.jsx(h9e,{initialProps:n,children:s.jsx(b9e,{children:s.jsx(O9e,{children:t})})})})})})})}function t7e(e){return s.jsx(e7e,Qe({},e,{children:s.jsx(Z9e,{initialProps:e})}))}function cX({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(t7e,{showOutsideDays:n,className:me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:me(Ep({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:me(Ep({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(bte,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Wa,{className:"h-4 w-4"})},...r})}cX.displayName="Calendar";var qT="Popover",[uX,GGe]=Or(qT,[Jl]),bv=Jl(),[n7e,ic]=uX(qT),dX=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=bv(t),c=y.useRef(null),[u,d]=y.useState(!1),[h=!1,f]=xs({prop:r,defaultProp:a,onChange:i});return s.jsx(W0,{...l,children:s.jsx(n7e,{scope:t,contentId:Bs(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:n})})};dX.displayName=qT;var hX="PopoverAnchor",r7e=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(hX,n),i=bv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Tg,{...i,...r,ref:t})});r7e.displayName=hX;var fX="PopoverTrigger",mX=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(fX,n),i=bv(n),o=Ye(t,a.triggerRef),l=s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yX(a.open),...r,ref:o,onClick:we(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Tg,{asChild:!0,...i,children:l})});mX.displayName=fX;var VT="PopoverPortal",[s7e,a7e]=uX(VT,{forceMount:void 0}),pX=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=ic(VT,t);return s.jsx(s7e,{scope:t,forceMount:n,children:s.jsx($n,{present:n||i.open,children:s.jsx(Kh,{asChild:!0,container:a,children:r})})})};pX.displayName=VT;var qh="PopoverContent",gX=y.forwardRef((e,t)=>{const n=a7e(qh,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=ic(qh,e.__scopePopover);return s.jsx($n,{present:r||i.open,children:i.modal?s.jsx(i7e,{...a,ref:t}):s.jsx(o7e,{...a,ref:t})})});gX.displayName=qh;var i7e=y.forwardRef((e,t)=>{const n=ic(qh,e.__scopePopover),r=y.useRef(null),a=Ye(t,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return dw(o)},[]),s.jsx($g,{as:vs,allowPinchZoom:!0,children:s.jsx(vX,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:we(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),o7e=y.forwardRef((e,t)=>{const n=ic(qh,e.__scopePopover),r=y.useRef(!1),a=y.useRef(!1);return s.jsx(vX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),vX=y.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=ic(qh,n),m=bv(n);return cw(),s.jsx(Rg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(H0,{"data-state":yX(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xX="PopoverClose",l7e=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ic(xX,n);return s.jsx(De.button,{type:"button",...r,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});l7e.displayName=xX;var c7e="PopoverArrow",u7e=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=bv(n);return s.jsx(G0,{...a,...r,ref:t})});u7e.displayName=c7e;function yX(e){return e?"open":"closed"}var d7e=dX,h7e=mX,f7e=pX,bX=gX;const m7e=d7e,p7e=h7e,wX=y.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(f7e,{children:s.jsx(bX,{ref:a,align:t,sideOffset:n,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));wX.displayName=bX.displayName;const g7e=({open:e,onOpenChange:t,task:n,onUpdate:r})=>{const[a,i]=y.useState(!1),[o,l]=y.useState(n.title),[c,u]=y.useState(n.description||""),[d,h]=y.useState(n.priority),[f,m]=y.useState(n.status),[g,p]=y.useState(n.due_date?new Date(n.due_date):void 0);y.useEffect(()=>{e&&(l(n.title),u(n.description||""),h(n.priority),m(n.status),p(n.due_date?new Date(n.due_date):void 0))},[e,n]);const v=async b=>{if(b.preventDefault(),!o.trim()){_e.error("Title is required");return}i(!0);try{const{data:w,error:j}=await K.from("voice_assistant_tasks").update({title:o.trim(),description:c.trim()||null,priority:d,status:f,due_date:(g==null?void 0:g.toISOString())||null}).eq("id",n.id).select().single();if(j)throw j;r(w),_e.success("Task updated successfully"),t(!1)}catch(w){console.error("Error updating task:",w),_e.error("Failed to update task")}finally{i(!1)}},x=()=>{p(void 0)};return s.jsx(mr,{open:e,onOpenChange:t,children:s.jsxs(Qn,{className:"sm:max-w-[500px]",children:[s.jsx(Zn,{children:s.jsx(er,{children:"Edit Task"})}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"edit-title",children:"Title *"}),s.jsx(le,{id:"edit-title",value:o,onChange:b=>l(b.target.value),placeholder:"Enter task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"edit-description",children:"Description"}),s.jsx(xt,{id:"edit-description",value:c,onChange:b=>u(b.target.value),placeholder:"Enter task description (optional)",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"edit-priority",children:"Priority"}),s.jsxs(Ue,{value:d,onValueChange:h,children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"low",children:"Low"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{htmlFor:"edit-status",children:"Status"}),s.jsxs(Ue,{value:f,onValueChange:m,children:[s.jsx(Le,{children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"}),s.jsx(oe,{value:"cancelled",children:"Cancelled"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(J,{children:"Due Date"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(m7e,{children:[s.jsx(p7e,{asChild:!0,children:s.jsxs(X,{variant:"outline",className:me("flex-1 justify-start text-left font-normal",!g&&"text-muted-foreground"),children:[s.jsx(fr,{className:"mr-2 h-4 w-4"}),g?at(g,"PPP"):"Pick a due date"]})}),s.jsx(wX,{className:"w-auto p-0",align:"start",children:s.jsx(cX,{mode:"single",selected:g,onSelect:p,initialFocus:!0})})]}),g&&s.jsx(X,{type:"button",variant:"outline",onClick:x,children:"Clear"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(X,{type:"submit",disabled:a,children:[a&&s.jsx(ds,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})},v7e={low:"bg-slate-500/20 text-slate-400 border-slate-500/30",medium:"bg-blue-500/20 text-blue-400 border-blue-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",urgent:"bg-red-500/20 text-red-400 border-red-500/30"},x7e={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30",cancelled:"bg-slate-500/20 text-slate-400 border-slate-500/30"},y7e=({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a})=>{const[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),h=e.due_date&&kz(new Date(e.due_date))&&e.status!=="completed",f=e.due_date&&WS(new Date(e.due_date)),m=async p=>{d(!0);try{const{data:v,error:x}=await K.from("voice_assistant_tasks").update({status:p}).eq("id",e.id).select().single();if(x)throw x;p==="completed"?await K.from("changelog_entries").update({change_type:"update",status:"completed"}).eq("entity_id",e.assistant_id).eq("title",e.title).eq("change_type","task"):await K.from("changelog_entries").update({status:p}).eq("entity_id",e.assistant_id).eq("title",e.title).eq("change_type","task"),r(v),_e.success("Status updated")}catch(v){console.error("Error updating status:",v),_e.error("Failed to update status")}finally{d(!1)}},g=async()=>{try{const{error:p}=await K.from("voice_assistant_tasks").delete().eq("id",e.id);if(p)throw p;a(e.id),_e.success("Task deleted")}catch(p){console.error("Error deleting task:",p),_e.error("Failed to delete task")}};return s.jsxs(s.Fragment,{children:[s.jsx(W,{className:`transition-all ${h?"border-red-500/50":""}`,children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-base",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:e.description})]}),s.jsxs(mT,{children:[s.jsx(pT,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:s.jsx(HB,{className:"h-4 w-4"})})}),s.jsxs(jj,{align:"end",children:[s.jsxs(bl,{onClick:()=>o(!0),children:[s.jsx(sS,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(gT,{}),s.jsxs(bl,{onClick:()=>c(!0),className:"text-destructive",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Ee,{variant:"outline",className:"text-xs",children:t}),s.jsx(Ee,{variant:"outline",className:"text-xs bg-muted/50",children:n}),s.jsx(Ee,{className:`text-xs ${v7e[e.priority]}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),e.due_date&&s.jsxs(Ee,{variant:"outline",className:`text-xs flex items-center gap-1 ${h?"bg-red-500/20 text-red-400 border-red-500/30":f?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":""}`,children:[h?s.jsx(t8,{className:"h-3 w-3"}):s.jsx(fr,{className:"h-3 w-3"}),at(new Date(e.due_date),"MMM d, yyyy")]}),s.jsxs(Ee,{variant:"outline",className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),at(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]})]})]}),s.jsx("div",{className:"flex items-center gap-2 shrink-0",children:s.jsxs(Ue,{value:e.status,onValueChange:m,disabled:u,children:[s.jsx(Le,{className:`w-[130px] h-8 text-xs ${x7e[e.status]}`,children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"}),s.jsx(oe,{value:"cancelled",children:"Cancelled"})]})]})})]})})}),s.jsx(g7e,{open:i,onOpenChange:o,task:e,onUpdate:r}),s.jsx(jWe,{open:l,onOpenChange:c,children:s.jsxs(HJ,{children:[s.jsxs(GJ,{children:[s.jsx(YJ,{children:"Delete Task"}),s.jsxs(JJ,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),s.jsxs(KJ,{children:[s.jsx(QJ,{children:"Cancel"}),s.jsx(XJ,{onClick:g,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})},b7e=({searchQuery:e,onSearchChange:t,assistants:n,connections:r,onAssistantSelect:a})=>{const[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=y.useRef(null),d=g=>{if(!g)return"No Organization";const p=r.find(v=>v.org_id===g);return(p==null?void 0:p.org_name)||g},h=e.trim()?n.filter(g=>(g.name||"").toLowerCase().includes(e.toLowerCase())):[];y.useEffect(()=>{const g=p=>{u.current&&!u.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),y.useEffect(()=>{e.trim()&&h.length>0&&l?o(!0):o(!1)},[e,h.length,l]);const f=g=>{t(g.name||""),o(!1),a&&a(g)},m=()=>{t(""),o(!1)};return s.jsxs("div",{ref:u,className:"relative flex-1",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search tasks or assistants...",value:e,onChange:g=>t(g.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),150),className:"pl-10 pr-10"}),e&&s.jsx("button",{onClick:m,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Yl,{className:"h-4 w-4"})}),i&&h.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border rounded-md shadow-lg z-50 max-h-[300px] overflow-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Matching Voice Assistants"}),h.map(g=>s.jsxs("button",{onClick:()=>f(g),className:me("w-full flex items-center gap-3 p-2 rounded-md hover:bg-accent text-left transition-colors"),children:[s.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:s.jsx(vt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:g.name||"Unnamed Assistant"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:d(g.org_id)})]}),s.jsx(Ee,{variant:"outline",className:"text-xs shrink-0",children:"Assistant"})]},g.id))]})})]})};function w7e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Of(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function WT(e){return"nodeType"in e}function Zr(e){var t,n;return e?Of(e)?e:WT(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function HT(e){const{Document:t}=Zr(e);return e instanceof t}function wv(e){return Of(e)?!1:e instanceof Zr(e).HTMLElement}function jX(e){return e instanceof Zr(e).SVGElement}function Mf(e){return e?Of(e)?e.document:WT(e)?HT(e)?e:wv(e)||jX(e)?e.ownerDocument:document:document:document}const ai=Dj?y.useLayoutEffect:y.useEffect;function Ij(e){const t=y.useRef(e);return ai(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function j7e(){const e=y.useRef(null),t=y.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function vg(e,t){t===void 0&&(t=[e]);const n=y.useRef(e);return ai(()=>{n.current!==e&&(n.current=e)},t),n}function jv(e,t){const n=y.useRef();return y.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function g0(e){const t=Ij(e),n=y.useRef(null),r=y.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function v0(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let tN={};function _v(e,t){return y.useMemo(()=>{if(t)return t;const n=tN[e]==null?0:tN[e]+1;return tN[e]=n,e+"-"+n},[e,t])}function _X(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Ld=_X(1),x0=_X(-1);function _7e(e){return"clientX"in e&&"clientY"in e}function Rj(e){if(!e)return!1;const{KeyboardEvent:t}=Zr(e.target);return t&&e instanceof t}function N7e(e){if(!e)return!1;const{TouchEvent:t}=Zr(e.target);return t&&e instanceof t}function y0(e){if(N7e(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return _7e(e)?{x:e.clientX,y:e.clientY}:null}const Wl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wl.Translate.toString(e),Wl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),TF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function S7e(e){return e.matches(TF)?e:e.querySelector(TF)}const C7e={display:"none"};function k7e(e){let{id:t,value:n}=e;return H.createElement("div",{id:t,style:C7e},n)}function E7e(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return H.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function P7e(){const[e,t]=y.useState("");return{announce:y.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const NX=y.createContext(null);function A7e(e){const t=y.useContext(NX);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function T7e(){const[e]=y.useState(()=>new Set),t=y.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[y.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const O7e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},M7e={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function D7e(e){let{announcements:t=M7e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=O7e}=e;const{announce:i,announcement:o}=P7e(),l=_v("DndLiveRegion"),[c,u]=y.useState(!1);if(y.useEffect(()=>{u(!0)},[]),A7e(y.useMemo(()=>({onDragStart(h){let{active:f}=h;i(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:m}=h;t.onDragMove&&i(t.onDragMove({active:f,over:m}))},onDragOver(h){let{active:f,over:m}=h;i(t.onDragOver({active:f,over:m}))},onDragEnd(h){let{active:f,over:m}=h;i(t.onDragEnd({active:f,over:m}))},onDragCancel(h){let{active:f,over:m}=h;i(t.onDragCancel({active:f,over:m}))}}),[i,t])),!c)return null;const d=H.createElement(H.Fragment,null,H.createElement(k7e,{id:r,value:a.draggable}),H.createElement(E7e,{id:l,announcement:o}));return n?ca.createPortal(d,n):d}var Bn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Bn||(Bn={}));function b0(){}function OF(e,t){return y.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function I7e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ii=Object.freeze({x:0,y:0});function R7e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $7e(e,t){const n=y0(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function L7e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function F7e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function B7e(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function MF(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const U7e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=MF(t,t.left,t.top),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=R7e(MF(c),a);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(L7e)};function z7e(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const q7e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=z7e(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(F7e)};function V7e(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function SX(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ii}function W7e(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const H7e=W7e(1);function CX(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function G7e(e,t,n){const r=CX(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const K7e={ignoreTransform:!1};function Df(e,t){t===void 0&&(t=K7e);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Zr(e).getComputedStyle(e);u&&(n=G7e(n,u,d))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function DF(e){return Df(e,{ignoreTransform:!0})}function Y7e(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function J7e(e,t){return t===void 0&&(t=Zr(e).getComputedStyle(e)),t.position==="fixed"}function X7e(e,t){t===void 0&&(t=Zr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function GT(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(HT(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!wv(a)||jX(a)||n.includes(a))return n;const i=Zr(e).getComputedStyle(a);return a!==e&&X7e(a,i)&&n.push(a),J7e(a,i)?n:r(a.parentNode)}return e?r(e):n}function kX(e){const[t]=GT(e,1);return t??null}function nN(e){return!Dj||!e?null:Of(e)?e:WT(e)?HT(e)||e===Mf(e).scrollingElement?window:wv(e)?e:null:null}function EX(e){return Of(e)?e.scrollX:e.scrollLeft}function PX(e){return Of(e)?e.scrollY:e.scrollTop}function CE(e){return{x:EX(e),y:PX(e)}}var Kn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Kn||(Kn={}));function AX(e){return!Dj||!e?!1:e===document.scrollingElement}function TX(e){const t={x:0,y:0},n=AX(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const Q7e={x:.2,y:.2};function Z7e(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=Q7e);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=TX(e),m={x:0,y:0},g={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+p.height?(m.y=Kn.Backward,g.y=r*Math.abs((t.top+p.height-i)/p.height)):!d&&c>=t.bottom-p.height&&(m.y=Kn.Forward,g.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!f&&l>=t.right-p.width?(m.x=Kn.Forward,g.x=r*Math.abs((t.right-p.width-l)/p.width)):!h&&o<=t.left+p.width&&(m.x=Kn.Backward,g.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:m,speed:g}}function eHe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function OX(e){return e.reduce((t,n)=>Ld(t,CE(n)),ii)}function tHe(e){return e.reduce((t,n)=>t+EX(n),0)}function nHe(e){return e.reduce((t,n)=>t+PX(n),0)}function MX(e,t){if(t===void 0&&(t=Df),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);kX(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const rHe=[["x",["left","right"],tHe],["y",["top","bottom"],nHe]];class KT{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=GT(n),a=OX(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of rHe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zm{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function sHe(e){const{EventTarget:t}=Zr(e);return e instanceof t?e:Mf(e)}function rN(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ra;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ra||(ra={}));function IF(e){e.preventDefault()}function aHe(e){e.stopPropagation()}var Dt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Dt||(Dt={}));const DX={start:[Dt.Space,Dt.Enter],cancel:[Dt.Esc],end:[Dt.Space,Dt.Enter,Dt.Tab]},iHe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Dt.Right:return{...n,x:n.x+25};case Dt.Left:return{...n,x:n.x-25};case Dt.Down:return{...n,y:n.y+25};case Dt.Up:return{...n,y:n.y-25}}};class IX{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Zm(Mf(n)),this.windowListeners=new Zm(Zr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ra.Resize,this.handleCancel),this.windowListeners.add(ra.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ra.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&MX(r),n(ii)}handleKeyDown(t){if(Rj(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=DX,coordinateGetter:o=iHe,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ii;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(t,{active:n,context:r.current,currentCoordinates:d});if(h){const f=x0(h,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const p of g){const v=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:j,maxScroll:S,minScroll:N}=TX(p),C=eHe(p),k={x:Math.min(v===Dt.Right?C.right-C.width/2:C.right,Math.max(v===Dt.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(v===Dt.Down?C.bottom-C.height/2:C.bottom,Math.max(v===Dt.Down?C.top:C.top+C.height/2,h.y))},D=v===Dt.Right&&!b||v===Dt.Left&&!w,R=v===Dt.Down&&!j||v===Dt.Up&&!x;if(D&&k.x!==h.x){const E=p.scrollLeft+f.x,B=v===Dt.Right&&E<=S.x||v===Dt.Left&&E>=N.x;if(B&&!f.y){p.scrollTo({left:E,behavior:l});return}B?m.x=p.scrollLeft-E:m.x=v===Dt.Right?p.scrollLeft-S.x:p.scrollLeft-N.x,m.x&&p.scrollBy({left:-m.x,behavior:l});break}else if(R&&k.y!==h.y){const E=p.scrollTop+f.y,B=v===Dt.Down&&E<=S.y||v===Dt.Up&&E>=N.y;if(B&&!f.x){p.scrollTo({top:E,behavior:l});return}B?m.y=p.scrollTop-E:m.y=v===Dt.Down?p.scrollTop-S.y:p.scrollTop-N.y,m.y&&p.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Ld(x0(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}IX.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=DX,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function RF(e){return!!(e&&"distance"in e)}function $F(e){return!!(e&&"delay"in e)}class YT{constructor(t,n,r){var a;r===void 0&&(r=sHe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=Mf(o),this.documentListeners=new Zm(this.document),this.listeners=new Zm(r),this.windowListeners=new Zm(Zr(o)),this.initialCoordinates=(a=y0(i))!=null?a:ii,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ra.Resize,this.handleCancel),this.windowListeners.add(ra.DragStart,IF),this.windowListeners.add(ra.VisibilityChange,this.handleCancel),this.windowListeners.add(ra.ContextMenu,IF),this.documentListeners.add(ra.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($F(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(RF(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ra.Click,aHe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ra.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=y0(t))!=null?n:ii,u=x0(a,c);if(!r&&l){if(RF(l)){if(l.tolerance!=null&&rN(u,l.tolerance))return this.handleCancel();if(rN(u,l.distance))return this.handleStart()}if($F(l)&&rN(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Dt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const oHe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class JT extends YT{constructor(t){const{event:n}=t,r=Mf(n.target);super(t,oHe,r)}}JT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const lHe={move:{name:"mousemove"},end:{name:"mouseup"}};var kE;(function(e){e[e.RightClick=2]="RightClick"})(kE||(kE={}));class cHe extends YT{constructor(t){super(t,lHe,Mf(t.event.target))}}cHe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===kE.RightClick?!1:(r==null||r({event:n}),!0)}}];const sN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class RX extends YT{constructor(t){super(t,sN)}static setup(){return window.addEventListener(sN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sN.move.name,t)};function t(){}}}RX.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var ep;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ep||(ep={}));var w0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(w0||(w0={}));function uHe(e){let{acceleration:t,activator:n=ep.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=w0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const m=hHe({delta:h,disabled:!i}),[g,p]=j7e(),v=y.useRef({x:0,y:0}),x=y.useRef({x:0,y:0}),b=y.useMemo(()=>{switch(n){case ep.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ep.DraggableRect:return a}},[n,a,c]),w=y.useRef(null),j=y.useCallback(()=>{const N=w.current;if(!N)return;const C=v.current.x*x.current.x,k=v.current.y*x.current.y;N.scrollBy(C,k)},[]),S=y.useMemo(()=>l===w0.TreeOrder?[...u].reverse():u,[l,u]);y.useEffect(()=>{if(!i||!u.length||!b){p();return}for(const N of S){if((r==null?void 0:r(N))===!1)continue;const C=u.indexOf(N),k=d[C];if(!k)continue;const{direction:D,speed:R}=Z7e(N,k,b,t,f);for(const E of["x","y"])m[E][D[E]]||(R[E]=0,D[E]=0);if(R.x>0||R.y>0){p(),w.current=N,g(j,o),v.current=R,x.current=D;return}}v.current={x:0,y:0},x.current={x:0,y:0},p()},[t,j,r,p,i,o,JSON.stringify(b),JSON.stringify(m),g,u,S,d,JSON.stringify(f)])}const dHe={x:{[Kn.Backward]:!1,[Kn.Forward]:!1},y:{[Kn.Backward]:!1,[Kn.Forward]:!1}};function hHe(e){let{delta:t,disabled:n}=e;const r=v0(t);return jv(a=>{if(n||!r||!a)return dHe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Kn.Backward]:a.x[Kn.Backward]||i.x===-1,[Kn.Forward]:a.x[Kn.Forward]||i.x===1},y:{[Kn.Backward]:a.y[Kn.Backward]||i.y===-1,[Kn.Forward]:a.y[Kn.Forward]||i.y===1}}},[n,t,r])}function fHe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return jv(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function mHe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var Vh;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Vh||(Vh={}));var EE;(function(e){e.Optimized="optimized"})(EE||(EE={}));const LF=new Map;function pHe(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=y.useState(null),{frequency:l,measure:c,strategy:u}=a,d=y.useRef(e),h=v(),f=vg(h),m=y.useCallback(function(x){x===void 0&&(x=[]),!f.current&&o(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[f]),g=y.useRef(null),p=jv(x=>{if(h&&!n)return LF;if(!x||x===LF||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const j=w.node.current,S=j?new KT(c(j),j):null;w.rect.current=S,S&&b.set(w.id,S)}return b}return x},[e,i,n,h,c]);return y.useEffect(()=>{d.current=e},[e]),y.useEffect(()=>{h||m()},[n,h]),y.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),y.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},l))},[l,h,m,...r]),{droppableRects:p,measureDroppableContainers:m,measuringScheduled:i!=null};function v(){switch(u){case Vh.Always:return!1;case Vh.BeforeDragging:return n;default:return!n}}}function XT(e,t){return jv(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function gHe(e,t){return XT(e,t)}function vHe(e){let{callback:t,disabled:n}=e;const r=Ij(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return y.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function $j(e){let{callback:t,disabled:n}=e;const r=Ij(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return y.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function xHe(e){return new KT(Df(e),e)}function FF(e,t,n){t===void 0&&(t=xHe);const[r,a]=y.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=vHe({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=$j({callback:i});return ai(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function yHe(e){const t=XT(e);return SX(e,t)}const BF=[];function bHe(e){const t=y.useRef(e),n=jv(r=>e?r&&r!==BF&&e&&t.current&&e.parentNode===t.current.parentNode?r:GT(e):BF,[e]);return y.useEffect(()=>{t.current=e},[e]),n}function wHe(e){const[t,n]=y.useState(null),r=y.useRef(e),a=y.useCallback(i=>{const o=nN(i.target);o&&n(l=>l?(l.set(o,CE(o)),new Map(l)):null)},[]);return y.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const u=nN(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,CE(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=nN(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Ld(i,o),ii):OX(e):ii,[e,t])}function UF(e,t){t===void 0&&(t=[]);const n=y.useRef(null);return y.useEffect(()=>{n.current=null},t),y.useEffect(()=>{const r=e!==ii;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?x0(e,n.current):ii}function jHe(e){y.useEffect(()=>{if(!Dj)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function _He(e,t){return y.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function $X(e){return y.useMemo(()=>e?Y7e(e):null,[e])}const zF=[];function NHe(e,t){t===void 0&&(t=Df);const[n]=e,r=$X(n?Zr(n):null),[a,i]=y.useState(zF);function o(){i(()=>e.length?e.map(c=>AX(c)?r:new KT(t(c),c)):zF)}const l=$j({callback:o});return ai(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function LX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wv(t)?t:e}function SHe(e){let{measure:t}=e;const[n,r]=y.useState(null),a=y.useCallback(u=>{for(const{target:d}of u)if(wv(d)){r(h=>{const f=t(d);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),i=$j({callback:a}),o=y.useCallback(u=>{const d=LX(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[l,c]=g0(o);return y.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const CHe=[{sensor:JT,options:{}},{sensor:IX,options:{}}],kHe={current:{}},fy={draggable:{measure:DF},droppable:{measure:DF,strategy:Vh.WhileDragging,frequency:EE.Optimized},dragOverlay:{measure:Df}};class tp extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const EHe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:b0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:fy,measureDroppableContainers:b0,windowRect:null,measuringScheduled:!1},FX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:b0,draggableNodes:new Map,over:null,measureDroppableContainers:b0},Nv=y.createContext(FX),BX=y.createContext(EHe);function PHe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tp}}}function AHe(e,t){switch(t.type){case Bn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Bn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Bn.DragEnd:case Bn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bn.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new tp(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case Bn.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new tp(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Bn.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new tp(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function THe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=y.useContext(Nv),i=v0(r),o=v0(n==null?void 0:n.id);return y.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!Rj(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=S7e(d);if(h){h.focus();break}}})}},[r,t,a,o,i]),null}function UX(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function OHe(e){return y.useMemo(()=>({draggable:{...fy.draggable,...e==null?void 0:e.draggable},droppable:{...fy.droppable,...e==null?void 0:e.droppable},dragOverlay:{...fy.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function MHe(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=y.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;ai(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=SX(d,r);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=kX(u);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,l,r,n])}const Lj=y.createContext({...ii,scaleX:1,scaleY:1});var rl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(rl||(rl={}));const DHe=y.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=CHe,collisionDetection:h=q7e,measuring:f,modifiers:m,...g}=t;const p=y.useReducer(AHe,void 0,PHe),[v,x]=p,[b,w]=T7e(),[j,S]=y.useState(rl.Uninitialized),N=j===rl.Initialized,{draggable:{active:C,nodes:k,translate:D},droppable:{containers:R}}=v,E=C!=null?k.get(C):null,B=y.useRef({initial:null,translated:null}),F=y.useMemo(()=>{var Xt;return C!=null?{id:C,data:(Xt=E==null?void 0:E.data)!=null?Xt:kHe,rect:B}:null},[C,E]),L=y.useRef(null),[I,O]=y.useState(null),[$,T]=y.useState(null),U=vg(g,Object.values(g)),M=_v("DndDescribedBy",o),Y=y.useMemo(()=>R.getEnabled(),[R]),ee=OHe(f),{droppableRects:_,measureDroppableContainers:A,measuringScheduled:P}=pHe(Y,{dragging:N,dependencies:[D.x,D.y],config:ee.droppable}),z=fHe(k,C),V=y.useMemo(()=>$?y0($):null,[$]),te=Js(),Z=gHe(z,ee.draggable.measure);MHe({activeNode:C!=null?k.get(C):null,config:te.layoutShiftCompensation,initialRect:Z,measure:ee.draggable.measure});const q=FF(z,ee.draggable.measure,Z),Q=FF(z?z.parentElement:null),ne=y.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),pe=R.getNodeFor((n=ne.current.over)==null?void 0:n.id),Se=SHe({measure:ee.dragOverlay.measure}),qe=(r=Se.nodeRef.current)!=null?r:z,Ve=N?(a=Se.rect)!=null?a:q:null,We=!!(Se.nodeRef.current&&Se.rect),st=yHe(We?null:q),Ke=$X(qe?Zr(qe):null),it=bHe(N?pe??z:null),he=NHe(it),ge=UX(m,{transform:{x:D.x-st.x,y:D.y-st.y,scaleX:1,scaleY:1},activatorEvent:$,active:F,activeNodeRect:q,containerNodeRect:Q,draggingNodeRect:Ve,over:ne.current.over,overlayNodeRect:Se.rect,scrollableAncestors:it,scrollableAncestorRects:he,windowRect:Ke}),ae=V?Ld(V,D):null,Ne=wHe(it),gt=UF(Ne),ce=UF(Ne,[q]),ye=Ld(ge,gt),Me=Ve?H7e(Ve,ge):null,Be=F&&Me?h({active:F,collisionRect:Me,droppableRects:_,droppableContainers:Y,pointerCoordinates:ae}):null,Ze=B7e(Be,"id"),[ct,Ir]=y.useState(null),gr=We?ge:Ld(ge,ce),ka=V7e(gr,(i=ct==null?void 0:ct.rect)!=null?i:null,q),Rr=y.useRef(null),ue=y.useCallback((Xt,Vn)=>{let{sensor:$r,options:Ro}=Vn;if(L.current==null)return;const Xs=k.get(L.current);if(!Xs)return;const Ns=Xt.nativeEvent,fi=new $r({active:L.current,activeNode:Xs,event:Ns,options:Ro,context:ne,onAbort(rr){if(!k.get(rr))return;const{onDragAbort:mi}=U.current,Wi={id:rr};mi==null||mi(Wi),b({type:"onDragAbort",event:Wi})},onPending(rr,$o,mi,Wi){if(!k.get(rr))return;const{onDragPending:Rf}=U.current,Lo={id:rr,constraint:$o,initialCoordinates:mi,offset:Wi};Rf==null||Rf(Lo),b({type:"onDragPending",event:Lo})},onStart(rr){const $o=L.current;if($o==null)return;const mi=k.get($o);if(!mi)return;const{onDragStart:Wi}=U.current,If={activatorEvent:Ns,active:{id:$o,data:mi.data,rect:B}};ca.unstable_batchedUpdates(()=>{Wi==null||Wi(If),S(rl.Initializing),x({type:Bn.DragStart,initialCoordinates:rr,active:$o}),b({type:"onDragStart",event:If}),O(Rr.current),T(Ns)})},onMove(rr){x({type:Bn.DragMove,coordinates:rr})},onEnd:Du(Bn.DragEnd),onCancel:Du(Bn.DragCancel)});Rr.current=fi;function Du(rr){return async function(){const{active:mi,collisions:Wi,over:If,scrollAdjustedTranslate:Rf}=ne.current;let Lo=null;if(mi&&Rf){const{cancelDrop:$f}=U.current;Lo={activatorEvent:Ns,active:mi,collisions:Wi,delta:Rf,over:If},rr===Bn.DragEnd&&typeof $f=="function"&&await Promise.resolve($f(Lo))&&(rr=Bn.DragCancel)}L.current=null,ca.unstable_batchedUpdates(()=>{x({type:rr}),S(rl.Uninitialized),Ir(null),O(null),T(null),Rr.current=null;const $f=rr===Bn.DragEnd?"onDragEnd":"onDragCancel";if(Lo){const Fj=U.current[$f];Fj==null||Fj(Lo),b({type:$f,event:Lo})}})}}},[k]),Ae=y.useCallback((Xt,Vn)=>($r,Ro)=>{const Xs=$r.nativeEvent,Ns=k.get(Ro);if(L.current!==null||!Ns||Xs.dndKit||Xs.defaultPrevented)return;const fi={active:Ns};Xt($r,Vn.options,fi)===!0&&(Xs.dndKit={capturedBy:Vn.sensor},L.current=Ro,ue($r,Vn))},[k,ue]),be=mHe(d,Ae);jHe(d),ai(()=>{q&&j===rl.Initializing&&S(rl.Initialized)},[q,j]),y.useEffect(()=>{const{onDragMove:Xt}=U.current,{active:Vn,activatorEvent:$r,collisions:Ro,over:Xs}=ne.current;if(!Vn||!$r)return;const Ns={active:Vn,activatorEvent:$r,collisions:Ro,delta:{x:ye.x,y:ye.y},over:Xs};ca.unstable_batchedUpdates(()=>{Xt==null||Xt(Ns),b({type:"onDragMove",event:Ns})})},[ye.x,ye.y]),y.useEffect(()=>{const{active:Xt,activatorEvent:Vn,collisions:$r,droppableContainers:Ro,scrollAdjustedTranslate:Xs}=ne.current;if(!Xt||L.current==null||!Vn||!Xs)return;const{onDragOver:Ns}=U.current,fi=Ro.get(Ze),Du=fi&&fi.rect.current?{id:fi.id,rect:fi.rect.current,data:fi.data,disabled:fi.disabled}:null,rr={active:Xt,activatorEvent:Vn,collisions:$r,delta:{x:Xs.x,y:Xs.y},over:Du};ca.unstable_batchedUpdates(()=>{Ir(Du),Ns==null||Ns(rr),b({type:"onDragOver",event:rr})})},[Ze]),ai(()=>{ne.current={activatorEvent:$,active:F,activeNode:z,collisionRect:Me,collisions:Be,droppableRects:_,draggableNodes:k,draggingNode:qe,draggingNodeRect:Ve,droppableContainers:R,over:ct,scrollableAncestors:it,scrollAdjustedTranslate:ye},B.current={initial:Ve,translated:Me}},[F,z,Be,Me,k,qe,Ve,_,R,ct,it,ye]),uHe({...te,delta:D,draggingRect:Me,pointerCoordinates:ae,scrollableAncestors:it,scrollableAncestorRects:he});const Je=y.useMemo(()=>({active:F,activeNode:z,activeNodeRect:q,activatorEvent:$,collisions:Be,containerNodeRect:Q,dragOverlay:Se,draggableNodes:k,droppableContainers:R,droppableRects:_,over:ct,measureDroppableContainers:A,scrollableAncestors:it,scrollableAncestorRects:he,measuringConfiguration:ee,measuringScheduled:P,windowRect:Ke}),[F,z,q,$,Be,Q,Se,k,R,_,ct,A,it,he,ee,P,Ke]),ot=y.useMemo(()=>({activatorEvent:$,activators:be,active:F,activeNodeRect:q,ariaDescribedById:{draggable:M},dispatch:x,draggableNodes:k,over:ct,measureDroppableContainers:A}),[$,be,F,q,x,M,k,ct,A]);return H.createElement(NX.Provider,{value:w},H.createElement(Nv.Provider,{value:ot},H.createElement(BX.Provider,{value:Je},H.createElement(Lj.Provider,{value:ka},u)),H.createElement(THe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),H.createElement(D7e,{...l,hiddenTextDescribedById:M}));function Js(){const Xt=(I==null?void 0:I.autoScrollEnabled)===!1,Vn=typeof c=="object"?c.enabled===!1:c===!1,$r=N&&!Xt&&!Vn;return typeof c=="object"?{...c,enabled:$r}:{enabled:$r}}}),IHe=y.createContext(null),qF="button",RHe="Draggable";function $He(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=_v(RHe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=y.useContext(Nv),{role:m=qF,roleDescription:g="draggable",tabIndex:p=0}=a??{},v=(c==null?void 0:c.id)===t,x=y.useContext(v?Lj:IHe),[b,w]=g0(),[j,S]=g0(),N=_He(o,t),C=vg(n);ai(()=>(h.set(t,{id:t,key:i,node:b,activatorNode:j,data:C}),()=>{const D=h.get(t);D&&D.key===i&&h.delete(t)}),[h,t]);const k=y.useMemo(()=>({role:m,tabIndex:p,"aria-disabled":r,"aria-pressed":v&&m===qF?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,p,v,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:v,listeners:r?void 0:N,node:b,over:f,setNodeRef:w,setActivatorNodeRef:S,transform:x}}function zX(){return y.useContext(BX)}const LHe="Droppable",FHe={timeout:25};function qX(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=_v(LHe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=y.useContext(Nv),d=y.useRef({disabled:n}),h=y.useRef(!1),f=y.useRef(null),m=y.useRef(null),{disabled:g,updateMeasurementsFor:p,timeout:v}={...FHe,...a},x=vg(p??r),b=y.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},v)},[v]),w=$j({callback:b,disabled:g||!o}),j=y.useCallback((k,D)=>{w&&(D&&(w.unobserve(D),h.current=!1),k&&w.observe(k))},[w]),[S,N]=g0(j),C=vg(t);return y.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),y.useEffect(()=>(l({type:Bn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:S,rect:f,data:C}}),()=>l({type:Bn.UnregisterDroppable,key:i,id:r})),[r]),y.useEffect(()=>{n!==d.current.disabled&&(l({type:Bn.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===r,node:S,over:c,setNodeRef:N}}function BHe(e){let{animation:t,children:n}=e;const[r,a]=y.useState(null),[i,o]=y.useState(null),l=v0(n);return!n&&!r&&l&&a(l),ai(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,r,i]),H.createElement(H.Fragment,null,n,r?y.cloneElement(r,{ref:o}):null)}const UHe={x:0,y:0,scaleX:1,scaleY:1};function zHe(e){let{children:t}=e;return H.createElement(Nv.Provider,{value:FX},H.createElement(Lj.Provider,{value:UHe},t))}const qHe={position:"fixed",touchAction:"none"},VHe=e=>Rj(e)?"transform 250ms ease":void 0,WHe=y.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:d=VHe}=e;if(!l)return null;const h=a?u:{...u,scaleX:1,scaleY:1},f={...qHe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Wl.Transform.toString(h),transformOrigin:a&&r?$7e(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return H.createElement(n,{className:o,style:f,ref:t},i)}),HHe=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},GHe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Wl.Transform.toString(t)},{transform:Wl.Transform.toString(n)}]},KHe={duration:250,easing:"ease",keyframes:GHe,sideEffects:HHe({styles:{active:{opacity:"0"}}})};function YHe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return Ij((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=LX(o);if(!u)return;const{transform:d}=Zr(o).getComputedStyle(o),h=CX(d);if(!h)return;const f=typeof t=="function"?t:JHe(t);return MX(c,a.draggable.measure),f({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:a,transform:h})})}function JHe(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...KHe,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},f={x:c.x-d.x,y:c.y-d.y,...h},m=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:f}}),[g]=m,p=m[m.length-1];if(JSON.stringify(g)===JSON.stringify(p))return;const v=r==null?void 0:r({active:o,dragOverlay:l,...u}),x=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{v==null||v(),b()}})}}let VF=0;function XHe(e){return y.useMemo(()=>{if(e!=null)return VF++,VF},[e])}const QHe=H.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggableNodes:g,droppableContainers:p,dragOverlay:v,over:x,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:j,windowRect:S}=zX(),N=y.useContext(Lj),C=XHe(h==null?void 0:h.id),k=UX(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:j,transform:N,windowRect:S}),D=XT(f),R=YHe({config:r,draggableNodes:g,droppableContainers:p,measuringConfiguration:b}),E=D?v.setRef:void 0;return H.createElement(zHe,null,H.createElement(BHe,{animation:R},h&&C?H.createElement(WHe,{key:C,id:h.id,ref:E,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:D,style:{zIndex:u,...a},transform:k},n):null))});function VX(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ZHe(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function Mx(e){return e!==null&&e>=0}function eGe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function tGe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const WX=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=VX(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},Dx={scaleX:1,scaleY:1},nGe=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const u=i[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...Dx}:null}const c=rGe(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...Dx}:a<n&&a>=o?{x:0,y:l.height+c,...Dx}:{x:0,y:0,...Dx}};function rGe(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const HX="Sortable",GX=H.createContext({activeIndex:-1,containerId:HX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:WX,disabled:{draggable:!1,droppable:!1}});function sGe(e){let{children:t,id:n,items:r,strategy:a=WX,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=zX(),h=_v(HX,n),f=l.rect!==null,m=y.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),g=o!=null,p=o?m.indexOf(o.id):-1,v=u?m.indexOf(u.id):-1,x=y.useRef(m),b=!eGe(m,x.current),w=v!==-1&&p===-1||b,j=tGe(i);ai(()=>{b&&g&&d(m)},[b,m,g,d]),y.useEffect(()=>{x.current=m},[m]);const S=y.useMemo(()=>({activeIndex:p,containerId:h,disabled:j,disableTransforms:w,items:m,overIndex:v,useDragOverlay:f,sortedRects:ZHe(m,c),strategy:a}),[p,h,j.draggable,j.droppable,w,m,v,c,f,a]);return H.createElement(GX.Provider,{value:S},t)}const aGe=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return VX(n,r,a).indexOf(t)},iGe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},oGe={duration:200,easing:"ease"},KX="transform",lGe=Wl.Transition.toString({property:KX,duration:0,easing:"linear"}),cGe={roleDescription:"sortable"};function uGe(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=y.useState(null),l=y.useRef(n);return ai(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const u=Df(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,r,a]),y.useEffect(()=>{i&&o(null)},[i]),i}function dGe(e){let{animateLayoutChanges:t=iGe,attributes:n,disabled:r,data:a,getNewIndex:i=aGe,id:o,strategy:l,resizeObserverConfig:c,transition:u=oGe}=e;const{items:d,containerId:h,activeIndex:f,disabled:m,disableTransforms:g,sortedRects:p,overIndex:v,useDragOverlay:x,strategy:b}=y.useContext(GX),w=hGe(r,m),j=d.indexOf(o),S=y.useMemo(()=>({sortable:{containerId:h,index:j,items:d},...a}),[h,a,j,d]),N=y.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:k,isOver:D,setNodeRef:R}=qX({id:o,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:E,activatorEvent:B,activeNodeRect:F,attributes:L,setNodeRef:I,listeners:O,isDragging:$,over:T,setActivatorNodeRef:U,transform:M}=$He({id:o,data:S,attributes:{...cGe,...n},disabled:w.draggable}),Y=w7e(R,I),ee=!!E,_=ee&&!g&&Mx(f)&&Mx(v),A=!x&&$,P=A&&_?M:null,V=_?P??(l??b)({rects:p,activeNodeRect:F,activeIndex:f,overIndex:v,index:j}):null,te=Mx(f)&&Mx(v)?i({id:o,items:d,activeIndex:f,overIndex:v}):j,Z=E==null?void 0:E.id,q=y.useRef({activeId:Z,items:d,newIndex:te,containerId:h}),Q=d!==q.current.items,ne=t({active:E,containerId:h,isDragging:$,isSorting:ee,id:o,index:j,items:d,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:q.current.activeId!=null}),pe=uGe({disabled:!ne,index:j,node:k,rect:C});return y.useEffect(()=>{ee&&q.current.newIndex!==te&&(q.current.newIndex=te),h!==q.current.containerId&&(q.current.containerId=h),d!==q.current.items&&(q.current.items=d)},[ee,te,h,d]),y.useEffect(()=>{if(Z===q.current.activeId)return;if(Z!=null&&q.current.activeId==null){q.current.activeId=Z;return}const qe=setTimeout(()=>{q.current.activeId=Z},50);return()=>clearTimeout(qe)},[Z]),{active:E,activeIndex:f,attributes:L,data:S,rect:C,index:j,newIndex:te,items:d,isOver:D,isSorting:ee,isDragging:$,listeners:O,node:k,overIndex:v,over:T,setNodeRef:Y,setActivatorNodeRef:U,setDroppableNodeRef:R,setDraggableNodeRef:I,transform:pe??V,transition:Se()};function Se(){if(pe||Q&&q.current.newIndex===j)return lGe;if(!(A&&!Rj(B)||!u)&&(ee||ne))return Wl.Transition.toString({...u,property:KX})}}function hGe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Dt.Down,Dt.Right,Dt.Up,Dt.Left;const WF={urgent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",high:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"};function HF({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a,isDragging:i=!1,assistants:o=[]}){const[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,f]=y.useState(e.title),[m,g]=y.useState(e.description||""),[p,v]=y.useState(e.priority),[x,b]=y.useState(e.due_date||""),[w,j]=y.useState(e.assistant_id||""),[S,N]=y.useState(!1),{attributes:C,listeners:k,setNodeRef:D,transform:R,transition:E,isDragging:B}=dGe({id:e.id}),F={transform:Wl.Transform.toString(R),transition:E},L=async()=>{N(!0);try{const T=o.find(M=>M.id===w),{error:U}=await K.from("voice_assistant_tasks").update({title:h,description:m,priority:p,due_date:x||null,assistant_id:w||null,org_id:(T==null?void 0:T.org_id)||null}).eq("id",e.id);if(U)throw U;r({...e,title:h,description:m,priority:p,due_date:x||null,assistant_id:w||null,org_id:(T==null?void 0:T.org_id)||null}),_e.success("Task updated"),d(!1)}catch(T){console.error("Error updating task:",T),_e.error("Failed to update task")}finally{N(!1)}},I=()=>{f(e.title),g(e.description||""),v(e.priority),b(e.due_date||""),j(e.assistant_id||""),d(!1)},O=async()=>{if(confirm("Are you sure you want to delete this task?"))try{const{error:T}=await K.from("voice_assistant_tasks").delete().eq("id",e.id);if(T)throw T;a(e.id),_e.success("Task deleted")}catch(T){console.error("Error deleting task:",T),_e.error("Failed to delete task")}},$=T=>{T.target.closest("button")||T.target.closest("[data-drag-handle]")||T.target.closest("input")||T.target.closest("textarea")||T.target.closest("[data-radix-select-trigger]")||u||c(!l)};return s.jsx(W,{ref:D,style:F,className:me("transition-all hover:shadow-md",(i||B)&&"opacity-50 shadow-lg",l&&"ring-1 ring-primary/20"),children:s.jsxs(G,{className:"p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{...C,...k,"data-drag-handle":!0,className:"mt-1 cursor-grab active:cursor-grabbing",children:s.jsx(kte,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:$,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-2 flex-1",children:e.title}),l?s.jsx(PP,{className:"h-4 w-4 text-muted-foreground shrink-0"}):s.jsx(Jh,{className:"h-4 w-4 text-muted-foreground shrink-0"})]}),!l&&e.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:e.description})]})]}),!l&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap pl-6",children:[s.jsx(Ee,{variant:"secondary",className:me("text-xs",WF[e.priority]),children:e.priority}),e.due_date&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(e.due_date),"MMM d")]})]}),l&&s.jsx("div",{className:"pl-6 space-y-4 pt-2 border-t mt-2",children:u?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(J,{className:"text-xs",children:"Title"}),s.jsx(le,{value:h,onChange:T=>f(T.target.value),placeholder:"Task title",className:"h-8 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(J,{className:"text-xs",children:"Description"}),s.jsx(xt,{value:m,onChange:T=>g(T.target.value),placeholder:"Task description",rows:3,className:"text-sm resize-none"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(J,{className:"text-xs",children:"Assistant"}),s.jsxs(Ue,{value:w,onValueChange:j,children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(ze,{placeholder:"Unassigned"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"",children:"Unassigned"}),o.map(T=>s.jsx(oe,{value:T.id,children:T.name||"Unnamed Assistant"},T.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(J,{className:"text-xs",children:"Priority"}),s.jsxs(Ue,{value:p,onValueChange:v,children:[s.jsx(Le,{className:"h-8 text-sm",children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"low",children:"Low"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(J,{className:"text-xs",children:"Due Date"}),s.jsx(le,{type:"date",value:x,onChange:T=>b(T.target.value),className:"h-8 text-sm"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:I,className:"h-7 text-xs",children:[s.jsx(Yl,{className:"h-3 w-3 mr-1"}),"Cancel"]}),s.jsxs(X,{size:"sm",onClick:L,disabled:S,className:"h-7 text-xs",children:[s.jsx(Ja,{className:"h-3 w-3 mr-1"}),S?"Saving...":"Save"]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(J,{className:"text-xs text-muted-foreground",children:"Description"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.description||s.jsx("span",{className:"text-muted-foreground italic",children:"No description"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(J,{className:"text-xs text-muted-foreground",children:"Priority"}),s.jsx(Ee,{variant:"secondary",className:me("text-xs",WF[e.priority]),children:e.priority})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(J,{className:"text-xs text-muted-foreground",children:"Due Date"}),s.jsx("p",{className:"text-sm",children:e.due_date?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(e.due_date),"MMM d, yyyy")]}):s.jsx("span",{className:"text-muted-foreground italic",children:"No due date"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(J,{className:"text-xs text-muted-foreground",children:"Assistant"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(ys,{className:"h-3 w-3"}),t]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(J,{className:"text-xs text-muted-foreground",children:"Organization"}),s.jsxs("p",{className:"text-sm flex items-center gap-1",children:[s.jsx(qB,{className:"h-3 w-3"}),n]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[s.jsxs("p",{children:["Created: ",at(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]}),e.updated_at!==e.created_at&&s.jsxs("p",{children:["Updated: ",at(new Date(e.updated_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"h-7 text-xs",children:[s.jsx(ZB,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:O,className:"h-7 text-xs text-destructive hover:text-destructive",children:[s.jsx(ln,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})})]})})}function fGe({id:e,title:t,color:n,count:r,children:a,isDragging:i}){const{setNodeRef:o,isOver:l}=qX({id:e});return s.jsxs("div",{ref:o,className:me("rounded-lg border-2 border-dashed transition-all",n,l&&"ring-2 ring-primary ring-offset-2 scale-[1.02]",i&&"bg-muted/50"),style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[s.jsx("div",{className:me("p-3 border-b rounded-t-lg",n.replace("border-","bg-").replace("/20","/30")),style:{flexShrink:0},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:t}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground bg-background px-2 py-0.5 rounded-full",children:r})]})}),s.jsxs("div",{className:"p-2 space-y-2",style:{flex:1,minHeight:0,overflowY:"auto",overflowX:"hidden"},children:[a,r===0&&s.jsx("div",{className:"flex items-center justify-center h-24 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:"Drop tasks here"})]})]})}const Ix=[{id:"pending",title:"Pending",color:"bg-yellow-500/10 border-yellow-500/20"},{id:"in_progress",title:"In Progress",color:"bg-blue-500/10 border-blue-500/20"},{id:"completed",title:"Completed",color:"bg-green-500/10 border-green-500/20"},{id:"cancelled",title:"Cancelled",color:"bg-gray-500/10 border-gray-500/20"}];function mGe({tasks:e,getAssistantName:t,getOrgName:n,onTaskUpdated:r,onTaskDeleted:a,assistants:i=[]}){const[o,l]=y.useState(null),[c,u]=y.useState(!1),d=I7e(OF(JT,{activationConstraint:{distance:5}}),OF(RX,{activationConstraint:{delay:200,tolerance:5}})),h=Ix.reduce((g,p)=>(g[p.id]=e.filter(v=>v.status===p.id),g),{}),f=g=>{const p=e.find(v=>v.id===g.active.id);p&&(l(p),u(!0),navigator.vibrate&&navigator.vibrate(50))},m=async g=>{var N;const{active:p,over:v}=g;if(l(null),u(!1),!v)return;const x=p.id;let b=v.id;const w=e.find(C=>C.id===v.id);if(w&&(b=w.status),!Ix.find(C=>C.id===b))return;const j=e.find(C=>C.id===x);if(!j||j.status===b)return;const S={...j,status:b};r(S);try{const{error:C}=await K.from("voice_assistant_tasks").update({status:b}).eq("id",x);C?(_e.error("Failed to update task status"),r(j)):_e.success(`Moved to ${(N=Ix.find(k=>k.id===b))==null?void 0:N.title}`)}catch(C){console.error("Error updating task:",C),_e.error("Failed to update task status"),r(j)}};return s.jsx("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:s.jsxs(DHe,{sensors:d,collisionDetection:U7e,onDragStart:f,onDragEnd:m,measuring:{droppable:{strategy:Vh.Always}},children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",style:{flex:1,minHeight:0,height:"100%"},children:Ix.map(g=>{var p,v,x;return s.jsx(fGe,{id:g.id,title:g.title,color:g.color,count:((p=h[g.id])==null?void 0:p.length)||0,isDragging:c,children:s.jsx(sGe,{items:((v=h[g.id])==null?void 0:v.map(b=>b.id))||[],strategy:nGe,children:(x=h[g.id])==null?void 0:x.map(b=>s.jsx(HF,{task:b,assistantName:t(b.assistant_id),orgName:n(b.org_id),onUpdate:r,onDelete:a,assistants:i},b.id))})},g.id)})}),s.jsx(QHe,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:o?s.jsx("div",{className:"rotate-3 scale-105 shadow-2xl",children:s.jsx(HF,{task:o,assistantName:t(o.assistant_id),orgName:n(o.org_id),onUpdate:r,onDelete:a,isDragging:!0,assistants:i})}):null})]})})}const pGe=()=>{const{user:e}=qt(),[t,n]=y.useState([]),[r,a]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(""),[h,f]=y.useState("all"),[m,g]=y.useState("all"),[p,v]=y.useState("all"),[x,b]=y.useState("created_at"),[w,j]=y.useState("kanban");y.useEffect(()=>{e&&S()},[e]);const S=async()=>{c(!0);try{const{data:F}=await K.from("voice_connections").select("*").eq("user_id",e==null?void 0:e.id);o(F||[]);const{data:L}=await K.from("voice_assistants").select("id, name, org_id").eq("user_id",e==null?void 0:e.id);a(L||[]);const{data:I,error:O}=await K.from("voice_assistant_tasks").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(O)throw O;n(I||[])}catch(F){console.error("Error fetching data:",F),_e.error("Failed to load tasks")}finally{c(!1)}},N=F=>{n(L=>[F,...L])},C=F=>{n(L=>L.map(I=>I.id===F.id?F:I))},k=F=>{n(L=>L.filter(I=>I.id!==F))},D=F=>{if(!F)return"Unassigned";const L=r.find(I=>I.id===F);return(L==null?void 0:L.name)||"Unknown Assistant"},R=F=>{if(!F)return"No Organization";const L=i.find(I=>I.org_id===F);return(L==null?void 0:L.org_name)||F},E=t.filter(F=>{var M;const L=D(F.assistant_id).toLowerCase(),I=u.toLowerCase(),O=F.title.toLowerCase().includes(I)||(((M=F.description)==null?void 0:M.toLowerCase().includes(I))??!1)||L.includes(I),$=h==="all"||F.status===h,T=m==="all"||F.priority===m,U=p==="all"||F.org_id===p;return O&&$&&T&&U}).sort((F,L)=>{switch(x){case"due_date":return!F.due_date&&!L.due_date?0:F.due_date?L.due_date?new Date(F.due_date).getTime()-new Date(L.due_date).getTime():-1:1;case"priority":const I={urgent:0,high:1,medium:2,low:3};return(I[F.priority]||2)-(I[L.priority]||2);case"created_at":default:return new Date(L.created_at).getTime()-new Date(F.created_at).getTime()}}),B={total:t.length,pending:t.filter(F=>F.status==="pending").length,inProgress:t.filter(F=>F.status==="in_progress").length,completed:t.filter(F=>F.status==="completed").length,overdue:t.filter(F=>F.due_date&&new Date(F.due_date)<new Date&&F.status!=="completed").length};return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ds,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"flex flex-col h-[calc(100vh-120px)] overflow-hidden",children:[s.jsxs("div",{className:"flex items-start justify-between flex-shrink-0 mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Task Manager"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage tasks for your voice assistants across all organizations"})]}),s.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",children:[s.jsxs(X,{variant:w==="kanban"?"default":"ghost",size:"sm",onClick:()=>j("kanban"),className:"gap-2",children:[s.jsx(Ate,{className:"h-4 w-4"}),"Board"]}),s.jsxs(X,{variant:w==="list"?"default":"ghost",size:"sm",onClick:()=>j("list"),className:"gap-2",children:[s.jsx(Tte,{className:"h-4 w-4"}),"List"]})]})]}),s.jsx(W,{className:"flex-shrink-0 mb-4 border-dashed",children:s.jsxs(G,{className:"pt-4",children:[s.jsx(jK,{onTaskCreated:N,placeholder:"What needs to be done? Press Enter to add..."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Click on a task to assign it to an assistant"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 flex-shrink-0 mb-4",children:[s.jsx(W,{children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(aS,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:B.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Tasks"})]})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:B.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:B.inProgress}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:B.completed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mi,{className:"h-4 w-4 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:B.overdue}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overdue"})]})]})})})]}),w==="list"&&s.jsx(W,{className:"flex-shrink-0 mb-4",children:s.jsx(G,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx(b7e,{searchQuery:u,onSearchChange:d,assistants:r,connections:i}),s.jsxs(Ue,{value:h,onValueChange:f,children:[s.jsx(Le,{className:"w-full md:w-[150px]",children:s.jsx(ze,{placeholder:"Status"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Status"}),s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"}),s.jsx(oe,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(Ue,{value:m,onValueChange:g,children:[s.jsx(Le,{className:"w-full md:w-[150px]",children:s.jsx(ze,{placeholder:"Priority"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Priority"}),s.jsx(oe,{value:"urgent",children:"Urgent"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"low",children:"Low"})]})]}),s.jsxs(Ue,{value:p,onValueChange:v,children:[s.jsx(Le,{className:"w-full md:w-[180px]",children:s.jsx(ze,{placeholder:"Organization"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Organizations"}),i.filter(F=>F.org_id).map(F=>s.jsx(oe,{value:F.org_id,children:F.org_name||F.org_id||"Unknown"},F.id))]})]}),s.jsxs(Ue,{value:x,onValueChange:b,children:[s.jsx(Le,{className:"w-full md:w-[150px]",children:s.jsx(ze,{placeholder:"Sort by"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"created_at",children:"Newest First"}),s.jsx(oe,{value:"due_date",children:"Due Date"}),s.jsx(oe,{value:"priority",children:"Priority"})]})]})]})})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:w==="kanban"?s.jsx(mGe,{tasks:E,getAssistantName:D,getOrgName:R,onTaskUpdated:C,onTaskDeleted:k,assistants:r}):s.jsx("div",{className:"space-y-4 h-full overflow-y-auto pr-2",children:E.length===0?s.jsx(W,{children:s.jsxs(G,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(aS,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tasks found"}),s.jsx("p",{className:"text-muted-foreground text-center",children:t.length===0?"Use the quick add above to create your first task":"No tasks match your current filters"})]})}):E.map(F=>s.jsx(y7e,{task:F,assistantName:D(F.assistant_id),orgName:R(F.org_id),onUpdate:C,onDelete:k},F.id))})})]})};function gGe(){const{user:e,loading:t}=qt(),[n,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(""),[c,u]=y.useState("all"),[d,h]=y.useState("all"),[f,m]=y.useState(null),[g,p]=y.useState(""),[v,x]=y.useState(!1),b=async()=>{if(e)try{i(!0);const{data:E,error:B}=await K.from("support_tickets").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(B){console.error("Error fetching tickets:",B),_e.error("Failed to load support tickets");return}const F=await Promise.all((E||[]).map(async L=>{const{data:I}=await K.from("support_ticket_messages").select("*").eq("ticket_id",L.id).order("created_at",{ascending:!0});return{...L,messages:(I||[]).map(O=>({id:O.id,content:O.content,sender_type:O.sender_type,sender_name:O.sender_name,created_at:O.created_at}))}}));r(F),console.log("Fetched tickets:",F)}catch(E){console.error("Error:",E),_e.error("Failed to load support tickets")}finally{i(!1)}};if(y.useEffect(()=>{if(e){b();const E=K.channel("support-tickets-changes").on("postgres_changes",{event:"*",schema:"public",table:"support_tickets",filter:`user_id=eq.${e.id}`},()=>{b()}).subscribe();return()=>{K.removeChannel(E)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(fa,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(qs,{to:"/auth",replace:!0});const w=E=>{switch(E){case"open":return s.jsx(Mi,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(Ot,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(Ya,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Ya,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Mi,{className:"h-4 w-4"})}},j=E=>{const B={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(Ee,{variant:B[E]||"default",className:"capitalize",children:E.replace("_"," ")})},S=E=>{const B={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(Ee,{className:`${B[E]||""} capitalize`,variant:"outline",children:E})},N=n.filter(E=>{const B=E.subject.toLowerCase().includes(o.toLowerCase())||E.customer_name.toLowerCase().includes(o.toLowerCase())||E.customer_email.toLowerCase().includes(o.toLowerCase()),F=c==="all"||E.status===c,L=d==="all"||E.priority===d;return B&&F&&L}),C=async(E,B)=>{const{error:F}=await K.from("support_tickets").update({status:B}).eq("id",E);if(F){_e.error("Failed to update status");return}r(L=>L.map(I=>I.id===E?{...I,status:B,updated_at:new Date().toISOString()}:I)),(f==null?void 0:f.id)===E&&m(L=>L?{...L,status:B}:null),_e.success("Ticket status updated")},k=async()=>{if(!(!g.trim()||!f)){x(!0);try{const{data:E,error:B}=await K.from("support_ticket_messages").insert({ticket_id:f.id,content:g,sender_type:"agent",sender_name:"Support Team"}).select().single();if(B){_e.error("Failed to send reply");return}const F={id:E.id,content:E.content,sender_type:E.sender_type,sender_name:E.sender_name,created_at:E.created_at};r(L=>L.map(I=>I.id===f.id?{...I,messages:[...I.messages,F],updated_at:new Date().toISOString()}:I)),m(L=>L?{...L,messages:[...L.messages,F]}:null),p(""),_e.success("Reply sent successfully");try{await NLe({ticket_id:f.id,ticket_subject:f.subject,customer_email:f.customer_email,customer_name:f.customer_name,reply_content:g,agent_name:"Support Team"}),console.log("Email notification sent to customer")}catch(L){console.error("Failed to send email notification:",L)}}finally{x(!1)}}},D=n.filter(E=>E.status==="open").length,R=n.filter(E=>E.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage support requests from the customer portal"})]}),s.jsxs(X,{variant:"outline",onClick:b,disabled:a,children:[s.jsx(fa,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(Ri,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D})]}),s.jsx(Mi,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R})]}),s.jsx(Ot,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(E=>E.status==="resolved"||E.status==="closed").length})]}),s.jsx(Ya,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search tickets...",value:o,onChange:E=>l(E.target.value),className:"pl-10"})]}),s.jsxs(Ue,{value:c,onValueChange:u,children:[s.jsx(Le,{className:"w-full md:w-40",children:s.jsx(ze,{placeholder:"Status"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Status"}),s.jsx(oe,{value:"open",children:"Open"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"resolved",children:"Resolved"}),s.jsx(oe,{value:"closed",children:"Closed"})]})]}),s.jsxs(Ue,{value:d,onValueChange:h,children:[s.jsx(Le,{className:"w-full md:w-40",children:s.jsx(ze,{placeholder:"Priority"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Priority"}),s.jsx(oe,{value:"urgent",children:"Urgent"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"low",children:"Low"})]})]})]})})}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsxs(se,{children:["Tickets (",N.length,")"]}),s.jsx(xe,{children:"Click on a ticket to view details and respond"})]}),s.jsx(G,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(fa,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):N.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets found"}),s.jsx("p",{className:"text-muted-foreground",children:o||c!=="all"||d!=="all"?"Try adjusting your filters":"Support tickets from customers will appear here"})]}):s.jsx("div",{className:"space-y-3",children:N.map(E=>s.jsx("div",{onClick:()=>m(E),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w(E.status),s.jsx("h4",{className:"font-medium truncate",children:E.subject})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:E.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ys,{className:"h-3 w-3"}),E.customer_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(E.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"h-3 w-3"}),E.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[j(E.status),S(E.priority)]})]})},E.id))})})]}),s.jsx(mr,{open:!!f,onOpenChange:E=>!E&&m(null),children:s.jsx(Qn,{className:"max-w-2xl max-h-[90vh]",children:f&&s.jsxs(s.Fragment,{children:[s.jsx(Zn,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(er,{children:f.subject}),s.jsxs(Do,{className:"mt-1",children:["From ",f.customer_name," (",f.customer_email,")"]})]}),s.jsxs("div",{className:"flex gap-2",children:[j(f.status),S(f.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ue,{value:f.status,onValueChange:E=>C(f.id,E),children:[s.jsx(Le,{className:"w-40",children:s.jsx(ze,{})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"open",children:"Open"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"resolved",children:"Resolved"}),s.jsx(oe,{value:"closed",children:"Closed"})]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",at(new Date(f.created_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsx(Yr,{}),s.jsx(Ws,{className:"h-64",children:s.jsxs("div",{className:"space-y-4 pr-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:f.customer_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(f.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:f.description})]}),f.messages.map(E=>s.jsxs("div",{className:`p-3 rounded-lg ${E.sender_type==="customer"?"bg-muted":"bg-primary/10 ml-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:E.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(E.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:E.content})]},E.id))]})}),s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(xt,{placeholder:"Type your reply...",value:g,onChange:E=>p(E.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsx(X,{onClick:k,disabled:!g.trim()||v,children:v?"Sending...":"Send Reply"})})]})]})]})})})]})}function vGe(){const{customer:e,loading:t}=ws(),[n,r]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[d,h]=y.useState(!1),f=async()=>{if(e)try{i(!0);const{data:b,error:w}=await K.from("support_tickets").select("*").eq("customer_id",e.id).order("created_at",{ascending:!1});if(w){console.error("Error fetching tickets:",w),_e.error("Failed to load support tickets");return}const j=await Promise.all((b||[]).map(async S=>{const{data:N}=await K.from("support_ticket_messages").select("*").eq("ticket_id",S.id).order("created_at",{ascending:!0});return{...S,messages:(N||[]).map(C=>({id:C.id,content:C.content,sender_type:C.sender_type,sender_name:C.sender_name,created_at:C.created_at}))}}));r(j)}catch(b){console.error("Error:",b),_e.error("Failed to load support tickets")}finally{i(!1)}};if(y.useEffect(()=>{if(e){f();const b=K.channel("customer-ticket-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},()=>{f()}).subscribe();return()=>{K.removeChannel(b)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(fa,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(qs,{to:"/customer-login",replace:!0});const m=b=>{switch(b){case"open":return s.jsx(Mi,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(Ot,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(Ya,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(Ya,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(Mi,{className:"h-4 w-4"})}},g=b=>{const w={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(Ee,{variant:w[b]||"default",className:"capitalize",children:b.replace("_"," ")})},p=b=>{const w={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(Ee,{className:`${w[b]||""} capitalize`,variant:"outline",children:b})},v=async()=>{if(!(!c.trim()||!o)){h(!0);try{const{data:b,error:w}=await K.from("support_ticket_messages").insert({ticket_id:o.id,content:c,sender_type:"customer",sender_name:e.full_name}).select().single();if(w){_e.error("Failed to send reply");return}const j={id:b.id,content:b.content,sender_type:b.sender_type,sender_name:b.sender_name,created_at:b.created_at};r(S=>S.map(N=>N.id===o.id?{...N,messages:[...N.messages,j],updated_at:new Date().toISOString()}:N)),l(S=>S?{...S,messages:[...S.messages,j]}:null),u(""),_e.success("Reply sent successfully");try{const{data:S}=await K.from("profiles").select("email").eq("user_id",o.user_id).single();S!=null&&S.email&&await SLe({ticket_id:o.id,ticket_subject:o.subject,customer_email:e.email,customer_name:e.full_name,message_content:c,admin_email:S.email})}catch(S){console.error("Failed to send admin notification:",S)}}finally{h(!1)}}},x=n.filter(b=>b.status==="open"||b.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and respond to your support requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",onClick:f,disabled:a,children:[s.jsx(fa,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),s.jsx(Gk,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(Ri,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x})]}),s.jsx(Ot,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(W,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(b=>b.status==="resolved"||b.status==="closed").length})]}),s.jsx(Ya,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"Your Tickets"}),s.jsx(xe,{children:"Click on a ticket to view details and respond"})]}),s.jsx(G,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(fa,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Need help? Create a support ticket and we'll get back to you."}),s.jsx(Gk,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f,trigger:s.jsxs(X,{children:[s.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})})]}):s.jsx("div",{className:"space-y-3",children:n.map(b=>s.jsx("div",{onClick:()=>l(b),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m(b.status),s.jsx("h4",{className:"font-medium truncate",children:b.subject})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:b.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(b.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"h-3 w-3"}),b.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[g(b.status),p(b.priority)]})]})},b.id))})})]}),s.jsx(mr,{open:!!o,onOpenChange:b=>!b&&l(null),children:s.jsx(Qn,{className:"max-w-2xl max-h-[90vh]",children:o&&s.jsxs(s.Fragment,{children:[s.jsx(Zn,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(er,{children:o.subject}),s.jsxs(Do,{className:"mt-1",children:["Created on ",at(new Date(o.created_at),"MMMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex gap-2",children:[g(o.status),p(o.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Yr,{}),s.jsx(Ws,{className:"h-[300px] pr-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 ml-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(o.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o.description})]}),o.messages.map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${b.sender_type==="customer"?"bg-primary/10 ml-8":"bg-muted mr-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:b.sender_type==="customer"?"You":b.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:at(new Date(b.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content})]},b.id))]})}),o.status!=="closed"&&s.jsxs(s.Fragment,{children:[s.jsx(Yr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{placeholder:"Type your reply...",value:c,onChange:b=>u(b.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(X,{onClick:v,disabled:d||!c.trim(),children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Reply"]})})]})]}),o.status==="closed"&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"This ticket is closed. Please create a new ticket if you need further assistance."})]})]})})})]})}function xGe(){const{customer:e}=ws(),[t,n]=y.useState([]),[r,a]=y.useState(!0),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState("all");y.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e)try{a(!0);const x=await Dk();n(x.leads||[])}catch(x){console.error("Error fetching leads:",x),_e.error("Failed to load leads")}finally{a(!1)}},f=async()=>{if(e){o(!0);try{const x=await Dk();n(x.leads||[]),_e.success("Leads refreshed")}catch(x){console.error("Error refreshing leads:",x),_e.error("Failed to refresh leads")}finally{o(!1)}}},m=t.filter(x=>{var S,N,C,k;const b=u==="all"||x.source_type===u,w=l.toLowerCase(),j=l===""||((S=x.name)==null?void 0:S.toLowerCase().includes(w))||((N=x.email)==null?void 0:N.toLowerCase().includes(w))||((C=x.phone_number)==null?void 0:C.includes(l))||((k=x.source_name)==null?void 0:k.toLowerCase().includes(w));return b&&j}),g=x=>{switch(x){case"chatbot":return s.jsx(vt,{className:"h-4 w-4"});case"voice":return s.jsx(It,{className:"h-4 w-4"});case"whatsapp":return s.jsx(Ht,{className:"h-4 w-4"});default:return s.jsx(ur,{className:"h-4 w-4"})}},p=x=>{switch(x){case"chatbot":return"default";case"voice":return"secondary";case"whatsapp":return"outline";default:return"default"}},v={total:t.length,chatbot:t.filter(x=>x.source_type==="chatbot").length,voice:t.filter(x=>x.source_type==="voice").length,whatsapp:t.filter(x=>x.source_type==="whatsapp").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leads"}),s.jsx("p",{className:"text-muted-foreground",children:"View extracted lead data from your agents"})]}),s.jsxs(X,{onClick:f,disabled:i,variant:"outline",children:[s.jsx(fa,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),i?"Refreshing...":"Refresh"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.total})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"From Chatbots"}),s.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.chatbot})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"From Voice"}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.voice})})]}),s.jsxs(W,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(se,{className:"text-sm font-medium",children:"From WhatsApp"}),s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:v.whatsapp})})]})]}),s.jsxs(W,{children:[s.jsxs(re,{children:[s.jsx(se,{children:"All Leads"}),s.jsx(xe,{children:"Browse and search through all extracted lead information"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(_a,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search by name, email, phone...",value:l,onChange:x=>c(x.target.value),className:"pl-10"})]}),s.jsxs(Ue,{value:u,onValueChange:d,children:[s.jsx(Le,{className:"w-full sm:w-[180px]",children:s.jsx(ze,{placeholder:"Filter by source"})}),s.jsxs(Fe,{children:[s.jsx(oe,{value:"all",children:"All Sources"}),s.jsx(oe,{value:"chatbot",children:"Chatbots"}),s.jsx(oe,{value:"voice",children:"Voice Assistants"}),s.jsx(oe,{value:"whatsapp",children:"WhatsApp Agents"})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading leads..."})}):m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(ur,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No leads found"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:t.length===0?"Leads will appear here as your agents collect contact information.":"Try adjusting your search or filter criteria."})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(vj,{children:[s.jsx(xj,{children:s.jsxs(pu,{children:[s.jsx(Vr,{children:"Source"}),s.jsx(Vr,{children:"Agent"}),s.jsx(Vr,{children:"Name"}),s.jsx(Vr,{children:"Contact"}),s.jsx(Vr,{children:"Date"})]})}),s.jsx(yj,{children:m.map(x=>s.jsxs(pu,{children:[s.jsx(Wr,{children:s.jsxs(Ee,{variant:p(x.source_type),className:"gap-1",children:[g(x.source_type),s.jsx("span",{className:"capitalize",children:x.source_type})]})}),s.jsx(Wr,{className:"font-medium",children:x.source_name||"Unknown"}),s.jsx(Wr,{children:x.name?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:x.name})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Wr,{children:s.jsxs("div",{className:"space-y-1",children:[x.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Za,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"truncate max-w-[200px]",children:x.email})]}),x.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(It,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:x.phone_number})]}),!x.email&&!x.phone_number&&s.jsx("span",{className:"text-muted-foreground",children:"-"})]})}),s.jsx(Wr,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(fr,{className:"h-3 w-3"}),at(new Date(x.extracted_at),"MMM d, yyyy")]})})]},x.id))})]})})]})]})]})}const yGe=new Wse,bGe=()=>s.jsx(Jse,{client:yGe,children:s.jsx(Tle,{children:s.jsx(Ole,{children:s.jsxs(L8,{children:[s.jsx(Cne,{}),s.jsx(ere,{}),s.jsx(cie,{children:s.jsx(uue,{children:s.jsxs(eie,{children:[s.jsx(et,{path:"/",element:s.jsx(due,{})}),s.jsx(et,{path:"/auth",element:s.jsx(mue,{})}),s.jsx(et,{path:"/auth/confirm",element:s.jsx(gue,{})}),s.jsx(et,{path:"/dashboard",element:s.jsx(br,{children:s.jsx(zde,{})})}),s.jsx(et,{path:"/chatbots",element:s.jsx(br,{children:s.jsx(QLe,{})})}),s.jsx(et,{path:"/conversations",element:s.jsx(br,{children:s.jsx(a8e,{})})}),s.jsx(et,{path:"/forms",element:s.jsx(br,{children:s.jsx(h8e,{})})}),s.jsx(et,{path:"/flows",element:s.jsx(br,{children:s.jsx(m8e,{})})}),s.jsx(et,{path:"/customers",element:s.jsx(br,{children:s.jsx(I8e,{})})}),s.jsx(et,{path:"/voice-assistants",element:s.jsx(br,{children:s.jsx(KUe,{})})}),s.jsx(et,{path:"/voice-assistants/:assistantId/edit",element:s.jsx(LVe,{})}),s.jsx(et,{path:"/voice-tasks",element:s.jsx(br,{children:s.jsx(pGe,{})})}),s.jsx(et,{path:"/whatsapp-agents",element:s.jsx(br,{children:s.jsx(FVe,{})})}),s.jsx(et,{path:"/usage",element:s.jsx(br,{children:s.jsx(i8e,{})})}),s.jsx(et,{path:"/support-tickets",element:s.jsx(br,{children:s.jsx(gGe,{})})}),s.jsx(et,{path:"/settings",element:s.jsx(br,{children:s.jsx(l8e,{})})}),s.jsx(et,{path:"/billing",element:s.jsx(br,{children:s.jsx(c8e,{})})}),s.jsx(et,{path:"/changelog",element:s.jsx(uWe,{})}),s.jsx(et,{path:"/create-chatbot",element:s.jsx(t3e,{})}),s.jsx(et,{path:"/edit-chatbot/:chatbotId",element:s.jsx(r3e,{})}),s.jsx(et,{path:"/embed/:chatbotId",element:s.jsx(a3e,{})}),s.jsx(et,{path:"/messenger/:chatbotId",element:s.jsx(r8e,{})}),s.jsx(et,{path:"/widget-test",element:s.jsx(s8e,{})}),s.jsx(et,{path:"/customer-login",element:s.jsx(v8e,{})}),s.jsxs(et,{path:"/customer-dashboard",element:s.jsx(w8e,{}),children:[s.jsx(et,{index:!0,element:s.jsx(_8e,{})}),s.jsx(et,{path:"conversations",element:s.jsx(C8e,{})}),s.jsx(et,{path:"voice-assistants",element:s.jsx(k8e,{})}),s.jsx(et,{path:"whatsapp-agents",element:s.jsx(E8e,{})}),s.jsx(et,{path:"leads",element:s.jsx(xGe,{})}),s.jsx(et,{path:"support-tickets",element:s.jsx(vGe,{})}),s.jsx(et,{path:"forms",element:s.jsx(O8e,{})}),s.jsx(et,{path:"analytics",element:s.jsx(M8e,{})}),s.jsx(et,{path:"settings",element:s.jsx(D8e,{})})]}),s.jsx(et,{path:"/docs",element:s.jsx(UVe,{})}),s.jsx(et,{path:"/api",element:s.jsx(zVe,{})}),s.jsx(et,{path:"/guides",element:s.jsx(qVe,{})}),s.jsx(et,{path:"/support",element:s.jsx(VVe,{})}),s.jsx(et,{path:"/status",element:s.jsx(WVe,{})}),s.jsx(et,{path:"/about",element:s.jsx(HVe,{})}),s.jsx(et,{path:"/careers",element:s.jsx(GVe,{})}),s.jsx(et,{path:"/contact",element:s.jsx(KVe,{})}),s.jsx(et,{path:"/privacy",element:s.jsx(YVe,{})}),s.jsx(et,{path:"/terms",element:s.jsx(JVe,{})}),s.jsx(et,{path:"/cookies",element:s.jsx(XVe,{})}),s.jsx(et,{path:"*",element:s.jsx(QVe,{})})]})})})]})})})});vB(document.getElementById("root")).render(s.jsx(bGe,{}));
