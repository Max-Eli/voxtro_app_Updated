var _Z=Object.defineProperty;var WO=e=>{throw TypeError(e)};var NZ=(e,t,n)=>t in e?_Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ht=(e,t,n)=>NZ(e,typeof t!="symbol"?t+"":t,n),f_=(e,t,n)=>t.has(e)||WO("Cannot "+n);var ie=(e,t,n)=>(f_(e,t,"read from private field"),n?n.call(e):t.get(e)),lt=(e,t,n)=>t.has(e)?WO("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Re=(e,t,n,r)=>(f_(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),St=(e,t,n)=>(f_(e,t,"access private method"),n);var Gv=(e,t,n,r)=>({set _(a){Re(e,t,a,n)},get _(){return ie(e,t,r)}});function SZ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var l6={exports:{}},W0={},c6={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=Symbol.for("react.element"),CZ=Symbol.for("react.portal"),kZ=Symbol.for("react.fragment"),EZ=Symbol.for("react.strict_mode"),PZ=Symbol.for("react.profiler"),AZ=Symbol.for("react.provider"),TZ=Symbol.for("react.context"),OZ=Symbol.for("react.forward_ref"),MZ=Symbol.for("react.suspense"),DZ=Symbol.for("react.memo"),IZ=Symbol.for("react.lazy"),HO=Symbol.iterator;function $Z(e){return e===null||typeof e!="object"?null:(e=HO&&e[HO]||e["@@iterator"],typeof e=="function"?e:null)}var u6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d6=Object.assign,h6={};function rf(e,t,n){this.props=e,this.context=t,this.refs=h6,this.updater=n||u6}rf.prototype.isReactComponent={};rf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f6(){}f6.prototype=rf.prototype;function g2(e,t,n){this.props=e,this.context=t,this.refs=h6,this.updater=n||u6}var v2=g2.prototype=new f6;v2.constructor=g2;d6(v2,rf.prototype);v2.isPureReactComponent=!0;var GO=Array.isArray,m6=Object.prototype.hasOwnProperty,x2={current:null},p6={key:!0,ref:!0,__self:!0,__source:!0};function g6(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)m6.call(t,r)&&!p6.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Bg,type:e,key:i,ref:o,props:a,_owner:x2.current}}function RZ(e,t){return{$$typeof:Bg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function y2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bg}function LZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var KO=/\/+/g;function m_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LZ(""+e.key):t.toString(36)}function oy(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bg:case CZ:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+m_(o,0):r,GO(a)?(n="",e!=null&&(n=e.replace(KO,"$&/")+"/"),oy(a,t,n,"",function(u){return u})):a!=null&&(y2(a)&&(a=RZ(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(KO,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",GO(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+m_(i,l);o+=oy(i,t,n,c,a)}else if(c=$Z(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+m_(i,l++),o+=oy(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kv(e,t,n){if(e==null)return e;var r=[],a=0;return oy(e,r,"","",function(i){return t.call(n,i,a++)}),r}function FZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr={current:null},ly={transition:null},BZ={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:ly,ReactCurrentOwner:x2};function v6(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Kv,forEach:function(e,t,n){Kv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kv(e,function(){t++}),t},toArray:function(e){return Kv(e,function(t){return t})||[]},only:function(e){if(!y2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=rf;_t.Fragment=kZ;_t.Profiler=PZ;_t.PureComponent=g2;_t.StrictMode=EZ;_t.Suspense=MZ;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BZ;_t.act=v6;_t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=d6({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=x2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)m6.call(t,c)&&!p6.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Bg,type:e.type,key:a,ref:i,props:r,_owner:o}};_t.createContext=function(e){return e={$$typeof:TZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AZ,_context:e},e.Consumer=e};_t.createElement=g6;_t.createFactory=function(e){var t=g6.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:OZ,render:e}};_t.isValidElement=y2;_t.lazy=function(e){return{$$typeof:IZ,_payload:{_status:-1,_result:e},_init:FZ}};_t.memo=function(e,t){return{$$typeof:DZ,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=ly.transition;ly.transition={};try{e()}finally{ly.transition=t}};_t.unstable_act=v6;_t.useCallback=function(e,t){return Zr.current.useCallback(e,t)};_t.useContext=function(e){return Zr.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return Zr.current.useDeferredValue(e)};_t.useEffect=function(e,t){return Zr.current.useEffect(e,t)};_t.useId=function(){return Zr.current.useId()};_t.useImperativeHandle=function(e,t,n){return Zr.current.useImperativeHandle(e,t,n)};_t.useInsertionEffect=function(e,t){return Zr.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return Zr.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return Zr.current.useMemo(e,t)};_t.useReducer=function(e,t,n){return Zr.current.useReducer(e,t,n)};_t.useRef=function(e){return Zr.current.useRef(e)};_t.useState=function(e){return Zr.current.useState(e)};_t.useSyncExternalStore=function(e,t,n){return Zr.current.useSyncExternalStore(e,t,n)};_t.useTransition=function(){return Zr.current.useTransition()};_t.version="18.3.1";c6.exports=_t;var v=c6.exports;const K=qt(v),b2=SZ({__proto__:null,default:K},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UZ=v,zZ=Symbol.for("react.element"),qZ=Symbol.for("react.fragment"),VZ=Object.prototype.hasOwnProperty,WZ=UZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HZ={key:!0,ref:!0,__self:!0,__source:!0};function x6(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)VZ.call(t,r)&&!HZ.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:zZ,type:e,key:i,ref:o,props:a,_owner:WZ.current}}W0.Fragment=qZ;W0.jsx=x6;W0.jsxs=x6;l6.exports=W0;var s=l6.exports,y6={exports:{}},Xs={},b6={exports:{}},w6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var T=R.length;R.push(B);e:for(;0<T;){var G=T-1>>>1,W=R[G];if(0<a(W,B))R[G]=B,R[T]=W,T=G;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],T=R.pop();if(T!==B){R[0]=T;e:for(var G=0,W=R.length,w=W>>>1;G<w;){var A=2*(G+1)-1,P=R[A],z=A+1,q=R[z];if(0>a(P,T))z<W&&0>a(q,P)?(R[G]=q,R[z]=T,G=z):(R[G]=P,R[A]=T,G=A);else if(z<W&&0>a(q,T))R[G]=q,R[z]=T,G=z;else break e}}return B}function a(R,B){var T=R.sortIndex-B.sortIndex;return T!==0?T:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=R)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function _(R){if(p=!1,j(R),!g)if(n(c)!==null)g=!0,M(S);else{var B=n(u);B!==null&&O(_,B.startTime-R)}}function S(R,B){g=!1,p&&(p=!1,y(k),k=-1),m=!0;var T=f;try{for(j(B),h=n(c);h!==null&&(!(h.expirationTime>B)||R&&!E());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var W=G(h.expirationTime<=B);B=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(c)&&r(c),j(B)}else r(c);h=n(c)}if(h!==null)var w=!0;else{var A=n(u);A!==null&&O(_,A.startTime-B),w=!1}return w}finally{h=null,f=T,m=!1}}var N=!1,C=null,k=-1,D=5,I=-1;function E(){return!(e.unstable_now()-I<D)}function L(){if(C!==null){var R=e.unstable_now();I=R;var B=!0;try{B=C(!0,R)}finally{B?U():(N=!1,C=null)}}else N=!1}var U;if(typeof b=="function")U=function(){b(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=L,U=function(){$.postMessage(null)}}else U=function(){x(L,0)};function M(R){C=R,N||(N=!0,U())}function O(R,B){k=x(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,M(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var T=f;f=B;try{return R()}finally{f=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=f;f=R;try{return B()}finally{f=T}},e.unstable_scheduleCallback=function(R,B,T){var G=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?G+T:G):T=G,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=T+W,R={id:d++,callback:B,priorityLevel:R,startTime:T,expirationTime:W,sortIndex:-1},T>G?(R.sortIndex=T,t(u,R),n(c)===null&&R===n(u)&&(p?(y(k),k=-1):p=!0,O(_,T-G))):(R.sortIndex=W,t(c,R),g||m||(g=!0,M(S))),R},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(R){var B=f;return function(){var T=f;f=B;try{return R.apply(this,arguments)}finally{f=T}}}})(w6);b6.exports=w6;var GZ=b6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KZ=v,Hs=GZ;function Ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j6=new Set,gp={};function Nu(e,t){ch(e,t),ch(e+"Capture",t)}function ch(e,t){for(gp[e]=t,e=0;e<t.length;e++)j6.add(t[e])}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zN=Object.prototype.hasOwnProperty,YZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YO={},JO={};function JZ(e){return zN.call(JO,e)?!0:zN.call(YO,e)?!1:YZ.test(e)?JO[e]=!0:(YO[e]=!0,!1)}function XZ(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QZ(e,t,n,r){if(t===null||typeof t>"u"||XZ(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function es(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new es(e,5,!1,e.toLowerCase(),null,!1,!1)});var w2=/[\-:]([a-z])/g;function j2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w2,j2);vr[t]=new es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w2,j2);vr[t]=new es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w2,j2);vr[t]=new es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new es(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new es(e,1,!1,e.toLowerCase(),null,!0,!0)});function _2(e,t,n,r){var a=vr.hasOwnProperty(t)?vr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QZ(t,n,a,r)&&(n=null),r||a===null?JZ(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Oo=KZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yv=Symbol.for("react.element"),ld=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),N2=Symbol.for("react.strict_mode"),qN=Symbol.for("react.profiler"),_6=Symbol.for("react.provider"),N6=Symbol.for("react.context"),S2=Symbol.for("react.forward_ref"),VN=Symbol.for("react.suspense"),WN=Symbol.for("react.suspense_list"),C2=Symbol.for("react.memo"),nl=Symbol.for("react.lazy"),S6=Symbol.for("react.offscreen"),XO=Symbol.iterator;function Jf(e){return e===null||typeof e!="object"?null:(e=XO&&e[XO]||e["@@iterator"],typeof e=="function"?e:null)}var kn=Object.assign,p_;function km(e){if(p_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);p_=t&&t[1]||""}return`
`+p_+e}var g_=!1;function v_(e,t){if(!e||g_)return"";g_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{g_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?km(e):""}function ZZ(e){switch(e.tag){case 5:return km(e.type);case 16:return km("Lazy");case 13:return km("Suspense");case 19:return km("SuspenseList");case 0:case 2:case 15:return e=v_(e.type,!1),e;case 11:return e=v_(e.type.render,!1),e;case 1:return e=v_(e.type,!0),e;default:return""}}function HN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cd:return"Fragment";case ld:return"Portal";case qN:return"Profiler";case N2:return"StrictMode";case VN:return"Suspense";case WN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N6:return(e.displayName||"Context")+".Consumer";case _6:return(e._context.displayName||"Context")+".Provider";case S2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C2:return t=e.displayName||null,t!==null?t:HN(e.type)||"Memo";case nl:t=e._payload,e=e._init;try{return HN(e(t))}catch{}}return null}function eee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return HN(t);case 8:return t===N2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tee(e){var t=C6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jv(e){e._valueTracker||(e._valueTracker=tee(e))}function k6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=C6(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ry(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function GN(e,t){var n=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function QO(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E6(e,t){t=t.checked,t!=null&&_2(e,"checked",t,!1)}function KN(e,t){E6(e,t);var n=Ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?YN(e,t.type,n):t.hasOwnProperty("defaultValue")&&YN(e,t.type,Ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ZO(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function YN(e,t,n){(t!=="number"||Ry(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Em=Array.isArray;function _d(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ll(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function JN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eM(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ce(92));if(Em(n)){if(1<n.length)throw Error(Ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ll(n)}}function P6(e,t){var n=Ll(t.value),r=Ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function A6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?A6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xv,T6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xv=Xv||document.createElement("div"),Xv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Um={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nee=["Webkit","ms","Moz","O"];Object.keys(Um).forEach(function(e){nee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Um[t]=Um[e]})});function O6(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Um.hasOwnProperty(e)&&Um[e]?(""+t).trim():t+"px"}function M6(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=O6(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var ree=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function QN(e,t){if(t){if(ree[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ce(62))}}function ZN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eS=null;function k2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tS=null,Nd=null,Sd=null;function nM(e){if(e=qg(e)){if(typeof tS!="function")throw Error(Ce(280));var t=e.stateNode;t&&(t=J0(t),tS(e.stateNode,e.type,t))}}function D6(e){Nd?Sd?Sd.push(e):Sd=[e]:Nd=e}function I6(){if(Nd){var e=Nd,t=Sd;if(Sd=Nd=null,nM(e),t)for(e=0;e<t.length;e++)nM(t[e])}}function $6(e,t){return e(t)}function R6(){}var x_=!1;function L6(e,t,n){if(x_)return e(t,n);x_=!0;try{return $6(e,t,n)}finally{x_=!1,(Nd!==null||Sd!==null)&&(R6(),I6())}}function xp(e,t){var n=e.stateNode;if(n===null)return null;var r=J0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ce(231,t,typeof n));return n}var nS=!1;if(wo)try{var Xf={};Object.defineProperty(Xf,"passive",{get:function(){nS=!0}}),window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{nS=!1}function see(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zm=!1,Ly=null,Fy=!1,rS=null,aee={onError:function(e){zm=!0,Ly=e}};function iee(e,t,n,r,a,i,o,l,c){zm=!1,Ly=null,see.apply(aee,arguments)}function oee(e,t,n,r,a,i,o,l,c){if(iee.apply(this,arguments),zm){if(zm){var u=Ly;zm=!1,Ly=null}else throw Error(Ce(198));Fy||(Fy=!0,rS=u)}}function Su(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function F6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rM(e){if(Su(e)!==e)throw Error(Ce(188))}function lee(e){var t=e.alternate;if(!t){if(t=Su(e),t===null)throw Error(Ce(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return rM(a),e;if(i===r)return rM(a),t;i=i.sibling}throw Error(Ce(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(Ce(189))}}if(n.alternate!==r)throw Error(Ce(190))}if(n.tag!==3)throw Error(Ce(188));return n.stateNode.current===n?e:t}function B6(e){return e=lee(e),e!==null?U6(e):null}function U6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U6(e);if(t!==null)return t;e=e.sibling}return null}var z6=Hs.unstable_scheduleCallback,sM=Hs.unstable_cancelCallback,cee=Hs.unstable_shouldYield,uee=Hs.unstable_requestPaint,Mn=Hs.unstable_now,dee=Hs.unstable_getCurrentPriorityLevel,E2=Hs.unstable_ImmediatePriority,q6=Hs.unstable_UserBlockingPriority,By=Hs.unstable_NormalPriority,hee=Hs.unstable_LowPriority,V6=Hs.unstable_IdlePriority,H0=null,Ii=null;function fee(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(H0,e,void 0,(e.current.flags&128)===128)}catch{}}var Qa=Math.clz32?Math.clz32:gee,mee=Math.log,pee=Math.LN2;function gee(e){return e>>>=0,e===0?32:31-(mee(e)/pee|0)|0}var Qv=64,Zv=4194304;function Pm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uy(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Pm(l):(i&=o,i!==0&&(r=Pm(i)))}else o=n&~a,o!==0?r=Pm(o):i!==0&&(r=Pm(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qa(t),a=1<<n,r|=e[n],t&=~a;return r}function vee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xee(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qa(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=vee(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function sS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W6(){var e=Qv;return Qv<<=1,!(Qv&4194240)&&(Qv=64),e}function y_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ug(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qa(t),e[t]=n}function yee(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Qa(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function P2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qa(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Wt=0;function H6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var G6,A2,K6,Y6,J6,aS=!1,ex=[],Sl=null,Cl=null,kl=null,yp=new Map,bp=new Map,ll=[],bee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aM(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":yp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(t.pointerId)}}function Qf(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=qg(t),t!==null&&A2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wee(e,t,n,r,a){switch(t){case"focusin":return Sl=Qf(Sl,e,t,n,r,a),!0;case"dragenter":return Cl=Qf(Cl,e,t,n,r,a),!0;case"mouseover":return kl=Qf(kl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return yp.set(i,Qf(yp.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,bp.set(i,Qf(bp.get(i)||null,e,t,n,r,a)),!0}return!1}function X6(e){var t=kc(e.target);if(t!==null){var n=Su(t);if(n!==null){if(t=n.tag,t===13){if(t=F6(n),t!==null){e.blockedOn=t,J6(e.priority,function(){K6(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);eS=r,n.target.dispatchEvent(r),eS=null}else return t=qg(n),t!==null&&A2(t),e.blockedOn=n,!1;t.shift()}return!0}function iM(e,t,n){cy(e)&&n.delete(t)}function jee(){aS=!1,Sl!==null&&cy(Sl)&&(Sl=null),Cl!==null&&cy(Cl)&&(Cl=null),kl!==null&&cy(kl)&&(kl=null),yp.forEach(iM),bp.forEach(iM)}function Zf(e,t){e.blockedOn===t&&(e.blockedOn=null,aS||(aS=!0,Hs.unstable_scheduleCallback(Hs.unstable_NormalPriority,jee)))}function wp(e){function t(a){return Zf(a,e)}if(0<ex.length){Zf(ex[0],e);for(var n=1;n<ex.length;n++){var r=ex[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sl!==null&&Zf(Sl,e),Cl!==null&&Zf(Cl,e),kl!==null&&Zf(kl,e),yp.forEach(t),bp.forEach(t),n=0;n<ll.length;n++)r=ll[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ll.length&&(n=ll[0],n.blockedOn===null);)X6(n),n.blockedOn===null&&ll.shift()}var Cd=Oo.ReactCurrentBatchConfig,zy=!0;function _ee(e,t,n,r){var a=Wt,i=Cd.transition;Cd.transition=null;try{Wt=1,T2(e,t,n,r)}finally{Wt=a,Cd.transition=i}}function Nee(e,t,n,r){var a=Wt,i=Cd.transition;Cd.transition=null;try{Wt=4,T2(e,t,n,r)}finally{Wt=a,Cd.transition=i}}function T2(e,t,n,r){if(zy){var a=iS(e,t,n,r);if(a===null)P_(e,t,r,qy,n),aM(e,r);else if(wee(a,e,t,n,r))r.stopPropagation();else if(aM(e,r),t&4&&-1<bee.indexOf(e)){for(;a!==null;){var i=qg(a);if(i!==null&&G6(i),i=iS(e,t,n,r),i===null&&P_(e,t,r,qy,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else P_(e,t,r,null,n)}}var qy=null;function iS(e,t,n,r){if(qy=null,e=k2(r),e=kc(e),e!==null)if(t=Su(e),t===null)e=null;else if(n=t.tag,n===13){if(e=F6(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qy=e,null}function Q6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dee()){case E2:return 1;case q6:return 4;case By:case hee:return 16;case V6:return 536870912;default:return 16}default:return 16}}var bl=null,O2=null,uy=null;function Z6(){if(uy)return uy;var e,t=O2,n=t.length,r,a="value"in bl?bl.value:bl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return uy=a.slice(e,1<r?1-r:void 0)}function dy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tx(){return!0}function oM(){return!1}function Qs(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tx:oM,this.isPropagationStopped=oM,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tx)},persist:function(){},isPersistent:tx}),t}var sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M2=Qs(sf),zg=kn({},sf,{view:0,detail:0}),See=Qs(zg),b_,w_,em,G0=kn({},zg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==em&&(em&&e.type==="mousemove"?(b_=e.screenX-em.screenX,w_=e.screenY-em.screenY):w_=b_=0,em=e),b_)},movementY:function(e){return"movementY"in e?e.movementY:w_}}),lM=Qs(G0),Cee=kn({},G0,{dataTransfer:0}),kee=Qs(Cee),Eee=kn({},zg,{relatedTarget:0}),j_=Qs(Eee),Pee=kn({},sf,{animationName:0,elapsedTime:0,pseudoElement:0}),Aee=Qs(Pee),Tee=kn({},sf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oee=Qs(Tee),Mee=kn({},sf,{data:0}),cM=Qs(Mee),Dee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ree(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$ee[e])?!!t[e]:!1}function D2(){return Ree}var Lee=kn({},zg,{key:function(e){if(e.key){var t=Dee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D2,charCode:function(e){return e.type==="keypress"?dy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fee=Qs(Lee),Bee=kn({},G0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uM=Qs(Bee),Uee=kn({},zg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D2}),zee=Qs(Uee),qee=kn({},sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vee=Qs(qee),Wee=kn({},G0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hee=Qs(Wee),Gee=[9,13,27,32],I2=wo&&"CompositionEvent"in window,qm=null;wo&&"documentMode"in document&&(qm=document.documentMode);var Kee=wo&&"TextEvent"in window&&!qm,eB=wo&&(!I2||qm&&8<qm&&11>=qm),dM=" ",hM=!1;function tB(e,t){switch(e){case"keyup":return Gee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ud=!1;function Yee(e,t){switch(e){case"compositionend":return nB(t);case"keypress":return t.which!==32?null:(hM=!0,dM);case"textInput":return e=t.data,e===dM&&hM?null:e;default:return null}}function Jee(e,t){if(ud)return e==="compositionend"||!I2&&tB(e,t)?(e=Z6(),uy=O2=bl=null,ud=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eB&&t.locale!=="ko"?null:t.data;default:return null}}var Xee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xee[e.type]:t==="textarea"}function rB(e,t,n,r){D6(r),t=Vy(t,"onChange"),0<t.length&&(n=new M2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vm=null,jp=null;function Qee(e){mB(e,0)}function K0(e){var t=fd(e);if(k6(t))return e}function Zee(e,t){if(e==="change")return t}var sB=!1;if(wo){var __;if(wo){var N_="oninput"in document;if(!N_){var mM=document.createElement("div");mM.setAttribute("oninput","return;"),N_=typeof mM.oninput=="function"}__=N_}else __=!1;sB=__&&(!document.documentMode||9<document.documentMode)}function pM(){Vm&&(Vm.detachEvent("onpropertychange",aB),jp=Vm=null)}function aB(e){if(e.propertyName==="value"&&K0(jp)){var t=[];rB(t,jp,e,k2(e)),L6(Qee,t)}}function ete(e,t,n){e==="focusin"?(pM(),Vm=t,jp=n,Vm.attachEvent("onpropertychange",aB)):e==="focusout"&&pM()}function tte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return K0(jp)}function nte(e,t){if(e==="click")return K0(t)}function rte(e,t){if(e==="input"||e==="change")return K0(t)}function ste(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:ste;function _p(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!zN.call(t,a)||!ri(e[a],t[a]))return!1}return!0}function gM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vM(e,t){var n=gM(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gM(n)}}function iB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oB(){for(var e=window,t=Ry();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ry(e.document)}return t}function $2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ate(e){var t=oB(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iB(n.ownerDocument.documentElement,n)){if(r!==null&&$2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=vM(n,i);var o=vM(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ite=wo&&"documentMode"in document&&11>=document.documentMode,dd=null,oS=null,Wm=null,lS=!1;function xM(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lS||dd==null||dd!==Ry(r)||(r=dd,"selectionStart"in r&&$2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wm&&_p(Wm,r)||(Wm=r,r=Vy(oS,"onSelect"),0<r.length&&(t=new M2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dd)))}function nx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hd={animationend:nx("Animation","AnimationEnd"),animationiteration:nx("Animation","AnimationIteration"),animationstart:nx("Animation","AnimationStart"),transitionend:nx("Transition","TransitionEnd")},S_={},lB={};wo&&(lB=document.createElement("div").style,"AnimationEvent"in window||(delete hd.animationend.animation,delete hd.animationiteration.animation,delete hd.animationstart.animation),"TransitionEvent"in window||delete hd.transitionend.transition);function Y0(e){if(S_[e])return S_[e];if(!hd[e])return e;var t=hd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lB)return S_[e]=t[n];return e}var cB=Y0("animationend"),uB=Y0("animationiteration"),dB=Y0("animationstart"),hB=Y0("transitionend"),fB=new Map,yM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jl(e,t){fB.set(e,t),Nu(t,[e])}for(var C_=0;C_<yM.length;C_++){var k_=yM[C_],ote=k_.toLowerCase(),lte=k_[0].toUpperCase()+k_.slice(1);Jl(ote,"on"+lte)}Jl(cB,"onAnimationEnd");Jl(uB,"onAnimationIteration");Jl(dB,"onAnimationStart");Jl("dblclick","onDoubleClick");Jl("focusin","onFocus");Jl("focusout","onBlur");Jl(hB,"onTransitionEnd");ch("onMouseEnter",["mouseout","mouseover"]);ch("onMouseLeave",["mouseout","mouseover"]);ch("onPointerEnter",["pointerout","pointerover"]);ch("onPointerLeave",["pointerout","pointerover"]);Nu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cte=new Set("cancel close invalid load scroll toggle".split(" ").concat(Am));function bM(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oee(r,t,void 0,e),e.currentTarget=null}function mB(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;bM(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;bM(a,l,u),i=c}}}if(Fy)throw e=rS,Fy=!1,rS=null,e}function pn(e,t){var n=t[fS];n===void 0&&(n=t[fS]=new Set);var r=e+"__bubble";n.has(r)||(pB(t,e,2,!1),n.add(r))}function E_(e,t,n){var r=0;t&&(r|=4),pB(n,e,r,t)}var rx="_reactListening"+Math.random().toString(36).slice(2);function Np(e){if(!e[rx]){e[rx]=!0,j6.forEach(function(n){n!=="selectionchange"&&(cte.has(n)||E_(n,!1,e),E_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rx]||(t[rx]=!0,E_("selectionchange",!1,t))}}function pB(e,t,n,r){switch(Q6(t)){case 1:var a=_ee;break;case 4:a=Nee;break;default:a=T2}n=a.bind(null,t,n,e),a=void 0,!nS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function P_(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=kc(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}L6(function(){var u=i,d=k2(n),h=[];e:{var f=fB.get(e);if(f!==void 0){var m=M2,g=e;switch(e){case"keypress":if(dy(n)===0)break e;case"keydown":case"keyup":m=Fee;break;case"focusin":g="focus",m=j_;break;case"focusout":g="blur",m=j_;break;case"beforeblur":case"afterblur":m=j_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zee;break;case cB:case uB:case dB:m=Aee;break;case hB:m=Vee;break;case"scroll":m=See;break;case"wheel":m=Hee;break;case"copy":case"cut":case"paste":m=Oee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uM}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var b=u,j;b!==null;){j=b;var _=j.stateNode;if(j.tag===5&&_!==null&&(j=_,y!==null&&(_=xp(b,y),_!=null&&p.push(Sp(b,_,j)))),x)break;b=b.return}0<p.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==eS&&(g=n.relatedTarget||n.fromElement)&&(kc(g)||g[jo]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?kc(g):null,g!==null&&(x=Su(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=lM,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=uM,_="onPointerLeave",y="onPointerEnter",b="pointer"),x=m==null?f:fd(m),j=g==null?f:fd(g),f=new p(_,b+"leave",m,n,d),f.target=x,f.relatedTarget=j,_=null,kc(d)===u&&(p=new p(y,b+"enter",g,n,d),p.target=j,p.relatedTarget=x,_=p),x=_,m&&g)t:{for(p=m,y=g,b=0,j=p;j;j=Uu(j))b++;for(j=0,_=y;_;_=Uu(_))j++;for(;0<b-j;)p=Uu(p),b--;for(;0<j-b;)y=Uu(y),j--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=Uu(p),y=Uu(y)}p=null}else p=null;m!==null&&wM(h,f,m,p,!1),g!==null&&x!==null&&wM(h,x,g,p,!0)}}e:{if(f=u?fd(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=Zee;else if(fM(f))if(sB)S=rte;else{S=tte;var N=ete}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=nte);if(S&&(S=S(e,u))){rB(h,S,n,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&YN(f,"number",f.value)}switch(N=u?fd(u):window,e){case"focusin":(fM(N)||N.contentEditable==="true")&&(dd=N,oS=u,Wm=null);break;case"focusout":Wm=oS=dd=null;break;case"mousedown":lS=!0;break;case"contextmenu":case"mouseup":case"dragend":lS=!1,xM(h,n,d);break;case"selectionchange":if(ite)break;case"keydown":case"keyup":xM(h,n,d)}var C;if(I2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ud?tB(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(eB&&n.locale!=="ko"&&(ud||k!=="onCompositionStart"?k==="onCompositionEnd"&&ud&&(C=Z6()):(bl=d,O2="value"in bl?bl.value:bl.textContent,ud=!0)),N=Vy(u,k),0<N.length&&(k=new cM(k,e,null,n,d),h.push({event:k,listeners:N}),C?k.data=C:(C=nB(n),C!==null&&(k.data=C)))),(C=Kee?Yee(e,n):Jee(e,n))&&(u=Vy(u,"onBeforeInput"),0<u.length&&(d=new cM("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}mB(h,t)})}function Sp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vy(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=xp(e,n),i!=null&&r.unshift(Sp(e,i,a)),i=xp(e,t),i!=null&&r.push(Sp(e,i,a))),e=e.return}return r}function Uu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wM(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=xp(n,i),c!=null&&o.unshift(Sp(n,c,l))):a||(c=xp(n,i),c!=null&&o.push(Sp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ute=/\r\n?/g,dte=/\u0000|\uFFFD/g;function jM(e){return(typeof e=="string"?e:""+e).replace(ute,`
`).replace(dte,"")}function sx(e,t,n){if(t=jM(t),jM(e)!==t&&n)throw Error(Ce(425))}function Wy(){}var cS=null,uS=null;function dS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hS=typeof setTimeout=="function"?setTimeout:void 0,hte=typeof clearTimeout=="function"?clearTimeout:void 0,_M=typeof Promise=="function"?Promise:void 0,fte=typeof queueMicrotask=="function"?queueMicrotask:typeof _M<"u"?function(e){return _M.resolve(null).then(e).catch(mte)}:hS;function mte(e){setTimeout(function(){throw e})}function A_(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),wp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);wp(t)}function El(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var af=Math.random().toString(36).slice(2),Ti="__reactFiber$"+af,Cp="__reactProps$"+af,jo="__reactContainer$"+af,fS="__reactEvents$"+af,pte="__reactListeners$"+af,gte="__reactHandles$"+af;function kc(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jo]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=NM(e);e!==null;){if(n=e[Ti])return n;e=NM(e)}return t}e=n,n=e.parentNode}return null}function qg(e){return e=e[Ti]||e[jo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ce(33))}function J0(e){return e[Cp]||null}var mS=[],md=-1;function Xl(e){return{current:e}}function xn(e){0>md||(e.current=mS[md],mS[md]=null,md--)}function un(e,t){md++,mS[md]=e.current,e.current=t}var Fl={},Mr=Xl(Fl),hs=Xl(!1),Qc=Fl;function uh(e,t){var n=e.type.contextTypes;if(!n)return Fl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fs(e){return e=e.childContextTypes,e!=null}function Hy(){xn(hs),xn(Mr)}function SM(e,t,n){if(Mr.current!==Fl)throw Error(Ce(168));un(Mr,t),un(hs,n)}function gB(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ce(108,eee(e)||"Unknown",a));return kn({},n,r)}function Gy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fl,Qc=Mr.current,un(Mr,e),un(hs,hs.current),!0}function CM(e,t,n){var r=e.stateNode;if(!r)throw Error(Ce(169));n?(e=gB(e,t,Qc),r.__reactInternalMemoizedMergedChildContext=e,xn(hs),xn(Mr),un(Mr,e)):xn(hs),un(hs,n)}var ao=null,X0=!1,T_=!1;function vB(e){ao===null?ao=[e]:ao.push(e)}function vte(e){X0=!0,vB(e)}function Ql(){if(!T_&&ao!==null){T_=!0;var e=0,t=Wt;try{var n=ao;for(Wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ao=null,X0=!1}catch(a){throw ao!==null&&(ao=ao.slice(e+1)),z6(E2,Ql),a}finally{Wt=t,T_=!1}}return null}var pd=[],gd=0,Ky=null,Yy=0,ca=[],ua=0,Zc=null,io=1,oo="";function vc(e,t){pd[gd++]=Yy,pd[gd++]=Ky,Ky=e,Yy=t}function xB(e,t,n){ca[ua++]=io,ca[ua++]=oo,ca[ua++]=Zc,Zc=e;var r=io;e=oo;var a=32-Qa(r)-1;r&=~(1<<a),n+=1;var i=32-Qa(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,io=1<<32-Qa(t)+a|n<<a|r,oo=i+e}else io=1<<i|n<<a|r,oo=e}function R2(e){e.return!==null&&(vc(e,1),xB(e,1,0))}function L2(e){for(;e===Ky;)Ky=pd[--gd],pd[gd]=null,Yy=pd[--gd],pd[gd]=null;for(;e===Zc;)Zc=ca[--ua],ca[ua]=null,oo=ca[--ua],ca[ua]=null,io=ca[--ua],ca[ua]=null}var qs=null,Bs=null,yn=!1,Ha=null;function yB(e,t){var n=fa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kM(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qs=e,Bs=El(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qs=e,Bs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zc!==null?{id:io,overflow:oo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qs=e,Bs=null,!0):!1;default:return!1}}function pS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gS(e){if(yn){var t=Bs;if(t){var n=t;if(!kM(e,t)){if(pS(e))throw Error(Ce(418));t=El(n.nextSibling);var r=qs;t&&kM(e,t)?yB(r,n):(e.flags=e.flags&-4097|2,yn=!1,qs=e)}}else{if(pS(e))throw Error(Ce(418));e.flags=e.flags&-4097|2,yn=!1,qs=e}}}function EM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function ax(e){if(e!==qs)return!1;if(!yn)return EM(e),yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dS(e.type,e.memoizedProps)),t&&(t=Bs)){if(pS(e))throw bB(),Error(Ce(418));for(;t;)yB(e,t),t=El(t.nextSibling)}if(EM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bs=El(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bs=null}}else Bs=qs?El(e.stateNode.nextSibling):null;return!0}function bB(){for(var e=Bs;e;)e=El(e.nextSibling)}function dh(){Bs=qs=null,yn=!1}function F2(e){Ha===null?Ha=[e]:Ha.push(e)}var xte=Oo.ReactCurrentBatchConfig;function tm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ce(309));var r=n.stateNode}if(!r)throw Error(Ce(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ce(284));if(!n._owner)throw Error(Ce(290,e))}return e}function ix(e,t){throw e=Object.prototype.toString.call(t),Error(Ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function PM(e){var t=e._init;return t(e._payload)}function wB(e){function t(y,b){if(e){var j=y.deletions;j===null?(y.deletions=[b],y.flags|=16):j.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Ol(y,b),y.index=0,y.sibling=null,y}function i(y,b,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<b?(y.flags|=2,b):j):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,j,_){return b===null||b.tag!==6?(b=L_(j,y.mode,_),b.return=y,b):(b=a(b,j),b.return=y,b)}function c(y,b,j,_){var S=j.type;return S===cd?d(y,b,j.props.children,_,j.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nl&&PM(S)===b.type)?(_=a(b,j.props),_.ref=tm(y,b,j),_.return=y,_):(_=xy(j.type,j.key,j.props,null,y.mode,_),_.ref=tm(y,b,j),_.return=y,_)}function u(y,b,j,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=F_(j,y.mode,_),b.return=y,b):(b=a(b,j.children||[]),b.return=y,b)}function d(y,b,j,_,S){return b===null||b.tag!==7?(b=Vc(j,y.mode,_,S),b.return=y,b):(b=a(b,j),b.return=y,b)}function h(y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=L_(""+b,y.mode,j),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yv:return j=xy(b.type,b.key,b.props,null,y.mode,j),j.ref=tm(y,null,b),j.return=y,j;case ld:return b=F_(b,y.mode,j),b.return=y,b;case nl:var _=b._init;return h(y,_(b._payload),j)}if(Em(b)||Jf(b))return b=Vc(b,y.mode,j,null),b.return=y,b;ix(y,b)}return null}function f(y,b,j,_){var S=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(y,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yv:return j.key===S?c(y,b,j,_):null;case ld:return j.key===S?u(y,b,j,_):null;case nl:return S=j._init,f(y,b,S(j._payload),_)}if(Em(j)||Jf(j))return S!==null?null:d(y,b,j,_,null);ix(y,j)}return null}function m(y,b,j,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(j)||null,l(b,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yv:return y=y.get(_.key===null?j:_.key)||null,c(b,y,_,S);case ld:return y=y.get(_.key===null?j:_.key)||null,u(b,y,_,S);case nl:var N=_._init;return m(y,b,j,N(_._payload),S)}if(Em(_)||Jf(_))return y=y.get(j)||null,d(b,y,_,S,null);ix(b,_)}return null}function g(y,b,j,_){for(var S=null,N=null,C=b,k=b=0,D=null;C!==null&&k<j.length;k++){C.index>k?(D=C,C=null):D=C.sibling;var I=f(y,C,j[k],_);if(I===null){C===null&&(C=D);break}e&&C&&I.alternate===null&&t(y,C),b=i(I,b,k),N===null?S=I:N.sibling=I,N=I,C=D}if(k===j.length)return n(y,C),yn&&vc(y,k),S;if(C===null){for(;k<j.length;k++)C=h(y,j[k],_),C!==null&&(b=i(C,b,k),N===null?S=C:N.sibling=C,N=C);return yn&&vc(y,k),S}for(C=r(y,C);k<j.length;k++)D=m(C,y,k,j[k],_),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?k:D.key),b=i(D,b,k),N===null?S=D:N.sibling=D,N=D);return e&&C.forEach(function(E){return t(y,E)}),yn&&vc(y,k),S}function p(y,b,j,_){var S=Jf(j);if(typeof S!="function")throw Error(Ce(150));if(j=S.call(j),j==null)throw Error(Ce(151));for(var N=S=null,C=b,k=b=0,D=null,I=j.next();C!==null&&!I.done;k++,I=j.next()){C.index>k?(D=C,C=null):D=C.sibling;var E=f(y,C,I.value,_);if(E===null){C===null&&(C=D);break}e&&C&&E.alternate===null&&t(y,C),b=i(E,b,k),N===null?S=E:N.sibling=E,N=E,C=D}if(I.done)return n(y,C),yn&&vc(y,k),S;if(C===null){for(;!I.done;k++,I=j.next())I=h(y,I.value,_),I!==null&&(b=i(I,b,k),N===null?S=I:N.sibling=I,N=I);return yn&&vc(y,k),S}for(C=r(y,C);!I.done;k++,I=j.next())I=m(C,y,k,I.value,_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?k:I.key),b=i(I,b,k),N===null?S=I:N.sibling=I,N=I);return e&&C.forEach(function(L){return t(y,L)}),yn&&vc(y,k),S}function x(y,b,j,_){if(typeof j=="object"&&j!==null&&j.type===cd&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Yv:e:{for(var S=j.key,N=b;N!==null;){if(N.key===S){if(S=j.type,S===cd){if(N.tag===7){n(y,N.sibling),b=a(N,j.props.children),b.return=y,y=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===nl&&PM(S)===N.type){n(y,N.sibling),b=a(N,j.props),b.ref=tm(y,N,j),b.return=y,y=b;break e}n(y,N);break}else t(y,N);N=N.sibling}j.type===cd?(b=Vc(j.props.children,y.mode,_,j.key),b.return=y,y=b):(_=xy(j.type,j.key,j.props,null,y.mode,_),_.ref=tm(y,b,j),_.return=y,y=_)}return o(y);case ld:e:{for(N=j.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){n(y,b.sibling),b=a(b,j.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=F_(j,y.mode,_),b.return=y,y=b}return o(y);case nl:return N=j._init,x(y,b,N(j._payload),_)}if(Em(j))return g(y,b,j,_);if(Jf(j))return p(y,b,j,_);ix(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(n(y,b.sibling),b=a(b,j),b.return=y,y=b):(n(y,b),b=L_(j,y.mode,_),b.return=y,y=b),o(y)):n(y,b)}return x}var hh=wB(!0),jB=wB(!1),Jy=Xl(null),Xy=null,vd=null,B2=null;function U2(){B2=vd=Xy=null}function z2(e){var t=Jy.current;xn(Jy),e._currentValue=t}function vS(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kd(e,t){Xy=e,B2=vd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(B2!==e)if(e={context:e,memoizedValue:t,next:null},vd===null){if(Xy===null)throw Error(Ce(308));vd=e,Xy.dependencies={lanes:0,firstContext:e}}else vd=vd.next=e;return t}var Ec=null;function q2(e){Ec===null?Ec=[e]:Ec.push(e)}function _B(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,q2(t)):(n.next=a.next,a.next=n),t.interleaved=n,_o(e,r)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rl=!1;function V2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Dt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,_o(e,n)}return a=r.interleaved,a===null?(t.next=t,q2(r)):(t.next=a.next,a.next=t),r.interleaved=t,_o(e,n)}function hy(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P2(e,n)}}function AM(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qy(e,t,n,r){var a=e.updateQueue;rl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(f=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=kn({},h,f);break e;case 2:rl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);tu|=o,e.lanes=o,e.memoizedState=h}}function TM(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ce(191,a));a.call(r)}}}var Vg={},$i=Xl(Vg),kp=Xl(Vg),Ep=Xl(Vg);function Pc(e){if(e===Vg)throw Error(Ce(174));return e}function W2(e,t){switch(un(Ep,t),un(kp,e),un($i,Vg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:XN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=XN(t,e)}xn($i),un($i,t)}function fh(){xn($i),xn(kp),xn(Ep)}function SB(e){Pc(Ep.current);var t=Pc($i.current),n=XN(t,e.type);t!==n&&(un(kp,e),un($i,n))}function H2(e){kp.current===e&&(xn($i),xn(kp))}var jn=Xl(0);function Zy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O_=[];function G2(){for(var e=0;e<O_.length;e++)O_[e]._workInProgressVersionPrimary=null;O_.length=0}var fy=Oo.ReactCurrentDispatcher,M_=Oo.ReactCurrentBatchConfig,eu=0,Nn=null,qn=null,tr=null,eb=!1,Hm=!1,Pp=0,yte=0;function xr(){throw Error(Ce(321))}function K2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ri(e[n],t[n]))return!1;return!0}function Y2(e,t,n,r,a,i){if(eu=i,Nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fy.current=e===null||e.memoizedState===null?_te:Nte,e=n(r,a),Hm){i=0;do{if(Hm=!1,Pp=0,25<=i)throw Error(Ce(301));i+=1,tr=qn=null,t.updateQueue=null,fy.current=Ste,e=n(r,a)}while(Hm)}if(fy.current=tb,t=qn!==null&&qn.next!==null,eu=0,tr=qn=Nn=null,eb=!1,t)throw Error(Ce(300));return e}function J2(){var e=Pp!==0;return Pp=0,e}function ji(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Nn.memoizedState=tr=e:tr=tr.next=e,tr}function Na(){if(qn===null){var e=Nn.alternate;e=e!==null?e.memoizedState:null}else e=qn.next;var t=tr===null?Nn.memoizedState:tr.next;if(t!==null)tr=t,qn=e;else{if(e===null)throw Error(Ce(310));qn=e,e={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},tr===null?Nn.memoizedState=tr=e:tr=tr.next=e}return tr}function Ap(e,t){return typeof t=="function"?t(e):t}function D_(e){var t=Na(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=qn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((eu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Nn.lanes|=d,tu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ri(r,t.memoizedState)||(cs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Nn.lanes|=i,tu|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function I_(e){var t=Na(),n=t.queue;if(n===null)throw Error(Ce(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ri(i,t.memoizedState)||(cs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function CB(){}function kB(e,t){var n=Nn,r=Na(),a=t(),i=!ri(r.memoizedState,a);if(i&&(r.memoizedState=a,cs=!0),r=r.queue,X2(AB.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||tr!==null&&tr.memoizedState.tag&1){if(n.flags|=2048,Tp(9,PB.bind(null,n,r,a,t),void 0,null),sr===null)throw Error(Ce(349));eu&30||EB(n,t,a)}return a}function EB(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PB(e,t,n,r){t.value=n,t.getSnapshot=r,TB(t)&&OB(e)}function AB(e,t,n){return n(function(){TB(t)&&OB(e)})}function TB(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ri(e,n)}catch{return!0}}function OB(e){var t=_o(e,1);t!==null&&Za(t,e,1,-1)}function OM(e){var t=ji();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:e},t.queue=e,e=e.dispatch=jte.bind(null,Nn,e),[t.memoizedState,e]}function Tp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function MB(){return Na().memoizedState}function my(e,t,n,r){var a=ji();Nn.flags|=e,a.memoizedState=Tp(1|t,n,void 0,r===void 0?null:r)}function Q0(e,t,n,r){var a=Na();r=r===void 0?null:r;var i=void 0;if(qn!==null){var o=qn.memoizedState;if(i=o.destroy,r!==null&&K2(r,o.deps)){a.memoizedState=Tp(t,n,i,r);return}}Nn.flags|=e,a.memoizedState=Tp(1|t,n,i,r)}function MM(e,t){return my(8390656,8,e,t)}function X2(e,t){return Q0(2048,8,e,t)}function DB(e,t){return Q0(4,2,e,t)}function IB(e,t){return Q0(4,4,e,t)}function $B(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RB(e,t,n){return n=n!=null?n.concat([e]):null,Q0(4,4,$B.bind(null,t,e),n)}function Q2(){}function LB(e,t){var n=Na();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FB(e,t){var n=Na();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BB(e,t,n){return eu&21?(ri(n,t)||(n=W6(),Nn.lanes|=n,tu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cs=!0),e.memoizedState=n)}function bte(e,t){var n=Wt;Wt=n!==0&&4>n?n:4,e(!0);var r=M_.transition;M_.transition={};try{e(!1),t()}finally{Wt=n,M_.transition=r}}function UB(){return Na().memoizedState}function wte(e,t,n){var r=Tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zB(e))qB(t,n);else if(n=_B(e,t,n,r),n!==null){var a=Jr();Za(n,e,r,a),VB(n,t,r)}}function jte(e,t,n){var r=Tl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zB(e))qB(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,ri(l,o)){var c=t.interleaved;c===null?(a.next=a,q2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=_B(e,t,a,r),n!==null&&(a=Jr(),Za(n,e,r,a),VB(n,t,r))}}function zB(e){var t=e.alternate;return e===Nn||t!==null&&t===Nn}function qB(e,t){Hm=eb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VB(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P2(e,n)}}var tb={readContext:_a,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},_te={readContext:_a,useCallback:function(e,t){return ji().memoizedState=[e,t===void 0?null:t],e},useContext:_a,useEffect:MM,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,my(4194308,4,$B.bind(null,t,e),n)},useLayoutEffect:function(e,t){return my(4194308,4,e,t)},useInsertionEffect:function(e,t){return my(4,2,e,t)},useMemo:function(e,t){var n=ji();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ji();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wte.bind(null,Nn,e),[r.memoizedState,e]},useRef:function(e){var t=ji();return e={current:e},t.memoizedState=e},useState:OM,useDebugValue:Q2,useDeferredValue:function(e){return ji().memoizedState=e},useTransition:function(){var e=OM(!1),t=e[0];return e=bte.bind(null,e[1]),ji().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nn,a=ji();if(yn){if(n===void 0)throw Error(Ce(407));n=n()}else{if(n=t(),sr===null)throw Error(Ce(349));eu&30||EB(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,MM(AB.bind(null,r,i,e),[e]),r.flags|=2048,Tp(9,PB.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ji(),t=sr.identifierPrefix;if(yn){var n=oo,r=io;n=(r&~(1<<32-Qa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yte++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nte={readContext:_a,useCallback:LB,useContext:_a,useEffect:X2,useImperativeHandle:RB,useInsertionEffect:DB,useLayoutEffect:IB,useMemo:FB,useReducer:D_,useRef:MB,useState:function(){return D_(Ap)},useDebugValue:Q2,useDeferredValue:function(e){var t=Na();return BB(t,qn.memoizedState,e)},useTransition:function(){var e=D_(Ap)[0],t=Na().memoizedState;return[e,t]},useMutableSource:CB,useSyncExternalStore:kB,useId:UB,unstable_isNewReconciler:!1},Ste={readContext:_a,useCallback:LB,useContext:_a,useEffect:X2,useImperativeHandle:RB,useInsertionEffect:DB,useLayoutEffect:IB,useMemo:FB,useReducer:I_,useRef:MB,useState:function(){return I_(Ap)},useDebugValue:Q2,useDeferredValue:function(e){var t=Na();return qn===null?t.memoizedState=e:BB(t,qn.memoizedState,e)},useTransition:function(){var e=I_(Ap)[0],t=Na().memoizedState;return[e,t]},useMutableSource:CB,useSyncExternalStore:kB,useId:UB,unstable_isNewReconciler:!1};function Fa(e,t){if(e&&e.defaultProps){t=kn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:kn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Z0={isMounted:function(e){return(e=e._reactInternals)?Su(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jr(),a=Tl(e),i=mo(r,a);i.payload=t,n!=null&&(i.callback=n),t=Pl(e,i,a),t!==null&&(Za(t,e,a,r),hy(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jr(),a=Tl(e),i=mo(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Pl(e,i,a),t!==null&&(Za(t,e,a,r),hy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jr(),r=Tl(e),a=mo(n,r);a.tag=2,t!=null&&(a.callback=t),t=Pl(e,a,r),t!==null&&(Za(t,e,r,n),hy(t,e,r))}};function DM(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!_p(n,r)||!_p(a,i):!0}function WB(e,t,n){var r=!1,a=Fl,i=t.contextType;return typeof i=="object"&&i!==null?i=_a(i):(a=fs(t)?Qc:Mr.current,r=t.contextTypes,i=(r=r!=null)?uh(e,a):Fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function IM(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Z0.enqueueReplaceState(t,t.state,null)}function yS(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},V2(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=_a(i):(i=fs(t)?Qc:Mr.current,a.context=uh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xS(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Z0.enqueueReplaceState(a,a.state,null),Qy(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function mh(e,t){try{var n="",r=t;do n+=ZZ(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function $_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cte=typeof WeakMap=="function"?WeakMap:Map;function HB(e,t,n){n=mo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rb||(rb=!0,AS=r),bS(e,t)},n}function GB(e,t,n){n=mo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){bS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bS(e,t),typeof r!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $M(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cte;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Bte.bind(null,e,t,n),t.then(e,e))}function RM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LM(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mo(-1,1),t.tag=2,Pl(n,t,1))),n.lanes|=1),e)}var kte=Oo.ReactCurrentOwner,cs=!1;function qr(e,t,n,r){t.child=e===null?jB(t,null,n,r):hh(t,e.child,n,r)}function FM(e,t,n,r,a){n=n.render;var i=t.ref;return kd(t,a),r=Y2(e,t,n,r,i,a),n=J2(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,No(e,t,a)):(yn&&n&&R2(t),t.flags|=1,qr(e,t,r,a),t.child)}function BM(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!iP(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,KB(e,t,i,r,a)):(e=xy(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_p,n(o,r)&&e.ref===t.ref)return No(e,t,a)}return t.flags|=1,e=Ol(i,r),e.ref=t.ref,e.return=t,t.child=e}function KB(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(_p(i,r)&&e.ref===t.ref)if(cs=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(cs=!0);else return t.lanes=e.lanes,No(e,t,a)}return wS(e,t,n,r,a)}function YB(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(yd,Is),Is|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,un(yd,Is),Is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,un(yd,Is),Is|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,un(yd,Is),Is|=r;return qr(e,t,a,n),t.child}function JB(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wS(e,t,n,r,a){var i=fs(n)?Qc:Mr.current;return i=uh(t,i),kd(t,a),n=Y2(e,t,n,r,i,a),r=J2(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,No(e,t,a)):(yn&&r&&R2(t),t.flags|=1,qr(e,t,n,a),t.child)}function UM(e,t,n,r,a){if(fs(n)){var i=!0;Gy(t)}else i=!1;if(kd(t,a),t.stateNode===null)py(e,t),WB(t,n,r),yS(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_a(u):(u=fs(n)?Qc:Mr.current,u=uh(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&IM(t,o,r,u),rl=!1;var f=t.memoizedState;o.state=f,Qy(t,r,o,a),c=t.memoizedState,l!==r||f!==c||hs.current||rl?(typeof d=="function"&&(xS(t,n,d,r),c=t.memoizedState),(l=rl||DM(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NB(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fa(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=_a(c):(c=fs(n)?Qc:Mr.current,c=uh(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&IM(t,o,r,c),rl=!1,f=t.memoizedState,o.state=f,Qy(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||hs.current||rl?(typeof m=="function"&&(xS(t,n,m,r),g=t.memoizedState),(u=rl||DM(t,n,u,r,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jS(e,t,n,r,i,a)}function jS(e,t,n,r,a,i){JB(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&CM(t,n,!1),No(e,t,i);r=t.stateNode,kte.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hh(t,e.child,null,i),t.child=hh(t,null,l,i)):qr(e,t,l,i),t.memoizedState=r.state,a&&CM(t,n,!0),t.child}function XB(e){var t=e.stateNode;t.pendingContext?SM(e,t.pendingContext,t.pendingContext!==t.context):t.context&&SM(e,t.context,!1),W2(e,t.containerInfo)}function zM(e,t,n,r,a){return dh(),F2(a),t.flags|=256,qr(e,t,n,r),t.child}var _S={dehydrated:null,treeContext:null,retryLane:0};function NS(e){return{baseLanes:e,cachePool:null,transitions:null}}function QB(e,t,n){var r=t.pendingProps,a=jn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),un(jn,a&1),e===null)return gS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nw(o,r,0,null),e=Vc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=NS(n),t.memoizedState=_S,e):Z2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Ete(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ol(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ol(l,i):(i=Vc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?NS(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=_S,r}return i=e.child,e=i.sibling,r=Ol(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Z2(e,t){return t=nw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ox(e,t,n,r){return r!==null&&F2(r),hh(t,e.child,null,n),e=Z2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ete(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=$_(Error(Ce(422))),ox(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=nw({mode:"visible",children:r.children},a,0,null),i=Vc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&hh(t,e.child,null,o),t.child.memoizedState=NS(o),t.memoizedState=_S,i);if(!(t.mode&1))return ox(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Ce(419)),r=$_(i,r,void 0),ox(e,t,o,r)}if(l=(o&e.childLanes)!==0,cs||l){if(r=sr,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,_o(e,a),Za(r,e,a,-1))}return aP(),r=$_(Error(Ce(421))),ox(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ute.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Bs=El(a.nextSibling),qs=t,yn=!0,Ha=null,e!==null&&(ca[ua++]=io,ca[ua++]=oo,ca[ua++]=Zc,io=e.id,oo=e.overflow,Zc=t),t=Z2(t,r.children),t.flags|=4096,t)}function qM(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vS(e.return,t,n)}function R_(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function ZB(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(qr(e,t,r.children,n),r=jn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qM(e,n,t);else if(e.tag===19)qM(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(un(jn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Zy(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),R_(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zy(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}R_(t,!0,n,null,i);break;case"together":R_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function py(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function No(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ce(153));if(t.child!==null){for(e=t.child,n=Ol(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ol(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pte(e,t,n){switch(t.tag){case 3:XB(t),dh();break;case 5:SB(t);break;case 1:fs(t.type)&&Gy(t);break;case 4:W2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;un(Jy,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(un(jn,jn.current&1),t.flags|=128,null):n&t.child.childLanes?QB(e,t,n):(un(jn,jn.current&1),e=No(e,t,n),e!==null?e.sibling:null);un(jn,jn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZB(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),un(jn,jn.current),r)break;return null;case 22:case 23:return t.lanes=0,YB(e,t,n)}return No(e,t,n)}var e8,SS,t8,n8;e8=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};SS=function(){};t8=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pc($i.current);var i=null;switch(n){case"input":a=GN(e,a),r=GN(e,r),i=[];break;case"select":a=kn({},a,{value:void 0}),r=kn({},r,{value:void 0}),i=[];break;case"textarea":a=JN(e,a),r=JN(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wy)}QN(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};n8=function(e,t,n,r){n!==r&&(t.flags|=4)};function nm(e,t){if(!yn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ate(e,t,n){var r=t.pendingProps;switch(L2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(t),null;case 1:return fs(t.type)&&Hy(),yr(t),null;case 3:return r=t.stateNode,fh(),xn(hs),xn(Mr),G2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ax(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ha!==null&&(MS(Ha),Ha=null))),SS(e,t),yr(t),null;case 5:H2(t);var a=Pc(Ep.current);if(n=t.type,e!==null&&t.stateNode!=null)t8(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ce(166));return yr(t),null}if(e=Pc($i.current),ax(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ti]=t,r[Cp]=i,e=(t.mode&1)!==0,n){case"dialog":pn("cancel",r),pn("close",r);break;case"iframe":case"object":case"embed":pn("load",r);break;case"video":case"audio":for(a=0;a<Am.length;a++)pn(Am[a],r);break;case"source":pn("error",r);break;case"img":case"image":case"link":pn("error",r),pn("load",r);break;case"details":pn("toggle",r);break;case"input":QO(r,i),pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pn("invalid",r);break;case"textarea":eM(r,i),pn("invalid",r)}QN(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&sx(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sx(r.textContent,l,e),a=["children",""+l]):gp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pn("scroll",r)}switch(n){case"input":Jv(r),ZO(r,i,!0);break;case"textarea":Jv(r),tM(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wy)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=A6(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ti]=t,e[Cp]=r,e8(e,t,!1,!1),t.stateNode=e;e:{switch(o=ZN(n,r),n){case"dialog":pn("cancel",e),pn("close",e),a=r;break;case"iframe":case"object":case"embed":pn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Am.length;a++)pn(Am[a],e);a=r;break;case"source":pn("error",e),a=r;break;case"img":case"image":case"link":pn("error",e),pn("load",e),a=r;break;case"details":pn("toggle",e),a=r;break;case"input":QO(e,r),a=GN(e,r),pn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=kn({},r,{value:void 0}),pn("invalid",e);break;case"textarea":eM(e,r),a=JN(e,r),pn("invalid",e);break;default:a=r}QN(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?M6(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&T6(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vp(e,c):typeof c=="number"&&vp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pn("scroll",e):c!=null&&_2(e,i,c,o))}switch(n){case"input":Jv(e),ZO(e,r,!1);break;case"textarea":Jv(e),tM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ll(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_d(e,!!r.multiple,i,!1):r.defaultValue!=null&&_d(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yr(t),null;case 6:if(e&&t.stateNode!=null)n8(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ce(166));if(n=Pc(Ep.current),Pc($i.current),ax(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ti]=t,(i=r.nodeValue!==n)&&(e=qs,e!==null))switch(e.tag){case 3:sx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sx(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=t,t.stateNode=r}return yr(t),null;case 13:if(xn(jn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yn&&Bs!==null&&t.mode&1&&!(t.flags&128))bB(),dh(),t.flags|=98560,i=!1;else if(i=ax(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));i[Ti]=t}else dh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yr(t),i=!1}else Ha!==null&&(MS(Ha),Ha=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||jn.current&1?Wn===0&&(Wn=3):aP())),t.updateQueue!==null&&(t.flags|=4),yr(t),null);case 4:return fh(),SS(e,t),e===null&&Np(t.stateNode.containerInfo),yr(t),null;case 10:return z2(t.type._context),yr(t),null;case 17:return fs(t.type)&&Hy(),yr(t),null;case 19:if(xn(jn),i=t.memoizedState,i===null)return yr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)nm(i,!1);else{if(Wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zy(e),o!==null){for(t.flags|=128,nm(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return un(jn,jn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Mn()>ph&&(t.flags|=128,r=!0,nm(i,!1),t.lanes=4194304)}else{if(!r)if(e=Zy(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yn)return yr(t),null}else 2*Mn()-i.renderingStartTime>ph&&n!==1073741824&&(t.flags|=128,r=!0,nm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Mn(),t.sibling=null,n=jn.current,un(jn,r?n&1|2:n&1),t):(yr(t),null);case 22:case 23:return sP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Is&1073741824&&(yr(t),t.subtreeFlags&6&&(t.flags|=8192)):yr(t),null;case 24:return null;case 25:return null}throw Error(Ce(156,t.tag))}function Tte(e,t){switch(L2(t),t.tag){case 1:return fs(t.type)&&Hy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fh(),xn(hs),xn(Mr),G2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H2(t),null;case 13:if(xn(jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ce(340));dh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(jn),null;case 4:return fh(),null;case 10:return z2(t.type._context),null;case 22:case 23:return sP(),null;case 24:return null;default:return null}}var lx=!1,Sr=!1,Ote=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function xd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function CS(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var VM=!1;function Mte(e,t){if(cS=zy,e=oB(),$2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uS={focusedElem:e,selectionRange:n},zy=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Fa(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(_){Pn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return g=VM,VM=!1,g}function Gm(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&CS(t,n,i)}a=a.next}while(a!==r)}}function ew(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r8(e){var t=e.alternate;t!==null&&(e.alternate=null,r8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Cp],delete t[fS],delete t[pte],delete t[gte])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s8(e){return e.tag===5||e.tag===3||e.tag===4}function WM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ES(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wy));else if(r!==4&&(e=e.child,e!==null))for(ES(e,t,n),e=e.sibling;e!==null;)ES(e,t,n),e=e.sibling}function PS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(PS(e,t,n),e=e.sibling;e!==null;)PS(e,t,n),e=e.sibling}var fr=null,Ua=!1;function zo(e,t,n){for(n=n.child;n!==null;)a8(e,t,n),n=n.sibling}function a8(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(H0,n)}catch{}switch(n.tag){case 5:Sr||xd(n,t);case 6:var r=fr,a=Ua;fr=null,zo(e,t,n),fr=r,Ua=a,fr!==null&&(Ua?(e=fr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fr.removeChild(n.stateNode));break;case 18:fr!==null&&(Ua?(e=fr,n=n.stateNode,e.nodeType===8?A_(e.parentNode,n):e.nodeType===1&&A_(e,n),wp(e)):A_(fr,n.stateNode));break;case 4:r=fr,a=Ua,fr=n.stateNode.containerInfo,Ua=!0,zo(e,t,n),fr=r,Ua=a;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&CS(n,t,o),a=a.next}while(a!==r)}zo(e,t,n);break;case 1:if(!Sr&&(xd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pn(n,t,l)}zo(e,t,n);break;case 21:zo(e,t,n);break;case 22:n.mode&1?(Sr=(r=Sr)||n.memoizedState!==null,zo(e,t,n),Sr=r):zo(e,t,n);break;default:zo(e,t,n)}}function HM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ote),t.forEach(function(r){var a=zte.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ma(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fr=l.stateNode,Ua=!1;break e;case 3:fr=l.stateNode.containerInfo,Ua=!0;break e;case 4:fr=l.stateNode.containerInfo,Ua=!0;break e}l=l.return}if(fr===null)throw Error(Ce(160));a8(i,o,a),fr=null,Ua=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Pn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i8(t,e),t=t.sibling}function i8(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ma(t,e),bi(e),r&4){try{Gm(3,e,e.return),ew(3,e)}catch(p){Pn(e,e.return,p)}try{Gm(5,e,e.return)}catch(p){Pn(e,e.return,p)}}break;case 1:Ma(t,e),bi(e),r&512&&n!==null&&xd(n,n.return);break;case 5:if(Ma(t,e),bi(e),r&512&&n!==null&&xd(n,n.return),e.flags&32){var a=e.stateNode;try{vp(a,"")}catch(p){Pn(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&E6(a,i),ZN(l,o);var u=ZN(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?M6(a,h):d==="dangerouslySetInnerHTML"?T6(a,h):d==="children"?vp(a,h):_2(a,d,h,u)}switch(l){case"input":KN(a,i);break;case"textarea":P6(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?_d(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?_d(a,!!i.multiple,i.defaultValue,!0):_d(a,!!i.multiple,i.multiple?[]:"",!1))}a[Cp]=i}catch(p){Pn(e,e.return,p)}}break;case 6:if(Ma(t,e),bi(e),r&4){if(e.stateNode===null)throw Error(Ce(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Pn(e,e.return,p)}}break;case 3:if(Ma(t,e),bi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wp(t.containerInfo)}catch(p){Pn(e,e.return,p)}break;case 4:Ma(t,e),bi(e);break;case 13:Ma(t,e),bi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(nP=Mn())),r&4&&HM(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Sr=(u=Sr)||d,Ma(t,e),Sr=u):Ma(t,e),bi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(h=Ie=d;Ie!==null;){switch(f=Ie,m=f.child,f.tag){case 0:case 11:case 14:case 15:Gm(4,f,f.return);break;case 1:xd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Pn(r,n,p)}}break;case 5:xd(f,f.return);break;case 22:if(f.memoizedState!==null){KM(h);continue}}m!==null?(m.return=f,Ie=m):KM(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O6("display",o))}catch(p){Pn(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Pn(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ma(t,e),bi(e),r&4&&HM(e);break;case 21:break;default:Ma(t,e),bi(e)}}function bi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(s8(n)){var r=n;break e}n=n.return}throw Error(Ce(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(vp(a,""),r.flags&=-33);var i=WM(e);PS(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=WM(e);ES(e,l,o);break;default:throw Error(Ce(161))}}catch(c){Pn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dte(e,t,n){Ie=e,o8(e)}function o8(e,t,n){for(var r=(e.mode&1)!==0;Ie!==null;){var a=Ie,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||lx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Sr;l=lx;var u=Sr;if(lx=o,(Sr=c)&&!u)for(Ie=a;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?YM(a):c!==null?(c.return=o,Ie=c):YM(a);for(;i!==null;)Ie=i,o8(i),i=i.sibling;Ie=a,lx=l,Sr=u}GM(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ie=i):GM(e)}}function GM(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sr||ew(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Fa(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&TM(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}TM(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}Sr||t.flags&512&&kS(t)}catch(f){Pn(t,t.return,f)}}if(t===e){Ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function KM(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function YM(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ew(4,t)}catch(c){Pn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Pn(t,a,c)}}var i=t.return;try{kS(t)}catch(c){Pn(t,i,c)}break;case 5:var o=t.return;try{kS(t)}catch(c){Pn(t,o,c)}}}catch(c){Pn(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var Ite=Math.ceil,nb=Oo.ReactCurrentDispatcher,eP=Oo.ReactCurrentOwner,va=Oo.ReactCurrentBatchConfig,Dt=0,sr=null,Ln=null,gr=0,Is=0,yd=Xl(0),Wn=0,Op=null,tu=0,tw=0,tP=0,Km=null,os=null,nP=0,ph=1/0,to=null,rb=!1,AS=null,Al=null,cx=!1,wl=null,sb=0,Ym=0,TS=null,gy=-1,vy=0;function Jr(){return Dt&6?Mn():gy!==-1?gy:gy=Mn()}function Tl(e){return e.mode&1?Dt&2&&gr!==0?gr&-gr:xte.transition!==null?(vy===0&&(vy=W6()),vy):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:Q6(e.type)),e):1}function Za(e,t,n,r){if(50<Ym)throw Ym=0,TS=null,Error(Ce(185));Ug(e,n,r),(!(Dt&2)||e!==sr)&&(e===sr&&(!(Dt&2)&&(tw|=n),Wn===4&&cl(e,gr)),ms(e,r),n===1&&Dt===0&&!(t.mode&1)&&(ph=Mn()+500,X0&&Ql()))}function ms(e,t){var n=e.callbackNode;xee(e,t);var r=Uy(e,e===sr?gr:0);if(r===0)n!==null&&sM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sM(n),t===1)e.tag===0?vte(JM.bind(null,e)):vB(JM.bind(null,e)),fte(function(){!(Dt&6)&&Ql()}),n=null;else{switch(H6(r)){case 1:n=E2;break;case 4:n=q6;break;case 16:n=By;break;case 536870912:n=V6;break;default:n=By}n=p8(n,l8.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l8(e,t){if(gy=-1,vy=0,Dt&6)throw Error(Ce(327));var n=e.callbackNode;if(Ed()&&e.callbackNode!==n)return null;var r=Uy(e,e===sr?gr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ab(e,r);else{t=r;var a=Dt;Dt|=2;var i=u8();(sr!==e||gr!==t)&&(to=null,ph=Mn()+500,qc(e,t));do try{Lte();break}catch(l){c8(e,l)}while(!0);U2(),nb.current=i,Dt=a,Ln!==null?t=0:(sr=null,gr=0,t=Wn)}if(t!==0){if(t===2&&(a=sS(e),a!==0&&(r=a,t=OS(e,a))),t===1)throw n=Op,qc(e,0),cl(e,r),ms(e,Mn()),n;if(t===6)cl(e,r);else{if(a=e.current.alternate,!(r&30)&&!$te(a)&&(t=ab(e,r),t===2&&(i=sS(e),i!==0&&(r=i,t=OS(e,i))),t===1))throw n=Op,qc(e,0),cl(e,r),ms(e,Mn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ce(345));case 2:xc(e,os,to);break;case 3:if(cl(e,r),(r&130023424)===r&&(t=nP+500-Mn(),10<t)){if(Uy(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Jr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=hS(xc.bind(null,e,os,to),t);break}xc(e,os,to);break;case 4:if(cl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Qa(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ite(r/1960))-r,10<r){e.timeoutHandle=hS(xc.bind(null,e,os,to),r);break}xc(e,os,to);break;case 5:xc(e,os,to);break;default:throw Error(Ce(329))}}}return ms(e,Mn()),e.callbackNode===n?l8.bind(null,e):null}function OS(e,t){var n=Km;return e.current.memoizedState.isDehydrated&&(qc(e,t).flags|=256),e=ab(e,t),e!==2&&(t=os,os=n,t!==null&&MS(t)),e}function MS(e){os===null?os=e:os.push.apply(os,e)}function $te(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ri(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cl(e,t){for(t&=~tP,t&=~tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qa(t),r=1<<n;e[n]=-1,t&=~r}}function JM(e){if(Dt&6)throw Error(Ce(327));Ed();var t=Uy(e,0);if(!(t&1))return ms(e,Mn()),null;var n=ab(e,t);if(e.tag!==0&&n===2){var r=sS(e);r!==0&&(t=r,n=OS(e,r))}if(n===1)throw n=Op,qc(e,0),cl(e,t),ms(e,Mn()),n;if(n===6)throw Error(Ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,os,to),ms(e,Mn()),null}function rP(e,t){var n=Dt;Dt|=1;try{return e(t)}finally{Dt=n,Dt===0&&(ph=Mn()+500,X0&&Ql())}}function nu(e){wl!==null&&wl.tag===0&&!(Dt&6)&&Ed();var t=Dt;Dt|=1;var n=va.transition,r=Wt;try{if(va.transition=null,Wt=1,e)return e()}finally{Wt=r,va.transition=n,Dt=t,!(Dt&6)&&Ql()}}function sP(){Is=yd.current,xn(yd)}function qc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hte(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(L2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hy();break;case 3:fh(),xn(hs),xn(Mr),G2();break;case 5:H2(r);break;case 4:fh();break;case 13:xn(jn);break;case 19:xn(jn);break;case 10:z2(r.type._context);break;case 22:case 23:sP()}n=n.return}if(sr=e,Ln=e=Ol(e.current,null),gr=Is=t,Wn=0,Op=null,tP=tw=tu=0,os=Km=null,Ec!==null){for(t=0;t<Ec.length;t++)if(n=Ec[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Ec=null}return e}function c8(e,t){do{var n=Ln;try{if(U2(),fy.current=tb,eb){for(var r=Nn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}eb=!1}if(eu=0,tr=qn=Nn=null,Hm=!1,Pp=0,eP.current=null,n===null||n.return===null){Wn=1,Op=t,Ln=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=gr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=RM(o);if(m!==null){m.flags&=-257,LM(m,o,l,i,t),m.mode&1&&$M(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){$M(i,u,t),aP();break e}c=Error(Ce(426))}}else if(yn&&l.mode&1){var x=RM(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),LM(x,o,l,i,t),F2(mh(c,l));break e}}i=c=mh(c,l),Wn!==4&&(Wn=2),Km===null?Km=[i]:Km.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=HB(i,c,t);AM(i,y);break e;case 1:l=c;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Al===null||!Al.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=GB(i,l,t);AM(i,_);break e}}i=i.return}while(i!==null)}h8(n)}catch(S){t=S,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(!0)}function u8(){var e=nb.current;return nb.current=tb,e===null?tb:e}function aP(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),sr===null||!(tu&268435455)&&!(tw&268435455)||cl(sr,gr)}function ab(e,t){var n=Dt;Dt|=2;var r=u8();(sr!==e||gr!==t)&&(to=null,qc(e,t));do try{Rte();break}catch(a){c8(e,a)}while(!0);if(U2(),Dt=n,nb.current=r,Ln!==null)throw Error(Ce(261));return sr=null,gr=0,Wn}function Rte(){for(;Ln!==null;)d8(Ln)}function Lte(){for(;Ln!==null&&!cee();)d8(Ln)}function d8(e){var t=m8(e.alternate,e,Is);e.memoizedProps=e.pendingProps,t===null?h8(e):Ln=t,eP.current=null}function h8(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tte(n,t),n!==null){n.flags&=32767,Ln=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wn=6,Ln=null;return}}else if(n=Ate(n,t,Is),n!==null){Ln=n;return}if(t=t.sibling,t!==null){Ln=t;return}Ln=t=e}while(t!==null);Wn===0&&(Wn=5)}function xc(e,t,n){var r=Wt,a=va.transition;try{va.transition=null,Wt=1,Fte(e,t,n,r)}finally{va.transition=a,Wt=r}return null}function Fte(e,t,n,r){do Ed();while(wl!==null);if(Dt&6)throw Error(Ce(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yee(e,i),e===sr&&(Ln=sr=null,gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cx||(cx=!0,p8(By,function(){return Ed(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=va.transition,va.transition=null;var o=Wt;Wt=1;var l=Dt;Dt|=4,eP.current=null,Mte(e,n),i8(n,e),ate(uS),zy=!!cS,uS=cS=null,e.current=n,Dte(n),uee(),Dt=l,Wt=o,va.transition=i}else e.current=n;if(cx&&(cx=!1,wl=e,sb=a),i=e.pendingLanes,i===0&&(Al=null),fee(n.stateNode),ms(e,Mn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(rb)throw rb=!1,e=AS,AS=null,e;return sb&1&&e.tag!==0&&Ed(),i=e.pendingLanes,i&1?e===TS?Ym++:(Ym=0,TS=e):Ym=0,Ql(),null}function Ed(){if(wl!==null){var e=H6(sb),t=va.transition,n=Wt;try{if(va.transition=null,Wt=16>e?16:e,wl===null)var r=!1;else{if(e=wl,wl=null,sb=0,Dt&6)throw Error(Ce(331));var a=Dt;for(Dt|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:Gm(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ie=h;else for(;Ie!==null;){d=Ie;var f=d.sibling,m=d.return;if(r8(d),d===u){Ie=null;break}if(f!==null){f.return=m,Ie=f;break}Ie=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gm(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ie=y;break e}Ie=i.return}}var b=e.current;for(Ie=b;Ie!==null;){o=Ie;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ie=j;else e:for(o=b;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ew(9,l)}}catch(S){Pn(l,l.return,S)}if(l===o){Ie=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ie=_;break e}Ie=l.return}}if(Dt=a,Ql(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(H0,e)}catch{}r=!0}return r}finally{Wt=n,va.transition=t}}return!1}function XM(e,t,n){t=mh(n,t),t=HB(e,t,1),e=Pl(e,t,1),t=Jr(),e!==null&&(Ug(e,1,t),ms(e,t))}function Pn(e,t,n){if(e.tag===3)XM(e,e,n);else for(;t!==null;){if(t.tag===3){XM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Al===null||!Al.has(r))){e=mh(n,e),e=GB(t,e,1),t=Pl(t,e,1),e=Jr(),t!==null&&(Ug(t,1,e),ms(t,e));break}}t=t.return}}function Bte(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Jr(),e.pingedLanes|=e.suspendedLanes&n,sr===e&&(gr&n)===n&&(Wn===4||Wn===3&&(gr&130023424)===gr&&500>Mn()-nP?qc(e,0):tP|=n),ms(e,t)}function f8(e,t){t===0&&(e.mode&1?(t=Zv,Zv<<=1,!(Zv&130023424)&&(Zv=4194304)):t=1);var n=Jr();e=_o(e,t),e!==null&&(Ug(e,t,n),ms(e,n))}function Ute(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),f8(e,n)}function zte(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(t),f8(e,n)}var m8;m8=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hs.current)cs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cs=!1,Pte(e,t,n);cs=!!(e.flags&131072)}else cs=!1,yn&&t.flags&1048576&&xB(t,Yy,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;py(e,t),e=t.pendingProps;var a=uh(t,Mr.current);kd(t,n),a=Y2(null,t,r,e,a,n);var i=J2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(r)?(i=!0,Gy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,V2(t),a.updater=Z0,t.stateNode=a,a._reactInternals=t,yS(t,r,e,n),t=jS(null,t,r,!0,i,n)):(t.tag=0,yn&&i&&R2(t),qr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(py(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Vte(r),e=Fa(r,e),a){case 0:t=wS(null,t,r,e,n);break e;case 1:t=UM(null,t,r,e,n);break e;case 11:t=FM(null,t,r,e,n);break e;case 14:t=BM(null,t,r,Fa(r.type,e),n);break e}throw Error(Ce(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Fa(r,a),wS(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Fa(r,a),UM(e,t,r,a,n);case 3:e:{if(XB(t),e===null)throw Error(Ce(387));r=t.pendingProps,i=t.memoizedState,a=i.element,NB(e,t),Qy(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=mh(Error(Ce(423)),t),t=zM(e,t,r,n,a);break e}else if(r!==a){a=mh(Error(Ce(424)),t),t=zM(e,t,r,n,a);break e}else for(Bs=El(t.stateNode.containerInfo.firstChild),qs=t,yn=!0,Ha=null,n=jB(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dh(),r===a){t=No(e,t,n);break e}qr(e,t,r,n)}t=t.child}return t;case 5:return SB(t),e===null&&gS(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,dS(r,a)?o=null:i!==null&&dS(r,i)&&(t.flags|=32),JB(e,t),qr(e,t,o,n),t.child;case 6:return e===null&&gS(t),null;case 13:return QB(e,t,n);case 4:return W2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hh(t,null,r,n):qr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Fa(r,a),FM(e,t,r,a,n);case 7:return qr(e,t,t.pendingProps,n),t.child;case 8:return qr(e,t,t.pendingProps.children,n),t.child;case 12:return qr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,un(Jy,r._currentValue),r._currentValue=o,i!==null)if(ri(i.value,o)){if(i.children===a.children&&!hs.current){t=No(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=mo(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vS(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ce(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vS(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,kd(t,n),a=_a(a),r=r(a),t.flags|=1,qr(e,t,r,n),t.child;case 14:return r=t.type,a=Fa(r,t.pendingProps),a=Fa(r.type,a),BM(e,t,r,a,n);case 15:return KB(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Fa(r,a),py(e,t),t.tag=1,fs(r)?(e=!0,Gy(t)):e=!1,kd(t,n),WB(t,r,a),yS(t,r,a,n),jS(null,t,r,!0,e,n);case 19:return ZB(e,t,n);case 22:return YB(e,t,n)}throw Error(Ce(156,t.tag))};function p8(e,t){return z6(e,t)}function qte(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(e,t,n,r){return new qte(e,t,n,r)}function iP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vte(e){if(typeof e=="function")return iP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S2)return 11;if(e===C2)return 14}return 2}function Ol(e,t){var n=e.alternate;return n===null?(n=fa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xy(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")iP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case cd:return Vc(n.children,a,i,t);case N2:o=8,a|=8;break;case qN:return e=fa(12,n,t,a|2),e.elementType=qN,e.lanes=i,e;case VN:return e=fa(13,n,t,a),e.elementType=VN,e.lanes=i,e;case WN:return e=fa(19,n,t,a),e.elementType=WN,e.lanes=i,e;case S6:return nw(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _6:o=10;break e;case N6:o=9;break e;case S2:o=11;break e;case C2:o=14;break e;case nl:o=16,r=null;break e}throw Error(Ce(130,e==null?e:typeof e,""))}return t=fa(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Vc(e,t,n,r){return e=fa(7,e,r,t),e.lanes=n,e}function nw(e,t,n,r){return e=fa(22,e,r,t),e.elementType=S6,e.lanes=n,e.stateNode={isHidden:!1},e}function L_(e,t,n){return e=fa(6,e,null,t),e.lanes=n,e}function F_(e,t,n){return t=fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wte(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y_(0),this.expirationTimes=y_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y_(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oP(e,t,n,r,a,i,o,l,c){return e=new Wte(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},V2(i),e}function Hte(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function g8(e){if(!e)return Fl;e=e._reactInternals;e:{if(Su(e)!==e||e.tag!==1)throw Error(Ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ce(171))}if(e.tag===1){var n=e.type;if(fs(n))return gB(e,n,t)}return t}function v8(e,t,n,r,a,i,o,l,c){return e=oP(n,r,!0,e,a,i,o,l,c),e.context=g8(null),n=e.current,r=Jr(),a=Tl(n),i=mo(r,a),i.callback=t??null,Pl(n,i,a),e.current.lanes=a,Ug(e,a,r),ms(e,r),e}function rw(e,t,n,r){var a=t.current,i=Jr(),o=Tl(a);return n=g8(n),t.context===null?t.context=n:t.pendingContext=n,t=mo(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pl(a,t,o),e!==null&&(Za(e,a,o,i),hy(e,a,o)),o}function ib(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lP(e,t){QM(e,t),(e=e.alternate)&&QM(e,t)}function Gte(){return null}var x8=typeof reportError=="function"?reportError:function(e){console.error(e)};function cP(e){this._internalRoot=e}sw.prototype.render=cP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ce(409));rw(e,t,null,null)};sw.prototype.unmount=cP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nu(function(){rw(null,e,null,null)}),t[jo]=null}};function sw(e){this._internalRoot=e}sw.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y6();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ll.length&&t!==0&&t<ll[n].priority;n++);ll.splice(n,0,e),n===0&&X6(e)}};function uP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZM(){}function Kte(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=ib(o);i.call(u)}}var o=v8(t,r,e,0,null,!1,!1,"",ZM);return e._reactRootContainer=o,e[jo]=o.current,Np(e.nodeType===8?e.parentNode:e),nu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=ib(c);l.call(u)}}var c=oP(e,0,!1,null,null,!1,!1,"",ZM);return e._reactRootContainer=c,e[jo]=c.current,Np(e.nodeType===8?e.parentNode:e),nu(function(){rw(t,c,n,r)}),c}function iw(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ib(o);l.call(c)}}rw(t,o,e,a)}else o=Kte(n,t,e,a,r);return ib(o)}G6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pm(t.pendingLanes);n!==0&&(P2(t,n|1),ms(t,Mn()),!(Dt&6)&&(ph=Mn()+500,Ql()))}break;case 13:nu(function(){var r=_o(e,1);if(r!==null){var a=Jr();Za(r,e,1,a)}}),lP(e,1)}};A2=function(e){if(e.tag===13){var t=_o(e,134217728);if(t!==null){var n=Jr();Za(t,e,134217728,n)}lP(e,134217728)}};K6=function(e){if(e.tag===13){var t=Tl(e),n=_o(e,t);if(n!==null){var r=Jr();Za(n,e,t,r)}lP(e,t)}};Y6=function(){return Wt};J6=function(e,t){var n=Wt;try{return Wt=e,t()}finally{Wt=n}};tS=function(e,t,n){switch(t){case"input":if(KN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=J0(r);if(!a)throw Error(Ce(90));k6(r),KN(r,a)}}}break;case"textarea":P6(e,n);break;case"select":t=n.value,t!=null&&_d(e,!!n.multiple,t,!1)}};$6=rP;R6=nu;var Yte={usingClientEntryPoint:!1,Events:[qg,fd,J0,D6,I6,rP]},rm={findFiberByHostInstance:kc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jte={bundleType:rm.bundleType,version:rm.version,rendererPackageName:rm.rendererPackageName,rendererConfig:rm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B6(e),e===null?null:e.stateNode},findFiberByHostInstance:rm.findFiberByHostInstance||Gte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ux.isDisabled&&ux.supportsFiber)try{H0=ux.inject(Jte),Ii=ux}catch{}}Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yte;Xs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uP(t))throw Error(Ce(200));return Hte(e,t,null,n)};Xs.createRoot=function(e,t){if(!uP(e))throw Error(Ce(299));var n=!1,r="",a=x8;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=oP(e,1,!1,null,null,n,!1,r,a),e[jo]=t.current,Np(e.nodeType===8?e.parentNode:e),new cP(t)};Xs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ce(188)):(e=Object.keys(e).join(","),Error(Ce(268,e)));return e=B6(t),e=e===null?null:e.stateNode,e};Xs.flushSync=function(e){return nu(e)};Xs.hydrate=function(e,t,n){if(!aw(t))throw Error(Ce(200));return iw(null,e,t,!0,n)};Xs.hydrateRoot=function(e,t,n){if(!uP(e))throw Error(Ce(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=x8;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=v8(t,null,e,1,n??null,a,!1,i,o),e[jo]=t.current,Np(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new sw(t)};Xs.render=function(e,t,n){if(!aw(t))throw Error(Ce(200));return iw(null,e,t,!1,n)};Xs.unmountComponentAtNode=function(e){if(!aw(e))throw Error(Ce(40));return e._reactRootContainer?(nu(function(){iw(null,null,e,!1,function(){e._reactRootContainer=null,e[jo]=null})}),!0):!1};Xs.unstable_batchedUpdates=rP;Xs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!aw(n))throw Error(Ce(200));if(e==null||e._reactInternals===void 0)throw Error(Ce(38));return iw(e,t,n,!1,r)};Xs.version="18.3.1-next-f1338f8080-20240426";function y8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y8)}catch(e){console.error(e)}}y8(),y6.exports=Xs;var us=y6.exports;const dP=qt(us);var b8,eD=us;b8=eD.createRoot,eD.hydrateRoot;const Xte=1,Qte=1e6;let B_=0;function Zte(){return B_=(B_+1)%Number.MAX_SAFE_INTEGER,B_.toString()}const U_=new Map,tD=e=>{if(U_.has(e))return;const t=setTimeout(()=>{U_.delete(e),Jm({type:"REMOVE_TOAST",toastId:e})},Qte);U_.set(e,t)},ene=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Xte)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?tD(n):e.toasts.forEach(r=>{tD(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},yy=[];let by={toasts:[]};function Jm(e){by=ene(by,e),yy.forEach(t=>{t(by)})}function Te({...e}){const t=Zte(),n=a=>Jm({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Jm({type:"DISMISS_TOAST",toastId:t});return Jm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function wn(){const[e,t]=v.useState(by);return v.useEffect(()=>(yy.push(t),()=>{const n=yy.indexOf(t);n>-1&&yy.splice(n,1)}),[e]),{...e,toast:Te,dismiss:n=>Jm({type:"DISMISS_TOAST",toastId:n})}}function je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function tne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ow(...e){return t=>e.forEach(n=>tne(n,t))}function Xe(...e){return v.useCallback(ow(...e),e)}function nne(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,x=v.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,rne(a,...t)]}function rne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ws=v.forwardRef((e,t)=>{const{children:n,...r}=e,a=v.Children.toArray(n),i=a.find(sne);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return s.jsx(DS,{...r,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return s.jsx(DS,{...r,ref:t,children:n})});ws.displayName="Slot";var DS=v.forwardRef((e,t)=>{const{children:n,...r}=e;if(v.isValidElement(n)){const a=ine(n);return v.cloneElement(n,{...ane(r,n.props),ref:t?ow(t,a):a})}return v.Children.count(n)>1?v.Children.only(null):null});DS.displayName="SlotClone";var hP=({children:e})=>s.jsx(s.Fragment,{children:e});function sne(e){return v.isValidElement(e)&&e.type===hP}function ane(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function ine(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wg(e){const t=e+"CollectionProvider",[n,r]=nne(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,x=K.useRef(null),y=K.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:y,collectionRef:x,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=K.forwardRef((m,g)=>{const{scope:p,children:x}=m,y=i(l,p),b=Xe(g,y.collectionRef);return s.jsx(ws,{ref:b,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=K.forwardRef((m,g)=>{const{scope:p,children:x,...y}=m,b=K.useRef(null),j=Xe(g,b),_=i(u,p);return K.useEffect(()=>(_.itemMap.set(b,{ref:b,...y}),()=>void _.itemMap.delete(b))),s.jsx(ws,{[d]:"",ref:j,children:x})});h.displayName=u;function f(m){const g=i(e+"CollectionConsumer",m);return K.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function one(e,t){const n=v.createContext(t),r=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Ir(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:m,...g}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,x=v.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,lne(a,...t)]}function lne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var cne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],De=cne.reduce((e,t)=>{const n=v.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?ws:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fP(e,t){e&&us.flushSync(()=>e.dispatchEvent(t))}function _n(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function une(e,t=globalThis==null?void 0:globalThis.document){const n=_n(e);v.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var dne="DismissableLayer",IS="dismissableLayer.update",hne="dismissableLayer.pointerDownOutside",fne="dismissableLayer.focusOutside",nD,w8=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cu=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(w8),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=Xe(t,C=>h(C)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),b=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,S=pne(C=>{const k=C.target,D=[...u.branches].some(I=>I.contains(k));!_||D||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),N=gne(C=>{const k=C.target;[...u.branches].some(I=>I.contains(k))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return une(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=nD)}},[d,f,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rD())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(IS,C),()=>document.removeEventListener(IS,C)},[]),s.jsx(De.div,{...c,ref:g,style:{pointerEvents:j?_?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,N.onFocusCapture),onBlurCapture:je(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,S.onPointerDownCapture)})});Cu.displayName=dne;var mne="DismissableLayerBranch",j8=v.forwardRef((e,t)=>{const n=v.useContext(w8),r=v.useRef(null),a=Xe(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(De.div,{...e,ref:a})});j8.displayName=mne;function pne(e,t=globalThis==null?void 0:globalThis.document){const n=_n(e),r=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){_8(hne,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function gne(e,t=globalThis==null?void 0:globalThis.document){const n=_n(e),r=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!r.current&&_8(fne,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rD(){const e=new CustomEvent(IS);document.dispatchEvent(e)}function _8(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?fP(a,i):a.dispatchEvent(i)}var vne=Cu,xne=j8,ir=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},yne="Portal",of=v.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=v.useState(!1);ir(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?dP.createPortal(s.jsx(De.div,{...r,ref:t}),o):null});of.displayName=yne;function bne(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Un=e=>{const{present:t,children:n}=e,r=wne(t),a=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Xe(r.ref,jne(a));return typeof n=="function"||r.isPresent?v.cloneElement(a,{ref:i}):null};Un.displayName="Presence";function wne(e){const[t,n]=v.useState(),r=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=bne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=dx(r.current);i.current=l==="mounted"?u:"none"},[l]),ir(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=dx(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ir(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=dx(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=dx(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function dx(e){return(e==null?void 0:e.animationName)||"none"}function jne(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function js({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=_ne({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=_n(n),c=v.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function _ne({defaultProp:e,onChange:t}){const n=v.useState(e),[r]=n,a=v.useRef(r),i=_n(t);return v.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Nne="VisuallyHidden",Hg=v.forwardRef((e,t)=>s.jsx(De.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Hg.displayName=Nne;var Sne=Hg,mP="ToastProvider",[pP,Cne,kne]=Wg("Toast"),[N8,kJe]=Ir("Toast",[kne]),[Ene,lw]=N8(mP),S8=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mP}\`. Expected non-empty \`string\`.`),s.jsx(pP.Provider,{scope:t,children:s.jsx(Ene,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};S8.displayName=mP;var C8="ToastViewport",Pne=["F8"],$S="toast.viewportPause",RS="toast.viewportResume",k8=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Pne,label:a="Notifications ({hotkey})",...i}=e,o=lw(C8,n),l=Cne(n),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=Xe(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;v.useEffect(()=>{const x=y=>{var j;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=c.current,y=h.current;if(g&&x&&y){const b=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent($S);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(RS);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!x.contains(N.relatedTarget)&&j()},S=()=>{x.contains(document.activeElement)||j()};return x.addEventListener("focusin",b),x.addEventListener("focusout",_),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",j),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const b=l().map(j=>{const _=j.ref.current,S=[_,...zne(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return v.useEffect(()=>{const x=h.current;if(x){const y=b=>{var S,N,C;const j=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!j){const k=document.activeElement,D=b.shiftKey;if(b.target===x&&D){(S=u.current)==null||S.focus();return}const L=p({tabbingDirection:D?"backwards":"forwards"}),U=L.findIndex(F=>F===k);z_(L.slice(U+1))?b.preventDefault():D?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),s.jsxs(xne,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(LS,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});z_(x)}}),s.jsx(pP.Slot,{scope:n,children:s.jsx(De.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(LS,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});z_(x)}})]})});k8.displayName=C8;var E8="ToastFocusProxy",LS=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=lw(E8,n);return s.jsx(Hg,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});LS.displayName=E8;var cw="Toast",Ane="toast.swipeStart",Tne="toast.swipeMove",One="toast.swipeCancel",Mne="toast.swipeEnd",P8=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=js({prop:r,defaultProp:a,onChange:i});return s.jsx(Un,{present:n||l,children:s.jsx($ne,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:_n(e.onPause),onResume:_n(e.onResume),onSwipeStart:je(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:je(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});P8.displayName=cw;var[Dne,Ine]=N8(cw,{onClose(){}}),$ne=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=e,p=lw(cw,n),[x,y]=v.useState(null),b=Xe(t,F=>y(F)),j=v.useRef(null),_=v.useRef(null),S=a||p.duration,N=v.useRef(0),C=v.useRef(S),k=v.useRef(0),{onToastAdd:D,onToastRemove:I}=p,E=_n(()=>{var $;(x==null?void 0:x.contains(document.activeElement))&&(($=p.viewport)==null||$.focus()),o()}),L=v.useCallback(F=>{!F||F===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(E,F))},[E]);v.useEffect(()=>{const F=p.viewport;if(F){const $=()=>{L(C.current),u==null||u()},M=()=>{const O=new Date().getTime()-N.current;C.current=C.current-O,window.clearTimeout(k.current),c==null||c()};return F.addEventListener($S,M),F.addEventListener(RS,$),()=>{F.removeEventListener($S,M),F.removeEventListener(RS,$)}}},[p.viewport,S,c,u,L]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(S)},[i,S,p.isClosePausedRef,L]),v.useEffect(()=>(D(),()=>I()),[D,I]);const U=v.useMemo(()=>x?$8(x):null,[x]);return p.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(Rne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(Dne,{scope:n,onClose:E,children:us.createPortal(s.jsx(pP.ItemSlot,{scope:n,children:s.jsx(vne,{asChild:!0,onEscapeKeyDown:je(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:je(e.onPointerDown,F=>{F.button===0&&(j.current={x:F.clientX,y:F.clientY})}),onPointerMove:je(e.onPointerMove,F=>{if(!j.current)return;const $=F.clientX-j.current.x,M=F.clientY-j.current.y,O=!!_.current,R=["left","right"].includes(p.swipeDirection),B=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,T=R?B(0,$):0,G=R?0:B(0,M),W=F.pointerType==="touch"?10:2,w={x:T,y:G},A={originalEvent:F,delta:w};O?(_.current=w,hx(Tne,h,A,{discrete:!1})):sD(w,p.swipeDirection,W)?(_.current=w,hx(Ane,d,A,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs($)>W||Math.abs(M)>W)&&(j.current=null)}),onPointerUp:je(e.onPointerUp,F=>{const $=_.current,M=F.target;if(M.hasPointerCapture(F.pointerId)&&M.releasePointerCapture(F.pointerId),_.current=null,j.current=null,$){const O=F.currentTarget,R={originalEvent:F,delta:$};sD($,p.swipeDirection,p.swipeThreshold)?hx(Mne,m,R,{discrete:!0}):hx(One,f,R,{discrete:!0}),O.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Rne=e=>{const{__scopeToast:t,children:n,...r}=e,a=lw(cw,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return Bne(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(of,{asChild:!0,children:s.jsx(Hg,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},Lne="ToastTitle",A8=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});A8.displayName=Lne;var Fne="ToastDescription",T8=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});T8.displayName=Fne;var O8="ToastAction",M8=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(I8,{altText:n,asChild:!0,children:s.jsx(gP,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${O8}\`. Expected non-empty \`string\`.`),null)});M8.displayName=O8;var D8="ToastClose",gP=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Ine(D8,n);return s.jsx(I8,{asChild:!0,children:s.jsx(De.button,{type:"button",...r,ref:t,onClick:je(e.onClick,a.onClose)})})});gP.displayName=D8;var I8=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function $8(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Une(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...$8(r))}}),t}function hx(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?fP(a,i):a.dispatchEvent(i)}var sD=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function Bne(e=()=>{}){const t=_n(e);ir(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Une(e){return e.nodeType===e.ELEMENT_NODE}function zne(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function z_(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var qne=S8,R8=k8,L8=P8,F8=A8,B8=T8,U8=M8,z8=gP;function q8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=q8(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=q8(e))&&(r&&(r+=" "),r+=t);return r}const aD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iD=At,lf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return iD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=aD(d)||aD(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,h,f]:u},[]);return iD(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V8=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Wne,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:V8("lucide",a),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=v.forwardRef(({className:r,...a},i)=>v.createElement(Hne,{ref:i,iconNode:t,className:V8(`lucide-${Vne(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=we("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=we("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=we("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=we("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=we("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=we("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=we("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=we("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=we("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=we("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=we("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=we("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=we("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=we("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=we("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=we("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=we("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=we("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=we("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=we("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=we("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=we("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=we("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=we("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=we("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=we("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=we("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=we("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=we("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=we("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=we("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=we("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=we("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=we("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),_P="-",Sre=e=>{const t=kre(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(_P);return l[0]===""&&l.length!==1&&l.shift(),rU(l,t)||Cre(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},rU=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?rU(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(_P);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},fD=/^\[(.+)\]$/,Cre=e=>{if(fD.test(e)){const t=fD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},kre=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Pre(Object.entries(e.classGroups),n).forEach(([i,o])=>{qS(o,r,i,t)}),r},qS=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:mD(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(Ere(a)){qS(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{qS(o,mD(t,i),n,r)})})},mD=(e,t)=>{let n=e;return t.split(_P).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ere=e=>e.isThemeGetter,Pre=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,Are=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},sU="!",Tre=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===a&&(r||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(sU),g=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},Ore=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Mre=e=>({cache:Are(e.cacheSize),parseClassName:Tre(e),...Sre(e)}),Dre=/\s+/,Ire=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Dre);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?f.substring(0,m):f);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=Ore(d).join(":"),y=h?x+sU:x,b=y+p;if(i.includes(b))continue;i.push(b);const j=a(p,g);for(let _=0;_<j.length;++_){const S=j[_];i.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function $re(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=aU(t))&&(r&&(r+=" "),r+=n);return r}const aU=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aU(e[r]))&&(n&&(n+=" "),n+=t);return n};function Rre(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=Mre(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Ire(c,n);return a(c,d),d}return function(){return i($re.apply(null,arguments))}}const mn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},iU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Lre=/^\d+\/\d+$/,Fre=new Set(["px","full","screen"]),Bre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ure=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=e=>Ad(e)||Fre.has(e)||Lre.test(e),Vo=e=>cf(e,"length",Qre),Ad=e=>!!e&&!Number.isNaN(Number(e)),V_=e=>cf(e,"number",Ad),sm=e=>!!e&&Number.isInteger(Number(e)),Wre=e=>e.endsWith("%")&&Ad(e.slice(0,-1)),gt=e=>iU.test(e),Wo=e=>Bre.test(e),Hre=new Set(["length","size","percentage"]),Gre=e=>cf(e,Hre,oU),Kre=e=>cf(e,"position",oU),Yre=new Set(["image","url"]),Jre=e=>cf(e,Yre,ese),Xre=e=>cf(e,"",Zre),am=()=>!0,cf=(e,t,n)=>{const r=iU.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Qre=e=>Ure.test(e)&&!zre.test(e),oU=()=>!1,Zre=e=>qre.test(e),ese=e=>Vre.test(e),tse=()=>{const e=mn("colors"),t=mn("spacing"),n=mn("blur"),r=mn("brightness"),a=mn("borderColor"),i=mn("borderRadius"),o=mn("borderSpacing"),l=mn("borderWidth"),c=mn("contrast"),u=mn("grayscale"),d=mn("hueRotate"),h=mn("invert"),f=mn("gap"),m=mn("gradientColorStops"),g=mn("gradientColorStopPositions"),p=mn("inset"),x=mn("margin"),y=mn("opacity"),b=mn("padding"),j=mn("saturate"),_=mn("scale"),S=mn("sepia"),N=mn("skew"),C=mn("space"),k=mn("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",gt,t],L=()=>[gt,t],U=()=>["",Yi,Vo],F=()=>["auto",Ad,gt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",gt],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ad,gt];return{cacheSize:500,separator:":",theme:{colors:[am],spacing:[Yi,Vo],blur:["none","",Wo,gt],brightness:G(),borderColor:[e],borderRadius:["none","","full",Wo,gt],borderSpacing:L(),borderWidth:U(),contrast:G(),grayscale:B(),hueRotate:G(),invert:B(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[Wre,Vo],inset:E(),margin:E(),opacity:G(),padding:L(),saturate:G(),scale:G(),sepia:B(),skew:G(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",gt]}],container:["container"],columns:[{columns:[Wo]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),gt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sm,gt]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",sm,gt]}],"grid-cols":[{"grid-cols":[am]}],"col-start-end":[{col:["auto",{span:["full",sm,gt]},gt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[am]}],"row-start-end":[{row:["auto",{span:[sm,gt]},gt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gt,t]}],"min-w":[{"min-w":[gt,t,"min","max","fit"]}],"max-w":[{"max-w":[gt,t,"none","full","min","max","fit","prose",{screen:[Wo]},Wo]}],h:[{h:[gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wo,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",V_]}],"font-family":[{font:[am]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gt]}],"line-clamp":[{"line-clamp":["none",Ad,V_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yi,gt]}],"list-image":[{"list-image":["none",gt]}],"list-style-type":[{list:["none","disc","decimal",gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yi,Vo]}],"underline-offset":[{"underline-offset":["auto",Yi,gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),Kre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Jre]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Yi,gt]}],"outline-w":[{outline:[Yi,Vo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Yi,Vo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wo,Xre]}],"shadow-color":[{shadow:[am]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wo,gt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",gt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[sm,gt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yi,Vo,V_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nse=Rre(tse);function me(...e){return nse(At(e))}const rse=qne,lU=v.forwardRef(({className:e,...t},n)=>s.jsx(R8,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lU.displayName=R8.displayName;const sse=lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cU=v.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(L8,{ref:r,className:me(sse({variant:t}),e),...n}));cU.displayName=L8.displayName;const ase=v.forwardRef(({className:e,...t},n)=>s.jsx(U8,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ase.displayName=U8.displayName;const uU=v.forwardRef(({className:e,...t},n)=>s.jsx(z8,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ku,{className:"h-4 w-4"})}));uU.displayName=z8.displayName;const dU=v.forwardRef(({className:e,...t},n)=>s.jsx(F8,{ref:n,className:me("text-sm font-semibold",e),...t}));dU.displayName=F8.displayName;const hU=v.forwardRef(({className:e,...t},n)=>s.jsx(B8,{ref:n,className:me("text-sm opacity-90",e),...t}));hU.displayName=B8.displayName;function ise(){const{toasts:e}=wn();return s.jsxs(rse,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(cU,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(dU,{children:n}),r&&s.jsx(hU,{children:r})]}),a,s.jsx(uU,{})]},t)}),s.jsx(lU,{})]})}var pD=["light","dark"],ose="(prefers-color-scheme: dark)",lse=v.createContext(void 0),cse={setTheme:e=>{},themes:[]},dw=()=>{var e;return(e=v.useContext(lse))!=null?e:cse};v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?pD.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,p=!1,x=!0)=>{let y=o?o[g]:g,b=p?g+"|| ''":`'${y}'`,j="";return a&&x&&!p&&pD.includes(g)&&(j+=`d.style.colorScheme = '${g}';`),n==="class"?p||y?j+=`c.add(${b})`:j+="null":y&&(j+=`d[s](n,${b})`),j},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ose}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var use=e=>{switch(e){case"success":return fse;case"info":return pse;case"warning":return mse;case"error":return gse;default:return null}},dse=Array(12).fill(0),hse=({visible:e})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},K.createElement("div",{className:"sonner-spinner"},dse.map((t,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fse=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mse=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pse=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gse=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vse=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},VS=1,xse=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:VS++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...a,dismissible:l,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let a=t instanceof Promise?t:t(),i=r!==void 0;return a.then(async o=>{if(bse(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||VS++;return this.create({jsx:t(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Ds=new xse,yse=(e,t)=>{let n=(t==null?void 0:t.id)||VS++;return Ds.addToast({title:e,...t,id:n}),n},bse=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wse=yse,jse=()=>Ds.toasts,_e=Object.assign(wse,{success:Ds.success,info:Ds.info,warning:Ds.warning,error:Ds.error,custom:Ds.custom,message:Ds.message,promise:Ds.promise,dismiss:Ds.dismiss,loading:Ds.loading},{getHistory:jse});function _se(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}_se(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fx(e){return e.label!==void 0}var Nse=3,Sse="32px",Cse=4e3,kse=356,Ese=14,Pse=20,Ase=200;function Tse(...e){return e.filter(Boolean).join(" ")}var Ose=e=>{var t,n,r,a,i,o,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:p,visibleToasts:x,heights:y,index:b,toasts:j,expanded:_,removeToast:S,defaultRichColors:N,closeButton:C,style:k,cancelButtonStyle:D,actionButtonStyle:I,className:E="",descriptionClassName:L="",duration:U,position:F,gap:$,loadingIcon:M,expandByDefault:O,classNames:R,icons:B,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:G,cn:W}=e,[w,A]=K.useState(!1),[P,z]=K.useState(!1),[q,te]=K.useState(!1),[X,V]=K.useState(!1),[se,ee]=K.useState(0),[ge,Se]=K.useState(0),ze=K.useRef(null),We=K.useRef(null),Le=b===0,Je=b+1<=x,Ye=f.type,ct=f.dismissible!==!1,he=f.className||"",pe=f.descriptionClassName||"",ae=K.useMemo(()=>y.findIndex(be=>be.toastId===f.id)||0,[y,f.id]),Ne=K.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:C},[f.closeButton,C]),tt=K.useMemo(()=>f.duration||U||Cse,[f.duration,U]),ue=K.useRef(0),ve=K.useRef(0),Oe=K.useRef(0),Fe=K.useRef(null),[nt,sn]=F.split("-"),Ge=K.useMemo(()=>y.reduce((be,Qe,ut)=>ut>=ae?be:be+Qe.height,0),[y,ae]),rt=vse(),Tt=f.invert||h,Zt=Ye==="loading";ve.current=K.useMemo(()=>ae*$+Ge,[ae,Ge]),K.useEffect(()=>{A(!0)},[]),K.useLayoutEffect(()=>{if(!w)return;let be=We.current,Qe=be.style.height;be.style.height="auto";let ut=be.getBoundingClientRect().height;be.style.height=Qe,Se(ut),p(ta=>ta.find(en=>en.toastId===f.id)?ta.map(en=>en.toastId===f.id?{...en,height:ut}:en):[{toastId:f.id,height:ut,position:f.position},...ta])},[w,f.title,f.description,p,f.id]);let ce=K.useCallback(()=>{z(!0),ee(ve.current),p(be=>be.filter(Qe=>Qe.toastId!==f.id)),setTimeout(()=>{S(f)},Ase)},[f,S,p,ve]);K.useEffect(()=>{if(f.promise&&Ye==="loading"||f.duration===1/0||f.type==="loading")return;let be,Qe=tt;return _||g||G&&rt?(()=>{if(Oe.current<ue.current){let ut=new Date().getTime()-ue.current;Qe=Qe-ut}Oe.current=new Date().getTime()})():Qe!==1/0&&(ue.current=new Date().getTime(),be=setTimeout(()=>{var ut;(ut=f.onAutoClose)==null||ut.call(f,f),ce()},Qe)),()=>clearTimeout(be)},[_,g,O,f,tt,ce,f.promise,Ye,G,rt]),K.useEffect(()=>{let be=We.current;if(be){let Qe=be.getBoundingClientRect().height;return Se(Qe),p(ut=>[{toastId:f.id,height:Qe,position:f.position},...ut]),()=>p(ut=>ut.filter(ta=>ta.toastId!==f.id))}},[p,f.id]),K.useEffect(()=>{f.delete&&ce()},[ce,f.delete]);function Ee(){return B!=null&&B.loading?K.createElement("div",{className:"sonner-loader","data-visible":Ye==="loading"},B.loading):M?K.createElement("div",{className:"sonner-loader","data-visible":Ye==="loading"},M):K.createElement(hse,{visible:Ye==="loading"})}return K.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:We,className:W(E,he,R==null?void 0:R.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Ye],(n=f==null?void 0:f.classNames)==null?void 0:n[Ye]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:N,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":w,"data-promise":!!f.promise,"data-removed":P,"data-visible":Je,"data-y-position":nt,"data-x-position":sn,"data-index":b,"data-front":Le,"data-swiping":q,"data-dismissible":ct,"data-type":Ye,"data-invert":Tt,"data-swipe-out":X,"data-expanded":!!(_||O&&w),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${P?se:ve.current}px`,"--initial-height":O?"auto":`${ge}px`,...k,...f.style},onPointerDown:be=>{Zt||!ct||(ze.current=new Date,ee(ve.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(te(!0),Fe.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Qe,ut,ta;if(X||!ct)return;Fe.current=null;let en=Number(((be=We.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Qn=new Date().getTime()-((Qe=ze.current)==null?void 0:Qe.getTime()),Lr=Math.abs(en)/Qn;if(Math.abs(en)>=Pse||Lr>.11){ee(ve.current),(ut=f.onDismiss)==null||ut.call(f,f),ce(),V(!0);return}(ta=We.current)==null||ta.style.setProperty("--swipe-amount","0px"),te(!1)},onPointerMove:be=>{var Qe;if(!Fe.current||!ct)return;let ut=be.clientY-Fe.current.y,ta=be.clientX-Fe.current.x,en=(nt==="top"?Math.min:Math.max)(0,ut),Qn=be.pointerType==="touch"?10:2;Math.abs(en)>Qn?(Qe=We.current)==null||Qe.style.setProperty("--swipe-amount",`${ut}px`):Math.abs(ta)>Qn&&(Fe.current=null)}},Ne&&!f.jsx?K.createElement("button",{"aria-label":T,"data-disabled":Zt,"data-close-button":!0,onClick:Zt||!ct?()=>{}:()=>{var be;ce(),(be=f.onDismiss)==null||be.call(f,f)},className:W(R==null?void 0:R.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||K.isValidElement(f.title)?f.jsx||f.title:K.createElement(K.Fragment,null,Ye||f.icon||f.promise?K.createElement("div",{"data-icon":"",className:W(R==null?void 0:R.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ee():null,f.type!=="loading"?f.icon||(B==null?void 0:B[Ye])||use(Ye):null):null,K.createElement("div",{"data-content":"",className:W(R==null?void 0:R.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},K.createElement("div",{"data-title":"",className:W(R==null?void 0:R.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?K.createElement("div",{"data-description":"",className:W(L,pe,R==null?void 0:R.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),K.isValidElement(f.cancel)?f.cancel:f.cancel&&fx(f.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||D,onClick:be=>{var Qe,ut;fx(f.cancel)&&ct&&((ut=(Qe=f.cancel).onClick)==null||ut.call(Qe,be),ce())},className:W(R==null?void 0:R.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,K.isValidElement(f.action)?f.action:f.action&&fx(f.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:be=>{var Qe,ut;fx(f.action)&&(be.defaultPrevented||((ut=(Qe=f.action).onClick)==null||ut.call(Qe,be),ce()))},className:W(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function gD(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Mse=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=Nse,toastOptions:m,dir:g=gD(),gap:p=Ese,loadingIcon:x,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j,cn:_=Tse}=e,[S,N]=K.useState([]),C=K.useMemo(()=>Array.from(new Set([n].concat(S.filter(G=>G.position).map(G=>G.position)))),[S,n]),[k,D]=K.useState([]),[I,E]=K.useState(!1),[L,U]=K.useState(!1),[F,$]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=K.useRef(null),O=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=K.useRef(null),B=K.useRef(!1),T=K.useCallback(G=>{var W;(W=S.find(w=>w.id===G.id))!=null&&W.delete||Ds.dismiss(G.id),N(w=>w.filter(({id:A})=>A!==G.id))},[S]);return K.useEffect(()=>Ds.subscribe(G=>{if(G.dismiss){N(W=>W.map(w=>w.id===G.id?{...w,delete:!0}:w));return}setTimeout(()=>{dP.flushSync(()=>{N(W=>{let w=W.findIndex(A=>A.id===G.id);return w!==-1?[...W.slice(0,w),{...W[w],...G},...W.slice(w+1)]:[G,...W]})})})}),[]),K.useEffect(()=>{if(c!=="system"){$(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{$(G?"dark":"light")})},[c]),K.useEffect(()=>{S.length<=1&&E(!1)},[S]),K.useEffect(()=>{let G=W=>{var w,A;r.every(P=>W[P]||W.code===P)&&(E(!0),(w=M.current)==null||w.focus()),W.code==="Escape"&&(document.activeElement===M.current||(A=M.current)!=null&&A.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),K.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,B.current=!1)}},[M.current]),S.length?K.createElement("section",{"aria-label":`${b} ${O}`,tabIndex:-1},C.map((G,W)=>{var w;let[A,P]=G.split("-");return K.createElement("ol",{key:G,dir:g==="auto"?gD():g,tabIndex:-1,ref:M,className:o,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":A,"data-x-position":P,style:{"--front-toast-height":`${((w=k[0])==null?void 0:w.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Sse,"--width":`${kse}px`,"--gap":`${p}px`,...h},onBlur:z=>{B.current&&!z.currentTarget.contains(z.relatedTarget)&&(B.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||B.current||(B.current=!0,R.current=z.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{L||E(!1)},onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},S.filter(z=>!z.position&&W===0||z.position===G).map((z,q)=>{var te,X;return K.createElement(Ose,{key:z.id,icons:y,index:q,toast:z,defaultRichColors:u,duration:(te=m==null?void 0:m.duration)!=null?te:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:f,closeButton:(X=m==null?void 0:m.closeButton)!=null?X:i,interacting:L,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:T,toasts:S.filter(V=>V.position==z.position),heights:k.filter(V=>V.position==z.position),setHeights:D,expandByDefault:a,gap:p,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:j,cn:_})}))})):null};const Dse=({...e})=>{const{theme:t="system"}=dw();return s.jsx(Mse,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Ise=b2.useId||(()=>{}),$se=0;function Vs(e){const[t,n]=v.useState(Ise());return ir(()=>{n(r=>r??String($se++))},[e]),t?`radix-${t}`:""}const Rse=["top","right","bottom","left"],zl=Math.min,Rs=Math.max,ob=Math.round,mx=Math.floor,ql=e=>({x:e,y:e}),Lse={left:"right",right:"left",bottom:"top",top:"bottom"},Fse={start:"end",end:"start"};function WS(e,t,n){return Rs(e,zl(t,n))}function Co(e,t){return typeof e=="function"?e(t):e}function ko(e){return e.split("-")[0]}function uf(e){return e.split("-")[1]}function NP(e){return e==="x"?"y":"x"}function SP(e){return e==="y"?"height":"width"}function Vl(e){return["top","bottom"].includes(ko(e))?"y":"x"}function CP(e){return NP(Vl(e))}function Bse(e,t,n){n===void 0&&(n=!1);const r=uf(e),a=CP(e),i=SP(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=lb(o)),[o,lb(o)]}function Use(e){const t=lb(e);return[HS(e),t,HS(t)]}function HS(e){return e.replace(/start|end/g,t=>Fse[t])}function zse(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function qse(e,t,n,r){const a=uf(e);let i=zse(ko(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(HS)))),i}function lb(e){return e.replace(/left|right|bottom|top/g,t=>Lse[t])}function Vse(e){return{top:0,right:0,bottom:0,left:0,...e}}function fU(e){return typeof e!="number"?Vse(e):{top:e,right:e,bottom:e,left:e}}function cb(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function vD(e,t,n){let{reference:r,floating:a}=e;const i=Vl(t),o=CP(t),l=SP(o),c=ko(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(uf(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const Wse=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=vD(u,r,c),f=r,m={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:b,y:j,data:_,reset:S}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,h=j??h,m={...m,[x]:{...m[x],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:h}=vD(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function Ip(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Co(t,e),g=fU(m),x=l[f?h==="floating"?"reference":"floating":h],y=cb(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=cb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:j,strategy:c}):b);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const Hse=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Co(e,t)||{};if(u==null)return{};const h=fU(d),f={x:n,y:r},m=CP(a),g=SP(m),p=await o.getDimensions(u),x=m==="y",y=x?"top":"left",b=x?"bottom":"right",j=x?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-f[m]-i.floating[g],S=f[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=l.floating[j]||i.floating[g]);const k=_/2-S/2,D=C/2-p[g]/2-1,I=zl(h[y],D),E=zl(h[b],D),L=I,U=C-p[g]-E,F=C/2-p[g]/2+k,$=WS(L,F,U),M=!c.arrow&&uf(a)!=null&&F!==$&&i.reference[g]/2-(F<L?I:E)-p[g]/2<0,O=M?F<L?F-L:F-U:0;return{[m]:f[m]+O,data:{[m]:$,centerOffset:F-$-O,...M&&{alignmentOffset:O}},reset:M}}}),Gse=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Co(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ko(a),b=Vl(l),j=ko(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(j||!p?[lb(l)]:Use(l)),N=g!=="none";!f&&N&&S.push(...qse(l,p,g,_));const C=[l,...S],k=await Ip(t,x),D=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&D.push(k[y]),h){const F=Bse(a,o,_);D.push(k[F[0]],k[F[1]])}if(I=[...I,{placement:a,overflows:D}],!D.every(F=>F<=0)){var E,L;const F=(((E=i.flip)==null?void 0:E.index)||0)+1,$=C[F];if($)return{data:{index:F,overflows:I},reset:{placement:$}};let M=(L=I.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:L.placement;if(!M)switch(m){case"bestFit":{var U;const O=(U=I.filter(R=>{if(N){const B=Vl(R.placement);return B===b||B==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(B=>B>0).reduce((B,T)=>B+T,0)]).sort((R,B)=>R[1]-B[1])[0])==null?void 0:U[0];O&&(M=O);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function xD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yD(e){return Rse.some(t=>e[t]>=0)}const Kse=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Co(e,t);switch(r){case"referenceHidden":{const i=await Ip(t,{...a,elementContext:"reference"}),o=xD(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yD(o)}}}case"escaped":{const i=await Ip(t,{...a,altBoundary:!0}),o=xD(i,n.floating);return{data:{escapedOffsets:o,escaped:yD(o)}}}default:return{}}}}};async function Yse(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=ko(n),l=uf(n),c=Vl(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=Co(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const Jse=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Yse(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Xse=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...c}=Co(e,t),u={x:n,y:r},d=await Ip(t,c),h=Vl(ko(a)),f=NP(h);let m=u[f],g=u[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+d[x],j=m-d[y];m=WS(b,m,j)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=g+d[x],j=g-d[y];g=WS(b,g,j)}const p=l.fn({...t,[f]:m,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},Qse=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Co(e,t),d={x:n,y:r},h=Vl(a),f=NP(h);let m=d[f],g=d[h];const p=Co(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",_=i.reference[f]-i.floating[j]+x.mainAxis,S=i.reference[f]+i.reference[j]-x.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var y,b;const j=f==="y"?"width":"height",_=["top","left"].includes(ko(a)),S=i.reference[h]-i.floating[j]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:x.crossAxis),N=i.reference[h]+i.reference[j]+(_?0:((b=o.offset)==null?void 0:b[h])||0)-(_?x.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[f]:m,[h]:g}}}},Zse=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Co(e,t),d=await Ip(t,u),h=ko(a),f=uf(a),m=Vl(a)==="y",{width:g,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const b=p-d.top-d.bottom,j=g-d.left-d.right,_=zl(p-d[x],b),S=zl(g-d[y],j),N=!t.middlewareData.shift;let C=_,k=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),N&&!f){const I=Rs(d.left,0),E=Rs(d.right,0),L=Rs(d.top,0),U=Rs(d.bottom,0);m?k=g-2*(I!==0||E!==0?I+E:Rs(d.left,d.right)):C=p-2*(L!==0||U!==0?L+U:Rs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const D=await o.getDimensions(l.floating);return g!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function hw(){return typeof window<"u"}function df(e){return mU(e)?(e.nodeName||"").toLowerCase():"#document"}function Ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vi(e){var t;return(t=(mU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mU(e){return hw()?e instanceof Node||e instanceof Ws(e).Node:!1}function ai(e){return hw()?e instanceof Element||e instanceof Ws(e).Element:!1}function Bi(e){return hw()?e instanceof HTMLElement||e instanceof Ws(e).HTMLElement:!1}function bD(e){return!hw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ws(e).ShadowRoot}function Yg(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ii(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function eae(e){return["table","td","th"].includes(df(e))}function fw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function kP(e){const t=EP(),n=ai(e)?ii(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tae(e){let t=Wl(e);for(;Bi(t)&&!xh(t);){if(kP(t))return t;if(fw(t))return null;t=Wl(t)}return null}function EP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xh(e){return["html","body","#document"].includes(df(e))}function ii(e){return Ws(e).getComputedStyle(e)}function mw(e){return ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wl(e){if(df(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bD(e)&&e.host||Vi(e);return bD(t)?t.host:t}function pU(e){const t=Wl(e);return xh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bi(t)&&Yg(t)?t:pU(t)}function $p(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=pU(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Ws(a);if(i){const l=GS(o);return t.concat(o,o.visualViewport||[],Yg(a)?a:[],l&&n?$p(l):[])}return t.concat(a,$p(a,[],n))}function GS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gU(e){const t=ii(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Bi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=ob(n)!==i||ob(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function PP(e){return ai(e)?e:e.contextElement}function Td(e){const t=PP(e);if(!Bi(t))return ql(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=gU(t);let o=(i?ob(n.width):n.width)/r,l=(i?ob(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nae=ql(0);function vU(e){const t=Ws(e);return!EP()||!t.visualViewport?nae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ws(e)?!1:t}function su(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=PP(e);let o=ql(1);t&&(r?ai(r)&&(o=Td(r)):o=Td(e));const l=rae(i,n,r)?vU(i):ql(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=Ws(i),m=r&&ai(r)?Ws(r):r;let g=f,p=GS(g);for(;p&&r&&m!==g;){const x=Td(p),y=p.getBoundingClientRect(),b=ii(p),j=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*x.x,_=y.top+(p.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=j,u+=_,g=Ws(p),p=GS(g)}}return cb({width:d,height:h,x:c,y:u})}function sae(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Vi(r),l=t?fw(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ql(1);const d=ql(0),h=Bi(r);if((h||!h&&!i)&&((df(r)!=="body"||Yg(o))&&(c=mw(r)),Bi(r))){const f=su(r);u=Td(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function aae(e){return Array.from(e.getClientRects())}function KS(e,t){const n=mw(e).scrollLeft;return t?t.left+n:su(Vi(e)).left+n}function iae(e){const t=Vi(e),n=mw(e),r=e.ownerDocument.body,a=Rs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Rs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+KS(e);const l=-n.scrollTop;return ii(r).direction==="rtl"&&(o+=Rs(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function oae(e,t){const n=Ws(e),r=Vi(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=EP();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function lae(e,t){const n=su(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Bi(e)?Td(e):ql(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function wD(e,t,n){let r;if(t==="viewport")r=oae(e,n);else if(t==="document")r=iae(Vi(e));else if(ai(t))r=lae(t,n);else{const a=vU(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return cb(r)}function xU(e,t){const n=Wl(e);return n===t||!ai(n)||xh(n)?!1:ii(n).position==="fixed"||xU(n,t)}function cae(e,t){const n=t.get(e);if(n)return n;let r=$p(e,[],!1).filter(l=>ai(l)&&df(l)!=="body"),a=null;const i=ii(e).position==="fixed";let o=i?Wl(e):e;for(;ai(o)&&!xh(o);){const l=ii(o),c=kP(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Yg(o)&&!c&&xU(e,o))?r=r.filter(d=>d!==o):a=l,o=Wl(o)}return t.set(e,r),r}function uae(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?fw(t)?[]:cae(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=wD(t,d,a);return u.top=Rs(h.top,u.top),u.right=zl(h.right,u.right),u.bottom=zl(h.bottom,u.bottom),u.left=Rs(h.left,u.left),u},wD(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dae(e){const{width:t,height:n}=gU(e);return{width:t,height:n}}function hae(e,t,n){const r=Bi(t),a=Vi(t),i=n==="fixed",o=su(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ql(0);if(r||!r&&!i)if((df(t)!=="body"||Yg(a))&&(l=mw(t)),r){const m=su(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=KS(a));let u=0,d=0;if(a&&!r&&!i){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-KS(a,m)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function W_(e){return ii(e).position==="static"}function jD(e,t){if(!Bi(e)||ii(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vi(e)===n&&(n=n.ownerDocument.body),n}function yU(e,t){const n=Ws(e);if(fw(e))return n;if(!Bi(e)){let a=Wl(e);for(;a&&!xh(a);){if(ai(a)&&!W_(a))return a;a=Wl(a)}return n}let r=jD(e,t);for(;r&&eae(r)&&W_(r);)r=jD(r,t);return r&&xh(r)&&W_(r)&&!kP(r)?n:r||tae(e)||n}const fae=async function(e){const t=this.getOffsetParent||yU,n=this.getDimensions,r=await n(e.floating);return{reference:hae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mae(e){return ii(e).direction==="rtl"}const pae={convertOffsetParentRelativeRectToViewportRelativeRect:sae,getDocumentElement:Vi,getClippingRect:uae,getOffsetParent:yU,getElementRects:fae,getClientRects:aae,getDimensions:dae,getScale:Td,isElement:ai,isRTL:mae};function gae(e,t){let n=null,r;const a=Vi(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const m=mx(d),g=mx(a.clientWidth-(u+h)),p=mx(a.clientHeight-(d+f)),x=mx(u),b={rootMargin:-m+"px "+-g+"px "+-p+"px "+-x+"px",threshold:Rs(0,zl(1,c))||1};let j=!0;function _(S){const N=S[0].intersectionRatio;if(N!==c){if(!j)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{n=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return o(!0),i}function vae(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=PP(e),d=a||i?[...u?$p(u):[],...$p(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&l?gae(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?su(e):null;c&&x();function x(){const y=su(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&n(),p=y,g=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const xae=Jse,yae=Xse,bae=Gse,wae=Zse,jae=Kse,_D=Hse,_ae=Qse,Nae=(e,t,n)=>{const r=new Map,a={platform:pae,...n},i={...a.platform,_c:r};return Wse(e,t,{...a,platform:i})};var wy=typeof document<"u"?v.useLayoutEffect:v.useEffect;function ub(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ub(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!ub(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function bU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ND(e,t){const n=bU(e);return Math.round(t*n)/n}function H_(e){const t=v.useRef(e);return wy(()=>{t.current=e}),t}function Sae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);ub(f,r)||m(r);const[g,p]=v.useState(null),[x,y]=v.useState(null),b=v.useCallback(R=>{R!==N.current&&(N.current=R,p(R))},[]),j=v.useCallback(R=>{R!==C.current&&(C.current=R,y(R))},[]),_=i||g,S=o||x,N=v.useRef(null),C=v.useRef(null),k=v.useRef(d),D=c!=null,I=H_(c),E=H_(a),L=H_(u),U=v.useCallback(()=>{if(!N.current||!C.current)return;const R={placement:t,strategy:n,middleware:f};E.current&&(R.platform=E.current),Nae(N.current,C.current,R).then(B=>{const T={...B,isPositioned:L.current!==!1};F.current&&!ub(k.current,T)&&(k.current=T,us.flushSync(()=>{h(T)}))})},[f,t,n,E,L]);wy(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const F=v.useRef(!1);wy(()=>(F.current=!0,()=>{F.current=!1}),[]),wy(()=>{if(_&&(N.current=_),S&&(C.current=S),_&&S){if(I.current)return I.current(_,S,U);U()}},[_,S,U,I,D]);const $=v.useMemo(()=>({reference:N,floating:C,setReference:b,setFloating:j}),[b,j]),M=v.useMemo(()=>({reference:_,floating:S}),[_,S]),O=v.useMemo(()=>{const R={position:n,left:0,top:0};if(!M.floating)return R;const B=ND(M.floating,d.x),T=ND(M.floating,d.y);return l?{...R,transform:"translate("+B+"px, "+T+"px)",...bU(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:T}},[n,l,M.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:U,refs:$,elements:M,floatingStyles:O}),[d,U,$,M,O])}const Cae=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_D({element:r.current,padding:a}).fn(n):{}:r?_D({element:r,padding:a}).fn(n):{}}}},kae=(e,t)=>({...xae(e),options:[e,t]}),Eae=(e,t)=>({...yae(e),options:[e,t]}),Pae=(e,t)=>({..._ae(e),options:[e,t]}),Aae=(e,t)=>({...bae(e),options:[e,t]}),Tae=(e,t)=>({...wae(e),options:[e,t]}),Oae=(e,t)=>({...jae(e),options:[e,t]}),Mae=(e,t)=>({...Cae(e),options:[e,t]});var Dae="Arrow",wU=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(De.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});wU.displayName=Dae;var Iae=wU;function $ae(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,x=v.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Rae(a,...t)]}function Rae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Jg(e){const[t,n]=v.useState(void 0);return ir(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var AP="Popper",[jU,Zl]=$ae(AP),[Lae,_U]=jU(AP),NU=e=>{const{__scopePopper:t,children:n}=e,[r,a]=v.useState(null);return s.jsx(Lae,{scope:t,anchor:r,onAnchorChange:a,children:n})};NU.displayName=AP;var SU="PopperAnchor",CU=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=_U(SU,n),o=v.useRef(null),l=Xe(t,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(De.div,{...a,ref:l})});CU.displayName=SU;var TP="PopperContent",[Fae,Bae]=jU(TP),kU=v.forwardRef((e,t)=>{var q,te,X,V,se,ee;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=_U(TP,n),[y,b]=v.useState(null),j=Xe(t,ge=>b(ge)),[_,S]=v.useState(null),N=Jg(_),C=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,D=r+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],L=E.length>0,U={padding:I,boundary:E.filter(zae),altBoundary:L},{refs:F,floatingStyles:$,placement:M,isPositioned:O,middlewareData:R}=Sae({strategy:"fixed",placement:D,whileElementsMounted:(...ge)=>vae(...ge,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[kae({mainAxis:a+k,alignmentAxis:o}),c&&Eae({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Pae():void 0,...U}),c&&Aae({...U}),Tae({...U,apply:({elements:ge,rects:Se,availableWidth:ze,availableHeight:We})=>{const{width:Le,height:Je}=Se.reference,Ye=ge.floating.style;Ye.setProperty("--radix-popper-available-width",`${ze}px`),Ye.setProperty("--radix-popper-available-height",`${We}px`),Ye.setProperty("--radix-popper-anchor-width",`${Le}px`),Ye.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),_&&Mae({element:_,padding:l}),qae({arrowWidth:C,arrowHeight:k}),f&&Oae({strategy:"referenceHidden",...U})]}),[B,T]=AU(M),G=_n(g);ir(()=>{O&&(G==null||G())},[O,G]);const W=(q=R.arrow)==null?void 0:q.x,w=(te=R.arrow)==null?void 0:te.y,A=((X=R.arrow)==null?void 0:X.centerOffset)!==0,[P,z]=v.useState();return ir(()=>{y&&z(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:O?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P,"--radix-popper-transform-origin":[(V=R.transformOrigin)==null?void 0:V.x,(se=R.transformOrigin)==null?void 0:se.y].join(" "),...((ee=R.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Fae,{scope:n,placedSide:B,onArrowChange:S,arrowX:W,arrowY:w,shouldHideArrow:A,children:s.jsx(De.div,{"data-side":B,"data-align":T,...p,ref:j,style:{...p.style,animation:O?void 0:"none"}})})})});kU.displayName=TP;var EU="PopperArrow",Uae={top:"bottom",right:"left",bottom:"top",left:"right"},PU=v.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Bae(EU,r),o=Uae[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Iae,{...a,ref:n,style:{...a.style,display:"block"}})})});PU.displayName=EU;function zae(e){return e!==null}var qae=e=>({name:"transformOrigin",options:e,fn(t){var x,y,b;const{placement:n,rects:r,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=AU(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?h:`${f}px`,p=`${-c}px`):u==="top"?(g=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?h:`${m}px`),{data:{x:g,y:p}}}});function AU(e){const[t,n="center"]=e.split("-");return[t,n]}var pw=NU,Xg=CU,gw=kU,vw=PU,[xw,PJe]=Ir("Tooltip",[Zl]),yw=Zl(),TU="TooltipProvider",Vae=700,YS="tooltip.open",[Wae,OP]=xw(TU),OU=e=>{const{__scopeTooltip:t,delayDuration:n=Vae,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(Wae,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};OU.displayName=TU;var bw="Tooltip",[Hae,ww]=xw(bw),MU=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=OP(bw,e.__scopeTooltip),u=yw(t),[d,h]=v.useState(null),f=Vs(),m=v.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,x=v.useRef(!1),[y=!1,b]=js({prop:r,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(YS))):c.onClose(),i==null||i(C)}}),j=v.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),_=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,b(!0)},[b]),S=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b(!1)},[b]),N=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,b(!0),m.current=0},p)},[p,b]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(pw,{...u,children:s.jsx(Hae,{scope:t,contentId:f,open:y,stateAttribute:j,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?N():_()},[c.isOpenDelayed,N,_]),onTriggerLeave:v.useCallback(()=>{g?S():(window.clearTimeout(m.current),m.current=0)},[S,g]),onOpen:_,onClose:S,disableHoverableContent:g,children:n})})};MU.displayName=bw;var JS="TooltipTrigger",DU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=ww(JS,n),i=OP(JS,n),o=yw(n),l=v.useRef(null),c=Xe(t,l,a.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Xg,{asChild:!0,...o,children:s.jsx(De.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:je(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:je(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:je(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:je(e.onBlur,a.onClose),onClick:je(e.onClick,a.onClose)})})});DU.displayName=JS;var Gae="TooltipPortal",[AJe,Kae]=xw(Gae,{forceMount:void 0}),yh="TooltipContent",IU=v.forwardRef((e,t)=>{const n=Kae(yh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=ww(yh,e.__scopeTooltip);return s.jsx(Un,{present:r||o.open,children:o.disableHoverableContent?s.jsx($U,{side:a,...i,ref:t}):s.jsx(Yae,{side:a,...i,ref:t})})}),Yae=v.forwardRef((e,t)=>{const n=ww(yh,e.__scopeTooltip),r=OP(yh,e.__scopeTooltip),a=v.useRef(null),i=Xe(t,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{l(null),h(!1)},[h]),m=v.useCallback((g,p)=>{const x=g.currentTarget,y={x:g.clientX,y:g.clientY},b=Zae(y,x.getBoundingClientRect()),j=eie(y,b),_=tie(p.getBoundingClientRect()),S=rie([...j,..._]);l(S),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&d){const g=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),v.useEffect(()=>{if(o){const g=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),j=!nie(y,o);b?f():j&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,f]),s.jsx($U,{...e,ref:i})}),[Jae,Xae]=xw(bw,{isInside:!1}),$U=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=ww(yh,n),u=yw(n),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(YS,d),()=>document.removeEventListener(YS,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(gw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(hP,{children:r}),s.jsx(Jae,{scope:n,isInside:!0,children:s.jsx(Sne,{id:c.contentId,role:"tooltip",children:a||r})})]})})});IU.displayName=yh;var RU="TooltipArrow",Qae=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=yw(n);return Xae(RU,n).isInside?null:s.jsx(vw,{...a,...r,ref:t})});Qae.displayName=RU;function Zae(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eie(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function tie(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function nie(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function rie(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sie(t)}function sie(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var aie=OU,iie=MU,oie=DU,LU=IU;const FU=aie,lie=iie,cie=oie,BU=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(LU,{ref:r,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));BU.displayName=LU.displayName;var Qg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},au=typeof window>"u"||"Deno"in globalThis;function oa(){}function uie(e,t){return typeof e=="function"?e(t):e}function XS(e){return typeof e=="number"&&e>=0&&e!==1/0}function UU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Od(e,t){return typeof e=="function"?e(t):e}function Ga(e,t){return typeof e=="function"?e(t):e}function SD(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==MP(o,t.options))return!1}else if(!Lp(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function CD(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Rp(t.options.mutationKey)!==Rp(i))return!1}else if(!Lp(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function MP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rp)(e)}function Rp(e){return JSON.stringify(e,(t,n)=>ZS(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Lp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Lp(e[n],t[n])):!1}function zU(e,t){if(e===t)return e;const n=kD(e)&&kD(t);if(n||ZS(e)&&ZS(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=zU(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function QS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function kD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ZS(e){if(!ED(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ED(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ED(e){return Object.prototype.toString.call(e)==="[object Object]"}function die(e){return new Promise(t=>{setTimeout(t,e)})}function eC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?zU(e,t):t}function hie(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function fie(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var DP=Symbol();function qU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===DP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $c,fl,Jd,QF,mie=(QF=class extends Qg{constructor(){super();lt(this,$c);lt(this,fl);lt(this,Jd);Re(this,Jd,t=>{if(!au&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,fl)||this.setEventListener(ie(this,Jd))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,fl))==null||t.call(this),Re(this,fl,void 0))}setEventListener(t){var n;Re(this,Jd,t),(n=ie(this,fl))==null||n.call(this),Re(this,fl,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ie(this,$c)!==t&&(Re(this,$c,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ie(this,$c)=="boolean"?ie(this,$c):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$c=new WeakMap,fl=new WeakMap,Jd=new WeakMap,QF),IP=new mie,Xd,ml,Qd,ZF,pie=(ZF=class extends Qg{constructor(){super();lt(this,Xd,!0);lt(this,ml);lt(this,Qd);Re(this,Qd,t=>{if(!au&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,ml)||this.setEventListener(ie(this,Qd))}onUnsubscribe(){var t;this.hasListeners()||((t=ie(this,ml))==null||t.call(this),Re(this,ml,void 0))}setEventListener(t){var n;Re(this,Qd,t),(n=ie(this,ml))==null||n.call(this),Re(this,ml,t(this.setOnline.bind(this)))}setOnline(t){ie(this,Xd)!==t&&(Re(this,Xd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ie(this,Xd)}},Xd=new WeakMap,ml=new WeakMap,Qd=new WeakMap,ZF),db=new pie;function tC(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function gie(e){return Math.min(1e3*2**e,3e4)}function VU(e){return(e??"online")==="online"?db.isOnline():!0}var WU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function G_(e){return e instanceof WU}function HU(e){let t=!1,n=0,r=!1,a;const i=tC(),o=p=>{var x;r||(f(new WU(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>IP.isFocused()&&(e.networkMode==="always"||db.isOnline())&&e.canRun(),d=()=>VU(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var x;a=y=>{(r||u())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var N;if(r)return;const b=e.retry??(au?0:3),j=e.retryDelay??gie,_=typeof j=="function"?j(n,y):j,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(t||!S){f(y);return}n++,(N=e.onFail)==null||N.call(e,n,y),die(_).then(()=>u()?void 0:m()).then(()=>{t?f(y):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}function vie(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var mr=vie(),Rc,e6,GU=(e6=class{constructor(){lt(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XS(this.gcTime)&&Re(this,Rc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(au?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Rc)&&(clearTimeout(ie(this,Rc)),Re(this,Rc,void 0))}},Rc=new WeakMap,e6),Zd,eh,ia,jr,$g,Lc,Ba,Qi,t6,xie=(t6=class extends GU{constructor(t){super();lt(this,Ba);lt(this,Zd);lt(this,eh);lt(this,ia);lt(this,jr);lt(this,$g);lt(this,Lc);Re(this,Lc,!1),Re(this,$g,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,ia,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Zd,yie(this.options)),this.state=t.state??ie(this,Zd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ie(this,jr))==null?void 0:t.promise}setOptions(t){this.options={...ie(this,$g),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,ia).remove(this)}setData(t,n){const r=eC(this.state.data,t,this.options);return St(this,Ba,Qi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){St(this,Ba,Qi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=ie(this,jr))==null?void 0:r.promise;return(a=ie(this,jr))==null||a.cancel(t),n?n.then(oa).catch(oa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Zd))}isActive(){return this.observers.some(t=>Ga(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===DP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!UU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,jr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ie(this,jr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ie(this,ia).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ie(this,jr)&&(ie(this,Lc)?ie(this,jr).cancel({revert:!0}):ie(this,jr).cancelRetry()),this.scheduleGc()),ie(this,ia).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||St(this,Ba,Qi).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,jr))return ie(this,jr).continueRetry(),ie(this,jr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Re(this,Lc,!0),r.signal)})},i=()=>{const h=qU(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),Re(this,Lc,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Re(this,eh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&St(this,Ba,Qi).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,m,g,p;G_(h)&&h.silent||St(this,Ba,Qi).call(this,{type:"error",error:h}),G_(h)||((m=(f=ie(this,ia).config).onError)==null||m.call(f,h,this),(p=(g=ie(this,ia).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return Re(this,jr,HU({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,m,g,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(m=(f=ie(this,ia).config).onSuccess)==null||m.call(f,h,this),(p=(g=ie(this,ia).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{St(this,Ba,Qi).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{St(this,Ba,Qi).call(this,{type:"pause"})},onContinue:()=>{St(this,Ba,Qi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ie(this,jr).start()}},Zd=new WeakMap,eh=new WeakMap,ia=new WeakMap,jr=new WeakMap,$g=new WeakMap,Lc=new WeakMap,Ba=new WeakSet,Qi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...KU(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return G_(a)&&a.revert&&ie(this,eh)?{...ie(this,eh),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),mr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,ia).notify({query:this,type:"updated",action:t})})},t6);function KU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ci,n6,bie=(n6=class extends Qg{constructor(t={}){super();lt(this,Ci);this.config=t,Re(this,Ci,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??MP(a,n);let o=this.get(i);return o||(o=new xie({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ie(this,Ci).has(t.queryHash)||(ie(this,Ci).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ie(this,Ci).get(t.queryHash);n&&(t.destroy(),n===t&&ie(this,Ci).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ie(this,Ci).get(t)}getAll(){return[...ie(this,Ci).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>SD(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>SD(t,r)):n}notify(t){mr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ci=new WeakMap,n6),ki,Ur,Fc,Ei,Jo,r6,wie=(r6=class extends GU{constructor(t){super();lt(this,Ei);lt(this,ki);lt(this,Ur);lt(this,Fc);this.mutationId=t.mutationId,Re(this,Ur,t.mutationCache),Re(this,ki,[]),this.state=t.state||jie(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ie(this,ki).includes(t)||(ie(this,ki).push(t),this.clearGcTimeout(),ie(this,Ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,ki,ie(this,ki).filter(n=>n!==t)),this.scheduleGc(),ie(this,Ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ie(this,ki).length||(this.state.status==="pending"?this.scheduleGc():ie(this,Ur).remove(this))}continue(){var t;return((t=ie(this,Fc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,h,f,m,g,p,x,y,b,j,_,S,N,C;Re(this,Fc,HU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{St(this,Ei,Jo).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{St(this,Ei,Jo).call(this,{type:"pause"})},onContinue:()=>{St(this,Ei,Jo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,Ur).canRun(this)}));const n=this.state.status==="pending",r=!ie(this,Fc).canStart();try{if(!n){St(this,Ei,Jo).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=ie(this,Ur).config).onMutate)==null?void 0:i.call(a,t,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));D!==this.state.context&&St(this,Ei,Jo).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const k=await ie(this,Fc).start();return await((u=(c=ie(this,Ur).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,t,this.state.context)),await((m=(f=ie(this,Ur).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context)),St(this,Ei,Jo).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(x=ie(this,Ur).config).onError)==null?void 0:y.call(x,k,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,k,t,this.state.context)),await((S=(_=ie(this,Ur).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,k,t,this.state.context)),k}finally{St(this,Ei,Jo).call(this,{type:"error",error:k})}}finally{ie(this,Ur).runNext(this)}}},ki=new WeakMap,Ur=new WeakMap,Fc=new WeakMap,Ei=new WeakSet,Jo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mr.batch(()=>{ie(this,ki).forEach(r=>{r.onMutationUpdate(t)}),ie(this,Ur).notify({mutation:this,type:"updated",action:t})})},r6);function jie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms,Rg,s6,_ie=(s6=class extends Qg{constructor(t={}){super();lt(this,Ms);lt(this,Rg);this.config=t,Re(this,Ms,new Map),Re(this,Rg,Date.now())}build(t,n,r){const a=new wie({mutationCache:this,mutationId:++Gv(this,Rg)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=px(t),r=ie(this,Ms).get(n)??[];r.push(t),ie(this,Ms).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=px(t);if(ie(this,Ms).has(n)){const a=(r=ie(this,Ms).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?ie(this,Ms).delete(n):ie(this,Ms).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=ie(this,Ms).get(px(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=ie(this,Ms).get(px(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ie(this,Ms).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>CD(n,r))}findAll(t={}){return this.getAll().filter(n=>CD(t,n))}notify(t){mr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return mr.batch(()=>Promise.all(t.map(n=>n.continue().catch(oa))))}},Ms=new WeakMap,Rg=new WeakMap,s6);function px(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function PD(e){return{onFetch:(t,n)=>{var d,h,f,m,g;const r=t.options,a=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=qU(t.options,t.fetchOptions),b=async(j,_,S)=>{if(p)return Promise.reject();if(_==null&&j.pages.length)return Promise.resolve(j);const N={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};x(N);const C=await y(N),{maxPages:k}=t.options,D=S?fie:hie;return{pages:D(j.pages,C,k),pageParams:D(j.pageParams,_,k)}};if(a&&i.length){const j=a==="backward",_=j?Nie:AD,S={pages:i,pageParams:o},N=_(r,S);l=await b(S,N,j)}else{const j=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:AD(r,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function AD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Nie(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var En,pl,gl,th,nh,vl,rh,sh,a6,Sie=(a6=class{constructor(e={}){lt(this,En);lt(this,pl);lt(this,gl);lt(this,th);lt(this,nh);lt(this,vl);lt(this,rh);lt(this,sh);Re(this,En,e.queryCache||new bie),Re(this,pl,e.mutationCache||new _ie),Re(this,gl,e.defaultOptions||{}),Re(this,th,new Map),Re(this,nh,new Map),Re(this,vl,0)}mount(){Gv(this,vl)._++,ie(this,vl)===1&&(Re(this,rh,IP.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,En).onFocus())})),Re(this,sh,db.subscribe(async e=>{e&&(await this.resumePausedMutations(),ie(this,En).onOnline())})))}unmount(){var e,t;Gv(this,vl)._--,ie(this,vl)===0&&((e=ie(this,rh))==null||e.call(this),Re(this,rh,void 0),(t=ie(this,sh))==null||t.call(this),Re(this,sh,void 0))}isFetching(e){return ie(this,En).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ie(this,pl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,En).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=ie(this,En).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Od(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return ie(this,En).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=ie(this,En).get(r.queryHash),i=a==null?void 0:a.state.data,o=uie(t,i);if(o!==void 0)return ie(this,En).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return mr.batch(()=>ie(this,En).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ie(this,En).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ie(this,En);mr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ie(this,En),r={type:"active",...e};return mr.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=mr.batch(()=>ie(this,En).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(oa).catch(oa)}invalidateQueries(e={},t={}){return mr.batch(()=>{if(ie(this,En).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=mr.batch(()=>ie(this,En).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(oa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(oa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ie(this,En).build(this,t);return n.isStaleByTime(Od(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(oa).catch(oa)}fetchInfiniteQuery(e){return e.behavior=PD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(oa).catch(oa)}ensureInfiniteQueryData(e){return e.behavior=PD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return db.isOnline()?ie(this,pl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,En)}getMutationCache(){return ie(this,pl)}getDefaultOptions(){return ie(this,gl)}setDefaultOptions(e){Re(this,gl,e)}setQueryDefaults(e,t){ie(this,th).set(Rp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ie(this,th).values()];let n={};return t.forEach(r=>{Lp(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){ie(this,nh).set(Rp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ie(this,nh).values()];let n={};return t.forEach(r=>{Lp(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ie(this,gl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=MP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===DP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ie(this,gl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ie(this,En).clear(),ie(this,pl).clear()}},En=new WeakMap,pl=new WeakMap,gl=new WeakMap,th=new WeakMap,nh=new WeakMap,vl=new WeakMap,rh=new WeakMap,sh=new WeakMap,a6),is,kt,Lg,zr,Bc,ah,xl,Pi,Fg,ih,oh,Uc,zc,yl,lh,zt,Om,nC,rC,sC,aC,iC,oC,lC,YU,i6,Cie=(i6=class extends Qg{constructor(t,n){super();lt(this,zt);lt(this,is);lt(this,kt);lt(this,Lg);lt(this,zr);lt(this,Bc);lt(this,ah);lt(this,xl);lt(this,Pi);lt(this,Fg);lt(this,ih);lt(this,oh);lt(this,Uc);lt(this,zc);lt(this,yl);lt(this,lh,new Set);this.options=n,Re(this,is,t),Re(this,Pi,null),Re(this,xl,tC()),this.options.experimental_prefetchInRender||ie(this,xl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,kt).addObserver(this),TD(ie(this,kt),this.options)?St(this,zt,Om).call(this):this.updateResult(),St(this,zt,aC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cC(ie(this,kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cC(ie(this,kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,St(this,zt,iC).call(this),St(this,zt,oC).call(this),ie(this,kt).removeObserver(this)}setOptions(t,n){const r=this.options,a=ie(this,kt);if(this.options=ie(this,is).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ga(this.options.enabled,ie(this,kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");St(this,zt,lC).call(this),ie(this,kt).setOptions(this.options),r._defaulted&&!QS(this.options,r)&&ie(this,is).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,kt),observer:this});const i=this.hasListeners();i&&OD(ie(this,kt),a,this.options,r)&&St(this,zt,Om).call(this),this.updateResult(n),i&&(ie(this,kt)!==a||Ga(this.options.enabled,ie(this,kt))!==Ga(r.enabled,ie(this,kt))||Od(this.options.staleTime,ie(this,kt))!==Od(r.staleTime,ie(this,kt)))&&St(this,zt,nC).call(this);const o=St(this,zt,rC).call(this);i&&(ie(this,kt)!==a||Ga(this.options.enabled,ie(this,kt))!==Ga(r.enabled,ie(this,kt))||o!==ie(this,yl))&&St(this,zt,sC).call(this,o)}getOptimisticResult(t){const n=ie(this,is).getQueryCache().build(ie(this,is),t),r=this.createResult(n,t);return Eie(this,r)&&(Re(this,zr,r),Re(this,ah,this.options),Re(this,Bc,ie(this,kt).state)),r}getCurrentResult(){return ie(this,zr)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){ie(this,lh).add(t)}getCurrentQuery(){return ie(this,kt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ie(this,is).defaultQueryOptions(t),r=ie(this,is).getQueryCache().build(ie(this,is),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return St(this,zt,Om).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,zr)))}createResult(t,n){var k;const r=ie(this,kt),a=this.options,i=ie(this,zr),o=ie(this,Bc),l=ie(this,ah),u=t!==r?t.state:ie(this,Lg),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const D=this.hasListeners(),I=!D&&TD(t,n),E=D&&OD(t,r,n,a);(I||E)&&(h={...h,...KU(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===ie(this,Fg))m=ie(this,ih);else try{Re(this,Fg,n.select),m=n.select(h.data),m=eC(i==null?void 0:i.data,m,n),Re(this,ih,m),Re(this,Pi,null)}catch(D){Re(this,Pi,D)}else m=h.data;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let D;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))D=i.data;else if(D=typeof n.placeholderData=="function"?n.placeholderData((k=ie(this,oh))==null?void 0:k.state.data,ie(this,oh)):n.placeholderData,n.select&&D!==void 0)try{D=n.select(D),Re(this,Pi,null)}catch(I){Re(this,Pi,I)}D!==void 0&&(x="success",m=eC(i==null?void 0:i.data,D,n),f=!0)}ie(this,Pi)&&(g=ie(this,Pi),m=ie(this,ih),p=Date.now(),x="error");const y=h.fetchStatus==="fetching",b=x==="pending",j=x==="error",_=b&&y,S=m!==void 0,C={status:x,fetchStatus:h.fetchStatus,isPending:b,isSuccess:x==="success",isError:j,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:j&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:$P(t,n),refetch:this.refetch,promise:ie(this,xl)};if(this.options.experimental_prefetchInRender){const D=L=>{C.status==="error"?L.reject(C.error):C.data!==void 0&&L.resolve(C.data)},I=()=>{const L=Re(this,xl,C.promise=tC());D(L)},E=ie(this,xl);switch(E.status){case"pending":t.queryHash===r.queryHash&&D(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&I();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&I();break}}return C}updateResult(t){const n=ie(this,zr),r=this.createResult(ie(this,kt),this.options);if(Re(this,Bc,ie(this,kt).state),Re(this,ah,this.options),ie(this,Bc).data!==void 0&&Re(this,oh,ie(this,kt)),QS(r,n))return;Re(this,zr,r);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!ie(this,lh).size)return!0;const c=new Set(l??ie(this,lh));return this.options.throwOnError&&c.add("error"),Object.keys(ie(this,zr)).some(u=>{const d=u;return ie(this,zr)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),St(this,zt,YU).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&St(this,zt,aC).call(this)}},is=new WeakMap,kt=new WeakMap,Lg=new WeakMap,zr=new WeakMap,Bc=new WeakMap,ah=new WeakMap,xl=new WeakMap,Pi=new WeakMap,Fg=new WeakMap,ih=new WeakMap,oh=new WeakMap,Uc=new WeakMap,zc=new WeakMap,yl=new WeakMap,lh=new WeakMap,zt=new WeakSet,Om=function(t){St(this,zt,lC).call(this);let n=ie(this,kt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(oa)),n},nC=function(){St(this,zt,iC).call(this);const t=Od(this.options.staleTime,ie(this,kt));if(au||ie(this,zr).isStale||!XS(t))return;const r=UU(ie(this,zr).dataUpdatedAt,t)+1;Re(this,Uc,setTimeout(()=>{ie(this,zr).isStale||this.updateResult()},r))},rC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,kt)):this.options.refetchInterval)??!1},sC=function(t){St(this,zt,oC).call(this),Re(this,yl,t),!(au||Ga(this.options.enabled,ie(this,kt))===!1||!XS(ie(this,yl))||ie(this,yl)===0)&&Re(this,zc,setInterval(()=>{(this.options.refetchIntervalInBackground||IP.isFocused())&&St(this,zt,Om).call(this)},ie(this,yl)))},aC=function(){St(this,zt,nC).call(this),St(this,zt,sC).call(this,St(this,zt,rC).call(this))},iC=function(){ie(this,Uc)&&(clearTimeout(ie(this,Uc)),Re(this,Uc,void 0))},oC=function(){ie(this,zc)&&(clearInterval(ie(this,zc)),Re(this,zc,void 0))},lC=function(){const t=ie(this,is).getQueryCache().build(ie(this,is),this.options);if(t===ie(this,kt))return;const n=ie(this,kt);Re(this,kt,t),Re(this,Lg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},YU=function(t){mr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ie(this,zr))}),ie(this,is).getQueryCache().notify({query:ie(this,kt),type:"observerResultsUpdated"})})},i6);function kie(e,t){return Ga(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function TD(e,t){return kie(e,t)||e.state.data!==void 0&&cC(e,t,t.refetchOnMount)}function cC(e,t,n){if(Ga(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&$P(e,t)}return!1}function OD(e,t,n,r){return(e!==t||Ga(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&$P(e,n)}function $P(e,t){return Ga(t.enabled,e)!==!1&&e.isStaleByTime(Od(t.staleTime,e))}function Eie(e,t){return!QS(e.getCurrentResult(),t)}var JU=v.createContext(void 0),Pie=e=>{const t=v.useContext(JU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Aie=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(JU.Provider,{value:e,children:t})),XU=v.createContext(!1),Tie=()=>v.useContext(XU);XU.Provider;function Oie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mie=v.createContext(Oie()),Die=()=>v.useContext(Mie);function Iie(e,t){return typeof e=="function"?e(...t):!!e}function $ie(){}var Rie=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Lie=e=>{v.useEffect(()=>{e.clearReset()},[e])},Fie=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Iie(n,[e.error,r]),Bie=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Uie=(e,t)=>e.isLoading&&e.isFetching&&!t,zie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,MD=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function qie(e,t,n){var d,h,f,m,g;const r=Pie(),a=Tie(),i=Die(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",Bie(o),Rie(o,i),Lie(i);const l=!r.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const x=a?()=>{}:c.subscribe(mr.batchCalls(p));return c.updateResult(),x},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),zie(o,u))throw MD(o,c,i);if(Fie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,u),o.experimental_prefetchInRender&&!au&&Uie(u,a)){const p=l?MD(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch($ie).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Vie(e,t){return qie(e,Cie)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fp.apply(this,arguments)}var jl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jl||(jl={}));const DD="popstate";function Wie(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return uC("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:hb(a)}return Gie(t,n,null,e)}function Cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function QU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hie(){return Math.random().toString(36).substr(2,8)}function ID(e,t){return{usr:e.state,key:e.key,idx:t}}function uC(e,t,n,r){return n===void 0&&(n=null),Fp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hf(t):t,{state:n,key:t&&t.key||r||Hie()})}function hb(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Gie(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=jl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Fp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=jl.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:y})}function f(x,y){l=jl.Push;let b=uC(p.location,x,y);u=d()+1;let j=ID(b,u),_=p.createHref(b);try{o.pushState(j,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,y){l=jl.Replace;let b=uC(p.location,x,y);u=d();let j=ID(b,u),_=p.createHref(b);o.replaceState(j,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:hb(x);return b=b.replace(/ $/,"%20"),Cn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(DD,h),c=x,()=>{a.removeEventListener(DD,h),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var $D;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($D||($D={}));function Kie(e,t,n){return n===void 0&&(n="/"),Yie(e,t,n,!1)}function Yie(e,t,n,r){let a=typeof t=="string"?hf(t):t,i=bh(a.pathname||"/",n);if(i==null)return null;let o=ZU(e);Jie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ooe(i);l=aoe(o[c],u,r)}return l}function ZU(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Cn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ml([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Cn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZU(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:roe(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of ez(i.path))a(i,o,c)}),t}function ez(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=ez(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Jie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:soe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xie=/^:[\w-]+$/,Qie=3,Zie=2,eoe=1,toe=10,noe=-2,RD=e=>e==="*";function roe(e,t){let n=e.split("/"),r=n.length;return n.some(RD)&&(r+=noe),t&&(r+=Zie),n.filter(a=>!RD(a)).reduce((a,i)=>a+(Xie.test(i)?Qie:i===""?eoe:toe),r)}function soe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function aoe(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=fb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=fb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ml([i,h.pathname]),pathnameBase:doe(Ml([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ml([i,h.pathnameBase]))}return o}function fb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ioe(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function ioe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),QU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ooe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return QU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function loe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?hf(e):e;return{pathname:n?n.startsWith("/")?n:coe(n,t):t,search:hoe(r),hash:foe(a)}}function coe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function K_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uoe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RP(e,t){let n=uoe(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LP(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=hf(e):(a=Fp({},e),Cn(!a.pathname||!a.pathname.includes("?"),K_("?","pathname","search",a)),Cn(!a.pathname||!a.pathname.includes("#"),K_("#","pathname","hash",a)),Cn(!a.search||!a.search.includes("#"),K_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=loe(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ml=e=>e.join("/").replace(/\/\/+/g,"/"),doe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hoe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,foe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function moe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tz=["post","put","patch","delete"];new Set(tz);const poe=["get",...tz];new Set(poe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(this,arguments)}const jw=v.createContext(null),nz=v.createContext(null),Mo=v.createContext(null),_w=v.createContext(null),Wi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rz=v.createContext(null);function goe(e,t){let{relative:n}=t===void 0?{}:t;ff()||Cn(!1);let{basename:r,navigator:a}=v.useContext(Mo),{hash:i,pathname:o,search:l}=Sw(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ml([r,o])),a.createHref({pathname:c,search:l,hash:i})}function ff(){return v.useContext(_w)!=null}function fi(){return ff()||Cn(!1),v.useContext(_w).location}function sz(e){v.useContext(Mo).static||v.useLayoutEffect(e)}function ts(){let{isDataRoute:e}=v.useContext(Wi);return e?Toe():voe()}function voe(){ff()||Cn(!1);let e=v.useContext(jw),{basename:t,future:n,navigator:r}=v.useContext(Mo),{matches:a}=v.useContext(Wi),{pathname:i}=fi(),o=JSON.stringify(RP(a,n.v7_relativeSplatPath)),l=v.useRef(!1);return sz(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=LP(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ml([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const xoe=v.createContext(null);function yoe(e){let t=v.useContext(Wi).outlet;return t&&v.createElement(xoe.Provider,{value:e},t)}function Nw(){let{matches:e}=v.useContext(Wi),t=e[e.length-1];return t?t.params:{}}function Sw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Mo),{matches:a}=v.useContext(Wi),{pathname:i}=fi(),o=JSON.stringify(RP(a,r.v7_relativeSplatPath));return v.useMemo(()=>LP(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function boe(e,t){return woe(e,t)}function woe(e,t,n,r){ff()||Cn(!1);let{navigator:a}=v.useContext(Mo),{matches:i}=v.useContext(Wi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fi(),d;if(t){var h;let x=typeof t=="string"?hf(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Cn(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Kie(e,{pathname:m}),p=Coe(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ml([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ml([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?v.createElement(_w.Provider,{value:{location:Bp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jl.Pop}},p):p}function joe(){let e=Aoe(),t=moe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:a},n):null,null)}const _oe=v.createElement(joe,null);class Noe extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Wi.Provider,{value:this.props.routeContext},v.createElement(rz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Soe(e){let{routeContext:t,match:n,children:r}=e,a=v.useContext(jw);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Wi.Provider,{value:t},r)}function Coe(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Cn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,p=null,x=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||_oe,c&&(u<0&&f===0?(g=!0,x=null):u===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),b=()=>{let j;return m?j=p:g?j=x:h.route.Component?j=v.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,v.createElement(Soe,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(Noe,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var az=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(az||{}),mb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mb||{});function koe(e){let t=v.useContext(jw);return t||Cn(!1),t}function Eoe(e){let t=v.useContext(nz);return t||Cn(!1),t}function Poe(e){let t=v.useContext(Wi);return t||Cn(!1),t}function iz(e){let t=Poe(),n=t.matches[t.matches.length-1];return n.route.id||Cn(!1),n.route.id}function Aoe(){var e;let t=v.useContext(rz),n=Eoe(mb.UseRouteError),r=iz(mb.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Toe(){let{router:e}=koe(az.UseNavigateStable),t=iz(mb.UseNavigateStable),n=v.useRef(!1);return sz(()=>{n.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bp({fromRouteId:t},i)))},[e,t])}function Ks(e){let{to:t,replace:n,state:r,relative:a}=e;ff()||Cn(!1);let{future:i,static:o}=v.useContext(Mo),{matches:l}=v.useContext(Wi),{pathname:c}=fi(),u=ts(),d=LP(t,RP(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function Ooe(e){return yoe(e.context)}function st(e){Cn(!1)}function Moe(e){let{basename:t="/",children:n=null,location:r,navigationType:a=jl.Pop,navigator:i,static:o=!1,future:l}=e;ff()&&Cn(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Bp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=hf(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,p=v.useMemo(()=>{let x=bh(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:g},navigationType:a}},[c,d,h,f,m,g,a]);return p==null?null:v.createElement(Mo.Provider,{value:u},v.createElement(_w.Provider,{children:n,value:p}))}function Doe(e){let{children:t,location:n}=e;return boe(dC(t),n)}new Promise(()=>{});function dC(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,a)=>{if(!v.isValidElement(r))return;let i=[...t,a];if(r.type===v.Fragment){n.push.apply(n,dC(r.props.children,i));return}r.type!==st&&Cn(!1),!r.props.index||!r.props.children||Cn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dC(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(this,arguments)}function oz(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ioe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $oe(e,t){return e.button===0&&(!t||t==="_self")&&!Ioe(e)}function hC(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Roe(e,t){let n=hC(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const Loe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Foe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Boe="6";try{window.__reactRouterVersion=Boe}catch{}const Uoe=v.createContext({isTransitioning:!1}),zoe="startTransition",LD=b2[zoe];function qoe(e){let{basename:t,children:n,future:r,window:a}=e,i=v.useRef();i.current==null&&(i.current=Wie({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&LD?LD(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.createElement(Moe,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Voe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Woe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=v.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=oz(t,Loe),{basename:m}=v.useContext(Mo),g,p=!1;if(typeof u=="string"&&Woe.test(u)&&(g=u,Voe))try{let j=new URL(window.location.href),_=u.startsWith("//")?new URL(j.protocol+u):new URL(u),S=bh(_.pathname,m);_.origin===j.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let x=goe(u,{relative:a}),y=Goe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function b(j){r&&r(j),j.defaultPrevented||y(j)}return v.createElement("a",pb({},f,{href:g||x,onClick:p||i?r:b,ref:n,target:c}))}),fC=v.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=oz(t,Foe),f=Sw(c,{relative:h.relative}),m=fi(),g=v.useContext(nz),{navigator:p,basename:x}=v.useContext(Mo),y=g!=null&&Yoe(f)&&u===!0,b=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,j=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(j=j.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&x&&(_=bh(_,x)||_);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=j===b||!o&&j.startsWith(b)&&j.charAt(S)==="/",C=_!=null&&(_===b||!o&&_.startsWith(b)&&_.charAt(b.length)==="/"),k={isActive:N,isPending:C,isTransitioning:y},D=N?r:void 0,I;typeof i=="function"?I=i(k):I=[i,N?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(k):l;return v.createElement(Ke,pb({},h,{"aria-current":D,className:I,ref:n,style:E,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var mC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mC||(mC={}));var FD;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(FD||(FD={}));function Hoe(e){let t=v.useContext(jw);return t||Cn(!1),t}function Goe(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ts(),u=fi(),d=Sw(e,{relative:o});return v.useCallback(h=>{if($oe(h,n)){h.preventDefault();let f=r!==void 0?r:hb(u)===hb(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function Koe(e){let t=v.useRef(hC(e)),n=v.useRef(!1),r=fi(),a=v.useMemo(()=>Roe(r.search,n.current?null:t.current),[r.search]),i=ts(),o=v.useCallback((l,c)=>{const u=hC(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function Yoe(e,t){t===void 0&&(t={});let n=v.useContext(Uoe);n==null&&Cn(!1);let{basename:r}=Hoe(mC.useViewTransitionState),a=Sw(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=bh(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fb(a.pathname,o)!=null||fb(a.pathname,i)!=null}const Joe="modulepreload",Xoe=function(e){return"/"+e},BD={},Zg=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=Xoe(c),c in BD)return;BD[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Joe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Qoe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zg(async()=>{const{default:r}=await Promise.resolve().then(()=>mf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class FP extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Zoe extends FP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class UD extends FP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zD extends FP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pC;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pC||(pC={}));var ele=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class tle{constructor(t,{headers:n={},customFetch:r,region:a=pC.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=Qoe(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return ele(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(p=>{throw new Zoe(p)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new UD(h);if(!h.ok)throw new zD(h);let m=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof zD||a instanceof UD?a.context:void 0}}})}}var ls={},BP={},Cw={},ev={},kw={},Ew={},nle=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wh=nle();const rle=wh.fetch,lz=wh.fetch.bind(wh),cz=wh.Headers,sle=wh.Request,ale=wh.Response,mf=Object.freeze(Object.defineProperty({__proto__:null,Headers:cz,Request:sle,Response:ale,default:lz,fetch:rle},Symbol.toStringTag,{value:"Module"})),ile=o6(mf);var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});let ole=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pw.default=ole;var uz=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ew,"__esModule",{value:!0});const lle=uz(ile),cle=uz(Pw);let ule=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lle.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&p===""?(f=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new cle.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Ew.default=ule;var dle=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kw,"__esModule",{value:!0});const hle=dle(Ew);let fle=class extends hle.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};kw.default=fle;var mle=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ev,"__esModule",{value:!0});const ple=mle(kw);let gle=class extends ple.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ev.default=gle;var vle=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cw,"__esModule",{value:!0});const im=vle(ev);let xle=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new im.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new im.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new im.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new im.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new im.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cw.default=xle;var Aw={},Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.version=void 0;Tw.version="0.0.0-automated";Object.defineProperty(Aw,"__esModule",{value:!0});Aw.DEFAULT_HEADERS=void 0;const yle=Tw;Aw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yle.version}`};var dz=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BP,"__esModule",{value:!0});const ble=dz(Cw),wle=dz(ev),jle=Aw;let _le=class hz{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},jle.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new ble.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hz(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||a?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new wle.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};BP.default=_le;var pf=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});ls.PostgrestError=ls.PostgrestBuilder=ls.PostgrestTransformBuilder=ls.PostgrestFilterBuilder=ls.PostgrestQueryBuilder=ls.PostgrestClient=void 0;const fz=pf(BP);ls.PostgrestClient=fz.default;const mz=pf(Cw);ls.PostgrestQueryBuilder=mz.default;const pz=pf(ev);ls.PostgrestFilterBuilder=pz.default;const gz=pf(kw);ls.PostgrestTransformBuilder=gz.default;const vz=pf(Ew);ls.PostgrestBuilder=vz.default;const xz=pf(Pw);ls.PostgrestError=xz.default;var Nle=ls.default={PostgrestClient:fz.default,PostgrestQueryBuilder:mz.default,PostgrestFilterBuilder:pz.default,PostgrestTransformBuilder:gz.default,PostgrestBuilder:vz.default,PostgrestError:xz.default};const{PostgrestClient:Sle,PostgrestQueryBuilder:$Je,PostgrestFilterBuilder:RJe,PostgrestTransformBuilder:LJe,PostgrestBuilder:FJe,PostgrestError:BJe}=Nle;function Cle(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const kle=Cle(),Ele="2.11.15",Ple=`realtime-js/${Ele}`,Ale="1.0.0",yz=1e4,Tle=1e3;var Qm;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qm||(Qm={}));var br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(br||(br={}));var za;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(za||(za={}));var gC;(function(e){e.websocket="websocket"})(gC||(gC={}));var Nc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Nc||(Nc={}));class Ole{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class bz{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var an;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(an||(an={}));const qD=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Mle(o,e,t,a),i),{})},Mle=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?wz(i,o):vC(o)},wz=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Rle(t,n)}switch(e){case an.bool:return Dle(t);case an.float4:case an.float8:case an.int2:case an.int4:case an.int8:case an.numeric:case an.oid:return Ile(t);case an.json:case an.jsonb:return $le(t);case an.timestamp:return Lle(t);case an.abstime:case an.date:case an.daterange:case an.int4range:case an.int8range:case an.money:case an.reltime:case an.text:case an.time:case an.timestamptz:case an.timetz:case an.tsrange:case an.tstzrange:return vC(t);default:return vC(t)}},vC=e=>e,Dle=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ile=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$le=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Rle=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>wz(t,l))}return e},Lle=e=>typeof e=="string"?e.replace(" ","T"):e,jz=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Y_{constructor(t,n,r={},a=yz){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var VD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(VD||(VD={}));class Zm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Zm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Zm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var WD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(WD||(WD={}));var HD;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(HD||(HD={}));var no;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(no||(no={}));class UP{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Y_(this,za.join,this.params,this.timeout),this.rejoinTimer=new bz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=br.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(za.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Zm(this),this.broadcastEndpointURL=jz(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==br.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(no.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(no.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(no.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let p=0;p<m;p++){const x=f[p],{filter:{event:y,schema:b,table:j,filter:_}}=x,S=d&&d[p];if(S&&S.event===y&&S.schema===b&&S.table===j&&S.filter===_)g.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=br.errored,t==null||t(no.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(no.SUBSCRIBED);return}}).receive("error",d=>{this.state=br.errored,t==null||t(no.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(no.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=br.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(za.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Y_(this,za.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Y_(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=za;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,x,y,b,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=n.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(b=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:p,table:x,commit_timestamp:y,type:b,errors:j}=g;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:j}),this._getPayloadRecords(g))}m.callback(f,r)})}_isClosed(){return this.state===br.closed}_isJoined(){return this.state===br.joined}_isJoining(){return this.state===br.joining}_isLeaving(){return this.state===br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&UP.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(za.close,{},t)}_onError(t){this._on(za.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=qD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=qD(t.columns,t.old_record)),n}}const GD=()=>{},Fle=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ble{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yz,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=GD,this.ref=0,this.logger=GD,this.conn=null,this.sendBuffer=[],this.serializer=new Ole,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Zg(async()=>{const{default:c}=await Promise.resolve().then(()=>mf);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${gC.websocket}`,this.httpEndpoint=jz(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bz(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=kle),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ale}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qm.connecting:return Nc.Connecting;case Qm.open:return Nc.Open;case Qm.closing:return Nc.Closing;default:return Nc.Closed}}isConnected(){return this.connectionState()===Nc.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new UP(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Ple};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(za.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Tle,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(za.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Fle],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class zP extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ule extends zP{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xC extends zP{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var zle=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const _z=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zg(async()=>{const{default:r}=await Promise.resolve().then(()=>mf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qle=()=>zle(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zg(()=>Promise.resolve().then(()=>mf),void 0)).Response:Response}),yC=e=>{if(Array.isArray(e))return e.map(n=>yC(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=yC(r)}),t};var Eu=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const J_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vle=(e,t,n)=>Eu(void 0,void 0,void 0,function*(){const r=yield qle();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new Ule(J_(a),e.status||500))}).catch(a=>{t(new xC(J_(a),a))}):t(new xC(J_(e),e))}),Wle=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function tv(e,t,n,r,a,i){return Eu(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Wle(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Vle(c,l,r))})})}function gb(e,t,n,r){return Eu(this,void 0,void 0,function*(){return tv(e,"GET",t,n,r)})}function sl(e,t,n,r,a){return Eu(this,void 0,void 0,function*(){return tv(e,"POST",t,r,a,n)})}function Hle(e,t,n,r,a){return Eu(this,void 0,void 0,function*(){return tv(e,"PUT",t,r,a,n)})}function Gle(e,t,n,r){return Eu(this,void 0,void 0,function*(){return tv(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nz(e,t,n,r,a){return Eu(this,void 0,void 0,function*(){return tv(e,"DELETE",t,r,a,n)})}var ss=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Kle={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},KD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yle{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=_z(a)}uploadOrUpdate(t,n,r,a){return ss(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},KD),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Zn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return ss(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:KD.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Zn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ss(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield sl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new zP("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(Zn(r))return{data:null,error:r};throw r}})}update(t,n,r){return ss(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ss(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Zn(a))return{data:null,error:a};throw a}})}copy(t,n,r){return ss(this,void 0,void 0,function*(){try{return{data:{path:(yield sl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Zn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return ss(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield sl(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Zn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return ss(this,void 0,void 0,function*(){try{const a=yield sl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Zn(a))return{data:null,error:a};throw a}})}download(t,n){return ss(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield gb(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Zn(l))return{data:null,error:l};throw l}})}info(t){return ss(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield gb(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yC(r),error:null}}catch(r){if(Zn(r))return{data:null,error:r};throw r}})}exists(t){return ss(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Gle(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Zn(r)&&r instanceof xC){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ss(this,void 0,void 0,function*(){try{return{data:yield Nz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Zn(n))return{data:null,error:n};throw n}})}list(t,n,r){return ss(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Kle),n),{prefix:t||""});return{data:yield sl(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Zn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Jle="2.7.1",Xle={"X-Client-Info":`storage-js/${Jle}`};var zu=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Qle{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Xle),n),this.fetch=_z(r)}listBuckets(){return zu(this,void 0,void 0,function*(){try{return{data:yield gb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Zn(t))return{data:null,error:t};throw t}})}getBucket(t){return zu(this,void 0,void 0,function*(){try{return{data:yield gb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Zn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zu(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return zu(this,void 0,void 0,function*(){try{return{data:yield Hle(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return zu(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Zn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zu(this,void 0,void 0,function*(){try{return{data:yield Nz(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Zn(n))return{data:null,error:n};throw n}})}}class Zle extends Qle{constructor(t,n={},r){super(t,n,r)}from(t){return new Yle(this.url,this.headers,t,this.fetch)}}const ece="2.51.0";let Mm="";typeof Deno<"u"?Mm="deno":typeof document<"u"?Mm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mm="react-native":Mm="node";const tce={"X-Client-Info":`supabase-js-${Mm}/${ece}`},nce={headers:tce},rce={schema:"public"},sce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ace={};var ice=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const oce=e=>{let t;return e?t=e:typeof fetch>"u"?t=lz:t=fetch,(...n)=>t(...n)},lce=()=>typeof Headers>"u"?cz:Headers,cce=(e,t,n)=>{const r=oce(n),a=lce();return(i,o)=>ice(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var uce=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function dce(e){return e.endsWith("/")?e:e+"/"}function hce(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>uce(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Sz="2.71.0",ad=30*1e3,bC=3,X_=bC*ad,fce="http://localhost:9999",mce="supabase.auth.token",pce={"X-Client-Info":`gotrue-js/${Sz}`},wC="X-Supabase-Api-Version",Cz={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vce=10*60*1e3;class qP extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xce extends qP{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yce(e){return ft(e)&&e.name==="AuthApiError"}class kz extends qP{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ec extends qP{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Xo extends ec{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bce(e){return ft(e)&&e.name==="AuthSessionMissingError"}class gx extends ec{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vx extends ec{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xx extends ec{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wce(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class YD extends ec{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jC extends ec{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Q_(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class JD extends ec{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class _C extends ec{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XD=` 	
\r=`.split(""),jce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<XD.length;t+=1)e[XD[t].charCodeAt(0)]=-2;for(let t=0;t<vb.length;t+=1)e[vb[t].charCodeAt(0)]=t;return e})();function QD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vb[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vb[r]),t.queuedBits-=6}}function Ez(e,t,n){const r=jce[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ZD(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Sce(o,r,n)};for(let o=0;o<e.length;o+=1)Ez(e.charCodeAt(o),a,i);return t.join("")}function _ce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Nce(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}_ce(r,t)}}function Sce(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Cce(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Ez(e.charCodeAt(a),n,r);return new Uint8Array(t)}function kce(e){const t=[];return Nce(e,n=>t.push(n)),new Uint8Array(t)}function Ece(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>QD(a,n,r)),QD(null,n,r),t.join("")}function Pce(e){return Math.round(Date.now()/1e3)+e}function Ace(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $a=()=>typeof window<"u"&&typeof document<"u",uc={tested:!1,writable:!1},Pz=()=>{if(!$a())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uc.tested)return uc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),uc.tested=!0,uc.writable=!0}catch{uc.tested=!0,uc.writable=!1}return uc.writable};function Tce(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const Az=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Zg(async()=>{const{default:r}=await Promise.resolve().then(()=>mf);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Oce=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",id=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},dc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ho=async(e,t)=>{await e.removeItem(t)};class Ow{constructor(){this.promise=new Ow.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ow.promiseConstructor=Promise;function Z_(e){const t=e.split(".");if(t.length!==3)throw new _C("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!gce.test(t[r]))throw new _C("JWT not in base64url format");return{header:JSON.parse(ZD(t[0])),payload:JSON.parse(ZD(t[1])),signature:Cce(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mce(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dce(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Ice(e){return("0"+e.toString(16)).substr(-2)}function $ce(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Ice).join("")}async function Rce(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Lce(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Rce(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qu(e,t,n=!1){const r=$ce();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await id(e,`${t}-code-verifier`,a);const i=await Lce(r);return[i,r===i?"plain":"s256"]}const Fce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bce(e){const t=e.headers.get(wC);if(!t||!t.match(Fce))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uce(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zce(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vu(e){if(!qce.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function e1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Vce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const yc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wce=[502,503,504];async function eI(e){var t;if(!Oce(e))throw new jC(yc(e),0);if(Wce.includes(e.status))throw new jC(yc(e),e.status);let n;try{n=await e.json()}catch(i){throw new kz(yc(i),i)}let r;const a=Bce(e);if(a&&a.getTime()>=Cz["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new JD(yc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Xo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new JD(yc(n),e.status,n.weak_password.reasons);throw new xce(yc(n),e.status||500,r)}const Hce=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function wt(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[wC]||(i[wC]=Cz["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Gce(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Gce(e,t,n,r,a,i){const o=Hce(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new jC(yc(c),0)}if(l.ok||await eI(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await eI(c)}}function Zi(e){var t;let n=null;Xce(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Pce(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function tI(e){const t=Zi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ul(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kce(e){return{data:e,error:null}}function Yce(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=Vce(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Jce(e){return e}function Xce(e){return e.access_token&&e.refresh_token&&e.expires_in}const t1=["global","local","others"];var Qce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class Zce{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Az(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=t1[0]){if(t1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${t1.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ul})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Qce(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Yce,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ft(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ul})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Jce});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ft(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vu(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ul})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Vu(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ul})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Vu(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ul})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Vu(t.userId);try{const{data:n,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Vu(t.userId),Vu(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}}function nI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function eue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wu={debug:!!(globalThis&&Pz()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tz extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tue extends Tz{}async function nue(e,t,n){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Wu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}eue();const rue={url:fce,storageKey:mce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rI(e,t,n){return await n()}const Hu={};class Up{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Up.nextInstanceID,Up.nextInstanceID+=1,this.instanceID>0&&$a()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},rue),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Zce({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Az(a.fetch),this.lock=a.lock||rI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:$a()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nue:this.lock=rI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Pz()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=nI(this.memoryStorage)),$a()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Hu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sz}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Tce(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$a()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wce(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ft(n)?{error:n}:{error:new kz("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zi}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await qu(this.storage,this.storageKey)),i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Zi})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zi})}else throw new vx("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tI})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:tI})}else throw new vx("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gx}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:b,options:j}=t;let _;if($a())if(typeof y=="object")_=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(d=j==null?void 0:j.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:x,error:y}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ece(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Zi});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new gx}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(ft(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await dc(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zi});if(await Ho(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gx}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ft(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new gx}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qu(this.storage,this.storageKey));const{error:h}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new vx("You must provide either an email or phone number.")}catch(l){if(ft(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Zi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ft(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qu(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kce})}catch(i){if(ft(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Xo;const{error:a}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vx("You must provide either an email or phone number and a type")}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await dc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<X_:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await dc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=e1()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ul}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xo}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ul})})}catch(n){if(ft(n))return bce(n)&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Xo;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qu(this.storage,this.storageKey));const{data:u,error:d}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ul});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xo;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=Z_(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ft(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Xo;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ft(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!$a())throw new xx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new YD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new YD("No code detected.");const{data:b,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new xx("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=ad&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ft(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await dc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(yce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Ace(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await qu(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ft(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return $a()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ft(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Dce(async a=>(a>0&&await Mce(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Q_(i)&&Date.now()+o-r<ad})}catch(r){if(this._debug(n,"error",r),ft(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),$a()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await dc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await dc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await id(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:e1()}else if(a&&!a.user&&!a.user){const o=await dc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ho(this.storage,this.storageKey+"-user"),await id(this.storage,this.storageKey,a)):a.user=e1()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<X_;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${X_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Q_(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Xo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ow;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Xo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ft(i)){const o={session:null,error:i};return Q_(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await id(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=structuredClone(a);await id(this.storage,this.storageKey,i)}else{const a=structuredClone(n);await id(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ho(this.storage,this.storageKey),await Ho(this.storage,this.storageKey+"-code-verifier"),await Ho(this.storage,this.storageKey+"-user"),this.userStorage&&await Ho(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$a()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ad);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/ad);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ad}ms, refresh threshold is ${bC} ticks`),a<=bC&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tz)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$a()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ft(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ft(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ft(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Z_(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+vce>a)return r;const{data:i,error:o}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Z_(r);n!=null&&n.allowExpired||Uce(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=zce(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,kce(`${l}.${c}`)))throw new _C("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}}Up.nextInstanceID=0;const sue=Up;class aue extends sue{constructor(t){super(t)}}var iue=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class oue{constructor(t,n,r){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=dce(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:rce,realtime:ace,auth:Object.assign(Object.assign({},sce),{storageKey:u}),global:nce},h=hce(r??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=cce(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Sle(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new tle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zle(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return iue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aue({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ble(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lue=(e,t,n)=>new oue(e,t,n),cue="https://nzqzmvsrsfynatxojuil.supabase.co",uue="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im56cXptdnNyc2Z5bmF0eG9qdWlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMTQwNzIsImV4cCI6MjA4NDU5MDA3Mn0.avKeLENuqO2nKbaGnaZKHkD1uhp6HMk_Jlsr-GHSwqs",J=lue(cue,uue,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Oz=v.createContext(void 0);function due({children:e}){const[t,n]=v.useState(null),[r,a]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{const{data:{subscription:f}}=J.auth.onAuthStateChange((m,g)=>{console.log("Auth state change:",m,"session exists:",!!g),a(g),n((g==null?void 0:g.user)??null),o(!1)});return J.auth.getSession().then(({data:{session:m}})=>{console.log("Initial session check:",!!m),a(m),n((m==null?void 0:m.user)??null),o(!1)}),()=>f.unsubscribe()},[]);const l=async(f,m,g)=>{const p=`${window.location.origin}/`,{error:x}=await J.auth.signUp({email:f,password:m,options:{emailRedirectTo:p,data:{full_name:g}}});return{error:x}},c=async(f,m)=>{const{error:g}=await J.auth.signInWithPassword({email:f,password:m});return{error:g}},u=async f=>{const{error:m}=await J.auth.signInWithOAuth({provider:f,options:{redirectTo:`${window.location.origin}/dashboard`}});return{error:m}},d=async()=>{var f,m;console.log("Starting sign out process...");try{a(null),n(null),localStorage.removeItem("sb-nzqzmvsrsfynatxojuil-auth-token");const{error:g}=await J.auth.signOut();if(console.log("Sign out response:",{error:g}),g){if((f=g.message)!=null&&f.includes("Auth session missing")){console.log("Session already missing, clearing local state");return}throw console.error("Sign out error:",g),g}console.log("Sign out successful")}catch(g){if((m=g==null?void 0:g.message)!=null&&m.includes("Auth session missing")){console.log("Handling missing session in catch block");return}throw console.error("Sign out catch block:",g),g}},h=async f=>{const m=`${window.location.origin}/auth`,{error:g}=await J.auth.resetPasswordForEmail(f,{redirectTo:m});return{error:g}};return s.jsx(Oz.Provider,{value:{user:t,session:r,loading:i,signUp:l,signIn:c,signInWithProvider:u,signOut:d,resetPassword:h},children:e})}function Ht(){const e=v.useContext(Oz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Mz=v.createContext(void 0);function hue({children:e}){const[t,n]=v.useState(null),[r,a]=v.useState(!0);v.useEffect(()=>{i()},[]);const i=async()=>{var d,h,f;try{console.log("Checking customer session...");const{data:{session:m}}=await J.auth.getSession();if(console.log("Session found:",!!m,"User:",(d=m==null?void 0:m.user)==null?void 0:d.email),(f=(h=m==null?void 0:m.user)==null?void 0:h.user_metadata)!=null&&f.is_customer){console.log("User is a customer, fetching profile...");const g=m.user.email,{data:p,error:x}=await J.from("customers").select("*").eq("email",g).maybeSingle();console.log("Customer profile fetch result:",p,x),!x&&p?(console.log("Setting customer data:",p),n(p)):(console.log("No customer data found or error occurred, clearing session"),await J.auth.signOut())}else console.log("User is not a customer or no session")}catch(m){console.error("Error checking customer session:",m)}finally{a(!1)}},o=async(d,h)=>{var f,m,g;console.log("Customer sign in attempt for:",d);try{const{data:p,error:x}=await J.from("customers").select("*").eq("email",d).single();if(console.log("Customer lookup result:",p?"found":"not found",x),x||!p)return{error:{message:"Customer not found or access denied"}};console.log("Attempting auth sign in...");const{data:y,error:b}=await J.auth.signInWithPassword({email:d,password:h});return console.log("Auth sign in result:",y.user?"success":"failed",b),b?{error:{message:"Invalid email or password"}}:(console.log("User metadata:",(f=y.user)==null?void 0:f.user_metadata),(g=(m=y.user)==null?void 0:m.user_metadata)!=null&&g.is_customer?(console.log("Customer sign in successful"),n(p),await J.from("customers").update({last_login:new Date().toISOString()}).eq("id",p.id),{error:null}):(console.log("User does not have customer metadata, signing out"),await J.auth.signOut(),{error:{message:"Access denied - not a customer account"}}))}catch(p){return console.error("Sign in error:",p),{error:p}}},l=async()=>{try{const{error:d}=await J.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/customer-dashboard`}});return{error:d}}catch(d){return{error:d}}},c=async()=>{await J.auth.signOut(),n(null)},u=async d=>{if(!t)return{error:{message:"Not authenticated"}};try{const{data:h,error:f}=await J.from("customers").update(d).eq("id",t.id).select().single();return!f&&h&&n(h),{error:f}}catch(h){return{error:h}}};return s.jsx(Mz.Provider,{value:{customer:t,loading:r,signIn:o,signInWithGoogle:l,signOut:c,updateProfile:u},children:e})}function Ns(){const e=v.useContext(Mz);if(e===void 0)throw new Error("useCustomerAuth must be used within a CustomerAuthProvider");return e}const n1=768;function fue(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const n=window.matchMedia(`(max-width: ${n1-1}px)`),r=()=>{t(window.innerWidth<n1)};return n.addEventListener("change",r),t(window.innerWidth<n1),()=>n.removeEventListener("change",r)},[]),!!e}const zp=lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?ws:"button";return s.jsx(o,{className:me(zp({variant:t,size:n,className:e})),ref:i,...a})});Z.displayName="Button";const le=v.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));le.displayName="Input";var mue="Separator",sI="horizontal",pue=["horizontal","vertical"],Dz=v.forwardRef((e,t)=>{const{decorative:n,orientation:r=sI,...a}=e,i=gue(r)?r:sI,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(De.div,{"data-orientation":i,...l,...a,ref:t})});Dz.displayName=mue;function gue(e){return pue.includes(e)}var Iz=Dz;const Xr=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Iz,{ref:a,decorative:n,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Xr.displayName=Iz.displayName;var r1="focusScope.autoFocusOnMount",s1="focusScope.autoFocusOnUnmount",aI={bubbles:!1,cancelable:!0},vue="FocusScope",nv=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=_n(a),d=_n(i),h=v.useRef(null),f=Xe(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(j){if(m.paused||!l)return;const _=j.target;l.contains(_)?h.current=_:Qo(h.current,{select:!0})},x=function(j){if(m.paused||!l)return;const _=j.relatedTarget;_!==null&&(l.contains(_)||Qo(h.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Qo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){oI.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(r1,aI);l.addEventListener(r1,u),l.dispatchEvent(y),y.defaultPrevented||(xue(_ue($z(l)),{select:!0}),document.activeElement===p&&Qo(l))}return()=>{l.removeEventListener(r1,u),setTimeout(()=>{const y=new CustomEvent(s1,aI);l.addEventListener(s1,d),l.dispatchEvent(y),y.defaultPrevented||Qo(p??document.body,{select:!0}),l.removeEventListener(s1,d),oI.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[j,_]=yue(b);j&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&Qo(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),n&&Qo(_,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(De.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});nv.displayName=vue;function xue(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qo(r,{select:t}),document.activeElement!==n)return}function yue(e){const t=$z(e),n=iI(t,e),r=iI(t.reverse(),e);return[n,r]}function $z(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function iI(e,t){for(const n of e)if(!bue(n,{upTo:t}))return n}function bue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wue(e){return e instanceof HTMLInputElement&&"select"in e}function Qo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&wue(e)&&t&&e.select()}}var oI=jue();function jue(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=lI(e,t),e.unshift(t)},remove(t){var n;e=lI(e,t),(n=e[0])==null||n.resume()}}}function lI(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _ue(e){return e.filter(t=>t.tagName!=="A")}var a1=0;function Mw(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cI()),document.body.insertAdjacentElement("beforeend",e[1]??cI()),a1++,()=>{a1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),a1--}},[])}function cI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pr=function(){return Pr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pr.apply(this,arguments)};function VP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Rz(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ep="right-scroll-bar-position",tp="width-before-scroll-bar",Nue="with-scroll-bars-hidden",Sue="--removed-body-scroll-bar-size";function i1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Cue(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var kue=typeof window<"u"?v.useLayoutEffect:v.useEffect,uI=new WeakMap;function Lz(e,t){var n=Cue(null,function(r){return e.forEach(function(a){return i1(a,r)})});return kue(function(){var r=uI.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||i1(l,null)}),i.forEach(function(l){a.has(l)||i1(l,o)})}uI.set(n,e)},[e]),n}function Eue(e){return e}function Pue(e,t){t===void 0&&(t=Eue);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function Fz(e){e===void 0&&(e={});var t=Pue(null);return t.options=Pr({async:!0,ssr:!1},e),t}var Bz=function(e){var t=e.sideCar,n=VP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Pr({},n))};Bz.isSideCarExport=!0;function Uz(e,t){return e.useMedium(t),Bz}var zz=Fz(),o1=function(){},Dw=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:o1,onWheelCapture:o1,onTouchMoveCapture:o1}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,b=e.gapMode,j=VP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=Lz([n,t]),N=Pr(Pr({},j),a);return v.createElement(v.Fragment,null,d&&v.createElement(_,{sideCar:zz,removeScrollBar:u,shards:h,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:b}),o?v.cloneElement(v.Children.only(l),Pr(Pr({},N),{ref:S})):v.createElement(y,Pr({},N,{className:c,ref:S}),l))});Dw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dw.classNames={fullWidth:tp,zeroRight:ep};var Aue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Aue();return t&&e.setAttribute("nonce",t),e}function Oue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Mue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Due=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tue())&&(Oue(t,n),Mue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Iue=function(){var e=Due();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},WP=function(){var e=Iue(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},$ue={left:0,top:0,right:0,gap:0},l1=function(e){return parseInt(e||"",10)||0},Rue=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[l1(n),l1(r),l1(a)]},Lue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $ue;var t=Rue(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Fue=WP(),Md="data-scroll-locked",Bue=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nue,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Md,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ep,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tp,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ep," .").concat(ep,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tp," .").concat(tp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Md,`] {
    `).concat(Sue,": ").concat(l,`px;
  }
`)},dI=function(){var e=parseInt(document.body.getAttribute(Md)||"0",10);return isFinite(e)?e:0},Uue=function(){v.useEffect(function(){return document.body.setAttribute(Md,(dI()+1).toString()),function(){var e=dI()-1;e<=0?document.body.removeAttribute(Md):document.body.setAttribute(Md,e.toString())}},[])},qz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Uue();var i=v.useMemo(function(){return Lue(a)},[a]);return v.createElement(Fue,{styles:Bue(i,!t,a,n?"":"!important")})},NC=!1;if(typeof window<"u")try{var yx=Object.defineProperty({},"passive",{get:function(){return NC=!0,!0}});window.addEventListener("test",yx,yx),window.removeEventListener("test",yx,yx)}catch{NC=!1}var Gu=NC?{passive:!1}:!1,zue=function(e){return e.tagName==="TEXTAREA"},Vz=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!zue(e)&&n[t]==="visible")},que=function(e){return Vz(e,"overflowY")},Vue=function(e){return Vz(e,"overflowX")},hI=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Wz(e,r);if(a){var i=Hz(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wue=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Hue=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Wz=function(e,t){return e==="v"?que(t):Vue(t)},Hz=function(e,t){return e==="v"?Wue(t):Hue(t)},Gue=function(e,t){return e==="h"&&t==="rtl"?-1:1},Kue=function(e,t,n,r,a){var i=Gue(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=Hz(e,l),g=m[0],p=m[1],x=m[2],y=p-x-i*g;(g||y)&&Wz(e,l)&&(h+=y,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},bx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fI=function(e){return[e.deltaX,e.deltaY]},mI=function(e){return e&&"current"in e?e.current:e},Yue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Jue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xue=0,Ku=[];function Que(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),a=v.useState(Xue++)[0],i=v.useState(WP)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Rz([e.lockRef.current],(e.shards||[]).map(mI),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=bx(p),b=n.current,j="deltaX"in p?p.deltaX:b[0]-y[0],_="deltaY"in p?p.deltaY:b[1]-y[1],S,N=p.target,C=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var k=hI(C,N);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=hI(C,N)),!k)return!1;if(!r.current&&"changedTouches"in p&&(j||_)&&(r.current=S),!S)return!0;var D=r.current||S;return Kue(D,x,p,D==="h"?j:_,!0)},[]),c=v.useCallback(function(p){var x=p;if(!(!Ku.length||Ku[Ku.length-1]!==i)){var y="deltaY"in x?fI(x):bx(x),b=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Yue(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(mI).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=j.length>0?l(x,j[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,y,b){var j={name:p,delta:x,target:y,should:b,shadowParent:Zue(y)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(_){return _!==j})},1)},[]),d=v.useCallback(function(p){n.current=bx(p),r.current=void 0},[]),h=v.useCallback(function(p){u(p.type,fI(p),p.target,l(p,e.lockRef.current))},[]),f=v.useCallback(function(p){u(p.type,bx(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Ku.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Gu),document.addEventListener("touchmove",c,Gu),document.addEventListener("touchstart",d,Gu),function(){Ku=Ku.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Gu),document.removeEventListener("touchmove",c,Gu),document.removeEventListener("touchstart",d,Gu)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:Jue(a)}):null,m?v.createElement(qz,{gapMode:e.gapMode}):null)}function Zue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ede=Uz(zz,Que);var rv=v.forwardRef(function(e,t){return v.createElement(Dw,Pr({},e,{ref:t,sideCar:ede}))});rv.classNames=Dw.classNames;var tde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yu=new WeakMap,wx=new WeakMap,jx={},c1=0,Gz=function(e){return e&&(e.host||Gz(e.parentNode))},nde=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Gz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rde=function(e,t,n,r){var a=nde(t,Array.isArray(e)?e:[e]);jx[n]||(jx[n]=new WeakMap);var i=jx[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",p=(Yu.get(f)||0)+1,x=(i.get(f)||0)+1;Yu.set(f,p),i.set(f,x),o.push(f),p===1&&g&&wx.set(f,!0),x===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),c1++,function(){o.forEach(function(h){var f=Yu.get(h)-1,m=i.get(h)-1;Yu.set(h,f),i.set(h,m),f||(wx.has(h)||h.removeAttribute(r),wx.delete(h)),m||h.removeAttribute(n)}),c1--,c1||(Yu=new WeakMap,Yu=new WeakMap,wx=new WeakMap,jx={})}},sv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=tde(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),rde(r,a,n,"aria-hidden")):function(){return null}},HP="Dialog",[Kz,Yz]=Ir(HP),[sde,mi]=Kz(HP),Jz=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=js({prop:r,defaultProp:a,onChange:i});return s.jsx(sde,{scope:t,triggerRef:l,contentRef:c,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};Jz.displayName=HP;var Xz="DialogTrigger",Qz=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=mi(Xz,n),i=Xe(t,a.triggerRef);return s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":YP(a.open),...r,ref:i,onClick:je(e.onClick,a.onOpenToggle)})});Qz.displayName=Xz;var GP="DialogPortal",[ade,Zz]=Kz(GP,{forceMount:void 0}),eq=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=mi(GP,t);return s.jsx(ade,{scope:t,forceMount:n,children:v.Children.map(r,o=>s.jsx(Un,{present:n||i.open,children:s.jsx(of,{asChild:!0,container:a,children:o})}))})};eq.displayName=GP;var xb="DialogOverlay",tq=v.forwardRef((e,t)=>{const n=Zz(xb,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=mi(xb,e.__scopeDialog);return i.modal?s.jsx(Un,{present:r||i.open,children:s.jsx(ide,{...a,ref:t})}):null});tq.displayName=xb;var ide=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=mi(xb,n);return s.jsx(rv,{as:ws,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(De.div,{"data-state":YP(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),iu="DialogContent",nq=v.forwardRef((e,t)=>{const n=Zz(iu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=mi(iu,e.__scopeDialog);return s.jsx(Un,{present:r||i.open,children:i.modal?s.jsx(ode,{...a,ref:t}):s.jsx(lde,{...a,ref:t})})});nq.displayName=iu;var ode=v.forwardRef((e,t)=>{const n=mi(iu,e.__scopeDialog),r=v.useRef(null),a=Xe(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return sv(i)},[]),s.jsx(rq,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault())})}),lde=v.forwardRef((e,t)=>{const n=mi(iu,e.__scopeDialog),r=v.useRef(!1),a=v.useRef(!1);return s.jsx(rq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rq=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=mi(iu,n),c=v.useRef(null),u=Xe(t,c);return Mw(),s.jsxs(s.Fragment,{children:[s.jsx(nv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Cu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":YP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ude,{titleId:l.titleId}),s.jsx(hde,{contentRef:c,descriptionId:l.descriptionId})]})]})}),KP="DialogTitle",sq=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=mi(KP,n);return s.jsx(De.h2,{id:a.titleId,...r,ref:t})});sq.displayName=KP;var aq="DialogDescription",iq=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=mi(aq,n);return s.jsx(De.p,{id:a.descriptionId,...r,ref:t})});iq.displayName=aq;var oq="DialogClose",lq=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=mi(oq,n);return s.jsx(De.button,{type:"button",...r,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});lq.displayName=oq;function YP(e){return e?"open":"closed"}var cq="DialogTitleWarning",[cde,uq]=one(cq,{contentName:iu,titleName:KP,docsSlug:"dialog"}),ude=({titleId:e})=>{const t=uq(cq),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dde="DialogDescriptionWarning",hde=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uq(dde).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},JP=Jz,dq=Qz,XP=eq,av=tq,iv=nq,ov=sq,lv=iq,Iw=lq;const cv=JP,fde=XP,hq=v.forwardRef(({className:e,...t},n)=>s.jsx(av,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));hq.displayName=av.displayName;const mde=lf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gf=v.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(fde,{children:[s.jsx(hq,{}),s.jsxs(iv,{ref:a,className:me(mde({side:e}),t),...r,children:[n,s.jsxs(Iw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(ku,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gf.displayName=iv.displayName;const uv=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});uv.displayName="SheetHeader";const dv=v.forwardRef(({className:e,...t},n)=>s.jsx(ov,{ref:n,className:me("text-lg font-semibold text-foreground",e),...t}));dv.displayName=ov.displayName;const hv=v.forwardRef(({className:e,...t},n)=>s.jsx(lv,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));hv.displayName=lv.displayName;function Ls({className:e,...t}){return s.jsx("div",{className:me("animate-pulse rounded-md bg-muted",e),...t})}const pde="sidebar:state",gde=60*60*24*7,vde="16rem",xde="18rem",yde="3rem",bde="b",fq=v.createContext(null);function vf(){const e=v.useContext(fq);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const QP=v.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const c=fue(),[u,d]=v.useState(!1),[h,f]=v.useState(e),m=t??h,g=v.useCallback(b=>{const j=typeof b=="function"?b(m):b;n?n(j):f(j),document.cookie=`${pde}=${j}; path=/; max-age=${gde}`},[n,m]),p=v.useCallback(()=>c?d(b=>!b):g(b=>!b),[c,g,d]);v.useEffect(()=>{const b=j=>{j.key===bde&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),p())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[p]);const x=m?"expanded":"collapsed",y=v.useMemo(()=>({state:x,open:m,setOpen:g,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[x,m,g,c,u,d,p]);return s.jsx(fq.Provider,{value:y,children:s.jsx(FU,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":vde,"--sidebar-width-icon":yde,...a},className:me("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});QP.displayName="SidebarProvider";const ZP=v.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=vf();return n==="none"?s.jsx("div",{className:me("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?s.jsx(cv,{open:u,onOpenChange:d,...i,children:s.jsx(gf,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":xde},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:me("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:me("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});ZP.displayName="Sidebar";const $w=v.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:a}=vf();return s.jsxs(Z,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:me("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...n,children:[s.jsx(fre,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});$w.displayName="SidebarTrigger";const wde=v.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=vf();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:me("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});wde.displayName="SidebarRail";const jde=v.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:me("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));jde.displayName="SidebarInset";const _de=v.forwardRef(({className:e,...t},n)=>s.jsx(le,{ref:n,"data-sidebar":"input",className:me("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));_de.displayName="SidebarInput";const mq=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:me("flex flex-col gap-2 p-2",e),...t}));mq.displayName="SidebarHeader";const pq=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:me("flex flex-col gap-2 p-2",e),...t}));pq.displayName="SidebarFooter";const Nde=v.forwardRef(({className:e,...t},n)=>s.jsx(Xr,{ref:n,"data-sidebar":"separator",className:me("mx-2 w-auto bg-sidebar-border",e),...t}));Nde.displayName="SidebarSeparator";const eA=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:me("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));eA.displayName="SidebarContent";const qp=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:me("relative flex w-full min-w-0 flex-col p-2",e),...t}));qp.displayName="SidebarGroup";const yb=v.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?ws:"div";return s.jsx(a,{ref:r,"data-sidebar":"group-label",className:me("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});yb.displayName="SidebarGroupLabel";const Sde=v.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const a=t?ws:"button";return s.jsx(a,{ref:r,"data-sidebar":"group-action",className:me("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Sde.displayName="SidebarGroupAction";const Vp=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:me("w-full text-sm",e),...t}));Vp.displayName="SidebarGroupContent";const Dd=v.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:me("flex w-full min-w-0 flex-col gap-1",e),...t}));Dd.displayName="SidebarMenu";const Id=v.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:me("group/menu-item relative",e),...t}));Id.displayName="SidebarMenuItem";const Cde=lf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),$d=v.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const c=e?ws:"button",{isMobile:u,state:d}=vf(),h=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:me(Cde({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(lie,{children:[s.jsx(cie,{asChild:!0,children:h}),s.jsx(BU,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):h});$d.displayName="SidebarMenuButton";const kde=v.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},a)=>{const i=t?ws:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:me("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});kde.displayName="SidebarMenuAction";const Ede=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:me("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Ede.displayName="SidebarMenuBadge";const Pde=v.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const a=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:me("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&s.jsx(Ls,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Ls,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Pde.displayName="SidebarMenuSkeleton";const Ade=v.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:me("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));Ade.displayName="SidebarMenuSub";const Tde=v.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));Tde.displayName="SidebarMenuSubItem";const Ode=v.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...a},i)=>{const o=e?ws:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:me("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});Ode.displayName="SidebarMenuSubButton";const Mde={theme:"system",setTheme:()=>null},gq=v.createContext(Mde);function Dde({children:e,defaultTheme:t="light",storageKey:n="vite-ui-theme",...r}){const[a,i]=v.useState(()=>localStorage.getItem(n)||t);v.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(a)},[a]);const o={theme:a,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return s.jsx(gq.Provider,{...r,value:o,children:e})}const fv=()=>{const e=v.useContext(gq);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Wc="/assets/voxtro-logo-dark-Z6DETYOB.png",Ide=[{title:"Dashboard",url:"/dashboard",icon:X8},{title:"Voice Assistants",url:"/voice-assistants",icon:Ot},{title:"WhatsApp Agents",url:"/whatsapp-agents",icon:Ut},{title:"Chatbots",url:"/chatbots",icon:yt},{title:"Tasks",url:"/voice-tasks",icon:US},{title:"Forms",url:"/forms",icon:In},{title:"Flows",url:"/flows",icon:zS},{title:"Customers",url:"/customers",icon:Gn},{title:"Support Tickets",url:"/support-tickets",icon:ma},{title:"Usage",url:"/usage",icon:po},{title:"Changelog",url:"/changelog",icon:ere}],$de=[{title:"Settings",url:"/settings",icon:gs}];function Rde(){const{state:e}=vf(),t=fi(),{theme:n}=fv(),{signOut:r}=Ht();t.pathname;const a=({isActive:c})=>c?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",i=e==="collapsed",o=n==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":Wc,l=async()=>{try{await r(),window.location.href="/auth"}catch(c){Te({title:"Error",description:`Failed to sign out: ${(c==null?void 0:c.message)||"Unknown error"}`,variant:"destructive"})}};return s.jsxs(ZP,{className:i?"w-14":"w-60",collapsible:"icon",children:[s.jsx("div",{className:"p-4 border-b bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center justify-start",children:s.jsx("img",{src:o,alt:"Voxtro",className:"h-10 w-auto"})})}),s.jsxs(eA,{children:[s.jsxs(qp,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[!i&&s.jsx(yb,{children:"Navigation"}),s.jsx($w,{className:i?"mx-auto":""})]}),s.jsx(Vp,{children:s.jsx(Dd,{children:Ide.map(c=>s.jsx(Id,{children:s.jsx($d,{asChild:!0,children:s.jsxs(fC,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]}),s.jsxs(qp,{children:[s.jsx(yb,{children:"Account"}),s.jsx(Vp,{children:s.jsx(Dd,{children:$de.map(c=>s.jsx(Id,{children:s.jsx($d,{asChild:!0,children:s.jsxs(fC,{to:c.url,className:a,children:[s.jsx(c.icon,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:c.title})]})})},c.title))})})]})]}),s.jsx(pq,{className:"border-t",children:s.jsx(Dd,{children:s.jsx(Id,{children:s.jsxs($d,{onClick:l,className:"text-sidebar-foreground hover:bg-sidebar-accent/50 cursor-pointer",children:[s.jsx(Q8,{className:"mr-2 h-4 w-4"}),!i&&s.jsx("span",{children:"Sign Out"})]})})})})]})}function Lde(){const{user:e}=Ht(),t=ts(),[n,r]=v.useState([]),a=v.useRef(null),[i,o]=v.useState(!1);v.useEffect(()=>(a.current=new Audio("/chime-alert.wav"),a.current.volume=.5,a.current.addEventListener("canplaythrough",()=>{o(!0)}),a.current.load(),()=>{a.current&&(a.current.pause(),a.current=null)}),[]);const l=()=>{a.current&&i&&(a.current.currentTime=0,a.current.play().catch(f=>{console.log("Audio play failed:",f)}))};v.useEffect(()=>{if(!(e!=null&&e.id))return;console.log("Setting up realtime subscription for user:",e.id);const f=J.channel("admin-new-tickets").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_tickets",filter:`user_id=eq.${e.id}`},g=>{const p=g.new;console.log("New support ticket received:",p);const x={id:`ticket-${p.id}`,type:"new_ticket",subject:p.subject,customerName:p.customer_name,priority:p.priority,ticketId:p.id,createdAt:p.created_at};r(y=>[x,...y].slice(0,5)),l()}).subscribe(g=>{console.log("Tickets channel status:",g)}),m=J.channel("admin-ticket-replies").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},async g=>{var j;const p=g.new;if(console.log("New ticket message received:",p),p.sender_type!=="customer"){console.log("Ignoring non-customer message");return}const{data:x,error:y}=await J.from("support_tickets").select("id, subject, customer_name, priority, user_id").eq("id",p.ticket_id).single();if(y){console.error("Error fetching ticket:",y);return}if(x.user_id!==e.id){console.log("Ticket does not belong to this user");return}const b={id:`message-${p.id}`,type:"ticket_reply",subject:x.subject,customerName:x.customer_name,priority:x.priority,ticketId:x.id,createdAt:p.created_at,content:(j=p.content)==null?void 0:j.substring(0,100)};r(_=>[b,..._].slice(0,5)),l()}).subscribe(g=>{console.log("Messages channel status:",g)});return()=>{console.log("Cleaning up realtime subscriptions"),J.removeChannel(f),J.removeChannel(m)}},[e==null?void 0:e.id,i]);const c=f=>{r(m=>m.filter(g=>g.id!==f))},u=()=>{r([])},d=f=>{var m;t(`/support-tickets?ticket=${f}`),c(((m=n.find(g=>g.ticketId===f))==null?void 0:m.id)||"")},h=f=>{switch(f==null?void 0:f.toLowerCase()){case"urgent":return"bg-red-500/10 text-red-600 border-red-200";case"high":return"bg-orange-500/10 text-orange-600 border-orange-200";case"medium":return"bg-yellow-500/10 text-yellow-600 border-yellow-200";default:return"bg-blue-500/10 text-blue-600 border-blue-200"}};return n.length===0?null:s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:s.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-2",children:[n.map((f,m)=>{var g,p,x;return s.jsx("div",{className:"pointer-events-auto border-l-4 rounded-lg shadow-lg border bg-card animate-in slide-in-from-top-5 duration-300",style:{animationDelay:`${m*100}ms`,borderLeftColor:((g=f.priority)==null?void 0:g.toLowerCase())==="urgent"?"rgb(239 68 68)":((p=f.priority)==null?void 0:p.toLowerCase())==="high"?"rgb(249 115 22)":((x=f.priority)==null?void 0:x.toLowerCase())==="medium"?"rgb(234 179 8)":"rgb(59 130 246)"},children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${f.type==="new_ticket"?"bg-primary/10":"bg-blue-500/10"}`,children:f.type==="new_ticket"?s.jsx(vP,{className:"h-4 w-4 text-primary"}):s.jsx(Sn,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:f.type==="new_ticket"?"New Support Ticket":"Customer Reply"}),f.priority&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${h(f.priority)}`,children:f.priority})]}),s.jsx("p",{className:"font-medium text-sm truncate",children:f.subject}),f.type==="ticket_reply"&&f.content&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:['"',f.content,'..."']}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["From: ",f.customerName]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>d(f.ticketId),className:"text-xs h-7",children:[s.jsx(ma,{className:"h-3 w-3 mr-1"}),"View"]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-7 w-7",children:s.jsx(ku,{className:"h-4 w-4"})})]})]})})},f.id)}),n.length>1&&s.jsx("div",{className:"pointer-events-auto flex justify-center",children:s.jsxs(Z,{variant:"outline",size:"sm",onClick:u,className:"text-xs shadow-md bg-card border",children:["Dismiss All (",n.length,")"]})})]})})}function wr({children:e}){var l;const{user:t,loading:n}=Ht(),[r,a]=v.useState(""),i=((l=t==null?void 0:t.user_metadata)==null?void 0:l.is_customer)===!0;if(!n&&i)return s.jsx(Ks,{to:"/customer-login",replace:!0});const o=async()=>{if(t)try{const{data:c,error:u}=await J.from("profiles").select("full_name").eq("user_id",t.id).maybeSingle();a(!u&&c?c.full_name||t.email||"":t.email||"")}catch(c){console.error("Error fetching profile:",c),a(t.email||"")}};return v.useEffect(()=>{o();const c=J.channel("profile-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`user_id=eq.${t==null?void 0:t.id}`},()=>{o()}).subscribe();return()=>{J.removeChannel(c)}},[t]),s.jsxs(QP,{children:[s.jsx(Lde,{}),s.jsxs("div",{className:"min-h-screen flex w-full",children:[s.jsx(Rde,{}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center justify-between px-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx($w,{className:"lg:hidden"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Gs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-muted-foreground",children:r})]})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})]})}function Fde({children:e}){const r=fi().pathname.startsWith("/customer-")?"voxtro-customer-theme":"voxtro-admin-theme";return s.jsx(Dde,{defaultTheme:"dark",storageKey:r,children:e})}const Bde=()=>{const{user:e,loading:t}=Ht();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(Ks,{to:"/dashboard",replace:!0}):s.jsx(Ks,{to:"/auth",replace:!0})};var Ude="Label",vq=v.forwardRef((e,t)=>s.jsx(De.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vq.displayName=Ude;var xq=vq;const zde=lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=v.forwardRef(({className:e,...t},n)=>s.jsx(xq,{ref:n,className:me(zde(),e),...t}));Q.displayName=xq.displayName;const ar="/assets/voxtro-logo-BTHQL5eT.png";function qde(){var j;const{user:e,signUp:t,signIn:n,signInWithProvider:r,loading:a,session:i,resetPassword:o}=Ht(),{toast:l}=wn(),{resolvedTheme:c}=dw(),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[m,g]=v.useState(!1);if(console.log("Auth page - loading:",a,"user:",!!e,"session:",!!i),a)return console.log("Auth page showing loading..."),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(yt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})});if(!a&&e)return((j=e.user_metadata)==null?void 0:j.is_customer)===!0?(console.log("Auth page redirecting to customer portal - user is a customer"),s.jsx(Ks,{to:"/customer-login",replace:!0})):(console.log("Auth page redirecting to dashboard - user exists"),s.jsx(Ks,{to:"/dashboard",replace:!0}));const p=async _=>{_.preventDefault(),d(!0);const S=new FormData(_.currentTarget),N=S.get("email"),C=S.get("password"),k=S.get("confirmPassword"),D=S.get("fullName");if(C!==k){l({title:"Error",description:"Passwords do not match.",variant:"destructive"}),d(!1);return}const{error:I}=await t(N,C,D);l(I?{title:"Error",description:I.message,variant:"destructive"}:{title:"Success",description:"Please check your email to confirm your account."}),d(!1)},x=async _=>{_.preventDefault(),d(!0);const S=new FormData(_.currentTarget),N=S.get("email"),C=S.get("password"),{error:k}=await n(N,C);k&&l({title:"Error",description:k.message,variant:"destructive"}),d(!1)},y=async _=>{_.preventDefault(),d(!0);const N=new FormData(_.currentTarget).get("email"),{error:C}=await o(N);C?l({title:"Error",description:C.message,variant:"destructive"}):(l({title:"Success",description:"Password reset email sent. Please check your inbox."}),f(!1)),d(!1)},b=async _=>{const{error:S}=await r(_);S&&l({title:"Error",description:S.message,variant:"destructive"})};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-black relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center w-full px-12",children:[s.jsx("div",{className:"mb-8",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-24 drop-shadow-2xl"})}),s.jsx("h1",{className:"text-4xl font-normal text-white text-center",style:{fontFamily:"Montserrat, sans-serif"},children:"AI-Powered Customer Engagement"})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:s.jsx("img",{src:c==="dark"?ar:Wc,alt:"Voxtro",className:"h-16"})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:m?"Create your account":"Welcome back"}),s.jsx("p",{className:"mt-2 text-gray-600",children:m?"Start building amazing chatbots today":"Sign in to continue to your dashboard"})]}),m?s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"signup-name",className:"text-gray-700",children:"Full Name"}),s.jsx(le,{id:"signup-name",name:"fullName",type:"text",placeholder:"John Doe",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"signup-email",className:"text-gray-700",children:"Email"}),s.jsx(le,{id:"signup-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"signup-password",className:"text-gray-700",children:"Password"}),s.jsx(le,{id:"signup-password",name:"password",type:"password",placeholder:"Create a password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"signup-confirm-password",className:"text-gray-700",children:"Confirm Password"}),s.jsx(le,{id:"signup-confirm-password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",required:!0,minLength:6,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsx(Z,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium mt-2",disabled:u,children:u?"Creating account...":"Create account"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:()=>g(!1),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign in"})]})]}):s.jsxs(s.Fragment,{children:[h?s.jsxs("form",{onSubmit:y,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"reset-email",className:"text-gray-700",children:"Email"}),s.jsx(le,{id:"reset-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsx(Z,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e]",disabled:u,children:u?"Sending...":"Send reset link"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-sm text-gray-600 hover:text-gray-900",children:"Back to sign in"})]}):s.jsxs("form",{onSubmit:x,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"signin-email",className:"text-gray-700",children:"Email"}),s.jsx(le,{id:"signin-email",name:"email",type:"email",placeholder:"name@company.com",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"signin-password",className:"text-gray-700",children:"Password"}),s.jsx(le,{id:"signin-password",name:"password",type:"password",placeholder:"Enter your password",required:!0,className:"h-12 border-gray-300 focus:border-[#e45133] focus:ring-[#e45133]"})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-sm text-[#e45133] hover:text-[#cc472e] font-medium",children:"Forgot password?"})}),s.jsx(Z,{type:"submit",className:"w-full h-12 bg-[#e45133] hover:bg-[#cc472e] text-white font-medium",disabled:u,children:u?"Signing in...":"Sign in"}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-4 text-gray-500",children:"or continue with"})})]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:()=>b("google"),className:"w-full h-12 border-gray-300 hover:bg-gray-50",children:[s.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsxs("p",{className:"mt-8 text-center text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{type:"button",onClick:()=>g(!0),className:"font-semibold text-[#e45133] hover:text-[#cc472e]",children:"Sign up for free"})]})]}),s.jsxs("p",{className:"mt-8 text-center text-xs text-gray-500",children:["By continuing, you agree to our"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-[#e45133] hover:underline",children:"Privacy Policy"})]})]})})]})}const H=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));H.displayName="Card";const ne=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));ne.displayName="CardHeader";const re=v.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));re.displayName="CardTitle";const ye=v.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));ye.displayName="CardDescription";const Y=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));Y.displayName="CardContent";const Vde=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));Vde.displayName="CardFooter";function Wde(){const[e]=Koe(),t=ts(),{toast:n}=wn(),{resolvedTheme:r}=dw(),[a,i]=v.useState(!0),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[d,h]=v.useState(null),[f,m]=v.useState(""),[g,p]=v.useState(""),[x,y]=v.useState(!1),[b,j]=v.useState(!1),[_,S]=v.useState(!1),[N,C]=v.useState(!1),k=e.get("token_hash"),D=e.get("type"),I=e.get("next")||"/auth";v.useEffect(()=>{(async()=>{if(!k||!D){h("Invalid or missing verification parameters."),l(!1),i(!1);return}try{if(D==="recovery"){const{data:U,error:F}=await J.auth.verifyOtp({token_hash:k,type:"recovery"});F?(console.error("Token verification error:",F),h(F.message||"Failed to verify reset token. It may have expired."),u(!1)):U.session?(console.log("Token verified successfully"),u(!0)):(h("Unable to verify reset token."),u(!1))}else if(D==="signup"||D==="email_change"){const{error:U}=await J.auth.verifyOtp({token_hash:k,type:D==="signup"?"signup":"email_change"});if(U)h(U.message||"Failed to verify email.");else{n({title:"Email Verified",description:"Your email has been verified successfully."}),t(I);return}}else h("Unknown verification type.")}catch(U){console.error("Verification error:",U),h(U.message||"An unexpected error occurred.")}l(!1),i(!1)})()},[k,D,t,I,n]);const E=async L=>{if(L.preventDefault(),f!==g){n({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}if(f.length<6){n({title:"Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}S(!0);try{const{error:U}=await J.auth.updateUser({password:f});U?n({title:"Error",description:U.message,variant:"destructive"}):(C(!0),n({title:"Success",description:"Your password has been updated successfully."}),setTimeout(async()=>{await J.auth.signOut(),t("/auth")},2e3))}catch(U){n({title:"Error",description:U.message||"Failed to update password.",variant:"destructive"})}S(!1)};return a||o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifying your request..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?ar:Wc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(H,{className:"border-0 shadow-lg",children:[s.jsxs(ne,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Zne,{className:"h-12 w-12 text-destructive"})}),s.jsx(re,{className:"text-2xl",children:"Verification Failed"}),s.jsx(ye,{className:"text-destructive",children:d})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"The link may have expired or already been used. Please request a new password reset."}),s.jsx(Z,{onClick:()=>t("/auth"),className:"w-full",children:"Back to Sign In"})]})]})]})}):N?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?ar:Wc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(H,{className:"border-0 shadow-lg",children:[s.jsxs(ne,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Vr,{className:"h-12 w-12 text-green-500"})}),s.jsx(re,{className:"text-2xl",children:"Password Updated!"}),s.jsx(ye,{children:"Your password has been successfully changed."})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirecting you to the sign in page..."}),s.jsx(Z,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In Now"})]})]})]})}):c&&D==="recovery"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:r==="dark"?ar:Wc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(H,{className:"border-0 shadow-lg",children:[s.jsxs(ne,{className:"text-center",children:[s.jsx(re,{className:"text-2xl",children:"Set New Password"}),s.jsx(ye,{children:"Enter your new password below"})]}),s.jsxs(Y,{children:[s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"new-password",type:x?"text":"password",placeholder:"Enter your new password",value:f,onChange:L=>m(L.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:x?s.jsx(Mp,{className:"h-4 w-4"}):s.jsx(Sa,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirm-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm your new password",value:g,onChange:L=>p(L.target.value),required:!0,minLength:6,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>j(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:b?s.jsx(Mp,{className:"h-4 w-4"}):s.jsx(Sa,{className:"h-4 w-4"})})]})]}),f&&g&&f!==g&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"}),s.jsx(Z,{type:"submit",className:"w-full",disabled:_||!f||!g||f!==g,children:_?"Updating...":"Update Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:()=>t("/auth"),className:"text-sm text-muted-foreground hover:underline",children:"Back to Sign In"})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Something went wrong. Please try again."}),s.jsx(Z,{onClick:()=>t("/auth"),className:"mt-4",children:"Back to Sign In"})]})})}const Hde=lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...n}){return s.jsx("div",{className:me(Hde({variant:t}),e),...n})}function ot(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _s(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Nr(e,t){const n=ot(e);return isNaN(t)?_s(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function oi(e,t){const n=ot(e);if(isNaN(t))return _s(e,NaN);if(!t)return n;const r=n.getDate(),a=_s(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const tA=6048e5,Gde=864e5,yq=6e4,bq=36e5,_x=43200,pI=1440;let Kde={};function xf(){return Kde}function Ui(e,t){var l,c,u,d;const n=xf(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ot(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ou(e){return Ui(e,{weekStartsOn:1})}function wq(e){const t=ot(e),n=t.getFullYear(),r=_s(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=ou(r),i=_s(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=ou(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function jh(e){const t=ot(e);return t.setHours(0,0,0,0),t}function _h(e){const t=ot(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Mi(e,t){const n=jh(e),r=jh(t),a=+n-_h(n),i=+r-_h(r);return Math.round((a-i)/Gde)}function Yde(e){const t=wq(e),n=_s(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ou(n)}function SC(e,t){const n=t*7;return Nr(e,n)}function Jde(e,t){return oi(e,t*12)}function Xde(e){let t;return e.forEach(function(n){const r=ot(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Qde(e){let t;return e.forEach(n=>{const r=ot(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function jy(e,t){const n=ot(e),r=ot(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function nA(e){return _s(e,Date.now())}function Tr(e,t){const n=jh(e),r=jh(t);return+n==+r}function rA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zde(e){if(!rA(e)&&typeof e!="number")return!1;const t=ot(e);return!isNaN(Number(t))}function Nh(e,t){const n=ot(e),r=ot(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function ehe(e,t,n){const r=Ui(e,n),a=Ui(t,n),i=+r-_h(r),o=+a-_h(a);return Math.round((i-o)/tA)}function the(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function nhe(e,t){return+ot(e)-+ot(t)}function rhe(e){const t=ot(e);return t.setHours(23,59,59,999),t}function Rw(e){const t=ot(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function she(e){const t=ot(e);return+rhe(t)==+Rw(t)}function ahe(e,t){const n=ot(e),r=ot(t),a=jy(n,r),i=Math.abs(Nh(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=jy(n,r)===-a;she(ot(e))&&i===1&&jy(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function ihe(e,t,n){const r=nhe(e,t)/1e3;return the(n==null?void 0:n.roundingMethod)(r)}function vs(e){const t=ot(e);return t.setDate(1),t.setHours(0,0,0,0),t}function jq(e){const t=ot(e),n=_s(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function sA(e,t){var l,c,u,d;const n=xf(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ot(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function _q(e){return sA(e,{weekStartsOn:1})}const ohe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lhe=(e,t,n)=>{let r;const a=ohe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function u1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const che={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hhe={date:u1({formats:che,defaultWidth:"full"}),time:u1({formats:uhe,defaultWidth:"full"}),dateTime:u1({formats:dhe,defaultWidth:"full"})},fhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mhe=(e,t,n,r)=>fhe[e];function om(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const phe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ghe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},whe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jhe={ordinalNumber:whe,era:om({values:phe,defaultWidth:"wide"}),quarter:om({values:ghe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:om({values:vhe,defaultWidth:"wide"}),day:om({values:xhe,defaultWidth:"wide"}),dayPeriod:om({values:yhe,defaultWidth:"wide",formattingValues:bhe,defaultFormattingWidth:"wide"})};function lm(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Nhe(l,h=>h.test(o)):_he(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function _he(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Nhe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function She(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Che=/^(\d+)(th|st|nd|rd)?/i,khe=/\d+/i,Ehe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Phe={any:[/^b/i,/^(a|c)/i]},Ahe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},The={any:[/1/i,/2/i,/3/i,/4/i]},Ohe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ihe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$he={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lhe={ordinalNumber:She({matchPattern:Che,parsePattern:khe,valueCallback:e=>parseInt(e,10)}),era:lm({matchPatterns:Ehe,defaultMatchWidth:"wide",parsePatterns:Phe,defaultParseWidth:"any"}),quarter:lm({matchPatterns:Ahe,defaultMatchWidth:"wide",parsePatterns:The,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lm({matchPatterns:Ohe,defaultMatchWidth:"wide",parsePatterns:Mhe,defaultParseWidth:"any"}),day:lm({matchPatterns:Dhe,defaultMatchWidth:"wide",parsePatterns:Ihe,defaultParseWidth:"any"}),dayPeriod:lm({matchPatterns:$he,defaultMatchWidth:"any",parsePatterns:Rhe,defaultParseWidth:"any"})},aA={code:"en-US",formatDistance:lhe,formatLong:hhe,formatRelative:mhe,localize:jhe,match:Lhe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fhe(e){const t=ot(e);return Mi(t,jq(t))+1}function Nq(e){const t=ot(e),n=+ou(t)-+Yde(t);return Math.round(n/tA)+1}function Sq(e,t){var d,h,f,m;const n=ot(e),r=n.getFullYear(),a=xf(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(f=a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=_s(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Ui(o,t),c=_s(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ui(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Bhe(e,t){var l,c,u,d;const n=xf(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=Sq(e,t),i=_s(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Ui(i,t)}function Cq(e,t){const n=ot(e),r=+Ui(n,t)-+Bhe(n,t);return Math.round(r/tA)+1}function Vt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Go={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Vt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Vt(n+1,2)},d(e,t){return Vt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Vt(e.getHours()%12||12,t.length)},H(e,t){return Vt(e.getHours(),t.length)},m(e,t){return Vt(e.getMinutes(),t.length)},s(e,t){return Vt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Vt(a,t.length)}},Ju={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gI={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Go.y(e,t)},Y:function(e,t,n,r){const a=Sq(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Vt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Vt(i,t.length)},R:function(e,t){const n=wq(e);return Vt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Vt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Vt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Vt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Go.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Vt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Cq(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Vt(a,t.length)},I:function(e,t,n){const r=Nq(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Vt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Go.d(e,t)},D:function(e,t,n){const r=Fhe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Vt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Vt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Vt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Vt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Ju.noon:r===0?a=Ju.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Ju.evening:r>=12?a=Ju.afternoon:r>=4?a=Ju.morning:a=Ju.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Go.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Go.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Vt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Vt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Go.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Go.s(e,t)},S:function(e,t){return Go.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xI(r);case"XXXX":case"XX":return bc(r);case"XXXXX":case"XXX":default:return bc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xI(r);case"xxxx":case"xx":return bc(r);case"xxxxx":case"xxx":default:return bc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vI(r,":");case"OOOO":default:return"GMT"+bc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vI(r,":");case"zzzz":default:return"GMT"+bc(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Vt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Vt(r,t.length)}};function vI(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Vt(i,2)}function xI(e,t){return e%60===0?(e>0?"-":"+")+Vt(Math.abs(e)/60,2):bc(e,t)}function bc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Vt(Math.trunc(r/60),2),i=Vt(r%60,2);return n+a+t+i}const yI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kq=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Uhe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return yI(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",yI(r,t)).replace("{{time}}",kq(a,t))},zhe={p:kq,P:Uhe},qhe=/^D+$/,Vhe=/^Y+$/,Whe=["D","DD","YY","YYYY"];function Hhe(e){return qhe.test(e)}function Ghe(e){return Vhe.test(e)}function Khe(e,t,n){const r=Yhe(e,t,n);if(console.warn(r),Whe.includes(e))throw new RangeError(r)}function Yhe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qhe=/^'([^]*?)'?$/,Zhe=/''/g,efe=/[a-zA-Z]/;function pt(e,t,n){var d,h,f,m,g,p,x,y;const r=xf(),a=(n==null?void 0:n.locale)??r.locale??aA,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,l=ot(e);if(!Zde(l))throw new RangeError("Invalid time value");let c=t.match(Xhe).map(b=>{const j=b[0];if(j==="p"||j==="P"){const _=zhe[j];return _(b,a.formatLong)}return b}).join("").match(Jhe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const j=b[0];if(j==="'")return{isToken:!1,value:tfe(b)};if(gI[j])return{isToken:!0,value:b};if(j.match(efe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const j=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ghe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Hhe(j))&&Khe(j,t,String(e));const _=gI[j[0]];return _(l,j,a.localize,u)}).join("")}function tfe(e){const t=e.match(Qhe);return t?t[1].replace(Zhe,"'"):e}function nfe(e,t,n){const r=xf(),a=(n==null?void 0:n.locale)??r.locale??aA,i=2520,o=jy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=ot(t),u=ot(e)):(c=ot(e),u=ot(t));const d=ihe(u,c),h=(_h(u)-_h(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<pI){const g=Math.round(f/60);return a.formatDistance("aboutXHours",g,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<_x){const g=Math.round(f/pI);return a.formatDistance("xDays",g,l)}else if(f<_x*2)return m=Math.round(f/_x),a.formatDistance("aboutXMonths",m,l)}if(m=ahe(u,c),m<12){const g=Math.round(f/_x);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function bI(e,t){return nfe(e,nA(e),t)}function rfe(e){const t=ot(e),n=t.getFullYear(),r=t.getMonth(),a=_s(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function sfe(e){return Math.trunc(+ot(e)/1e3)}function afe(e){const t=ot(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function ife(e,t){return ehe(afe(e),vs(e),t)+1}function CC(e,t){const n=ot(e),r=ot(t);return n.getTime()>r.getTime()}function Eq(e,t){const n=ot(e),r=ot(t);return+n<+r}function Pq(e){return+ot(e)<Date.now()}function iA(e,t){const n=ot(e),r=ot(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ofe(e,t){const n=ot(e),r=ot(t);return n.getFullYear()===r.getFullYear()}function kC(e){return Tr(e,nA(e))}function lfe(e){return Tr(e,Nr(nA(e),1))}function d1(e,t){return Nr(e,-t)}function EC(e,t){const r=hfe(e);let a;if(r.date){const c=ffe(r.date,2);a=mfe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=pfe(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=gfe(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Nx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ufe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hfe(e){const t={},n=e.split(Nx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Nx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Nx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Nx.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function ffe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function mfe(e,t){if(t===null)return new Date(NaN);const n=e.match(cfe);if(!n)return new Date(NaN);const r=!!n[4],a=cm(n[1]),i=cm(n[2])-1,o=cm(n[3]),l=cm(n[4]),c=cm(n[5])-1;if(r)return wfe(t,l,c)?vfe(t,l,c):new Date(NaN);{const u=new Date(0);return!yfe(t,i,o)||!bfe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function cm(e){return e?parseInt(e):1}function pfe(e){const t=e.match(ufe);if(!t)return NaN;const n=h1(t[1]),r=h1(t[2]),a=h1(t[3]);return jfe(n,r,a)?n*bq+r*yq+a*1e3:NaN}function h1(e){return e&&parseFloat(e.replace(",","."))||0}function gfe(e){if(e==="Z")return 0;const t=e.match(dfe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return _fe(r,a)?n*(r*bq+a*yq):NaN}function vfe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const xfe=[31,null,31,30,31,30,31,31,30,31,30,31];function Aq(e){return e%400===0||e%4===0&&e%100!==0}function yfe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(xfe[t]||(Aq(e)?29:28))}function bfe(e,t){return t>=1&&t<=(Aq(e)?366:365)}function wfe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function jfe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function _fe(e,t){return t>=0&&t<=59}function f1(e,t){const n=ot(e),r=n.getFullYear(),a=n.getDate(),i=_s(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=rfe(i);return n.setMonth(t,Math.min(a,o)),n}function wI(e,t){const n=ot(e);return isNaN(+n)?_s(e,NaN):(n.setFullYear(t),n)}function Nfe(){const{user:e,loading:t}=Ht(),{toast:n}=wn(),r=ts(),[a,i]=v.useState({totalChatbots:0,activeChatbots:0,totalConversations:0,totalMessages:0,totalVoiceAssistants:0,totalVoiceCalls:0,totalCallMinutes:0,avgMessagesPerConversation:0,avgCallDuration:0,totalWhatsAppAgents:0,activeWhatsAppAgents:0,totalWhatsAppConversations:0,totalWhatsAppMessages:0,totalCustomers:0,openTickets:0}),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,h]=v.useState(!0),f=async()=>{if(!(e!=null&&e.id)){h(!1);return}try{const{data:b,error:j}=await J.from("chatbots").select("id, is_active").eq("user_id",e.id);if(j)throw j;const _=(b==null?void 0:b.length)||0,S=(b==null?void 0:b.filter(V=>V.is_active).length)||0,N=(b==null?void 0:b.map(V=>V.id))||[];let C=0;if(N.length>0){const{count:V,error:se}=await J.from("conversations").select("*",{count:"exact",head:!0}).in("chatbot_id",N);if(se)throw se;C=V||0}let k=0;if(N.length>0){const{count:V,error:se}=await J.from("messages").select("id, conversations!inner(chatbot_id)",{count:"exact",head:!0}).in("conversations.chatbot_id",N);if(se)throw se;k=V||0}const{data:D,error:I}=await J.from("voice_assistants").select("id, name, org_id").eq("user_id",e.id);if(I)throw I;const E=(D==null?void 0:D.length)||0,L=(D==null?void 0:D.map(V=>V.id))||[];u(D||[]);let U=0,F=0,$=0;if(L.length>0){const{data:V,error:se}=await J.from("voice_assistant_calls").select("duration_seconds, status").in("assistant_id",L);if(se)throw se;if(U=(V==null?void 0:V.length)||0,V&&V.length>0){const ee=V.filter(Se=>Se.duration_seconds!=null&&Se.duration_seconds>0),ge=ee.reduce((Se,ze)=>Se+(ze.duration_seconds||0),0);F=ee.length>0?Math.round(ge/ee.length):0,$=Math.round(ge/60)}}const{data:M,error:O}=await J.from("whatsapp_agents").select("id, status").eq("user_id",e.id);if(O)throw O;const R=(M==null?void 0:M.length)||0,B=(M==null?void 0:M.filter(V=>V.status==="active").length)||0,T=(M==null?void 0:M.map(V=>V.id))||[];let G=0;if(T.length>0){const{count:V,error:se}=await J.from("whatsapp_conversations").select("*",{count:"exact",head:!0}).in("agent_id",T);if(se)throw se;G=V||0}let W=0;if(T.length>0){const{count:V,error:se}=await J.from("whatsapp_messages").select("id, whatsapp_conversations!inner(agent_id)",{count:"exact",head:!0}).in("whatsapp_conversations.agent_id",T);if(se)throw se;W=V||0}const{count:w,error:A}=await J.from("customers").select("*",{count:"exact",head:!0});if(A)throw A;const{count:P,error:z}=await J.from("support_tickets").select("*",{count:"exact",head:!0}).eq("user_id",e.id).in("status",["open","in_progress"]);if(z)throw z;const{data:q,error:te}=await J.from("voice_assistant_tasks").select("*").eq("user_id",e.id).in("status",["pending","in-progress"]).order("due_date",{ascending:!0,nullsFirst:!1}).limit(5);if(te)throw te;l(q||[]);const X=C>0?Math.round(k/C):0;i({totalChatbots:_,activeChatbots:S,totalConversations:C,totalMessages:k,totalVoiceAssistants:E,totalVoiceCalls:U,totalCallMinutes:$,avgMessagesPerConversation:X,avgCallDuration:F,totalWhatsAppAgents:R,activeWhatsAppAgents:B,totalWhatsAppConversations:G,totalWhatsAppMessages:W,totalCustomers:w||0,openTickets:P||0})}catch(b){console.error("Error fetching stats:",b),n({title:"Error",description:"Failed to load dashboard statistics",variant:"destructive"})}finally{h(!1)}};v.useEffect(()=>{if(!t&&!(e!=null&&e.id)){h(!1);return}if(e!=null&&e.id&&!t){f();const b=J.channel("dashboard-chatbots").on("postgres_changes",{event:"*",schema:"public",table:"chatbots"},f).subscribe(),j=J.channel("dashboard-conversations").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},f).subscribe(),_=J.channel("dashboard-messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},f).subscribe(),S=J.channel("dashboard-assistants").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistants"},f).subscribe(),N=J.channel("dashboard-calls").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls"},f).subscribe(),C=J.channel("dashboard-tasks").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_tasks"},f).subscribe(),k=J.channel("dashboard-whatsapp-agents").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_agents"},f).subscribe(),D=J.channel("dashboard-whatsapp-conversations").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},f).subscribe(),I=J.channel("dashboard-whatsapp-messages").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_messages"},f).subscribe();return()=>{J.removeChannel(b),J.removeChannel(j),J.removeChannel(_),J.removeChannel(S),J.removeChannel(N),J.removeChannel(C),J.removeChannel(k),J.removeChannel(D),J.removeChannel(I)}}},[e==null?void 0:e.id,t]);const m=b=>{const j=c.find(_=>_.id===b);return(j==null?void 0:j.name)||"Unknown Assistant"},g=b=>{switch(b){case"urgent":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},p=b=>{switch(b){case"completed":return s.jsx(ti,{className:"h-4 w-4 text-green-500"});case"in-progress":return s.jsx(It,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(ei,{className:"h-4 w-4 text-muted-foreground"})}},x=b=>{if(!b)return null;const j=EC(b);return Pq(j)&&!kC(j)?{label:"Overdue",className:"text-destructive"}:kC(j)?{label:"Today",className:"text-primary"}:lfe(j)?{label:"Tomorrow",className:"text-yellow-600"}:{label:pt(j,"MMM d"),className:"text-muted-foreground"}},y=b=>{if(b<60)return`${b}s`;const j=Math.floor(b/60);if(j<60)return`${j}m`;const _=Math.floor(j/60),S=j%60;return`${_}h ${S}m`};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gh,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading..."})]})}):!t&&!e?s.jsx(Ks,{to:"/auth",replace:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overview of your AI agents and platform activity"})]}),d?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[...Array(6)].map((b,j)=>s.jsx("div",{className:"h-20 bg-muted rounded-lg animate-pulse"},j))})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[s.jsx(H,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/chatbots"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(yt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalChatbots})]})]})}),s.jsx(H,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/voice-assistants"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-5/10 rounded-lg",children:s.jsx(Ot,{className:"h-4 w-4 text-chart-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice Assistants"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalVoiceAssistants})]})]})}),s.jsx(H,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/whatsapp-agents"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppAgents})]})]})}),s.jsx(H,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/customers"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-2/10 rounded-lg",children:s.jsx(Gn,{className:"h-4 w-4 text-chart-2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers"}),s.jsx("p",{className:"text-xl font-bold",children:a.totalCustomers})]})]})}),s.jsx(H,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/support-tickets"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsx(ma,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Tickets"}),s.jsx("p",{className:"text-xl font-bold",children:a.openTickets})]})]})}),s.jsx(H,{className:"p-4 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>r("/voice-tasks"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-3/10 rounded-lg",children:s.jsx(Dr,{className:"h-4 w-4 text-chart-3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Tasks"}),s.jsx("p",{className:"text-xl font-bold",children:o.length})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4 text-primary"}),s.jsx(re,{className:"text-base",children:"Chatbots"})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r("/chatbots"),children:s.jsx(Ja,{className:"h-4 w-4"})})]})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalMessages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active"}),s.jsxs("span",{className:"font-medium",children:[a.activeChatbots," / ",a.totalChatbots]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.avgMessagesPerConversation})]})]})]})]}),s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-chart-5"}),s.jsx(re,{className:"text-base",children:"Voice Assistants"})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r("/voice-assistants"),children:s.jsx(Ja,{className:"h-4 w-4"})})]})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalVoiceCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalCallMinutes}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minutes"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:a.totalVoiceAssistants})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg duration"}),s.jsx("span",{className:"font-medium",children:y(a.avgCallDuration)})]})]})]})]}),s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4 text-green-500"}),s.jsx(re,{className:"text-base",children:"WhatsApp Agents"})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>r("/whatsapp-agents"),children:s.jsx(Ja,{className:"h-4 w-4"})})]})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:a.totalWhatsAppMessages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active agents"}),s.jsxs("span",{className:"font-medium",children:[a.activeWhatsAppAgents," / ",a.totalWhatsAppAgents]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg msgs/conv"}),s.jsx("span",{className:"font-medium",children:a.totalWhatsAppConversations>0?Math.round(a.totalWhatsAppMessages/a.totalWhatsAppConversations):0})]})]})]})]})]}),s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4 text-chart-3"}),s.jsx(re,{className:"text-base",children:"Upcoming Tasks"})]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>r("/voice-tasks"),children:["View All",s.jsx(Ja,{className:"h-4 w-4 ml-1"})]})]})}),s.jsx(Y,{children:o.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(ti,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No pending tasks"}),s.jsx(Z,{variant:"link",size:"sm",onClick:()=>r("/voice-tasks"),className:"mt-1",children:"Create a task"})]}):s.jsx("div",{className:"space-y-2",children:o.map(b=>{const j=x(b.due_date);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>r("/voice-tasks"),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[p(b.status),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:b.title}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:m(b.assistant_id)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Pe,{variant:g(b.priority),className:"capitalize text-xs",children:b.priority}),j&&s.jsx("span",{className:`text-xs font-medium ${j.className}`,children:j.label})]})]},b.id)})})})]})]})]})}var Sfe=Array.isArray,Ss=Sfe,Cfe=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn,Tq=Cfe,kfe=Tq,Efe=typeof self=="object"&&self&&self.Object===Object&&self,Pfe=kfe||Efe||Function("return this")(),Hi=Pfe,Afe=Hi,Tfe=Afe.Symbol,mv=Tfe,jI=mv,Oq=Object.prototype,Ofe=Oq.hasOwnProperty,Mfe=Oq.toString,um=jI?jI.toStringTag:void 0;function Dfe(e){var t=Ofe.call(e,um),n=e[um];try{e[um]=void 0;var r=!0}catch{}var a=Mfe.call(e);return r&&(t?e[um]=n:delete e[um]),a}var Ife=Dfe,$fe=Object.prototype,Rfe=$fe.toString;function Lfe(e){return Rfe.call(e)}var Ffe=Lfe,_I=mv,Bfe=Ife,Ufe=Ffe,zfe="[object Null]",qfe="[object Undefined]",NI=_I?_I.toStringTag:void 0;function Vfe(e){return e==null?e===void 0?qfe:zfe:NI&&NI in Object(e)?Bfe(e):Ufe(e)}var Do=Vfe;function Wfe(e){return e!=null&&typeof e=="object"}var Io=Wfe,Hfe=Do,Gfe=Io,Kfe="[object Symbol]";function Yfe(e){return typeof e=="symbol"||Gfe(e)&&Hfe(e)==Kfe}var yf=Yfe,Jfe=Ss,Xfe=yf,Qfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zfe=/^\w*$/;function eme(e,t){if(Jfe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Xfe(e)?!0:Zfe.test(e)||!Qfe.test(e)||t!=null&&e in Object(t)}var oA=eme;function tme(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var tc=tme;const bf=qt(tc);var nme=Do,rme=tc,sme="[object AsyncFunction]",ame="[object Function]",ime="[object GeneratorFunction]",ome="[object Proxy]";function lme(e){if(!rme(e))return!1;var t=nme(e);return t==ame||t==ime||t==sme||t==ome}var lA=lme;const jt=qt(lA);var cme=Hi,ume=cme["__core-js_shared__"],dme=ume,m1=dme,SI=function(){var e=/[^.]+$/.exec(m1&&m1.keys&&m1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hme(e){return!!SI&&SI in e}var fme=hme,mme=Function.prototype,pme=mme.toString;function gme(e){if(e!=null){try{return pme.call(e)}catch{}try{return e+""}catch{}}return""}var Mq=gme,vme=lA,xme=fme,yme=tc,bme=Mq,wme=/[\\^$.*+?()[\]{}|]/g,jme=/^\[object .+?Constructor\]$/,_me=Function.prototype,Nme=Object.prototype,Sme=_me.toString,Cme=Nme.hasOwnProperty,kme=RegExp("^"+Sme.call(Cme).replace(wme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Eme(e){if(!yme(e)||xme(e))return!1;var t=vme(e)?kme:jme;return t.test(bme(e))}var Pme=Eme;function Ame(e,t){return e==null?void 0:e[t]}var Tme=Ame,Ome=Pme,Mme=Tme;function Dme(e,t){var n=Mme(e,t);return Ome(n)?n:void 0}var Pu=Dme,Ime=Pu,$me=Ime(Object,"create"),Lw=$me,CI=Lw;function Rme(){this.__data__=CI?CI(null):{},this.size=0}var Lme=Rme;function Fme(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Bme=Fme,Ume=Lw,zme="__lodash_hash_undefined__",qme=Object.prototype,Vme=qme.hasOwnProperty;function Wme(e){var t=this.__data__;if(Ume){var n=t[e];return n===zme?void 0:n}return Vme.call(t,e)?t[e]:void 0}var Hme=Wme,Gme=Lw,Kme=Object.prototype,Yme=Kme.hasOwnProperty;function Jme(e){var t=this.__data__;return Gme?t[e]!==void 0:Yme.call(t,e)}var Xme=Jme,Qme=Lw,Zme="__lodash_hash_undefined__";function epe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qme&&t===void 0?Zme:t,this}var tpe=epe,npe=Lme,rpe=Bme,spe=Hme,ape=Xme,ipe=tpe;function wf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wf.prototype.clear=npe;wf.prototype.delete=rpe;wf.prototype.get=spe;wf.prototype.has=ape;wf.prototype.set=ipe;var ope=wf;function lpe(){this.__data__=[],this.size=0}var cpe=lpe;function upe(e,t){return e===t||e!==e&&t!==t}var cA=upe,dpe=cA;function hpe(e,t){for(var n=e.length;n--;)if(dpe(e[n][0],t))return n;return-1}var Fw=hpe,fpe=Fw,mpe=Array.prototype,ppe=mpe.splice;function gpe(e){var t=this.__data__,n=fpe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ppe.call(t,n,1),--this.size,!0}var vpe=gpe,xpe=Fw;function ype(e){var t=this.__data__,n=xpe(t,e);return n<0?void 0:t[n][1]}var bpe=ype,wpe=Fw;function jpe(e){return wpe(this.__data__,e)>-1}var _pe=jpe,Npe=Fw;function Spe(e,t){var n=this.__data__,r=Npe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Cpe=Spe,kpe=cpe,Epe=vpe,Ppe=bpe,Ape=_pe,Tpe=Cpe;function jf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jf.prototype.clear=kpe;jf.prototype.delete=Epe;jf.prototype.get=Ppe;jf.prototype.has=Ape;jf.prototype.set=Tpe;var Bw=jf,Ope=Pu,Mpe=Hi,Dpe=Ope(Mpe,"Map"),uA=Dpe,kI=ope,Ipe=Bw,$pe=uA;function Rpe(){this.size=0,this.__data__={hash:new kI,map:new($pe||Ipe),string:new kI}}var Lpe=Rpe;function Fpe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Bpe=Fpe,Upe=Bpe;function zpe(e,t){var n=e.__data__;return Upe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Uw=zpe,qpe=Uw;function Vpe(e){var t=qpe(this,e).delete(e);return this.size-=t?1:0,t}var Wpe=Vpe,Hpe=Uw;function Gpe(e){return Hpe(this,e).get(e)}var Kpe=Gpe,Ype=Uw;function Jpe(e){return Ype(this,e).has(e)}var Xpe=Jpe,Qpe=Uw;function Zpe(e,t){var n=Qpe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var ege=Zpe,tge=Lpe,nge=Wpe,rge=Kpe,sge=Xpe,age=ege;function _f(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_f.prototype.clear=tge;_f.prototype.delete=nge;_f.prototype.get=rge;_f.prototype.has=sge;_f.prototype.set=age;var dA=_f,Dq=dA,ige="Expected a function";function hA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ige);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(hA.Cache||Dq),n}hA.Cache=Dq;var Iq=hA;const oge=qt(Iq);var lge=Iq,cge=500;function uge(e){var t=lge(e,function(r){return n.size===cge&&n.clear(),r}),n=t.cache;return t}var dge=uge,hge=dge,fge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mge=/\\(\\)?/g,pge=hge(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fge,function(n,r,a,i){t.push(a?i.replace(mge,"$1"):r||n)}),t}),gge=pge;function vge(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var fA=vge,EI=mv,xge=fA,yge=Ss,bge=yf,wge=1/0,PI=EI?EI.prototype:void 0,AI=PI?PI.toString:void 0;function $q(e){if(typeof e=="string")return e;if(yge(e))return xge(e,$q)+"";if(bge(e))return AI?AI.call(e):"";var t=e+"";return t=="0"&&1/e==-wge?"-0":t}var jge=$q,_ge=jge;function Nge(e){return e==null?"":_ge(e)}var Rq=Nge,Sge=Ss,Cge=oA,kge=gge,Ege=Rq;function Pge(e,t){return Sge(e)?e:Cge(e,t)?[e]:kge(Ege(e))}var Lq=Pge,Age=yf,Tge=1/0;function Oge(e){if(typeof e=="string"||Age(e))return e;var t=e+"";return t=="0"&&1/e==-Tge?"-0":t}var zw=Oge,Mge=Lq,Dge=zw;function Ige(e,t){t=Mge(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Dge(t[n++])];return n&&n==r?e:void 0}var mA=Ige,$ge=mA;function Rge(e,t,n){var r=e==null?void 0:$ge(e,t);return r===void 0?n:r}var Fq=Rge;const ya=qt(Fq);function Lge(e){return e==null}var Fge=Lge;const Nt=qt(Fge);var Bge=Do,Uge=Ss,zge=Io,qge="[object String]";function Vge(e){return typeof e=="string"||!Uge(e)&&zge(e)&&Bge(e)==qge}var Wge=Vge;const pv=qt(Wge);var Bq={exports:{}},Gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA=Symbol.for("react.element"),gA=Symbol.for("react.portal"),qw=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Hge=Symbol.for("react.server_context"),Kw=Symbol.for("react.forward_ref"),Yw=Symbol.for("react.suspense"),Jw=Symbol.for("react.suspense_list"),Xw=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),Gge=Symbol.for("react.offscreen"),Uq;Uq=Symbol.for("react.module.reference");function Pa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pA:switch(e=e.type,e){case qw:case Ww:case Vw:case Yw:case Jw:return e;default:switch(e=e&&e.$$typeof,e){case Hge:case Gw:case Kw:case Qw:case Xw:case Hw:return e;default:return t}}case gA:return t}}}Gt.ContextConsumer=Gw;Gt.ContextProvider=Hw;Gt.Element=pA;Gt.ForwardRef=Kw;Gt.Fragment=qw;Gt.Lazy=Qw;Gt.Memo=Xw;Gt.Portal=gA;Gt.Profiler=Ww;Gt.StrictMode=Vw;Gt.Suspense=Yw;Gt.SuspenseList=Jw;Gt.isAsyncMode=function(){return!1};Gt.isConcurrentMode=function(){return!1};Gt.isContextConsumer=function(e){return Pa(e)===Gw};Gt.isContextProvider=function(e){return Pa(e)===Hw};Gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pA};Gt.isForwardRef=function(e){return Pa(e)===Kw};Gt.isFragment=function(e){return Pa(e)===qw};Gt.isLazy=function(e){return Pa(e)===Qw};Gt.isMemo=function(e){return Pa(e)===Xw};Gt.isPortal=function(e){return Pa(e)===gA};Gt.isProfiler=function(e){return Pa(e)===Ww};Gt.isStrictMode=function(e){return Pa(e)===Vw};Gt.isSuspense=function(e){return Pa(e)===Yw};Gt.isSuspenseList=function(e){return Pa(e)===Jw};Gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qw||e===Ww||e===Vw||e===Yw||e===Jw||e===Gge||typeof e=="object"&&e!==null&&(e.$$typeof===Qw||e.$$typeof===Xw||e.$$typeof===Hw||e.$$typeof===Gw||e.$$typeof===Kw||e.$$typeof===Uq||e.getModuleId!==void 0)};Gt.typeOf=Pa;Bq.exports=Gt;var zq=Bq.exports,Kge=Do,Yge=Io,Jge="[object Number]";function Xge(e){return typeof e=="number"||Yge(e)&&Kge(e)==Jge}var qq=Xge;const Qge=qt(qq);var Zge=qq;function eve(e){return Zge(e)&&e!=+e}var tve=eve;const gv=qt(tve);var Xa=function(t){return t===0?0:t>0?1:-1},Ac=function(t){return pv(t)&&t.indexOf("%")===t.length-1},Ae=function(t){return Qge(t)&&!gv(t)},Hn=function(t){return Ae(t)||pv(t)},nve=0,vv=function(t){var n=++nve;return"".concat(t||"").concat(n)},lu=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&!pv(t))return r;var i;if(Ac(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return gv(i)&&(i=r),a&&i>n&&(i=n),i},dl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},rve=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Ka=function(t,n){return Ae(t)&&Ae(n)?function(r){return t+r*(n-t)}:function(){return n}};function bb(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ya(r,t))===n})}function Rd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function PC(e){"@babel/helpers - typeof";return PC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PC(e)}var sve=["viewBox","children"],ave=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TI=["points","pathLength"],p1={svg:sve,polygon:TI,polyline:TI},vA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wb=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),!bf(r))return null;var a={};return Object.keys(r).forEach(function(i){vA.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},ive=function(t,n,r){return function(a){return t(n,r,a),null}},jb=function(t,n,r){if(!bf(t)||PC(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];vA.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=ive(o,n,r))}),a},ove=["children"],lve=["children"];function OI(e,t){if(e==null)return{};var n=cve(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function AC(e){"@babel/helpers - typeof";return AC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AC(e)}var MI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},go=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},DI=null,g1=null,xA=function e(t){if(t===DI&&Array.isArray(g1))return g1;var n=[];return v.Children.forEach(t,function(r){Nt(r)||(zq.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),g1=n,DI=t,n};function ba(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return go(a)}):r=[go(t)],xA(e).forEach(function(a){var i=ya(a,"type.displayName")||ya(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function $s(e,t){var n=ba(e,t);return n&&n[0]}var II=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Ae(r)||r<=0||!Ae(a)||a<=0)},uve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dve=function(t){return t&&t.type&&pv(t.type)&&uve.indexOf(t.type)>=0},hve=function(t){return t&&AC(t)==="object"&&"clipDot"in t},fve=function(t,n,r,a){var i,o=(i=p1==null?void 0:p1[a])!==null&&i!==void 0?i:[];return!jt(t)&&(a&&o.includes(n)||ave.includes(n))||r&&vA.includes(n)},Pt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!bf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;fve((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},TC=function e(t,n){if(t===n)return!0;var r=v.Children.count(t);if(r!==v.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $I(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!$I(i,o))return!1}return!0},$I=function(t,n){if(Nt(t)&&Nt(n))return!0;if(!Nt(t)&&!Nt(n)){var r=t.props||{},a=r.children,i=OI(r,ove),o=n.props||{},l=o.children,c=OI(o,lve);return a&&l?Rd(i,c)&&TC(a,l):!a&&!l?Rd(i,c):!1}return!1},RI=function(t,n){var r=[],a={};return xA(t).forEach(function(i,o){if(dve(i))r.push(i);else if(i){var l=go(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);r.push(h),a[l]=!0}}}),r},mve=function(t){var n=t&&t.type;return n&&MI[n]?MI[n]:null},pve=function(t,n){return xA(n).indexOf(t)},gve=["children","width","height","viewBox","className","style","title","desc"];function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}function vve(e,t){if(e==null)return{};var n=xve(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function MC(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=vve(e,gve),d=a||{width:n,height:r,x:0,y:0},h=At("recharts-surface",i);return K.createElement("svg",OC({},Pt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),K.createElement("title",null,l),K.createElement("desc",null,c),t)}var yve=["children","className"];function DC(){return DC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC.apply(this,arguments)}function bve(e,t){if(e==null)return{};var n=wve(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Dn=K.forwardRef(function(e,t){var n=e.children,r=e.className,a=bve(e,yve),i=At("recharts-layer",r);return K.createElement("g",DC({className:i},Pt(a,!0),{ref:t}),n)}),vo=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function jve(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var _ve=jve,Nve=_ve;function Sve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Nve(e,t,n)}var Cve=Sve,kve="\\ud800-\\udfff",Eve="\\u0300-\\u036f",Pve="\\ufe20-\\ufe2f",Ave="\\u20d0-\\u20ff",Tve=Eve+Pve+Ave,Ove="\\ufe0e\\ufe0f",Mve="\\u200d",Dve=RegExp("["+Mve+kve+Tve+Ove+"]");function Ive(e){return Dve.test(e)}var Vq=Ive;function $ve(e){return e.split("")}var Rve=$ve,Wq="\\ud800-\\udfff",Lve="\\u0300-\\u036f",Fve="\\ufe20-\\ufe2f",Bve="\\u20d0-\\u20ff",Uve=Lve+Fve+Bve,zve="\\ufe0e\\ufe0f",qve="["+Wq+"]",IC="["+Uve+"]",$C="\\ud83c[\\udffb-\\udfff]",Vve="(?:"+IC+"|"+$C+")",Hq="[^"+Wq+"]",Gq="(?:\\ud83c[\\udde6-\\uddff]){2}",Kq="[\\ud800-\\udbff][\\udc00-\\udfff]",Wve="\\u200d",Yq=Vve+"?",Jq="["+zve+"]?",Hve="(?:"+Wve+"(?:"+[Hq,Gq,Kq].join("|")+")"+Jq+Yq+")*",Gve=Jq+Yq+Hve,Kve="(?:"+[Hq+IC+"?",IC,Gq,Kq,qve].join("|")+")",Yve=RegExp($C+"(?="+$C+")|"+Kve+Gve,"g");function Jve(e){return e.match(Yve)||[]}var Xve=Jve,Qve=Rve,Zve=Vq,exe=Xve;function txe(e){return Zve(e)?exe(e):Qve(e)}var nxe=txe,rxe=Cve,sxe=Vq,axe=nxe,ixe=Rq;function oxe(e){return function(t){t=ixe(t);var n=sxe(t)?axe(t):void 0,r=n?n[0]:t.charAt(0),a=n?rxe(n,1).join(""):t.slice(1);return r[e]()+a}}var lxe=oxe,cxe=lxe,uxe=cxe("toUpperCase"),dxe=uxe;const Zw=qt(dxe);function cn(e){return function(){return e}}const Xq=Math.cos,_b=Math.sin,pi=Math.sqrt,Nb=Math.PI,ej=2*Nb,RC=Math.PI,LC=2*RC,wc=1e-6,hxe=LC-wc;function Qq(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fxe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qq;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class mxe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Qq:fxe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,h=l-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>wc)if(!(Math.abs(h*c-u*d)>wc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,p=c*c+u*u,x=m*m+g*g,y=Math.sqrt(p),b=Math.sqrt(f),j=i*Math.tan((RC-Math.acos((p+f-x)/(2*y*b)))/2),_=j/b,S=j/y;Math.abs(_-1)>wc&&this._append`L${t+_*d},${n+_*h}`,this._append`A${i},${i},0,0,${+(h*m>d*g)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>wc||Math.abs(this._y1-d)>wc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%LC+LC),f>hxe?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>wc&&this._append`A${r},${r},0,${+(f>=RC)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function yA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mxe(t)}function bA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zq(e){this._context=e}Zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tj(e){return new Zq(e)}function eV(e){return e[0]}function tV(e){return e[1]}function nV(e,t){var n=cn(!0),r=null,a=tj,i=null,o=yA(l);e=typeof e=="function"?e:e===void 0?eV:cn(e),t=typeof t=="function"?t:t===void 0?tV:cn(t);function l(c){var u,d=(c=bA(c)).length,h,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:cn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:cn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:cn(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Sx(e,t,n){var r=null,a=cn(!0),i=null,o=tj,l=null,c=yA(u);e=typeof e=="function"?e:e===void 0?eV:cn(+e),t=typeof t=="function"?t:cn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tV:cn(+n);function u(h){var f,m,g,p=(h=bA(h)).length,x,y=!1,b,j=new Array(p),_=new Array(p);for(i==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&a(x=h[f],f,h))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(j[g],_[g]);l.lineEnd(),l.areaEnd()}y&&(j[f]=+e(x,f,h),_[f]=+t(x,f,h),l.point(r?+r(x,f,h):j[f],n?+n(x,f,h):_[f]))}if(b)return l=null,b+""||null}function d(){return nV().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:cn(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:cn(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:cn(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:cn(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:cn(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:cn(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:cn(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class rV{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function pxe(e){return new rV(e,!0)}function gxe(e){return new rV(e,!1)}const wA={draw(e,t){const n=pi(t/Nb);e.moveTo(n,0),e.arc(0,0,n,0,ej)}},vxe={draw(e,t){const n=pi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},sV=pi(1/3),xxe=sV*2,yxe={draw(e,t){const n=pi(t/xxe),r=n*sV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},bxe={draw(e,t){const n=pi(t),r=-n/2;e.rect(r,r,n,n)}},wxe=.8908130915292852,aV=_b(Nb/10)/_b(7*Nb/10),jxe=_b(ej/10)*aV,_xe=-Xq(ej/10)*aV,Nxe={draw(e,t){const n=pi(t*wxe),r=jxe*n,a=_xe*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=ej*i/5,l=Xq(o),c=_b(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},v1=pi(3),Sxe={draw(e,t){const n=-pi(t/(v1*3));e.moveTo(0,n*2),e.lineTo(-v1*n,-n),e.lineTo(v1*n,-n),e.closePath()}},ra=-.5,sa=pi(3)/2,FC=1/pi(12),Cxe=(FC/2+1)*3,kxe={draw(e,t){const n=pi(t/Cxe),r=n/2,a=n*FC,i=r,o=n*FC+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ra*r-sa*a,sa*r+ra*a),e.lineTo(ra*i-sa*o,sa*i+ra*o),e.lineTo(ra*l-sa*c,sa*l+ra*c),e.lineTo(ra*r+sa*a,ra*a-sa*r),e.lineTo(ra*i+sa*o,ra*o-sa*i),e.lineTo(ra*l+sa*c,ra*c-sa*l),e.closePath()}};function Exe(e,t){let n=null,r=yA(a);e=typeof e=="function"?e:cn(e||wA),t=typeof t=="function"?t:cn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:cn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:cn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Sb(){}function Cb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function iV(e){this._context=e}iV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pxe(e){return new iV(e)}function oV(e){this._context=e}oV.prototype={areaStart:Sb,areaEnd:Sb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Axe(e){return new oV(e)}function lV(e){this._context=e}lV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Txe(e){return new lV(e)}function cV(e){this._context=e}cV.prototype={areaStart:Sb,areaEnd:Sb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Oxe(e){return new cV(e)}function LI(e){return e<0?-1:1}function FI(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(LI(i)+LI(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function BI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function x1(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function kb(e){this._context=e}kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x1(this,this._t0,BI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,x1(this,BI(this,n=FI(this,e,t)),n);break;default:x1(this,this._t0,n=FI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uV(e){this._context=new dV(e)}(uV.prototype=Object.create(kb.prototype)).point=function(e,t){kb.prototype.point.call(this,t,e)};function dV(e){this._context=e}dV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function Mxe(e){return new kb(e)}function Dxe(e){return new uV(e)}function hV(e){this._context=e}hV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=UI(e),a=UI(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UI(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Ixe(e){return new hV(e)}function nj(e,t){this._context=e,this._t=t}nj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $xe(e){return new nj(e,.5)}function Rxe(e){return new nj(e,0)}function Lxe(e){return new nj(e,1)}function Sh(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function BC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Fxe(e,t){return e[t]}function Bxe(e){const t=[];return t.key=e,t}function Uxe(){var e=cn([]),t=BC,n=Sh,r=Fxe;function a(i){var o=Array.from(e.apply(this,arguments),Bxe),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,i)]).data=h;for(l=0,d=bA(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:cn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:cn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?BC:typeof i=="function"?i:cn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Sh,a):n},a}function zxe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Sh(e,t)}}function qxe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Sh(e,t)}}function Vxe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,g=0;g<l;++g){var p=e[t[g]],x=p[r][1]||0,y=p[r-1][1]||0;m+=x-y}c+=h,u+=m*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,Sh(e,t)}}function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}var Wxe=["type","size","sizeType"];function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UC.apply(this,arguments)}function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){Hxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hxe(e,t,n){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gxe(e){var t=Kxe(e,"string");return Wp(t)=="symbol"?t:t+""}function Kxe(e,t){if(Wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yxe(e,t){if(e==null)return{};var n=Jxe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var fV={symbolCircle:wA,symbolCross:vxe,symbolDiamond:yxe,symbolSquare:bxe,symbolStar:Nxe,symbolTriangle:Sxe,symbolWye:kxe},Xxe=Math.PI/180,Qxe=function(t){var n="symbol".concat(Zw(t));return fV[n]||wA},Zxe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Xxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},eye=function(t,n){fV["symbol".concat(Zw(t))]=n},jA=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Yxe(t,Wxe),u=qI(qI({},c),{},{type:r,size:i,sizeType:l}),d=function(){var x=Qxe(r),y=Exe().type(x).size(Zxe(i,l,r));return y()},h=u.className,f=u.cx,m=u.cy,g=Pt(u,!0);return f===+f&&m===+m&&i===+i?K.createElement("path",UC({},g,{className:At("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:d()})):null};jA.registerSymbol=eye;function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function zC(){return zC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zC.apply(this,arguments)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){Hp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pV(r.key),r)}}function sye(e,t,n){return t&&rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aye(e,t,n){return t=Eb(t),iye(e,mV()?Reflect.construct(t,n||[],Eb(e).constructor):t.apply(e,n))}function iye(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oye(e)}function oye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eb(e)}function lye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qC(e,t)}function Hp(e,t,n){return t=pV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=cye(e,"string");return Ch(t)=="symbol"?t:t+""}function cye(e,t){if(Ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aa=32,_A=function(e){function t(){return nye(this,t),aye(this,t,arguments)}return lye(t,e),sye(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=aa/2,o=aa/6,l=aa/3,c=r.inactive?a:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:aa,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(aa,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(aa/8,"h").concat(aa,"v").concat(aa*3/4,"h").concat(-aa,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var u=tye({},r);return delete u.legendIcon,K.cloneElement(r.legendIcon,u)}return K.createElement(jA,{fill:c,cx:i,cy:i,size:aa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:aa,height:aa},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,x=At(Hp(Hp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=jt(m.value)?null:m.value;vo(!jt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return K.createElement("li",zC({className:x,style:h,key:"legend-item-".concat(g)},jb(r.props,m,g)),K.createElement(MC,{width:o,height:o,viewBox:d,style:f},r.renderIcon(m)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,g):y))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Hp(_A,"displayName","Legend");Hp(_A,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uye=Bw;function dye(){this.__data__=new uye,this.size=0}var hye=dye;function fye(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var mye=fye;function pye(e){return this.__data__.get(e)}var gye=pye;function vye(e){return this.__data__.has(e)}var xye=vye,yye=Bw,bye=uA,wye=dA,jye=200;function _ye(e,t){var n=this.__data__;if(n instanceof yye){var r=n.__data__;if(!bye||r.length<jye-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wye(r)}return n.set(e,t),this.size=n.size,this}var Nye=_ye,Sye=Bw,Cye=hye,kye=mye,Eye=gye,Pye=xye,Aye=Nye;function Nf(e){var t=this.__data__=new Sye(e);this.size=t.size}Nf.prototype.clear=Cye;Nf.prototype.delete=kye;Nf.prototype.get=Eye;Nf.prototype.has=Pye;Nf.prototype.set=Aye;var gV=Nf,Tye="__lodash_hash_undefined__";function Oye(e){return this.__data__.set(e,Tye),this}var Mye=Oye;function Dye(e){return this.__data__.has(e)}var Iye=Dye,$ye=dA,Rye=Mye,Lye=Iye;function Pb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $ye;++t<n;)this.add(e[t])}Pb.prototype.add=Pb.prototype.push=Rye;Pb.prototype.has=Lye;var vV=Pb;function Fye(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var xV=Fye;function Bye(e,t){return e.has(t)}var yV=Bye,Uye=vV,zye=xV,qye=yV,Vye=1,Wye=2;function Hye(e,t,n,r,a,i){var o=n&Vye,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,m=n&Wye?new Uye:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var g=e[h],p=t[h];if(r)var x=o?r(p,g,h,t,e,i):r(g,p,h,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(m){if(!zye(t,function(y,b){if(!qye(m,b)&&(g===y||a(g,y,n,r,i)))return m.push(b)})){f=!1;break}}else if(!(g===p||a(g,p,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var bV=Hye,Gye=Hi,Kye=Gye.Uint8Array,Yye=Kye;function Jye(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var Xye=Jye;function Qye(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var NA=Qye,WI=mv,HI=Yye,Zye=cA,ebe=bV,tbe=Xye,nbe=NA,rbe=1,sbe=2,abe="[object Boolean]",ibe="[object Date]",obe="[object Error]",lbe="[object Map]",cbe="[object Number]",ube="[object RegExp]",dbe="[object Set]",hbe="[object String]",fbe="[object Symbol]",mbe="[object ArrayBuffer]",pbe="[object DataView]",GI=WI?WI.prototype:void 0,y1=GI?GI.valueOf:void 0;function gbe(e,t,n,r,a,i,o){switch(n){case pbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mbe:return!(e.byteLength!=t.byteLength||!i(new HI(e),new HI(t)));case abe:case ibe:case cbe:return Zye(+e,+t);case obe:return e.name==t.name&&e.message==t.message;case ube:case hbe:return e==t+"";case lbe:var l=tbe;case dbe:var c=r&rbe;if(l||(l=nbe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=sbe,o.set(e,t);var d=ebe(l(e),l(t),r,a,i,o);return o.delete(e),d;case fbe:if(y1)return y1.call(e)==y1.call(t)}return!1}var vbe=gbe;function xbe(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var wV=xbe,ybe=wV,bbe=Ss;function wbe(e,t,n){var r=t(e);return bbe(e)?r:ybe(r,n(e))}var jbe=wbe;function _be(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Nbe=_be;function Sbe(){return[]}var Cbe=Sbe,kbe=Nbe,Ebe=Cbe,Pbe=Object.prototype,Abe=Pbe.propertyIsEnumerable,KI=Object.getOwnPropertySymbols,Tbe=KI?function(e){return e==null?[]:(e=Object(e),kbe(KI(e),function(t){return Abe.call(e,t)}))}:Ebe,Obe=Tbe;function Mbe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Dbe=Mbe,Ibe=Do,$be=Io,Rbe="[object Arguments]";function Lbe(e){return $be(e)&&Ibe(e)==Rbe}var Fbe=Lbe,YI=Fbe,Bbe=Io,jV=Object.prototype,Ube=jV.hasOwnProperty,zbe=jV.propertyIsEnumerable,qbe=YI(function(){return arguments}())?YI:function(e){return Bbe(e)&&Ube.call(e,"callee")&&!zbe.call(e,"callee")},SA=qbe,Ab={exports:{}};function Vbe(){return!1}var Wbe=Vbe;Ab.exports;(function(e,t){var n=Hi,r=Wbe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Ab,Ab.exports);var _V=Ab.exports,Hbe=9007199254740991,Gbe=/^(?:0|[1-9]\d*)$/;function Kbe(e,t){var n=typeof e;return t=t??Hbe,!!t&&(n=="number"||n!="symbol"&&Gbe.test(e))&&e>-1&&e%1==0&&e<t}var CA=Kbe,Ybe=9007199254740991;function Jbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ybe}var kA=Jbe,Xbe=Do,Qbe=kA,Zbe=Io,e0e="[object Arguments]",t0e="[object Array]",n0e="[object Boolean]",r0e="[object Date]",s0e="[object Error]",a0e="[object Function]",i0e="[object Map]",o0e="[object Number]",l0e="[object Object]",c0e="[object RegExp]",u0e="[object Set]",d0e="[object String]",h0e="[object WeakMap]",f0e="[object ArrayBuffer]",m0e="[object DataView]",p0e="[object Float32Array]",g0e="[object Float64Array]",v0e="[object Int8Array]",x0e="[object Int16Array]",y0e="[object Int32Array]",b0e="[object Uint8Array]",w0e="[object Uint8ClampedArray]",j0e="[object Uint16Array]",_0e="[object Uint32Array]",gn={};gn[p0e]=gn[g0e]=gn[v0e]=gn[x0e]=gn[y0e]=gn[b0e]=gn[w0e]=gn[j0e]=gn[_0e]=!0;gn[e0e]=gn[t0e]=gn[f0e]=gn[n0e]=gn[m0e]=gn[r0e]=gn[s0e]=gn[a0e]=gn[i0e]=gn[o0e]=gn[l0e]=gn[c0e]=gn[u0e]=gn[d0e]=gn[h0e]=!1;function N0e(e){return Zbe(e)&&Qbe(e.length)&&!!gn[Xbe(e)]}var S0e=N0e;function C0e(e){return function(t){return e(t)}}var NV=C0e,Tb={exports:{}};Tb.exports;(function(e,t){var n=Tq,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Tb,Tb.exports);var k0e=Tb.exports,E0e=S0e,P0e=NV,JI=k0e,XI=JI&&JI.isTypedArray,A0e=XI?P0e(XI):E0e,SV=A0e,T0e=Dbe,O0e=SA,M0e=Ss,D0e=_V,I0e=CA,$0e=SV,R0e=Object.prototype,L0e=R0e.hasOwnProperty;function F0e(e,t){var n=M0e(e),r=!n&&O0e(e),a=!n&&!r&&D0e(e),i=!n&&!r&&!a&&$0e(e),o=n||r||a||i,l=o?T0e(e.length,String):[],c=l.length;for(var u in e)(t||L0e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||I0e(u,c)))&&l.push(u);return l}var B0e=F0e,U0e=Object.prototype;function z0e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||U0e;return e===n}var q0e=z0e;function V0e(e,t){return function(n){return e(t(n))}}var CV=V0e,W0e=CV,H0e=W0e(Object.keys,Object),G0e=H0e,K0e=q0e,Y0e=G0e,J0e=Object.prototype,X0e=J0e.hasOwnProperty;function Q0e(e){if(!K0e(e))return Y0e(e);var t=[];for(var n in Object(e))X0e.call(e,n)&&n!="constructor"&&t.push(n);return t}var Z0e=Q0e,ewe=lA,twe=kA;function nwe(e){return e!=null&&twe(e.length)&&!ewe(e)}var xv=nwe,rwe=B0e,swe=Z0e,awe=xv;function iwe(e){return awe(e)?rwe(e):swe(e)}var rj=iwe,owe=jbe,lwe=Obe,cwe=rj;function uwe(e){return owe(e,cwe,lwe)}var dwe=uwe,QI=dwe,hwe=1,fwe=Object.prototype,mwe=fwe.hasOwnProperty;function pwe(e,t,n,r,a,i){var o=n&hwe,l=QI(e),c=l.length,u=QI(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:mwe.call(t,f)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++h<c;){f=l[h];var y=e[f],b=t[f];if(r)var j=o?r(b,y,f,t,e,i):r(y,b,f,e,t,i);if(!(j===void 0?y===b||a(y,b,n,r,i):j)){p=!1;break}x||(x=f=="constructor")}if(p&&!x){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(e),i.delete(t),p}var gwe=pwe,vwe=Pu,xwe=Hi,ywe=vwe(xwe,"DataView"),bwe=ywe,wwe=Pu,jwe=Hi,_we=wwe(jwe,"Promise"),Nwe=_we,Swe=Pu,Cwe=Hi,kwe=Swe(Cwe,"Set"),kV=kwe,Ewe=Pu,Pwe=Hi,Awe=Ewe(Pwe,"WeakMap"),Twe=Awe,VC=bwe,WC=uA,HC=Nwe,GC=kV,KC=Twe,EV=Do,Sf=Mq,ZI="[object Map]",Owe="[object Object]",e$="[object Promise]",t$="[object Set]",n$="[object WeakMap]",r$="[object DataView]",Mwe=Sf(VC),Dwe=Sf(WC),Iwe=Sf(HC),$we=Sf(GC),Rwe=Sf(KC),jc=EV;(VC&&jc(new VC(new ArrayBuffer(1)))!=r$||WC&&jc(new WC)!=ZI||HC&&jc(HC.resolve())!=e$||GC&&jc(new GC)!=t$||KC&&jc(new KC)!=n$)&&(jc=function(e){var t=EV(e),n=t==Owe?e.constructor:void 0,r=n?Sf(n):"";if(r)switch(r){case Mwe:return r$;case Dwe:return ZI;case Iwe:return e$;case $we:return t$;case Rwe:return n$}return t});var Lwe=jc,b1=gV,Fwe=bV,Bwe=vbe,Uwe=gwe,s$=Lwe,a$=Ss,i$=_V,zwe=SV,qwe=1,o$="[object Arguments]",l$="[object Array]",Cx="[object Object]",Vwe=Object.prototype,c$=Vwe.hasOwnProperty;function Wwe(e,t,n,r,a,i){var o=a$(e),l=a$(t),c=o?l$:s$(e),u=l?l$:s$(t);c=c==o$?Cx:c,u=u==o$?Cx:u;var d=c==Cx,h=u==Cx,f=c==u;if(f&&i$(e)){if(!i$(t))return!1;o=!0,d=!1}if(f&&!d)return i||(i=new b1),o||zwe(e)?Fwe(e,t,n,r,a,i):Bwe(e,t,c,n,r,a,i);if(!(n&qwe)){var m=d&&c$.call(e,"__wrapped__"),g=h&&c$.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new b1),a(p,x,n,r,i)}}return f?(i||(i=new b1),Uwe(e,t,n,r,a,i)):!1}var Hwe=Wwe,Gwe=Hwe,u$=Io;function PV(e,t,n,r,a){return e===t?!0:e==null||t==null||!u$(e)&&!u$(t)?e!==e&&t!==t:Gwe(e,t,n,r,PV,a)}var EA=PV,Kwe=gV,Ywe=EA,Jwe=1,Xwe=2;function Qwe(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new Kwe;if(r)var f=r(u,d,c,e,t,h);if(!(f===void 0?Ywe(d,u,Jwe|Xwe,r,h):f))return!1}}return!0}var Zwe=Qwe,eje=tc;function tje(e){return e===e&&!eje(e)}var AV=tje,nje=AV,rje=rj;function sje(e){for(var t=rje(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,nje(a)]}return t}var aje=sje;function ije(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var TV=ije,oje=Zwe,lje=aje,cje=TV;function uje(e){var t=lje(e);return t.length==1&&t[0][2]?cje(t[0][0],t[0][1]):function(n){return n===e||oje(n,e,t)}}var dje=uje;function hje(e,t){return e!=null&&t in Object(e)}var fje=hje,mje=Lq,pje=SA,gje=Ss,vje=CA,xje=kA,yje=zw;function bje(e,t,n){t=mje(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=yje(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&xje(a)&&vje(o,a)&&(gje(e)||pje(e)))}var wje=bje,jje=fje,_je=wje;function Nje(e,t){return e!=null&&_je(e,t,jje)}var Sje=Nje,Cje=EA,kje=Fq,Eje=Sje,Pje=oA,Aje=AV,Tje=TV,Oje=zw,Mje=1,Dje=2;function Ije(e,t){return Pje(e)&&Aje(t)?Tje(Oje(e),t):function(n){var r=kje(n,e);return r===void 0&&r===t?Eje(n,e):Cje(t,r,Mje|Dje)}}var $je=Ije;function Rje(e){return e}var Cf=Rje;function Lje(e){return function(t){return t==null?void 0:t[e]}}var Fje=Lje,Bje=mA;function Uje(e){return function(t){return Bje(t,e)}}var zje=Uje,qje=Fje,Vje=zje,Wje=oA,Hje=zw;function Gje(e){return Wje(e)?qje(Hje(e)):Vje(e)}var Kje=Gje,Yje=dje,Jje=$je,Xje=Cf,Qje=Ss,Zje=Kje;function e_e(e){return typeof e=="function"?e:e==null?Xje:typeof e=="object"?Qje(e)?Jje(e[0],e[1]):Yje(e):Zje(e)}var nc=e_e;function t_e(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var OV=t_e;function n_e(e){return e!==e}var r_e=n_e;function s_e(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var a_e=s_e,i_e=OV,o_e=r_e,l_e=a_e;function c_e(e,t,n){return t===t?l_e(e,t,n):i_e(e,o_e,n)}var u_e=c_e,d_e=u_e;function h_e(e,t){var n=e==null?0:e.length;return!!n&&d_e(e,t,0)>-1}var f_e=h_e;function m_e(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var p_e=m_e;function g_e(){}var v_e=g_e,w1=kV,x_e=v_e,y_e=NA,b_e=1/0,w_e=w1&&1/y_e(new w1([,-0]))[1]==b_e?function(e){return new w1(e)}:x_e,j_e=w_e,__e=vV,N_e=f_e,S_e=p_e,C_e=yV,k_e=j_e,E_e=NA,P_e=200;function A_e(e,t,n){var r=-1,a=N_e,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=S_e;else if(i>=P_e){var u=t?null:k_e(e);if(u)return E_e(u);o=!1,a=C_e,c=new __e}else c=t?[]:l;e:for(;++r<i;){var d=e[r],h=t?t(d):d;if(d=n||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var T_e=A_e,O_e=nc,M_e=T_e;function D_e(e,t){return e&&e.length?M_e(e,O_e(t)):[]}var I_e=D_e;const d$=qt(I_e);function MV(e,t,n){return t===!0?d$(e,n):jt(t)?d$(e,t):e}function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}var $_e=["ref"];function h$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(n),!0).forEach(function(r){sj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IV(r.key),r)}}function L_e(e,t,n){return t&&f$(e.prototype,t),n&&f$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function F_e(e,t,n){return t=Ob(t),B_e(e,DV()?Reflect.construct(t,n||[],Ob(e).constructor):t.apply(e,n))}function B_e(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U_e(e)}function U_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(e)}function z_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},YC(e,t)}function sj(e,t,n){return t=IV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IV(e){var t=q_e(e,"string");return kh(t)=="symbol"?t:t+""}function q_e(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V_e(e,t){if(e==null)return{};var n=W_e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function H_e(e){return e.value}function G_e(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var n=V_e(t,$_e);return K.createElement(_A,n)}var m$=1,Ld=function(e){function t(){var n;R_e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=F_e(this,t,[].concat(a)),sj(n,"lastBoundingBox",{width:-1,height:-1}),n}return z_e(t,e),L_e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>m$||Math.abs(a.height-this.lastBoundingBox.height)>m$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ji({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ji(Ji({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Ji(Ji({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return K.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},G_e(i,Ji(Ji({},this.props),{},{payload:MV(d,u,H_e)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Ji(Ji({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ae(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(v.PureComponent);sj(Ld,"displayName","Legend");sj(Ld,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var p$=mv,K_e=SA,Y_e=Ss,g$=p$?p$.isConcatSpreadable:void 0;function J_e(e){return Y_e(e)||K_e(e)||!!(g$&&e&&e[g$])}var X_e=J_e,Q_e=wV,Z_e=X_e;function $V(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=Z_e),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?$V(l,t-1,n,r,a):Q_e(a,l):r||(a[a.length]=l)}return a}var RV=$V;function e1e(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var t1e=e1e,n1e=t1e,r1e=n1e(),s1e=r1e,a1e=s1e,i1e=rj;function o1e(e,t){return e&&a1e(e,t,i1e)}var LV=o1e,l1e=xv;function c1e(e,t){return function(n,r){if(n==null)return n;if(!l1e(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var u1e=c1e,d1e=LV,h1e=u1e,f1e=h1e(d1e),PA=f1e,m1e=PA,p1e=xv;function g1e(e,t){var n=-1,r=p1e(e)?Array(e.length):[];return m1e(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var FV=g1e;function v1e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var x1e=v1e,v$=yf;function y1e(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=v$(e),o=t!==void 0,l=t===null,c=t===t,u=v$(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var b1e=y1e,w1e=b1e;function j1e(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=w1e(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var _1e=j1e,j1=fA,N1e=mA,S1e=nc,C1e=FV,k1e=x1e,E1e=NV,P1e=_1e,A1e=Cf,T1e=Ss;function O1e(e,t,n){t.length?t=j1(t,function(i){return T1e(i)?function(o){return N1e(o,i.length===1?i[0]:i)}:i}):t=[A1e];var r=-1;t=j1(t,E1e(S1e));var a=C1e(e,function(i,o,l){var c=j1(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return k1e(a,function(i,o){return P1e(i,o,n)})}var M1e=O1e;function D1e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var I1e=D1e,$1e=I1e,x$=Math.max;function R1e(e,t,n){return t=x$(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=x$(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),$1e(e,this,l)}}var L1e=R1e;function F1e(e){return function(){return e}}var B1e=F1e,U1e=Pu,z1e=function(){try{var e=U1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),BV=z1e,q1e=B1e,y$=BV,V1e=Cf,W1e=y$?function(e,t){return y$(e,"toString",{configurable:!0,enumerable:!1,value:q1e(t),writable:!0})}:V1e,H1e=W1e,G1e=800,K1e=16,Y1e=Date.now;function J1e(e){var t=0,n=0;return function(){var r=Y1e(),a=K1e-(r-n);if(n=r,a>0){if(++t>=G1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var X1e=J1e,Q1e=H1e,Z1e=X1e,eNe=Z1e(Q1e),tNe=eNe,nNe=Cf,rNe=L1e,sNe=tNe;function aNe(e,t){return sNe(rNe(e,t,nNe),e+"")}var iNe=aNe,oNe=cA,lNe=xv,cNe=CA,uNe=tc;function dNe(e,t,n){if(!uNe(n))return!1;var r=typeof t;return(r=="number"?lNe(n)&&cNe(t,n.length):r=="string"&&t in n)?oNe(n[t],e):!1}var aj=dNe,hNe=RV,fNe=M1e,mNe=iNe,b$=aj,pNe=mNe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&b$(e,t[0],t[1])?t=[]:n>2&&b$(t[0],t[1],t[2])&&(t=[t[0]]),fNe(e,hNe(t,1),[])}),gNe=pNe;const AA=qt(gNe);function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function JC(){return JC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JC.apply(this,arguments)}function vNe(e,t){return wNe(e)||bNe(e,t)||yNe(e,t)||xNe()}function xNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yNe(e,t){if(e){if(typeof e=="string")return w$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w$(e,t)}}function w$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wNe(e){if(Array.isArray(e))return e}function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(n),!0).forEach(function(r){jNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jNe(e,t,n){return t=_Ne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ne(e){var t=NNe(e,"string");return Gp(t)=="symbol"?t:t+""}function NNe(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var CNe=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,f=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,j=function(){if(d&&d.length){var L={padding:0,margin:0},U=(f?AA(d,f):d).map(function(F,$){if(F.type==="none")return null;var M=_1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),O=F.formatter||h||SNe,R=F.value,B=F.name,T=R,G=B;if(O&&T!=null&&G!=null){var W=O(R,B,F,$,d);if(Array.isArray(W)){var w=vNe(W,2);T=w[0],G=w[1]}else T=W}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:M},Hn(G)?K.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Hn(G)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},T),K.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:L},U)}return null},_=_1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=_1({margin:0},u),N=!Nt(p),C=N?p:"",k=At("recharts-default-tooltip",m),D=At("recharts-tooltip-label",g);N&&x&&d!==void 0&&d!==null&&(C=x(p,d));var I=b?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",JC({className:k,style:_},I),K.createElement("p",{className:D,style:S},K.isValidElement(C)?C:"".concat(C)),j())};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function kx(e,t,n){return t=kNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kNe(e){var t=ENe(e,"string");return Kp(t)=="symbol"?t:t+""}function ENe(e,t){if(Kp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dm="recharts-tooltip-wrapper",PNe={visibility:"hidden"};function ANe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return At(dm,kx(kx(kx(kx({},"".concat(dm,"-right"),Ae(n)&&t&&Ae(t.x)&&n>=t.x),"".concat(dm,"-left"),Ae(n)&&t&&Ae(t.x)&&n<t.x),"".concat(dm,"-bottom"),Ae(r)&&t&&Ae(t.y)&&r>=t.y),"".concat(dm,"-top"),Ae(r)&&t&&Ae(t.y)&&r<t.y))}function _$(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ae(i[r]))return i[r];var d=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?d:h;if(o[r]){var f=d,m=c[r];return f<m?Math.max(h,c[r]):Math.max(d,c[r])}var g=h+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(h,c[r])}function TNe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ONe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&n?(d=_$({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=_$({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=TNe({translateX:d,translateY:h,useTranslate3d:l})):u=PNe,{cssProperties:u,cssClasses:ANe({translateX:d,translateY:h,coordinate:n})}}function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function N$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function S$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(n),!0).forEach(function(r){QC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zV(r.key),r)}}function INe(e,t,n){return t&&DNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ne(e,t,n){return t=Mb(t),RNe(e,UV()?Reflect.construct(t,n||[],Mb(e).constructor):t.apply(e,n))}function RNe(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LNe(e)}function LNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(e)}function FNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},XC(e,t)}function QC(e,t,n){return t=zV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zV(e){var t=BNe(e,"string");return Eh(t)=="symbol"?t:t+""}function BNe(e,t){if(Eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C$=1,UNe=function(e){function t(){var n;MNe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=$Ne(this,t,[].concat(a)),QC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return FNe(t,e),INe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>C$||Math.abs(r.height-this.state.lastBoundingBox.height)>C$)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,x=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,j=ONe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),_=j.cssClasses,S=j.cssProperties,N=S$(S$({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return K.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(k){r.wrapperNode=k}},u)}}])}(v.PureComponent),zNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xo={isSsr:zNe(),get:function(t){return xo[t]},set:function(t,n){if(typeof t=="string")xo[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){xo[a]=t[a]})}}};function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function k$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function E$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(n),!0).forEach(function(r){TA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VV(r.key),r)}}function WNe(e,t,n){return t&&VNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HNe(e,t,n){return t=Db(t),GNe(e,qV()?Reflect.construct(t,n||[],Db(e).constructor):t.apply(e,n))}function GNe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNe(e)}function KNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(e)}function YNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ZC(e,t)}function TA(e,t,n){return t=VV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=JNe(e,"string");return Ph(t)=="symbol"?t:t+""}function JNe(e,t){if(Ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XNe(e){return e.dataKey}function QNe(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(CNe,t)}var qa=function(e){function t(){return qNe(this,t),HNe(this,t,arguments)}return YNe(t,e),WNe(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,f=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,x=a.position,y=a.reverseDirection,b=a.useTranslate3d,j=a.viewBox,_=a.wrapperStyle,S=g??[];h&&S.length&&(S=MV(g.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,XNe));var N=S.length>0;return K.createElement(UNe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:d,hasPayload:N,offset:m,position:x,reverseDirection:y,useTranslate3d:b,viewBox:j,wrapperStyle:_},QNe(u,E$(E$({},this.props),{},{payload:S})))}}])}(v.PureComponent);TA(qa,"displayName","Tooltip");TA(qa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ZNe=Hi,eSe=function(){return ZNe.Date.now()},tSe=eSe,nSe=/\s/;function rSe(e){for(var t=e.length;t--&&nSe.test(e.charAt(t)););return t}var sSe=rSe,aSe=sSe,iSe=/^\s+/;function oSe(e){return e&&e.slice(0,aSe(e)+1).replace(iSe,"")}var lSe=oSe,cSe=lSe,P$=tc,uSe=yf,A$=NaN,dSe=/^[-+]0x[0-9a-f]+$/i,hSe=/^0b[01]+$/i,fSe=/^0o[0-7]+$/i,mSe=parseInt;function pSe(e){if(typeof e=="number")return e;if(uSe(e))return A$;if(P$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=P$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cSe(e);var n=hSe.test(e);return n||fSe.test(e)?mSe(e.slice(2),n?2:8):dSe.test(e)?A$:+e}var WV=pSe,gSe=tc,N1=tSe,T$=WV,vSe="Expected a function",xSe=Math.max,ySe=Math.min;function bSe(e,t,n){var r,a,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(vSe);t=T$(t)||0,gSe(n)&&(d=!!n.leading,h="maxWait"in n,i=h?xSe(T$(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function m(N){var C=r,k=a;return r=a=void 0,u=N,o=e.apply(k,C),o}function g(N){return u=N,l=setTimeout(y,t),d?m(N):o}function p(N){var C=N-c,k=N-u,D=t-C;return h?ySe(D,i-k):D}function x(N){var C=N-c,k=N-u;return c===void 0||C>=t||C<0||h&&k>=i}function y(){var N=N1();if(x(N))return b(N);l=setTimeout(y,p(N))}function b(N){return l=void 0,f&&r?m(N):(r=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function _(){return l===void 0?o:b(N1())}function S(){var N=N1(),C=x(N);if(r=arguments,a=this,c=N,C){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return S.cancel=j,S.flush=_,S}var wSe=bSe,jSe=wSe,_Se=tc,NSe="Expected a function";function SSe(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(NSe);return _Se(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),jSe(e,t,{leading:r,maxWait:t,trailing:a})}var CSe=SSe;const HV=qt(CSe);function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ex(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(r){kSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kSe(e,t,n){return t=ESe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ESe(e){var t=PSe(e,"string");return Yp(t)=="symbol"?t:t+""}function PSe(e,t){if(Yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ASe(e,t){return DSe(e)||MSe(e,t)||OSe(e,t)||TSe()}function TSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(e,t){if(e){if(typeof e=="string")return M$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M$(e,t)}}function M$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DSe(e){if(Array.isArray(e))return e}var Ib=v.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,f=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,y=e.className,b=e.onResize,j=e.style,_=j===void 0?{}:j,S=v.useRef(null),N=v.useRef();N.current=b,v.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=v.useState({containerWidth:a.width,containerHeight:a.height}),k=ASe(C,2),D=k[0],I=k[1],E=v.useCallback(function(U,F){I(function($){var M=Math.round(U),O=Math.round(F);return $.containerWidth===M&&$.containerHeight===O?$:{containerWidth:M,containerHeight:O}})},[]);v.useEffect(function(){var U=function(B){var T,G=B[0].contentRect,W=G.width,w=G.height;E(W,w),(T=N.current)===null||T===void 0||T.call(N,W,w)};p>0&&(U=HV(U,p,{trailing:!0,leading:!1}));var F=new ResizeObserver(U),$=S.current.getBoundingClientRect(),M=$.width,O=$.height;return E(M,O),F.observe(S.current),function(){F.disconnect()}},[E,p]);var L=v.useMemo(function(){var U=D.containerWidth,F=D.containerHeight;if(U<0||F<0)return null;vo(Ac(o)||Ac(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),vo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Ac(o)?U:o,M=Ac(c)?F:c;n&&n>0&&($?M=$/n:M&&($=M*n),f&&M>f&&(M=f)),vo($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,o,c,d,h,n);var O=!Array.isArray(m)&&go(m.type).endsWith("Chart");return K.Children.map(m,function(R){return zq.isElement(R)?v.cloneElement(R,Ex({width:$,height:M},O?{style:Ex({height:"100%",width:"100%",maxHeight:M,maxWidth:$},R.props.style)}:{})):R})},[n,m,c,f,h,d,D,o]);return K.createElement("div",{id:x?"".concat(x):void 0,className:At("recharts-responsive-container",y),style:Ex(Ex({},_),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},L)}),GV=function(t){return null};GV.displayName="Cell";function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(n),!0).forEach(function(r){ISe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ISe(e,t,n){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=RSe(e,"string");return Jp(t)=="symbol"?t:t+""}function RSe(e,t){if(Jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xu={widthCache:{},cacheCount:0},LSe=2e3,FSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},I$="recharts_measurement_span";function BSe(e){var t=ek({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var np=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xo.isSsr)return{width:0,height:0};var r=BSe(n),a=JSON.stringify({text:t,copyStyle:r});if(Xu.widthCache[a])return Xu.widthCache[a];try{var i=document.getElementById(I$);i||(i=document.createElement("span"),i.setAttribute("id",I$),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ek(ek({},FSe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Xu.widthCache[a]=c,++Xu.cacheCount>LSe&&(Xu.cacheCount=0,Xu.widthCache={}),c}catch{return{width:0,height:0}}},USe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function $b(e,t){return WSe(e)||VSe(e,t)||qSe(e,t)||zSe()}function zSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qSe(e,t){if(e){if(typeof e=="string")return $$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $$(e,t)}}function $$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WSe(e){if(Array.isArray(e))return e}function HSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KSe(r.key),r)}}function GSe(e,t,n){return t&&R$(e.prototype,t),n&&R$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KSe(e){var t=YSe(e,"string");return Xp(t)=="symbol"?t:t+""}function YSe(e,t){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var L$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QSe=Object.keys(KV),bd="NaN";function ZSe(e,t){return e*KV[t]}var Px=function(){function e(t,n){HSe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!JSe.test(n)&&(this.num=NaN,this.unit=""),QSe.includes(n)&&(this.num=ZSe(t,n),this.unit="px")}return GSe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=XSe.exec(n))!==null&&r!==void 0?r:[],i=$b(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function YV(e){if(e.includes(bd))return bd;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=L$.exec(t))!==null&&n!==void 0?n:[],a=$b(r,4),i=a[1],o=a[2],l=a[3],c=Px.parse(i??""),u=Px.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return bd;t=t.replace(L$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=F$.exec(t))!==null&&h!==void 0?h:[],m=$b(f,4),g=m[1],p=m[2],x=m[3],y=Px.parse(g??""),b=Px.parse(x??""),j=p==="+"?y.add(b):y.subtract(b);if(j.isNaN())return bd;t=t.replace(F$,j.toString())}return t}var B$=/\(([^()]*)\)/;function eCe(e){for(var t=e;t.includes("(");){var n=B$.exec(t),r=$b(n,2),a=r[1];t=t.replace(B$,YV(a))}return t}function tCe(e){var t=e.replace(/\s+/g,"");return t=eCe(t),t=YV(t),t}function nCe(e){try{return tCe(e)}catch{return bd}}function S1(e){var t=nCe(e.slice(5,-1));return t===bd?"":t}var rCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sCe=["dx","dy","angle","className","breakAll"];function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(this,arguments)}function U$(e,t){if(e==null)return{};var n=aCe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function z$(e,t){return cCe(e)||lCe(e,t)||oCe(e,t)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(e,t){if(e){if(typeof e=="string")return q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q$(e,t)}}function q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cCe(e){if(Array.isArray(e))return e}var JV=/[ \f\n\r\t\v\u2028\u2029]+/,XV=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];Nt(n)||(r?i=n.toString().split(""):i=n.toString().split(JV));var o=i.map(function(c){return{word:c,width:np(c,a).width}}),l=r?0:np("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},uCe=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ae(o),h=l,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(M,O){var R=O.word,B=O.width,T=M[M.length-1];if(T&&(a==null||i||T.width+B+r<Number(a)))T.words.push(R),T.width+=B+r;else{var G={words:[R],width:B};M.push(G)}return M},[])},m=f(n),g=function($){return $.reduce(function(M,O){return M.width>O.width?M:O})};if(!d)return m;for(var p="",x=function($){var M=h.slice(0,$),O=XV({breakAll:u,style:c,children:M+p}).wordsWithComputedWidth,R=f(O),B=R.length>o||g(R).width>Number(a);return[B,R]},y=0,b=h.length-1,j=0,_;y<=b&&j<=h.length-1;){var S=Math.floor((y+b)/2),N=S-1,C=x(N),k=z$(C,2),D=k[0],I=k[1],E=x(S),L=z$(E,1),U=L[0];if(!D&&!U&&(y=S+1),D&&U&&(b=S-1),!D&&U){_=I;break}j++}return _||m},V$=function(t){var n=Nt(t)?[]:t.toString().split(JV);return[{words:n}]},dCe=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!xo.isSsr){var c,u,d=XV({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return V$(a);return uCe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return V$(a)},W$="#808080",Rb=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,f=t.textAnchor,m=f===void 0?"start":f,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,y=x===void 0?W$:x,b=U$(t,rCe),j=v.useMemo(function(){return dCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),_=b.dx,S=b.dy,N=b.angle,C=b.className,k=b.breakAll,D=U$(b,sCe);if(!Hn(r)||!Hn(i))return null;var I=r+(Ae(_)?_:0),E=i+(Ae(S)?S:0),L;switch(p){case"start":L=S1("calc(".concat(u,")"));break;case"middle":L=S1("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:L=S1("calc(".concat(j.length-1," * -").concat(l,")"));break}var U=[];if(h){var F=j[0].width,$=b.width;U.push("scale(".concat((Ae($)?$/F:1)/F,")"))}return N&&U.push("rotate(".concat(N,", ").concat(I,", ").concat(E,")")),U.length&&(D.transform=U.join(" ")),K.createElement("text",tk({},Pt(D,!0),{x:I,y:E,className:At("recharts-text",C),textAnchor:m,fill:y.includes("url")?W$:y}),j.map(function(M,O){var R=M.words.join(k?"":" ");return K.createElement("tspan",{x:I,dy:O===0?L:l,key:"".concat(R,"-").concat(O)},R)}))};function Dl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OA(e){let t,n,r;e.length!==2?(t=Dl,n=(l,c)=>Dl(e(l),c),r=(l,c)=>e(l)-c):(t=e===Dl||e===hCe?e:fCe,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function fCe(){return 0}function QV(e){return e===null?NaN:+e}function*mCe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const pCe=OA(Dl),yv=pCe.right;OA(QV).center;class H$ extends Map{constructor(t,n=xCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(G$(this,t))}has(t){return super.has(G$(this,t))}set(t,n){return super.set(gCe(this,t),n)}delete(t){return super.delete(vCe(this,t))}}function G$({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function vCe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function xCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yCe(e=Dl){if(e===Dl)return ZV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ZV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bCe=Math.sqrt(50),wCe=Math.sqrt(10),jCe=Math.sqrt(2);function Lb(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=bCe?10:i>=wCe?5:i>=jCe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Lb(e,t,n*2):[l,c,u]}function nk(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Lb(t,e,n):Lb(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function rk(e,t,n){return t=+t,e=+e,n=+n,Lb(e,t,n)[2]}function sk(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?rk(t,e,n):rk(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function K$(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Y$(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function eW(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?ZV:yCe(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+f)),g=Math.min(r,Math.floor(t+(c-u)*h/c+f));eW(e,t,m,g,a)}const i=e[t];let o=n,l=r;for(hm(e,n,t),a(e[r],i)>0&&hm(e,n,r);o<l;){for(hm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?hm(e,n,l):(++l,hm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function hm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _Ce(e,t,n){if(e=Float64Array.from(mCe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Y$(e);if(t>=1)return K$(e);var r,a=(r-1)*t,i=Math.floor(a),o=K$(eW(e,i).subarray(0,i+1)),l=Y$(e.subarray(i+1));return o+(l-o)*(a-i)}}function NCe(e,t,n=QV){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function SCe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Aa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $o(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ak=Symbol("implicit");function MA(){var e=new H$,t=[],n=[],r=ak;function a(i){let o=e.get(i);if(o===void 0){if(r!==ak)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new H$;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return MA(t,n).unknown(r)},Aa.apply(a,arguments),a}function Qp(){var e=MA().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<r,g=m?a:r,p=m?r:a;i=(p-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=SCe(f).map(function(y){return g+i*y});return n(m?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return Qp(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Aa.apply(h(),arguments)}function tW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tW(t())},e}function rp(){return tW(Qp.apply(null,arguments).paddingInner(1))}function DA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bv(){}var Zp=.7,Fb=1/Zp,Fd="\\s*([+-]?\\d+)\\s*",eg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CCe=/^#([0-9a-f]{3,8})$/,kCe=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),ECe=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),PCe=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${eg}\\)$`),ACe=new RegExp(`^rgba\\(${Li},${Li},${Li},${eg}\\)$`),TCe=new RegExp(`^hsl\\(${eg},${Li},${Li}\\)$`),OCe=new RegExp(`^hsla\\(${eg},${Li},${Li},${eg}\\)$`),J$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DA(bv,tg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X$,formatHex:X$,formatHex8:MCe,formatHsl:DCe,formatRgb:Q$,toString:Q$});function X$(){return this.rgb().formatHex()}function MCe(){return this.rgb().formatHex8()}function DCe(){return rW(this).formatHsl()}function Q$(){return this.rgb().formatRgb()}function tg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CCe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Z$(t):n===3?new ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ax(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ax(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kCe.exec(e))?new ds(t[1],t[2],t[3],1):(t=ECe.exec(e))?new ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PCe.exec(e))?Ax(t[1],t[2],t[3],t[4]):(t=ACe.exec(e))?Ax(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TCe.exec(e))?nR(t[1],t[2]/100,t[3]/100,1):(t=OCe.exec(e))?nR(t[1],t[2]/100,t[3]/100,t[4]):J$.hasOwnProperty(e)?Z$(J$[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}function Z$(e){return new ds(e>>16&255,e>>8&255,e&255,1)}function Ax(e,t,n,r){return r<=0&&(e=t=n=NaN),new ds(e,t,n,r)}function ICe(e){return e instanceof bv||(e=tg(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}function ik(e,t,n,r){return arguments.length===1?ICe(e):new ds(e,t,n,r??1)}function ds(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}DA(ds,ik,nW(bv,{brighter(e){return e=e==null?Fb:Math.pow(Fb,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zp:Math.pow(Zp,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds(Hc(this.r),Hc(this.g),Hc(this.b),Bb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eR,formatHex:eR,formatHex8:$Ce,formatRgb:tR,toString:tR}));function eR(){return`#${Tc(this.r)}${Tc(this.g)}${Tc(this.b)}`}function $Ce(){return`#${Tc(this.r)}${Tc(this.g)}${Tc(this.b)}${Tc((isNaN(this.opacity)?1:this.opacity)*255)}`}function tR(){const e=Bb(this.opacity);return`${e===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${e===1?")":`, ${e})`}`}function Bb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tc(e){return e=Hc(e),(e<16?"0":"")+e.toString(16)}function nR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ya(e,t,n,r)}function rW(e){if(e instanceof Ya)return new Ya(e.h,e.s,e.l,e.opacity);if(e instanceof bv||(e=tg(e)),!e)return new Ya;if(e instanceof Ya)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ya(o,l,c,e.opacity)}function RCe(e,t,n,r){return arguments.length===1?rW(e):new Ya(e,t,n,r??1)}function Ya(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}DA(Ya,RCe,nW(bv,{brighter(e){return e=e==null?Fb:Math.pow(Fb,e),new Ya(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zp:Math.pow(Zp,e),new Ya(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ds(C1(e>=240?e-240:e+120,a,r),C1(e,a,r),C1(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ya(rR(this.h),Tx(this.s),Tx(this.l),Bb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bb(this.opacity);return`${e===1?"hsl(":"hsla("}${rR(this.h)}, ${Tx(this.s)*100}%, ${Tx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rR(e){return e=(e||0)%360,e<0?e+360:e}function Tx(e){return Math.max(0,Math.min(1,e||0))}function C1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const IA=e=>()=>e;function LCe(e,t){return function(n){return e+n*t}}function FCe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BCe(e){return(e=+e)==1?sW:function(t,n){return n-t?FCe(t,n,e):IA(isNaN(t)?n:t)}}function sW(e,t){var n=t-e;return n?LCe(e,n):IA(isNaN(e)?t:e)}const sR=function e(t){var n=BCe(t);function r(a,i){var o=n((a=ik(a)).r,(i=ik(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=sW(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function UCe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function zCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qCe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=kf(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function VCe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ub(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function WCe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=kf(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var ok=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k1=new RegExp(ok.source,"g");function HCe(e){return function(){return e}}function GCe(e){return function(t){return e(t)+""}}function KCe(e,t){var n=ok.lastIndex=k1.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=ok.exec(e))&&(a=k1.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Ub(r,a)})),n=k1.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?GCe(c[0].x):HCe(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function kf(e,t){var n=typeof t,r;return t==null||n==="boolean"?IA(t):(n==="number"?Ub:n==="string"?(r=tg(t))?(t=r,sR):KCe:t instanceof tg?sR:t instanceof Date?VCe:zCe(t)?UCe:Array.isArray(t)?qCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WCe:Ub)(e,t)}function $A(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function YCe(e,t){t===void 0&&(t=e,e=kf);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function JCe(e){return function(){return e}}function zb(e){return+e}var aR=[0,1];function Yr(e){return e}function lk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:JCe(isNaN(t)?NaN:.5)}function XCe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function QCe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=lk(a,r),i=n(o,i)):(r=lk(r,a),i=n(i,o)),function(l){return i(r(l))}}function ZCe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=lk(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=yv(e,l,1,r)-1;return i[c](a[c](l))}}function wv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ij(){var e=aR,t=aR,n=kf,r,a,i,o=Yr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Yr&&(o=XCe(e[0],e[f-1])),l=f>2?ZCe:QCe,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(r),Ub)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,zb),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=$A,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Yr,d()):o!==Yr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return r=f,a=m,d()}}function RA(){return ij()(Yr,Yr)}function eke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ah(e){return e=qb(Math.abs(e)),e?e[1]:NaN}function tke(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function nke(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ng(e){if(!(t=rke.exec(e)))throw new Error("invalid format: "+e);var t;return new LA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ng.prototype=LA.prototype;function LA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}LA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ske(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var aW;function ake(e,t){var n=qb(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(aW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+qb(e,Math.max(0,t+i-1))[0]}function iR(e,t){var n=qb(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const oR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iR(e*100,t),r:iR,s:ake,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lR(e){return e}var cR=Array.prototype.map,uR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ike(e){var t=e.grouping===void 0||e.thousands===void 0?lR:tke(cR.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?lR:nke(cR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ng(h);var f=h.fill,m=h.align,g=h.sign,p=h.symbol,x=h.zero,y=h.width,b=h.comma,j=h.precision,_=h.trim,S=h.type;S==="n"?(b=!0,S="g"):oR[S]||(j===void 0&&(j=12),_=!0,S="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var N=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=p==="$"?r:/[%p]/.test(S)?o:"",k=oR[S],D=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function I(E){var L=N,U=C,F,$,M;if(S==="c")U=k(E)+U,E="";else{E=+E;var O=E<0||1/E<0;if(E=isNaN(E)?c:k(Math.abs(E),j),_&&(E=ske(E)),O&&+E==0&&g!=="+"&&(O=!1),L=(O?g==="("?g:l:g==="-"||g==="("?"":g)+L,U=(S==="s"?uR[8+aW/3]:"")+U+(O&&g==="("?")":""),D){for(F=-1,$=E.length;++F<$;)if(M=E.charCodeAt(F),48>M||M>57){U=(M===46?a+E.slice(F+1):E.slice(F))+U,E=E.slice(0,F);break}}}b&&!x&&(E=t(E,1/0));var R=L.length+E.length+U.length,B=R<y?new Array(y-R+1).join(f):"";switch(b&&x&&(E=t(B+E,B.length?y-U.length:1/0),B=""),m){case"<":E=L+E+U+B;break;case"=":E=L+B+E+U;break;case"^":E=B.slice(0,R=B.length>>1)+L+E+U+B.slice(R);break;default:E=B+L+E+U;break}return i(E)}return I.toString=function(){return h+""},I}function d(h,f){var m=u((h=ng(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Ah(f)/3)))*3,p=Math.pow(10,-g),x=uR[8+g/3];return function(y){return m(p*y)+x}}return{format:u,formatPrefix:d}}var Ox,FA,iW;oke({thousands:",",grouping:[3],currency:["$",""]});function oke(e){return Ox=ike(e),FA=Ox.format,iW=Ox.formatPrefix,Ox}function lke(e){return Math.max(0,-Ah(Math.abs(e)))}function cke(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ah(t)/3)))*3-Ah(Math.abs(e)))}function uke(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ah(t)-Ah(e))+1}function oW(e,t,n,r){var a=sk(e,t,n),i;switch(r=ng(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=cke(a,o))&&(r.precision=i),iW(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=uke(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=lke(a))&&(r.precision=i-(r.type==="%")*2);break}}return FA(r)}function rc(e){var t=e.domain;return e.ticks=function(n){var r=t();return nk(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return oW(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=rk(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Vb(){var e=RA();return e.copy=function(){return wv(e,Vb())},Aa.apply(e,arguments),rc(e)}function lW(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,zb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return lW(e).unknown(t)},e=arguments.length?Array.from(e,zb):[0,1],rc(n)}function cW(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function dR(e){return Math.log(e)}function hR(e){return Math.exp(e)}function dke(e){return-Math.log(-e)}function hke(e){return-Math.exp(-e)}function fke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mke(e){return e===10?fke:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fR(e){return(t,n)=>-e(-t,n)}function BA(e){const t=e(dR,hR),n=t.domain;let r=10,a,i;function o(){return a=pke(r),i=mke(r),n()[0]<0?(a=fR(a),i=fR(i),e(dke,hke)):e(dR,hR),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),g,p;const x=l==null?10:+l;let y=[];if(!(r%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(p=f<0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;y.push(p)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(p=f>0?g/i(-f):g*i(f),!(p<u)){if(p>d)break;y.push(p)}y.length*2<x&&(y=nk(u,d,x))}else y=nk(f,m,Math.min(m-f,x)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ng(c)).precision==null&&(c.trim=!0),c=FA(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(cW(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function uW(){const e=BA(ij()).domain([1,10]);return e.copy=()=>wv(e,uW()).base(e.base()),Aa.apply(e,arguments),e}function mR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UA(e){var t=1,n=e(mR(t),pR(t));return n.constant=function(r){return arguments.length?e(mR(t=+r),pR(t)):t},rc(n)}function dW(){var e=UA(ij());return e.copy=function(){return wv(e,dW()).constant(e.constant())},Aa.apply(e,arguments)}function gR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vke(e){return e<0?-e*e:e*e}function zA(e){var t=e(Yr,Yr),n=1;function r(){return n===1?e(Yr,Yr):n===.5?e(gke,vke):e(gR(n),gR(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},rc(t)}function qA(){var e=zA(ij());return e.copy=function(){return wv(e,qA()).exponent(e.exponent())},Aa.apply(e,arguments),e}function xke(){return qA.apply(null,arguments).exponent(.5)}function vR(e){return Math.sign(e)*e*e}function yke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hW(){var e=RA(),t=[0,1],n=!1,r;function a(i){var o=yke(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(vR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,zb)).map(vR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return hW(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Aa.apply(a,arguments),rc(a)}function fW(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=NCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[yv(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Dl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return fW().domain(e).range(t).unknown(r)},Aa.apply(i,arguments)}function mW(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[yv(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return mW().domain([e,t]).range(a).unknown(i)},Aa.apply(rc(o),arguments)}function pW(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[yv(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pW().domain(e).range(t).unknown(n)},Aa.apply(a,arguments)}const E1=new Date,P1=new Date;function Xn(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Xn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(E1.setTime(+i),P1.setTime(+o),e(E1),e(P1),Math.floor(n(E1,P1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Wb=Xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Wb);Wb.range;const lo=1e3,pa=lo*60,co=pa*60,Eo=co*24,VA=Eo*7,xR=Eo*30,A1=Eo*365,Oc=Xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getUTCSeconds());Oc.range;const WA=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lo)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getMinutes());WA.range;const HA=Xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pa)},(e,t)=>(t-e)/pa,e=>e.getUTCMinutes());HA.range;const GA=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lo-e.getMinutes()*pa)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getHours());GA.range;const KA=Xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCHours());KA.range;const jv=Xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/Eo,e=>e.getDate()-1);jv.range;const oj=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eo,e=>e.getUTCDate()-1);oj.range;const gW=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eo,e=>Math.floor(e/Eo));gW.range;function Au(e){return Xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pa)/VA)}const lj=Au(0),Hb=Au(1),bke=Au(2),wke=Au(3),Th=Au(4),jke=Au(5),_ke=Au(6);lj.range;Hb.range;bke.range;wke.range;Th.range;jke.range;_ke.range;function Tu(e){return Xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/VA)}const cj=Tu(0),Gb=Tu(1),Nke=Tu(2),Ske=Tu(3),Oh=Tu(4),Cke=Tu(5),kke=Tu(6);cj.range;Gb.range;Nke.range;Ske.range;Oh.range;Cke.range;kke.range;const YA=Xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());YA.range;const JA=Xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());JA.range;const Po=Xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Po.range;const Ao=Xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ao.range;function vW(e,t,n,r,a,i){const o=[[Oc,1,lo],[Oc,5,5*lo],[Oc,15,15*lo],[Oc,30,30*lo],[i,1,pa],[i,5,5*pa],[i,15,15*pa],[i,30,30*pa],[a,1,co],[a,3,3*co],[a,6,6*co],[a,12,12*co],[r,1,Eo],[r,2,2*Eo],[n,1,VA],[t,1,xR],[t,3,3*xR],[e,1,A1]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,m=OA(([,,x])=>x).right(o,f);if(m===o.length)return e.every(sk(u/A1,d/A1,h));if(m===0)return Wb.every(Math.max(sk(u,d,h),1));const[g,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(p)}return[l,c]}const[Eke,Pke]=vW(Ao,JA,cj,gW,KA,HA),[Ake,Tke]=vW(Po,YA,lj,jv,GA,WA);function T1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function O1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Oke(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=mm(a),d=pm(a),h=mm(i),f=pm(i),m=mm(o),g=pm(o),p=mm(l),x=pm(l),y=mm(c),b=pm(c),j={a:O,A:R,b:B,B:T,c:null,d:NR,e:NR,f:tEe,g:dEe,G:fEe,H:Qke,I:Zke,j:eEe,L:xW,m:nEe,M:rEe,p:G,q:W,Q:kR,s:ER,S:sEe,u:aEe,U:iEe,V:oEe,w:lEe,W:cEe,x:null,X:null,y:uEe,Y:hEe,Z:mEe,"%":CR},_={a:w,A,b:P,B:z,c:null,d:SR,e:SR,f:xEe,g:EEe,G:AEe,H:pEe,I:gEe,j:vEe,L:bW,m:yEe,M:bEe,p:q,q:te,Q:kR,s:ER,S:wEe,u:jEe,U:_Ee,V:NEe,w:SEe,W:CEe,x:null,X:null,y:kEe,Y:PEe,Z:TEe,"%":CR},S={a:I,A:E,b:L,B:U,c:F,d:jR,e:jR,f:Kke,g:wR,G:bR,H:_R,I:_R,j:Vke,L:Gke,m:qke,M:Wke,p:D,q:zke,Q:Jke,s:Xke,S:Hke,u:Rke,U:Lke,V:Fke,w:$ke,W:Bke,x:$,X:M,y:wR,Y:bR,Z:Uke,"%":Yke};j.x=N(n,j),j.X=N(r,j),j.c=N(t,j),_.x=N(n,_),_.X=N(r,_),_.c=N(t,_);function N(X,V){return function(se){var ee=[],ge=-1,Se=0,ze=X.length,We,Le,Je;for(se instanceof Date||(se=new Date(+se));++ge<ze;)X.charCodeAt(ge)===37&&(ee.push(X.slice(Se,ge)),(Le=yR[We=X.charAt(++ge)])!=null?We=X.charAt(++ge):Le=We==="e"?" ":"0",(Je=V[We])&&(We=Je(se,Le)),ee.push(We),Se=ge+1);return ee.push(X.slice(Se,ge)),ee.join("")}}function C(X,V){return function(se){var ee=fm(1900,void 0,1),ge=k(ee,X,se+="",0),Se,ze;if(ge!=se.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(V&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Se=O1(fm(ee.y,0,1)),ze=Se.getUTCDay(),Se=ze>4||ze===0?Gb.ceil(Se):Gb(Se),Se=oj.offset(Se,(ee.V-1)*7),ee.y=Se.getUTCFullYear(),ee.m=Se.getUTCMonth(),ee.d=Se.getUTCDate()+(ee.w+6)%7):(Se=T1(fm(ee.y,0,1)),ze=Se.getDay(),Se=ze>4||ze===0?Hb.ceil(Se):Hb(Se),Se=jv.offset(Se,(ee.V-1)*7),ee.y=Se.getFullYear(),ee.m=Se.getMonth(),ee.d=Se.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ze="Z"in ee?O1(fm(ee.y,0,1)).getUTCDay():T1(fm(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ze+5)%7:ee.w+ee.U*7-(ze+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,O1(ee)):T1(ee)}}function k(X,V,se,ee){for(var ge=0,Se=V.length,ze=se.length,We,Le;ge<Se;){if(ee>=ze)return-1;if(We=V.charCodeAt(ge++),We===37){if(We=V.charAt(ge++),Le=S[We in yR?V.charAt(ge++):We],!Le||(ee=Le(X,se,ee))<0)return-1}else if(We!=se.charCodeAt(ee++))return-1}return ee}function D(X,V,se){var ee=u.exec(V.slice(se));return ee?(X.p=d.get(ee[0].toLowerCase()),se+ee[0].length):-1}function I(X,V,se){var ee=m.exec(V.slice(se));return ee?(X.w=g.get(ee[0].toLowerCase()),se+ee[0].length):-1}function E(X,V,se){var ee=h.exec(V.slice(se));return ee?(X.w=f.get(ee[0].toLowerCase()),se+ee[0].length):-1}function L(X,V,se){var ee=y.exec(V.slice(se));return ee?(X.m=b.get(ee[0].toLowerCase()),se+ee[0].length):-1}function U(X,V,se){var ee=p.exec(V.slice(se));return ee?(X.m=x.get(ee[0].toLowerCase()),se+ee[0].length):-1}function F(X,V,se){return k(X,t,V,se)}function $(X,V,se){return k(X,n,V,se)}function M(X,V,se){return k(X,r,V,se)}function O(X){return o[X.getDay()]}function R(X){return i[X.getDay()]}function B(X){return c[X.getMonth()]}function T(X){return l[X.getMonth()]}function G(X){return a[+(X.getHours()>=12)]}function W(X){return 1+~~(X.getMonth()/3)}function w(X){return o[X.getUTCDay()]}function A(X){return i[X.getUTCDay()]}function P(X){return c[X.getUTCMonth()]}function z(X){return l[X.getUTCMonth()]}function q(X){return a[+(X.getUTCHours()>=12)]}function te(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var V=N(X+="",j);return V.toString=function(){return X},V},parse:function(X){var V=C(X+="",!1);return V.toString=function(){return X},V},utcFormat:function(X){var V=N(X+="",_);return V.toString=function(){return X},V},utcParse:function(X){var V=C(X+="",!0);return V.toString=function(){return X},V}}}var yR={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,Mke=/^%/,Dke=/[\\^$*+?|[\]().{}]/g;function $t(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Ike(e){return e.replace(Dke,"\\$&")}function mm(e){return new RegExp("^(?:"+e.map(Ike).join("|")+")","i")}function pm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function $ke(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Rke(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Lke(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Fke(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bke(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function bR(e,t,n){var r=lr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wR(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uke(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zke(e,t,n){var r=lr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function qke(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jR(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Vke(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _R(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Wke(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Hke(e,t,n){var r=lr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Gke(e,t,n){var r=lr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Kke(e,t,n){var r=lr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yke(e,t,n){var r=Mke.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Jke(e,t,n){var r=lr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Xke(e,t,n){var r=lr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NR(e,t){return $t(e.getDate(),t,2)}function Qke(e,t){return $t(e.getHours(),t,2)}function Zke(e,t){return $t(e.getHours()%12||12,t,2)}function eEe(e,t){return $t(1+jv.count(Po(e),e),t,3)}function xW(e,t){return $t(e.getMilliseconds(),t,3)}function tEe(e,t){return xW(e,t)+"000"}function nEe(e,t){return $t(e.getMonth()+1,t,2)}function rEe(e,t){return $t(e.getMinutes(),t,2)}function sEe(e,t){return $t(e.getSeconds(),t,2)}function aEe(e){var t=e.getDay();return t===0?7:t}function iEe(e,t){return $t(lj.count(Po(e)-1,e),t,2)}function yW(e){var t=e.getDay();return t>=4||t===0?Th(e):Th.ceil(e)}function oEe(e,t){return e=yW(e),$t(Th.count(Po(e),e)+(Po(e).getDay()===4),t,2)}function lEe(e){return e.getDay()}function cEe(e,t){return $t(Hb.count(Po(e)-1,e),t,2)}function uEe(e,t){return $t(e.getFullYear()%100,t,2)}function dEe(e,t){return e=yW(e),$t(e.getFullYear()%100,t,2)}function hEe(e,t){return $t(e.getFullYear()%1e4,t,4)}function fEe(e,t){var n=e.getDay();return e=n>=4||n===0?Th(e):Th.ceil(e),$t(e.getFullYear()%1e4,t,4)}function mEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function SR(e,t){return $t(e.getUTCDate(),t,2)}function pEe(e,t){return $t(e.getUTCHours(),t,2)}function gEe(e,t){return $t(e.getUTCHours()%12||12,t,2)}function vEe(e,t){return $t(1+oj.count(Ao(e),e),t,3)}function bW(e,t){return $t(e.getUTCMilliseconds(),t,3)}function xEe(e,t){return bW(e,t)+"000"}function yEe(e,t){return $t(e.getUTCMonth()+1,t,2)}function bEe(e,t){return $t(e.getUTCMinutes(),t,2)}function wEe(e,t){return $t(e.getUTCSeconds(),t,2)}function jEe(e){var t=e.getUTCDay();return t===0?7:t}function _Ee(e,t){return $t(cj.count(Ao(e)-1,e),t,2)}function wW(e){var t=e.getUTCDay();return t>=4||t===0?Oh(e):Oh.ceil(e)}function NEe(e,t){return e=wW(e),$t(Oh.count(Ao(e),e)+(Ao(e).getUTCDay()===4),t,2)}function SEe(e){return e.getUTCDay()}function CEe(e,t){return $t(Gb.count(Ao(e)-1,e),t,2)}function kEe(e,t){return $t(e.getUTCFullYear()%100,t,2)}function EEe(e,t){return e=wW(e),$t(e.getUTCFullYear()%100,t,2)}function PEe(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function AEe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Oh(e):Oh.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function TEe(){return"+0000"}function CR(){return"%"}function kR(e){return+e}function ER(e){return Math.floor(+e/1e3)}var Qu,jW,_W;OEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OEe(e){return Qu=Oke(e),jW=Qu.format,Qu.parse,_W=Qu.utcFormat,Qu.utcParse,Qu}function MEe(e){return new Date(e)}function DEe(e){return e instanceof Date?+e:+new Date(+e)}function XA(e,t,n,r,a,i,o,l,c,u){var d=RA(),h=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),b=u("%b %d"),j=u("%B"),_=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:i(N)<N?x:r(N)<N?a(N)<N?y:b:n(N)<N?j:_)(N)}return d.invert=function(N){return new Date(h(N))},d.domain=function(N){return arguments.length?f(Array.from(N,DEe)):f().map(MEe)},d.ticks=function(N){var C=f();return e(C[0],C[C.length-1],N??10)},d.tickFormat=function(N,C){return C==null?S:u(C)},d.nice=function(N){var C=f();return(!N||typeof N.range!="function")&&(N=t(C[0],C[C.length-1],N??10)),N?f(cW(C,N)):d},d.copy=function(){return wv(d,XA(e,t,n,r,a,i,o,l,c,u))},d}function IEe(){return Aa.apply(XA(Ake,Tke,Po,YA,lj,jv,GA,WA,Oc,jW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Ee(){return Aa.apply(XA(Eke,Pke,Ao,JA,cj,oj,KA,HA,Oc,_W).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uj(){var e=0,t=1,n,r,a,i,o=Yr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,g;return arguments.length?([m,g]=f,o=h(m,g),u):[o(0),o(1)]}}return u.range=d(kf),u.rangeRound=d($A),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),u}}function sc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NW(){var e=rc(uj()(Yr));return e.copy=function(){return sc(e,NW())},$o.apply(e,arguments)}function SW(){var e=BA(uj()).domain([1,10]);return e.copy=function(){return sc(e,SW()).base(e.base())},$o.apply(e,arguments)}function CW(){var e=UA(uj());return e.copy=function(){return sc(e,CW()).constant(e.constant())},$o.apply(e,arguments)}function QA(){var e=zA(uj());return e.copy=function(){return sc(e,QA()).exponent(e.exponent())},$o.apply(e,arguments)}function REe(){return QA.apply(null,arguments).exponent(.5)}function kW(){var e=[],t=Yr;function n(r){if(r!=null&&!isNaN(r=+r))return t((yv(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Dl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>_Ce(e,i/r))},n.copy=function(){return kW(t).domain(e)},$o.apply(n,arguments)}function dj(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=Yr,d,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var y,b,j;return arguments.length?([y,b,j]=x,u=YCe(p,[y,b,j]),m):[u(0),u(.5),u(1)]}}return m.range=g(kf),m.rangeRound=g($A),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function EW(){var e=rc(dj()(Yr));return e.copy=function(){return sc(e,EW())},$o.apply(e,arguments)}function PW(){var e=BA(dj()).domain([.1,1,10]);return e.copy=function(){return sc(e,PW()).base(e.base())},$o.apply(e,arguments)}function AW(){var e=UA(dj());return e.copy=function(){return sc(e,AW()).constant(e.constant())},$o.apply(e,arguments)}function ZA(){var e=zA(dj());return e.copy=function(){return sc(e,ZA()).exponent(e.exponent())},$o.apply(e,arguments)}function LEe(){return ZA.apply(null,arguments).exponent(.5)}const PR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qp,scaleDiverging:EW,scaleDivergingLog:PW,scaleDivergingPow:ZA,scaleDivergingSqrt:LEe,scaleDivergingSymlog:AW,scaleIdentity:lW,scaleImplicit:ak,scaleLinear:Vb,scaleLog:uW,scaleOrdinal:MA,scalePoint:rp,scalePow:qA,scaleQuantile:fW,scaleQuantize:mW,scaleRadial:hW,scaleSequential:NW,scaleSequentialLog:SW,scaleSequentialPow:QA,scaleSequentialQuantile:kW,scaleSequentialSqrt:REe,scaleSequentialSymlog:CW,scaleSqrt:xke,scaleSymlog:dW,scaleThreshold:pW,scaleTime:IEe,scaleUtc:$Ee,tickFormat:oW},Symbol.toStringTag,{value:"Module"}));var FEe=yf;function BEe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!FEe(o):n(o,l)))var l=o,c=i}return c}var TW=BEe;function UEe(e,t){return e>t}var zEe=UEe,qEe=TW,VEe=zEe,WEe=Cf;function HEe(e){return e&&e.length?qEe(e,WEe,VEe):void 0}var GEe=HEe;const hj=qt(GEe);function KEe(e,t){return e<t}var YEe=KEe,JEe=TW,XEe=YEe,QEe=Cf;function ZEe(e){return e&&e.length?JEe(e,QEe,XEe):void 0}var e2e=ZEe;const fj=qt(e2e);var t2e=fA,n2e=nc,r2e=FV,s2e=Ss;function a2e(e,t){var n=s2e(e)?t2e:r2e;return n(e,n2e(t))}var i2e=a2e,o2e=RV,l2e=i2e;function c2e(e,t){return o2e(l2e(e,t),1)}var u2e=c2e;const d2e=qt(u2e);var h2e=EA;function f2e(e,t){return h2e(e,t)}var m2e=f2e;const mj=qt(m2e);var Ef=1e9,p2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tT,bn=!0,Ca="[DecimalError] ",Gc=Ca+"Invalid argument: ",eT=Ca+"Exponent out of range: ",Pf=Math.floor,_c=Math.pow,g2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fs,er=1e7,vn=7,OW=9007199254740991,Kb=Pf(OW/vn),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*vn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};$e.dividedBy=$e.div=function(e){return yo(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,n=t.constructor;return rn(yo(t,new n(e),0,1),n.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Fn(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Fs))throw Error(Ca+"NaN");if(n.s<1)throw Error(Ca+(n.s?"NaN":"-Infinity"));return n.eq(Fs)?new r(0):(bn=!1,t=yo(rg(n,i),rg(e,i),i),bn=!0,rn(t,a))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IW(t,e):MW(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Ca+"NaN");return n.s?(bn=!1,t=yo(n,e,0,1).times(e),bn=!0,n.minus(t)):rn(new r(n),a)};$e.naturalExponential=$e.exp=function(){return DW(this)};$e.naturalLogarithm=$e.ln=function(){return rg(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MW(t,e):IW(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gc+e);if(t=Fn(a)+1,r=a.d.length-1,n=r*vn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};$e.squareRoot=$e.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ca+"NaN")}for(e=Fn(l),bn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Di(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Pf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(yo(l,i,o+2)).times(.5),Di(i.d).slice(0,o)===(t=Di(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(rn(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return bn=!0,rn(r,n)};$e.times=$e.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%er|0,t=l/er|0;i[a]=(i[a]+t)%er|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,bn?rn(e,h.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zi(e,0,Ef),t===void 0?t=r.rounding:zi(t,0,8),rn(n,e+Fn(n)+1,t))};$e.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=cu(r,!0):(zi(e,0,Ef),t===void 0?t=a.rounding:zi(t,0,8),r=rn(new a(r),e+1,t),n=cu(r,!0,e+1)),n};$e.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?cu(a):(zi(e,0,Ef),t===void 0?t=i.rounding:zi(t,0,8),r=rn(new i(a),e+Fn(a)+1,t),n=cu(r.abs(),!1,e+Fn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return rn(new t(e),Fn(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Fs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ca+"Infinity");return l}if(l.eq(Fs))return l;if(r=c.precision,e.eq(Fs))return rn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=OW){for(a=new c(Fs),t=Math.ceil(r/vn+4),bn=!1;n%2&&(a=a.times(l),TR(a.d,t)),n=Pf(n/2),n!==0;)l=l.times(l),TR(l.d,t);return bn=!0,e.s<0?new c(Fs).div(a):rn(a,r)}}else if(i<0)throw Error(Ca+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,bn=!1,a=e.times(rg(l,r+u)),bn=!0,a=DW(a),a.s=i,a};$e.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Fn(a),r=cu(a,n<=i.toExpNeg||n>=i.toExpPos)):(zi(e,1,Ef),t===void 0?t=i.rounding:zi(t,0,8),a=rn(new i(a),e,t),n=Fn(a),r=cu(a,e<=n||n<=i.toExpNeg,e)),r};$e.toSignificantDigits=$e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zi(e,1,Ef),t===void 0?t=r.rounding:zi(t,0,8)),rn(new r(n),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fn(e),n=e.constructor;return cu(e,t<=n.toExpNeg||t>=n.toExpPos)};function MW(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),bn?rn(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(h/vn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/er|0,c[i]%=er;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,bn?rn(t,h):t}function zi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Gc+e)}function Di(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=vn-r.length,n&&(i+=al(n)),i+=r;o=e[t],r=o+"",n=vn-r.length,n&&(i+=al(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yo=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%er|0,o=i/er|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*er+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,h,f,m,g,p,x,y,b,j,_,S,N,C,k,D=r.constructor,I=r.s==a.s?1:-1,E=r.d,L=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(Ca+"Division by zero");for(c=r.e-a.e,C=L.length,S=E.length,m=new D(I),g=m.d=[],u=0;L[u]==(E[u]||0);)++u;if(L[u]>(E[u]||0)&&--c,i==null?b=i=D.precision:o?b=i+(Fn(r)-Fn(a))+1:b=i,b<0)return new D(0);if(b=b/vn+2|0,u=0,C==1)for(d=0,L=L[0],b++;(u<S||d)&&b--;u++)j=d*er+(E[u]||0),g[u]=j/L|0,d=j%L|0;else{for(d=er/(L[0]+1)|0,d>1&&(L=e(L,d),E=e(E,d),C=L.length,S=E.length),_=C,p=E.slice(0,C),x=p.length;x<C;)p[x++]=0;k=L.slice(),k.unshift(0),N=L[0],L[1]>=er/2&&++N;do d=0,l=t(L,p,C,x),l<0?(y=p[0],C!=x&&(y=y*er+(p[1]||0)),d=y/N|0,d>1?(d>=er&&(d=er-1),h=e(L,d),f=h.length,x=p.length,l=t(h,p,f,x),l==1&&(d--,n(h,C<f?k:L,f))):(d==0&&(l=d=1),h=L.slice()),f=h.length,f<x&&h.unshift(0),n(p,h,x),l==-1&&(x=p.length,l=t(L,p,C,x),l<1&&(d++,n(p,C<x?k:L,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=E[_]||0:(p=[E[_]],x=1);while((_++<S||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,rn(m,o?i+Fn(m)+1:i)}}();function DW(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(Fn(e)>16)throw Error(eT+Fn(e));if(!e.s)return new d(Fs);for(t==null?(bn=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(_c(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(Fs),d.precision=l;;){if(a=rn(a.times(e),l),n=n.times(++c),o=i.plus(yo(a,n,l)),Di(o.d).slice(0,l)===Di(i.d).slice(0,l)){for(;u--;)i=rn(i.times(i),l);return d.precision=h,t==null?(bn=!0,rn(i,h)):i}i=o}}function Fn(e){for(var t=e.e*vn,n=e.d[0];n>=10;n/=10)t++;return t}function M1(e,t,n){if(t>e.LN10.sd())throw bn=!0,n&&(e.precision=n),Error(Ca+"LN10 precision limit exceeded");return rn(new e(e.LN10),t)}function al(e){for(var t="";e--;)t+="0";return t}function rg(e,t){var n,r,a,i,o,l,c,u,d,h=1,f=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Ca+(m.s?"NaN":"-Infinity"));if(m.eq(Fs))return new p(0);if(t==null?(bn=!1,u=x):u=t,m.eq(10))return t==null&&(bn=!0),M1(p,u);if(u+=f,p.precision=u,n=Di(g),r=n.charAt(0),i=Fn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Di(m.d),r=n.charAt(0),h++;i=Fn(m),r>1?(m=new p("0."+n),i++):m=new p(r+"."+n.slice(1))}else return c=M1(p,u+2,x).times(i+""),m=rg(new p(r+"."+n.slice(1)),u-f).plus(c),p.precision=x,t==null?(bn=!0,rn(m,x)):m;for(l=o=m=yo(m.minus(Fs),m.plus(Fs),u),d=rn(m.times(m),u),a=3;;){if(o=rn(o.times(d),u),c=l.plus(yo(o,new p(a),u)),Di(c.d).slice(0,u)===Di(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(M1(p,u+2,x).times(i+""))),l=yo(l,new p(h),u),p.precision=x,t==null?(bn=!0,rn(l,x)):l;l=c,a+=2}}function AR(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Pf(n/vn),e.d=[],r=(n+1)%vn,n<0&&(r+=vn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=vn;r<a;)e.d.push(+t.slice(r,r+=vn));t=t.slice(r),r=vn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),bn&&(e.e>Kb||e.e<-Kb))throw Error(eT+n)}else e.s=0,e.e=0,e.d=[0];return e}function rn(e,t,n){var r,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=vn,a=t,u=h[d=0];else{if(d=Math.ceil((r+1)/vn),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;r%=vn,a=r-vn+o}if(n!==void 0&&(i=_c(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/_c(10,o-a):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=Fn(e),h.length=1,t=t-i-1,h[0]=_c(10,(vn-t%vn)%vn),e.e=Pf(-t/vn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,i=1,d--):(h.length=d+1,i=_c(10,vn-r),h[d]=a>0?(u/_c(10,o-a)%_c(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==er&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=er)break;h[d--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(bn&&(e.e>Kb||e.e<-Kb))throw Error(eT+Fn(e));return e}function IW(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),bn?rn(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),a=Math.max(Math.ceil(m/vn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=er-1;--c[i],c[a]+=er}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,bn?rn(t,m):t):new f(0)}function cu(e,t,n){var r,a=Fn(e),i=Di(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+al(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+al(-a-1)+i,n&&(r=n-o)>0&&(i+=al(r))):a>=o?(i+=al(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+al(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=al(r))),e.s<0?"-"+i:i}function TR(e,t){if(e.length>t)return e.length=t,!0}function $W(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return AR(o,i.toString())}else if(typeof i!="string")throw Error(Gc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,g2e.test(i))AR(o,i);else throw Error(Gc+i)}if(a.prototype=$e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$W,a.config=a.set=v2e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function v2e(e){if(!e||typeof e!="object")throw Error(Ca+"Object expected");var t,n,r,a=["precision",1,Ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Pf(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Gc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gc+n+": "+r);return this}var tT=$W(p2e);Fs=new tT(1);const Kt=tT;function x2e(e){return j2e(e)||w2e(e)||b2e(e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2e(e,t){if(e){if(typeof e=="string")return ck(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(e,t)}}function w2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function j2e(e){if(Array.isArray(e))return ck(e)}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _2e=function(t){return t},RW={"@@functional/placeholder":!0},LW=function(t){return t===RW},OR=function(t){return function n(){return arguments.length===0||arguments.length===1&&LW(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},N2e=function e(t,n){return t===1?n:OR(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==RW}).length;return o>=t?n.apply(void 0,a):e(t-o,OR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return LW(h)?c.shift():h});return n.apply(void 0,x2e(d).concat(c))}))})},pj=function(t){return N2e(t.length,t)},uk=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},S2e=pj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),C2e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return _2e;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},dk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},FW=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function k2e(e){var t;return e===0?t=1:t=Math.floor(new Kt(e).abs().log(10).toNumber())+1,t}function E2e(e,t,n){for(var r=new Kt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var P2e=pj(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),A2e=pj(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),T2e=pj(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const gj={rangeStep:E2e,getDigitCount:k2e,interpolateNumber:P2e,uninterpolateNumber:A2e,uninterpolateTruncation:T2e};function hk(e){return D2e(e)||M2e(e)||BW(e)||O2e()}function O2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function D2e(e){if(Array.isArray(e))return fk(e)}function sg(e,t){return R2e(e)||$2e(e,t)||BW(e,t)||I2e()}function I2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(e,t){if(e){if(typeof e=="string")return fk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fk(e,t)}}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function R2e(e){if(Array.isArray(e))return e}function UW(e){var t=sg(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function zW(e,t,n){if(e.lte(0))return new Kt(0);var r=gj.getDigitCount(e.toNumber()),a=new Kt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Kt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Kt(Math.ceil(c))}function L2e(e,t,n){var r=1,a=new Kt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Kt(10).pow(gj.getDigitCount(e)-1),a=new Kt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Kt(Math.floor(e)))}else e===0?a=new Kt(Math.floor((t-1)/2)):n||(a=new Kt(Math.floor(e)));var o=Math.floor((t-1)/2),l=C2e(S2e(function(c){return a.add(new Kt(c-o).mul(r)).toNumber()}),uk);return l(0,t)}function qW(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var i=zW(new Kt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Kt(0):(o=new Kt(e).add(t).div(2),o=o.sub(new Kt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Kt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?qW(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Kt(l).mul(i)),tickMax:o.add(new Kt(c).mul(i))})}function F2e(e){var t=sg(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=UW([n,r]),c=sg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(hk(uk(0,a-1).map(function(){return 1/0}))):[].concat(hk(uk(0,a-1).map(function(){return-1/0})),[d]);return n>r?dk(h):h}if(u===d)return L2e(u,a,i);var f=qW(u,d,o,i),m=f.step,g=f.tickMin,p=f.tickMax,x=gj.rangeStep(g,p.add(new Kt(.1).mul(m)),m);return n>r?dk(x):x}function B2e(e,t){var n=sg(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=UW([r,a]),l=sg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),h=zW(new Kt(u).sub(c).div(d-1),i,0),f=[].concat(hk(gj.rangeStep(new Kt(c),new Kt(u).sub(new Kt(.99).mul(h)),h)),[u]);return r>a?dk(f):f}var U2e=FW(F2e),z2e=FW(B2e),q2e="Invariant failed";function uu(e,t){throw new Error(q2e)}var V2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(this,arguments)}function W2e(e,t){return Y2e(e)||K2e(e,t)||G2e(e,t)||H2e()}function H2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2e(e,t){if(e){if(typeof e=="string")return MR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(e,t)}}function MR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Y2e(e){if(Array.isArray(e))return e}function J2e(e,t){if(e==null)return{};var n=X2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function X2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HW(r.key),r)}}function ePe(e,t,n){return t&&Z2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tPe(e,t,n){return t=Jb(t),nPe(e,VW()?Reflect.construct(t,n||[],Jb(e).constructor):t.apply(e,n))}function nPe(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rPe(e)}function rPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jb(e)}function sPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mk(e,t)}function WW(e,t,n){return t=HW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=aPe(e,"string");return Mh(t)=="symbol"?t:t+""}function aPe(e,t){if(Mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _v=function(e){function t(){return Q2e(this,t),tPe(this,t,arguments)}return sPe(t,e),ePe(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,f=J2e(r,V2e),m=Pt(f,!1);this.props.direction==="x"&&d.type!=="number"&&uu();var g=c.map(function(p){var x=u(p,l),y=x.x,b=x.y,j=x.value,_=x.errorVal;if(!_)return null;var S=[],N,C;if(Array.isArray(_)){var k=W2e(_,2);N=k[0],C=k[1]}else N=C=_;if(i==="vertical"){var D=d.scale,I=b+a,E=I+o,L=I-o,U=D(j-N),F=D(j+C);S.push({x1:F,y1:E,x2:F,y2:L}),S.push({x1:U,y1:I,x2:F,y2:I}),S.push({x1:U,y1:E,x2:U,y2:L})}else if(i==="horizontal"){var $=h.scale,M=y+a,O=M-o,R=M+o,B=$(j-N),T=$(j+C);S.push({x1:O,y1:T,x2:R,y2:T}),S.push({x1:M,y1:B,x2:M,y2:T}),S.push({x1:O,y1:B,x2:R,y2:B})}return K.createElement(Dn,Yb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},m),S.map(function(G){return K.createElement("line",Yb({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return K.createElement(Dn,{className:"recharts-errorBars"},g)}}])}(K.Component);WW(_v,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});WW(_v,"displayName","ErrorBar");function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){iPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iPe(e,t,n){return t=oPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oPe(e){var t=lPe(e,"string");return ag(t)=="symbol"?t:t+""}function lPe(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GW=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=$s(n,Ld);if(!o)return null;var l=Ld.defaultProps,c=l!==void 0?hc(hc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,h){var f=h.item,m=h.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var h=d.item,f=h.type.defaultProps,m=f!==void 0?hc(hc({},f),h.props):{},g=m.dataKey,p=m.name,x=m.legendType,y=m.hide;return{inactive:y,dataKey:g,type:c.iconType||x||"square",color:nT(h),value:p||g,payload:m}}),hc(hc(hc({},c),Ld.getWithHeight(o,a)),{},{payload:u,item:o})};function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function IR(e){return hPe(e)||dPe(e)||uPe(e)||cPe()}function cPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uPe(e,t){if(e){if(typeof e=="string")return pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(e,t)}}function dPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hPe(e){if(Array.isArray(e))return pk(e)}function pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(r){Bd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bd(e,t,n){return t=fPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fPe(e){var t=mPe(e,"string");return ig(t)=="symbol"?t:t+""}function mPe(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ys(e,t,n){return Nt(e)||Nt(t)?n:Hn(t)?ya(e,t,n):jt(t)?t(e):n}function sp(e,t,n,r){var a=d2e(e,function(l){return Ys(l,t)});if(n==="number"){var i=a.filter(function(l){return Ae(l)||parseFloat(l)});return i.length?[fj(i),hj(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!Nt(l)}):a;return o.map(function(l){return Hn(l)||l instanceof Date?l:""})}var pPe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,f=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Xa(h-d)!==Xa(f-h)){var g=[];if(Xa(f-h)===Xa(c[1]-c[0])){m=f;var p=h+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=f+c[1]-c[0];g[0]=Math.min(h,(x+h)/2),g[1]=Math.max(h,(x+h)/2)}var y=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,f),j=Math.max(d,f);if(t>(b+h)/2&&t<=(j+h)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},nT=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?An(An({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},gPe=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),f=0,m=h.length;f<m;f++){var g=d[h[f]],p=g.items,x=g.cateAxisId,y=p.filter(function(C){return go(C.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,j=b!==void 0?An(An({},b),y[0].props):y[0].props,_=j.barSize,S=j[x];o[S]||(o[S]=[]);var N=Nt(_)?n:_;o[S].push({item:y[0],stackList:y.slice(1),barSize:Nt(N)?void 0:lu(N,r,0)})}}return o},vPe=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=lu(n,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=a/c,g=o.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(f=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,S){var N={item:S.item,position:{offset:x.offset+x.size+u,size:f?m:S.barSize}},C=[].concat(IR(_),[N]);return x=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){C.push({item:k,position:x})}),C},h)}else{var y=lu(r,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var j=l===+l?Math.min(b,l):b;d=o.reduce(function(_,S,N){var C=[].concat(IR(_),[{item:S.item,position:{offset:y+(b+u)*N+(b-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},h)}return d},xPe=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=GW({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,f=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&Ae(t[m]))return An(An({},t),{},Bd({},m,t[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&Ae(t[g]))return An(An({},t),{},Bd({},g,t[g]+(f||0)))}return t},yPe=function(t,n,r){return Nt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},KW=function(t,n,r,a,i){var o=n.props.children,l=ba(o,_v).filter(function(u){return yPe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Ys(d,r);if(Nt(h))return u;var f=Array.isArray(h)?[fj(h),hj(h)]:[h,h],m=c.reduce(function(g,p){var x=Ys(d,p,0),y=f[0]-Math.abs(Array.isArray(x)?x[0]:x),b=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},bPe=function(t,n,r,a,i){var o=n.map(function(l){return KW(t,l,r,i,a)}).filter(function(l){return!Nt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},YW=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&KW(t,c,u,a)||sp(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},JW=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},XW=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},uo=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xa(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+u,value:h,offset:u}});return d.filter(function(h){return!gv(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+u,value:h,index:f,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,f){return{coordinate:a(h)+u,value:i?i[h]:h,index:f,offset:u}})},D1=new WeakMap,Mx=function(t,n){if(typeof n!="function")return t;D1.has(t)||D1.set(t,new WeakMap);var r=D1.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},wPe=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Vb(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:rp(),realScaleType:"point"}:i==="category"?{scale:Qp(),realScaleType:"band"}:{scale:Vb(),realScaleType:"linear"};if(pv(a)){var c="scale".concat(Zw(a));return{scale:(PR[c]||rp)(),realScaleType:PR[c]?c:"point"}}return jt(a)?{scale:a}:{scale:rp(),realScaleType:"point"}},RR=1e-4,jPe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-RR,o=Math.max(a[0],a[1])+RR,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},_Pe=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},NPe=function(t,n){if(!n||n.length!==2||!Ae(n[0])||!Ae(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ae(t[0])||t[0]<r)&&(i[0]=r),(!Ae(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},SPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=gv(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},CPe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=gv(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},kPe={sign:SPe,expand:zxe,none:Sh,silhouette:qxe,wiggle:Vxe,positive:CPe},EPe=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=kPe[r],o=Uxe().keys(a).value(function(l,c){return+Ys(l,c,0)}).order(BC).offset(i);return o(t)},PPe=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,f){var m,g=(m=f.type)!==null&&m!==void 0&&m.defaultProps?An(An({},f.type.defaultProps),f.props):f.props,p=g.stackId,x=g.hide;if(x)return h;var y=g[r],b=h[y]||{hasStack:!1,stackGroups:{}};if(Hn(p)){var j=b.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};j.items.push(f),b.hasStack=!0,b.stackGroups[p]=j}else b.stackGroups[vv("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return An(An({},h),{},Bd({},y,b))},c),d={};return Object.keys(u).reduce(function(h,f){var m=u[f];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var y=m.stackGroups[x];return An(An({},p),{},Bd({},x,{numericAxisId:r,cateAxisId:a,items:y.items,stackedData:EPe(t,y.items,i)}))},g)}return An(An({},h),{},Bd({},f,m))},d)},APe=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=U2e(u,i,l);return t.domain([fj(d),hj(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),f=z2e(h,i,l);return{niceTicks:f}}return null};function LR(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nt(a[t.dataKey])){var l=bb(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Ys(a,Nt(o)?t.dataKey:o);return Nt(c)?null:t.scale(c)}var FR=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Ys(o,n.dataKey,n.domain[l]);return Nt(c)?null:n.scale(c)-i/2+a},TPe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},OPe=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?An(An({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Hn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},MPe=function(t){return t.reduce(function(n,r){return[fj(r.concat([n[0]]).filter(Ae)),hj(r.concat([n[1]]).filter(Ae))]},[1/0,-1/0])},QW=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=MPe(d.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},BR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gk=function(t,n,r){if(jt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Ae(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(BR.test(t[0])){var i=+BR.exec(t[0])[1];a[0]=n[0]-i}else jt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ae(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(UR.test(t[1])){var o=+UR.exec(t[1])[1];a[1]=n[1]+o}else jt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Xb=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=AA(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},zR=function(t,n,r){return!t||!t.length||mj(t,ya(r,"type.defaultProps.domain"))?n:t},ZW=function(t,n){var r=t.type.defaultProps?An(An({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return An(An({},Pt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:nT(t),value:Ys(n,a),type:c,payload:n,chartType:u,hide:d})};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){DPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DPe(e,t,n){return t=IPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IPe(e){var t=$Pe(e,"string");return og(t)=="symbol"?t:t+""}function $Pe(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qb=Math.PI/180,RPe=function(t){return t*180/Math.PI},pr=function(t,n,r,a){return{x:t+Math.cos(-Qb*a)*r,y:n+Math.sin(-Qb*a)*r}},LPe=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},FPe=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=LPe({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:RPe(u),angleInRadian:u}},BPe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},UPe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},WR=function(t,n){var r=t.x,a=t.y,i=FPe({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=BPe(n),h=d.startAngle,f=d.endAngle,m=l,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?VR(VR({},n),{},{radius:o,angle:UPe(m,n)}):null};function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}var zPe=["offset"];function qPe(e){return GPe(e)||HPe(e)||WPe(e)||VPe()}function VPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WPe(e,t){if(e){if(typeof e=="string")return vk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(e,t)}}function HPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GPe(e){if(Array.isArray(e))return vk(e)}function vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KPe(e,t){if(e==null)return{};var n=YPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){JPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JPe(e,t,n){return t=XPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XPe(e){var t=QPe(e,"string");return lg(t)=="symbol"?t:t+""}function QPe(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cg.apply(this,arguments)}var ZPe=function(t){var n=t.value,r=t.formatter,a=Nt(t.children)?n:t.children;return jt(r)?r(a):a},eAe=function(t,n){var r=Xa(n-t),a=Math.min(Math.abs(n-t),360);return r*a},tAe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(h+f)/2,y=eAe(m,g),b=y>=0?1:-1,j,_;a==="insideStart"?(j=m+b*o,_=p):a==="insideEnd"?(j=g-b*o,_=!p):a==="end"&&(j=g+b*o,_=p),_=y<=0?_:!_;var S=pr(u,d,x,j),N=pr(u,d,x,j+(_?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Nt(t.id)?vv("recharts-radial-line-"):t.id;return K.createElement("text",cg({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",l)}),K.createElement("defs",null,K.createElement("path",{id:k,d:C})),K.createElement("textPath",{xlinkHref:"#".concat(k)},n))},nAe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,f=(d+h)/2;if(a==="outside"){var m=pr(o,l,u+r,f),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,y=pr(o,l,x,f),b=y.x,j=y.y;return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},rAe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*a,m=h>0?"end":"start",g=h>0?"start":"end",p=u>=0?1:-1,x=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:m};return zn(zn({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:g};return zn(zn({},_),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return zn(zn({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return zn(zn({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return i==="insideLeft"?zn({x:l+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?zn({x:l+u-x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideTop"?zn({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},C):i==="insideBottom"?zn({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?zn({x:l+x,y:c+f,textAnchor:b,verticalAnchor:g},C):i==="insideTopRight"?zn({x:l+u-x,y:c+f,textAnchor:y,verticalAnchor:g},C):i==="insideBottomLeft"?zn({x:l+x,y:c+d-f,textAnchor:b,verticalAnchor:m},C):i==="insideBottomRight"?zn({x:l+u-x,y:c+d-f,textAnchor:y,verticalAnchor:m},C):bf(i)&&(Ae(i.x)||Ac(i.x))&&(Ae(i.y)||Ac(i.y))?zn({x:l+lu(i.x,u),y:c+lu(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):zn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},sAe=function(t){return"cx"in t&&Ae(t.cx)};function Cr(e){var t=e.offset,n=t===void 0?5:t,r=KPe(e,zPe),a=zn({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,f=a.textBreakAll;if(!i||Nt(l)&&Nt(c)&&!v.isValidElement(u)&&!jt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var m;if(jt(u)){if(m=v.createElement(u,a),v.isValidElement(m))return m}else m=ZPe(a);var g=sAe(i),p=Pt(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tAe(a,m,p);var x=g?nAe(a):rAe(a);return K.createElement(Rb,cg({className:At("recharts-label",h)},p,x,{breakAll:f}),m)}Cr.displayName="Label";var e7=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,f=t.y,m=t.top,g=t.left,p=t.width,x=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ae(p)&&Ae(x)){if(Ae(h)&&Ae(f))return{x:h,y:f,width:p,height:x};if(Ae(m)&&Ae(g))return{x:m,y:g,width:p,height:x}}return Ae(h)&&Ae(f)?{x:h,y:f,width:0,height:0}:Ae(n)&&Ae(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},aAe=function(t,n){return t?t===!0?K.createElement(Cr,{key:"label-implicit",viewBox:n}):Hn(t)?K.createElement(Cr,{key:"label-implicit",viewBox:n,value:t}):v.isValidElement(t)?t.type===Cr?v.cloneElement(t,{key:"label-implicit",viewBox:n}):K.createElement(Cr,{key:"label-implicit",content:t,viewBox:n}):jt(t)?K.createElement(Cr,{key:"label-implicit",content:t,viewBox:n}):bf(t)?K.createElement(Cr,cg({viewBox:n},t,{key:"label-implicit"})):null:null},iAe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=e7(t),o=ba(a,Cr).map(function(c,u){return v.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=aAe(t.label,n||i);return[l].concat(qPe(o))};Cr.parseViewBox=e7;Cr.renderCallByParent=iAe;function oAe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lAe=oAe;const cAe=qt(lAe);function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}var uAe=["valueAccessor"],dAe=["data","dataKey","clockWise","id","textBreakAll"];function hAe(e){return gAe(e)||pAe(e)||mAe(e)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mAe(e,t){if(e){if(typeof e=="string")return xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(e,t)}}function pAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gAe(e){if(Array.isArray(e))return xk(e)}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(this,arguments)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){vAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vAe(e,t,n){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xAe(e){var t=yAe(e,"string");return ug(t)=="symbol"?t:t+""}function yAe(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YR(e,t){if(e==null)return{};var n=bAe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var wAe=function(t){return Array.isArray(t.value)?cAe(t.value):t.value};function Il(e){var t=e.valueAccessor,n=t===void 0?wAe:t,r=YR(e,uAe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=YR(r,dAe);return!a||!a.length?null:K.createElement(Dn,{className:"recharts-label-list"},a.map(function(d,h){var f=Nt(i)?n(d,h):Ys(d&&d.payload,i),m=Nt(l)?{}:{id:"".concat(l,"-").concat(h)};return K.createElement(Cr,Zb({},Pt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Cr.parseViewBox(Nt(o)?d:KR(KR({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Il.displayName="LabelList";function jAe(e,t){return e?e===!0?K.createElement(Il,{key:"labelList-implicit",data:t}):K.isValidElement(e)||jt(e)?K.createElement(Il,{key:"labelList-implicit",data:t,content:e}):bf(e)?K.createElement(Il,Zb({data:t},e,{key:"labelList-implicit"})):null:null}function _Ae(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=ba(r,Il).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=jAe(e.label,t);return[i].concat(hAe(a))}Il.renderCallByParent=_Ae;function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yk.apply(this,arguments)}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){NAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NAe(e,t,n){return t=SAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SAe(e){var t=CAe(e,"string");return dg(t)=="symbol"?t:t+""}function CAe(e,t){if(dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kAe=function(t,n){var r=Xa(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Dx=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/Qb,f=u?i:i+o*h,m=pr(n,r,d,f),g=pr(n,r,a,f),p=u?i-o*h:i,x=pr(n,r,d*Math.cos(h*Qb),p);return{center:m,circleTangency:g,lineTangency:x,theta:h}},t7=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=kAe(o,l),u=o+c,d=pr(n,r,i,o),h=pr(n,r,i,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var m=pr(n,r,a,o),g=pr(n,r,a,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},EAe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=Xa(d-u),f=Dx({cx:n,cy:r,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,g=f.lineTangency,p=f.theta,x=Dx({cx:n,cy:r,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),y=x.circleTangency,b=x.lineTangency,j=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-j;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):t7({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=Dx({cx:n,cy:r,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=N.circleTangency,k=N.lineTangency,D=N.theta,I=Dx({cx:n,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=I.circleTangency,L=I.lineTangency,U=I.theta,F=c?Math.abs(u-d):Math.abs(u-d)-D-U;if(F<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},PAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n7=function(t){var n=XR(XR({},PAe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,f=n.className;if(o<i||d===h)return null;var m=At("recharts-sector",f),g=o-i,p=lu(l,g,0,!0),x;return p>0&&Math.abs(d-h)<360?x=EAe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=t7({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),K.createElement("path",yk({},Pt(n,!0),{className:m,d:x,role:"img"}))};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bk.apply(this,arguments)}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){AAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AAe(e,t,n){return t=TAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TAe(e){var t=OAe(e,"string");return hg(t)=="symbol"?t:t+""}function OAe(e,t){if(hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e4={curveBasisClosed:Axe,curveBasisOpen:Txe,curveBasis:Pxe,curveBumpX:pxe,curveBumpY:gxe,curveLinearClosed:Oxe,curveLinear:tj,curveMonotoneX:Mxe,curveMonotoneY:Dxe,curveNatural:Ixe,curveStep:$xe,curveStepAfter:Lxe,curveStepBefore:Rxe},Ix=function(t){return t.x===+t.x&&t.y===+t.y},gm=function(t){return t.x},vm=function(t){return t.y},MAe=function(t,n){if(jt(t))return t;var r="curve".concat(Zw(t));return(r==="curveMonotone"||r==="curveBump")&&n?e4["".concat(r).concat(n==="vertical"?"Y":"X")]:e4[r]||tj},DAe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=MAe(r,l),h=u?i.filter(function(p){return Ix(p)}):i,f;if(Array.isArray(o)){var m=u?o.filter(function(p){return Ix(p)}):o,g=h.map(function(p,x){return ZR(ZR({},p),{},{base:m[x]})});return l==="vertical"?f=Sx().y(vm).x1(gm).x0(function(p){return p.base.x}):f=Sx().x(gm).y1(vm).y0(function(p){return p.base.y}),f.defined(Ix).curve(d),f(g)}return l==="vertical"&&Ae(o)?f=Sx().y(vm).x1(gm).x0(o):Ae(o)?f=Sx().x(gm).y1(vm).y0(o):f=nV().x(gm).y(vm),f.defined(Ix).curve(d),f(h)},wk=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?DAe(t):a;return K.createElement("path",bk({},Pt(t,!1),wb(t),{className:At("recharts-curve",n),d:o,ref:i}))},r7={exports:{}},IAe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$Ae=IAe,RAe=$Ae;function s7(){}function a7(){}a7.resetWarningCache=s7;var LAe=function(){function e(r,a,i,o,l,c){if(c!==RAe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a7,resetWarningCache:s7};return n.PropTypes=n,n};r7.exports=LAe();var FAe=r7.exports;const xt=qt(FAe);var BAe=Object.getOwnPropertyNames,UAe=Object.getOwnPropertySymbols,zAe=Object.prototype.hasOwnProperty;function t4(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function $x(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function n4(e){return BAe(e).concat(UAe(e))}var i7=Object.hasOwn||function(e,t){return zAe.call(e,t)};function Af(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var o7="_owner",r4=Object.getOwnPropertyDescriptor,s4=Object.keys;function qAe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function VAe(e,t){return Af(e.getTime(),t.getTime())}function a4(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var h=o.value,f=h[0],m=h[1],g=l.value,p=g[0],x=g[1];!u&&!r[d]&&(u=n.equals(f,p,i,d,e,t,n)&&n.equals(m,x,f,p,e,t,n))&&(r[d]=!0),d++}if(!u)return!1;i++}return!0}function WAe(e,t,n){var r=s4(e),a=r.length;if(s4(t).length!==a)return!1;for(var i;a-- >0;)if(i=r[a],i===o7&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!i7(t,i)||!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function xm(e,t,n){var r=n4(e),a=r.length;if(n4(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],i===o7&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!i7(t,i)||!n.equals(e[i],t[i],i,i,e,t,n)||(o=r4(e,i),l=r4(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function HAe(e,t){return Af(e.valueOf(),t.valueOf())}function GAe(e,t){return e.source===t.source&&e.flags===t.flags}function i4(e,t,n){if(e.size!==t.size)return!1;for(var r={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(i.value,o.value,i.value,o.value,e,t,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function KAe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var YAe="[object Arguments]",JAe="[object Boolean]",XAe="[object Date]",QAe="[object Map]",ZAe="[object Number]",eTe="[object Object]",tTe="[object RegExp]",nTe="[object Set]",rTe="[object String]",sTe=Array.isArray,o4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,l4=Object.assign,aTe=Object.prototype.toString.call.bind(Object.prototype.toString);function iTe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var m=d.constructor;if(m!==h.constructor)return!1;if(m===Object)return a(d,h,f);if(sTe(d))return t(d,h,f);if(o4!=null&&o4(d))return c(d,h,f);if(m===Date)return n(d,h,f);if(m===RegExp)return o(d,h,f);if(m===Map)return r(d,h,f);if(m===Set)return l(d,h,f);var g=aTe(d);return g===XAe?n(d,h,f):g===tTe?o(d,h,f):g===QAe?r(d,h,f):g===nTe?l(d,h,f):g===eTe?typeof d.then!="function"&&typeof h.then!="function"&&a(d,h,f):g===YAe?a(d,h,f):g===JAe||g===ZAe||g===rTe?i(d,h,f):!1}}function oTe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?xm:qAe,areDatesEqual:VAe,areMapsEqual:r?t4(a4,xm):a4,areObjectsEqual:r?xm:WAe,arePrimitiveWrappersEqual:HAe,areRegExpsEqual:GAe,areSetsEqual:r?t4(i4,xm):i4,areTypedArraysEqual:r?xm:KAe};if(n&&(a=l4({},a,n(a))),t){var i=$x(a.areArraysEqual),o=$x(a.areMapsEqual),l=$x(a.areObjectsEqual),c=$x(a.areSetsEqual);a=l4({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function lTe(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function cTe(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),h=d.cache,f=h===void 0?t?new WeakMap:void 0:h,m=d.meta;return n(c,u,{cache:f,equals:a,meta:m,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var uTe=ac();ac({strict:!0});ac({circular:!0});ac({circular:!0,strict:!0});ac({createInternalComparator:function(){return Af}});ac({strict:!0,createInternalComparator:function(){return Af}});ac({circular:!0,createInternalComparator:function(){return Af}});ac({circular:!0,createInternalComparator:function(){return Af},strict:!0});function ac(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=oTe(e),c=iTe(l),u=r?r(c):lTe(c);return cTe({circular:n,comparator:c,createState:a,equals:u,strict:o})}function dTe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function c4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):dTe(a)};requestAnimationFrame(r)}function jk(e){"@babel/helpers - typeof";return jk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jk(e)}function hTe(e){return gTe(e)||pTe(e)||mTe(e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mTe(e,t){if(e){if(typeof e=="string")return u4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u4(e,t)}}function u4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gTe(e){if(Array.isArray(e))return e}function vTe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=hTe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){c4(a.bind(null,u),c);return}a(c),c4(a.bind(null,u));return}jk(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function d4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(n),!0).forEach(function(r){l7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l7(e,t,n){return t=xTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xTe(e){var t=yTe(e,"string");return fg(t)==="symbol"?t:String(t)}function yTe(e,t){if(fg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bTe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},wTe=function(t){return t},jTe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ap=function(t,n){return Object.keys(n).reduce(function(r,a){return h4(h4({},r),{},l7({},a,t(a,n[a])))},{})},f4=function(t,n,r){return t.map(function(a){return"".concat(jTe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function _Te(e,t){return CTe(e)||STe(e,t)||c7(e,t)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function STe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CTe(e){if(Array.isArray(e))return e}function kTe(e){return ATe(e)||PTe(e)||c7(e)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c7(e,t){if(e){if(typeof e=="string")return _k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _k(e,t)}}function PTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ATe(e){if(Array.isArray(e))return _k(e)}function _k(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var e0=1e-4,u7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},d7=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},m4=function(t,n){return function(r){var a=u7(t,n);return d7(a,r)}},TTe=function(t,n){return function(r){var a=u7(t,n),i=[].concat(kTe(a.map(function(o,l){return o*l}).slice(1)),[0]);return d7(i,r)}},p4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=_Te(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=m4(a,o),f=m4(i,l),m=TTe(a,o),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,j=b,_=0;_<8;++_){var S=h(j)-b,N=m(j);if(Math.abs(S-b)<e0||N<e0)return f(j);j=g(j-S/N)}return f(j)};return p.isStepper=!1,p},OTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,f){var m=-(d-h)*r,g=f*i,p=f+(m-g)*l/1e3,x=f*l/1e3+d;return Math.abs(x-h)<e0&&Math.abs(p)<e0?[h,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},MTe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return p4(a);case"spring":return OTe();default:if(a.split("(")[0]==="cubic-bezier")return p4(a)}return typeof a=="function"?a:null};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function g4(e){return $Te(e)||ITe(e)||h7(e)||DTe()}function DTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Te(e){if(Array.isArray(e))return Sk(e)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(r){Nk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nk(e,t,n){return t=RTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RTe(e){var t=LTe(e,"string");return mg(t)==="symbol"?t:String(t)}function LTe(e,t){if(mg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FTe(e,t){return zTe(e)||UTe(e,t)||h7(e,t)||BTe()}function BTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(e,t){if(e){if(typeof e=="string")return Sk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sk(e,t)}}function Sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zTe(e){if(Array.isArray(e))return e}var t0=function(t,n,r){return t+(n-t)*r},Ck=function(t){var n=t.from,r=t.to;return n!==r},qTe=function e(t,n,r){var a=ap(function(i,o){if(Ck(o)){var l=t(o.from,o.to,o.velocity),c=FTe(l,2),u=c[0],d=c[1];return hr(hr({},o),{},{from:u,velocity:d})}return o},n);return r<1?ap(function(i,o){return Ck(o)?hr(hr({},o),{},{velocity:t0(o.velocity,a[i].velocity,r),from:t0(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const VTe=function(e,t,n,r,a){var i=bTe(e,t),o=i.reduce(function(x,y){return hr(hr({},x),{},Nk({},y,[e[y],t[y]]))},{}),l=i.reduce(function(x,y){return hr(hr({},x),{},Nk({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return ap(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(Ck).length},g=function(y){u||(u=y);var b=y-u,j=b/n.dt;l=qTe(n,l,j),a(hr(hr(hr({},e),t),f())),u=y,m()||(c=requestAnimationFrame(h))},p=function(y){d||(d=y);var b=(y-d)/r,j=ap(function(S,N){return t0.apply(void 0,g4(N).concat([n(b)]))},o);if(a(hr(hr(hr({},e),t),j)),b<1)c=requestAnimationFrame(h);else{var _=ap(function(S,N){return t0.apply(void 0,g4(N).concat([n(1)]))},o);a(hr(hr(hr({},e),t),_))}};return h=n.isStepper?g:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}var WTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function HTe(e,t){if(e==null)return{};var n=GTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GTe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function I1(e){return XTe(e)||JTe(e)||YTe(e)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YTe(e,t){if(e){if(typeof e=="string")return kk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(e,t)}}function JTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XTe(e){if(Array.isArray(e))return kk(e)}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(n),!0).forEach(function(r){Dm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dm(e,t,n){return t=f7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f7(r.key),r)}}function eOe(e,t,n){return t&&ZTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f7(e){var t=tOe(e,"string");return Dh(t)==="symbol"?t:String(t)}function tOe(e,t){if(Dh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ek(e,t)}function rOe(e){var t=sOe();return function(){var r=n0(e),a;if(t){var i=n0(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Pk(this,a)}}function Pk(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ak(e)}function Ak(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n0(e){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(e)}var To=function(e){nOe(n,e);var t=rOe(n);function n(r,a){var i;QTe(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Ak(i)),i.changeStyle=i.changeStyle.bind(Ak(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:d}),Pk(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof f=="function")return i.state={style:u},Pk(i);i.state={style:c?Dm({},c,u):u}}else i.state={style:{}};return i}return eOe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?Dm({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(m);return}if(!(uTe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?h:a.to;if(this.state&&f){var x={style:c?Dm({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(x)}this.runAnimation(Da(Da({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,m=VTe(o,l,MTe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([f,d,g,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,m=function(p,x,y){if(y===0)return p;var b=x.duration,j=x.easing,_=j===void 0?"ease":j,S=x.style,N=x.properties,C=x.onAnimationEnd,k=y>0?o[y-1]:x,D=N||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(I1(p),[i.runJSAnimation.bind(i,{from:k.style,to:S,duration:b,easing:_}),b]);var I=f4(D,b,_),E=Da(Da(Da({},k.style),S),{},{transition:I});return[].concat(I1(p),[E,b,C]).filter(wTe)};return this.manager.start([c].concat(I1(o.reduce(m,[d,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=vTe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?Dm({},l,c):c,x=f4(Object.keys(p),o,u);g.start([d,i,Da(Da({},p),{},{transition:x}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=HTe(a,WTe),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,y=g.className,b=v.cloneElement(m,Da(Da({},c),{},{style:Da(Da({},x),d),className:y}));return b};return u===1?h(v.Children.only(i)):K.createElement("div",null,v.Children.map(i,function(f){return h(f)}))}}]),n}(v.PureComponent);To.displayName="Animate";To.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};To.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(null,arguments)}xt.object,xt.object,xt.object,xt.element;xt.object,xt.object,xt.object,xt.oneOfType([xt.array,xt.element]),xt.any;function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(this,arguments)}function aOe(e,t){return cOe(e)||lOe(e,t)||oOe(e,t)||iOe()}function iOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oOe(e,t){if(e){if(typeof e=="string")return y4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y4(e,t)}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cOe(e){if(Array.isArray(e))return e}function b4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function w4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(n),!0).forEach(function(r){uOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uOe(e,t,n){return t=dOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dOe(e){var t=hOe(e,"string");return pg(t)=="symbol"?t:t+""}function hOe(e,t){if(pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j4=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];d="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),d+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),d+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),d+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+a,`
            L `).concat(t+c*g,",").concat(n+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},fOe=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=u&&r<=d&&a>=h&&a<=f}return!1},mOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rT=function(t){var n=w4(w4({},mOe),t),r=v.useRef(),a=v.useState(-1),i=aOe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,h=n.height,f=n.radius,m=n.className,g=n.animationEasing,p=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var j=At("recharts-rectangle",m);return b?K.createElement(To,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(_){var S=_.width,N=_.height,C=_.x,k=_.y;return K.createElement(To,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:y,easing:g},K.createElement("path",r0({},Pt(n,!0),{className:j,d:j4(C,k,S,N,f),ref:r})))}):K.createElement("path",r0({},Pt(n,!0),{className:j,d:j4(c,u,d,h,f)}))};function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tk.apply(this,arguments)}var sT=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=At("recharts-dot",i);return n===+n&&r===+r&&a===+a?K.createElement("circle",Tk({},Pt(t,!1),wb(t),{className:o,cx:n,cy:r,r:a})):null};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}var pOe=["x","y","top","left","width","height","className"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ok.apply(this,arguments)}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gOe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){vOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vOe(e,t,n){return t=xOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xOe(e){var t=yOe(e,"string");return gg(t)=="symbol"?t:t+""}function yOe(e,t){if(gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bOe(e,t){if(e==null)return{};var n=wOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var jOe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},_Oe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,f=t.height,m=f===void 0?0:f,g=t.className,p=bOe(t,pOe),x=gOe({x:r,y:i,top:l,left:u,width:h,height:m},p);return!Ae(r)||!Ae(i)||!Ae(h)||!Ae(m)||!Ae(l)||!Ae(u)?null:K.createElement("path",Ok({},Pt(x,!0),{className:At("recharts-cross",g),d:jOe(r,i,h,m,l,u)}))},NOe=CV,SOe=NOe(Object.getPrototypeOf,Object),COe=SOe,kOe=Do,EOe=COe,POe=Io,AOe="[object Object]",TOe=Function.prototype,OOe=Object.prototype,m7=TOe.toString,MOe=OOe.hasOwnProperty,DOe=m7.call(Object);function IOe(e){if(!POe(e)||kOe(e)!=AOe)return!1;var t=EOe(e);if(t===null)return!0;var n=MOe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&m7.call(n)==DOe}var $Oe=IOe;const ROe=qt($Oe);var LOe=Do,FOe=Io,BOe="[object Boolean]";function UOe(e){return e===!0||e===!1||FOe(e)&&LOe(e)==BOe}var zOe=UOe;const qOe=qt(zOe);function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(this,arguments)}function VOe(e,t){return KOe(e)||GOe(e,t)||HOe(e,t)||WOe()}function WOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HOe(e,t){if(e){if(typeof e=="string")return N4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N4(e,t)}}function N4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KOe(e){if(Array.isArray(e))return e}function S4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(n),!0).forEach(function(r){YOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YOe(e,t,n){return t=JOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JOe(e){var t=XOe(e,"string");return vg(t)=="symbol"?t:t+""}function XOe(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k4=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},QOe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZOe=function(t){var n=C4(C4({},QOe),t),r=v.useRef(),a=v.useState(-1),i=VOe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,h=n.lowerWidth,f=n.height,m=n.className,g=n.animationEasing,p=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var b=At("recharts-trapezoid",m);return y?K.createElement(To,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(j){var _=j.upperWidth,S=j.lowerWidth,N=j.height,C=j.x,k=j.y;return K.createElement(To,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},K.createElement("path",s0({},Pt(n,!0),{className:b,d:k4(C,k,_,S,N),ref:r})))}):K.createElement("g",null,K.createElement("path",s0({},Pt(n,!0),{className:b,d:k4(c,u,d,h,f)})))},eMe=["option","shapeType","propTransformer","activeClassName","isActive"];function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function tMe(e,t){if(e==null)return{};var n=nMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(r){rMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rMe(e,t,n){return t=sMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sMe(e){var t=aMe(e,"string");return xg(t)=="symbol"?t:t+""}function aMe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iMe(e,t){return a0(a0({},t),e)}function oMe(e,t){return e==="symbols"}function P4(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return K.createElement(rT,n);case"trapezoid":return K.createElement(ZOe,n);case"sector":return K.createElement(n7,n);case"symbols":if(oMe(t))return K.createElement(jA,n);break;default:return null}}function lMe(e){return v.isValidElement(e)?e.props:e}function cMe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?iMe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=tMe(e,eMe),u;if(v.isValidElement(t))u=v.cloneElement(t,a0(a0({},c),lMe(t)));else if(jt(t))u=t(c);else if(ROe(t)&&!qOe(t)){var d=a(t,c);u=K.createElement(P4,{shapeType:n,elementProps:d})}else{var h=c;u=K.createElement(P4,{shapeType:n,elementProps:h})}return l?K.createElement(Dn,{className:o},u):u}function vj(e,t){return t!=null&&"trapezoids"in e.props}function xj(e,t){return t!=null&&"sectors"in e.props}function yg(e,t){return t!=null&&"points"in e.props}function uMe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function dMe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function hMe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function fMe(e,t){var n;return vj(e,t)?n=uMe:xj(e,t)?n=dMe:yg(e,t)&&(n=hMe),n}function mMe(e,t){var n;return vj(e,t)?n="trapezoids":xj(e,t)?n="sectors":yg(e,t)&&(n="points"),n}function pMe(e,t){if(vj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(xj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return yg(e,t)?t.payload:{}}function gMe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=mMe(n,t),i=pMe(n,t),o=r.filter(function(c,u){var d=mj(i,c),h=n.props[a].filter(function(g){var p=fMe(n,t);return p(g,t)}),f=n.props[a].indexOf(h[h.length-1]),m=u===f;return d&&m}),l=r.indexOf(o[o.length-1]);return l}var vMe=Math.ceil,xMe=Math.max;function yMe(e,t,n,r){for(var a=-1,i=xMe(vMe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var bMe=yMe,wMe=WV,A4=1/0,jMe=17976931348623157e292;function _Me(e){if(!e)return e===0?e:0;if(e=wMe(e),e===A4||e===-A4){var t=e<0?-1:1;return t*jMe}return e===e?e:0}var p7=_Me,NMe=bMe,SMe=aj,$1=p7;function CMe(e){return function(t,n,r){return r&&typeof r!="number"&&SMe(t,n,r)&&(n=r=void 0),t=$1(t),n===void 0?(n=t,t=0):n=$1(n),r=r===void 0?t<n?1:-1:$1(r),NMe(t,n,r,e)}}var kMe=CMe,EMe=kMe,PMe=EMe(),AMe=PMe;const i0=qt(AMe);function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return t=TMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TMe(e){var t=OMe(e,"string");return bg(t)=="symbol"?t:t+""}function OMe(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MMe=["Webkit","Moz","O","ms"],DMe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=MMe.reduce(function(i,o){return O4(O4({},i),{},g7({},o+r,n))},{});return a[t]=n,a};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(this,arguments)}function M4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function R1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(n),!0).forEach(function(r){Os(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x7(r.key),r)}}function $Me(e,t,n){return t&&D4(e.prototype,t),n&&D4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RMe(e,t,n){return t=l0(t),LMe(e,v7()?Reflect.construct(t,n||[],l0(e).constructor):t.apply(e,n))}function LMe(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FMe(e)}function FMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!e})()}function l0(e){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(e)}function BMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}function Mk(e,t){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Mk(e,t)}function Os(e,t,n){return t=x7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=UMe(e,"string");return Ih(t)=="symbol"?t:t+""}function UMe(e,t){if(Ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zMe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=rp().domain(i0(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},I4=function(t){return t.changedTouches&&!!t.changedTouches.length},$h=function(e){function t(n){var r;return IMe(this,t),r=RMe(this,t,[n]),Os(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Os(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Os(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Os(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Os(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Os(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Os(r,"handleSlideDragStart",function(a){var i=I4(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return BMe(t,e),$Me(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),f=Math.max(a,i),m=t.getIndexInRange(o,h),g=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ys(i[r],l,r);return jt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,g=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-h-l,u+d-h-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==f||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=I4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,y={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,h+f-m-u):b<0&&(b=Math.max(b,h-u)),y[o]=u+b;var j=this.getIndex(y),_=j.startIndex,S=j.endIndex,N=function(){var k=x.length-1;return o==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===k||o==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===k};this.setState(Os(Os({},o,u+b),"brushMoveStartX",r.pageX),function(){g&&N()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var m=l[f];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Os({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return K.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,h=v.Children.only(u);return h?K.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,y=Math.max(r,this.props.x),b=R1(R1({},Pt(this.props,!1)),{},{x:y,y:u,width:d,height:h}),j=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return K.createElement(Dn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,h=Math.max(Math.abs(a-r)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,h=d.startX,f=d.endX,m=5,g={pointerEvents:"none",fill:u};return K.createElement(Dn,{className:"recharts-brush-texts"},K.createElement(Rb,o0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},g),this.getTextOfTick(a)),K.createElement(Rb,o0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,h=r.alwaysShowText,f=this.state,m=f.startX,g=f.endX,p=f.isTextActive,x=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!a||!a.length||!Ae(l)||!Ae(c)||!Ae(u)||!Ae(d)||u<=0||d<=0)return null;var j=At("recharts-brush",i),_=K.Children.count(o)===1,S=DMe("userSelect","none");return K.createElement(Dn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||y||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return K.isValidElement(r)?i=K.cloneElement(r,a):jt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,h=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return R1({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?zMe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(v.PureComponent);Os($h,"displayName","Brush");Os($h,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qMe=PA;function VMe(e,t){var n;return qMe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var WMe=VMe,HMe=xV,GMe=nc,KMe=WMe,YMe=Ss,JMe=aj;function XMe(e,t,n){var r=YMe(e)?HMe:KMe;return n&&JMe(e,t,n)&&(t=void 0),r(e,GMe(t))}var QMe=XMe;const ZMe=qt(QMe);var Fi=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},$4=BV;function eDe(e,t,n){t=="__proto__"&&$4?$4(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var tDe=eDe,nDe=tDe,rDe=LV,sDe=nc;function aDe(e,t){var n={};return t=sDe(t),rDe(e,function(r,a,i){nDe(n,a,t(r,a,i))}),n}var iDe=aDe;const oDe=qt(iDe);function lDe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var cDe=lDe,uDe=PA;function dDe(e,t){var n=!0;return uDe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var hDe=dDe,fDe=cDe,mDe=hDe,pDe=nc,gDe=Ss,vDe=aj;function xDe(e,t,n){var r=gDe(e)?fDe:mDe;return n&&vDe(e,t,n)&&(t=void 0),r(e,pDe(t))}var yDe=xDe;const y7=qt(yDe);var bDe=["x","y"];function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dk.apply(this,arguments)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(r){wDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wDe(e,t,n){return t=jDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jDe(e){var t=_De(e,"string");return wg(t)=="symbol"?t:t+""}function _De(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NDe(e,t){if(e==null)return{};var n=SDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CDe(e,t){var n=e.x,r=e.y,a=NDe(e,bDe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return ym(ym(ym(ym(ym({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function L4(e){return K.createElement(cMe,Dk({shapeType:"rectangle",propTransformer:CDe,activeClassName:"recharts-active-bar"},e))}var kDe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,a):(i||uu(),n)}},EDe=["value","background"],b7;function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function PDe(e,t){if(e==null)return{};var n=ADe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ADe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(this,arguments)}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){_l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j7(r.key),r)}}function ODe(e,t,n){return t&&B4(e.prototype,t),n&&B4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MDe(e,t,n){return t=u0(t),DDe(e,w7()?Reflect.construct(t,n||[],u0(e).constructor):t.apply(e,n))}function DDe(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IDe(e)}function IDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!e})()}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(e)}function $De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ik(e,t)}function _l(e,t,n){return t=j7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=RDe(e,"string");return Rh(t)=="symbol"?t:t+""}function RDe(e,t){if(Rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hl=function(e){function t(){var n;TDe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=MDe(this,t,[].concat(a)),_l(n,"state",{isAnimationFinished:!1}),_l(n,"id",vv("recharts-bar-")),_l(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),_l(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return $De(t,e),ODe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Pt(this.props,!1);return r&&r.map(function(h,f){var m=f===c,g=m?u:o,p=$n($n($n({},d),h),{},{isActive:m,option:g,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Dn,c0({className:"recharts-bar-rectangle"},jb(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),K.createElement(L4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,f=this.state.prevData;return K.createElement(To,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(x,y){var b=f&&f[y];if(b){var j=Ka(b.x,x.x),_=Ka(b.y,x.y),S=Ka(b.width,x.width),N=Ka(b.height,x.height);return $n($n({},x),{},{x:j(g),y:_(g),width:S(g),height:N(g)})}if(o==="horizontal"){var C=Ka(0,x.height),k=C(g);return $n($n({},x),{},{y:x.y+x.height-k,height:k})}var D=Ka(0,x.width),I=D(g);return $n($n({},x),{},{width:I})});return K.createElement(Dn,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!mj(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Pt(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,f=PDe(u,EDe);if(!h)return null;var m=$n($n($n($n($n({},f),{},{fill:"#eee"},h),c),jb(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return K.createElement(L4,c0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=ba(d,_v);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,y){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Ys(x,y)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return K.createElement(Dn,g,h.map(function(p){return K.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,h=r.width,f=r.height,m=r.isAnimationActive,g=r.background,p=r.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,y=At("recharts-bar",o),b=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,_=b||j,S=Nt(p)?this.id:p;return K.createElement(Dn,{className:y},b||j?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(S)},K.createElement("rect",{x:b?u:u-h/2,y:j?d:d-f/2,width:b?h:h*2,height:j?f:f*2}))):null,K.createElement(Dn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||x)&&Il.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(v.PureComponent);b7=Hl;_l(Hl,"displayName","Bar");_l(Hl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_l(Hl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,m=_Pe(r,n);if(!m)return null;var g=t.layout,p=n.type.defaultProps,x=p!==void 0?$n($n({},p),n.props):n.props,y=x.dataKey,b=x.children,j=x.minPointSize,_=g==="horizontal"?o:i,S=u?_.scale.domain():null,N=TPe({numericAxis:_}),C=ba(b,GV),k=h.map(function(D,I){var E,L,U,F,$,M;u?E=NPe(u[d+I],S):(E=Ys(D,y),Array.isArray(E)||(E=[N,E]));var O=kDe(j,b7.defaultProps.minPointSize)(E[1],I);if(g==="horizontal"){var R,B=[o.scale(E[0]),o.scale(E[1])],T=B[0],G=B[1];L=FR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:D,index:I}),U=(R=G??T)!==null&&R!==void 0?R:void 0,F=m.size;var W=T-G;if($=Number.isNaN(W)?0:W,M={x:L,y:o.y,width:F,height:o.height},Math.abs(O)>0&&Math.abs($)<Math.abs(O)){var w=Xa($||O)*(Math.abs(O)-Math.abs($));U-=w,$+=w}}else{var A=[i.scale(E[0]),i.scale(E[1])],P=A[0],z=A[1];if(L=P,U=FR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:D,index:I}),F=z-P,$=m.size,M={x:i.x,y:U,width:i.width,height:$},Math.abs(O)>0&&Math.abs(F)<Math.abs(O)){var q=Xa(F||O)*(Math.abs(O)-Math.abs(F));F+=q}}return $n($n($n({},D),{},{x:L,y:U,width:F,height:$,value:u?E:E[1],payload:D,background:M},C&&C[I]&&C[I].props),{},{tooltipPayload:[ZW(n,D)],tooltipPosition:{x:L+F/2,y:U+$/2}})});return $n({data:k,layout:g},f)});function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function LDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_7(r.key),r)}}function FDe(e,t,n){return t&&U4(e.prototype,t),n&&U4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){yj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yj(e,t,n){return t=_7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _7(e){var t=BDe(e,"string");return jg(t)=="symbol"?t:t+""}function BDe(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N7=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!$s(u,Hl);return d.reduce(function(m,g){var p=n[g],x=p.orientation,y=p.domain,b=p.padding,j=b===void 0?{}:b,_=p.mirror,S=p.reversed,N="".concat(x).concat(_?"Mirror":""),C,k,D,I,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var L=y[1]-y[0],U=1/0,F=p.categoricalDomain.sort();if(F.forEach(function(A,P){P>0&&(U=Math.min((A||0)-(F[P-1]||0),U))}),Number.isFinite(U)){var $=U/L,M=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=$*M/2),p.padding==="no-gap"){var O=lu(t.barCategoryGap,$*M),R=$*M/2;C=R-O-(R-O)/M*O}}}a==="xAxis"?k=[r.left+(j.left||0)+(C||0),r.left+r.width-(j.right||0)-(C||0)]:a==="yAxis"?k=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(C||0),r.top+r.height-(j.bottom||0)-(C||0)]:k=p.range,S&&(k=[k[1],k[0]]);var B=wPe(p,i,f),T=B.scale,G=B.realScaleType;T.domain(y).range(k),jPe(T);var W=APe(T,Va(Va({},p),{},{realScaleType:G}));a==="xAxis"?(E=x==="top"&&!_||x==="bottom"&&_,D=r.left,I=h[N]-E*p.height):a==="yAxis"&&(E=x==="left"&&!_||x==="right"&&_,D=h[N]-E*p.width,I=r.top);var w=Va(Va(Va({},p),W),{},{realScaleType:G,x:D,y:I,scale:T,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return w.bandSize=Xb(w,W),!p.hide&&a==="xAxis"?h[N]+=(E?-1:1)*w.height:p.hide||(h[N]+=(E?-1:1)*w.width),Va(Va({},m),{},yj({},g,w))},{})},S7=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},UDe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return S7({x:n,y:r},{x:a,y:i})},C7=function(){function e(t){LDe(this,e),this.scale=t}return FDe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();yj(C7,"EPS",1e-4);var aT=function(t){var n=Object.keys(t).reduce(function(r,a){return Va(Va({},r),{},yj({},a,C7.create(t[a])))},{});return Va(Va({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return oDe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return y7(a,function(i,o){return n[o].isInRange(i)})}})};function zDe(e){return(e%180+180)%180}var qDe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=zDe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},VDe=nc,WDe=xv,HDe=rj;function GDe(e){return function(t,n,r){var a=Object(t);if(!WDe(t)){var i=VDe(n);t=HDe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var KDe=GDe,YDe=p7;function JDe(e){var t=YDe(e),n=t%1;return t===t?n?t-n:t:0}var XDe=JDe,QDe=OV,ZDe=nc,eIe=XDe,tIe=Math.max;function nIe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:eIe(n);return a<0&&(a=tIe(r+a,0)),QDe(e,ZDe(t),a)}var rIe=nIe,sIe=KDe,aIe=rIe,iIe=sIe(aIe),oIe=iIe;const lIe=qt(oIe);var cIe=oge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),iT=v.createContext(void 0),oT=v.createContext(void 0),k7=v.createContext(void 0),E7=v.createContext({}),P7=v.createContext(void 0),A7=v.createContext(0),T7=v.createContext(0),q4=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=cIe(i);return K.createElement(iT.Provider,{value:r},K.createElement(oT.Provider,{value:a},K.createElement(E7.Provider,{value:i},K.createElement(k7.Provider,{value:d},K.createElement(P7.Provider,{value:o},K.createElement(A7.Provider,{value:u},K.createElement(T7.Provider,{value:c},l)))))))},uIe=function(){return v.useContext(P7)},O7=function(t){var n=v.useContext(iT);n==null&&uu();var r=n[t];return r==null&&uu(),r},dIe=function(){var t=v.useContext(iT);return dl(t)},hIe=function(){var t=v.useContext(oT),n=lIe(t,function(r){return y7(r.domain,Number.isFinite)});return n||dl(t)},M7=function(t){var n=v.useContext(oT);n==null&&uu();var r=n[t];return r==null&&uu(),r},fIe=function(){var t=v.useContext(k7);return t},mIe=function(){return v.useContext(E7)},lT=function(){return v.useContext(T7)},cT=function(){return v.useContext(A7)};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function pIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I7(r.key),r)}}function vIe(e,t,n){return t&&gIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xIe(e,t,n){return t=d0(t),yIe(e,D7()?Reflect.construct(t,n||[],d0(e).constructor):t.apply(e,n))}function yIe(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bIe(e)}function bIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function d0(e){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(e)}function wIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$k(e,t)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$k(e,t)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){uT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uT(e,t,n){return t=I7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I7(e){var t=jIe(e,"string");return Lh(t)=="symbol"?t:t+""}function jIe(e,t){if(Lh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ie(e,t){return kIe(e)||CIe(e,t)||SIe(e,t)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SIe(e,t){if(e){if(typeof e=="string")return H4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H4(e,t)}}function H4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kIe(e){if(Array.isArray(e))return e}function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rk.apply(this,arguments)}var EIe=function(t,n){var r;return K.isValidElement(t)?r=K.cloneElement(t,n):jt(t)?r=t(n):r=K.createElement("line",Rk({},n,{className:"recharts-reference-line-line"})),r},PIe=function(t,n,r,a,i,o,l,c,u){var d=i.x,h=i.y,f=i.width,m=i.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(Fi(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+f,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(n){var y=u.x,b=t.x.apply(y,{position:o});if(Fi(u,"discard")&&!t.x.isInRange(b))return null;var j=[{x:b,y:h+m},{x:b,y:h}];return l==="top"?j.reverse():j}if(a){var _=u.segment,S=_.map(function(N){return t.apply(N,{position:o})});return Fi(u,"discard")&&ZMe(S,function(N){return!t.isInRange(N)})?null:S}return null};function AIe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=uIe(),d=O7(a),h=M7(i),f=fIe();if(!u||!f)return null;vo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=aT({x:d.scale,y:h.scale}),g=Hn(t),p=Hn(n),x=r&&r.length===2,y=PIe(m,g,p,x,f,e.position,d.orientation,h.orientation,e);if(!y)return null;var b=_Ie(y,2),j=b[0],_=j.x,S=j.y,N=b[1],C=N.x,k=N.y,D=Fi(e,"hidden")?"url(#".concat(u,")"):void 0,I=W4(W4({clipPath:D},Pt(e,!0)),{},{x1:_,y1:S,x2:C,y2:k});return K.createElement(Dn,{className:At("recharts-reference-line",l)},EIe(o,I),Cr.renderCallByParent(e,UDe({x1:_,y1:S,x2:C,y2:k})))}var dT=function(e){function t(){return pIe(this,t),xIe(this,t,arguments)}return wIe(t,e),vIe(t,[{key:"render",value:function(){return K.createElement(AIe,this.props)}}])}(K.Component);uT(dT,"displayName","ReferenceLine");uT(dT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lk.apply(this,arguments)}function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function K4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(r){bj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R7(r.key),r)}}function MIe(e,t,n){return t&&OIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DIe(e,t,n){return t=h0(t),IIe(e,$7()?Reflect.construct(t,n||[],h0(e).constructor):t.apply(e,n))}function IIe(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ie(e)}function $Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($7=function(){return!!e})()}function h0(e){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(e)}function RIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Fk(e,t)}function bj(e,t,n){return t=R7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R7(e){var t=LIe(e,"string");return Fh(t)=="symbol"?t:t+""}function LIe(e,t){if(Fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FIe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=aT({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Fi(t,"discard")&&!o.isInRange(l)?null:l},wj=function(e){function t(){return TIe(this,t),DIe(this,t,arguments)}return RIe(t,e),MIe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Hn(a),d=Hn(i);if(vo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=FIe(this.props);if(!h)return null;var f=h.x,m=h.y,g=this.props,p=g.shape,x=g.className,y=Fi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=K4(K4({clipPath:y},Pt(this.props,!0)),{},{cx:f,cy:m});return K.createElement(Dn,{className:At("recharts-reference-dot",x)},t.renderDot(p,b),Cr.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(K.Component);bj(wj,"displayName","ReferenceDot");bj(wj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});bj(wj,"renderDot",function(e,t){var n;return K.isValidElement(e)?n=K.cloneElement(e,t):jt(e)?n=e(t):n=K.createElement(sT,Lk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bk.apply(this,arguments)}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){jj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F7(r.key),r)}}function zIe(e,t,n){return t&&UIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qIe(e,t,n){return t=f0(t),VIe(e,L7()?Reflect.construct(t,n||[],f0(e).constructor):t.apply(e,n))}function VIe(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WIe(e)}function WIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!e})()}function f0(e){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(e)}function HIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uk(e,t)}function Uk(e,t){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Uk(e,t)}function jj(e,t,n){return t=F7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=GIe(e,"string");return Bh(t)=="symbol"?t:t+""}function GIe(e,t){if(Bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KIe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var f=aT({x:d.scale,y:h.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Fi(i,"discard")&&(!f.isInRange(m)||!f.isInRange(g))?null:S7(m,g)},_j=function(e){function t(){return BIe(this,t),qIe(this,t,arguments)}return HIe(t,e),zIe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;vo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Hn(a),f=Hn(i),m=Hn(o),g=Hn(l),p=this.props.shape;if(!h&&!f&&!m&&!g&&!p)return null;var x=KIe(h,f,m,g,this.props);if(!x&&!p)return null;var y=Fi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return K.createElement(Dn,{className:At("recharts-reference-area",c)},t.renderRect(p,J4(J4({clipPath:y},Pt(this.props,!0)),x)),Cr.renderCallByParent(this.props,x))}}])}(K.Component);jj(_j,"displayName","ReferenceArea");jj(_j,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jj(_j,"renderRect",function(e,t){var n;return K.isValidElement(e)?n=K.cloneElement(e,t):jt(e)?n=e(t):n=K.createElement(rT,Bk({},t,{className:"recharts-reference-area-rect"})),n});function B7(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function YIe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qDe(r,n)}function JIe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function m0(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function XIe(e,t){return B7(e,t+1)}function QIe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:B7(r,u)};var p=c,x,y=function(){return x===void 0&&(x=n(g,p)),x},b=g.coordinate,j=c===0||m0(e,b,y,d,l);j||(c=0,d=o,u+=1),j&&(d=b+e*(y()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(r){ZIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZIe(e,t,n){return t=e$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e$e(e){var t=t$e(e,"string");return _g(t)=="symbol"?t:t+""}function t$e(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n$e(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var m=i[f],g,p=function(){return g===void 0&&(g=n(m,f)),g};if(f===o-1){var x=e*(m.coordinate+e*p()/2-c);i[f]=m=_r(_r({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[f]=m=_r(_r({},m),{},{tickCoord:m.coordinate});var y=m0(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+a),i[f]=_r(_r({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function r$e(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],h=n(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=_r(_r({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=m0(e,d.tickCoord,function(){return h},c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=_r(_r({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(b){var j=o[b],_,S=function(){return _===void 0&&(_=n(j,b)),_};if(b===0){var N=e*(j.coordinate-e*S()/2-c);o[b]=j=_r(_r({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[b]=j=_r(_r({},j),{},{tickCoord:j.coordinate});var C=m0(e,j.tickCoord,S,c,u);C&&(c=j.tickCoord+e*(S()/2+a),o[b]=_r(_r({},j),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function hT(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(Ae(c)||xo.isSsr)return XIe(a,typeof c=="number"&&Ae(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?np(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,_){var S=jt(u)?u(j.value,_):j.value;return m==="width"?YIe(np(S,{fontSize:t,letterSpacing:n}),g,h):np(S,{fontSize:t,letterSpacing:n})[m]},x=a.length>=2?Xa(a[1].coordinate-a[0].coordinate):1,y=JIe(i,x,m);return c==="equidistantPreserveStart"?QIe(x,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=r$e(x,y,p,a,o,c==="preserveStartEnd"):f=n$e(x,y,p,a,o),f.filter(function(b){return b.isShow}))}var s$e=["viewBox"],a$e=["viewBox"],i$e=["ticks"];function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(r){fT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L1(e,t){if(e==null)return{};var n=o$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z7(r.key),r)}}function c$e(e,t,n){return t&&Z4(e.prototype,t),n&&Z4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u$e(e,t,n){return t=p0(t),d$e(e,U7()?Reflect.construct(t,n||[],p0(e).constructor):t.apply(e,n))}function d$e(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(e)}function h$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U7=function(){return!!e})()}function p0(e){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(e)}function f$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zk(e,t)}function fT(e,t,n){return t=z7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z7(e){var t=m$e(e,"string");return Uh(t)=="symbol"?t:t+""}function m$e(e,t){if(Uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf=function(e){function t(n){var r;return l$e(this,t),r=u$e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return f$e(t,e),c$e(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=L1(r,s$e),l=this.props,c=l.viewBox,u=L1(l,a$e);return!Rd(i,c)||!Rd(o,u)||!Rd(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,f=a.tickMargin,m,g,p,x,y,b,j=h?-1:1,_=r.tickSize||d,S=Ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,x=o+ +!h*c,p=x-j*_,b=p-j*f,y=S;break;case"left":p=x=r.coordinate,g=i+ +!h*l,m=g-j*_,y=m-j*f,b=S;break;case"right":p=x=r.coordinate,g=i+ +h*l,m=g+j*_,y=m+j*f,b=S;break;default:m=g=r.coordinate,x=o+ +h*c,p=x+j*_,b=p+j*f,y=S;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,h=Fr(Fr(Fr({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Fr(Fr({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Fr(Fr({},h),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return K.createElement("line",wd({},h,{className:At("recharts-cartesian-axis-line",ya(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,m=hT(Fr(Fr({},this.props),{},{ticks:r}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=Pt(this.props,!1),y=Pt(d,!1),b=Fr(Fr({},x),{},{fill:"none"},Pt(c,!1)),j=m.map(function(_,S){var N=o.getTickLineCoord(_),C=N.line,k=N.tick,D=Fr(Fr(Fr(Fr({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},y),k),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:h});return K.createElement(Dn,wd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},jb(o.props,_,S)),c&&K.createElement("line",wd({},b,C,{className:At("recharts-cartesian-axis-tick-line",ya(c,"className"))})),d&&t.renderTickItem(d,D,"".concat(jt(h)?h(_.value,S):_.value).concat(f||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,f=h.ticks,m=L1(h,i$e),g=f;return jt(c)&&(g=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:K.createElement(Dn,{className:At("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,a):jt(r)?o=r(a):o=K.createElement(Rb,wd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);fT(Tf,"displayName","CartesianAxis");fT(Tf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var p$e=["x1","y1","x2","y2","key"],g$e=["offset"];function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){v$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v$e(e,t,n){return t=x$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x$e(e){var t=y$e(e,"string");return du(t)=="symbol"?t:t+""}function y$e(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mc.apply(this,arguments)}function tL(e,t){if(e==null)return{};var n=b$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function b$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var w$e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return K.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q7(e,t){var n;if(K.isValidElement(e))n=K.cloneElement(e,t);else if(jt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=tL(t,p$e),u=Pt(c,!1);u.offset;var d=tL(u,g$e);n=K.createElement("line",Mc({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function j$e(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=kr(kr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return q7(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _$e(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=kr(kr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return q7(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function N$e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?a+o-f:d[m+1]-f;if(p<=0)return null;var x=m%t.length;return K.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function S$e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==d[0]&&d.unshift(0);var h=d.map(function(f,m){var g=!d[m+1],p=g?i+l-f:d[m+1]-f;if(p<=0)return null;var x=m%r.length;return K.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var C$e=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return XW(hT(kr(kr(kr({},Tf.defaultProps),r),{},{ticks:uo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},k$e=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return XW(hT(kr(kr(kr({},Tf.defaultProps),r),{},{ticks:uo(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Zu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function V7(e){var t,n,r,a,i,o,l=lT(),c=cT(),u=mIe(),d=kr(kr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Zu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Zu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Zu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Zu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Zu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Zu.verticalFill,x:Ae(e.x)?e.x:u.left,y:Ae(e.y)?e.y:u.top,width:Ae(e.width)?e.width:u.width,height:Ae(e.height)?e.height:u.height}),h=d.x,f=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,y=d.verticalValues,b=dIe(),j=hIe();if(!Ae(m)||m<=0||!Ae(g)||g<=0||!Ae(h)||h!==+h||!Ae(f)||f!==+f)return null;var _=d.verticalCoordinatesGenerator||C$e,S=d.horizontalCoordinatesGenerator||k$e,N=d.horizontalPoints,C=d.verticalPoints;if((!N||!N.length)&&jt(S)){var k=x&&x.length,D=S({yAxis:j?kr(kr({},j),{},{ticks:k?x:j.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);vo(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(du(D),"]")),Array.isArray(D)&&(N=D)}if((!C||!C.length)&&jt(_)){var I=y&&y.length,E=_({xAxis:b?kr(kr({},b),{},{ticks:I?y:b.ticks}):void 0,width:l,height:c,offset:u},I?!0:p);vo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(du(E),"]")),Array.isArray(E)&&(C=E)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(w$e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),K.createElement(j$e,Mc({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:j})),K.createElement(_$e,Mc({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:j})),K.createElement(N$e,Mc({},d,{horizontalPoints:N})),K.createElement(S$e,Mc({},d,{verticalPoints:C})))}V7.displayName="CartesianGrid";var E$e=["type","layout","connectNulls","ref"],P$e=["key"];function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function nL(e,t){if(e==null)return{};var n=A$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(this,arguments)}function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(r){Wa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ed(e){return D$e(e)||M$e(e)||O$e(e)||T$e()}function T$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,t){if(e){if(typeof e=="string")return qk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qk(e,t)}}function M$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D$e(e){if(Array.isArray(e))return qk(e)}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H7(r.key),r)}}function $$e(e,t,n){return t&&sL(e.prototype,t),n&&sL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$e(e,t,n){return t=g0(t),L$e(e,W7()?Reflect.construct(t,n||[],g0(e).constructor):t.apply(e,n))}function L$e(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$e(e)}function F$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!e})()}function g0(e){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(e)}function B$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Vk(e,t)}function Wa(e,t,n){return t=H7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e){var t=U$e(e,"string");return zh(t)=="symbol"?t:t+""}function U$e(e,t){if(zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Of=function(e){function t(){var n;I$e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=R$e(this,t,[].concat(a)),Wa(n,"state",{isAnimationFinished:!0,totalLength:0}),Wa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Wa(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>h){m=[].concat(ed(c.slice(0,g)),[h-p]);break}var x=m.length%2===0?[0,f]:[f];return[].concat(ed(t.repeat(c,d)),ed(m),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Wa(n,"id",vv("recharts-line-")),Wa(n,"pathRef",function(o){n.mainCurve=o}),Wa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Wa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return B$e(t,e),$$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=ba(d,_v);if(!h)return null;var f=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Ys(p.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return K.createElement(Dn,m,h.map(function(g){return K.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Pt(this.props,!1),f=Pt(c,!0),m=u.map(function(p,x){var y=As(As(As({key:"dot-".concat(x),r:3},h),f),{},{value:p.value,dataKey:d,cx:p.x,cy:p.y,index:x,payload:p.payload});return t.renderDotItem(c,y)}),g={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Dn,ip({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=nL(l,E$e),f=As(As(As({},Pt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return K.createElement(wk,ip({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,y=this.state,b=y.prevPoints,j=y.totalLength;return K.createElement(To,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(b){var N=b.length/l.length,C=l.map(function(L,U){var F=Math.floor(U*N);if(b[F]){var $=b[F],M=Ka($.x,L.x),O=Ka($.y,L.y);return As(As({},L),{},{x:M(S),y:O(S)})}if(g){var R=Ka(p*2,L.x),B=Ka(x/2,L.y);return As(As({},L),{},{x:R(S),y:B(S)})}return As(As({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(C,r,a)}var k=Ka(0,j),D=k(S),I;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});I=i.getStrokeDasharray(D,j,E)}else I=i.generateSimpleStrokeDasharray(j,D);return i.renderCurveStatically(l,r,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!mj(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,f=a.left,m=a.width,g=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,j=At("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=_||S,C=Nt(x)?this.id:x,k=(r=Pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=k.r,I=D===void 0?3:D,E=k.strokeWidth,L=E===void 0?2:E,U=hve(o)?o:{},F=U.clipDot,$=F===void 0?!0:F,M=I*2+L;return K.createElement(Dn,{className:j},_||S?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(C)},K.createElement("rect",{x:_?f:f-m/2,y:S?h:h-g/2,width:_?m:m*2,height:S?g:g*2})),!$&&K.createElement("clipPath",{id:"clipPath-dots-".concat(C)},K.createElement("rect",{x:f-M/2,y:h-M/2,width:m+M,height:g+M}))):null,!b&&this.renderCurve(N,C),this.renderErrorBar(N,C),(b||o)&&this.renderDots(N,$,C),(!p||y)&&Il.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(ed(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(ed(o),ed(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(K.isValidElement(r))i=K.cloneElement(r,a);else if(jt(r))i=r(a);else{var o=a.key,l=nL(a,P$e),c=At("recharts-line-dot",typeof r!="boolean"?r.className:"");i=K.createElement(sT,ip({key:o},l,{className:c}))}return i}}])}(v.PureComponent);Wa(Of,"displayName","Line");Wa(Of,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Wa(Of,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(f,m){var g=Ys(f,o);return d==="horizontal"?{x:LR({axis:n,ticks:a,bandSize:l,entry:f,index:m}),y:Nt(g)?null:r.scale(g),value:g,payload:f}:{x:Nt(g)?null:n.scale(g),y:LR({axis:r,ticks:i,bandSize:l,entry:f,index:m}),value:g,payload:f}});return As({points:h,layout:d},u)});function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function z$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y7(r.key),r)}}function V$e(e,t,n){return t&&q$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$e(e,t,n){return t=v0(t),H$e(e,G7()?Reflect.construct(t,n||[],v0(e).constructor):t.apply(e,n))}function H$e(e,t){if(t&&(qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G$e(e)}function G$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!e})()}function v0(e){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v0(e)}function K$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wk(e,t)}function Wk(e,t){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wk(e,t)}function K7(e,t,n){return t=Y7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7(e){var t=Y$e(e,"string");return qh(t)=="symbol"?t:t+""}function Y$e(e,t){if(qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hk.apply(this,arguments)}function J$e(e){var t=e.xAxisId,n=lT(),r=cT(),a=O7(t);return a==null?null:K.createElement(Tf,Hk({},a,{className:At("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return uo(o,!0)}}))}var hu=function(e){function t(){return z$e(this,t),W$e(this,t,arguments)}return K$e(t,e),V$e(t,[{key:"render",value:function(){return K.createElement(J$e,this.props)}}])}(K.Component);K7(hu,"displayName","XAxis");K7(hu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function X$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q7(r.key),r)}}function Z$e(e,t,n){return t&&Q$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eRe(e,t,n){return t=x0(t),tRe(e,J7()?Reflect.construct(t,n||[],x0(e).constructor):t.apply(e,n))}function tRe(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nRe(e)}function nRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!e})()}function x0(e){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(e)}function rRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Gk(e,t)}function X7(e,t,n){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q7(e){var t=sRe(e,"string");return Vh(t)=="symbol"?t:t+""}function sRe(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kk.apply(this,arguments)}var aRe=function(t){var n=t.yAxisId,r=lT(),a=cT(),i=M7(n);return i==null?null:K.createElement(Tf,Kk({},i,{className:At("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return uo(l,!0)}}))},fu=function(e){function t(){return X$e(this,t),eRe(this,t,arguments)}return rRe(t,e),Z$e(t,[{key:"render",value:function(){return K.createElement(aRe,this.props)}}])}(K.Component);X7(fu,"displayName","YAxis");X7(fu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aL(e){return cRe(e)||lRe(e)||oRe(e)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(e,t){if(e){if(typeof e=="string")return Yk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yk(e,t)}}function lRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cRe(e){if(Array.isArray(e))return Yk(e)}function Yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jk=function(t,n,r,a,i){var o=ba(t,dT),l=ba(t,wj),c=[].concat(aL(o),aL(l)),u=ba(t,_j),d="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(p,x){if(x.props[d]===r&&Fi(x.props,"extendDomain")&&Ae(x.props[h])){var y=x.props[h];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},f)),u.length){var m="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(p,x){if(x.props[d]===r&&Fi(x.props,"extendDomain")&&Ae(x.props[m])&&Ae(x.props[g])){var y=x.props[m],b=x.props[g];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,x){return Ae(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},f)),f},Z7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var x=this._events[p],y=arguments.length,b,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,g),!0}for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];x.fn.apply(x.context,b)}else{var _=x.length,S;for(j=0;j<_;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),y){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,h);break;case 4:x[j].fn.call(x[j].context,d,h,f);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];x[j].fn.apply(x[j].context,b)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&o(this,m);else{for(var p=0,x=[],y=g.length;p<y;p++)(g[p].fn!==d||f&&!g[p].once||h&&g[p].context!==h)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Z7);var uRe=Z7.exports;const dRe=qt(uRe);var F1=new dRe,B1="recharts.syncMouseEvents";function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e9(r.key),r)}}function mRe(e,t,n){return t&&fRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U1(e,t,n){return t=e9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e9(e){var t=pRe(e,"string");return Ng(t)=="symbol"?t:t+""}function pRe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gRe=function(){function e(){hRe(this,e),U1(this,"activeIndex",0),U1(this,"coordinateList",[]),U1(this,"layout","horizontal")}return mRe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,h=d===void 0?null:d,f=n.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function vRe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Ae(r)&&Ae(a))return!0}return!1}function xRe(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function t9(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=pr(t,n,r,a),l=pr(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function yRe(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,f=pr(l,c,u,h),m=pr(l,c,d,h);r=f.x,a=f.y,i=m.x,o=m.y}else return t9(t);return[{x:r,y:a},{x:i,y:o}]}function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(r){bRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bRe(e,t,n){return t=wRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wRe(e){var t=jRe(e,"string");return Sg(t)=="symbol"?t:t+""}function jRe(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Re(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var g,p=wk;if(f==="ScatterChart")g=o,p=_Oe;else if(f==="BarChart")g=xRe(h,o,c,d),p=rT;else if(h==="radial"){var x=t9(o),y=x.cx,b=x.cy,j=x.radius,_=x.startAngle,S=x.endAngle;g={cx:y,cy:b,startAngle:_,endAngle:S,innerRadius:j,outerRadius:j},p=n7}else g={points:yRe(h,o,c)},p=wk;var N=Rx(Rx(Rx(Rx({stroke:"#ccc",pointerEvents:"none"},c),g),Pt(m,!1)),{},{payload:l,payloadIndex:u,className:At("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,N):v.createElement(p,N)}var NRe=["item"],SRe=["children","className","width","height","style","compact","title","desc"];function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(this,arguments)}function oL(e,t){return ERe(e)||kRe(e,t)||r9(e,t)||CRe()}function CRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ERe(e){if(Array.isArray(e))return e}function lL(e,t){if(e==null)return{};var n=PRe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ARe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s9(r.key),r)}}function ORe(e,t,n){return t&&TRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MRe(e,t,n){return t=y0(t),DRe(e,n9()?Reflect.construct(t,n||[],y0(e).constructor):t.apply(e,n))}function DRe(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(e)}function IRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!e})()}function y0(e){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}function Xk(e,t){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Xk(e,t)}function Hh(e){return FRe(e)||LRe(e)||r9(e)||RRe()}function RRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(e,t){if(e){if(typeof e=="string")return Qk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(e,t)}}function LRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FRe(e){if(Array.isArray(e))return Qk(e)}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(n),!0).forEach(function(r){Ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ze(e,t,n){return t=s9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9(e){var t=BRe(e,"string");return Wh(t)=="symbol"?t:t+""}function BRe(e,t){if(Wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var URe={xAxis:["bottom","top"],yAxis:["left","right"]},zRe={width:"100%",height:"100%"},a9={x:0,y:0};function Lx(e){return e}var qRe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},VRe=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return fe(fe(fe({},a),pr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return fe(fe(fe({},a),pr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return a9},Nj=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hh(l),Hh(u)):l},[]);return o.length>0?o:t&&t.length&&Ae(a)&&Ae(i)?t.slice(a,i+1):[]};function i9(e){return e==="number"?[0,"auto"]:void 0}var Zk=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Nj(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=bb(m,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(Hh(c),[ZW(u,f)]):c},[])},uL=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=qRe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=pPe(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=Zk(t,n,d,h),m=VRe(r,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},WRe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=t.stackOffset,m=JW(d,i);return r.reduce(function(g,p){var x,y=p.type.defaultProps!==void 0?fe(fe({},p.type.defaultProps),p.props):p.props,b=y.type,j=y.dataKey,_=y.allowDataOverflow,S=y.allowDuplicatedCategory,N=y.scale,C=y.ticks,k=y.includeHidden,D=y[o];if(g[D])return g;var I=Nj(t.data,{graphicalItems:a.filter(function(W){var w,A=o in W.props?W.props[o]:(w=W.type.defaultProps)===null||w===void 0?void 0:w[o];return A===D}),dataStartIndex:c,dataEndIndex:u}),E=I.length,L,U,F;vRe(y.domain,_,b)&&(L=gk(y.domain,null,_),m&&(b==="number"||N!=="auto")&&(F=sp(I,j,"category")));var $=i9(b);if(!L||L.length===0){var M,O=(M=y.domain)!==null&&M!==void 0?M:$;if(j){if(L=sp(I,j,b),b==="category"&&m){var R=rve(L);S&&R?(U=L,L=i0(0,E)):S||(L=zR(O,L,p).reduce(function(W,w){return W.indexOf(w)>=0?W:[].concat(Hh(W),[w])},[]))}else if(b==="category")S?L=L.filter(function(W){return W!==""&&!Nt(W)}):L=zR(O,L,p).reduce(function(W,w){return W.indexOf(w)>=0||w===""||Nt(w)?W:[].concat(Hh(W),[w])},[]);else if(b==="number"){var B=bPe(I,a.filter(function(W){var w,A,P=o in W.props?W.props[o]:(w=W.type.defaultProps)===null||w===void 0?void 0:w[o],z="hide"in W.props?W.props.hide:(A=W.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===D&&(k||!z)}),j,i,d);B&&(L=B)}m&&(b==="number"||N!=="auto")&&(F=sp(I,j,"category"))}else m?L=i0(0,E):l&&l[D]&&l[D].hasStack&&b==="number"?L=f==="expand"?[0,1]:QW(l[D].stackGroups,c,u):L=YW(I,a.filter(function(W){var w=o in W.props?W.props[o]:W.type.defaultProps[o],A="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return w===D&&(k||!A)}),b,d,!0);if(b==="number")L=Jk(h,L,D,i,C),O&&(L=gk(O,L,_));else if(b==="category"&&O){var T=O,G=L.every(function(W){return T.indexOf(W)>=0});G&&(L=T)}}return fe(fe({},g),{},Ze({},D,fe(fe({},y),{},{axisType:i,domain:L,categoricalDomain:F,duplicateDomain:U,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:m,layout:d})))},{})},HRe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,h=t.children,f=Nj(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=f.length,g=JW(d,i),p=-1;return r.reduce(function(x,y){var b=y.type.defaultProps!==void 0?fe(fe({},y.type.defaultProps),y.props):y.props,j=b[o],_=i9("number");if(!x[j]){p++;var S;return g?S=i0(0,m):l&&l[j]&&l[j].hasStack?(S=QW(l[j].stackGroups,c,u),S=Jk(h,S,j,i)):(S=gk(_,YW(f,r.filter(function(N){var C,k,D=o in N.props?N.props[o]:(C=N.type.defaultProps)===null||C===void 0?void 0:C[o],I="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return D===j&&!I}),"number",d),a.defaultProps.allowDataOverflow),S=Jk(h,S,j,i)),fe(fe({},x),{},Ze({},j,fe(fe({axisType:i},a.defaultProps),{},{hide:!0,orientation:ya(URe,"".concat(i,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},GRe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,h="".concat(a,"Id"),f=ba(d,i),m={};return f&&f.length?m=WRe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=HRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},KRe=function(t){var n=dl(t),r=uo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:AA(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Xb(n,r)}},dL=function(t){var n=t.children,r=t.defaultShowTooltip,a=$s(n,$h),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},YRe=function(t){return!t||!t.length?!1:t.some(function(n){var r=go(n&&n.type);return r&&r.indexOf("Bar")>=0})},hL=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JRe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,h=r.children,f=r.margin||{},m=$s(h,$h),g=$s(h,Ld),p=Object.keys(c).reduce(function(S,N){var C=c[N],k=C.orientation;return!C.mirror&&!C.hide?fe(fe({},S),{},Ze({},k,S[k]+C.width)):S},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(S,N){var C=o[N],k=C.orientation;return!C.mirror&&!C.hide?fe(fe({},S),{},Ze({},k,ya(S,"".concat(k))+C.height)):S},{top:f.top||0,bottom:f.bottom||0}),y=fe(fe({},x),p),b=y.bottom;m&&(y.bottom+=m.props.height||$h.defaultProps.height),g&&n&&(y=xPe(y,a,r,n));var j=u-y.left-y.right,_=d-y.top-y.bottom;return fe(fe({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(_,0)})},XRe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},o9=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,f=function(x,y){var b=y.graphicalItems,j=y.stackGroups,_=y.offset,S=y.updateId,N=y.dataStartIndex,C=y.dataEndIndex,k=x.barSize,D=x.layout,I=x.barGap,E=x.barCategoryGap,L=x.maxBarSize,U=hL(D),F=U.numericAxisName,$=U.cateAxisName,M=YRe(b),O=[];return b.forEach(function(R,B){var T=Nj(x.data,{graphicalItems:[R],dataStartIndex:N,dataEndIndex:C}),G=R.type.defaultProps!==void 0?fe(fe({},R.type.defaultProps),R.props):R.props,W=G.dataKey,w=G.maxBarSize,A=G["".concat(F,"Id")],P=G["".concat($,"Id")],z={},q=c.reduce(function(ct,he){var pe=y["".concat(he.axisType,"Map")],ae=G["".concat(he.axisType,"Id")];pe&&pe[ae]||he.axisType==="zAxis"||uu();var Ne=pe[ae];return fe(fe({},ct),{},Ze(Ze({},he.axisType,Ne),"".concat(he.axisType,"Ticks"),uo(Ne)))},z),te=q[$],X=q["".concat($,"Ticks")],V=j&&j[A]&&j[A].hasStack&&OPe(R,j[A].stackGroups),se=go(R.type).indexOf("Bar")>=0,ee=Xb(te,X),ge=[],Se=M&&gPe({barSize:k,stackGroups:j,totalSize:XRe(q,$)});if(se){var ze,We,Le=Nt(w)?L:w,Je=(ze=(We=Xb(te,X,!0))!==null&&We!==void 0?We:Le)!==null&&ze!==void 0?ze:0;ge=vPe({barGap:I,barCategoryGap:E,bandSize:Je!==ee?Je:ee,sizeList:Se[P],maxBarSize:Le}),Je!==ee&&(ge=ge.map(function(ct){return fe(fe({},ct),{},{position:fe(fe({},ct.position),{},{offset:ct.position.offset-Je/2})})}))}var Ye=R&&R.type&&R.type.getComposedData;Ye&&O.push({props:fe(fe({},Ye(fe(fe({},q),{},{displayedData:T,props:x,dataKey:W,item:R,bandSize:ee,barPosition:ge,offset:_,stackedData:V,layout:D,dataStartIndex:N,dataEndIndex:C}))),{},Ze(Ze(Ze({key:R.key||"item-".concat(B)},F,q[F]),$,q[$]),"animationId",S)),childIndex:pve(R,x.children),item:R})}),O},m=function(x,y){var b=x.props,j=x.dataStartIndex,_=x.dataEndIndex,S=x.updateId;if(!II({props:b}))return null;var N=b.children,C=b.layout,k=b.stackOffset,D=b.data,I=b.reverseStackOrder,E=hL(C),L=E.numericAxisName,U=E.cateAxisName,F=ba(N,r),$=PPe(D,F,"".concat(L,"Id"),"".concat(U,"Id"),k,I),M=c.reduce(function(G,W){var w="".concat(W.axisType,"Map");return fe(fe({},G),{},Ze({},w,GRe(b,fe(fe({},W),{},{graphicalItems:F,stackGroups:W.axisType===L&&$,dataStartIndex:j,dataEndIndex:_}))))},{}),O=JRe(fe(fe({},M),{},{props:b,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(G){M[G]=d(b,M[G],O,G.replace("Map",""),n)});var R=M["".concat(U,"Map")],B=KRe(R),T=f(b,fe(fe({},M),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:F,stackGroups:$,offset:O}));return fe(fe({formattedGraphicalItems:T,graphicalItems:F,offset:O,stackGroups:$},B),M)},g=function(p){function x(y){var b,j,_;return ARe(this,x),_=MRe(this,x,[y]),Ze(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ze(_,"accessibilityManager",new gRe),Ze(_,"handleLegendBBoxUpdate",function(S){if(S){var N=_.state,C=N.dataStartIndex,k=N.dataEndIndex,D=N.updateId;_.setState(fe({legendBBox:S},m({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:D},fe(fe({},_.state),{},{legendBBox:S}))))}}),Ze(_,"handleReceiveSyncEvent",function(S,N,C){if(_.props.syncId===S){if(C===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(N)}}),Ze(_,"handleBrushChange",function(S){var N=S.startIndex,C=S.endIndex;if(N!==_.state.dataStartIndex||C!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return fe({dataStartIndex:N,dataEndIndex:C},m({props:_.props,dataStartIndex:N,dataEndIndex:C,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:N,dataEndIndex:C})}}),Ze(_,"handleMouseEnter",function(S){var N=_.getMouseInfo(S);if(N){var C=fe(fe({},N),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseEnter;jt(k)&&k(C,S)}}),Ze(_,"triggeredAfterMouseMove",function(S){var N=_.getMouseInfo(S),C=N?fe(fe({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var k=_.props.onMouseMove;jt(k)&&k(C,S)}),Ze(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ze(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Ze(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),Ze(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};_.setState(N),_.triggerSyncEvent(N);var C=_.props.onMouseLeave;jt(C)&&C(N,S)}),Ze(_,"handleOuterEvent",function(S){var N=mve(S),C=ya(_.props,"".concat(N));if(N&&jt(C)){var k,D;/.*touch.*/i.test(N)?D=_.getMouseInfo(S.changedTouches[0]):D=_.getMouseInfo(S),C((k=D)!==null&&k!==void 0?k:{},S)}}),Ze(_,"handleClick",function(S){var N=_.getMouseInfo(S);if(N){var C=fe(fe({},N),{},{isTooltipActive:!0});_.setState(C),_.triggerSyncEvent(C);var k=_.props.onClick;jt(k)&&k(C,S)}}),Ze(_,"handleMouseDown",function(S){var N=_.props.onMouseDown;if(jt(N)){var C=_.getMouseInfo(S);N(C,S)}}),Ze(_,"handleMouseUp",function(S){var N=_.props.onMouseUp;if(jt(N)){var C=_.getMouseInfo(S);N(C,S)}}),Ze(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ze(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),Ze(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),Ze(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&F1.emit(B1,_.props.syncId,S,_.eventEmitterSymbol)}),Ze(_,"applySyncEvent",function(S){var N=_.props,C=N.layout,k=N.syncMethod,D=_.state.updateId,I=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(fe({dataStartIndex:I,dataEndIndex:E},m({props:_.props,dataStartIndex:I,dataEndIndex:E,updateId:D},_.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,U=S.chartY,F=S.activeTooltipIndex,$=_.state,M=$.offset,O=$.tooltipTicks;if(!M)return;if(typeof k=="function")F=k(O,S);else if(k==="value"){F=-1;for(var R=0;R<O.length;R++)if(O[R].value===S.activeLabel){F=R;break}}var B=fe(fe({},M),{},{x:M.left,y:M.top}),T=Math.min(L,B.x+B.width),G=Math.min(U,B.y+B.height),W=O[F]&&O[F].value,w=Zk(_.state,_.props.data,F),A=O[F]?{x:C==="horizontal"?O[F].coordinate:T,y:C==="horizontal"?G:O[F].coordinate}:a9;_.setState(fe(fe({},S),{},{activeLabel:W,activeCoordinate:A,activePayload:w,activeTooltipIndex:F}))}else _.setState(S)}),Ze(_,"renderCursor",function(S){var N,C=_.state,k=C.isTooltipActive,D=C.activeCoordinate,I=C.activePayload,E=C.offset,L=C.activeTooltipIndex,U=C.tooltipAxisBandSize,F=_.getTooltipEventType(),$=(N=S.props.active)!==null&&N!==void 0?N:k,M=_.props.layout,O=S.key||"_recharts-cursor";return K.createElement(_Re,{key:O,activeCoordinate:D,activePayload:I,activeTooltipIndex:L,chartName:n,element:S,isActive:$,layout:M,offset:E,tooltipAxisBandSize:U,tooltipEventType:F})}),Ze(_,"renderPolarAxis",function(S,N,C){var k=ya(S,"type.axisType"),D=ya(_.state,"".concat(k,"Map")),I=S.type.defaultProps,E=I!==void 0?fe(fe({},I),S.props):S.props,L=D&&D[E["".concat(k,"Id")]];return v.cloneElement(S,fe(fe({},L),{},{className:At(k,L.className),key:S.key||"".concat(N,"-").concat(C),ticks:uo(L,!0)}))}),Ze(_,"renderPolarGrid",function(S){var N=S.props,C=N.radialLines,k=N.polarAngles,D=N.polarRadius,I=_.state,E=I.radiusAxisMap,L=I.angleAxisMap,U=dl(E),F=dl(L),$=F.cx,M=F.cy,O=F.innerRadius,R=F.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(k)?k:uo(F,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(D)?D:uo(U,!0).map(function(B){return B.coordinate}),cx:$,cy:M,innerRadius:O,outerRadius:R,key:S.key||"polar-grid",radialLines:C})}),Ze(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,N=_.props,C=N.children,k=N.width,D=N.height,I=_.props.margin||{},E=k-(I.left||0)-(I.right||0),L=GW({children:C,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!L)return null;var U=L.item,F=lL(L,NRe);return v.cloneElement(U,fe(fe({},F),{},{chartWidth:k,chartHeight:D,margin:I,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Ze(_,"renderTooltip",function(){var S,N=_.props,C=N.children,k=N.accessibilityLayer,D=$s(C,qa);if(!D)return null;var I=_.state,E=I.isTooltipActive,L=I.activeCoordinate,U=I.activePayload,F=I.activeLabel,$=I.offset,M=(S=D.props.active)!==null&&S!==void 0?S:E;return v.cloneElement(D,{viewBox:fe(fe({},$),{},{x:$.left,y:$.top}),active:M,label:F,payload:M?U:[],coordinate:L,accessibilityLayer:k})}),Ze(_,"renderBrush",function(S){var N=_.props,C=N.margin,k=N.data,D=_.state,I=D.offset,E=D.dataStartIndex,L=D.dataEndIndex,U=D.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Mx(_.handleBrushChange,S.props.onChange),data:k,x:Ae(S.props.x)?S.props.x:I.left,y:Ae(S.props.y)?S.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:Ae(S.props.width)?S.props.width:I.width,startIndex:E,endIndex:L,updateId:"brush-".concat(U)})}),Ze(_,"renderReferenceElement",function(S,N,C){if(!S)return null;var k=_,D=k.clipPathId,I=_.state,E=I.xAxisMap,L=I.yAxisMap,U=I.offset,F=S.type.defaultProps||{},$=S.props,M=$.xAxisId,O=M===void 0?F.xAxisId:M,R=$.yAxisId,B=R===void 0?F.yAxisId:R;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(C),xAxis:E[O],yAxis:L[B],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:D})}),Ze(_,"renderActivePoints",function(S){var N=S.item,C=S.activePoint,k=S.basePoint,D=S.childIndex,I=S.isRange,E=[],L=N.props.key,U=N.item.type.defaultProps!==void 0?fe(fe({},N.item.type.defaultProps),N.item.props):N.item.props,F=U.activeDot,$=U.dataKey,M=fe(fe({index:D,dataKey:$,cx:C.x,cy:C.y,r:4,fill:nT(N.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Pt(F,!1)),wb(F));return E.push(x.renderActiveDot(F,M,"".concat(L,"-activePoint-").concat(D))),k?E.push(x.renderActiveDot(F,fe(fe({},M),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(D))):I&&E.push(null),E}),Ze(_,"renderGraphicChild",function(S,N,C){var k=_.filterFormatItem(S,N,C);if(!k)return null;var D=_.getTooltipEventType(),I=_.state,E=I.isTooltipActive,L=I.tooltipAxis,U=I.activeTooltipIndex,F=I.activeLabel,$=_.props.children,M=$s($,qa),O=k.props,R=O.points,B=O.isRange,T=O.baseLine,G=k.item.type.defaultProps!==void 0?fe(fe({},k.item.type.defaultProps),k.item.props):k.item.props,W=G.activeDot,w=G.hide,A=G.activeBar,P=G.activeShape,z=!!(!w&&E&&M&&(W||A||P)),q={};D!=="axis"&&M&&M.props.trigger==="click"?q={onClick:Mx(_.handleItemMouseEnter,S.props.onClick)}:D!=="axis"&&(q={onMouseLeave:Mx(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Mx(_.handleItemMouseEnter,S.props.onMouseEnter)});var te=v.cloneElement(S,fe(fe({},k.props),q));function X(he){return typeof L.dataKey=="function"?L.dataKey(he.payload):null}if(z)if(U>=0){var V,se;if(L.dataKey&&!L.allowDuplicatedCategory){var ee=typeof L.dataKey=="function"?X:"payload.".concat(L.dataKey.toString());V=bb(R,ee,F),se=B&&T&&bb(T,ee,F)}else V=R==null?void 0:R[U],se=B&&T&&T[U];if(P||A){var ge=S.props.activeIndex!==void 0?S.props.activeIndex:U;return[v.cloneElement(S,fe(fe(fe({},k.props),q),{},{activeIndex:ge})),null,null]}if(!Nt(V))return[te].concat(Hh(_.renderActivePoints({item:k,activePoint:V,basePoint:se,childIndex:U,isRange:B})))}else{var Se,ze=(Se=_.getItemByXY(_.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:te},We=ze.graphicalItem,Le=We.item,Je=Le===void 0?S:Le,Ye=We.childIndex,ct=fe(fe(fe({},k.props),q),{},{activeIndex:Ye});return[v.cloneElement(Je,ct),null,null]}return B?[te,null,null]:[te,null]}),Ze(_,"renderCustomized",function(S,N,C){return v.cloneElement(S,fe(fe({key:"recharts-customized-".concat(C)},_.props),_.state))}),Ze(_,"renderMap",{CartesianGrid:{handler:Lx,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Lx},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Lx},YAxis:{handler:Lx},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:vv("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=HV(_.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return $Re(x,p),ORe(x,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,S=b.height,N=b.layout,C=$s(j,qa);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,I=Zk(this.state,_,k,D),E=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+S)/2,U=N==="horizontal",F=U?{x:E,y:L}:{y:E,x:L},$=this.state.formattedGraphicalItems.find(function(O){var R=O.item;return R.type.name==="Scatter"});$&&(F=fe(fe({},F),$.props.points[k].tooltipPosition),I=$.props.points[k].tooltipPayload);var M={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:I,activeCoordinate:F};this.setState(M),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){TC([$s(b.children,qa)],[$s(this.props.children,qa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=$s(this.props.children,qa);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=USe(_),N={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},C=_.width/j.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,C);if(!k)return null;var D=this.state,I=D.xAxisMap,E=D.yAxisMap,L=this.getTooltipEventType();if(L!=="axis"&&I&&E){var U=dl(I).scale,F=dl(E).scale,$=U&&U.invert?U.invert(N.chartX):null,M=F&&F.invert?F.invert(N.chartY):null;return fe(fe({},N),{},{xValue:$,yValue:M})}var O=uL(this.state,this.props.data,this.props.layout,k);return O?fe(fe({},N),O):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=b/_,C=j/_;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,D=N>=k.left&&N<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return D?{x:N,y:C}:null}var I=this.state,E=I.angleAxisMap,L=I.radiusAxisMap;if(E&&L){var U=dl(E);return WR({x:N,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=$s(b,qa),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var N=wb(this.props,this.handleOuterEvent);return fe(fe({},N),S)}},{key:"addListener",value:function(){F1.on(B1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){F1.removeListener(B1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var S=this.state.formattedGraphicalItems,N=0,C=S.length;N<C;N++){var k=S[N];if(k.item===b||k.props.key===b.key||j===go(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,N=j.height,C=j.width;return K.createElement("defs",null,K.createElement("clipPath",{id:b},K.createElement("rect",{x:_,y:S,height:N,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var S=oL(_,2),N=S[0],C=S[1];return fe(fe({},j),{},Ze({},N,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var S=oL(_,2),N=S[0],C=S[1];return fe(fe({},j),{},Ze({},N,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var N=0,C=_.length;N<C;N++){var k=_[N],D=k.props,I=k.item,E=I.type.defaultProps!==void 0?fe(fe({},I.type.defaultProps),I.props):I.props,L=go(I.type);if(L==="Bar"){var U=(D.data||[]).find(function(O){return fOe(b,O)});if(U)return{graphicalItem:k,payload:U}}else if(L==="RadialBar"){var F=(D.data||[]).find(function(O){return WR(b,O)});if(F)return{graphicalItem:k,payload:F}}else if(vj(k,S)||xj(k,S)||yg(k,S)){var $=gMe({graphicalItem:k,activeTooltipItem:S,itemData:E.data}),M=E.activeIndex===void 0?$:E.activeIndex;return{graphicalItem:fe(fe({},k),{},{childIndex:M}),payload:yg(k,S)?E.data[$]:k.props.data[$]}}}return null}},{key:"render",value:function(){var b=this;if(!II(this))return null;var j=this.props,_=j.children,S=j.className,N=j.width,C=j.height,k=j.style,D=j.compact,I=j.title,E=j.desc,L=lL(j,SRe),U=Pt(L,!1);if(D)return K.createElement(q4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(MC,op({},U,{width:N,height:C,title:I,desc:E}),this.renderClipPath(),RI(_,this.renderMap)));if(this.props.accessibilityLayer){var F,$;U.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,U.role=($=this.props.role)!==null&&$!==void 0?$:"application",U.onKeyDown=function(O){b.accessibilityManager.keyboardEvent(O)},U.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return K.createElement(q4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",op({className:At("recharts-wrapper",S),style:fe({position:"relative",cursor:"default",width:N,height:C},k)},M,{ref:function(R){b.container=R}}),K.createElement(MC,op({},U,{width:N,height:C,title:I,desc:E,style:zRe}),this.renderClipPath(),RI(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return Ze(g,"displayName",n),Ze(g,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ze(g,"getDerivedStateFromProps",function(p,x){var y=p.dataKey,b=p.data,j=p.children,_=p.width,S=p.height,N=p.layout,C=p.stackOffset,k=p.margin,D=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var E=dL(p);return fe(fe(fe({},E),{},{updateId:0},m(fe(fe({props:p},E),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(y!==x.prevDataKey||b!==x.prevData||_!==x.prevWidth||S!==x.prevHeight||N!==x.prevLayout||C!==x.prevStackOffset||!Rd(k,x.prevMargin)){var L=dL(p),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=fe(fe({},uL(x,b,N)),{},{updateId:x.updateId+1}),$=fe(fe(fe({},L),U),F);return fe(fe(fe({},$),m(fe({props:p},$),x)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:S,prevLayout:N,prevStackOffset:C,prevMargin:k,prevChildren:j})}if(!TC(j,x.prevChildren)){var M,O,R,B,T=$s(j,$h),G=T&&(M=(O=T.props)===null||O===void 0?void 0:O.startIndex)!==null&&M!==void 0?M:D,W=T&&(R=(B=T.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:I,w=G!==D||W!==I,A=!Nt(b),P=A&&!w?x.updateId:x.updateId+1;return fe(fe({updateId:P},m(fe(fe({props:p},x),{},{updateId:P,dataStartIndex:G,dataEndIndex:W}),x)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:W})}return null}),Ze(g,"renderActiveDot",function(p,x,y){var b;return v.isValidElement(p)?b=v.cloneElement(p,x):jt(p)?b=p(x):b=K.createElement(sT,x),K.createElement(Dn,{className:"recharts-active-dot",key:y},b)}),function(x){return K.createElement(g,x)}},l9=o9({chartName:"LineChart",GraphicalChild:Of,axisComponents:[{axisType:"xAxis",AxisComp:hu},{axisType:"yAxis",AxisComp:fu}],formatAxisMap:N7}),QRe=o9({chartName:"BarChart",GraphicalChild:Hl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hu},{axisType:"yAxis",AxisComp:fu}],formatAxisMap:N7});const ZRe={light:"",dark:".dark"},c9=v.createContext(null);function u9(){const e=v.useContext(c9);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const eE=v.forwardRef(({id:e,className:t,children:n,config:r,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(c9.Provider,{value:{config:r},children:s.jsxs("div",{"data-chart":l,ref:i,className:me("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(e4e,{id:l,config:r}),s.jsx(Ib,{children:n})]})})});eE.displayName="Chart";const e4e=({id:e,config:t})=>{const n=Object.entries(t).filter(([r,a])=>a.theme||a.color);return n.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(ZRe).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},fL=qa,tE=v.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:h,labelKey:f},m)=>{const{config:g}=u9(),p=v.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${f||y.dataKey||y.name||"value"}`,j=nE(g,y,b),_=!f&&typeof o=="string"?((S=g[o])==null?void 0:S.label)||o:j==null?void 0:j.label;return l?s.jsx("div",{className:me("font-medium",c),children:l(_,t)}):_?s.jsx("div",{className:me("font-medium",c),children:_}):null},[o,l,t,a,c,g,f]);if(!e||!(t!=null&&t.length))return null;const x=t.length===1&&r!=="dot";return s.jsxs("div",{ref:m,className:me("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const j=`${h||y.name||y.dataKey||"value"}`,_=nE(g,y,j),S=d||y.payload.fill||y.color;return s.jsx("div",{className:me("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):s.jsxs(s.Fragment,{children:[_!=null&&_.icon?s.jsx(_.icon,{}):!i&&s.jsx("div",{className:me("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":x&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),s.jsxs("div",{className:me("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[x?p:null,s.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});tE.displayName="ChartTooltip";const t4e=v.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:a},i)=>{const{config:o}=u9();return n!=null&&n.length?s.jsx("div",{ref:i,className:me("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,u=nE(o,l,c);return s.jsxs("div",{className:me("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});t4e.displayName="ChartLegend";function nE(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:r&&n in r&&typeof r[n]=="string"&&(a=r[n]),a in e?e[a]:e[n]}function n4e({chatbotId:e}){var o;const[t,n]=v.useState({totalConversations:0,totalMessages:0,avgMessagesPerConversation:0,dailyStats:[],hourlyStats:[]}),[r,a]=v.useState(!0);v.useEffect(()=>{i()},[e]);const i=async()=>{try{a(!0);const{count:l}=await J.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",e),{count:c}=await J.from("messages").select("*, conversations!inner(*)",{count:"exact",head:!0}).eq("conversations.chatbot_id",e),u=new Date;u.setDate(u.getDate()-7);const{data:d}=await J.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",u.toISOString()),{data:h}=await J.from("messages").select("created_at, conversations!inner(chatbot_id)").eq("conversations.chatbot_id",e).gte("created_at",u.toISOString()),f=new Map;for(let p=6;p>=0;p--){const x=new Date;x.setDate(x.getDate()-p);const y=x.toISOString().split("T")[0];f.set(y,{date:y,conversations:0,messages:0})}d==null||d.forEach(p=>{const x=p.created_at.split("T")[0],y=f.get(x);y&&y.conversations++}),h==null||h.forEach(p=>{const x=p.created_at.split("T")[0],y=f.get(x);y&&y.messages++});const{data:m}=await J.from("conversations").select("created_at").eq("chatbot_id",e).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()),g=new Map;for(let p=0;p<24;p++)g.set(p,{hour:p,conversations:0});m==null||m.forEach(p=>{const x=new Date(p.created_at).getHours(),y=g.get(x);y&&y.conversations++}),n({totalConversations:l||0,totalMessages:c||0,avgMessagesPerConversation:l>0?Math.round((c||0)/l*10)/10:0,dailyStats:Array.from(f.values()),hourlyStats:Array.from(g.values())})}catch(l){console.error("Error fetching analytics:",l)}finally{a(!1)}};return r?s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((l,c)=>s.jsxs(H,{children:[s.jsx(ne,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(Y,{children:s.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"})})]},c))})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalConversations})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(So,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.totalMessages})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.avgMessagesPerConversation})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Active Today"}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:((o=t.dailyStats[t.dailyStats.length-1])==null?void 0:o.conversations)||0})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Daily Activity (Last 7 Days)"}),s.jsx(ye,{children:"Conversations and messages over time"})]}),s.jsx(Y,{children:s.jsx(eE,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"},messages:{label:"Messages",color:"hsl(var(--secondary))"}},className:"h-[200px]",children:s.jsx(Ib,{width:"100%",height:"100%",children:s.jsxs(QRe,{data:t.dailyStats,children:[s.jsx(hu,{dataKey:"date",tickFormatter:l=>new Date(l).toLocaleDateString("en-US",{weekday:"short"})}),s.jsx(fu,{}),s.jsx(fL,{content:s.jsx(tE,{})}),s.jsx(Hl,{dataKey:"conversations",fill:"hsl(var(--primary))"}),s.jsx(Hl,{dataKey:"messages",fill:"hsl(var(--secondary))"})]})})})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Hourly Distribution (Last 24h)"}),s.jsx(ye,{children:"When users are most active"})]}),s.jsx(Y,{children:s.jsx(eE,{config:{conversations:{label:"Conversations",color:"hsl(var(--primary))"}},className:"h-[200px]",children:s.jsx(Ib,{width:"100%",height:"100%",children:s.jsxs(l9,{data:t.hourlyStats,children:[s.jsx(hu,{dataKey:"hour",tickFormatter:l=>`${l}:00`}),s.jsx(fu,{}),s.jsx(fL,{content:s.jsx(tE,{})}),s.jsx(Of,{type:"monotone",dataKey:"conversations",stroke:"hsl(var(--primary))",strokeWidth:2})]})})})})]})]})]})}function Cg(e,[t,n]){return Math.min(n,Math.max(t,e))}var r4e=v.createContext(void 0);function Ou(e){const t=v.useContext(r4e);return e||t||"ltr"}function Nv(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var s4e=[" ","Enter","ArrowUp","ArrowDown"],a4e=[" ","Enter"],Sv="Select",[Sj,Cj,i4e]=Wg(Sv),[Mf,UJe]=Ir(Sv,[i4e,Zl]),kj=Zl(),[o4e,ic]=Mf(Sv),[l4e,c4e]=Mf(Sv),d9=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:g}=e,p=kj(t),[x,y]=v.useState(null),[b,j]=v.useState(null),[_,S]=v.useState(!1),N=Ou(u),[C=!1,k]=js({prop:r,defaultProp:a,onChange:i}),[D,I]=js({prop:o,defaultProp:l,onChange:c}),E=v.useRef(null),L=x?g||!!x.closest("form"):!0,[U,F]=v.useState(new Set),$=Array.from(U).map(M=>M.props.value).join(";");return s.jsx(pw,{...p,children:s.jsxs(o4e,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Vs(),value:D,onValueChange:I,open:C,onOpenChange:k,dir:N,triggerPointerDownPosRef:E,disabled:f,children:[s.jsx(Sj.Provider,{scope:t,children:s.jsx(l4e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(M=>{F(O=>new Set(O).add(M))},[]),onNativeOptionRemove:v.useCallback(M=>{F(O=>{const R=new Set(O);return R.delete(M),R})},[]),children:n})}),L?s.jsxs($9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:D,onChange:M=>I(M.target.value),disabled:f,form:g,children:[D===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},$):null]})})};d9.displayName=Sv;var h9="SelectTrigger",f9=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=kj(n),o=ic(h9,n),l=o.disabled||r,c=Xe(t,o.onTriggerChange),u=Cj(n),d=v.useRef("touch"),[h,f,m]=R9(p=>{const x=u().filter(j=>!j.disabled),y=x.find(j=>j.value===o.value),b=L9(x,p,y);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Xg,{asChild:!0,...i,children:s.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":I9(o.value)?"":void 0,...a,ref:c,onClick:je(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:je(a.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:je(a.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&s4e.includes(p.key)&&(g(),p.preventDefault())})})})});f9.displayName=h9;var m9="SelectValue",p9=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=ic(m9,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Xe(t,c.onValueNodeChange);return ir(()=>{u(d)},[u,d]),s.jsx(De.span,{...l,ref:h,style:{pointerEvents:"none"},children:I9(c.value)?s.jsx(s.Fragment,{children:o}):i})});p9.displayName=m9;var u4e="SelectIcon",g9=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(De.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});g9.displayName=u4e;var d4e="SelectPortal",v9=e=>s.jsx(of,{asChild:!0,...e});v9.displayName=d4e;var mu="SelectContent",x9=v.forwardRef((e,t)=>{const n=ic(mu,e.__scopeSelect),[r,a]=v.useState();if(ir(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?us.createPortal(s.jsx(y9,{scope:e.__scopeSelect,children:s.jsx(Sj.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(b9,{...e,ref:t})});x9.displayName=mu;var Ra=10,[y9,oc]=Mf(mu),h4e="SelectContentImpl",b9=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...y}=e,b=ic(mu,n),[j,_]=v.useState(null),[S,N]=v.useState(null),C=Xe(t,q=>_(q)),[k,D]=v.useState(null),[I,E]=v.useState(null),L=Cj(n),[U,F]=v.useState(!1),$=v.useRef(!1);v.useEffect(()=>{if(j)return sv(j)},[j]),Mw();const M=v.useCallback(q=>{const[te,...X]=L().map(ee=>ee.ref.current),[V]=X.slice(-1),se=document.activeElement;for(const ee of q)if(ee===se||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===te&&S&&(S.scrollTop=0),ee===V&&S&&(S.scrollTop=S.scrollHeight),ee==null||ee.focus(),document.activeElement!==se))return},[L,S]),O=v.useCallback(()=>M([k,j]),[M,k,j]);v.useEffect(()=>{U&&O()},[U,O]);const{onOpenChange:R,triggerPointerDownPosRef:B}=b;v.useEffect(()=>{if(j){let q={x:0,y:0};const te=V=>{var se,ee;q={x:Math.abs(Math.round(V.pageX)-(((se=B.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(V.pageY)-(((ee=B.current)==null?void 0:ee.y)??0))}},X=V=>{q.x<=10&&q.y<=10?V.preventDefault():j.contains(V.target)||R(!1),document.removeEventListener("pointermove",te),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",X,{capture:!0})}}},[j,R,B]),v.useEffect(()=>{const q=()=>R(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[R]);const[T,G]=R9(q=>{const te=L().filter(se=>!se.disabled),X=te.find(se=>se.ref.current===document.activeElement),V=L9(te,q,X);V&&setTimeout(()=>V.ref.current.focus())}),W=v.useCallback((q,te,X)=>{const V=!$.current&&!X;(b.value!==void 0&&b.value===te||V)&&(D(q),V&&($.current=!0))},[b.value]),w=v.useCallback(()=>j==null?void 0:j.focus(),[j]),A=v.useCallback((q,te,X)=>{const V=!$.current&&!X;(b.value!==void 0&&b.value===te||V)&&E(q)},[b.value]),P=r==="popper"?rE:w9,z=P===rE?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(y9,{scope:n,content:j,viewport:S,onViewportChange:N,itemRefCallback:W,selectedItem:k,onItemLeave:w,itemTextRefCallback:A,focusSelectedItem:O,selectedItemText:I,position:r,isPositioned:U,searchRef:T,children:s.jsx(rv,{as:ws,allowPinchZoom:!0,children:s.jsx(nv,{asChild:!0,trapped:b.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:je(a,q=>{var te;(te=b.trigger)==null||te.focus({preventScroll:!0}),q.preventDefault()}),children:s.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(P,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:q=>q.preventDefault(),...y,...z,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:je(y.onKeyDown,q=>{const te=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!te&&q.key.length===1&&G(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let V=L().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(q.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const se=q.target,ee=V.indexOf(se);V=V.slice(ee+1)}setTimeout(()=>M(V)),q.preventDefault()}})})})})})})});b9.displayName=h4e;var f4e="SelectItemAlignedPosition",w9=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=ic(mu,n),o=oc(mu,n),[l,c]=v.useState(null),[u,d]=v.useState(null),h=Xe(t,C=>d(C)),f=Cj(n),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:b}=o,j=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&y){const C=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const se=I.left-k.left,ee=D.left-se,ge=C.left-ee,Se=C.width+ge,ze=Math.max(Se,k.width),We=window.innerWidth-Ra,Le=Cg(ee,[Ra,Math.max(Ra,We-ze)]);l.style.minWidth=Se+"px",l.style.left=Le+"px"}else{const se=k.right-I.right,ee=window.innerWidth-D.right-se,ge=window.innerWidth-C.right-ee,Se=C.width+ge,ze=Math.max(Se,k.width),We=window.innerWidth-Ra,Le=Cg(ee,[Ra,Math.max(Ra,We-ze)]);l.style.minWidth=Se+"px",l.style.right=Le+"px"}const E=f(),L=window.innerHeight-Ra*2,U=p.scrollHeight,F=window.getComputedStyle(u),$=parseInt(F.borderTopWidth,10),M=parseInt(F.paddingTop,10),O=parseInt(F.borderBottomWidth,10),R=parseInt(F.paddingBottom,10),B=$+M+U+R+O,T=Math.min(x.offsetHeight*5,B),G=window.getComputedStyle(p),W=parseInt(G.paddingTop,10),w=parseInt(G.paddingBottom,10),A=C.top+C.height/2-Ra,P=L-A,z=x.offsetHeight/2,q=x.offsetTop+z,te=$+M+q,X=B-te;if(te<=A){const se=E.length>0&&x===E[E.length-1].ref.current;l.style.bottom="0px";const ee=u.clientHeight-p.offsetTop-p.offsetHeight,ge=Math.max(P,z+(se?w:0)+ee+O),Se=te+ge;l.style.height=Se+"px"}else{const se=E.length>0&&x===E[0].ref.current;l.style.top="0px";const ge=Math.max(A,$+p.offsetTop+(se?W:0)+z)+X;l.style.height=ge+"px",p.scrollTop=te-A+p.offsetTop}l.style.margin=`${Ra}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,x,y,i.dir,r]);ir(()=>j(),[j]);const[_,S]=v.useState();ir(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(C=>{C&&g.current===!0&&(j(),b==null||b(),g.current=!1)},[j,b]);return s.jsx(p4e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(De.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});w9.displayName=f4e;var m4e="SelectPopperPosition",rE=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ra,...i}=e,o=kj(n);return s.jsx(gw,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rE.displayName=m4e;var[p4e,mT]=Mf(mu,{}),sE="SelectViewport",j9=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=oc(sE,n),o=mT(sE,n),l=Xe(t,i.onViewportChange),c=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Sj.Slot,{scope:n,children:s.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Ra*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<g){const b=y+m,j=Math.min(g,b),_=b-j;h.style.height=j+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});j9.displayName=sE;var _9="SelectGroup",[g4e,v4e]=Mf(_9),x4e=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Vs();return s.jsx(g4e,{scope:n,id:a,children:s.jsx(De.div,{role:"group","aria-labelledby":a,...r,ref:t})})});x4e.displayName=_9;var N9="SelectLabel",S9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=v4e(N9,n);return s.jsx(De.div,{id:a.id,...r,ref:t})});S9.displayName=N9;var b0="SelectItem",[y4e,C9]=Mf(b0),k9=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=ic(b0,n),c=oc(b0,n),u=l.value===r,[d,h]=v.useState(i??""),[f,m]=v.useState(!1),g=Xe(t,b=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,b,r,a)}),p=Vs(),x=v.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(y4e,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:v.useCallback(b=>{h(j=>j||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Sj.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(De.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:je(o.onFocus,()=>m(!0)),onBlur:je(o.onBlur,()=>m(!1)),onClick:je(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:je(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:je(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:je(o.onPointerMove,b=>{var j;x.current=b.pointerType,a?(j=c.onItemLeave)==null||j.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(o.onPointerLeave,b=>{var j;b.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:je(o.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(a4e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});k9.displayName=b0;var Im="SelectItemText",E9=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=ic(Im,n),l=oc(Im,n),c=C9(Im,n),u=c4e(Im,n),[d,h]=v.useState(null),f=Xe(t,y=>h(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=v.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return ir(()=>(p(g),()=>x(g)),[p,x,g]),s.jsxs(s.Fragment,{children:[s.jsx(De.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?us.createPortal(i.children,o.valueNode):null]})});E9.displayName=Im;var P9="SelectItemIndicator",A9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return C9(P9,n).isSelected?s.jsx(De.span,{"aria-hidden":!0,...r,ref:t}):null});A9.displayName=P9;var aE="SelectScrollUpButton",T9=v.forwardRef((e,t)=>{const n=oc(aE,e.__scopeSelect),r=mT(aE,e.__scopeSelect),[a,i]=v.useState(!1),o=Xe(t,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(M9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});T9.displayName=aE;var iE="SelectScrollDownButton",O9=v.forwardRef((e,t)=>{const n=oc(iE,e.__scopeSelect),r=mT(iE,e.__scopeSelect),[a,i]=v.useState(!1),o=Xe(t,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(M9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});O9.displayName=iE;var M9=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=oc("SelectScrollButton",n),o=v.useRef(null),l=Cj(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),ir(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(De.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:je(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:je(a.onPointerLeave,()=>{c()})})}),b4e="SelectSeparator",D9=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(De.div,{"aria-hidden":!0,...r,ref:t})});D9.displayName=b4e;var oE="SelectArrow",w4e=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=kj(n),i=ic(oE,n),o=oc(oE,n);return i.open&&o.position==="popper"?s.jsx(vw,{...a,...r,ref:t}):null});w4e.displayName=oE;function I9(e){return e===""||e===void 0}var $9=v.forwardRef((e,t)=>{const{value:n,...r}=e,a=v.useRef(null),i=Xe(t,a),o=Nv(n);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(Hg,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});$9.displayName="BubbleSelect";function R9(e){const t=_n(e),n=v.useRef(""),r=v.useRef(0),a=v.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function L9(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=j4e(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function j4e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _4e=d9,F9=f9,N4e=p9,S4e=g9,C4e=v9,B9=x9,k4e=j9,U9=S9,z9=k9,E4e=E9,P4e=A9,q9=T9,V9=O9,W9=D9;const qe=_4e,Ve=N4e,Be=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(F9,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(S4e,{asChild:!0,children:s.jsx(Kg,{className:"h-4 w-4 opacity-50"})})]}));Be.displayName=F9.displayName;const H9=v.forwardRef(({className:e,...t},n)=>s.jsx(q9,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(H8,{className:"h-4 w-4"})}));H9.displayName=q9.displayName;const G9=v.forwardRef(({className:e,...t},n)=>s.jsx(V9,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Kg,{className:"h-4 w-4"})}));G9.displayName=V9.displayName;const Ue=v.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(C4e,{children:s.jsxs(B9,{ref:a,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(H9,{}),s.jsx(k4e,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(G9,{})]})}));Ue.displayName=B9.displayName;const A4e=v.forwardRef(({className:e,...t},n)=>s.jsx(U9,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A4e.displayName=U9.displayName;const oe=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(z9,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(P4e,{children:s.jsx(Gg,{className:"h-4 w-4"})})}),s.jsx(E4e,{children:t})]}));oe.displayName=z9.displayName;const T4e=v.forwardRef(({className:e,...t},n)=>s.jsx(W9,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));T4e.displayName=W9.displayName;const K9=({onConversationSelect:e,chatbotId:t,hideFilter:n=!1})=>{const{user:r}=Ht(),[a,i]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(t||"all"),[d,h]=v.useState(""),[f,m]=v.useState(!0),g=async()=>{if(!r)return;const{data:b,error:j}=await J.from("chatbots").select("id, name").eq("user_id",r.id).order("name");if(j){Te({title:"Error",description:"Failed to fetch chatbots",variant:"destructive"});return}l(b||[])},p=async()=>{if(!r)return;m(!0);let b=J.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name,
            user_id
          )
        )
      `).eq("conversations.chatbots.user_id",r.id).order("created_at",{ascending:!1});c!=="all"&&(b=b.eq("conversations.chatbot_id",c));const{data:j,error:_}=await b;if(_){console.error("Error fetching conversations:",_),Te({title:"Error",description:"Failed to fetch conversations",variant:"destructive"}),m(!1);return}const S=new Map;j==null||j.forEach(C=>{const k=C.conversation_id;S.has(k)||S.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),S.get(k).messages.push(C)});const N=[];S.forEach((C,k)=>{const D=C.messages.sort((I,E)=>new Date(E.created_at).getTime()-new Date(I.created_at).getTime());if(D.length>0){const I=D[0],E={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:I.content,last_message_time:I.created_at,message_count:D.length,last_sender:I.role};(!d||E.last_message.toLowerCase().includes(d.toLowerCase())||E.chatbot_name.toLowerCase().includes(d.toLowerCase()))&&N.push(E)}}),N.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),i(N),m(!1)};v.useEffect(()=>{n||g()},[r,n]),v.useEffect(()=>{t&&u(t)},[t]),v.useEffect(()=>{p()},[r,c,d]);const x=b=>{const j=new Date(b),S=new Date().getTime()-j.getTime(),N=Math.floor(S/(1e3*60*60*24));return N===0?j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):N===1?"Yesterday":N<7?j.toLocaleDateString([],{weekday:"short"}):j.toLocaleDateString([],{month:"short",day:"numeric"})},y=(b,j=60)=>b.length>j?b.substring(0,j)+"...":b;return r?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx("div",{className:"p-4 border-b bg-background",children:s.jsxs("div",{className:"flex gap-4",children:[!n&&s.jsxs(qe,{value:c,onValueChange:u,children:[s.jsx(Be,{className:"w-[200px]",children:s.jsx(Ve,{placeholder:"Filter by chatbot"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Chatbots"}),o.map(b=>s.jsx(oe,{value:b.id,children:b.name},b.id))]})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ea,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search conversations...",value:d,onChange:b=>h(b.target.value),className:"pl-8"})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto",children:f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversations..."})}):a.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No conversations found."}):s.jsx("div",{className:"p-2",children:a.map(b=>s.jsx(H,{className:"mb-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>e(b.id),children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:b.chatbot_name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.message_count," messages"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[s.jsx("span",{className:"font-medium",children:b.last_sender==="user"?"User: ":"Bot: "}),y(b.last_message)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground ml-4 flex-shrink-0",children:x(b.last_message_time)})]})})},b.id))})})]}):s.jsx("div",{children:"Please log in to view conversations."})},Y9=({conversationId:e,onBack:t})=>{const{user:n}=Ht(),[r,a]=v.useState([]),[i,o]=v.useState(null),[l,c]=v.useState(!0),u=v.useRef(null),d=()=>{var g;(g=u.current)==null||g.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:g,error:p}=await J.from("messages").select(`
        id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          created_at,
          chatbots!inner(
            name,
            user_id
          )
        )
      `).eq("conversation_id",e).eq("conversations.chatbots.user_id",n.id).order("created_at",{ascending:!0});if(p){console.error("Error fetching conversation:",p),Te({title:"Error",description:"Failed to fetch conversation",variant:"destructive"}),c(!1);return}g&&g.length>0&&(a(g.map(x=>({id:x.id,content:x.content,role:x.role,created_at:x.created_at}))),o({id:e,chatbot_name:g[0].conversations.chatbots.name,created_at:g[0].conversations.created_at})),c(!1)};v.useEffect(()=>{h()},[e,n]),v.useEffect(()=>{d()},[r]);const f=g=>new Date(g).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=g=>new Date(g).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsx(ne,{className:"flex-shrink-0 border-b bg-background",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:t,children:[s.jsx($r,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5 text-primary"}),s.jsxs("div",{children:[s.jsx(re,{className:"text-lg",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})]})}),s.jsx(Y,{className:"flex-1 overflow-auto p-0",children:s.jsxs("div",{className:"p-4 space-y-4",children:[r.map(g=>s.jsxs("div",{className:`flex items-start gap-3 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(yt,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${g.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.content}),s.jsx("p",{className:`text-xs mt-1 ${g.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(g.created_at)})]}),g.role==="user"&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:s.jsx(Gs,{className:"w-4 h-4 text-secondary-foreground"})})]},g.id)),s.jsx("div",{ref:u})]})})]}):s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})},bt=v.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));bt.displayName="Textarea";var J9=["PageUp","PageDown"],X9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Q9={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Df="Slider",[lE,O4e,M4e]=Wg(Df),[Z9,zJe]=Ir(Df,[M4e]),[D4e,Ej]=Z9(Df),eH=v.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:g,...p}=e,x=v.useRef(new Set),y=v.useRef(0),j=o==="horizontal"?I4e:$4e,[_=[],S]=js({prop:d,defaultProp:u,onChange:E=>{var U;(U=[...x.current][y.current])==null||U.focus(),h(E)}}),N=v.useRef(_);function C(E){const L=U4e(_,E);I(E,L)}function k(E){I(E,y.current)}function D(){const E=N.current[y.current];_[y.current]!==E&&f(_)}function I(E,L,{commit:U}={commit:!1}){const F=W4e(i),$=H4e(Math.round((E-r)/i)*i+r,F),M=Cg($,[r,a]);S((O=[])=>{const R=F4e(O,M,L);if(V4e(R,c*i)){y.current=R.indexOf(M);const B=String(R)!==String(O);return B&&U&&f(R),B?R:O}else return O})}return s.jsx(D4e,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:y,thumbs:x.current,values:_,orientation:o,form:g,children:s.jsx(lE.Provider,{scope:e.__scopeSlider,children:s.jsx(lE.Slot,{scope:e.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:je(p.onPointerDown,()=>{l||(N.current=_)}),min:r,max:a,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:D,onHomeKeyDown:()=>!l&&I(r,0,{commit:!0}),onEndKeyDown:()=>!l&&I(a,_.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:L})=>{if(!l){const $=J9.includes(E.key)||E.shiftKey&&X9.includes(E.key)?10:1,M=y.current,O=_[M],R=i*$*L;I(O+R,M,{commit:!0})}}})})})})});eH.displayName=Df;var[tH,nH]=Z9(Df,{startEdge:"left",endEdge:"right",size:"width",direction:1}),I4e=v.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=v.useState(null),m=Xe(t,j=>f(j)),g=v.useRef(),p=Ou(a),x=p==="ltr",y=x&&!i||!x&&i;function b(j){const _=g.current||h.getBoundingClientRect(),S=[0,_.width],C=pT(S,y?[n,r]:[r,n]);return g.current=_,C(j-_.left)}return s.jsx(tH,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:s.jsx(rH,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const _=b(j.clientX);o==null||o(_)},onSlideMove:j=>{const _=b(j.clientX);l==null||l(_)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:j=>{const S=Q9[y?"from-left":"from-right"].includes(j.key);u==null||u({event:j,direction:S?-1:1})}})})}),$4e=v.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=v.useRef(null),h=Xe(t,d),f=v.useRef(),m=!a;function g(p){const x=f.current||d.current.getBoundingClientRect(),y=[0,x.height],j=pT(y,m?[r,n]:[n,r]);return f.current=x,j(p-x.top)}return s.jsx(tH,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(rH,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=g(p.clientY);i==null||i(x)},onSlideMove:p=>{const x=g(p.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const y=Q9[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:y?-1:1})}})})}),rH=v.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Ej(Df,n);return s.jsx(De.span,{...u,ref:t,onKeyDown:je(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):J9.concat(X9).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:je(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:je(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:je(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),sH="SliderTrack",aH=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=Ej(sH,n);return s.jsx(De.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});aH.displayName=sH;var cE="SliderRange",iH=v.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=Ej(cE,n),i=nH(cE,n),o=v.useRef(null),l=Xe(t,o),c=a.values.length,u=a.values.map(f=>lH(f,a.min,a.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return s.jsx(De.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});iH.displayName=cE;var uE="SliderThumb",oH=v.forwardRef((e,t)=>{const n=O4e(e.__scopeSlider),[r,a]=v.useState(null),i=Xe(t,l=>a(l)),o=v.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(R4e,{...e,ref:i,index:o})}),R4e=v.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=Ej(uE,n),l=nH(uE,n),[c,u]=v.useState(null),d=Xe(t,b=>u(b)),h=c?o.form||!!c.closest("form"):!0,f=Jg(c),m=o.values[r],g=m===void 0?0:lH(m,o.min,o.max),p=B4e(r,o.values.length),x=f==null?void 0:f[l.size],y=x?z4e(x,g,l.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${y}px)`},children:[s.jsx(lE.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(De.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:je(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&s.jsx(L4e,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});oH.displayName=uE;var L4e=e=>{const{value:t,...n}=e,r=v.useRef(null),a=Nv(t);return v.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function F4e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,i)=>a-i)}function lH(e,t,n){const i=100/(n-t)*(e-t);return Cg(i,[0,100])}function B4e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function U4e(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function z4e(e,t,n){const r=e/2,i=pT([0,50],[0,r]);return(r-i(t)*n)*n}function q4e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function V4e(e,t){if(t>0){const n=q4e(e);return Math.min(...n)>=t}return!0}function pT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function W4e(e){return(String(e).split(".")[1]||"").length}function H4e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var cH=eH,G4e=aH,K4e=iH,Y4e=oH;const Gh=v.forwardRef(({className:e,...t},n)=>s.jsxs(cH,{ref:n,className:me("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(G4e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(K4e,{className:"absolute h-full bg-primary"})}),s.jsx(Y4e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Gh.displayName=cH.displayName;var gT="Switch",[J4e,qJe]=Ir(gT),[X4e,Q4e]=J4e(gT),uH=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=v.useState(null),g=Xe(t,j=>m(j)),p=v.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,b]=js({prop:a,defaultProp:i,onChange:u});return s.jsxs(X4e,{scope:n,checked:y,disabled:l,children:[s.jsx(De.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":fH(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:je(e.onClick,j=>{b(_=>!_),x&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),x&&s.jsx(Z4e,{control:f,bubbles:!p.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});uH.displayName=gT;var dH="SwitchThumb",hH=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=Q4e(dH,n);return s.jsx(De.span,{"data-state":fH(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});hH.displayName=dH;var Z4e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=v.useRef(null),o=Nv(n),l=Jg(t);return v.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fH(e){return e?"checked":"unchecked"}var mH=uH,eLe=hH;const Lt=v.forwardRef(({className:e,...t},n)=>s.jsx(mH,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(eLe,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Lt.displayName=mH.displayName;function tLe(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,x=v.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:m})}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,nLe(a,...t)]}function nLe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var z1="rovingFocusGroup.onEntryFocus",rLe={bubbles:!1,cancelable:!0},Pj="RovingFocusGroup",[dE,pH,sLe]=Wg(Pj),[aLe,If]=tLe(Pj,[sLe]),[iLe,oLe]=aLe(Pj),gH=v.forwardRef((e,t)=>s.jsx(dE.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(dE.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(lLe,{...e,ref:t})})}));gH.displayName=Pj;var lLe=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),m=Xe(t,f),g=Ou(i),[p=null,x]=js({prop:o,defaultProp:l,onChange:c}),[y,b]=v.useState(!1),j=_n(u),_=pH(n),S=v.useRef(!1),[N,C]=v.useState(0);return v.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(z1,j),()=>k.removeEventListener(z1,j)},[j]),s.jsx(iLe,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(k=>x(k),[x]),onItemShiftTab:v.useCallback(()=>b(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>C(k=>k-1),[]),children:s.jsx(De.div,{tabIndex:y||N===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{S.current=!0}),onFocus:je(e.onFocus,k=>{const D=!S.current;if(k.target===k.currentTarget&&D&&!y){const I=new CustomEvent(z1,rLe);if(k.currentTarget.dispatchEvent(I),!I.defaultPrevented){const E=_().filter(M=>M.focusable),L=E.find(M=>M.active),U=E.find(M=>M.id===p),$=[L,U,...E].filter(Boolean).map(M=>M.ref.current);yH($,d)}}S.current=!1}),onBlur:je(e.onBlur,()=>b(!1))})})}),vH="RovingFocusGroupItem",xH=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=Vs(),c=i||l,u=oLe(vH,n),d=u.currentTabStopId===c,h=pH(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=u;return v.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),s.jsx(dE.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(De.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:je(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:je(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:je(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=dLe(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=h().filter(b=>b.focusable).map(b=>b.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const b=y.indexOf(g.currentTarget);y=u.loop?hLe(y,b+1):y.slice(b+1)}setTimeout(()=>yH(y))}})})})});xH.displayName=vH;var cLe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uLe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dLe(e,t,n){const r=uLe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cLe[r]}function yH(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function hLe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vT=gH,xT=xH,yT="Tabs",[fLe,VJe]=Ir(yT,[If]),bH=If(),[mLe,bT]=fLe(yT),wH=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ou(l),[h,f]=js({prop:r,onChange:a,defaultProp:i});return s.jsx(mLe,{scope:n,baseId:Vs(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(De.div,{dir:d,"data-orientation":o,...u,ref:t})})});wH.displayName=yT;var jH="TabsList",_H=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=bT(jH,n),o=bH(n);return s.jsx(vT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(De.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});_H.displayName=jH;var NH="TabsTrigger",SH=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=bT(NH,n),l=bH(n),c=EH(o.baseId,r),u=PH(o.baseId,r),d=r===o.value;return s.jsx(xT,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(De.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:je(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:je(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:je(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});SH.displayName=NH;var CH="TabsContent",kH=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=bT(CH,n),c=EH(l.baseId,r),u=PH(l.baseId,r),d=r===l.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Un,{present:a||d,children:({present:f})=>s.jsx(De.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});kH.displayName=CH;function EH(e,t){return`${e}-trigger-${t}`}function PH(e,t){return`${e}-content-${t}`}var pLe=wH,AH=_H,TH=SH,OH=kH;const $f=pLe,Mu=v.forwardRef(({className:e,...t},n)=>s.jsx(AH,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Mu.displayName=AH.displayName;const Jt=v.forwardRef(({className:e,...t},n)=>s.jsx(TH,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Jt.displayName=TH.displayName;const Xt=v.forwardRef(({className:e,...t},n)=>s.jsx(OH,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xt.displayName=OH.displayName;var wT="Checkbox",[gLe,WJe]=Ir(wT),[vLe,xLe]=gLe(wT),MH=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=v.useState(null),g=Xe(t,_=>m(_)),p=v.useRef(!1),x=f?d||!!f.closest("form"):!0,[y=!1,b]=js({prop:a,defaultProp:i,onChange:u}),j=v.useRef(y);return v.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const S=()=>b(j.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[f,b]),s.jsxs(vLe,{scope:n,state:y,disabled:l,children:[s.jsx(De.button,{type:"button",role:"checkbox","aria-checked":$l(y)?"mixed":y,"aria-required":o,"data-state":$H(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:je(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:je(e.onClick,_=>{b(S=>$l(S)?!0:!S),x&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),x&&s.jsx(yLe,{control:f,bubbles:!p.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:$l(i)?!1:i})]})});MH.displayName=wT;var DH="CheckboxIndicator",IH=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=xLe(DH,n);return s.jsx(Un,{present:r||$l(i.state)||i.state===!0,children:s.jsx(De.span,{"data-state":$H(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});IH.displayName=DH;var yLe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=Nv(n),c=Jg(t);v.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const g=new Event("click",{bubbles:r});d.indeterminate=$l(n),m.call(d,$l(n)?!1:n),d.dispatchEvent(g)}},[l,n,r]);const u=v.useRef($l(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $l(e){return e==="indeterminate"}function $H(e){return $l(e)?"indeterminate":e?"checked":"unchecked"}var RH=MH,bLe=IH;const Kh=v.forwardRef(({className:e,...t},n)=>s.jsx(RH,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(bLe,{className:me("flex items-center justify-center text-current"),children:s.jsx(Gg,{className:"h-4 w-4"})})}));Kh.displayName=RH.displayName;function LH(e,t){return function(){return e.apply(t,arguments)}}const{toString:wLe}=Object.prototype,{getPrototypeOf:jT}=Object,{iterator:Aj,toStringTag:FH}=Symbol,Tj=(e=>t=>{const n=wLe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gi=e=>(e=e.toLowerCase(),t=>Tj(t)===e),Oj=e=>t=>typeof t===e,{isArray:Rf}=Array,Yh=Oj("undefined");function Cv(e){return e!==null&&!Yh(e)&&e.constructor!==null&&!Yh(e.constructor)&&xs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const BH=gi("ArrayBuffer");function jLe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&BH(e.buffer),t}const _Le=Oj("string"),xs=Oj("function"),UH=Oj("number"),kv=e=>e!==null&&typeof e=="object",NLe=e=>e===!0||e===!1,_y=e=>{if(Tj(e)!=="object")return!1;const t=jT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(FH in e)&&!(Aj in e)},SLe=e=>{if(!kv(e)||Cv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},CLe=gi("Date"),kLe=gi("File"),ELe=gi("Blob"),PLe=gi("FileList"),ALe=e=>kv(e)&&xs(e.pipe),TLe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xs(e.append)&&((t=Tj(e))==="formdata"||t==="object"&&xs(e.toString)&&e.toString()==="[object FormData]"))},OLe=gi("URLSearchParams"),[MLe,DLe,ILe,$Le]=["ReadableStream","Request","Response","Headers"].map(gi),RLe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ev(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Rf(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Cv(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function zH(e,t){if(Cv(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qH=e=>!Yh(e)&&e!==Dc;function hE(){const{caseless:e,skipUndefined:t}=qH(this)&&this||{},n={},r=(a,i)=>{const o=e&&zH(n,i)||i;_y(n[o])&&_y(a)?n[o]=hE(n[o],a):_y(a)?n[o]=hE({},a):Rf(a)?n[o]=a.slice():(!t||!Yh(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ev(arguments[a],r);return n}const LLe=(e,t,n,{allOwnKeys:r}={})=>(Ev(t,(a,i)=>{n&&xs(a)?e[i]=LH(a,n):e[i]=a},{allOwnKeys:r}),e),FLe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BLe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ULe=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&jT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},zLe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},qLe=e=>{if(!e)return null;if(Rf(e))return e;let t=e.length;if(!UH(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},VLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jT(Uint8Array)),WLe=(e,t)=>{const r=(e&&e[Aj]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},HLe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},GLe=gi("HTMLFormElement"),KLe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),mL=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),YLe=gi("RegExp"),VH=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ev(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},JLe=e=>{VH(e,(t,n)=>{if(xs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(xs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XLe=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Rf(e)?r(e):r(String(e).split(t)),n},QLe=()=>{},ZLe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function e3e(e){return!!(e&&xs(e.append)&&e[FH]==="FormData"&&e[Aj])}const t3e=e=>{const t=new Array(10),n=(r,a)=>{if(kv(r)){if(t.indexOf(r)>=0)return;if(Cv(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Rf(r)?[]:{};return Ev(r,(o,l)=>{const c=n(o,a+1);!Yh(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},n3e=gi("AsyncFunction"),r3e=e=>e&&(kv(e)||xs(e))&&xs(e.then)&&xs(e.catch),WH=((e,t)=>e?setImmediate:t?((n,r)=>(Dc.addEventListener("message",({source:a,data:i})=>{a===Dc&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Dc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xs(Dc.postMessage)),s3e=typeof queueMicrotask<"u"?queueMicrotask.bind(Dc):typeof process<"u"&&process.nextTick||WH,a3e=e=>e!=null&&xs(e[Aj]),de={isArray:Rf,isArrayBuffer:BH,isBuffer:Cv,isFormData:TLe,isArrayBufferView:jLe,isString:_Le,isNumber:UH,isBoolean:NLe,isObject:kv,isPlainObject:_y,isEmptyObject:SLe,isReadableStream:MLe,isRequest:DLe,isResponse:ILe,isHeaders:$Le,isUndefined:Yh,isDate:CLe,isFile:kLe,isBlob:ELe,isRegExp:YLe,isFunction:xs,isStream:ALe,isURLSearchParams:OLe,isTypedArray:VLe,isFileList:PLe,forEach:Ev,merge:hE,extend:LLe,trim:RLe,stripBOM:FLe,inherits:BLe,toFlatObject:ULe,kindOf:Tj,kindOfTest:gi,endsWith:zLe,toArray:qLe,forEachEntry:WLe,matchAll:HLe,isHTMLForm:GLe,hasOwnProperty:mL,hasOwnProp:mL,reduceDescriptors:VH,freezeMethods:JLe,toObjectSet:XLe,toCamelCase:KLe,noop:QLe,toFiniteNumber:ZLe,findKey:zH,global:Dc,isContextDefined:qH,isSpecCompliantForm:e3e,toJSONObject:t3e,isAsyncFn:n3e,isThenable:r3e,setImmediate:WH,asap:s3e,isIterable:a3e};function mt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}de.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const HH=mt.prototype,GH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GH[e]={value:e}});Object.defineProperties(mt,GH);Object.defineProperty(HH,"isAxiosError",{value:!0});mt.from=(e,t,n,r,a,i)=>{const o=Object.create(HH);de.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return mt.call(o,l,c,n,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const i3e=null;function fE(e){return de.isPlainObject(e)||de.isArray(e)}function KH(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function pL(e,t,n){return e?e.concat(t).map(function(a,i){return a=KH(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function o3e(e){return de.isArray(e)&&!e.some(fE)}const l3e=de.toFlatObject(de,{},null,function(t){return/^is[A-Z]/.test(t)});function Mj(e,t,n){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!de.isUndefined(x[p])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(t);if(!de.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(de.isDate(g))return g.toISOString();if(de.isBoolean(g))return g.toString();if(!c&&de.isBlob(g))throw new mt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(g)||de.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,p,x){let y=g;if(g&&!x&&typeof g=="object"){if(de.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if(de.isArray(g)&&o3e(g)||(de.isFileList(g)||de.endsWith(p,"[]"))&&(y=de.toArray(g)))return p=KH(p),y.forEach(function(j,_){!(de.isUndefined(j)||j===null)&&t.append(o===!0?pL([p],_,i):o===null?p:p+"[]",u(j))}),!1}return fE(g)?!0:(t.append(pL(x,p,i),u(g)),!1)}const h=[],f=Object.assign(l3e,{defaultVisitor:d,convertValue:u,isVisitable:fE});function m(g,p){if(!de.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(g),de.forEach(g,function(y,b){(!(de.isUndefined(y)||y===null)&&a.call(t,y,de.isString(b)?b.trim():b,p,f))===!0&&m(y,p?p.concat(b):[b])}),h.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return m(e),t}function gL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _T(e,t){this._pairs=[],e&&Mj(e,this,t)}const YH=_T.prototype;YH.append=function(t,n){this._pairs.push([t,n])};YH.toString=function(t){const n=t?function(r){return t.call(this,r,gL)}:gL;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function c3e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JH(e,t,n){if(!t)return e;const r=n&&n.encode||c3e;de.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=de.isURLSearchParams(t)?t.toString():new _T(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class vL{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){de.forEach(this.handlers,function(r){r!==null&&t(r)})}}const XH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u3e=typeof URLSearchParams<"u"?URLSearchParams:_T,d3e=typeof FormData<"u"?FormData:null,h3e=typeof Blob<"u"?Blob:null,f3e={isBrowser:!0,classes:{URLSearchParams:u3e,FormData:d3e,Blob:h3e},protocols:["http","https","file","blob","url","data"]},NT=typeof window<"u"&&typeof document<"u",mE=typeof navigator=="object"&&navigator||void 0,m3e=NT&&(!mE||["ReactNative","NativeScript","NS"].indexOf(mE.product)<0),p3e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g3e=NT&&window.location.href||"http://localhost",v3e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:NT,hasStandardBrowserEnv:m3e,hasStandardBrowserWebWorkerEnv:p3e,navigator:mE,origin:g3e},Symbol.toStringTag,{value:"Module"})),Ar={...v3e,...f3e};function x3e(e,t){return Mj(e,new Ar.classes.URLSearchParams,{visitor:function(n,r,a,i){return Ar.isNode&&de.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function y3e(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function b3e(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function QH(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&de.isArray(a)?a.length:o,c?(de.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!de.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&de.isArray(a[o])&&(a[o]=b3e(a[o])),!l)}if(de.isFormData(e)&&de.isFunction(e.entries)){const n={};return de.forEachEntry(e,(r,a)=>{t(y3e(r),a,n,0)}),n}return null}function w3e(e,t,n){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Pv={transitional:XH,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=de.isObject(t);if(i&&de.isHTMLForm(t)&&(t=new FormData(t)),de.isFormData(t))return a?JSON.stringify(QH(t)):t;if(de.isArrayBuffer(t)||de.isBuffer(t)||de.isStream(t)||de.isFile(t)||de.isBlob(t)||de.isReadableStream(t))return t;if(de.isArrayBufferView(t))return t.buffer;if(de.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return x3e(t,this.formSerializer).toString();if((l=de.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),w3e(t)):t}],transformResponse:[function(t){const n=this.transitional||Pv.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(de.isResponse(t)||de.isReadableStream(t))return t;if(t&&de.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?mt.from(l,mt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ar.classes.FormData,Blob:Ar.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],e=>{Pv.headers[e]={}});const j3e=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_3e=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&j3e[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},xL=Symbol("internals");function bm(e){return e&&String(e).trim().toLowerCase()}function Ny(e){return e===!1||e==null?e:de.isArray(e)?e.map(Ny):String(e)}function N3e(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const S3e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function q1(e,t,n,r,a){if(de.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!de.isString(t)){if(de.isString(r))return t.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(t)}}function C3e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function k3e(e,t){const n=de.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class ys{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,u){const d=bm(c);if(!d)throw new Error("header name must be a non-empty string");const h=de.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=Ny(l))}const o=(l,c)=>de.forEach(l,(u,d)=>i(u,d,c));if(de.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(de.isString(t)&&(t=t.trim())&&!S3e(t))o(_3e(t),n);else if(de.isObject(t)&&de.isIterable(t)){let l={},c,u;for(const d of t){if(!de.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?de.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=bm(t),t){const r=de.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return N3e(a);if(de.isFunction(n))return n.call(this,a,r);if(de.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=bm(t),t){const r=de.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||q1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=bm(o),o){const l=de.findKey(r,o);l&&(!n||q1(r,r[l],l,n))&&(delete r[l],a=!0)}}return de.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||q1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return de.forEach(this,(a,i)=>{const o=de.findKey(r,i);if(o){n[o]=Ny(a),delete n[i];return}const l=t?C3e(i):String(i).trim();l!==i&&delete n[i],n[l]=Ny(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return de.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&de.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[xL]=this[xL]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=bm(o);r[l]||(k3e(a,o),r[l]=!0)}return de.isArray(t)?t.forEach(i):i(t),this}}ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(ys.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});de.freezeMethods(ys);function V1(e,t){const n=this||Pv,r=t||n,a=ys.from(r.headers);let i=r.data;return de.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function ZH(e){return!!(e&&e.__CANCEL__)}function Lf(e,t,n){mt.call(this,e??"canceled",mt.ERR_CANCELED,t,n),this.name="CanceledError"}de.inherits(Lf,mt,{__CANCEL__:!0});function eG(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new mt("Request failed with status code "+n.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function E3e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function P3e(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[a]=c,r[a]=u;let h=i,f=0;for(;h!==a;)f+=n[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function A3e(e,t){let n=0,r=1e3/t,a,i;const o=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-h)))},()=>a&&o(a)]}const w0=(e,t,n=3)=>{let r=0;const a=P3e(50,250);return A3e(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=a(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},yL=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},bL=e=>(...t)=>de.asap(()=>e(...t)),T3e=Ar.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ar.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ar.origin),Ar.navigator&&/(msie|trident)/i.test(Ar.navigator.userAgent)):()=>!0,O3e=Ar.hasStandardBrowserEnv?{write(e,t,n,r,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];de.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),de.isString(r)&&l.push(`path=${r}`),de.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),de.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function M3e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function D3e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function tG(e,t,n){let r=!M3e(t);return e&&(r||n==!1)?D3e(e,t):t}const wL=e=>e instanceof ys?{...e}:e;function pu(e,t){t=t||{};const n={};function r(u,d,h,f){return de.isPlainObject(u)&&de.isPlainObject(d)?de.merge.call({caseless:f},u,d):de.isPlainObject(d)?de.merge({},d):de.isArray(d)?d.slice():d}function a(u,d,h,f){if(de.isUndefined(d)){if(!de.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!de.isUndefined(d))return r(void 0,d)}function o(u,d){if(de.isUndefined(d)){if(!de.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>a(wL(u),wL(d),h,!0)};return de.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||a,f=h(e[d],t[d],d);de.isUndefined(f)&&h!==l||(n[d]=f)}),n}const nG=e=>{const t=pu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ys.from(o),t.url=JH(tG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),de.isFormData(n)){if(Ar.hasStandardBrowserEnv||Ar.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(de.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Ar.hasStandardBrowserEnv&&(r&&de.isFunction(r)&&(r=r(t)),r||r!==!1&&T3e(t.url))){const c=a&&i&&O3e.read(i);c&&o.set(a,c)}return t},I3e=typeof XMLHttpRequest<"u",$3e=I3e&&function(e){return new Promise(function(n,r){const a=nG(e);let i=a.data;const o=ys.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,h,f,m,g;function p(){m&&m(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function y(){if(!x)return;const j=ys.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:e,request:x};eG(function(C){n(C),p()},function(C){r(C),p()},S),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(r(new mt("Request aborted",mt.ECONNABORTED,e,x)),x=null)},x.onerror=function(_){const S=_&&_.message?_.message:"Network Error",N=new mt(S,mt.ERR_NETWORK,e,x);N.event=_||null,r(N),x=null},x.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||XH;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),r(new mt(_,S.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&de.forEach(o.toJSON(),function(_,S){x.setRequestHeader(S,_)}),de.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([f,g]=w0(u,!0),x.addEventListener("progress",f)),c&&x.upload&&([h,m]=w0(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=j=>{x&&(r(!j||j.type?new Lf(null,e,x):j),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=E3e(a.url);if(b&&Ar.protocols.indexOf(b)===-1){r(new mt("Unsupported protocol "+b+":",mt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},R3e=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof mt?d:new Lf(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new mt(`timeout ${t} of ms exceeded`,mt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>de.asap(l),c}},L3e=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},F3e=async function*(e,t){for await(const n of B3e(e))yield*L3e(n,t)},B3e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},jL=(e,t,n,r)=>{const a=F3e(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},_L=64*1024,{isFunction:Fx}=de,U3e=(({Request:e,Response:t})=>({Request:e,Response:t}))(de.global),{ReadableStream:NL,TextEncoder:SL}=de.global,CL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},z3e=e=>{e=de.merge.call({skipUndefined:!0},U3e,e);const{fetch:t,Request:n,Response:r}=e,a=t?Fx(t):typeof fetch=="function",i=Fx(n),o=Fx(r);if(!a)return!1;const l=a&&Fx(NL),c=a&&(typeof SL=="function"?(g=>p=>g.encode(p))(new SL):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&l&&CL(()=>{let g=!1;const p=new n(Ar.origin,{body:new NL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),d=o&&l&&CL(()=>de.isReadableStream(new r("").body)),h={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(p,x)=>{let y=p&&p[g];if(y)return y.call(p);throw new mt(`Response type '${g}' is not supported`,mt.ERR_NOT_SUPPORT,x)})});const f=async g=>{if(g==null)return 0;if(de.isBlob(g))return g.size;if(de.isSpecCompliantForm(g))return(await new n(Ar.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(de.isArrayBufferView(g)||de.isArrayBuffer(g))return g.byteLength;if(de.isURLSearchParams(g)&&(g=g+""),de.isString(g))return(await c(g)).byteLength},m=async(g,p)=>{const x=de.toFiniteNumber(g.getContentLength());return x??f(p)};return async g=>{let{url:p,method:x,data:y,signal:b,cancelToken:j,timeout:_,onDownloadProgress:S,onUploadProgress:N,responseType:C,headers:k,withCredentials:D="same-origin",fetchOptions:I}=nG(g),E=t||fetch;C=C?(C+"").toLowerCase():"text";let L=R3e([b,j&&j.toAbortSignal()],_),U=null;const F=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let $;try{if(N&&u&&x!=="get"&&x!=="head"&&($=await m(k,y))!==0){let G=new n(p,{method:"POST",body:y,duplex:"half"}),W;if(de.isFormData(y)&&(W=G.headers.get("content-type"))&&k.setContentType(W),G.body){const[w,A]=yL($,w0(bL(N)));y=jL(G.body,_L,w,A)}}de.isString(D)||(D=D?"include":"omit");const M=i&&"credentials"in n.prototype,O={...I,signal:L,method:x.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:M?D:void 0};U=i&&new n(p,O);let R=await(i?E(U,I):E(p,O));const B=d&&(C==="stream"||C==="response");if(d&&(S||B&&F)){const G={};["status","statusText","headers"].forEach(P=>{G[P]=R[P]});const W=de.toFiniteNumber(R.headers.get("content-length")),[w,A]=S&&yL(W,w0(bL(S),!0))||[];R=new r(jL(R.body,_L,w,()=>{A&&A(),F&&F()}),G)}C=C||"text";let T=await h[de.findKey(h,C)||"text"](R,g);return!B&&F&&F(),await new Promise((G,W)=>{eG(G,W,{data:T,headers:ys.from(R.headers),status:R.status,statusText:R.statusText,config:g,request:U})})}catch(M){throw F&&F(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,g,U),{cause:M.cause||M}):mt.from(M,M&&M.code,g,U)}}},q3e=new Map,rG=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,i=[r,a,n];let o=i.length,l=o,c,u,d=q3e;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:z3e(t)),d=u;return u};rG();const ST={http:i3e,xhr:$3e,fetch:{get:rG}};de.forEach(ST,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kL=e=>`- ${e}`,V3e=e=>de.isFunction(e)||e===null||e===!1;function W3e(e,t){e=de.isArray(e)?e:[e];const{length:n}=e;let r,a;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(a=r,!V3e(r)&&(a=ST[(l=String(r)).toLowerCase()],a===void 0))throw new mt(`Unknown adapter '${l}'`);if(a&&(de.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(kL).join(`
`):" "+kL(o[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const sG={getAdapter:W3e,adapters:ST};function W1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lf(null,e)}function EL(e){return W1(e),e.headers=ys.from(e.headers),e.data=V1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sG.getAdapter(e.adapter||Pv.adapter,e)(e).then(function(r){return W1(e),r.data=V1.call(e,e.transformResponse,r),r.headers=ys.from(r.headers),r},function(r){return ZH(r)||(W1(e),r&&r.response&&(r.response.data=V1.call(e,e.transformResponse,r.response),r.response.headers=ys.from(r.response.headers))),Promise.reject(r)})}const aG="1.13.2",Dj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dj[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const PL={};Dj.transitional=function(t,n,r){function a(i,o){return"[Axios v"+aG+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new mt(a(o," has been removed"+(n?" in "+n:"")),mt.ERR_DEPRECATED);return n&&!PL[o]&&(PL[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Dj.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function H3e(e,t,n){if(typeof e!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new mt("option "+i+" must be "+c,mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new mt("Unknown option "+i,mt.ERR_BAD_OPTION)}}const Sy={assertOptions:H3e,validators:Dj},wi=Sy.validators;class Kc{constructor(t){this.defaults=t||{},this.interceptors={request:new vL,response:new vL}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=pu(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Sy.assertOptions(r,{silentJSONParsing:wi.transitional(wi.boolean),forcedJSONParsing:wi.transitional(wi.boolean),clarifyTimeoutError:wi.transitional(wi.boolean)},!1),a!=null&&(de.isFunction(a)?n.paramsSerializer={serialize:a}:Sy.assertOptions(a,{encode:wi.function,serialize:wi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sy.assertOptions(n,{baseUrl:wi.spelling("baseURL"),withXsrfToken:wi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&de.merge(i.common,i[n.method]);i&&de.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=ys.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,h=0,f;if(!c){const g=[EL.bind(this),void 0];for(g.unshift(...l),g.push(...u),f=g.length,d=Promise.resolve(n);h<f;)d=d.then(g[h++],g[h++]);return d}f=l.length;let m=n;for(;h<f;){const g=l[h++],p=l[h++];try{m=g(m)}catch(x){p.call(this,x);break}}try{d=EL.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=pu(this.defaults,t);const n=tG(t.baseURL,t.url,t.allowAbsoluteUrls);return JH(n,t.params,t.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(t){Kc.prototype[t]=function(n,r){return this.request(pu(r||{},{method:t,url:n,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(pu(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Kc.prototype[t]=n(),Kc.prototype[t+"Form"]=n(!0)});class CT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Lf(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new CT(function(a){t=a}),cancel:t}}}function G3e(e){return function(n){return e.apply(null,n)}}function K3e(e){return de.isObject(e)&&e.isAxiosError===!0}const pE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pE).forEach(([e,t])=>{pE[t]=e});function iG(e){const t=new Kc(e),n=LH(Kc.prototype.request,t);return de.extend(n,Kc.prototype,t,{allOwnKeys:!0}),de.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return iG(pu(e,a))},n}const Bn=iG(Pv);Bn.Axios=Kc;Bn.CanceledError=Lf;Bn.CancelToken=CT;Bn.isCancel=ZH;Bn.VERSION=aG;Bn.toFormData=Mj;Bn.AxiosError=mt;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=G3e;Bn.isAxiosError=K3e;Bn.mergeConfig=pu;Bn.AxiosHeaders=ys;Bn.formToJSON=e=>QH(de.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=sG.getAdapter;Bn.HttpStatusCode=pE;Bn.default=Bn;const Y3e="https://voxtro-backend.onrender.com";class J3e{constructor(){ht(this,"client");this.client=Bn.create({baseURL:Y3e,headers:{"Content-Type":"application/json"},timeout:3e4}),this.client.interceptors.request.use(async t=>{try{const{data:{session:n}}=await J.auth.getSession();n!=null&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`)}catch(n){console.error("Error getting session:",n)}return t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var r,a,i;((r=t.response)==null?void 0:r.status)===401&&(console.error("Authentication error - redirecting to login"),window.location.href="/auth");const n=((i=(a=t.response)==null?void 0:a.data)==null?void 0:i.detail)||t.message||"An unexpected error occurred";return Promise.reject(new Error(n))})}async get(t,n){return(await this.client.get(t,{params:n})).data}async post(t,n){return(await this.client.post(t,n)).data}async patch(t,n){return(await this.client.patch(t,n)).data}async delete(t){return(await this.client.delete(t)).data}async put(t,n){return(await this.client.put(t,n)).data}}const cr=new J3e;async function X3e(e){return cr.post("/api/chat/message",e)}async function AL(e){return cr.post("/api/chat/crawl",e)}function kT({chatbotId:e,websiteUrl:t="",websiteContent:n,crawlStatus:r="pending",lastCrawledAt:a,onWebsiteUpdate:i,onCrawlComplete:o}){const[l,c]=v.useState(t),[u,d]=v.useState(!1),[h,f]=v.useState([]),[m,g]=v.useState([]),[p,x]=v.useState(!1),{toast:y}=wn(),b=async()=>{if(l.trim()){d(!0);try{const S=await AL({chatbot_id:e,url:l,discover_only:!0});S!=null&&S.pages&&(f(S.pages),g(S.pages.slice(0,5)),x(!0))}catch{y({title:"Error",description:"Failed to discover pages",variant:"destructive"})}finally{d(!1)}}},j=async()=>{if(!l.trim()){y({title:"Error",description:"Please enter a website URL",variant:"destructive"});return}if(!e){y({title:"Error",description:"No chatbot selected",variant:"destructive"});return}d(!0);try{i==null||i(l);const S=await AL({chatbot_id:e,url:l,selected_pages:m.length>0?m:void 0});S!=null&&S.success?(y({title:"Success",description:`Website crawled successfully! ${S.pagesCount} pages processed.`}),o==null||o()):y({title:"Error",description:(S==null?void 0:S.error)||"Failed to crawl website",variant:"destructive"})}catch(S){console.error("Crawl error:",S),y({title:"Error",description:"Failed to crawl website",variant:"destructive"})}finally{d(!1)}},_=()=>{switch(r){case"completed":return s.jsxs(Pe,{variant:"default",className:"bg-green-100 text-green-800",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Completed"]});case"crawling":return s.jsxs(Pe,{variant:"secondary",children:[s.jsx(ps,{className:"h-3 w-3 mr-1 animate-spin"}),"Crawling..."]});case"failed":return s.jsxs(Pe,{variant:"destructive",children:[s.jsx(ei,{className:"h-3 w-3 mr-1"}),"Failed"]});default:return s.jsx(Pe,{variant:"outline",children:"Pending"})}};return s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(vh,{className:"h-5 w-5"}),"Website Content"]}),s.jsx(ye,{children:"Crawl your website to provide context to your chatbot"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"url",placeholder:"https://example.com",value:l,onChange:S=>c(S.target.value),className:"flex-1",disabled:u}),s.jsx(Z,{onClick:b,disabled:u||!l.trim(),variant:"outline",className:"min-w-[100px]",children:"Discover Pages"}),s.jsx(Z,{onClick:j,disabled:u||!l.trim()||p&&m.length===0,className:"min-w-[100px]",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ps,{className:"h-4 w-4 mr-2 animate-spin"}),"Crawling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xa,{className:"h-4 w-4 mr-2"}),n?"Re-crawl":"Crawl"]})})]}),p&&h.length>0&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("h4",{className:"font-semibold mb-2",children:["Select Pages to Crawl (",m.length," selected)"]}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:h.map((S,N)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kh,{id:`page-${N}`,checked:m.includes(S),onCheckedChange:C=>{g(C?[...m,S]:m.filter(k=>k!==S))}}),s.jsx("label",{htmlFor:`page-${N}`,className:"text-sm cursor-pointer flex-1 truncate",children:S})]},N))})]}),l&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),_()]}),a&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Last crawled: ",new Date(a).toLocaleString()]})]})]})]})}const or=JP,Ff=dq,Q3e=XP,oG=v.forwardRef(({className:e,...t},n)=>s.jsx(av,{ref:n,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));oG.displayName=av.displayName;const Kn=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Q3e,{children:[s.jsx(oG,{}),s.jsxs(iv,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(Iw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ku,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kn.displayName=iv.displayName;const Yn=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Yn.displayName="DialogHeader";const lG=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lG.displayName="DialogFooter";const Jn=v.forwardRef(({className:e,...t},n)=>s.jsx(ov,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));Jn.displayName=ov.displayName;const Ro=v.forwardRef(({className:e,...t},n)=>s.jsx(lv,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Ro.displayName=lv.displayName;const H1=[{id:"email_send",name:"Send Email",description:"Send emails to users or notify team members",icon:si},{id:"webhook_call",name:"Webhook Call",description:"Call external APIs or services",icon:jre},{id:"custom_tool",name:"Custom Tool",description:"Create a custom tool with configurable parameters for automation",icon:gs}];function TL({chatbotId:e,onSuccess:t,action:n}){var N,C,k;const[r,a]=v.useState((n==null?void 0:n.action_type)||""),[i,o]=v.useState((n==null?void 0:n.name)||""),[l,c]=v.useState((n==null?void 0:n.description)||""),[u,d]=v.useState((n==null?void 0:n.configuration)||{}),[h,f]=v.useState(!1),[m,g]=v.useState((n==null?void 0:n.action_type)==="custom_tool"&&((N=n==null?void 0:n.configuration)!=null&&N.parameters)?n.configuration.parameters:[]),{toast:p}=wn(),x=async D=>{if(D.preventDefault(),!r||!i.trim()){p({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f(!0);try{const I=r==="custom_tool"?{...u,parameters:m}:u;if(n){const{error:E}=await J.from("chatbot_actions").update({action_type:r,name:i.trim(),description:l.trim(),configuration:I}).eq("id",n.id);if(E)throw E;p({title:"Success",description:"Action updated successfully"})}else{const{error:E}=await J.from("chatbot_actions").insert({chatbot_id:e,action_type:r,name:i.trim(),description:l.trim(),configuration:I,is_active:!0});if(E)throw E;p({title:"Success",description:"Action created successfully"})}t()}catch(I){console.error("Error creating action:",I),p({title:"Error",description:"Failed to create action",variant:"destructive"})}finally{f(!1)}},y=(D,I)=>{d(E=>({...E,[D]:I}))},b=()=>{g(D=>[...D,{name:"",type:"text",description:"",required:!1}])},j=D=>{g(I=>I.filter((E,L)=>L!==D))},_=(D,I,E)=>{g(L=>L.map((U,F)=>F===D?{...U,[I]:E}:U))},S=()=>{var D,I,E,L,U;switch(r){case"email_send":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-provider",children:"Email Provider"}),s.jsxs(qe,{value:u.provider||"",onValueChange:F=>y("provider",F),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select email provider"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"smtp",children:"SMTP"}),s.jsx(oe,{value:"sendgrid",children:"SendGrid"}),s.jsx(oe,{value:"mailgun",children:"Mailgun"})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-from",children:"From Email"}),s.jsx(le,{id:"email-from",type:"email",placeholder:"noreply@yourcompany.com",value:u.fromEmail||"",onChange:F=>y("fromEmail",F.target.value)})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-to",children:"Default To Email"}),s.jsx(le,{id:"email-to",type:"email",placeholder:"support@yourcompany.com",value:u.defaultToEmail||"",onChange:F=>y("defaultToEmail",F.target.value)})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-template",children:"Email Template"}),s.jsx(bt,{id:"email-template",placeholder:"Enter email template...",value:u.emailTemplate||"",onChange:F=>y("emailTemplate",F.target.value)})]})]});case"webhook_call":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(le,{id:"webhook-url",type:"url",placeholder:"https://api.yourservice.com/webhook",value:u.webhookUrl||"",onChange:F=>y("webhookUrl",F.target.value)})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"webhook-method",children:"HTTP Method"}),s.jsxs(qe,{value:u.method||"POST",onValueChange:F=>y("method",F),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select HTTP method"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"POST",children:"POST"}),s.jsx(oe,{value:"PUT",children:"PUT"}),s.jsx(oe,{value:"PATCH",children:"PATCH"})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"webhook-headers",children:"Headers (JSON)"}),s.jsx(bt,{id:"webhook-headers",placeholder:'{"Authorization": "Bearer YOUR_TOKEN"}',value:u.headers||"",onChange:F=>y("headers",F.target.value)})]})]});case"custom_tool":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(le,{id:"webhook-url",type:"url",placeholder:"https://hook.make.com/your-webhook-id",value:u.webhookUrl||"",onChange:F=>y("webhookUrl",F.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Connect to Make.com, Zapier, or any webhook endpoint"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"tool-trigger",children:"Tool Trigger Phrase"}),s.jsx(le,{id:"tool-trigger",placeholder:"e.g., 'book appointment', 'send notification'",value:u.triggerPhrase||"",onChange:F=>y("triggerPhrase",F.target.value)}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"When users say this phrase, the tool will be triggered"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Q,{children:"Custom Parameters"}),s.jsxs(Z,{type:"button",variant:"outline",size:"sm",onClick:b,className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Add Parameter"]})]}),m.map((F,$)=>s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:`param-name-${$}`,children:"Parameter Name"}),s.jsx(le,{id:`param-name-${$}`,placeholder:"e.g., customer_email",value:F.name,onChange:M=>_($,"name",M.target.value)})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:`param-type-${$}`,children:"Parameter Type"}),s.jsxs(qe,{value:F.type,onValueChange:M=>_($,"type",M),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"text",children:"Text"}),s.jsx(oe,{value:"email",children:"Email"}),s.jsx(oe,{value:"number",children:"Number"}),s.jsx(oe,{value:"date",children:"Date"}),s.jsx(oe,{value:"phone",children:"Phone"})]})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(Q,{htmlFor:`param-desc-${$}`,children:"Description"}),s.jsx(le,{id:`param-desc-${$}`,placeholder:"Describe what this parameter is for",value:F.description,onChange:M=>_($,"description",M.target.value)})]}),s.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:F.required,onChange:M=>_($,"required",M.target.checked),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:"Required parameter"})]}),s.jsxs(Z,{type:"button",variant:"destructive",size:"sm",onClick:()=>j($),className:"flex items-center gap-2",children:[s.jsx(hn,{className:"h-4 w-4"}),"Remove"]})]})]})},$)),m.length===0&&s.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-muted-foreground",children:"No parameters added yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add parameters that your automation tool needs"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(si,{className:"h-5 w-5"})," Email Automation"]}),s.jsx(ye,{children:"Automatically send emails when this tool is triggered and all required parameters are collected"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"email-automation-enabled",checked:((D=u.emailAutomation)==null?void 0:D.enabled)||!1,onChange:F=>y("emailAutomation",{...u.emailAutomation,enabled:F.target.checked}),className:"rounded border-gray-300"}),s.jsx(Q,{htmlFor:"email-automation-enabled",children:"Enable email trigger for this tool"})]}),((I=u.emailAutomation)==null?void 0:I.enabled)&&s.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(le,{id:"email-subject",placeholder:"e.g., New Lead from {{bot_name}}",value:((E=u.emailAutomation)==null?void 0:E.subject)||"",onChange:F=>y("emailAutomation",{...u.emailAutomation,subject:F.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use ","{{bot_name}}"," for chatbot name and parameter names like ","{{name}}, {{email}}"]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-body",children:"Email Body Template"}),s.jsx(bt,{id:"email-body",placeholder:`Name: {{name}}
Email: {{email}}
Service: {{service}}
Notes: {{notes}}`,value:((L=u.emailAutomation)==null?void 0:L.body)||"",onChange:F=>y("emailAutomation",{...u.emailAutomation,body:F.target.value}),rows:6}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Use dynamic variables from your tool parameters (e.g., ","{{name}}, {{email}}, {{service}}",")"]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email-recipients",children:"Recipient Email(s)"}),s.jsx(le,{id:"email-recipients",placeholder:"admin@company.com, {{email}}",value:((U=u.emailAutomation)==null?void 0:U.recipients)||"",onChange:F=>y("emailAutomation",{...u.emailAutomation,recipients:F.target.value})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Comma-separated emails. Use ","{{email}}"," or other parameters as recipients"]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-sm mb-2",children:" Example Configuration:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Subject:"})," New Lead from ","{{bot_name}}"]}),s.jsx("p",{children:s.jsx("strong",{children:"Body:"})}),s.jsxs("pre",{className:"bg-background p-2 rounded text-xs whitespace-pre-wrap",children:["Name: ","{{name}}",`
`,"Email: ","{{email}}",`
`,"Service: ","{{service}}",`
`,"Notes: ","{{notes}}"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Recipients:"})," support@company.com, ","{{email}}"]})]})]})]})]})]})]});default:return null}};return s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"action-type",children:"Action Type"}),s.jsxs(qe,{value:r,onValueChange:a,children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select action type"})}),s.jsx(Ue,{children:H1.map(D=>s.jsx(oe,{value:D.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D.icon,{className:"h-4 w-4"}),D.name]})},D.id))})]})]}),r&&s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:(C=H1.find(D=>D.id===r))==null?void 0:C.name}),s.jsx(ye,{children:(k=H1.find(D=>D.id===r))==null?void 0:k.description})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"action-name",children:"Action Name"}),s.jsx(le,{id:"action-name",placeholder:"e.g., Book Appointment",value:i,onChange:D=>o(D.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"action-description",children:"Description"}),s.jsx(bt,{id:"action-description",placeholder:"Describe what this action does...",value:l,onChange:D=>c(D.target.value)})]}),S()]})})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(Z,{type:"submit",disabled:h||!r||!i.trim(),children:h?n?"Updating...":"Creating...":n?"Update Action":"Create Action"})})]})}function cG({chatbotId:e}){const[t,n]=v.useState([]),[r,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(null),{toast:u}=wn();v.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:p,error:x}=await J.from("chatbot_actions").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(x)throw x;n(p||[])}catch(p){console.error("Error fetching actions:",p),u({title:"Error",description:"Failed to fetch actions",variant:"destructive"})}finally{a(!1)}},h=async(p,x)=>{try{const{error:y}=await J.from("chatbot_actions").update({is_active:!x}).eq("id",p);if(y)throw y;await d(),u({title:"Success",description:`Action ${x?"disabled":"enabled"} successfully`})}catch(y){console.error("Error toggling action:",y),u({title:"Error",description:"Failed to toggle action",variant:"destructive"})}},f=async p=>{try{const{error:x}=await J.from("chatbot_actions").delete().eq("id",p);if(x)throw x;await d(),u({title:"Success",description:"Action deleted successfully"})}catch(x){console.error("Error deleting action:",x),u({title:"Error",description:"Failed to delete action",variant:"destructive"})}},m=p=>{switch(p){case"calendar_booking":return"Calendar Booking";case"email_send":return"Send Email";case"webhook_call":return"Webhook Call";case"zapier_trigger":return"Zapier Trigger";case"custom_tool":return"Custom Tool";default:return p}},g=p=>{switch(p){case"calendar_booking":return"bg-blue-100 text-blue-800";case"email_send":return"bg-green-100 text-green-800";case"webhook_call":return"bg-purple-100 text-purple-800";case"zapier_trigger":return"bg-orange-100 text-orange-800";case"custom_tool":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx(H,{children:s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(ye,{children:"Loading actions..."})]})}):s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Actions & Functions"]}),s.jsx(ye,{children:"Configure actions your chatbot can perform, like booking appointments or sending emails"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.length," action",t.length!==1?"s":""," configured"]}),s.jsxs(or,{open:i,onOpenChange:o,children:[s.jsx(Ff,{asChild:!0,children:s.jsxs(Z,{size:"sm",type:"button",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Action"]})}),s.jsxs(Kn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Add New Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:s.jsx(TL,{chatbotId:e,onSuccess:()=>{o(!1),d()}})})]})]})]}),s.jsx(or,{open:!!l,onOpenChange:()=>c(null),children:s.jsxs(Kn,{className:"!max-w-4xl w-full max-h-[90vh] flex flex-col",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Edit Action"})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:l&&s.jsx(TL,{chatbotId:e,action:l,onSuccess:()=>{c(null),d()}})})]})}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"font-semibold mb-2",children:"No actions configured"}),s.jsx("p",{className:"text-sm mb-4",children:"Add actions to let your chatbot perform tasks like booking appointments or sending emails"}),s.jsxs(Z,{onClick:()=>o(!0),type:"button",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Your First Action"]})]}):s.jsx("div",{className:"space-y-3",children:t.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium",children:p.name}),s.jsx(Pe,{className:g(p.action_type),children:m(p.action_type)}),s.jsx(Pe,{variant:p.is_active?"default":"secondary",children:p.is_active?"Active":"Inactive"})]}),p.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.description}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(p.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{variant:"ghost",size:"sm",type:"button",onClick:()=>c(p),title:"Edit action",children:s.jsx(tU,{className:"h-4 w-4"})}),s.jsx(Z,{variant:"ghost",size:"sm",type:"button",onClick:()=>h(p.id,p.is_active),children:p.is_active?s.jsx(vre,{className:"h-4 w-4"}):s.jsx(eU,{className:"h-4 w-4"})}),s.jsx(Z,{variant:"ghost",size:"sm",type:"button",onClick:()=>f(p.id),children:s.jsx(hn,{className:"h-4 w-4"})})]})]},p.id))})]})]})}function uG({chatbotId:e}){const[t,n]=v.useState([]),[r,a]=v.useState(!1),[i,o]=v.useState({question:"",answer:""}),{toast:l}=wn();v.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{const{data:m,error:g}=await J.from("chatbot_faqs").select("*").eq("chatbot_id",e).order("sort_order");if(g)throw g;n(m||[])}catch{l({title:"Error",description:"Failed to fetch FAQs",variant:"destructive"})}},u=async()=>{if(!(!i.question.trim()||!i.answer.trim())){a(!0);try{const m=Math.max(...t.map(p=>p.sort_order),-1),{error:g}=await J.from("chatbot_faqs").insert({chatbot_id:e,question:i.question.trim(),answer:i.answer.trim(),sort_order:m+1});if(g)throw g;o({question:"",answer:""}),c(),l({title:"Success",description:"FAQ added successfully"})}catch{l({title:"Error",description:"Failed to add FAQ",variant:"destructive"})}finally{a(!1)}}},d=async m=>{if(confirm("Are you sure you want to delete this FAQ?"))try{const{error:g}=await J.from("chatbot_faqs").delete().eq("id",m);if(g)throw g;c(),l({title:"Success",description:"FAQ deleted successfully"})}catch{l({title:"Error",description:"Failed to delete FAQ",variant:"destructive"})}},h=async(m,g)=>{try{const{error:p}=await J.from("chatbot_faqs").update({is_active:g}).eq("id",m);if(p)throw p;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}},f=async(m,g,p)=>{try{const{error:x}=await J.from("chatbot_faqs").update({[g]:p}).eq("id",m);if(x)throw x;c()}catch{l({title:"Error",description:"Failed to update FAQ",variant:"destructive"})}};return s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-5 w-5 text-primary"}),"Frequently Asked Questions"]}),s.jsx(ye,{children:"Create quick-send buttons for common questions that visitors can click to ask"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/10",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"new-question",className:"text-sm font-medium",children:"Question"}),s.jsx(le,{id:"new-question",placeholder:"Enter a frequently asked question...",value:i.question,onChange:m=>o(g=>({...g,question:m.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"new-answer",className:"text-sm font-medium",children:"Answer"}),s.jsx(bt,{id:"new-answer",placeholder:"Enter the answer the chatbot should give...",value:i.answer,onChange:m=>o(g=>({...g,answer:m.target.value})),rows:3})]}),s.jsxs(Z,{onClick:u,disabled:r||!i.question.trim()||!i.answer.trim(),className:"w-full",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add FAQ"]})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ut,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No FAQs yet. Add your first FAQ to get started!"})]}):t.map(m=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{checked:m.is_active,onCheckedChange:g=>h(m.id,g)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:m.is_active?"Active":"Inactive"})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>d(m.id),className:"text-destructive hover:text-destructive",children:s.jsx(hn,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium text-muted-foreground",children:"Question"}),s.jsx(le,{value:m.question,onChange:g=>f(m.id,"question",g.target.value),placeholder:"Enter the question visitors will see...",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm font-medium text-muted-foreground",children:"Answer"}),s.jsx(bt,{value:m.answer||"",onChange:g=>f(m.id,"answer",g.target.value),placeholder:"Enter the answer the chatbot should give...",rows:3,className:"mt-1 resize-none"})]})]},m.id))}),t.length>0&&s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[s.jsx("strong",{children:"Tip:"})," These questions will appear as clickable buttons in your chat widget, making it easy for visitors to ask common questions. Only active FAQs will be shown."]})]})]})}function dG({chatbotId:e}){const[t,n]=v.useState([]),[r,a]=v.useState(!0);v.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:c,error:u}=await J.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(u)throw u;n(c||[])}catch(c){console.error("Error fetching forms:",c),_e.error("Failed to load forms")}finally{a(!1)}},o=async(c,u)=>{try{const{error:d}=await J.from("chatbot_forms").update({is_active:!u}).eq("id",c);if(d)throw d;n(t.map(h=>h.id===c?{...h,is_active:!u}:h)),_e.success(`Form ${u?"deactivated":"activated"}`)}catch(d){console.error("Error toggling form status:",d),_e.error("Failed to update form status")}},l=async c=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:u}=await J.from("chatbot_forms").delete().eq("id",c);if(u)throw u;n(t.filter(d=>d.id!==c)),_e.success("Form deleted successfully")}catch(u){console.error("Error deleting form:",u),_e.error("Failed to delete form")}};return r?s.jsx("div",{children:"Loading forms..."}):t.length===0?s.jsx(H,{children:s.jsx(Y,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No forms created yet. Go to the Forms section to create forms for this chatbot."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage which forms are active for this chatbot. Active forms will be triggered when users mention the associated keywords."}),t.map(c=>s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kh,{checked:c.is_active,onCheckedChange:()=>o(c.id,c.is_active)}),s.jsxs("div",{children:[s.jsx(re,{className:"text-sm",children:c.form_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.form_title})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:c.is_active?"default":"secondary",children:c.is_active?"Active":"Inactive"}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>l(c.id),className:"text-destructive hover:text-destructive",children:s.jsx(hn,{className:"h-4 w-4"})})]})]})}),c.form_description&&s.jsx(Y,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:c.form_description})}),c.trigger_keywords&&c.trigger_keywords.length>0&&s.jsx(Y,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Keywords:"}),c.trigger_keywords.map((u,d)=>s.jsx(Pe,{variant:"outline",className:"text-xs",children:u},d))]})})]},c.id))]})}async function Cy(){return cr.post("/api/voice/sync")}async function Z3e(e,t){return cr.patch(`/api/voice/${e}`,t)}async function e5e(e,t){return cr.post("/api/voice/validate",{api_key:e,public_key:t||null})}async function t5e(){return cr.get("/api/voice/token")}async function n5e(e){return cr.post("/api/voice/validate-elevenlabs",{api_key:e})}async function OL(){return cr.post("/api/whatsapp/sync")}async function r5e(e,t){return cr.patch(`/api/whatsapp/${e}`,t)}async function s5e(e){return cr.get(`/api/whatsapp/${e}`)}async function hG(e){return cr.post("/api/notifications/email",e)}async function a5e(e){return cr.post("/api/notifications/contact",e)}async function i5e(e){return cr.post("/api/notifications/ticket-reply",e)}async function o5e(e){return cr.post("/api/notifications/admin-ticket",e)}async function l5e(e){return cr.post("/api/customers",e)}async function c5e(e){return cr.post(`/api/customers/send-login-link?email=${encodeURIComponent(e)}`)}async function u5e(e){return cr.post("/api/customers/portal/tickets",e)}async function d5e(e){return cr.post("/api/leads/extract",{customer_id:e.customerId})}const h5e=[{value:"basic",label:"Basic Condition"},{value:"message_content",label:"Message Content"},{value:"custom_parameter",label:"Custom Parameter"},{value:"parameter_exists",label:"Parameter Exists"}],f5e=[{value:"always",label:"Always send email"}],ML=[{value:"conversation_length",label:"Conversation Length (messages)"},{value:"conversation_duration",label:"Duration (minutes)"},{value:"user_rating",label:"User Rating"},{value:"summary_sentiment",label:"Summary Sentiment"},{value:"agent_name",label:"Agent/Bot Name"}],m5e=[{value:"user",label:"User"},{value:"bot",label:"Bot"},{value:"any",label:"Any"}],DL=[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"starts_with",label:"Starts With"},{value:"ends_with",label:"Ends With"},{value:"not_contains",label:"Does Not Contain"},{value:"not_equals",label:"Does Not Equal"}],IL=[{value:"equals",label:"Equals"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_than_equal",label:"Greater Than or Equal"},{value:"less_than_equal",label:"Less Than or Equal"},{value:"not_equals",label:"Not Equal"}],p5e=["{{user_name}}","{{bot_name}}","{{conversation_summary}}","{{timestamp}}","{{first_message}}","{{last_message}}"];function fG({chatbotId:e,template:t,conditions:n,notificationEmail:r,onTemplateChange:a,onConditionsChange:i}){const[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState([]),[f,m]=v.useState([]),{toast:g}=wn();v.useEffect(()=>{p(),x()},[e]);const p=async()=>{try{const{data:U,error:F}=await J.from("chatbot_custom_parameters").select("id, parameter_name, parameter_type, is_required").eq("chatbot_id",e);if(F)throw F;h(U||[])}catch(U){console.error("Error loading custom parameters:",U)}},x=async()=>{try{const{data:U,error:F}=await J.from("chatbot_actions").select("name, configuration").eq("chatbot_id",e).eq("action_type","custom_tool").eq("is_active",!0);if(F)throw F;const $=[];U==null||U.forEach(M=>{const O=M.configuration;((O==null?void 0:O.parameters)||[]).forEach(B=>{$.push({tool_name:M.name,parameter_name:B.name,parameter_type:B.type,is_required:B.required})})}),m($)}catch(U){console.error("Error loading tool parameters:",U)}},y=n.groups?n:{logic:n.logic||"AND",groups:[{logic:"AND",rules:n.rules||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},b=()=>{const U={...y,groups:[...y.groups,{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]};i(U)},j=U=>{const F={...y,groups:y.groups.map(($,M)=>M===U?{...$,rules:[...$.rules,{type:"basic",field:"always",operator:"equals",value:"true"}]}:$)};i(F)},_=U=>{if(y.groups.length===1)return;const F={...y,groups:y.groups.filter(($,M)=>M!==U)};i(F)},S=(U,F)=>{if(y.groups[U].rules.length===1)return;const M={...y,groups:y.groups.map((O,R)=>R===U?{...O,rules:O.rules.filter((B,T)=>T!==F)}:O)};i(M)},N=(U,F,$,M)=>{const O={...y,groups:y.groups.map((R,B)=>B===U?{...R,rules:R.rules.map((T,G)=>G===F?{...T,[$]:M}:T)}:R)};i(O)},C=(U,F)=>{const $={...y,groups:y.groups.map((M,O)=>O===U?{...M,logic:F}:M)};i($)},k=U=>{i({...y,logic:U})},D=U=>{if(U.type==="custom_parameter"){const F=ML.find(M=>M.value===U.field);if((F==null?void 0:F.value)==="conversation_length"||(F==null?void 0:F.value)==="conversation_duration"||(F==null?void 0:F.value)==="user_rating")return IL;const $=d.find(M=>M.parameter_name===U.field);if(($==null?void 0:$.parameter_type)==="number")return IL}return DL},I=U=>{const F=document.getElementById("email-template");if(F){const $=F.selectionStart,M=F.selectionEnd,O=t.slice(0,$)+U+t.slice(M);a(O),setTimeout(()=>{F.focus(),F.setSelectionRange($+U.length,$+U.length)},0)}},E=()=>{const U={user_name:"John Doe",bot_name:"SalesBot",conversation_summary:"The user inquired about pricing for the premium package and asked about scheduling a demo. The conversation covered features, pricing tiers, and implementation timeline.",timestamp:new Date().toLocaleString(),first_message:"Hi, I'm interested in learning more about your premium package.",last_message:"Thank you for the information. I'll discuss this with my team and get back to you soon."};let F=t;return Object.entries(U).forEach(([$,M])=>{const O=new RegExp(`\\{\\{${$}\\}\\}`,"g");F=F.replace(O,M)}),d.forEach($=>{const M=new RegExp(`\\{\\{${$.parameter_name}\\}\\}`,"g");F=F.replace(M,`[Mock ${$.parameter_name}]`)}),f.forEach($=>{const M=new RegExp(`\\{\\{tool_${$.parameter_name}\\}\\}`,"g");F=F.replace(M,`[Mock Tool Data: ${$.parameter_name}]`)}),F},L=async()=>{if(!r){g({title:"Error",description:"Please set a notification email address first.",variant:"destructive"});return}u(!0);try{const U=E();await hG({to_email:r,subject:" Test Email - End-of-Chat Template",html_content:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
              <div style="background-color: #3b82f6; color: white; padding: 15px; border-radius: 8px 8px 0 0;">
                <h2 style="margin: 0;"> Test Email - End-of-Chat Template</h2>
              </div>
              <div style="border: 1px solid #e2e8f0; border-top: none; padding: 20px; border-radius: 0 0 8px 8px;">
                <p><strong>This is a test of your custom email template.</strong></p>
                <hr style="margin: 20px 0; border: 1px solid #e2e8f0;">
                <div style="white-space: pre-line; line-height: 1.6;">
                  ${U.replace(/\n/g,"<br>")}
                </div>
              </div>
            </div>
          `,from_name:"Voxtro Chatbots"}),g({title:"Test Email Sent",description:`Test email sent successfully to ${r}`})}catch(U){console.error("Error sending test email:",U),g({title:"Error",description:`Failed to send test email: ${U.message}`,variant:"destructive"})}finally{u(!1)}};return s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"End-of-Chat Email Settings"}),s.jsx(ye,{children:"Customize your email template and set conditions for when emails should be sent"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{htmlFor:"email-template",className:"text-sm font-medium",children:"Email Template"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Available variables:"}),p5e.map(U=>s.jsx(Pe,{variant:"secondary",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>I(U),children:U},U)),d.map(U=>s.jsxs(Pe,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs",onClick:()=>I(`{{${U.parameter_name}}}`),children:["{{","$",U.parameter_name,"}}"]},U.parameter_name)),f.map(U=>s.jsxs(Pe,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground text-xs border-orange-500 text-orange-700",onClick:()=>I(`{{tool_${U.parameter_name}}}`),children:["{{tool_","$",U.parameter_name,"}}"]},`${U.tool_name}-${U.parameter_name}`))]}),f.length>0&&s.jsx("p",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded",children:" Tool parameters (orange badges) are collected when your custom tools execute during conversations"}),s.jsx(bt,{id:"email-template",value:t,onChange:U=>a(U.target.value),placeholder:"Enter your custom email template...",className:"min-h-[200px] font-mono text-sm"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{className:"text-sm font-medium",children:"Email Sending Conditions"}),s.jsxs(Z,{type:"button",variant:"outline",size:"sm",onClick:b,children:[s.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Add Rule Group"]})]}),y.groups.length>1&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Between groups use:"}),s.jsxs(qe,{value:y.logic,onValueChange:U=>k(U),children:[s.jsx(Be,{className:"w-20",children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"AND",children:"AND"}),s.jsx(oe,{value:"OR",children:"OR"})]})]})]}),s.jsx("div",{className:"space-y-4",children:y.groups.map((U,F)=>s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Rule Group ",F+1]}),U.rules.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Logic:"}),s.jsxs(qe,{value:U.logic,onValueChange:$=>C(F,$),children:[s.jsx(Be,{className:"w-16 h-6 text-xs",children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"AND",children:"AND"}),s.jsx(oe,{value:"OR",children:"OR"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>j(F),children:s.jsx(Yt,{className:"h-3 w-3"})}),y.groups.length>1&&s.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(F),children:s.jsx(hn,{className:"h-3 w-3 text-destructive"})})]})]}),s.jsx("div",{className:"space-y-2",children:U.rules.map(($,M)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/30 flex-wrap",children:[s.jsxs(qe,{value:$.type,onValueChange:O=>{var T;let R={type:O,field:"",operator:"equals",value:""};O==="basic"?(R.field="always",R.value="true"):O==="message_content"?(R.field="any_message",R.operator="contains",R.sender="any",R.case_sensitive=!1):O==="custom_parameter"?(R.field="conversation_length",R.operator="greater_than",R.value="5"):O==="parameter_exists"&&(R.field="parameter_exists",R.operator="exists",R.parameter_name=((T=d[0])==null?void 0:T.parameter_name)||"",R.value="true");const B={...y,groups:y.groups.map((G,W)=>W===F?{...G,rules:G.rules.map((w,A)=>A===M?R:w)}:G)};i(B)},children:[s.jsx(Be,{className:"w-36",children:s.jsx(Ve,{})}),s.jsx(Ue,{children:h5e.map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value))})]}),$.type==="basic"&&s.jsxs(qe,{value:$.field,onValueChange:O=>N(F,M,"field",O),children:[s.jsx(Be,{className:"w-40",children:s.jsx(Ve,{})}),s.jsx(Ue,{children:f5e.map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value))})]}),$.type==="message_content"&&s.jsxs(s.Fragment,{children:[s.jsxs(qe,{value:$.sender||"any",onValueChange:O=>N(F,M,"sender",O),children:[s.jsx(Be,{className:"w-24",children:s.jsx(Ve,{})}),s.jsx(Ue,{children:m5e.map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value))})]}),s.jsxs(qe,{value:$.operator,onValueChange:O=>N(F,M,"operator",O),children:[s.jsx(Be,{className:"w-32",children:s.jsx(Ve,{})}),s.jsx(Ue,{children:DL.map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value))})]}),s.jsx(le,{value:$.value,onChange:O=>N(F,M,"value",O.target.value),placeholder:"Search text...",className:"flex-1 min-w-[120px]"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{checked:$.case_sensitive||!1,onCheckedChange:O=>N(F,M,"case_sensitive",O)}),s.jsx(Q,{className:"text-xs",children:"Case"})]})]}),$.type==="custom_parameter"&&s.jsxs(s.Fragment,{children:[s.jsxs(qe,{value:$.field,onValueChange:O=>N(F,M,"field",O),children:[s.jsx(Be,{className:"w-48",children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[ML.map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value)),d.map(O=>s.jsxs(oe,{value:O.parameter_name,children:["Custom: ",O.parameter_name," (",O.parameter_type,")"]},O.parameter_name)),f.map(O=>s.jsxs(oe,{value:`tool_${O.parameter_name}`,children:['Tool "',O.tool_name,'": ',O.parameter_name," (",O.parameter_type,")"]},`tool_${O.parameter_name}`))]})]}),s.jsxs(qe,{value:$.operator,onValueChange:O=>N(F,M,"operator",O),children:[s.jsx(Be,{className:"w-36",children:s.jsx(Ve,{})}),s.jsx(Ue,{children:D($).map(O=>s.jsx(oe,{value:O.value,children:O.label},O.value))})]}),s.jsx(le,{value:$.value,onChange:O=>N(F,M,"value",O.target.value),placeholder:"Value...",className:"flex-1 min-w-[100px]"})]}),$.type==="parameter_exists"&&s.jsxs(s.Fragment,{children:[s.jsxs(qe,{value:$.parameter_name||"",onValueChange:O=>N(F,M,"parameter_name",O),children:[s.jsx(Be,{className:"w-40",children:s.jsx(Ve,{placeholder:"Select parameter"})}),s.jsxs(Ue,{children:[d.map(O=>s.jsxs(oe,{value:O.parameter_name,children:[O.parameter_name," (",O.parameter_type,")"]},O.id)),f.map(O=>s.jsxs(oe,{value:`tool_${O.parameter_name}`,children:['Tool "',O.tool_name,'": ',O.parameter_name," (",O.parameter_type,")"]},`tool_${O.parameter_name}`))]})]}),s.jsxs(qe,{value:$.operator,onValueChange:O=>N(F,M,"operator",O),children:[s.jsx(Be,{className:"w-32",children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"exists",children:"Exists"}),s.jsx(oe,{value:"not_exists",children:"Does Not Exist"})]})]})]}),U.rules.length>1&&s.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(F,M),children:s.jsx(hn,{className:"h-4 w-4 text-destructive"})})]},M))})]})},F))})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:()=>l(!o),children:[o?s.jsx(Mp,{className:"h-4 w-4 mr-2"}):s.jsx(Sa,{className:"h-4 w-4 mr-2"}),o?"Hide Preview":"Show Preview"]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:L,disabled:c||!r,children:[s.jsx(bre,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Test Email"]})]}),o&&s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{className:"text-sm",children:"Email Preview (with mock data)"})}),s.jsx(Y,{children:s.jsx("div",{className:"p-4 border rounded-lg bg-muted/30 text-sm whitespace-pre-line",style:{fontFamily:"Arial, sans-serif"},children:E()})})]})]})]})}const g5e=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"boolean",label:"Yes/No"},{value:"email",label:"Email Address"},{value:"phone",label:"Phone Number"}],$L={text:{patterns:["name is *","my name is *","call me *"]},email:{patterns:["email is *","my email is *","contact me at *"],validation_regex:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"},phone:{patterns:["phone is *","my phone is *","call me at *"],validation_regex:"^[\\+]?[1-9][\\d]{0,15}$"},number:{patterns:["age is *","I am * years old"]},boolean:{patterns:["yes","no","true","false"]}};function mG({chatbotId:e,onParametersChange:t}){const[n,r]=v.useState([]),[a,i]=v.useState(!0),[o,l]=v.useState(!1),{toast:c}=wn();v.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:p,error:x}=await J.from("chatbot_custom_parameters").select("*").eq("chatbot_id",e).order("created_at");if(x)throw x;const y=(p==null?void 0:p.map(b=>({id:b.id,parameter_name:b.parameter_name,parameter_type:b.parameter_type,extraction_rules:b.extraction_rules||{},is_required:b.is_required,validation_rules:b.validation_rules||{}})))||[];r(y),t==null||t(y)}catch(p){console.error("Error loading parameters:",p),c({title:"Error",description:"Failed to load custom parameters",variant:"destructive"})}finally{i(!1)}},d=()=>{const p={parameter_name:"",parameter_type:"text",extraction_rules:$L.text,is_required:!1,validation_rules:{}};r([...n,p])},h=(p,x)=>{const y=n.map((b,j)=>{if(j===p){const _={...b,...x};return x.parameter_type&&x.parameter_type!==b.parameter_type&&(_.extraction_rules=$L[x.parameter_type]||{}),_}return b});r(y)},f=p=>{const x=n[p];r(n.filter((y,b)=>b!==p)),x.id&&m(x.id)},m=async p=>{try{const{error:x}=await J.from("chatbot_custom_parameters").delete().eq("id",p);if(x)throw x}catch(x){console.error("Error deleting parameter:",x),c({title:"Error",description:"Failed to delete parameter",variant:"destructive"})}},g=async()=>{l(!0);try{if(n.filter(j=>!j.parameter_name.trim()).length>0){c({title:"Validation Error",description:"All parameters must have a name",variant:"destructive"});return}const x=n.map(j=>j.parameter_name.toLowerCase().trim());if(x.filter((j,_)=>x.indexOf(j)!==_).length>0){c({title:"Validation Error",description:"Parameter names must be unique",variant:"destructive"});return}const{error:b}=await J.from("chatbot_custom_parameters").delete().eq("chatbot_id",e);if(b)throw b;if(n.length>0){const{error:j}=await J.from("chatbot_custom_parameters").insert(n.map(_=>({chatbot_id:e,parameter_name:_.parameter_name.trim(),parameter_type:_.parameter_type,extraction_rules:_.extraction_rules,is_required:_.is_required,validation_rules:_.validation_rules})));if(j)throw j}c({title:"Success",description:"Custom parameters saved successfully"}),await u()}catch(p){console.error("Error saving parameters:",p),c({title:"Error",description:"Failed to save parameters",variant:"destructive"})}finally{l(!1)}};return a?s.jsx("div",{className:"p-4",children:"Loading parameters..."}):s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Custom Parameters"]}),s.jsx(ye,{children:"Define custom parameters your chatbot should extract from conversations. These can be used in email conditions and templates."})]}),s.jsxs(Y,{className:"space-y-4",children:[n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No custom parameters defined yet."}),s.jsx("p",{className:"text-sm",children:"Add parameters to extract structured data from conversations."})]}):s.jsx("div",{className:"space-y-4",children:n.map((p,x)=>s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:`param-name-${x}`,children:"Parameter Name"}),s.jsx(le,{id:`param-name-${x}`,value:p.parameter_name,onChange:y=>h(x,{parameter_name:y.target.value}),placeholder:"e.g., name, email, phone_number"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:`param-type-${x}`,children:"Type"}),s.jsxs(qe,{value:p.parameter_type,onValueChange:y=>h(x,{parameter_type:y}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsx(Ue,{children:g5e.map(y=>s.jsx(oe,{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:`param-required-${x}`,checked:p.is_required,onCheckedChange:y=>h(x,{is_required:y})}),s.jsx(Q,{htmlFor:`param-required-${x}`,children:"Required"})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:`param-patterns-${x}`,children:"Extraction Patterns"}),s.jsx(bt,{id:`param-patterns-${x}`,value:(p.extraction_rules.patterns||[]).join(`
`),onChange:y=>h(x,{extraction_rules:{...p.extraction_rules,patterns:y.target.value.split(`
`).filter(b=>b.trim())}}),placeholder:`Enter patterns (one per line):
my name is *
call me *
email is *`,className:"min-h-[80px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Use * as wildcard. Example: "my name is *" will extract "John" from "my name is John"'})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(x),children:s.jsx(hn,{className:"h-4 w-4 text-destructive"})})})]})},x))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:d,children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Parameter"]}),n.length>0&&s.jsx(Z,{onClick:g,disabled:o,children:o?"Saving...":"Save Parameters"})]}),n.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Usage in Email Conditions:"}),' Once saved, these parameters will be available in the email conditions as "Parameter Exists/Does Not Exist" and "Parameter Value" conditions.']})})]})]})}function pG({formData:e,onChange:t,availableForms:n}){var l;const r=[{value:"phone",label:"Phone",icon:Ot},{value:"email",label:"Email",icon:si},{value:"message",label:"Message",icon:Sn},{value:"user",label:"Contact",icon:Gs}],a=()=>{var d;const c={id:`btn_${Date.now()}`,label:"Contact Us",icon:"phone",formId:((d=n[0])==null?void 0:d.id)||"",color:e.widget_button_color||"#3b82f6"},u=[...e.widget_form_buttons||[],c];t({target:{name:"widget_form_buttons",value:u}})},i=(c,u,d)=>{const h=[...e.widget_form_buttons||[]];h[c]={...h[c],[u]:d},t({target:{name:"widget_form_buttons",value:h}})},o=c=>{var d;const u=((d=e.widget_form_buttons)==null?void 0:d.filter((h,f)=>f!==c))||[];t({target:{name:"widget_form_buttons",value:u}})};return s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Widget Customization"}),s.jsx(ye,{children:"Customize how your chat widget appears on your website"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_button_text",children:"Button Text"}),s.jsx(le,{id:"widget_button_text",name:"widget_button_text",value:e.widget_button_text,onChange:t,placeholder:"Chat with us"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_position",children:"Widget Position"}),s.jsxs(qe,{value:e.widget_position,onValueChange:c=>t({target:{name:"widget_position",value:c}}),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select position"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"center",children:"Center"}),s.jsx(oe,{value:"bottom-right",children:"Bottom Right"}),s.jsx(oe,{value:"bottom-left",children:"Bottom Left"}),s.jsx(oe,{value:"top-right",children:"Top Right"}),s.jsx(oe,{value:"top-left",children:"Top Left"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_button_color",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"widget_button_color",name:"widget_button_color",type:"color",value:e.widget_button_color||"#3b82f6",onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"widget_button_color",value:e.widget_button_color||"#3b82f6",onChange:t,placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_text_color",children:"Text Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"widget_text_color",name:"widget_text_color",type:"color",value:e.widget_text_color,onChange:t,className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"widget_text_color",value:e.widget_text_color,onChange:t,placeholder:"#ffffff",className:"flex-1"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_size",children:"Widget Size"}),s.jsxs(qe,{value:e.widget_size,onValueChange:c=>t({target:{name:"widget_size",value:c}}),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select size"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"small",children:"Small"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"large",children:"Large"})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_border_radius",children:"Border Radius"}),s.jsxs(qe,{value:e.widget_border_radius,onValueChange:c=>t({target:{name:"widget_border_radius",value:c}}),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select border radius"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"0",children:"Square"}),s.jsx(oe,{value:"8px",children:"Rounded"}),s.jsx(oe,{value:"50%",children:"Circular"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"widget_custom_css",children:"Custom CSS"}),s.jsx(bt,{id:"widget_custom_css",name:"widget_custom_css",value:e.widget_custom_css,onChange:t,placeholder:`/* Example: Customize widget button */
#voxtro-button {
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  animation: pulse 2s infinite;
}

/* Customize chat window */
#voxtro-chat {
  border-radius: 20px !important;
}

/* Customize messages */
.voxtro-user-message {
  background: linear-gradient(45deg, #667eea, #764ba2);
}

.voxtro-bot-message {
  background: #f8f9fa;
  border-left: 4px solid #007bff;
}`,className:"min-h-32 font-mono text-sm"}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground space-y-1",children:[s.jsx("p",{children:s.jsx("strong",{children:"Available CSS selectors:"})}),s.jsxs("div",{className:"bg-muted p-2 rounded text-xs font-mono space-y-0.5",children:[s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-widget"})," - Main widget container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-button"})," - Chat button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-chat"})," - Chat window container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-messages"})," - Messages container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-input"})," - Input field"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-send"})," - Send button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-faq-container"})," - FAQ suggestions container"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-end-conversation"})," - End conversation button"]}),s.jsxs("div",{children:[s.jsx("code",{children:"#voxtro-overlay"})," - Background overlay"]})]})]})]}),s.jsx(Xr,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-base font-medium",children:"Form Buttons"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add buttons that open contact forms instead of the chat"})]}),s.jsxs(Z,{type:"button",onClick:a,size:"sm",disabled:n.length===0,children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Button"]})]}),e.widget_form_buttons&&e.widget_form_buttons.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx(Q,{htmlFor:"widget_form_buttons_layout",children:"Button Layout"}),s.jsxs(qe,{value:e.widget_form_buttons_layout||"vertical",onValueChange:c=>t({target:{name:"widget_form_buttons_layout",value:c}}),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select layout"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"vertical",children:"Vertical (Stacked)"}),s.jsx(oe,{value:"horizontal",children:"Horizontal (Side by Side)"})]})]})]}),n.length===0&&s.jsx("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"No forms available. Create some forms first to add form buttons to your widget."}),s.jsx("div",{className:"space-y-4",children:(l=e.widget_form_buttons)==null?void 0:l.map((c,u)=>{var h;const d=((h=r.find(f=>f.value===c.icon))==null?void 0:h.icon)||Ot;return s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-medium",children:["Form Button ",u+1]})]}),s.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(u),children:s.jsx(hn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm",children:"Button Label"}),s.jsx(le,{value:c.label,onChange:f=>i(u,"label",f.target.value),placeholder:"Contact Us"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm",children:"Icon"}),s.jsxs(qe,{value:c.icon,onValueChange:f=>i(u,"icon",f),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsx(Ue,{children:r.map(f=>s.jsx(oe,{value:f.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f.icon,{className:"h-4 w-4"}),f.label]})},f.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm",children:"Form to Open"}),s.jsxs(qe,{value:c.formId,onValueChange:f=>i(u,"formId",f),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select form"})}),s.jsx(Ue,{children:n.map(f=>s.jsx(oe,{value:f.id,children:f.form_title||f.form_name},f.id))})]})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-sm",children:"Button Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{type:"color",value:c.color,onChange:f=>i(u,"color",f.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{value:c.color,onChange:f=>i(u,"color",f.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]})]})]})},c.id)})})]})]})]})}const v5e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function x5e({chatbotId:e,onSave:t}){const{user:n}=Ht(),{toast:r}=wn(),[a,i]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState([]),[d,h]=v.useState(""),[f,m]=v.useState(!1),[g,p]=v.useState(null),[x,y]=v.useState([]),[b,j]=v.useState(!1),[_,S]=v.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});v.useEffect(()=>{e&&(N(),C())},[e]);const N=async()=>{var $;try{const{data:M,error:O}=await J.from("chatbots").select("*").eq("id",e).eq("user_id",n==null?void 0:n.id).single();if(O||!M)throw new Error("Chatbot not found or you do not have permission to edit it");p(M),S({name:M.name,description:M.description||"",system_prompt:M.system_prompt,model:M.model,temperature:[M.temperature],max_tokens:M.max_tokens,is_active:M.is_active,website_url:M.website_url||"",theme_color:M.theme_color,theme_color_type:M.theme_color_type||"solid",theme_gradient_start:M.theme_gradient_start||"#3b82f6",theme_gradient_end:M.theme_gradient_end||"#8b5cf6",theme_gradient_angle:M.theme_gradient_angle||135,session_timeout_minutes:M.session_timeout_minutes||30,welcome_message:M.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:M.daily_token_limit||1e5,monthly_token_limit:M.monthly_token_limit||1e6,cache_enabled:M.cache_enabled??!0,cache_duration_hours:M.cache_duration_hours||168,end_chat_notification_enabled:M.end_chat_notification_enabled||!1,end_chat_notification_email:M.end_chat_notification_email||"",email_template:M.email_template||"",email_conditions:typeof M.email_conditions=="object"&&M.email_conditions!==null?M.email_conditions.groups?M.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:(($=M.email_conditions.rules)==null?void 0:$.map(R=>({type:"basic",...R})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:M.widget_button_text||"Chat with us",widget_position:M.widget_position||"bottom-right",widget_button_color:M.widget_button_color||"#3b82f6",widget_text_color:M.widget_text_color||"#ffffff",widget_size:M.widget_size||"medium",widget_border_radius:M.widget_border_radius||"50%",widget_custom_css:M.widget_custom_css||"",widget_form_buttons:Array.isArray(M.widget_form_buttons)?M.widget_form_buttons:[],widget_form_buttons_layout:M.widget_form_buttons_layout||"vertical",hide_branding:M.hide_branding||!1}),u([{role:"assistant",content:M.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch(M){r({title:"Error",description:M.message,variant:"destructive"})}finally{l(!1)}},C=async()=>{try{const{data:$,error:M}=await J.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if(M){console.error("Error fetching forms:",M);return}y($||[])}catch($){console.error("Error fetching forms:",$)}},k=($,M)=>{S(O=>({...O,[$]:M})),$==="welcome_message"&&M&&u([{role:"assistant",content:M,timestamp:new Date}])},D=$=>{const{name:M,value:O}=$.target;k(M,O)},I=()=>{N(),r({title:"Website Crawled",description:"Your website content has been updated."})},E=async $=>{$.preventDefault(),i(!0);try{const M=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],O={},R={};if(g)for(const T of M){const G=g[T],W=T==="temperature"?_.temperature[0]:_[T];G!==W&&(O[T]=G,R[T]=W)}const{error:B}=await J.from("chatbots").update({..._,temperature:_.temperature[0]}).eq("id",e).eq("user_id",n==null?void 0:n.id);if(B)throw B;if(Object.keys(R).length>0&&e&&n){const T=Object.keys(R).join(", ");await J.from("changelog_entries").insert({user_id:n.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${T}`,description:`Updated settings for chatbot "${_.name}"`,previous_values:O,new_values:R,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."}),t==null||t()}catch(M){r({title:"Error",description:M.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},L=()=>{e&&window.open(`/embed/${e}`,"_blank")},U=async()=>{if(!d.trim()||f)return;const $={role:"user",content:d.trim(),timestamp:new Date};u(M=>[...M,$]),h(""),m(!0);try{const M=[{role:"system",content:_.system_prompt},...c.filter(G=>G.role!=="system").map(G=>({role:G.role,content:G.content.replace(" (Live Preview)","")})),{role:"user",content:$.content}],R=await fetch("https://voxtro-backend.onrender.com/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:M.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:_.system_prompt,model:_.model,temperature:_.temperature[0],max_tokens:_.max_tokens}})});if(!R.ok)throw new Error("Failed to get AI response");const T={role:"assistant",content:(await R.json()).response,timestamp:new Date};u(G=>[...G,T])}catch(M){console.error("Preview error:",M);const O={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(R=>[...R,O])}finally{m(!1)}},F=$=>{$.key==="Enter"&&U()};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ps,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading chatbot..."})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs($f,{defaultValue:"basic",className:"space-y-4",children:[s.jsxs(Mu,{className:"grid w-full grid-cols-6",children:[s.jsx(Jt,{value:"basic",children:"Basic"}),s.jsx(Jt,{value:"ai",children:"AI Config"}),s.jsx(Jt,{value:"widget",children:"Widget"}),s.jsx(Jt,{value:"actions",children:"Actions & FAQs"}),s.jsx(Jt,{value:"notifications",children:"Notifications"}),s.jsx(Jt,{value:"preview",children:"Preview"})]}),s.jsxs("form",{onSubmit:E,children:[s.jsx(Xt,{value:"basic",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(ye,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(le,{id:"name",value:_.name,onChange:$=>k("name",$.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"description",children:"Description"}),s.jsx(bt,{id:"description",value:_.description,onChange:$=>k("description",$.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(bt,{id:"welcome_message",value:_.welcome_message,onChange:$=>k("welcome_message",$.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"website_url",children:"Website URL"}),s.jsx(le,{id:"website_url",value:_.website_url,onChange:$=>k("website_url",$.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(kT,{chatbotId:g==null?void 0:g.id,websiteUrl:_.website_url,websiteContent:g==null?void 0:g.website_content,crawlStatus:g==null?void 0:g.crawl_status,lastCrawledAt:g==null?void 0:g.last_crawled_at,onWebsiteUpdate:$=>k("website_url",$),onCrawlComplete:I}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Lt,{checked:_.is_active,onCheckedChange:$=>k("is_active",$)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Lt,{checked:_.hide_branding,onCheckedChange:$=>k("hide_branding",$)})]})]})]})}),s.jsx(Xt,{value:"ai",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"AI Configuration"}),s.jsx(ye,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(bt,{id:"system_prompt",value:_.system_prompt,onChange:$=>k("system_prompt",$.target.value),placeholder:"Define how your chatbot should behave...",rows:6,required:!0}),s.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>j(!0),title:"Expand editor",children:s.jsx(bP,{className:"h-4 w-4"})})]})]}),s.jsx(or,{open:b,onOpenChange:j,children:s.jsxs(Kn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Edit System Prompt"})}),s.jsx(bt,{value:_.system_prompt,onChange:$=>k("system_prompt",$.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"model",children:"AI Model"}),s.jsxs(qe,{value:_.model,onValueChange:$=>k("model",$),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsx(Ue,{children:v5e.map($=>s.jsx(oe,{value:$.value,children:$.label},$.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{children:["Creativity Level: ",_.temperature[0]]}),s.jsx(Gh,{value:_.temperature,onValueChange:$=>k("temperature",$),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(le,{id:"max_tokens",type:"number",value:_.max_tokens,onChange:$=>k("max_tokens",parseInt($.target.value)),min:100,max:4e3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(le,{id:"session_timeout_minutes",type:"number",value:_.session_timeout_minutes,onChange:$=>k("session_timeout_minutes",parseInt($.target.value)),min:1,max:1440})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsx("h4",{className:"font-medium",children:"Usage Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(le,{id:"daily_token_limit",type:"number",value:_.daily_token_limit,onChange:$=>k("daily_token_limit",parseInt($.target.value)||0),min:0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(le,{id:"monthly_token_limit",type:"number",value:_.monthly_token_limit,onChange:$=>k("monthly_token_limit",parseInt($.target.value)||0),min:0})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Lt,{checked:_.cache_enabled,onCheckedChange:$=>k("cache_enabled",$)})]}),_.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(le,{id:"cache_duration_hours",type:"number",value:_.cache_duration_hours,onChange:$=>k("cache_duration_hours",parseInt($.target.value)||0),min:1,max:8760})]})]})]})]})}),s.jsxs(Xt,{value:"widget",className:"space-y-4",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Appearance"}),s.jsx(ye,{children:"Customize how your chatbot looks"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Color Type"}),s.jsxs(qe,{value:_.theme_color_type||"solid",onValueChange:$=>k("theme_color_type",$),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"solid",children:"Solid Color"}),s.jsx(oe,{value:"gradient",children:"Gradient"})]})]})]}),_.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Gradient Start"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"color",value:_.theme_gradient_start,onChange:$=>k("theme_gradient_start",$.target.value),className:"w-16 h-10 p-1"}),s.jsx(le,{value:_.theme_gradient_start,onChange:$=>k("theme_gradient_start",$.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Gradient End"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"color",value:_.theme_gradient_end,onChange:$=>k("theme_gradient_end",$.target.value),className:"w-16 h-10 p-1"}),s.jsx(le,{value:_.theme_gradient_end,onChange:$=>k("theme_gradient_end",$.target.value),className:"flex-1"})]})]})]}),s.jsx("div",{className:"p-3 rounded-lg",style:{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Theme Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{type:"color",value:_.theme_color,onChange:$=>k("theme_color",$.target.value),className:"w-16 h-10 p-1"}),s.jsx(le,{value:_.theme_color,onChange:$=>k("theme_color",$.target.value),className:"flex-1"})]})]})]})]}),s.jsx(pG,{formData:_,onChange:D,availableForms:x})]}),s.jsxs(Xt,{value:"actions",className:"space-y-4",children:[s.jsx(cG,{chatbotId:e}),s.jsx(uG,{chatbotId:e}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Connected Forms"}),s.jsx(ye,{children:"Manage which forms are active for this chatbot"})]}),s.jsx(Y,{children:s.jsx(dG,{chatbotId:e})})]})]}),s.jsxs(Xt,{value:"notifications",className:"space-y-4",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"End of Chat Notifications"}),s.jsx(ye,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end"})]}),s.jsx(Lt,{checked:_.end_chat_notification_enabled,onCheckedChange:$=>k("end_chat_notification_enabled",$)})]}),_.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(le,{id:"end_chat_notification_email",type:"email",value:_.end_chat_notification_email,onChange:$=>k("end_chat_notification_email",$.target.value),placeholder:"notifications@yourdomain.com"})]})]})]}),_.end_chat_notification_enabled&&s.jsxs(s.Fragment,{children:[s.jsx(mG,{chatbotId:e}),s.jsx(fG,{chatbotId:e,template:_.email_template,conditions:_.email_conditions,notificationEmail:_.end_chat_notification_email,onTemplateChange:$=>k("email_template",$),onConditionsChange:$=>k("email_conditions",$)})]})]}),s.jsx(Xt,{value:"preview",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Live Preview"}),s.jsx(ye,{children:"Test your chatbot configuration"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:_.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map(($,M)=>s.jsx("div",{className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${$.role==="user"?"text-white":"bg-background border"}`,style:$.role==="user"?_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}:{},children:$.content})},M)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:$=>h($.target.value),onKeyPress:F,disabled:f}),s.jsx(Z,{type:"button",size:"sm",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color},onClick:U,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Widget Preview"}),s.jsx(ye,{children:"How the chat widget appears on your website"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-muted/50 to-muted h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-full"}),s.jsx("div",{className:"h-3 bg-muted-foreground/10 rounded w-5/6"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer ${_.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":_.widget_position==="top-left"?"top-4 left-4":_.widget_position==="top-right"?"top-4 right-4":_.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${_.widget_size==="small"?"w-12 h-12":_.widget_size==="large"?"w-20 h-20":"w-16 h-16"}`,style:{backgroundColor:_.widget_button_color,color:_.widget_text_color,borderRadius:_.widget_border_radius},children:s.jsx(Ut,{className:`${_.widget_size==="small"?"h-4 w-4":_.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]})})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t mt-6",children:[s.jsxs(Z,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:L,children:[s.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Open Preview"]})]})]})]})})}function y5e(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var ET="ScrollArea",[gG,HJe]=Ir(ET),[b5e,Ta]=gG(ET),vG=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[h,f]=v.useState(null),[m,g]=v.useState(null),[p,x]=v.useState(null),[y,b]=v.useState(0),[j,_]=v.useState(0),[S,N]=v.useState(!1),[C,k]=v.useState(!1),D=Xe(t,E=>c(E)),I=Ou(a);return s.jsx(b5e,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:_,children:s.jsx(De.div,{dir:I,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});vG.displayName=ET;var xG="ScrollAreaViewport",yG=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:a,nonce:i,...o}=e,l=Ta(xG,n),c=v.useRef(null),u=Xe(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(De.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:A5e({asChild:a,children:r},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});yG.displayName=xG;var Gi="ScrollAreaScrollbar",PT=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ta(Gi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(w5e,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(j5e,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(bG,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(AT,{...r,ref:t}):null});PT.displayName=Gi;var w5e=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ta(Gi,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Un,{present:n||i,children:s.jsx(bG,{"data-state":i?"visible":"hidden",...r,ref:t})})}),j5e=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Ta(Gi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=$j(()=>c("SCROLL_END"),100),[l,c]=y5e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(Un,{present:n||l!=="hidden",children:s.jsx(AT,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:je(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),bG=v.forwardRef((e,t)=>{const n=Ta(Gi,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=$j(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Jh(n.viewport,c),Jh(n.content,c),s.jsx(Un,{present:r||i,children:s.jsx(AT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),AT=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Ta(Gi,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=SG(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return E5e(f,o.current,l,m)}return n==="horizontal"?s.jsx(_5e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=RL(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(N5e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=RL(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),_5e=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ta(Gi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Xe(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(jG,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ij(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),kG(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_0(o.paddingLeft),paddingEnd:_0(o.paddingRight)}})}})}),N5e=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Ta(Gi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=Xe(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(jG,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ij(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),kG(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_0(o.paddingTop),paddingEnd:_0(o.paddingBottom)}})}})}),[S5e,wG]=gG(Gi),jG=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Ta(Gi,n),[g,p]=v.useState(null),x=Xe(t,D=>p(D)),y=v.useRef(null),b=v.useRef(""),j=m.viewport,_=r.content-r.viewport,S=_n(d),N=_n(c),C=$j(h,10);function k(D){if(y.current){const I=D.clientX-y.current.left,E=D.clientY-y.current.top;u({x:I,y:E})}}return v.useEffect(()=>{const D=I=>{const E=I.target;(g==null?void 0:g.contains(E))&&S(I,_)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[j,g,_,S]),v.useEffect(N,[r,N]),Jh(g,C),Jh(m.content,C),s.jsx(S5e,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:_n(i),onThumbPointerUp:_n(o),onThumbPositionChange:N,onThumbPointerDown:_n(l),children:s.jsx(De.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:je(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(D))}),onPointerMove:je(e.onPointerMove,k),onPointerUp:je(e.onPointerUp,D=>{const I=D.target;I.hasPointerCapture(D.pointerId)&&I.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),j0="ScrollAreaThumb",_G=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=wG(j0,e.__scopeScrollArea);return s.jsx(Un,{present:n||a.hasThumb,children:s.jsx(C5e,{ref:t,...r})})}),C5e=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Ta(j0,n),o=wG(j0,n),{onThumbPositionChange:l}=o,c=Xe(t,h=>o.onThumbChange(h)),u=v.useRef(),d=$j(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=P5e(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(De.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:je(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:je(e.onPointerUp,o.onThumbPointerUp)})});_G.displayName=j0;var TT="ScrollAreaCorner",NG=v.forwardRef((e,t)=>{const n=Ta(TT,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(k5e,{...e,ref:t}):null});NG.displayName=TT;var k5e=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Ta(TT,n),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return Jh(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Jh(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(De.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _0(e){return e?parseInt(e,10):0}function SG(e,t){const n=e/t;return isNaN(n)?0:n}function Ij(e){const t=SG(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function E5e(e,t,n,r="ltr"){const a=Ij(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return CG([c,u],h)(e)}function RL(e,t,n="ltr"){const r=Ij(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Cg(e,c);return CG([0,o],[0,l])(u)}function CG(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kG(e,t){return e>0&&e<t}var P5e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function $j(e,t){const n=_n(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Jh(e,t){const n=_n(t);ir(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}function A5e(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const a=v.Children.only(r);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var EG=vG,T5e=yG,O5e=NG;const Js=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(EG,{ref:r,className:me("relative overflow-hidden",e),...n,children:[s.jsx(T5e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(PG,{}),s.jsx(O5e,{})]}));Js.displayName=EG.displayName;const PG=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(PT,{ref:r,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(_G,{className:"relative flex-1 rounded-full bg-border"})}));PG.displayName=PT.displayName;function M5e(){const{user:e,signOut:t,loading:n}=Ht(),r=ts(),{toast:a}=wn(),[i,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState([]),[h,f]=v.useState(!0),[m,g]=v.useState(null),[p,x]=v.useState(""),[y,b]=v.useState(!1),[j,_]=v.useState(""),[S,N]=v.useState(null),[C,k]=v.useState("conversations"),D=async()=>{if(e!=null&&e.id)try{const{data:w,error:A}=await J.from("chatbots").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(A)throw A;const P=await Promise.all((w||[]).map(async z=>{const{count:q}=await J.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",z.id);return{...z,conversationCount:q||0}}));o(P)}catch{a({title:"Error",description:"Failed to load chatbots",variant:"destructive"})}finally{f(!1)}},I=async()=>{if(e!=null&&e.id)try{const{data:w}=await J.from("chatbots").select("id").eq("user_id",e.id),A=(w==null?void 0:w.map(P=>P.id))||[];if(A.length>0){const{data:P,error:z}=await J.from("customers").select(`
            *,
            customer_chatbot_assignments!inner (
              chatbot_id
            )
          `).in("customer_chatbot_assignments.chatbot_id",A);if(z)throw z;const q=Array.from(new Map(P==null?void 0:P.map(te=>[te.id,te])).values());c(q)}}catch(w){console.error("Error fetching customers:",w)}},E=async()=>{if(e!=null&&e.id)try{const{data:w,error:A}=await J.from("customer_chatbot_assignments").select(`
          id,
          chatbot_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(A)throw A;const P=(w==null?void 0:w.map(z=>({id:z.id,chatbot_id:z.chatbot_id,customer:z.customers})))||[];d(P)}catch(w){console.error("Error fetching assignments:",w)}};if(v.useEffect(()=>{e!=null&&e.id&&!n&&(D(),I(),E())},[e==null?void 0:e.id,n]),v.useEffect(()=>{i.length>0&&!m&&g(i[0].id)},[i,m]),n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ps,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!n&&!e)return s.jsx(Ks,{to:"/auth",replace:!0});const L=()=>{r("/create-chatbot")},U=async w=>{var A;try{const{error:P}=await J.from("chatbots").delete().eq("id",w);if(P)throw P;o(i.filter(z=>z.id!==w)),m===w&&g(((A=i.filter(z=>z.id!==w)[0])==null?void 0:A.id)||null),a({title:"Success",description:"Chatbot deleted successfully"})}catch{a({title:"Error",description:"Failed to delete chatbot",variant:"destructive"})}},F=async w=>{try{const{data:A,error:P}=await J.from("chatbots").select("*").eq("id",w).single();if(P)throw P;const z={...A,id:void 0,name:`Copy of ${A.name}`,is_active:!0,created_at:void 0,updated_at:void 0,last_crawled_at:void 0,crawl_status:"pending",embed_code:void 0,inline_embed_code:void 0,user_id:e==null?void 0:e.id},{data:q,error:te}=await J.from("chatbots").insert(z).select().single();if(te)throw te;const X=q.id,{data:V}=await J.from("chatbot_actions").select("*").eq("chatbot_id",w);if(V&&V.length>0){const ge=V.map(Se=>({...Se,id:void 0,chatbot_id:X,created_at:void 0,updated_at:void 0}));await J.from("chatbot_actions").insert(ge)}const{data:se}=await J.from("chatbot_faqs").select("*").eq("chatbot_id",w);if(se&&se.length>0){const ge=se.map(Se=>({...Se,id:void 0,chatbot_id:X,created_at:void 0,updated_at:void 0}));await J.from("chatbot_faqs").insert(ge)}const{data:ee}=await J.from("chatbot_custom_parameters").select("*").eq("chatbot_id",w);if(ee&&ee.length>0){const ge=ee.map(Se=>({...Se,id:void 0,chatbot_id:X,created_at:void 0,updated_at:void 0}));await J.from("chatbot_custom_parameters").insert(ge)}D(),a({title:"Success",description:"Chatbot duplicated successfully"})}catch{a({title:"Error",description:"Failed to duplicate chatbot",variant:"destructive"})}},$=async(w,A)=>{try{const{error:P}=await J.from("chatbots").update({is_active:!A}).eq("id",w);if(P)throw P;D(),a({title:"Success",description:`Chatbot ${A?"deactivated":"activated"} successfully`})}catch{a({title:"Error",description:"Failed to update chatbot status",variant:"destructive"})}},M=async()=>{if(!m||!j){a({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:w}=await J.from("customer_chatbot_assignments").insert({customer_id:j,chatbot_id:m,assigned_by:e==null?void 0:e.id});if(w){if(w.code==="23505")a({title:"Error",description:"This customer is already assigned to this chatbot",variant:"destructive"});else throw w;return}a({title:"Success",description:"Chatbot assigned successfully"}),b(!1),_(""),await E()}catch(w){console.error("Error assigning chatbot:",w),a({title:"Error",description:"Failed to assign chatbot",variant:"destructive"})}},O=async w=>{try{const{error:A}=await J.from("customer_chatbot_assignments").delete().eq("id",w);if(A)throw A;a({title:"Success",description:"Assignment removed"}),await E()}catch(A){console.error("Error removing assignment:",A),a({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},R=(w,A="widget")=>{let P,z;const q="https://voxtro-backend.onrender.com";A==="inline"?(P=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${q}/api/widget/${w}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,z="Inline chat embed code copied to clipboard"):A==="messenger"?(P=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${q}/api/widget/${w}/messenger.js';
    script.async = true;
    script.onload = function() {
      window.openVoxtroMessenger();
    };
    document.head.appendChild(script);
  })();
<\/script>`,z="Full-screen messenger embed code copied to clipboard"):(P=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${q}/api/widget/${w}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,z="Widget embed code copied to clipboard"),navigator.clipboard.writeText(P),a({title:"Copied!",description:z})},B=w=>{if(!w)return null;const P={completed:{variant:"default",label:"Crawled"},crawling:{variant:"secondary",label:"Crawling..."},failed:{variant:"destructive",label:"Failed"},pending:{variant:"outline",label:"Pending"}}[w]||{variant:"outline",label:w};return s.jsx(Pe,{variant:P.variant,className:"text-xs",children:P.label})},T=i.find(w=>w.id===m),G=u.filter(w=>w.chatbot_id===m),W=i.filter(w=>{var A;return(A=w.name)==null?void 0:A.toLowerCase().includes(p.toLowerCase())});return h?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ps,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Chatbots"})]}),s.jsxs(Z,{onClick:L,size:"sm",className:"gap-1.5",children:[s.jsx(Yt,{className:"h-3.5 w-3.5"}),"New"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ea,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:"Search chatbots...",value:p,onChange:w=>x(w.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Js,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:W.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(yt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p?"No matching chatbots":"No chatbots yet"}),!p&&s.jsx(Z,{onClick:L,variant:"link",className:"text-xs mt-1 p-0 h-auto",children:"Create your first chatbot"})]}):W.map(w=>{const A=u.filter(z=>z.chatbot_id===w.id).length,P=m===w.id;return s.jsx("button",{onClick:()=>g(w.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${P?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:w.is_active?"#22c55e":"#94a3b8"}}),s.jsx("p",{className:`font-medium text-sm truncate ${P?"text-primary":""}`,children:w.name})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 ml-4",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.conversationCount||0," chats"]}),A>0&&s.jsxs(Pe,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[A," assigned"]})]})]}),P&&s.jsx(Ja,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},w.id)})})}),i.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[i.length," chatbots"]}),s.jsxs("span",{children:[i.filter(w=>w.is_active).length," active"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:T?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl border",style:{backgroundColor:`${T.theme_color}15`,borderColor:`${T.theme_color}30`},children:s.jsx(yt,{className:"h-6 w-6",style:{color:T.theme_color}})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:T.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Pe,{variant:T.is_active?"default":"secondary",children:T.is_active?"Active":"Inactive"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",new Date(T.created_at).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(Pd,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(Z,{variant:"default",size:"sm",onClick:()=>k("edit"),className:"gap-1.5",children:[s.jsx(BS,{className:"h-4 w-4"}),"Edit"]})]})]}),T.description&&s.jsx(H,{className:"mb-6",children:s.jsx(Y,{className:"pt-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:T.description})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>r(`/embed/${T.id}`),className:"justify-start gap-2",children:[s.jsx(Sa,{className:"h-4 w-4"}),"Preview Widget"]}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>r(`/messenger/${T.id}`),className:"justify-start gap-2",children:[s.jsx(rre,{className:"h-4 w-4"}),"Preview Messenger"]}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>R(T.id,"widget"),className:"justify-start gap-2",children:[s.jsx(uD,{className:"h-4 w-4"}),"Copy Widget Code"]}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>R(T.id,"messenger"),className:"justify-start gap-2",children:[s.jsx(uD,{className:"h-4 w-4"}),"Copy Messenger Code"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(H,{children:s.jsx(Y,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vh,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Website"}),T.website_url?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:new URL(T.website_url).hostname}),B(T.crawl_status)]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Not configured"})]})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Conversations"}),s.jsx("p",{className:"text-sm font-medium",children:T.conversationCount||0})]})]})})})]})]}),s.jsxs($f,{value:C,onValueChange:k,className:"space-y-4",children:[s.jsxs(Mu,{children:[s.jsxs(Jt,{value:"conversations",children:["Conversations (",T.conversationCount||0,")"]}),s.jsx(Jt,{value:"analytics",children:"Analytics"}),s.jsxs(Jt,{value:"customers",children:["Customers (",G.length,")"]}),s.jsxs(Jt,{value:"edit",children:[s.jsx(BS,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),s.jsx(Jt,{value:"actions",children:"Actions"})]}),s.jsx(Xt,{value:"conversations",className:"space-y-4",children:s.jsx(H,{className:"h-[400px] overflow-hidden",children:s.jsx(Y,{className:"p-0 h-full",children:S?s.jsx(Y9,{conversationId:S,onBack:()=>N(null)}):s.jsx(K9,{onConversationSelect:N,chatbotId:T.id,hideFilter:!0})})})}),s.jsx(Xt,{value:"analytics",className:"space-y-4",children:s.jsx(n4e,{chatbotId:T.id})}),s.jsx(Xt,{value:"customers",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(re,{className:"text-lg",children:"Assigned Customers"}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>b(!0),className:"gap-1.5",children:[s.jsx(Pd,{className:"h-4 w-4"}),"Assign Customer"]})]}),s.jsx(ye,{children:"Customers who have access to this chatbot"})]}),s.jsx(Y,{children:G.length===0?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Pd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned"}),s.jsx(Z,{variant:"link",className:"text-xs mt-1 p-0 h-auto",onClick:()=>b(!0),children:"Assign your first customer"})]}):s.jsx("div",{className:"space-y-2",children:G.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:w.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.customer.email}),w.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:w.customer.company_name})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>O(w.id),className:"text-destructive hover:text-destructive",children:s.jsx(hn,{className:"h-4 w-4"})})]},w.id))})})]})}),s.jsx(Xt,{value:"edit",className:"space-y-4",children:s.jsx(x5e,{chatbotId:T.id,onSave:()=>{D(),k("conversations")}})}),s.jsx(Xt,{value:"actions",className:"space-y-4",children:s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(re,{className:"text-lg",children:"Chatbot Actions"})})}),s.jsx(Y,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(Z,{variant:"outline",onClick:()=>F(T.id),className:"justify-start gap-2",children:[s.jsx(sre,{className:"h-4 w-4"}),"Duplicate Chatbot"]}),s.jsxs(Z,{variant:"outline",onClick:()=>$(T.id,T.is_active),className:"justify-start gap-2",children:[s.jsx(eU,{className:"h-4 w-4"}),T.is_active?"Deactivate":"Activate"]}),s.jsxs(Z,{variant:"outline",className:"justify-start gap-2 text-destructive hover:text-destructive",onClick:()=>U(T.id),children:[s.jsx(hn,{className:"h-4 w-4"}),"Delete Chatbot"]})]})})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No chatbot selected"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a chatbot from the sidebar or create a new one"}),s.jsxs(Z,{onClick:L,children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Chatbot"]})]})})}),s.jsx(or,{open:y,onOpenChange:b,children:s.jsxs(Kn,{children:[s.jsxs(Yn,{children:[s.jsx(Jn,{children:"Assign Chatbot to Customer"}),s.jsx(Ro,{children:"Select a customer to give them access to this chatbot"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs(qe,{value:j,onValueChange:_,children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select a customer"})}),s.jsx(Ue,{children:l.length===0?s.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No customers available"}):l.map(w=>s.jsx(oe,{value:w.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:w.full_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:w.email})]})},w.id))})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),s.jsx(Z,{onClick:M,disabled:!j,children:"Assign"})]})]})})]})}const D5e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}],I5e=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316"];function $5e(){const{user:e}=Ht(),t=ts(),{toast:n}=wn(),[r,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState({name:"",description:"",system_prompt:"You are a helpful assistant that answers questions about our company and helps customers with their inquiries. Be friendly, professional, and concise in your responses.",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",session_timeout_minutes:30,end_chat_notification_enabled:!1,end_chat_notification_email:""});if(!e)return s.jsx(Ks,{to:"/auth",replace:!0});const u=(m,g)=>{c(p=>({...p,[m]:g}))},d=async m=>{m.preventDefault(),a(!0);try{const g=crypto.randomUUID(),p="https://voxtro-backend.onrender.com",x=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${p}/api/widget/${g}/script.js?v=' + Date.now();
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,y=`<script>
  (function() {
    var script = document.createElement('script');
    script.src = '${p}/api/widget/${g}/inline.js';
    script.async = true;
    document.head.appendChild(script);
  })();
<\/script>`,{data:b,error:j}=await J.from("chatbots").insert([{...l,temperature:l.temperature[0],embed_code:x,inline_embed_code:y,user_id:e.id}]).select().single();if(j)throw j;if(b){const _=x.replace(g,b.id),S=y.replace(g,b.id);await J.from("chatbots").update({embed_code:_,inline_embed_code:S}).eq("id",b.id),o(b.id)}n({title:"Success!",description:"Your chatbot has been created successfully."}),t("/dashboard")}catch(g){n({title:"Error",description:g.message||"Failed to create chatbot",variant:"destructive"})}finally{a(!1)}},h=()=>{n({title:"Preview Coming Soon",description:"Chatbot preview functionality will be available soon!"})},f=()=>{n({title:"Website Crawled",description:"Your website content has been processed and will be available to your chatbot."})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Create New Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(ye,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(le,{id:"name",value:l.name,onChange:m=>u("name",m.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"description",children:"Description"}),s.jsx(bt,{id:"description",value:l.description,onChange:m=>u("description",m.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"website_url",children:"Website URL"}),s.jsx(le,{id:"website_url",value:l.website_url,onChange:m=>u("website_url",m.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),i&&s.jsx(kT,{chatbotId:i,websiteUrl:l.website_url,onWebsiteUpdate:m=>u("website_url",m),onCrawlComplete:f})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"AI Configuration"}),s.jsx(ye,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsx(bt,{id:"system_prompt",value:l.system_prompt,onChange:m=>u("system_prompt",m.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"model",children:"AI Model"}),s.jsxs(qe,{value:l.model,onValueChange:m=>u("model",m),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsx(Ue,{children:D5e.map(m=>s.jsx(oe,{value:m.value,children:m.label},m.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{children:["Creativity Level: ",l.temperature[0]]}),s.jsx(Gh,{value:l.temperature,onValueChange:m=>u("temperature",m),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(le,{id:"max_tokens",type:"number",value:l.max_tokens,onChange:m=>u("max_tokens",parseInt(m.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(le,{id:"session_timeout_minutes",type:"number",value:l.session_timeout_minutes,onChange:m=>u("session_timeout_minutes",parseInt(m.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Appearance"}),s.jsx(ye,{children:"Customize how your chatbot looks"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Theme Color"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:I5e.map(m=>s.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 ${l.theme_color===m?"border-foreground scale-110":"border-border"}`,style:{backgroundColor:m},onClick:()=>u("theme_color",m)},m))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Lt,{checked:l.is_active,onCheckedChange:m=>u("is_active",m)})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"End of Chat Notifications"}),s.jsx(ye,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Lt,{checked:l.end_chat_notification_enabled,onCheckedChange:m=>u("end_chat_notification_enabled",m)})]}),l.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(le,{id:"end_chat_notification_email",type:"email",value:l.end_chat_notification_email,onChange:m=>u("end_chat_notification_email",m.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Z,{type:"submit",disabled:r,className:"flex-1",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),r?"Creating...":"Create Chatbot"]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:h,children:[s.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-8",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Live Preview"}),s.jsx(ye,{children:"See how your chatbot will appear"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:l.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"bg-background p-2 rounded border",children:[s.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"User:"}),s.jsx("p",{children:"Hello! Can you help me?"})]}),s.jsxs("div",{className:"p-2 rounded text-white",style:{backgroundColor:l.theme_color},children:[s.jsxs("p",{className:"text-xs mb-1 opacity-80",children:[l.name||"Bot",":"]}),s.jsx("p",{children:"Hello! I'd be happy to help you. What can I assist you with today?"})]})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(le,{placeholder:"Type your message...",className:"flex-1 text-sm",disabled:!0}),s.jsx(Z,{size:"sm",style:{backgroundColor:l.theme_color},disabled:!0,children:"Send"})]})]}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Model:"}),s.jsx("span",{children:l.model})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Creativity:"}),s.jsx("span",{children:l.temperature[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:l.is_active?"text-green-600":"text-red-600",children:l.is_active?"Active":"Inactive"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Session Timeout:"}),s.jsxs("span",{children:[l.session_timeout_minutes," min"]})]})]})]})]})})})]})})})]})}const R5e=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cost-effective)"},{value:"gpt-4o",label:"GPT-4o (Most Powerful)"}];function L5e(){const{chatbotId:e}=Nw(),{user:t}=Ht(),n=ts(),{toast:r}=wn(),[a,i]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState([]),[d,h]=v.useState(""),[f,m]=v.useState(!1),[g,p]=v.useState(null),[x,y]=v.useState([]),[b,j]=v.useState(!1),[_,S]=v.useState({name:"",description:"",system_prompt:"",model:"gpt-4o-mini",temperature:[.7],max_tokens:1e3,is_active:!0,website_url:"",theme_color:"#3b82f6",theme_color_type:"solid",theme_gradient_start:"#3b82f6",theme_gradient_end:"#8b5cf6",theme_gradient_angle:135,session_timeout_minutes:30,welcome_message:"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:1e5,monthly_token_limit:1e6,cache_enabled:!0,cache_duration_hours:168,end_chat_notification_enabled:!1,end_chat_notification_email:"",email_template:"",email_conditions:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:"Chat with us",widget_position:"bottom-right",widget_button_color:"#3b82f6",widget_text_color:"#ffffff",widget_size:"medium",widget_border_radius:"50%",widget_custom_css:"",widget_form_buttons:[],widget_form_buttons_layout:"vertical",hide_branding:!1});if(!t)return s.jsx(Ks,{to:"/auth",replace:!0});v.useEffect(()=>{e&&(N(),C())},[e]);const N=async()=>{var M;try{const{data:O,error:R}=await J.from("chatbots").select("*").eq("id",e).eq("user_id",t.id).single();if(R||!O)throw new Error("Chatbot not found or you do not have permission to edit it");p(O),S({name:O.name,description:O.description||"",system_prompt:O.system_prompt,model:O.model,temperature:[O.temperature],max_tokens:O.max_tokens,is_active:O.is_active,website_url:O.website_url||"",theme_color:O.theme_color,theme_color_type:O.theme_color_type||"solid",theme_gradient_start:O.theme_gradient_start||"#3b82f6",theme_gradient_end:O.theme_gradient_end||"#8b5cf6",theme_gradient_angle:O.theme_gradient_angle||135,session_timeout_minutes:O.session_timeout_minutes||30,welcome_message:O.welcome_message||"Hi! I'm here to help you. How can I assist you today?",daily_token_limit:O.daily_token_limit||1e5,monthly_token_limit:O.monthly_token_limit||1e6,cache_enabled:O.cache_enabled??!0,cache_duration_hours:O.cache_duration_hours||168,end_chat_notification_enabled:O.end_chat_notification_enabled||!1,end_chat_notification_email:O.end_chat_notification_email||"",email_template:O.email_template||"",email_conditions:typeof O.email_conditions=="object"&&O.email_conditions!==null?O.email_conditions.groups?O.email_conditions:{logic:"AND",groups:[{logic:"AND",rules:((M=O.email_conditions.rules)==null?void 0:M.map(B=>({type:"basic",...B})))||[{type:"basic",field:"always",operator:"equals",value:"true"}]}]}:{logic:"AND",groups:[{logic:"AND",rules:[{type:"basic",field:"always",operator:"equals",value:"true"}]}]},widget_button_text:O.widget_button_text||"Chat with us",widget_position:O.widget_position||"bottom-right",widget_button_color:O.widget_button_color||"#3b82f6",widget_text_color:O.widget_text_color||"#ffffff",widget_size:O.widget_size||"medium",widget_border_radius:O.widget_border_radius||"50%",widget_custom_css:O.widget_custom_css||"",widget_form_buttons:Array.isArray(O.widget_form_buttons)?O.widget_form_buttons:[],widget_form_buttons_layout:O.widget_form_buttons_layout||"vertical",hide_branding:O.hide_branding||!1}),u([{role:"assistant",content:O.welcome_message||"Hi! I'm here to help you. How can I assist you today?",timestamp:new Date}])}catch(O){r({title:"Error",description:O.message,variant:"destructive"}),n("/dashboard")}finally{l(!1)}},C=async()=>{try{const{data:M,error:O}=await J.from("chatbot_forms").select("id, form_name, form_title").eq("chatbot_id",e).eq("is_active",!0);if(O){console.error("Error fetching forms:",O);return}y(M||[])}catch(M){console.error("Error fetching forms:",M)}},k=(M,O)=>{S(R=>({...R,[M]:O})),M==="welcome_message"&&O&&u([{role:"assistant",content:O,timestamp:new Date}])},D=M=>{const{name:O,value:R}=M.target;k(O,R)},I=()=>{N(),r({title:"Website Crawled",description:"Your website content has been updated."})},E=async M=>{M.preventDefault(),i(!0);try{const O=["name","description","system_prompt","model","welcome_message","is_active","theme_color","max_tokens","daily_token_limit","monthly_token_limit"],R={},B={};if(g)for(const G of O){const W=g[G],w=G==="temperature"?_.temperature[0]:_[G];W!==w&&(R[G]=W,B[G]=w)}const{error:T}=await J.from("chatbots").update({..._,temperature:_.temperature[0]}).eq("id",e).eq("user_id",t.id);if(T)throw T;if(Object.keys(B).length>0&&e&&t){const G=Object.keys(B).join(", ");await J.from("changelog_entries").insert({user_id:t.id,entity_type:"chatbot",entity_id:e,change_type:"update",title:`Configuration updated: ${G}`,description:`Updated settings for chatbot "${_.name}"`,previous_values:R,new_values:B,status:null,source:"auto"})}r({title:"Success!",description:"Your chatbot has been updated successfully."})}catch(O){r({title:"Error",description:O.message||"Failed to update chatbot",variant:"destructive"})}finally{i(!1)}},L=async()=>{if(confirm("Are you sure you want to delete this chatbot? This action cannot be undone.")){i(!0);try{const{error:M}=await J.from("chatbots").delete().eq("id",e).eq("user_id",t.id);if(M)throw M;r({title:"Success!",description:"Chatbot deleted successfully."}),n("/dashboard")}catch(M){r({title:"Error",description:M.message||"Failed to delete chatbot",variant:"destructive"})}finally{i(!1)}}},U=()=>{e&&window.open(`/embed/${e}`,"_blank")},F=async()=>{if(!d.trim()||f)return;const M={role:"user",content:d.trim(),timestamp:new Date};u(O=>[...O,M]),h(""),m(!0);try{const O=[{role:"system",content:_.system_prompt},...c.filter(W=>W.role!=="system").map(W=>({role:W.role,content:W.content.replace(" (Live Preview)","")})),{role:"user",content:M.content}],B=await fetch("https://voxtro-backend.onrender.com/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,messages:O.slice(1),visitor_id:"preview_"+Date.now(),preview_mode:!0,preview_config:{system_prompt:_.system_prompt,model:_.model,temperature:_.temperature[0],max_tokens:_.max_tokens}})});if(!B.ok)throw new Error("Failed to get AI response");const G={role:"assistant",content:(await B.json()).response,timestamp:new Date};u(W=>[...W,G])}catch(O){console.error("Preview error:",O);const R={role:"assistant",content:"Preview is testing your current settings. The AI will respond based on your saved configuration when the chatbot is deployed.",timestamp:new Date};u(B=>[...B,R])}finally{m(!1)}},$=M=>{M.key==="Enter"&&F()};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center gap-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>n("/dashboard"),children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-semibold",children:"Edit Chatbot"})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"grid gap-8 lg:grid-cols-5",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-5 w-5 text-primary"}),"Basic Information"]}),s.jsx(ye,{children:"Configure the basic settings for your chatbot"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",children:"Chatbot Name *"}),s.jsx(le,{id:"name",value:_.name,onChange:M=>k("name",M.target.value),placeholder:"e.g., Customer Support Bot",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"description",children:"Description"}),s.jsx(bt,{id:"description",value:_.description,onChange:M=>k("description",M.target.value),placeholder:"Brief description of what this chatbot does...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"welcome_message",children:"Welcome Message"}),s.jsx(bt,{id:"welcome_message",value:_.welcome_message,onChange:M=>k("welcome_message",M.target.value),placeholder:"Hi! I'm here to help you. How can I assist you today?",rows:2}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The first message visitors see when they open the chat"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"website_url",children:"Website URL"}),s.jsx(le,{id:"website_url",value:_.website_url,onChange:M=>k("website_url",M.target.value),placeholder:"https://yourwebsite.com",type:"url"})]}),s.jsx(kT,{chatbotId:g==null?void 0:g.id,websiteUrl:_.website_url,websiteContent:g==null?void 0:g.website_content,crawlStatus:g==null?void 0:g.crawl_status,lastCrawledAt:g==null?void 0:g.last_crawled_at,onWebsiteUpdate:M=>k("website_url",M),onCrawlComplete:I})]})]}),s.jsx(cG,{chatbotId:e||""}),s.jsx(uG,{chatbotId:e||""}),s.jsx(pG,{formData:_,onChange:D,availableForms:x}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"AI Configuration"}),s.jsx(ye,{children:"Configure how your chatbot thinks and responds"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"system_prompt",children:"System Prompt *"}),s.jsxs("div",{className:"relative",children:[s.jsx(bt,{id:"system_prompt",value:_.system_prompt,onChange:M=>k("system_prompt",M.target.value),placeholder:"Define how your chatbot should behave...",rows:4,required:!0}),s.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-7 w-7 bg-background/80 hover:bg-background",onClick:()=>j(!0),title:"Expand editor",children:s.jsx(bP,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This instruction tells the AI how to behave and what its role is."})]}),s.jsx(or,{open:b,onOpenChange:j,children:s.jsxs(Kn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Edit System Prompt"})}),s.jsx(bt,{value:_.system_prompt,onChange:M=>k("system_prompt",M.target.value),placeholder:"Define how your chatbot should behave...",className:"min-h-[60vh] font-mono text-sm"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"model",children:"AI Model"}),s.jsxs(qe,{value:_.model,onValueChange:M=>k("model",M),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsx(Ue,{children:R5e.map(M=>s.jsx(oe,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{children:["Creativity Level: ",_.temperature[0]]}),s.jsx(Gh,{value:_.temperature,onValueChange:M=>k("temperature",M),max:2,min:0,step:.1,className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Focused (0.0)"}),s.jsx("span",{children:"Balanced (1.0)"}),s.jsx("span",{children:"Creative (2.0)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"max_tokens",children:"Response Length (tokens)"}),s.jsx(le,{id:"max_tokens",type:"number",value:_.max_tokens,onChange:M=>k("max_tokens",parseInt(M.target.value)),min:100,max:4e3}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Higher values allow longer responses (~4 characters per token)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"session_timeout_minutes",children:"Session Timeout (minutes)"}),s.jsx(le,{id:"session_timeout_minutes",type:"number",value:_.session_timeout_minutes,onChange:M=>k("session_timeout_minutes",parseInt(M.target.value)),min:1,max:1440}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat resets after this many minutes of inactivity (max 24 hours)"})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Usage Limits"}),s.jsx(ye,{children:"Set daily and monthly token limits to control usage and costs"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"daily_token_limit",children:"Daily Token Limit"}),s.jsx(le,{id:"daily_token_limit",type:"number",value:_.daily_token_limit,onChange:M=>k("daily_token_limit",parseInt(M.target.value)||0),min:0,placeholder:"100000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per day. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"monthly_token_limit",children:"Monthly Token Limit"}),s.jsx(le,{id:"monthly_token_limit",type:"number",value:_.monthly_token_limit,onChange:M=>k("monthly_token_limit",parseInt(M.target.value)||0),min:0,placeholder:"1000000"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum tokens your chatbot can use per month. Set to 0 for unlimited."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Response Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache similar responses to reduce token usage"})]}),s.jsx(Lt,{checked:_.cache_enabled,onCheckedChange:M=>k("cache_enabled",M)})]}),_.cache_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cache_duration_hours",children:"Cache Duration (hours)"}),s.jsx(le,{id:"cache_duration_hours",type:"number",value:_.cache_duration_hours,onChange:M=>k("cache_duration_hours",parseInt(M.target.value)||0),min:1,max:8760,placeholder:"168"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep cached responses (1-8760 hours, default: 168 hours = 1 week)"})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Appearance"}),s.jsx(ye,{children:"Customize how your chatbot looks"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Color Type"}),s.jsxs(qe,{value:_.theme_color_type||"solid",onValueChange:M=>k("theme_color_type",M),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"solid",children:"Solid Color"}),s.jsx(oe,{value:"gradient",children:"Gradient"})]})]})]}),_.theme_color_type==="gradient"?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"theme_gradient_start",children:"Gradient Start"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"theme_gradient_start",name:"theme_gradient_start",type:"color",value:_.theme_gradient_start||"#3b82f6",onChange:M=>k("theme_gradient_start",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"theme_gradient_start",value:_.theme_gradient_start||"#3b82f6",onChange:M=>k("theme_gradient_start",M.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"theme_gradient_end",children:"Gradient End"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"theme_gradient_end",name:"theme_gradient_end",type:"color",value:_.theme_gradient_end||"#8b5cf6",onChange:M=>k("theme_gradient_end",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"theme_gradient_end",value:_.theme_gradient_end||"#8b5cf6",onChange:M=>k("theme_gradient_end",M.target.value),placeholder:"#8b5cf6",className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"theme_gradient_angle",children:"Gradient Angle"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gh,{id:"theme_gradient_angle",value:[_.theme_gradient_angle||135],onValueChange:M=>k("theme_gradient_angle",M[0]),min:0,max:360,step:15,className:"flex-1"}),s.jsxs("span",{className:"text-sm font-medium w-12",children:[_.theme_gradient_angle||135,""]})]})]}),s.jsx("div",{className:"p-3 rounded-lg border",style:{background:`linear-gradient(${_.theme_gradient_angle||135}deg, ${_.theme_gradient_start||"#3b82f6"}, ${_.theme_gradient_end||"#8b5cf6"})`},children:s.jsx("p",{className:"text-white text-sm font-medium text-center",children:"Preview"})})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"theme_color",children:"Theme Color"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(le,{id:"theme_color",name:"theme_color",type:"color",value:_.theme_color||"#3b82f6",onChange:M=>k("theme_color",M.target.value),className:"w-16 h-10 p-1 border rounded"}),s.jsx(le,{name:"theme_color",value:_.theme_color||"#3b82f6",onChange:M=>k("theme_color",M.target.value),placeholder:"#3b82f6",className:"flex-1"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a solid color or gradient for your chatbot's theme"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Active Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this chatbot to respond to messages"})]}),s.jsx(Lt,{checked:_.is_active,onCheckedChange:M=>k("is_active",M)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Hide Branding"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Remove "Powered by Voxtro" from the chat widget'})]}),s.jsx(Lt,{checked:_.hide_branding,onCheckedChange:M=>k("hide_branding",M)})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"End of Chat Notifications"}),s.jsx(ye,{children:"Get notified when conversations with your chatbot end"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Enable End of Chat Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications when conversations end due to inactivity"})]}),s.jsx(Lt,{checked:_.end_chat_notification_enabled,onCheckedChange:M=>k("end_chat_notification_enabled",M)})]}),_.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"end_chat_notification_email",children:"Notification Email"}),s.jsx(le,{id:"end_chat_notification_email",type:"email",value:_.end_chat_notification_email,onChange:M=>k("end_chat_notification_email",M.target.value),placeholder:"notifications@yourdomain.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address where end-of-chat notifications will be sent. This can be different from your account email."})]})]})]}),_.end_chat_notification_enabled&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(mG,{chatbotId:e||""}),s.jsx(fG,{chatbotId:e||"",template:_.email_template,conditions:_.email_conditions,notificationEmail:_.end_chat_notification_email,onTemplateChange:M=>k("email_template",M),onConditionsChange:M=>k("email_conditions",M)})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Connected Forms"}),s.jsx(ye,{children:"Manage which forms are active for this chatbot. Create new forms in the Forms section."})]}),s.jsx(Y,{children:s.jsx(dG,{chatbotId:e||""})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Z,{type:"submit",disabled:a,className:"flex-1",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Changes"]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:U,children:[s.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(Z,{type:"button",variant:"destructive",onClick:L,disabled:a,children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"sticky top-8 space-y-6",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Live Preview"}),s.jsx(ye,{children:"Test your chatbot configuration"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}}),s.jsx("span",{className:"font-medium text-sm",children:_.name||"Your Chatbot"})]}),s.jsxs("div",{className:"space-y-2 text-sm max-h-48 overflow-y-auto mb-3",children:[c.map((M,O)=>s.jsx("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] p-2 rounded text-xs ${M.role==="user"?"text-white":"bg-background border"}`,style:M.role==="user"?_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color}:{},children:M.content})},O)),f&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-background border p-2 rounded text-xs",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{placeholder:"Test your chatbot...",className:"flex-1 text-sm",value:d,onChange:M=>h(M.target.value),onKeyPress:$,disabled:f}),s.jsx(Z,{size:"sm",style:_.theme_color_type==="gradient"?{background:`linear-gradient(${_.theme_gradient_angle}deg, ${_.theme_gradient_start}, ${_.theme_gradient_end})`}:{backgroundColor:_.theme_color},onClick:F,disabled:f||!d.trim(),className:"text-white",children:"Send"})]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Widget Preview"}),s.jsx(ye,{children:"How the chat widget appears on your website"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"relative border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 h-48 overflow-hidden",children:[s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-2/3"})]}),s.jsx("div",{className:`absolute flex items-center justify-center shadow-lg cursor-pointer transform hover:scale-105 transition-all duration-200 text-sm font-medium ${_.widget_position==="center"?"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":_.widget_position==="top-left"?"top-4 left-4":_.widget_position==="top-right"?"top-4 right-4":_.widget_position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"} ${_.widget_size==="small"?"w-12 h-12 text-xs":_.widget_size==="large"?"w-20 h-20 text-base":"w-16 h-16 text-sm"}`,style:{backgroundColor:_.widget_button_color||"#3b82f6",color:_.widget_text_color,borderRadius:_.widget_border_radius},children:_.widget_position==="center"?s.jsx("span",{className:"px-4 py-2",children:_.widget_button_text}):s.jsx(Ut,{className:`${_.widget_size==="small"?"h-4 w-4":_.widget_size==="large"?"h-8 w-8":"h-6 w-6"}`})})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Position:"})," ",_.widget_position]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Size:"})," ",_.widget_size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Button Text:"})," ",_.widget_button_text]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Colors:"})," Button: ",_.widget_button_color,", Text: ",_.widget_text_color]})]})]})]})]})})]})})})]})}const F5e="/assets/chime-alert-DWmXsH8Y.wav";function B5e(){const{chatbotId:e}=Nw(),t=ts(),{toast:n}=wn(),[r,a]=v.useState(null),[i,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState(!0),[h,f]=v.useState(""),[m,g]=v.useState(!1),[p,x]=v.useState(null),[y]=v.useState(()=>localStorage.getItem("voxtro_visitor_id")||(()=>{const D=`visitor_${Math.random().toString(36).substr(2,9)}`;return localStorage.setItem("voxtro_visitor_id",D),D})()),b=v.useState(()=>new Audio(F5e))[0];v.useEffect(()=>{b.volume=.5},[]);const j=()=>{try{b.currentTime=0,b.play().catch(D=>{console.log(" EmbedChat - Sound blocked by browser:",D.message)})}catch(D){console.error(" EmbedChat - Error playing audio:",D)}};v.useEffect(()=>{const D=E=>{E.stopPropagation()},I=document.querySelector(".chat-container");if(I)return I.addEventListener("wheel",D),()=>I.removeEventListener("wheel",D)},[]),v.useEffect(()=>{e&&(S(),_())},[e]);const _=async()=>{if(e)try{const{data:D,error:I}=await J.from("chatbot_faqs").select("id, question, answer, is_active").eq("chatbot_id",e).eq("is_active",!0).order("sort_order").limit(4);!I&&D&&o(D)}catch{console.log("No FAQs configured for this chatbot")}},S=async()=>{try{const{data:D,error:I}=await J.from("chatbots").select("id, name, theme_color, is_active, end_chat_notification_email").eq("id",e).single();if(I||!D)throw new Error("Chatbot not found");a(D),c([{role:"assistant",content:`Hi! I'm ${D.name}. How can I help you today?${D.is_active?"":" (Preview Mode)"}`,timestamp:new Date}])}catch{n({title:"Error",description:"Failed to load chatbot",variant:"destructive"})}},N=async()=>{if(!h.trim()||m||!r)return;if(d(!1),!r.is_active){const I={role:"user",content:h.trim(),timestamp:new Date},E={role:"assistant",content:"This is preview mode. The chatbot will respond with actual AI when it's active and embedded on your website.",timestamp:new Date};c(L=>[...L,I,E]),f("");return}const D={role:"user",content:h.trim(),timestamp:new Date};c(I=>[...I,D]),f(""),g(!0);try{const E={role:"assistant",content:(await X3e({chatbot_id:r.id,message:D.content,visitor_id:y})).message,timestamp:new Date};c(L=>[...L,E]),console.log(" Calling playNotificationSound now..."),j(),console.log(" playNotificationSound called"),setTimeout(()=>{p==null||p.scrollIntoView({behavior:"smooth"})},100)}catch{n({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{g(!1)}},C=D=>{D.key==="Enter"&&N()},k=async()=>{if(r!=null&&r.id)try{if(!r.end_chat_notification_email)throw new Error("Please configure an end-of-chat notification email for this chatbot first");await hG({to_email:r.end_chat_notification_email,subject:`Test Email - ${r.name}`,html_content:`<p>Test email for chatbot "${r.name}" - End-of-chat notifications are working correctly!</p>`}),n({title:"Test Email Sent!",description:`Check your inbox at ${r.end_chat_notification_email}`})}catch(D){n({title:"Error",description:D.message||"Failed to send test notification",variant:"destructive"})}};return e?r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-0 md:p-4",children:s.jsxs(H,{className:"chat-container w-full h-screen md:max-w-md md:h-[600px] flex flex-col overflow-hidden border-0 shadow-xl rounded-none md:rounded-2xl",children:[s.jsx(ne,{className:"text-white p-4 border-0",style:{backgroundColor:r.theme_color},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-black font-bold text-sm",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{children:s.jsx("h3",{className:"font-semibold text-white",children:r.name})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>t("/dashboard"),className:"text-white hover:bg-white/10",children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:k,className:"text-white hover:bg-white/10",children:s.jsx(si,{className:"h-4 w-4"})})]})]})}),s.jsxs(Y,{className:"flex-1 flex flex-col p-0 bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"calc(100% - 120px)"},children:[l.map((D,I)=>s.jsxs("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:[D.role==="assistant"&&s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm text-gray-800 leading-relaxed",children:D.content})]}),D.role==="user"&&s.jsx("div",{className:"max-w-[85%] p-4 rounded-2xl rounded-tr-md text-sm text-white leading-relaxed",style:{backgroundColor:r.theme_color},children:D.content})]},I)),m&&s.jsx("div",{className:"flex justify-start",children:s.jsxs("div",{className:"flex items-start gap-3 max-w-[85%]",children:[s.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white font-bold text-xs",children:r.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl rounded-tl-md text-sm",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),s.jsx("div",{ref:x})]}),u&&i.length>0&&s.jsx("div",{className:"px-4 pb-4",children:s.jsx("div",{className:"flex flex-col items-end space-y-2",children:i.map(D=>s.jsx("button",{className:"text-left p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200 rounded-full text-sm text-gray-700 border border-gray-200 max-w-xs",onClick:()=>{f(D.question),d(!1)},children:D.question},D.id))})}),s.jsx("div",{className:"px-4 pb-2",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[s.jsx("img",{src:"https://ik.imagekit.io/wrewtbha2/voxtrofavicon.png?updatedAt=1752758574810",alt:"Voxtro",className:"w-4 h-4 object-contain"}),s.jsx("span",{children:"Powered by Voxtro"})]})})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx(le,{value:h,onChange:D=>f(D.target.value),onKeyPress:C,placeholder:"Message...",disabled:m,className:"border-0 bg-white rounded-full px-4 py-3 text-sm text-gray-900 placeholder:text-gray-500 shadow-sm focus:ring-2 focus:ring-blue-500 focus:shadow-md transition-all",style:{color:"#111827"}})}),s.jsx(Z,{onClick:N,disabled:m||!h.trim(),size:"sm",className:"w-10 h-10 p-0 rounded-full bg-blue-500 hover:bg-blue-600 text-white border-0 shadow-sm",children:s.jsx(ru,{className:"h-4 w-4"})})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yt,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Loading chatbot..."})]})}):s.jsx(Ks,{to:"/",replace:!0})}var OT="Radio",[U5e,AG]=Ir(OT),[z5e,q5e]=U5e(OT),TG=v.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,f]=v.useState(null),m=Xe(t,x=>f(x)),g=v.useRef(!1),p=h?u||!!h.closest("form"):!0;return s.jsxs(z5e,{scope:n,checked:a,disabled:o,children:[s.jsx(De.button,{type:"button",role:"radio","aria-checked":a,"data-state":DG(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:je(e.onClick,x=>{a||c==null||c(),p&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),p&&s.jsx(V5e,{control:h,bubbles:!g.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});TG.displayName=OT;var OG="RadioIndicator",MG=v.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=q5e(OG,n);return s.jsx(Un,{present:r||i.checked,children:s.jsx(De.span,{"data-state":DG(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});MG.displayName=OG;var V5e=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=v.useRef(null),o=Nv(n),l=Jg(t);return v.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DG(e){return e?"checked":"unchecked"}var W5e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],MT="RadioGroup",[H5e,GJe]=Ir(MT,[If,AG]),IG=If(),$G=AG(),[G5e,K5e]=H5e(MT),RG=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,m=IG(n),g=Ou(u),[p,x]=js({prop:i,defaultProp:a,onChange:h});return s.jsx(G5e,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:x,children:s.jsx(vT,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:s.jsx(De.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...f,ref:t})})})});RG.displayName=MT;var LG="RadioGroupItem",FG=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=K5e(LG,n),o=i.disabled||r,l=IG(n),c=$G(n),u=v.useRef(null),d=Xe(t,u),h=i.value===a.value,f=v.useRef(!1);return v.useEffect(()=>{const m=p=>{W5e.includes(p.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),s.jsx(xT,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(TG,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:je(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:je(a.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});FG.displayName=LG;var Y5e="RadioGroupIndicator",BG=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=$G(n);return s.jsx(MG,{...a,...r,ref:t})});BG.displayName=Y5e;var UG=RG,zG=FG,J5e=BG;const qG=v.forwardRef(({className:e,...t},n)=>s.jsx(UG,{className:me("grid gap-2",e),...t,ref:n}));qG.displayName=UG.displayName;const VG=v.forwardRef(({className:e,...t},n)=>s.jsx(zG,{ref:n,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(J5e,{className:"flex items-center justify-center",children:s.jsx(G8,{className:"h-2.5 w-2.5 fill-current text-current"})})}));VG.displayName=zG.displayName;function X5e({formData:e,onSubmit:t,isSubmitting:n=!1,themeColor:r}){const[a,i]=v.useState({}),[o,l]=v.useState({}),[c,u]=v.useState(!1),d=(g,p)=>{var x,y,b;return g.required&&(!p||p==="")?`${g.label} is required`:g.type==="email"&&p&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)?"Please enter a valid email address":g.type==="phone"&&p&&!/^[\+]?[1-9][\d]{0,15}$/.test(p.replace(/[\s\-\(\)]/g,""))?"Please enter a valid phone number":(x=g.validation)!=null&&x.min&&p&&p.length<g.validation.min?`${g.label} must be at least ${g.validation.min} characters`:(y=g.validation)!=null&&y.max&&p&&p.length>g.validation.max?`${g.label} must be no more than ${g.validation.max} characters`:(b=g.validation)!=null&&b.pattern&&p&&!new RegExp(g.validation.pattern).test(p)?`${g.label} format is invalid`:null},h=g=>{g.preventDefault();const p={};e.fields.forEach(x=>{const y=d(x,a[x.id]);y&&(p[x.id]=y)}),e.require_terms_acceptance&&!c&&(p.terms="You must accept the terms and conditions to proceed"),l(p),Object.keys(p).length===0&&t(a)},f=(g,p)=>{i(x=>({...x,[g]:p})),o[g]&&l(x=>({...x,[g]:""}))},m=g=>{var x,y,b;const p=o[g.id];switch(g.type){case"text":case"email":case"phone":case"number":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:g.id,className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(le,{id:g.id,type:g.type,placeholder:g.placeholder,value:a[g.id]||"",onChange:j=>f(g.id,j.target.value),className:`focus:ring-2 ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"date":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:g.id,className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(le,{id:g.id,type:"date",value:a[g.id]||"",onChange:j=>f(g.id,j.target.value),className:`focus:ring-2 ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"textarea":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:g.id,className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(bt,{id:g.id,placeholder:g.placeholder,value:a[g.id]||"",onChange:j=>f(g.id,j.target.value),rows:3,className:`focus:ring-2 resize-none ${p?"border-destructive focus:border-destructive":"focus:border-transparent"}`,style:{"--tw-ring-color":p?void 0:r+"40"}}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"select":return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs(qe,{value:a[g.id]||"",onValueChange:j=>f(g.id,j),children:[s.jsx(Be,{className:p?"border-destructive":"",children:s.jsx(Ve,{placeholder:g.placeholder||"Select an option"})}),s.jsx(Ue,{children:(x=g.options)==null?void 0:x.map(j=>s.jsx(oe,{value:j,children:j},j))})]}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"radio":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Q,{className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(qG,{value:a[g.id]||"",onValueChange:j=>f(g.id,j),className:"space-y-2",children:(y=g.options)==null?void 0:y.map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(VG,{value:j,id:`${g.id}-${j}`}),s.jsx(Q,{htmlFor:`${g.id}-${j}`,className:"text-sm font-normal",children:j})]},j))}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);case"checkbox":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Q,{className:"text-sm font-medium text-foreground",children:[g.label,g.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx("div",{className:"space-y-2",children:(b=g.options)==null?void 0:b.map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kh,{id:`${g.id}-${j}`,checked:(a[g.id]||[]).includes(j),onCheckedChange:_=>{const S=a[g.id]||[];_?f(g.id,[...S,j]):f(g.id,S.filter(N=>N!==j))}}),s.jsx(Q,{htmlFor:`${g.id}-${j}`,className:"text-sm font-normal",children:j})]},j))}),p&&s.jsx("p",{className:"text-sm text-destructive",children:p})]},g.id);default:return null}};return s.jsxs(H,{className:"w-full max-w-md mx-auto shadow-lg border-0 bg-card",children:[s.jsxs(ne,{className:"text-center pb-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:s.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:r+"20"},children:s.jsx(In,{className:"h-5 w-5",style:{color:r}})})}),s.jsx(re,{className:"text-lg font-semibold text-foreground",children:e.form_title}),e.form_description&&s.jsx(ye,{className:"text-sm text-muted-foreground",children:e.form_description})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.fields.map(m),e.require_terms_acceptance&&e.terms_and_conditions&&s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.terms_and_conditions})}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Kh,{id:"terms-acceptance",checked:c,onCheckedChange:g=>{u(!!g),o.terms&&l(p=>({...p,terms:""}))}}),s.jsxs(Q,{htmlFor:"terms-acceptance",className:"text-sm font-normal leading-relaxed",children:["I accept the terms and conditions",s.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),o.terms&&s.jsx("p",{className:"text-sm text-destructive",children:o.terms})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(Z,{type:"submit",disabled:n,className:"w-full text-white font-medium py-2.5 hover:opacity-90 transition-opacity",style:{backgroundColor:r},children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Submit Form"]})})})]})})]})}function Q5e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Z5e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eFe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tFe={};function LL(e,t){return(tFe.jsx?eFe:Z5e).test(e)}const nFe=/[ \t\n\f\r]/g;function rFe(e){return typeof e=="object"?e.type==="text"?FL(e.value):!1:FL(e)}function FL(e){return e.replace(nFe,"")===""}class Av{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Av.prototype.normal={};Av.prototype.property={};Av.prototype.space=void 0;function WG(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Av(n,r,t)}function gE(e){return e.toLowerCase()}class Cs{constructor(t,n){this.attribute=n,this.property=t}}Cs.prototype.attribute="";Cs.prototype.booleanish=!1;Cs.prototype.boolean=!1;Cs.prototype.commaOrSpaceSeparated=!1;Cs.prototype.commaSeparated=!1;Cs.prototype.defined=!1;Cs.prototype.mustUseProperty=!1;Cs.prototype.number=!1;Cs.prototype.overloadedBoolean=!1;Cs.prototype.property="";Cs.prototype.spaceSeparated=!1;Cs.prototype.space=void 0;let sFe=0;const vt=Du(),Rn=Du(),vE=Du(),ke=Du(),on=Du(),Ud=Du(),Ts=Du();function Du(){return 2**++sFe}const xE=Object.freeze(Object.defineProperty({__proto__:null,boolean:vt,booleanish:Rn,commaOrSpaceSeparated:Ts,commaSeparated:Ud,number:ke,overloadedBoolean:vE,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),G1=Object.keys(xE);class DT extends Cs{constructor(t,n,r,a){let i=-1;if(super(t,n),BL(this,"space",a),typeof r=="number")for(;++i<G1.length;){const o=G1[i];BL(this,G1[i],(r&xE[o])===xE[o])}}}DT.prototype.defined=!0;function BL(e,t,n){n&&(e[t]=n)}function Bf(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new DT(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[gE(r)]=r,n[gE(i.attribute)]=r}return new Av(t,n,e.space)}const HG=Bf({properties:{ariaActiveDescendant:null,ariaAtomic:Rn,ariaAutoComplete:null,ariaBusy:Rn,ariaChecked:Rn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Rn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Rn,ariaFlowTo:on,ariaGrabbed:Rn,ariaHasPopup:null,ariaHidden:Rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:ke,ariaLive:null,ariaModal:Rn,ariaMultiLine:Rn,ariaMultiSelectable:Rn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Rn,ariaReadOnly:Rn,ariaRelevant:null,ariaRequired:Rn,ariaRoleDescription:on,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Rn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function GG(e,t){return t in e?e[t]:t}function KG(e,t){return GG(e,t.toLowerCase())}const aFe=Bf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ud,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:vt,allowPaymentRequest:vt,allowUserMedia:vt,alt:null,as:null,async:vt,autoCapitalize:null,autoComplete:on,autoFocus:vt,autoPlay:vt,blocking:on,capture:null,charSet:null,checked:vt,cite:null,className:on,cols:ke,colSpan:null,content:null,contentEditable:Rn,controls:vt,controlsList:on,coords:ke|Ud,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vt,defer:vt,dir:null,dirName:null,disabled:vt,download:vE,draggable:Rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vt,formTarget:null,headers:on,height:ke,hidden:vE,high:ke,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:vt,inputMode:null,integrity:null,is:null,isMap:vt,itemId:null,itemProp:on,itemRef:on,itemScope:vt,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:vt,muted:vt,name:null,nonce:null,noModule:vt,noValidate:vt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vt,optimum:ke,pattern:null,ping:on,placeholder:null,playsInline:vt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vt,referrerPolicy:null,rel:on,required:vt,reversed:vt,rows:ke,rowSpan:ke,sandbox:on,scope:null,scoped:vt,seamless:vt,selected:vt,shadowRootClonable:vt,shadowRootDelegatesFocus:vt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:vt,useMap:null,value:Rn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vt,declare:vt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:vt,noHref:vt,noShade:vt,noWrap:vt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Rn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vt,disableRemotePlayback:vt,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:KG}),iFe=Bf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ts,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:vt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ud,g2:Ud,glyphName:Ud,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:Ts,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ts,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ts,rev:Ts,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ts,requiredFeatures:Ts,requiredFonts:Ts,requiredFormats:Ts,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:Ts,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ts,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ts,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:GG}),YG=Bf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),JG=Bf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:KG}),XG=Bf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),oFe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lFe=/[A-Z]/g,UL=/-[a-z]/g,cFe=/^data[-\w.:]+$/i;function uFe(e,t){const n=gE(t);let r=t,a=Cs;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cFe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(UL,hFe);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!UL.test(i)){let o=i.replace(lFe,dFe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=DT}return new a(r,t)}function dFe(e){return"-"+e.toLowerCase()}function hFe(e){return e.charAt(1).toUpperCase()}const fFe=WG([HG,aFe,YG,JG,XG],"html"),IT=WG([HG,iFe,YG,JG,XG],"svg");function mFe(e){return e.join(" ").trim()}var $T={},zL=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pFe=/\n/g,gFe=/^\s*/,vFe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xFe=/^:\s*/,yFe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,bFe=/^[;\s]*/,wFe=/^\s+|\s+$/g,jFe=`
`,qL="/",VL="*",Sc="",_Fe="comment",NFe="declaration",SFe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(g){var p=g.match(pFe);p&&(n+=p.length);var x=g.lastIndexOf(jFe);r=~x?g.length-x:r+g.length}function i(){var g={line:n,column:r};return function(p){return p.position=new o(g),u(),p}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(g){var p=new Error(t.source+":"+n+":"+r+": "+g);if(p.reason=g,p.filename=t.source,p.line=n,p.column=r,p.source=e,!t.silent)throw p}function c(g){var p=g.exec(e);if(p){var x=p[0];return a(x),e=e.slice(x.length),p}}function u(){c(gFe)}function d(g){var p;for(g=g||[];p=h();)p!==!1&&g.push(p);return g}function h(){var g=i();if(!(qL!=e.charAt(0)||VL!=e.charAt(1))){for(var p=2;Sc!=e.charAt(p)&&(VL!=e.charAt(p)||qL!=e.charAt(p+1));)++p;if(p+=2,Sc===e.charAt(p-1))return l("End of comment missing");var x=e.slice(2,p-2);return r+=2,a(x),e=e.slice(p),r+=2,g({type:_Fe,comment:x})}}function f(){var g=i(),p=c(vFe);if(p){if(h(),!c(xFe))return l("property missing ':'");var x=c(yFe),y=g({type:NFe,property:WL(p[0].replace(zL,Sc)),value:x?WL(x[0].replace(zL,Sc)):Sc});return c(bFe),y}}function m(){var g=[];d(g);for(var p;p=f();)p!==!1&&(g.push(p),d(g));return g}return u(),m()};function WL(e){return e?e.replace(wFe,Sc):Sc}var CFe=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($T,"__esModule",{value:!0});$T.default=EFe;var kFe=CFe(SFe);function EFe(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,kFe.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;a?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}var Rj={};Object.defineProperty(Rj,"__esModule",{value:!0});Rj.camelCase=void 0;var PFe=/^--[a-zA-Z0-9_-]+$/,AFe=/-([a-z])/g,TFe=/^[^-]+$/,OFe=/^-(webkit|moz|ms|o|khtml)-/,MFe=/^-(ms)-/,DFe=function(e){return!e||TFe.test(e)||PFe.test(e)},IFe=function(e,t){return t.toUpperCase()},HL=function(e,t){return"".concat(t,"-")},$Fe=function(e,t){return t===void 0&&(t={}),DFe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(MFe,HL):e=e.replace(OFe,HL),e.replace(AFe,IFe))};Rj.camelCase=$Fe;var RFe=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},LFe=RFe($T),FFe=Rj;function yE(e,t){var n={};return!e||typeof e!="string"||(0,LFe.default)(e,function(r,a){r&&a&&(n[(0,FFe.camelCase)(r,t)]=a)}),n}yE.default=yE;var BFe=yE;const UFe=qt(BFe),QG=ZG("end"),RT=ZG("start");function ZG(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zFe(e){const t=RT(e),n=QG(e);if(t&&n)return{start:t,end:n}}function lp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?GL(e.position):"start"in e||"end"in e?GL(e):"line"in e||"column"in e?bE(e):""}function bE(e){return KL(e&&e.line)+":"+KL(e&&e.column)}function GL(e){return bE(e&&e.start)+"-"+bE(e&&e.end)}function KL(e){return e&&typeof e=="number"?e:1}class Rr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=l?l.line:void 0,this.name=lp(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rr.prototype.file="";Rr.prototype.name="";Rr.prototype.reason="";Rr.prototype.message="";Rr.prototype.stack="";Rr.prototype.column=void 0;Rr.prototype.line=void 0;Rr.prototype.ancestors=void 0;Rr.prototype.cause=void 0;Rr.prototype.fatal=void 0;Rr.prototype.place=void 0;Rr.prototype.ruleId=void 0;Rr.prototype.source=void 0;const LT={}.hasOwnProperty,qFe=new Map,VFe=/[A-Z]/g,WFe=new Set(["table","tbody","thead","tfoot","tr"]),HFe=new Set(["td","th"]),eK="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function GFe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=t6e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=e6e(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?IT:fFe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=tK(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function tK(e,t,n){if(t.type==="element")return KFe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return YFe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return XFe(e,t,n);if(t.type==="mdxjsEsm")return JFe(e,t);if(t.type==="root")return QFe(e,t,n);if(t.type==="text")return ZFe(e,t)}function KFe(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=IT,e.schema=a),e.ancestors.push(t);const i=rK(e,t.tagName,!1),o=n6e(e,t);let l=BT(e,t);return WFe.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!rFe(c):!0})),nK(e,o,i,t),FT(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function YFe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}kg(e,t.position)}function JFe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);kg(e,t.position)}function XFe(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=IT,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:rK(e,t.name,!0),o=r6e(e,t),l=BT(e,t);return nK(e,o,i,t),FT(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function QFe(e,t,n){const r={};return FT(r,BT(e,t)),e.create(t,e.Fragment,r,n)}function ZFe(e,t){return t.value}function nK(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function FT(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function e6e(e,t,n){return r;function r(a,i,o,l){const u=Array.isArray(o.children)?n:t;return l?u(i,o,l):u(i,o)}}function t6e(e,t){return n;function n(r,a,i,o){const l=Array.isArray(i.children),c=RT(r);return t(a,i,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function n6e(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&LT.call(t.properties,a)){const i=s6e(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&HFe.has(t.tagName)?r=l:n[o]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function r6e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else kg(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else kg(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function BT(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:qFe;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;o=c+"-"+u,a.set(c,u+1)}}const l=tK(e,i,o);l!==void 0&&n.push(l)}return n}function s6e(e,t,n){const r=uFe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Q5e(n):mFe(n)),r.property==="style"){let a=typeof n=="object"?n:a6e(e,String(n));return e.stylePropertyNameCase==="css"&&(a=i6e(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?oFe[r.property]||r.property:r.attribute,n]}}function a6e(e,t){try{return UFe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Rr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eK+"#cannot-parse-style-attribute",a}}function rK(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=LL(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=o}else r=LL(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return LT.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);kg(e)}function kg(e,t){const n=new Rr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=eK+"#cannot-handle-mdx-estrees-without-createevaluater",n}function i6e(e){const t={};let n;for(n in e)LT.call(e,n)&&(t[o6e(n)]=e[n]);return t}function o6e(e){let t=e.replace(VFe,l6e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function l6e(e){return"-"+e.toLowerCase()}const K1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},c6e={};function u6e(e,t){const n=c6e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return sK(e,r,a)}function sK(e,t,n){if(d6e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return YL(e.children,t,n)}return Array.isArray(e)?YL(e,t,n):""}function YL(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=sK(e[a],t,n);return r.join("")}function d6e(e){return!!(e&&typeof e=="object")}const JL=document.createElement("i");function UT(e){const t="&"+e+";";JL.innerHTML=t;const n=JL.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function qi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function da(e,t){return e.length>0?(qi(e,e.length,0,t),e):t}const XL={}.hasOwnProperty;function h6e(e){const t={};let n=-1;for(;++n<e.length;)f6e(t,e[n]);return t}function f6e(e,t){let n;for(n in t){const a=(XL.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){XL.call(a,o)||(a[o]=[]);const l=i[o];m6e(a[o],Array.isArray(l)?l:l?[l]:[])}}}function m6e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qi(e,0,0,r)}function aK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Oi=lc(/[A-Za-z]/),Us=lc(/[\dA-Za-z]/),p6e=lc(/[#-'*+\--9=?A-Z^-~]/);function wE(e){return e!==null&&(e<32||e===127)}const jE=lc(/\d/),g6e=lc(/[\dA-Fa-f]/),v6e=lc(/[!-/:-@[-`{-~]/);function it(e){return e!==null&&e<-2}function bs(e){return e!==null&&(e<0||e===32)}function Ft(e){return e===-2||e===-1||e===32}const x6e=lc(new RegExp("\\p{P}|\\p{S}","u")),y6e=lc(/\s/);function lc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Uf(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Us(e.charCodeAt(n+1))&&Us(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function dn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(c){return Ft(c)?(e.enter(n),l(c)):t(c)}function l(c){return Ft(c)&&i++<a?(e.consume(c),l):(e.exit(n),t(c))}}const b6e={tokenize:w6e};function w6e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),dn(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return it(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const j6e={tokenize:_6e},QL={tokenize:N6e};function _6e(e){const t=this,n=[];let r=0,a,i,o;return l;function l(j){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,c,u)(j)}return u(j)}function c(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const _=t.events.length;let S=_,N;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){N=t.events[S][1].end;break}y(r);let C=_;for(;C<t.events.length;)t.events[C][1].end={...N},C++;return qi(t.events,S+1,0,t.events.slice(_)),t.events.length=C,u(j)}return l(j)}function u(j){if(r===n.length){if(!a)return f(j);if(a.currentConstruct&&a.currentConstruct.concrete)return g(j);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(QL,d,h)(j)}function d(j){return a&&b(),y(r),f(j)}function h(j){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(j)}function f(j){return t.containerState={},e.attempt(QL,m,g)(j)}function m(j){return r++,n.push([t.currentConstruct,t.containerState]),f(j)}function g(j){if(j===null){a&&b(),y(0),e.consume(j);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),p(j)}function p(j){if(j===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(j);return}return it(j)?(e.consume(j),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(j),p)}function x(j,_){const S=t.sliceStream(j);if(_&&S.push(null),j.previous=i,i&&(i.next=j),i=j,a.defineSkip(j.start),a.write(S),t.parser.lazy[j.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const C=t.events.length;let k=C,D,I;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(D){I=t.events[k][1].end;break}D=!0}for(y(r),N=C;N<t.events.length;)t.events[N][1].end={...I},N++;qi(t.events,k+1,0,t.events.slice(C)),t.events.length=N}}function y(j){let _=n.length;for(;_-- >j;){const S=n[_];t.containerState=S[1],S[0].exit.call(t,e)}n.length=j}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function N6e(e,t,n){return dn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ZL(e){if(e===null||bs(e)||y6e(e))return 1;if(x6e(e))return 2}function zT(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const _E={name:"attention",resolveAll:S6e,tokenize:C6e};function S6e(e,t){let n=-1,r,a,i,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},f={...e[n][1].start};e3(h,-c),e3(f,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},i={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=da(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=da(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=da(u,zT(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=da(u,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=da(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,qi(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function C6e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=ZL(r);let i;return o;function o(c){return i=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===i)return e.consume(c),l;const u=e.exit("attentionSequence"),d=ZL(c),h=!d||d===2&&a||n.includes(c),f=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(a||!f)),u._close=!!(i===42?f:f&&(d||!h)),t(c)}}function e3(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const k6e={name:"autolink",tokenize:E6e};function E6e(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Oi(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||Us(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||Us(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||wE(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):p6e(m)?(e.consume(m),u):n(m)}function d(m){return Us(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):f(m)}function f(m){if((m===45||Us(m))&&r++<63){const g=m===45?f:h;return e.consume(m),g}return n(m)}}const Lj={partial:!0,tokenize:P6e};function P6e(e,t,n){return r;function r(i){return Ft(i)?dn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||it(i)?t(i):n(i)}}const iK={continuation:{tokenize:T6e},exit:O6e,name:"blockQuote",tokenize:A6e};function A6e(e,t,n){const r=this;return a;function a(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return Ft(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function T6e(e,t,n){const r=this;return a;function a(o){return Ft(o)?dn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(iK,t,n)(o)}}function O6e(e){e.exit("blockQuote")}const oK={name:"characterEscape",tokenize:M6e};function M6e(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return v6e(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const lK={name:"characterReference",tokenize:D6e};function D6e(e,t,n){const r=this;let a=0,i,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Us,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=g6e,d):(e.enter("characterReferenceValue"),i=7,o=jE,d(h))}function d(h){if(h===59&&a){const f=e.exit("characterReferenceValue");return o===Us&&!UT(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&a++<i?(e.consume(h),d):n(h)}}const t3={partial:!0,tokenize:$6e},n3={concrete:!0,name:"codeFenced",tokenize:I6e};function I6e(e,t,n){const r=this,a={partial:!0,tokenize:S};let i=0,o=0,l;return c;function c(N){return u(N)}function u(N){const C=r.events[r.events.length-1];return i=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===l?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),Ft(N)?dn(e,h,"whitespace")(N):h(N))}function h(N){return N===null||it(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(t3,p,_)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(N))}function f(N){return N===null||it(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(N)):Ft(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),dn(e,m,"whitespace")(N)):N===96&&N===l?n(N):(e.consume(N),f)}function m(N){return N===null||it(N)?h(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||it(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(N)):N===96&&N===l?n(N):(e.consume(N),g)}function p(N){return e.attempt(a,_,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return i>0&&Ft(N)?dn(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||it(N)?e.check(t3,p,_)(N):(e.enter("codeFlowValue"),j(N))}function j(N){return N===null||it(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),j)}function _(N){return e.exit("codeFenced"),t(N)}function S(N,C,k){let D=0;return I;function I($){return N.enter("lineEnding"),N.consume($),N.exit("lineEnding"),E}function E($){return N.enter("codeFencedFence"),Ft($)?dn(N,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):L($)}function L($){return $===l?(N.enter("codeFencedFenceSequence"),U($)):k($)}function U($){return $===l?(D++,N.consume($),U):D>=o?(N.exit("codeFencedFenceSequence"),Ft($)?dn(N,F,"whitespace")($):F($)):k($)}function F($){return $===null||it($)?(N.exit("codeFencedFence"),C($)):k($)}}}function $6e(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Y1={name:"codeIndented",tokenize:L6e},R6e={partial:!0,tokenize:F6e};function L6e(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),dn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):it(u)?e.attempt(R6e,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||it(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function F6e(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):it(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):dn(e,i,"linePrefix",5)(o)}function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):it(o)?a(o):n(o)}}const B6e={name:"codeText",previous:z6e,resolve:U6e,tokenize:q6e};function U6e(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function z6e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function q6e(e,t,n){let r=0,a,i;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(i=e.enter("codeTextSequence"),a=0,d(h)):it(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||it(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",u(h))}}class V6e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&wm(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),wm(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),wm(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);wm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);wm(this.left,n.reverse())}}}function wm(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function cK(e){const t={};let n=-1,r,a,i,o,l,c,u;const d=new V6e(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,W6e(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return qi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function W6e(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,h,f=-1,m=n,g=0,p=0;const x=[p];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<l.length;)l[f][0]==="exit"&&l[f-1][0]==="enter"&&l[f][1].type===l[f-1][1].type&&l[f][1].start.line!==l[f][1].end.line&&(p=f+1,x.push(p),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),f=x.length;f--;){const y=l.slice(x[f],x[f+1]),b=i.pop();c.push([b,b+y.length-1]),e.splice(b,2,y)}for(c.reverse(),f=-1;++f<c.length;)u[g+c[f][0]]=g+c[f][1],g+=c[f][1]-c[f][0]-1;return u}const H6e={resolve:K6e,tokenize:Y6e},G6e={partial:!0,tokenize:J6e};function K6e(e){return cK(e),e}function Y6e(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):it(l)?e.check(G6e,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function J6e(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),dn(e,i,"linePrefix")}function i(o){if(o===null||it(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function uK(e,t,n,r,a,i,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),f):y===null||y===32||y===41||wE(y)?n(y):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),p(y))}function f(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(l),f(y)):y===null||y===60||it(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function p(y){return!d&&(y===null||y===41||bs(y))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,p):y===41?(e.consume(y),d--,p):y===null||y===32||y===40||wE(y)?n(y):(e.consume(y),y===92?x:p)}function x(y){return y===40||y===41||y===92?(e.consume(y),p):p(y)}}function dK(e,t,n,r,a,i){const o=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):it(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||it(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!Ft(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(e.consume(m),l++,h):h(m)}}function hK(e,t,n,r,a,i){let o;return l;function l(f){return f===34||f===39||f===40?(e.enter(r),e.enter(a),e.consume(f),e.exit(a),o=f===40?41:f,c):n(f)}function c(f){return f===o?(e.enter(a),e.consume(f),e.exit(a),e.exit(r),t):(e.enter(i),u(f))}function u(f){return f===o?(e.exit(i),c(o)):f===null?n(f):it(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),dn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||it(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(e.consume(f),d):d(f)}}function cp(e,t){let n;return r;function r(a){return it(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):Ft(a)?dn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const X6e={name:"definition",tokenize:Z6e},Q6e={partial:!0,tokenize:eBe};function Z6e(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return dK.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return a=zd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return bs(m)?cp(e,u)(m):u(m)}function u(m){return uK(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Q6e,h,h)(m)}function h(m){return Ft(m)?dn(e,f,"whitespace")(m):f(m)}function f(m){return m===null||it(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function eBe(e,t,n){return r;function r(l){return bs(l)?cp(e,a)(l):n(l)}function a(l){return hK(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Ft(l)?dn(e,o,"whitespace")(l):o(l)}function o(l){return l===null||it(l)?t(l):n(l)}}const tBe={name:"hardBreakEscape",tokenize:nBe};function nBe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return it(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const rBe={name:"headingAtx",resolve:sBe,tokenize:aBe};function sBe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function aBe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||bs(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||it(d)?(e.exit("atxHeading"),t(d)):Ft(d)?dn(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||bs(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const iBe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],r3=["pre","script","style","textarea"],oBe={concrete:!0,name:"htmlFlow",resolveTo:uBe,tokenize:dBe},lBe={partial:!0,tokenize:fBe},cBe={partial:!0,tokenize:hBe};function uBe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function dBe(e,t,n){const r=this;let a,i,o,l,c;return u;function u(w){return d(w)}function d(w){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(w),h}function h(w){return w===33?(e.consume(w),f):w===47?(e.consume(w),i=!0,p):w===63?(e.consume(w),a=3,r.interrupt?t:T):Oi(w)?(e.consume(w),o=String.fromCharCode(w),x):n(w)}function f(w){return w===45?(e.consume(w),a=2,m):w===91?(e.consume(w),a=5,l=0,g):Oi(w)?(e.consume(w),a=4,r.interrupt?t:T):n(w)}function m(w){return w===45?(e.consume(w),r.interrupt?t:T):n(w)}function g(w){const A="CDATA[";return w===A.charCodeAt(l++)?(e.consume(w),l===A.length?r.interrupt?t:L:g):n(w)}function p(w){return Oi(w)?(e.consume(w),o=String.fromCharCode(w),x):n(w)}function x(w){if(w===null||w===47||w===62||bs(w)){const A=w===47,P=o.toLowerCase();return!A&&!i&&r3.includes(P)?(a=1,r.interrupt?t(w):L(w)):iBe.includes(o.toLowerCase())?(a=6,A?(e.consume(w),y):r.interrupt?t(w):L(w)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(w):i?b(w):j(w))}return w===45||Us(w)?(e.consume(w),o+=String.fromCharCode(w),x):n(w)}function y(w){return w===62?(e.consume(w),r.interrupt?t:L):n(w)}function b(w){return Ft(w)?(e.consume(w),b):I(w)}function j(w){return w===47?(e.consume(w),I):w===58||w===95||Oi(w)?(e.consume(w),_):Ft(w)?(e.consume(w),j):I(w)}function _(w){return w===45||w===46||w===58||w===95||Us(w)?(e.consume(w),_):S(w)}function S(w){return w===61?(e.consume(w),N):Ft(w)?(e.consume(w),S):j(w)}function N(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),c=w,C):Ft(w)?(e.consume(w),N):k(w)}function C(w){return w===c?(e.consume(w),c=null,D):w===null||it(w)?n(w):(e.consume(w),C)}function k(w){return w===null||w===34||w===39||w===47||w===60||w===61||w===62||w===96||bs(w)?S(w):(e.consume(w),k)}function D(w){return w===47||w===62||Ft(w)?j(w):n(w)}function I(w){return w===62?(e.consume(w),E):n(w)}function E(w){return w===null||it(w)?L(w):Ft(w)?(e.consume(w),E):n(w)}function L(w){return w===45&&a===2?(e.consume(w),M):w===60&&a===1?(e.consume(w),O):w===62&&a===4?(e.consume(w),G):w===63&&a===3?(e.consume(w),T):w===93&&a===5?(e.consume(w),B):it(w)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(lBe,W,U)(w)):w===null||it(w)?(e.exit("htmlFlowData"),U(w)):(e.consume(w),L)}function U(w){return e.check(cBe,F,W)(w)}function F(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),$}function $(w){return w===null||it(w)?U(w):(e.enter("htmlFlowData"),L(w))}function M(w){return w===45?(e.consume(w),T):L(w)}function O(w){return w===47?(e.consume(w),o="",R):L(w)}function R(w){if(w===62){const A=o.toLowerCase();return r3.includes(A)?(e.consume(w),G):L(w)}return Oi(w)&&o.length<8?(e.consume(w),o+=String.fromCharCode(w),R):L(w)}function B(w){return w===93?(e.consume(w),T):L(w)}function T(w){return w===62?(e.consume(w),G):w===45&&a===2?(e.consume(w),T):L(w)}function G(w){return w===null||it(w)?(e.exit("htmlFlowData"),W(w)):(e.consume(w),G)}function W(w){return e.exit("htmlFlow"),t(w)}}function hBe(e,t,n){const r=this;return a;function a(o){return it(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function fBe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Lj,t,n)}}const mBe={name:"htmlText",tokenize:pBe};function pBe(e,t,n){const r=this;let a,i,o;return l;function l(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),c}function c(T){return T===33?(e.consume(T),u):T===47?(e.consume(T),S):T===63?(e.consume(T),j):Oi(T)?(e.consume(T),k):n(T)}function u(T){return T===45?(e.consume(T),d):T===91?(e.consume(T),i=0,g):Oi(T)?(e.consume(T),b):n(T)}function d(T){return T===45?(e.consume(T),m):n(T)}function h(T){return T===null?n(T):T===45?(e.consume(T),f):it(T)?(o=h,O(T)):(e.consume(T),h)}function f(T){return T===45?(e.consume(T),m):h(T)}function m(T){return T===62?M(T):T===45?f(T):h(T)}function g(T){const G="CDATA[";return T===G.charCodeAt(i++)?(e.consume(T),i===G.length?p:g):n(T)}function p(T){return T===null?n(T):T===93?(e.consume(T),x):it(T)?(o=p,O(T)):(e.consume(T),p)}function x(T){return T===93?(e.consume(T),y):p(T)}function y(T){return T===62?M(T):T===93?(e.consume(T),y):p(T)}function b(T){return T===null||T===62?M(T):it(T)?(o=b,O(T)):(e.consume(T),b)}function j(T){return T===null?n(T):T===63?(e.consume(T),_):it(T)?(o=j,O(T)):(e.consume(T),j)}function _(T){return T===62?M(T):j(T)}function S(T){return Oi(T)?(e.consume(T),N):n(T)}function N(T){return T===45||Us(T)?(e.consume(T),N):C(T)}function C(T){return it(T)?(o=C,O(T)):Ft(T)?(e.consume(T),C):M(T)}function k(T){return T===45||Us(T)?(e.consume(T),k):T===47||T===62||bs(T)?D(T):n(T)}function D(T){return T===47?(e.consume(T),M):T===58||T===95||Oi(T)?(e.consume(T),I):it(T)?(o=D,O(T)):Ft(T)?(e.consume(T),D):M(T)}function I(T){return T===45||T===46||T===58||T===95||Us(T)?(e.consume(T),I):E(T)}function E(T){return T===61?(e.consume(T),L):it(T)?(o=E,O(T)):Ft(T)?(e.consume(T),E):D(T)}function L(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),a=T,U):it(T)?(o=L,O(T)):Ft(T)?(e.consume(T),L):(e.consume(T),F)}function U(T){return T===a?(e.consume(T),a=void 0,$):T===null?n(T):it(T)?(o=U,O(T)):(e.consume(T),U)}function F(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||bs(T)?D(T):(e.consume(T),F)}function $(T){return T===47||T===62||bs(T)?D(T):n(T)}function M(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function O(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),R}function R(T){return Ft(T)?dn(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):B(T)}function B(T){return e.enter("htmlTextData"),o(T)}}const qT={name:"labelEnd",resolveAll:yBe,resolveTo:bBe,tokenize:wBe},gBe={tokenize:jBe},vBe={tokenize:_Be},xBe={tokenize:NBe};function yBe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&qi(e,0,e.length,n),e}function bBe(e,t){let n=e.length,r=0,a,i,o,l;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const c={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=da(l,e.slice(i+1,i+r+3)),l=da(l,[["enter",d,t]]),l=da(l,zT(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),l=da(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=da(l,e.slice(o+1)),l=da(l,[["exit",c,t]]),qi(e,i,e.length,l),e}function wBe(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return l;function l(f){return i?i._inactive?h(f):(o=r.parser.defined.includes(zd(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):n(f)}function c(f){return f===40?e.attempt(gBe,d,o?d:h)(f):f===91?e.attempt(vBe,d,o?u:h)(f):o?d(f):h(f)}function u(f){return e.attempt(xBe,d,h)(f)}function d(f){return t(f)}function h(f){return i._balanced=!0,n(f)}}function jBe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),a}function a(h){return bs(h)?cp(e,i)(h):i(h)}function i(h){return h===41?d(h):uK(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return bs(h)?cp(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?hK(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return bs(h)?cp(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function _Be(e,t,n){const r=this;return a;function a(l){return dK.call(r,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(zd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function NBe(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const SBe={name:"labelStartImage",resolveAll:qT.resolveAll,tokenize:CBe};function CBe(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const kBe={name:"labelStartLink",resolveAll:qT.resolveAll,tokenize:EBe};function EBe(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const J1={name:"lineEnding",tokenize:PBe};function PBe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),dn(e,t,"linePrefix")}}const ky={name:"thematicBreak",tokenize:ABe};function ABe(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,l(u)}function l(u){return u===a?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||it(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===a?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Ft(u)?dn(e,l,"whitespace")(u):l(u))}}const as={continuation:{tokenize:DBe},exit:$Be,name:"list",tokenize:MBe},TBe={partial:!0,tokenize:RBe},OBe={partial:!0,tokenize:IBe};function MBe(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:jE(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ky,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return jE(m)&&++o<10?(e.consume(m),c):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Lj,r.interrupt?n:d,e.attempt(TBe,f,h))}function d(m){return r.containerState.initialBlankLine=!0,i++,f(m)}function h(m){return Ft(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function DBe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Lj,a,i);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,dn(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!Ft(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(OBe,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,dn(e,e.attempt(as,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function IBe(e,t,n){const r=this;return dn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function $Be(e){e.exit(this.containerState.type)}function RBe(e,t,n){const r=this;return dn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!Ft(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const s3={name:"setextUnderline",resolveTo:LBe,tokenize:FBe};function LBe(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function FBe(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===a?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Ft(u)?dn(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||it(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const BBe={tokenize:UBe};function UBe(e){const t=this,n=e.attempt(Lj,r,e.attempt(this.parser.constructs.flowInitial,a,dn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(H6e,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zBe={resolveAll:mK()},qBe=fK("string"),VBe=fK("text");function fK(e){return{resolveAll:mK(e==="text"?WBe:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,l);return o;function o(d){return u(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=a[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function mK(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function WBe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,l=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const HBe={42:as,43:as,45:as,48:as,49:as,50:as,51:as,52:as,53:as,54:as,55:as,56:as,57:as,62:iK},GBe={91:X6e},KBe={[-2]:Y1,[-1]:Y1,32:Y1},YBe={35:rBe,42:ky,45:[s3,ky],60:oBe,61:s3,95:ky,96:n3,126:n3},JBe={38:lK,92:oK},XBe={[-5]:J1,[-4]:J1,[-3]:J1,33:SBe,38:lK,42:_E,60:[k6e,mBe],91:kBe,92:[tBe,oK],93:qT,95:_E,96:B6e},QBe={null:[_E,zBe]},ZBe={null:[42,95]},e8e={null:[]},t8e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZBe,contentInitial:GBe,disable:e8e,document:HBe,flow:YBe,flowInitial:KBe,insideSpan:QBe,string:JBe,text:XBe},Symbol.toStringTag,{value:"Module"}));function n8e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],l=[];const c={attempt:C(S),check:C(N),consume:b,enter:j,exit:_,interrupt:C(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function h(E){return o=da(o,E),x(),o[o.length-1]!==null?[]:(k(t,0),u.events=zT(i,u.events,u),u.events)}function f(E,L){return s8e(m(E),L)}function m(E){return r8e(o,E)}function g(){const{_bufferIndex:E,_index:L,line:U,column:F,offset:$}=r;return{_bufferIndex:E,_index:L,line:U,column:F,offset:$}}function p(E){a[E.line]=E.column,I()}function x(){let E;for(;r._index<o.length;){const L=o[r._index];if(typeof L=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<L.length;)y(L.charCodeAt(r._bufferIndex));else y(L)}}function y(E){d=d(E)}function b(E){it(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,I()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=E}function j(E,L){const U=L||{};return U.type=E,U.start=g(),u.events.push(["enter",U,u]),l.push(U),U}function _(E){const L=l.pop();return L.end=g(),u.events.push(["exit",L,u]),L}function S(E,L){k(E,L.from)}function N(E,L){L.restore()}function C(E,L){return U;function U(F,$,M){let O,R,B,T;return Array.isArray(F)?W(F):"tokenize"in F?W([F]):G(F);function G(z){return q;function q(te){const X=te!==null&&z[te],V=te!==null&&z.null,se=[...Array.isArray(X)?X:X?[X]:[],...Array.isArray(V)?V:V?[V]:[]];return W(se)(te)}}function W(z){return O=z,R=0,z.length===0?M:w(z[R])}function w(z){return q;function q(te){return T=D(),B=z,z.partial||(u.currentConstruct=z),z.name&&u.parser.constructs.disable.null.includes(z.name)?P():z.tokenize.call(L?Object.assign(Object.create(u),L):u,c,A,P)(te)}}function A(z){return E(B,T),$}function P(z){return T.restore(),++R<O.length?w(O[R]):M}}}function k(E,L){E.resolveAll&&!i.includes(E)&&i.push(E),E.resolve&&qi(u.events,L,u.events.length-L,E.resolve(u.events.slice(L),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function D(){const E=g(),L=u.previous,U=u.currentConstruct,F=u.events.length,$=Array.from(l);return{from:F,restore:M};function M(){r=E,u.previous=L,u.currentConstruct=U,u.events.length=F,l=$,I()}}function I(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function r8e(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function s8e(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function a8e(e){const r={constructs:h6e([t8e,...(e||{}).extensions||[]]),content:a(b6e),defined:[],document:a(j6e),flow:a(BBe),lazy:{},string:a(qBe),text:a(VBe)};return r;function a(i){return o;function o(l){return n8e(r,i,l)}}}function i8e(e){for(;!cK(e););return e}const a3=/[\0\t\n\r]/g;function o8e(){let e=1,t="",n=!0,r;return a;function a(i,o,l){const c=[];let u,d,h,f,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(a3.lastIndex=h,u=a3.exec(i),f=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(f),!u){t=i.slice(h);break}if(m===10&&h===f&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<f&&(c.push(i.slice(h,f)),e+=f-h),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const l8e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function c8e(e){return e.replace(l8e,u8e)}function u8e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return aK(n.slice(i?2:1),i?16:10)}return UT(n)||e}const pK={}.hasOwnProperty;function d8e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),h8e(n)(i8e(a8e(n).document().write(o8e()(e,t,!0))))}function h8e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ye),autolinkProtocol:D,autolinkEmail:D,atxHeading:i(ze),blockQuote:i(V),characterEscape:D,characterReference:D,codeFenced:i(se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(se,o),codeText:i(ee,o),codeTextData:D,data:D,codeFlowValue:D,definition:i(ge),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Se),hardBreakEscape:i(We),hardBreakTrailing:i(We),htmlFlow:i(Le,o),htmlFlowData:D,htmlText:i(Le,o),htmlTextData:D,image:i(Je),label:o,link:i(Ye),listItem:i(he),listItemValue:f,listOrdered:i(ct,h),listUnordered:i(ct),paragraph:i(pe),reference:w,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(ze),strong:i(ae),thematicBreak:i(tt)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:X,autolinkProtocol:te,blockQuote:c(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:P,characterReferenceMarkerNumeric:P,characterReferenceValue:z,characterReference:q,codeFenced:c(x),codeFencedFence:p,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:I,codeIndented:c(y),codeText:c($),codeTextData:I,data:I,definition:c(),definitionDestinationString:_,definitionLabelString:b,definitionTitleString:j,emphasis:c(),hardBreakEscape:c(L),hardBreakTrailing:c(L),htmlFlow:c(U),htmlFlowData:I,htmlText:c(F),htmlTextData:I,image:c(O),label:B,labelText:R,lineEnding:E,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:A,resourceDestinationString:T,resourceTitleString:G,resource:W,setextHeading:c(k),setextHeadingLineSequence:C,setextHeadingText:N,strong:c(),thematicBreak:c()}};gK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let ve={type:"root",children:[]};const Oe={stack:[ve],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},Fe=[];let nt=-1;for(;++nt<ue.length;)if(ue[nt][1].type==="listOrdered"||ue[nt][1].type==="listUnordered")if(ue[nt][0]==="enter")Fe.push(nt);else{const sn=Fe.pop();nt=a(ue,sn,nt)}for(nt=-1;++nt<ue.length;){const sn=t[ue[nt][0]];pK.call(sn,ue[nt][1].type)&&sn[ue[nt][1].type].call(Object.assign({sliceSerialize:ue[nt][2].sliceSerialize},Oe),ue[nt][1])}if(Oe.tokenStack.length>0){const sn=Oe.tokenStack[Oe.tokenStack.length-1];(sn[1]||i3).call(Oe,void 0,sn[0])}for(ve.position={start:Ko(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Ko(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},nt=-1;++nt<t.transforms.length;)ve=t.transforms[nt](ve)||ve;return ve}function a(ue,ve,Oe){let Fe=ve-1,nt=-1,sn=!1,Ge,rt,Tt,Zt;for(;++Fe<=Oe;){const ce=ue[Fe];switch(ce[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ce[0]==="enter"?nt++:nt--,Zt=void 0;break}case"lineEndingBlank":{ce[0]==="enter"&&(Ge&&!Zt&&!nt&&!Tt&&(Tt=Fe),Zt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zt=void 0}if(!nt&&ce[0]==="enter"&&ce[1].type==="listItemPrefix"||nt===-1&&ce[0]==="exit"&&(ce[1].type==="listUnordered"||ce[1].type==="listOrdered")){if(Ge){let Ee=Fe;for(rt=void 0;Ee--;){const be=ue[Ee];if(be[1].type==="lineEnding"||be[1].type==="lineEndingBlank"){if(be[0]==="exit")continue;rt&&(ue[rt][1].type="lineEndingBlank",sn=!0),be[1].type="lineEnding",rt=Ee}else if(!(be[1].type==="linePrefix"||be[1].type==="blockQuotePrefix"||be[1].type==="blockQuotePrefixWhitespace"||be[1].type==="blockQuoteMarker"||be[1].type==="listItemIndent"))break}Tt&&(!rt||Tt<rt)&&(Ge._spread=!0),Ge.end=Object.assign({},rt?ue[rt][1].start:ce[1].end),ue.splice(rt||Fe,0,["exit",Ge,ce[2]]),Fe++,Oe++}if(ce[1].type==="listItemPrefix"){const Ee={type:"listItem",_spread:!1,start:Object.assign({},ce[1].start),end:void 0};Ge=Ee,ue.splice(Fe,0,["enter",Ee,ce[2]]),Fe++,Oe++,Tt=void 0,Zt=!0}}}return ue[ve][1]._spread=sn,Oe}function i(ue,ve){return Oe;function Oe(Fe){l.call(this,ue(Fe),Fe),ve&&ve.call(this,Fe)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(ue,ve,Oe){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([ve,Oe||void 0]),ue.position={start:Ko(ve.start),end:void 0}}function c(ue){return ve;function ve(Oe){ue&&ue.call(this,Oe),u.call(this,Oe)}}function u(ue,ve){const Oe=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==ue.type&&(ve?ve.call(this,ue,Fe[0]):(Fe[1]||i3).call(this,ue,Fe[0]));else throw new Error("Cannot close `"+ue.type+"` ("+lp({start:ue.start,end:ue.end})+"): its not open");Oe.position.end=Ko(ue.end)}function d(){return u6e(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(ue){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ue}function g(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ue}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue.replace(/(\r?\n|\r)$/g,"")}function b(ue){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=ve,Oe.identifier=zd(this.sliceSerialize(ue)).toLowerCase()}function j(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ue}function _(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ue}function S(ue){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Oe=this.sliceSerialize(ue).length;ve.depth=Oe}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function C(ue){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ue){const Oe=this.stack[this.stack.length-1].children;let Fe=Oe[Oe.length-1];(!Fe||Fe.type!=="text")&&(Fe=Ne(),Fe.position={start:Ko(ue.start),end:void 0},Oe.push(Fe)),this.stack.push(Fe)}function I(ue){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ue),ve.position.end=Ko(ue.end)}function E(ue){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Oe=ve.children[ve.children.length-1];Oe.position.end=Ko(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ve.type)&&(D.call(this,ue),I.call(this,ue))}function L(){this.data.atHardBreak=!0}function U(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue}function F(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue}function $(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ue}function M(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=ve,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function O(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=ve,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function R(ue){const ve=this.sliceSerialize(ue),Oe=this.stack[this.stack.length-2];Oe.label=c8e(ve),Oe.identifier=zd(ve).toLowerCase()}function B(){const ue=this.stack[this.stack.length-1],ve=this.resume(),Oe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Oe.type==="link"){const Fe=ue.children;Oe.children=Fe}else Oe.alt=ve}function T(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ue}function G(){const ue=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ue}function W(){this.data.inReference=void 0}function w(){this.data.referenceType="collapsed"}function A(ue){const ve=this.resume(),Oe=this.stack[this.stack.length-1];Oe.label=ve,Oe.identifier=zd(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function P(ue){this.data.characterReferenceType=ue.type}function z(ue){const ve=this.sliceSerialize(ue),Oe=this.data.characterReferenceType;let Fe;Oe?(Fe=aK(ve,Oe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=UT(ve);const nt=this.stack[this.stack.length-1];nt.value+=Fe}function q(ue){const ve=this.stack.pop();ve.position.end=Ko(ue.end)}function te(ue){I.call(this,ue);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ue)}function X(ue){I.call(this,ue);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ue)}function V(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function ee(){return{type:"inlineCode",value:""}}function ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function Le(){return{type:"html",value:""}}function Je(){return{type:"image",title:null,url:"",alt:null}}function Ye(){return{type:"link",title:null,url:"",children:[]}}function ct(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function he(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function pe(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function tt(){return{type:"thematicBreak"}}}function Ko(e){return{line:e.line,column:e.column,offset:e.offset}}function gK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?gK(e,r):f8e(e,r)}}function f8e(e,t){let n;for(n in t)if(pK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function i3(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+lp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+lp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+lp({start:t.start,end:t.end})+") is still open")}function m8e(e){const t=this;t.parser=n;function n(r){return d8e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function p8e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function g8e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function v8e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function x8e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y8e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function b8e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Uf(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function w8e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j8e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function vK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function _8e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return vK(e,t);const a={src:Uf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function N8e(e,t){const n={src:Uf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function S8e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function C8e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return vK(e,t);const a={href:Uf(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function k8e(e,t){const n={href:Uf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function E8e(e,t,n){const r=e.all(t),a=n?P8e(n):xK(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function P8e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=xK(n[r])}return t}function xK(e){const t=e.spread;return t??e.children.length>1}function A8e(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function T8e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O8e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function M8e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function D8e(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=RT(t.children[1]),c=QG(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function I8e(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],f={},m=o?o[c]:void 0;m&&(f.align=m);let g={type:"element",tagName:i,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function $8e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const o3=9,l3=32;function R8e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(c3(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(c3(t.slice(a),a>0,!1)),i.join("")}function c3(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===o3||i===l3;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===o3||i===l3;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function L8e(e,t){const n={type:"text",value:R8e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function F8e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const B8e={blockquote:p8e,break:g8e,code:v8e,delete:x8e,emphasis:y8e,footnoteReference:b8e,heading:w8e,html:j8e,imageReference:_8e,image:N8e,inlineCode:S8e,linkReference:C8e,link:k8e,listItem:E8e,list:A8e,paragraph:T8e,root:O8e,strong:M8e,table:D8e,tableCell:$8e,tableRow:I8e,text:L8e,thematicBreak:F8e,toml:Bx,yaml:Bx,definition:Bx,footnoteDefinition:Bx};function Bx(){}const yK=-1,Fj=0,up=1,N0=2,VT=3,WT=4,HT=5,GT=6,bK=7,wK=8,u3=typeof self=="object"?self:globalThis,U8e=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case Fj:case yK:return n(o,a);case up:{const l=n([],a);for(const c of o)l.push(r(c));return l}case N0:{const l=n({},a);for(const[c,u]of o)l[r(c)]=r(u);return l}case VT:return n(new Date(o),a);case WT:{const{source:l,flags:c}=o;return n(new RegExp(l,c),a)}case HT:{const l=n(new Map,a);for(const[c,u]of o)l.set(r(c),r(u));return l}case GT:{const l=n(new Set,a);for(const c of o)l.add(r(c));return l}case bK:{const{name:l,message:c}=o;return n(new u3[l](c),a)}case wK:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new u3[i](o),a)};return r},d3=e=>U8e(new Map,e)(0),td="",{toString:z8e}={},{keys:q8e}=Object,jm=e=>{const t=typeof e;if(t!=="object"||!e)return[Fj,t];const n=z8e.call(e).slice(8,-1);switch(n){case"Array":return[up,td];case"Object":return[N0,td];case"Date":return[VT,td];case"RegExp":return[WT,td];case"Map":return[HT,td];case"Set":return[GT,td];case"DataView":return[up,n]}return n.includes("Array")?[up,n]:n.includes("Error")?[bK,n]:[N0,n]},Ux=([e,t])=>e===Fj&&(t==="function"||t==="symbol"),V8e=(e,t,n,r)=>{const a=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},i=o=>{if(n.has(o))return n.get(o);let[l,c]=jm(o);switch(l){case Fj:{let d=o;switch(c){case"bigint":l=wK,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([yK],o)}return a([l,d],o)}case up:{if(c){let f=o;return c==="DataView"?f=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(o)),a([c,[...f]],o)}const d=[],h=a([l,d],o);for(const f of o)d.push(i(f));return h}case N0:{if(c)switch(c){case"BigInt":return a([c,o.toString()],o);case"Boolean":case"Number":case"String":return a([c,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],h=a([l,d],o);for(const f of q8e(o))(e||!Ux(jm(o[f])))&&d.push([i(f),i(o[f])]);return h}case VT:return a([l,o.toISOString()],o);case WT:{const{source:d,flags:h}=o;return a([l,{source:d,flags:h}],o)}case HT:{const d=[],h=a([l,d],o);for(const[f,m]of o)(e||!(Ux(jm(f))||Ux(jm(m))))&&d.push([i(f),i(m)]);return h}case GT:{const d=[],h=a([l,d],o);for(const f of o)(e||!Ux(jm(f)))&&d.push(i(f));return h}}const{message:u}=o;return a([l,{name:c,message:u}],o)};return i},h3=(e,{json:t,lossy:n}={})=>{const r=[];return V8e(!(t||n),!!t,new Map,r)(e),r},S0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?d3(h3(e,t)):structuredClone(e):(e,t)=>d3(h3(e,t));function W8e(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H8e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function G8e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||W8e,r=e.options.footnoteBackLabel||H8e,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),f=Uf(h.toLowerCase());let m=0;const g=[],p=e.footnoteCounts.get(h);for(;p!==void 0&&++m<=p;){g.length>0&&g.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,m);typeof b=="string"&&(b={type:"text",value:b}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else d.push(...g);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...S0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const jK=function(e){if(e==null)return X8e;if(typeof e=="function")return Bj(e);if(typeof e=="object")return Array.isArray(e)?K8e(e):Y8e(e);if(typeof e=="string")return J8e(e);throw new Error("Expected function, string, or object as test")};function K8e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=jK(e[n]);return Bj(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Y8e(e){const t=e;return Bj(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function J8e(e){return Bj(t);function t(n){return n&&n.type===e}}function Bj(e){return t;function t(n,r,a){return!!(Q8e(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function X8e(){return!0}function Q8e(e){return e!==null&&typeof e=="object"&&"type"in e}const _K=[],Z8e=!0,f3=!1,eUe="skip";function tUe(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=jK(a),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=_K,g,p,x;if((!t||i(c,u,d[d.length-1]||void 0))&&(m=nUe(n(c,d)),m[0]===f3))return m;if("children"in c&&c.children){const y=c;if(y.children&&m[0]!==eUe)for(p=(r?y.children.length:-1)+o,x=d.concat(y);p>-1&&p<y.children.length;){const b=y.children[p];if(g=l(b,p,x)(),g[0]===f3)return g;p=typeof g[1]=="number"?g[1]:p+o}}return m}}}function nUe(e){return Array.isArray(e)?e:typeof e=="number"?[Z8e,e]:e==null?_K:[e]}function NK(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),tUe(e,i,l,a);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return o(c,h,d)}}const NE={}.hasOwnProperty,rUe={};function sUe(e,t){const n=t||rUe,r=new Map,a=new Map,i=new Map,o={...B8e,...n.handlers},l={all:u,applyData:iUe,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:c,options:n,patch:aUe,wrap:lUe};return NK(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:a,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),l;function c(d,h){const f=d.type,m=l.handlers[f];if(NE.call(l.handlers,f)&&m)return m(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(f)){if("children"in d){const{children:p,...x}=d,y=S0(x);return y.children=l.all(d),y}return S0(d)}return(l.options.unknownHandler||oUe)(l,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const g=l.one(f[m],d);if(g){if(m&&f[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=m3(g.value)),!Array.isArray(g)&&g.type==="element")){const p=g.children[0];p&&p.type==="text"&&(p.value=m3(p.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function aUe(e,t){e.position&&(t.position=zFe(e))}function iUe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,S0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function oUe(e,t){const n=t.data||{},r="value"in t&&!(NE.call(n,"hProperties")||NE.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lUe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function m3(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function p3(e,t){const n=sUe(e,t),r=n.one(e,void 0),a=G8e(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function cUe(e,t){return e&&"run"in e?async function(n,r){const a=p3(n,{file:r,...t});await e.run(a,r)}:function(n,r){return p3(n,{file:r,...e||t})}}function g3(e){if(e)throw e}var Ey=Object.prototype.hasOwnProperty,SK=Object.prototype.toString,v3=Object.defineProperty,x3=Object.getOwnPropertyDescriptor,y3=function(t){return typeof Array.isArray=="function"?Array.isArray(t):SK.call(t)==="[object Array]"},b3=function(t){if(!t||SK.call(t)!=="[object Object]")return!1;var n=Ey.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ey.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||Ey.call(t,a)},w3=function(t,n){v3&&n.name==="__proto__"?v3(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},j3=function(t,n){if(n==="__proto__")if(Ey.call(t,n)){if(x3)return x3(t,n).value}else return;return t[n]},uUe=function e(){var t,n,r,a,i,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=j3(l,n),a=j3(t,n),l!==a&&(d&&a&&(b3(a)||(i=y3(a)))?(i?(i=!1,o=r&&y3(r)?r:[]):o=r&&b3(r)?r:{},w3(l,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&w3(l,{name:n,newValue:a}));return l};const X1=qt(uUe);function SE(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dUe(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(c,...u){const d=e[++i];let h=-1;if(c){o(c);return}for(;++h<a.length;)(u[h]===null||u[h]===void 0)&&(u[h]=a[h]);a=u,d?hUe(d,l)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function hUe(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(a);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return a(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(o,...l){n||(n=!0,t(o,...l))}function i(o){a(null,o)}}const _i={basename:fUe,dirname:mUe,extname:pUe,join:gUe,sep:"/"};function fUe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Tv(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function mUe(e){if(Tv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function pUe(e){Tv(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function gUe(...e){let t=-1,n;for(;++t<e.length;)Tv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vUe(n)}function vUe(e){Tv(e);const t=e.codePointAt(0)===47;let n=xUe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function xUe(e,t){let n="",r=0,a=-1,i=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function Tv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yUe={cwd:bUe};function bUe(){return"/"}function CE(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wUe(e){if(typeof e=="string")e=new URL(e);else if(!CE(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jUe(e)}function jUe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Q1=["history","path","basename","stem","extname","dirname"];class CK{constructor(t){let n;t?CE(t)?n={path:t}:typeof t=="string"||_Ue(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":yUe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Q1.length;){const i=Q1[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Q1.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?_i.basename(this.path):void 0}set basename(t){eN(t,"basename"),Z1(t,"basename"),this.path=_i.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?_i.dirname(this.path):void 0}set dirname(t){_3(this.basename,"dirname"),this.path=_i.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?_i.extname(this.path):void 0}set extname(t){if(Z1(t,"extname"),_3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_i.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){CE(t)&&(t=wUe(t)),eN(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?_i.basename(this.path,this.extname):void 0}set stem(t){eN(t,"stem"),Z1(t,"stem"),this.path=_i.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Rr(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Z1(e,t){if(e&&e.includes(_i.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+_i.sep+"`")}function eN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function _Ue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const NUe=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},SUe={}.hasOwnProperty;class KT extends NUe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dUe()}copy(){const t=new KT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(X1(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(rN("data",this.frozen),this.namespace[t]=n,this):SUe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rN("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=zx(t),r=this.parser||this.Parser;return tN("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),tN("process",this.parser||this.Parser),nN("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const l=zx(t),c=r.parse(l);r.run(c,l,function(d,h,f){if(d||!h||!f)return u(d);const m=h,g=r.stringify(m,f);EUe(g)?f.value=g:f.result=g,u(d,f)});function u(d,h){d||!h?o(d):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),tN("processSync",this.parser||this.Parser),nN("processSync",this.compiler||this.Compiler),this.process(t,a),S3("processSync","process",n),r;function a(i,o){n=!0,g3(i),r=o}}run(t,n,r){N3(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,l){const c=zx(n);a.run(t,c,u);function u(d,h,f){const m=h||t;d?l(d):o?o(m):r(void 0,m,f)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),S3("runSync","run",r),a;function i(o,l){g3(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=zx(n),a=this.compiler||this.Compiler;return nN("stringify",a),N3(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(rN("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(a.settings=X1(!0,a.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[m,...g]=d;const p=r[f][1];SE(p)&&SE(m)&&(m=X1(!0,p,m)),r[f]=[u,m,...g]}}}}const CUe=new KT().freeze();function tN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rN(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function N3(e){if(!SE(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function S3(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function zx(e){return kUe(e)?e:new CK(e)}function kUe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function EUe(e){return typeof e=="string"||PUe(e)}function PUe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const AUe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",C3=[],k3={allowDangerousHtml:!0},TUe=/^(https?|ircs?|mailto|xmpp)$/i,OUe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function MUe(e){const t=DUe(e),n=IUe(e);return $Ue(t.runSync(t.parse(n),n),e)}function DUe(e){const t=e.rehypePlugins||C3,n=e.remarkPlugins||C3,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...k3}:k3;return CUe().use(m8e).use(n).use(cUe,r).use(t)}function IUe(e){const t=e.children||"",n=new CK;return typeof t=="string"&&(n.value=t),n}function $Ue(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||RUe;for(const d of OUe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+AUe+d.id,void 0);return NK(e,u),GFe(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in K1)if(Object.hasOwn(K1,m)&&Object.hasOwn(d.properties,m)){const g=d.properties[m],p=K1[m];(p===null||p.includes(d.tagName))&&(d.properties[m]=c(String(g||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,f)),m&&f&&typeof h=="number")return l&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function RUe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||TUe.test(e.slice(0,t))?e:""}const sN="https://voxtro-backend.onrender.com";function LUe(){const{chatbotId:e}=Nw(),[t,n]=v.useState(null),[r,a]=v.useState([]),[i,o]=v.useState(""),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[h,f]=v.useState(null),[m,g]=v.useState(!1),[p,x]=v.useState(null),[y,b]=v.useState(!1),j=v.useRef(null),_=()=>{const O=`voxtro_visitor_${e}`;let R=localStorage.getItem(O);return R||(R=`visitor_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,localStorage.setItem(O,R)),R},S=()=>{const O=`voxtro_conversation_${e}`;return localStorage.getItem(O)},N=O=>{const R=`voxtro_conversation_${e}`;localStorage.setItem(R,O)},C=()=>{var O;(O=j.current)==null||O.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{C()},[r]),v.useEffect(()=>{(async()=>{if(!e){x("No chatbot ID provided"),c(!1);return}try{const R=await fetch(`${sN}/api/widget/${e}/config`);if(!R.ok){R.status===404?x("Chatbot not found"):x("Failed to load chatbot configuration"),c(!1);return}const B=await R.json();n(B);const T=S();T&&f(T),a([{role:"assistant",content:B.welcome_message||"Hi! How can I help you today?"}])}catch(R){console.error("Error fetching widget config:",R),x("Failed to connect to chatbot service")}finally{c(!1)}})()},[e]);const k=async O=>{if(!O.trim()||!t)return;const R=_(),B={role:"user",content:O};a(T=>[...T,B]),o(""),d(!0);try{const T=await fetch(`${sN}/api/widget/${e}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitor_id:R,message:O,conversation_id:h})});if(!T.ok)throw new Error("Failed to send message");const G=await T.json();G.conversation_id&&!h&&(f(G.conversation_id),N(G.conversation_id));const W=G.message||"Sorry, I encountered an error. Please try again.",w=G.form_data;a(A=>[...A,{role:"assistant",content:W,formData:w}])}catch(T){console.error("Error sending message:",T),a(G=>[...G,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{d(!1)}},D=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),k(i))},I=O=>{k(O),b(!0)},E=async(O,R)=>{if(!t)return;g(!0);const B=_();try{const T=await fetch(`${sN}/api/widget/${e}/form`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({form_id:O,submitted_data:R,conversation_id:h,visitor_id:B})});if(!T.ok)throw new Error("Failed to submit form");const G=await T.json();a(W=>[...W,{role:"assistant",content:G.message||"Thank you for submitting the form!"}]),_e.success("Form submitted successfully!")}catch(T){console.error("Error submitting form:",T),_e.error("Failed to submit form. Please try again."),a(G=>[...G,{role:"assistant",content:"Sorry, there was an error submitting your form. Please try again."}])}finally{g(!1)}},L=()=>{const O=`voxtro_conversation_${e}`;localStorage.removeItem(O),f(null),a([{role:"assistant",content:(t==null?void 0:t.welcome_message)||"Hi! How can I help you today?"}]),b(!1)};if(l)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(p||!t)return s.jsx("div",{className:"h-screen w-full bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-1",children:p||"Unable to load chatbot"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Please check the chatbot ID and try again."})]})});const U=t.theme&&t.theme.primary_color||t.theme_color||"#3B82F6",F=t.widget_button_color||t.theme&&t.theme.secondary_color||"#6366F1",$=t.widget_button_text||"",M=t.faqs||[];return s.jsxs("div",{className:"h-screen w-full flex flex-col bg-white overflow-hidden",children:[s.jsxs("div",{className:"flex-shrink-0 px-4 py-3 text-white shadow-md flex items-center gap-3",style:{backgroundColor:U},children:[t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/30"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx(Gs,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"font-semibold text-base truncate",children:t.name}),s.jsx("p",{className:"text-xs opacity-80",children:"Online"})]}),h&&s.jsx("button",{onClick:L,className:"p-2 rounded-full hover:bg-white/20 transition-colors",title:"New conversation",children:s.jsx(ku,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r.map((O,R)=>s.jsxs("div",{children:[s.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-sm ${O.role==="user"?"text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,style:{backgroundColor:O.role==="user"?U:void 0},children:O.role==="assistant"?s.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-ul:my-1 prose-li:my-0",children:s.jsx(MUe,{components:{p:({children:B})=>s.jsx("p",{className:"mb-1.5 last:mb-0",children:B}),ul:({children:B})=>s.jsx("ul",{className:"list-disc pl-4 space-y-0.5 my-1",children:B}),li:({children:B})=>s.jsx("li",{className:"text-sm",children:B}),strong:({children:B})=>s.jsx("strong",{className:"font-semibold",children:B}),a:({href:B,children:T})=>s.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:T})},children:O.content})}):O.content})}),O.formData&&s.jsx("div",{className:"flex justify-center mt-3",children:s.jsx(X5e,{formData:O.formData,onSubmit:B=>E(O.formData.id,B),isSubmitting:m,themeColor:U})})]},R)),u&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 px-4 py-3 rounded-2xl rounded-bl-md",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),s.jsx("div",{ref:j})]}),M.length>0&&r.length<=1&&!y&&s.jsx("div",{className:"flex-shrink-0 px-4 py-6 border-t bg-white/90 shadow-sm rounded-b-xl",children:s.jsxs("div",{className:"max-w-xs mx-auto",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-4 text-right",children:"How can we help?"}),s.jsx("div",{className:"flex flex-col gap-1 mb-5 items-end",children:M.slice(0,4).map((O,R)=>s.jsx("button",{onClick:()=>I(O.question),className:"px-3 py-1 rounded-full bg-gray-50 border border-gray-200 text-gray-900 text-xs font-medium shadow-sm hover:bg-gray-100 hover:border-gray-300 transition-all text-right max-w-[90%]",style:{borderColor:`${U}30`,color:U,alignSelf:"flex-end"},children:O.question},R))}),$.trim()?s.jsx("button",{className:"w-full py-3 rounded-full text-white font-semibold text-base shadow-lg transition-all hover:opacity-90",style:{backgroundColor:F},onClick:()=>b(!0),children:$}):s.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all hover:opacity-90",style:{backgroundColor:F},onClick:()=>b(!0),"aria-label":"Open chat",children:s.jsx(ru,{className:"w-5 h-5"})})]})}),y&&s.jsxs("div",{className:"flex-shrink-0 p-3 border-t bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:O=>o(O.target.value),onKeyDown:D,placeholder:"Type a message...",className:"flex-1 px-4 py-2.5 text-sm border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-400",style:{focusRing:U},disabled:u}),s.jsx("button",{onClick:()=>k(i),disabled:!i.trim()||u,className:"flex-shrink-0 w-10 h-10 rounded-full text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:opacity-90",style:{backgroundColor:F},children:s.jsx(ru,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-2",children:"Powered by Voxtro"})]})]})}function FUe(){const[e,t]=v.useState([]),n=(r,a="info")=>{t(i=>[...i,`${a.toUpperCase()}: ${r}`])};return v.useEffect(()=>{(async()=>{try{n("Testing widget URL...","info");const a=await fetch(`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?test=${Date.now()}`);if(n(`HTTP Status: ${a.status} ${a.statusText}`,a.ok?"success":"error"),n(`Content-Type: ${a.headers.get("content-type")}`,"info"),a.ok){const i=await a.text();n(`Response length: ${i.length} characters`,"success"),n(`Contains CHATBOT_ID: ${i.includes("CHATBOT_ID")?"Yes":"No"}`,i.includes("CHATBOT_ID")?"success":"error"),i.includes("console.error")?n(`Widget returns error: ${i}`,"error"):i.includes("CHATBOT_ID")&&(n("Widget returns valid JavaScript","success"),setTimeout(()=>{const o=document.createElement("script");o.src=`https://atmwldssfrbmcluvmelm.functions.supabase.co/functions/v1/widget/c8f37557-83d7-4ab2-9950-1ab9c5c540db.js?widget=${Date.now()}`,o.onload=()=>{n("Widget script loaded successfully","success"),setTimeout(()=>{const l=document.getElementById("voxtro-widget");n(`Widget element in DOM: ${l?"Yes":"No"}`,l?"success":"error")},1e3)},o.onerror=()=>{n("Widget script failed to load","error")},document.head.appendChild(o)},1e3))}else{const i=await a.text();n(`Error response: ${i}`,"error")}}catch(a){n(`Network error: ${a instanceof Error?a.message:"Unknown error"}`,"error")}})()},[]),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Widget Test"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Test Results:"}),s.jsx("div",{className:"space-y-3",children:e.map((r,a)=>{const[i,...o]=r.split(": "),l=o.join(": "),c=i==="ERROR",u=i==="SUCCESS";return s.jsxs("div",{className:`p-3 rounded-md ${c?"bg-red-50 border border-red-200 text-red-800":u?"bg-green-50 border border-green-200 text-green-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:[s.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",l]},a)})}),e.length===0&&s.jsx("div",{className:"text-gray-500 italic",children:"Running tests..."})]}),s.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"What to look for:"}),s.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[s.jsx("li",{children:" HTTP Status should be 200 OK"}),s.jsx("li",{children:" Response should contain CHATBOT_ID"}),s.jsx("li",{children:" Widget script should load successfully"}),s.jsx("li",{children:" Widget element should appear in DOM"}),s.jsx("li",{children:" Blue chat button should be visible in bottom-right corner"})]})]})]})})}const BUe=()=>{const{user:e}=Ht(),[t,n]=v.useState(null),r=i=>{n(i)},a=()=>{n(null)};return e?s.jsxs("div",{className:"p-6",children:[!t&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View all chat history between users and your chatbots"})]}),s.jsx(H,{className:"h-[calc(100vh-200px)]",children:t?s.jsx(Y9,{conversationId:t,onBack:a}):s.jsx(K9,{onConversationSelect:r})})]}):s.jsx("div",{children:"Please log in to view conversations."})},UUe=()=>{const{user:e}=Ht(),[t,n]=v.useState([]),[r,a]=v.useState([]),[i,o]=v.useState({totalConversations:0,totalMessages:0,totalBots:0,avgMessagesPerConversation:0}),[l,c]=v.useState(!0),u=async()=>{if(e)try{const{data:d,error:h}=await J.from("chatbots").select("id, name, theme_color").eq("user_id",e.id).eq("is_active",!0);if(h)throw h;const f=[];let m=0,g=0;for(const _ of d||[]){const{count:S}=await J.from("conversations").select("*",{count:"exact",head:!0}).eq("chatbot_id",_.id),{count:N}=await J.from("messages").select(`
            *,
            conversations!inner(chatbot_id)
          `,{count:"exact",head:!0}).eq("conversations.chatbot_id",_.id),C=S||0,k=N||0;f.push({id:_.id,name:_.name,conversations:C,messages:k,theme_color:_.theme_color}),m+=C,g+=k}f.sort((_,S)=>S.messages-_.messages),n(f);const p=new Date;p.setDate(p.getDate()-7);const{data:x,error:y}=await J.from("messages").select(`
          created_at,
          conversations!inner(
            chatbot_id,
            chatbots!inner(user_id)
          )
        `).eq("conversations.chatbots.user_id",e.id).gte("created_at",p.toISOString());if(y)throw y;const b=new Map;for(let _=6;_>=0;_--){const S=new Date;S.setDate(S.getDate()-_);const N=S.toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(N,0)}x==null||x.forEach(_=>{const N=new Date(_.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});b.set(N,(b.get(N)||0)+1)});const j=Array.from(b.entries()).map(([_,S])=>({date:_,messages:S}));a(j),o({totalConversations:m,totalMessages:g,totalBots:(d==null?void 0:d.length)||0,avgMessagesPerConversation:m>0?Math.round(g/m*100)/100:0})}catch(d){console.error("Error fetching usage data:",d),Te({title:"Error",description:"Failed to load usage analytics",variant:"destructive"})}finally{c(!1)}};return v.useEffect(()=>{u();const d=setInterval(u,3e4);return()=>clearInterval(d)},[e]),e?l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gh,{className:"h-8 w-8 animate-pulse mx-auto mb-2 text-primary"}),s.jsx("p",{children:"Loading analytics..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Usage Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor your chatbot performance and usage statistics"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalConversations})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(So,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalMessages})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Active Bots"}),s.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalBots})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Avg Messages/Conv"}),s.jsx(po,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.avgMessagesPerConversation})})]})]}),s.jsx("div",{className:"grid gap-6",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Messages Per Day"}),s.jsx(ye,{children:"Last 7 days message volume"})]}),s.jsx(Y,{children:s.jsx(Ib,{width:"100%",height:300,children:s.jsxs(l9,{data:r,children:[s.jsx(V7,{strokeDasharray:"3 3"}),s.jsx(hu,{dataKey:"date"}),s.jsx(fu,{}),s.jsx(qa,{}),s.jsx(Of,{type:"monotone",dataKey:"messages",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6"}})]})})})]})}),t.length>0&&s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Bot Details"}),s.jsx(ye,{children:"Detailed statistics for each bot"})]}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-4",children:t.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Pe,{variant:"outline",className:"text-xs",children:["#",h+1]}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.theme_color}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.conversations," conversations  ",d.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:d.messages}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"total messages"})]})]},d.id))})})]})]}):s.jsx("div",{children:"Please log in to view usage analytics."})};function zUe({userId:e}){const[t,n]=v.useState({user_id:e,logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"}),[r,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(!1),u=v.useRef(null);v.useEffect(()=>{d()},[e]);const d=async()=>{try{const{data:g,error:p}=await J.from("branding_settings").select("*").eq("user_id",e).maybeSingle();if(p&&p.code!=="PGRST116")throw p;g&&n({id:g.id,user_id:g.user_id,logo_url:g.logo_url,primary_color:g.primary_color||"#f97316",secondary_color:g.secondary_color||"#ea580c"})}catch(g){console.error("Error fetching branding:",g),Te({title:"Error",description:"Failed to load branding settings",variant:"destructive"})}finally{a(!1)}},h=async g=>{var y;const p=(y=g.target.files)==null?void 0:y[0];if(!p)return;if(!["image/png","image/jpeg","image/svg+xml","image/webp"].includes(p.type)){Te({title:"Invalid file type",description:"Please upload a PNG, JPEG, SVG, or WebP image",variant:"destructive"});return}if(p.size>2*1024*1024){Te({title:"File too large",description:"Please upload an image smaller than 2MB",variant:"destructive"});return}c(!0);try{const b=p.name.split(".").pop(),j=`${e}/logo.${b}`;await J.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]);const{error:_}=await J.storage.from("logos").upload(j,p,{upsert:!0});if(_)throw _;const{data:S}=J.storage.from("logos").getPublicUrl(j);n(N=>({...N,logo_url:S.publicUrl})),Te({title:"Logo uploaded",description:"Your logo has been uploaded successfully"})}catch(b){console.error("Error uploading logo:",b),Te({title:"Upload failed",description:b.message||"Failed to upload logo",variant:"destructive"})}finally{c(!1)}},f=async()=>{if(t.logo_url)try{await J.storage.from("logos").remove([`${e}/logo.png`,`${e}/logo.jpg`,`${e}/logo.svg`,`${e}/logo.webp`]),n(g=>({...g,logo_url:null})),Te({title:"Logo removed",description:"Your logo has been removed"})}catch(g){console.error("Error removing logo:",g),Te({title:"Error",description:"Failed to remove logo",variant:"destructive"})}},m=async()=>{o(!0);try{const g={user_id:e,logo_url:t.logo_url,primary_color:t.primary_color,secondary_color:t.secondary_color};if(t.id){const{error:p}=await J.from("branding_settings").update(g).eq("id",t.id);if(p)throw p}else{const{data:p,error:x}=await J.from("branding_settings").insert(g).select().single();if(x)throw x;n(y=>({...y,id:p.id}))}Te({title:"Success",description:"Branding settings saved successfully"})}catch(g){console.error("Error saving branding:",g),Te({title:"Error",description:"Failed to save branding settings",variant:"destructive"})}finally{o(!1)}};return r?s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hD,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Customer Portal Branding"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading branding settings..."})})]}):s.jsxs(H,{className:"md:col-span-2",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hD,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Customer Portal Branding"})]}),s.jsx(ye,{children:"Customize the appearance of the customer portal with your brand colors and logo"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{children:"Company Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-32 h-16 border-2 border-dashed rounded-lg flex items-center justify-center bg-muted/30 overflow-hidden",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Company logo",className:"max-w-full max-h-full object-contain p-2"}):s.jsx(ore,{className:"w-8 h-8 text-muted-foreground/50"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{ref:u,type:"file",accept:"image/png,image/jpeg,image/svg+xml,image/webp",onChange:h,className:"hidden"}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},disabled:l,children:[s.jsx(wre,{className:"w-4 h-4 mr-2"}),l?"Uploading...":"Upload Logo"]}),t.logo_url&&s.jsxs(Z,{variant:"ghost",size:"sm",onClick:f,className:"text-destructive hover:text-destructive",children:[s.jsx(hn,{className:"w-4 h-4 mr-2"}),"Remove"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPEG, SVG or WebP. Max 2MB."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{htmlFor:"primary-color",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"primary-color",value:t.primary_color,onChange:g=>n(p=>({...p,primary_color:g.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(le,{value:t.primary_color,onChange:g=>n(p=>({...p,primary_color:g.target.value})),placeholder:"#f97316",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for buttons, links, and accents"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{htmlFor:"secondary-color",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"color",id:"secondary-color",value:t.secondary_color,onChange:g=>n(p=>({...p,secondary_color:g.target.value})),className:"w-12 h-12 rounded-lg border cursor-pointer",style:{padding:0}})}),s.jsx(le,{value:t.secondary_color,onChange:g=>n(p=>({...p,secondary_color:g.target.value})),placeholder:"#ea580c",className:"w-28 font-mono"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for hover states and secondary elements"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{children:"Preview"}),s.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.logo_url?s.jsx("img",{src:t.logo_url,alt:"Preview logo",className:"h-8 object-contain"}):s.jsx("div",{className:"h-8 w-24 bg-muted rounded flex items-center justify-center text-xs text-muted-foreground",children:"Your Logo"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 rounded-md text-white text-sm font-medium transition-colors",style:{backgroundColor:t.primary_color},onMouseEnter:g=>g.currentTarget.style.backgroundColor=t.secondary_color,onMouseLeave:g=>g.currentTarget.style.backgroundColor=t.primary_color,children:"Primary Button"}),s.jsx("button",{className:"px-4 py-2 rounded-md text-sm font-medium border transition-colors",style:{color:t.primary_color,borderColor:t.primary_color},children:"Secondary Button"})]})]})]}),s.jsxs(Z,{onClick:m,disabled:i,className:"w-full",children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Branding Settings"]})]})})]})}const qUe=()=>{const{user:e}=Ht(),{theme:t,setTheme:n}=fv(),[r,a]=v.useState(null),[i,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState({user_id:"",chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:""}),[h,f]=v.useState(""),[m,g]=v.useState(""),[p,x]=v.useState(""),[y,b]=v.useState(""),[j,_]=v.useState(!0),[S,N]=v.useState(!1),[C,k]=v.useState([]),[D,I]=v.useState(""),[E,L]=v.useState(""),[U,F]=v.useState(""),[$,M]=v.useState(!1),[O,R]=v.useState(!1),[B,T]=v.useState([]),[G,W]=v.useState(""),[w,A]=v.useState(""),[P,z]=v.useState(!1),[q,te]=v.useState(!1),[X,V]=v.useState([]),[se,ee]=v.useState(""),[ge,Se]=v.useState(""),[ze,We]=v.useState(!1),[Le,Je]=v.useState(!1),Ye=async()=>{if(e)try{const{data:ce,error:Ee}=await J.from("profiles").select("*").eq("user_id",e.id).maybeSingle();if(Ee)throw Ee;ce&&(a(ce),o(ce.full_name||"")),c(e.email||"")}catch(ce){console.error("Error fetching profile:",ce),Te({title:"Error",description:"Failed to load profile",variant:"destructive"})}},ct=async()=>{if(e)try{const{data:ce,error:Ee}=await J.from("notification_preferences").select("*").eq("user_id",e.id).maybeSingle();if(Ee&&Ee.code!=="PGRST116")throw Ee;d(ce||{user_id:e.id,chat_started:!1,chat_ended:!1,chat_error:!1,notification_email:e.email||""})}catch(ce){console.error("Error fetching notification preferences:",ce),Te({title:"Error",description:"Failed to load notification preferences",variant:"destructive"})}},he=async()=>{if(e)try{const{data:ce,error:Ee}=await J.from("voice_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Ee)throw Ee;k(ce||[])}catch(ce){console.error("Error fetching voice connections:",ce)}},pe=async()=>{if(e)try{const{data:ce,error:Ee}=await J.from("elevenlabs_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Ee)throw Ee;T(ce||[])}catch(ce){console.error("Error fetching ElevenLabs connections:",ce)}},ae=async()=>{if(e)try{const{data:ce,error:Ee}=await J.from("openai_connections").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(Ee)throw Ee;V(ce||[])}catch(ce){console.error("Error fetching OpenAI connections:",ce)}},Ne=async()=>{_(!0),await Promise.all([Ye(),ct(),he(),pe(),ae()]),_(!1)},tt=async()=>{var ce;if(e){N(!0);try{const Ee=l!==e.email,be=i.trim()!==((r==null?void 0:r.full_name)||"");if(Ee&&l.trim()){const{error:Qe}=await J.auth.updateUser({email:l.trim()});if(Qe)throw Qe;Te({title:"Email Update Sent",description:"Please check both your old and new email addresses to confirm the change"})}if(be){const Qe={user_id:e.id,full_name:i.trim()||null,email:e.email};if(r){const{error:ut}=await J.from("profiles").update({full_name:Qe.full_name}).eq("user_id",e.id);if(ut)throw ut}else{const{error:ut}=await J.from("profiles").insert(Qe);if(ut)throw ut}}!Ee&&be?Te({title:"Success",description:"Profile updated successfully"}):!Ee&&!be&&Te({title:"No Changes",description:"No changes were made to your profile"}),await Ye()}catch(Ee){console.error("Error saving profile:",Ee);let be="Failed to update profile";(ce=Ee.message)!=null&&ce.includes("email")&&(be="Failed to update email. Please check the email format."),Te({title:"Error",description:be,variant:"destructive"})}finally{N(!1)}}},ue=async()=>{if(e){N(!0);try{if(u.id){const{error:ce}=await J.from("notification_preferences").update({chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null}).eq("user_id",e.id);if(ce)throw ce}else{const{error:ce}=await J.from("notification_preferences").insert({user_id:e.id,chat_started:u.chat_started,chat_ended:u.chat_ended,chat_error:u.chat_error,notification_email:u.notification_email||null});if(ce)throw ce}Te({title:"Success",description:"Notification preferences updated successfully"}),await ct()}catch(ce){console.error("Error saving notification preferences:",ce),Te({title:"Error",description:"Failed to update notification preferences",variant:"destructive"})}finally{N(!1)}}},ve=async()=>{var ce,Ee;if(e){if(!h||!m||!p){Te({title:"Error",description:"Please fill in all password fields",variant:"destructive"});return}if(m!==p){Te({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(m.length<6){Te({title:"Error",description:"New password must be at least 6 characters long",variant:"destructive"});return}N(!0);try{const{error:be}=await J.auth.updateUser({password:m});if(be)throw be;f(""),g(""),x(""),Te({title:"Success",description:"Password updated successfully"})}catch(be){console.error("Error changing password:",be);let Qe="Failed to update password";(ce=be.message)!=null&&ce.includes("weak")?Qe="Password is too weak. Please choose a stronger password.":(Ee=be.message)!=null&&Ee.includes("same")&&(Qe="New password must be different from your current password."),Te({title:"Error",description:Qe,variant:"destructive"})}finally{N(!1)}}},Oe=async()=>{if(!D.trim()){Te({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!U.trim()){Te({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}M(!0);try{const{data:{session:ce}}=await J.auth.getSession();if(!e||!(ce!=null&&ce.access_token)){Te({title:"Not Logged In",description:"You must be logged in to validate VAPI credentials. Please sign in and try again.",variant:"destructive"}),M(!1);return}const Ee=await e5e(D.trim(),E.trim()),be=(Ee==null?void 0:Ee.data)||Ee;if(!be.valid){Te({title:"Invalid Credentials",description:be.message||"The credentials you provided are not valid.",variant:"destructive"});return}const Qe=C.length===0,{error:ut}=await J.from("voice_connections").insert({user_id:e==null?void 0:e.id,api_key:D.trim(),public_key:E.trim()||null,org_name:U.trim(),is_active:Qe});if(ut){if(ut.code==="23505"){Te({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw ut}Te({title:"Success",description:`Organization "${U}" connected successfully`}),I(""),L(""),F(""),R(!1),await he()}catch(ce){console.error("Error connecting voice:",ce),Te({title:"Error",description:ce.message||"Failed to connect voice service",variant:"destructive"})}finally{M(!1)}},Fe=async ce=>{const Ee=C.find(be=>be.id===ce);if(Ee)try{const{error:be}=await J.from("voice_connections").delete().eq("id",ce);if(be)throw be;if(Ee.is_active&&C.length>1){const Qe=C.filter(ut=>ut.id!==ce);Qe.length>0&&await J.from("voice_connections").update({is_active:!0}).eq("id",Qe[0].id)}Te({title:"Success",description:`Organization "${Ee.org_name}" removed`}),await he()}catch(be){console.error("Error removing connection:",be),Te({title:"Error",description:"Failed to remove organization",variant:"destructive"})}},nt=async(ce,Ee)=>{try{const{error:be}=await J.from("voice_connections").update({public_key:Ee.trim()||null}).eq("id",ce);if(be)throw be;Te({title:"Success",description:"Public key updated"}),await he()}catch(be){console.error("Error updating public key:",be),Te({title:"Error",description:be.message,variant:"destructive"})}},sn=async()=>{if(!G.trim()){Te({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!w.trim()){Te({title:"Error",description:"Please enter a connection name",variant:"destructive"});return}z(!0);try{if(!(await n5e(G.trim())).valid){Te({title:"Invalid API Key",description:"The API key you provided is not valid",variant:"destructive"});return}const Ee=B.length===0,{error:be}=await J.from("elevenlabs_connections").insert({user_id:e==null?void 0:e.id,api_key:G.trim(),org_name:w.trim(),is_active:Ee});if(be){if(be.code==="23505"){Te({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw be}Te({title:"Success",description:`"${w}" connected successfully`}),W(""),A(""),te(!1),await pe()}catch(ce){console.error("Error connecting ElevenLabs:",ce),Te({title:"Error",description:ce.message||"Failed to connect ElevenLabs",variant:"destructive"})}finally{z(!1)}},Ge=async ce=>{const Ee=B.find(be=>be.id===ce);if(Ee)try{const{error:be}=await J.from("elevenlabs_connections").delete().eq("id",ce);if(be)throw be;if(Ee.is_active&&B.length>1){const Qe=B.filter(ut=>ut.id!==ce);Qe.length>0&&await J.from("elevenlabs_connections").update({is_active:!0}).eq("id",Qe[0].id)}Te({title:"Success",description:`"${Ee.org_name}" removed`}),await pe()}catch(be){console.error("Error removing ElevenLabs connection:",be),Te({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},rt=async()=>{if(!se.trim()){Te({title:"Error",description:"Please enter an API key",variant:"destructive"});return}if(!ge.trim()){Te({title:"Error",description:"Please enter an organization name",variant:"destructive"});return}We(!0);try{const ce=X.length===0,{error:Ee}=await J.from("openai_connections").insert({user_id:e==null?void 0:e.id,api_key:se.trim(),org_name:ge.trim(),is_active:ce});if(Ee){if(Ee.code==="23505"){Te({title:"Duplicate Connection",description:"This API key is already connected",variant:"destructive"});return}throw Ee}Te({title:"Success",description:"OpenAI connected successfully"}),ee(""),Se(""),Je(!1),await ae()}catch(ce){console.error("Error connecting OpenAI:",ce),Te({title:"Error",description:ce.message||"Failed to connect OpenAI",variant:"destructive"})}finally{We(!1)}},Tt=async ce=>{const Ee=X.find(be=>be.id===ce);if(Ee)try{const{error:be}=await J.from("openai_connections").delete().eq("id",ce);if(be)throw be;if(Ee.is_active&&X.length>1){const Qe=X.filter(ut=>ut.id!==ce);Qe.length>0&&await J.from("openai_connections").update({is_active:!0}).eq("id",Qe[0].id)}Te({title:"Success",description:`"${Ee.org_name}" removed`}),await ae()}catch(be){console.error("Error removing OpenAI connection:",be),Te({title:"Error",description:"Failed to remove connection",variant:"destructive"})}},Zt=async()=>{if(!e||!y.trim()){Te({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.trim())){Te({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}N(!0);try{Te({title:"Invite Sent",description:`Invitation sent to ${y}`}),b("")}catch(Ee){console.error("Error inviting member:",Ee),Te({title:"Error",description:"Failed to send invitation",variant:"destructive"})}finally{N(!1)}};return v.useEffect(()=>{Ne()},[e]),e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account and application preferences"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gs,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Profile Settings"})]}),s.jsx(ye,{children:"Update your personal information and account details"})]}),s.jsx(Y,{children:j?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading profile..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email",placeholder:"Enter your email address",value:l,onChange:ce=>c(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Changing your email will require confirmation from both your old and new email addresses"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"fullName",children:"Display Name"}),s.jsx(le,{id:"fullName",type:"text",placeholder:"Enter your display name",value:i,onChange:ce=>o(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This name will be displayed in the header"})]}),s.jsxs(Z,{onClick:tt,disabled:S,className:"w-full",children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),S?"Saving...":"Save Changes"]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z8,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Appearance"})]}),s.jsx(ye,{children:"Customize the look and feel of the application"})]}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark mode"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:t==="light"?"default":"outline",size:"sm",onClick:()=>n("light"),className:"gap-2",children:[s.jsx(jP,{className:"h-4 w-4"}),"Light"]}),s.jsxs(Z,{variant:t==="dark"?"default":"outline",size:"sm",onClick:()=>n("dark"),className:"gap-2",children:[s.jsx(wP,{className:"h-4 w-4"}),"Dark"]})]})]})})})]}),e&&s.jsx(zUe,{userId:e.id}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vP,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Notifications"})]}),s.jsx(ye,{children:"Configure how you receive notifications and alerts"})]}),s.jsx(Y,{children:j?s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading preferences..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"notification-email",children:"Notification Email"}),s.jsx(le,{id:"notification-email",type:"email",placeholder:"Enter email address for notifications",value:u.notification_email||(e==null?void 0:e.email)||"",onChange:ce=>d(Ee=>({...Ee,notification_email:ce.target.value}))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address where notifications will be sent. Defaults to your account email."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"chat-started",children:"New chat started"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when a user starts a new conversation with your chatbot"})]}),s.jsx(Lt,{id:"chat-started",checked:u.chat_started,onCheckedChange:ce=>d(Ee=>({...Ee,chat_started:ce}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"chat-ended",children:"Chat ended"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when a conversation with your chatbot ends"})]}),s.jsx(Lt,{id:"chat-ended",checked:u.chat_ended,onCheckedChange:ce=>d(Ee=>({...Ee,chat_ended:ce}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"chat-error",children:"Chat errors"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when there's an error in your chatbot conversations"})]}),s.jsx(Lt,{id:"chat-error",checked:u.chat_error,onCheckedChange:ce=>d(Ee=>({...Ee,chat_error:ce}))})]})]}),s.jsxs(Z,{onClick:ue,disabled:S,className:"w-full",children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),S?"Saving...":"Save Notification Preferences"]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bl,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Security"})]}),s.jsx(ye,{children:"Manage your password and security preferences"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"current-password",children:"Current Password"}),s.jsx(le,{id:"current-password",type:"password",placeholder:"Enter your current password",value:h,onChange:ce=>f(ce.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-password",children:"New Password"}),s.jsx(le,{id:"new-password",type:"password",placeholder:"Enter your new password",value:m,onChange:ce=>g(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsx(le,{id:"confirm-password",type:"password",placeholder:"Confirm your new password",value:p,onChange:ce=>x(ce.target.value)})]}),s.jsxs(Z,{onClick:ve,disabled:S,className:"w-full",children:[s.jsx(Ri,{className:"w-4 h-4 mr-2"}),S?"Updating...":"Update Password"]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Members"})]}),s.jsx(ye,{children:"Manage team members and access permissions"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"invite-email",children:"Invite New Member"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{id:"invite-email",type:"email",placeholder:"Enter email address to invite",value:y,onChange:ce=>b(ce.target.value),className:"flex-1"}),s.jsx(Z,{onClick:Zt,disabled:S||!y.trim(),children:S?"Sending...":"Invite"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send an invitation to add a new team member to your account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Current Members"}),s.jsx("div",{className:"border rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Gs,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:(r==null?void 0:r.full_name)||"You"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"Owner"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Team member management coming soon"})]})]})})]}),s.jsxs(H,{className:"md:col-span-2",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Voice Organizations"})]}),C.length>0&&!O&&s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>R(!0),children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}),s.jsx(ye,{children:"Connect multiple Vapi organizations and switch between them"})]}),s.jsx(Y,{children:C.length===0&&!O?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No voice organizations connected. Add your first Vapi organization to get started."}),s.jsxs(Z,{onClick:()=>R(!0),children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]}):s.jsxs("div",{className:"space-y-6",children:[C.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{children:"Connected Organizations"}),s.jsx(Js,{className:C.length>3?"h-[280px]":"",children:s.jsx("div",{className:"space-y-3 pr-4",children:C.map(ce=>s.jsxs("div",{className:"p-4 border rounded-lg border-border hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"font-medium",children:ce.org_name||"Unnamed Organization"}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Fe(ce.id),className:"text-destructive hover:text-destructive",children:s.jsx(hn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"Public Key (for Web SDK)"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(le,{type:"text",placeholder:"Enter public key for browser testing",defaultValue:ce.public_key||"",className:"text-sm",onBlur:Ee=>{Ee.target.value!==(ce.public_key||"")&&nt(ce.id,Ee.target.value)}})})]})]},ce.id))})})]}),O&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{className:"text-base font-medium",children:"Add New Organization"}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{R(!1),I(""),L(""),F("")},children:"Cancel"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-org-name",children:"Organization Name"}),s.jsx(le,{id:"new-org-name",type:"text",placeholder:"e.g., My Company Production",value:U,onChange:ce=>F(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A friendly name to identify this organization"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-voice-api-key",children:"Private API Key"}),s.jsx(le,{id:"new-voice-api-key",type:"password",placeholder:"Enter your Vapi private API key",value:D,onChange:ce=>I(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Vapi private API key for server-side operations"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-voice-public-key",children:"Public Key (Optional)"}),s.jsx(le,{id:"new-voice-public-key",type:"text",placeholder:"Enter your Vapi public key",value:E,onChange:ce=>L(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Add your public key to enable testing voice assistants in the browser"})]}),s.jsx(Z,{onClick:Oe,disabled:$||!D.trim()||!U.trim(),className:"w-full",children:$?"Validating...":"Connect Organization"})]}),C.length>0&&!O&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"Switch between organizations on the Voice Assistants or Changelog pages."})]})})]}),s.jsxs(H,{className:"md:col-span-2",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"ElevenLabs Connection"})]}),B.length>0&&!q&&s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>te(!0),children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]}),s.jsx(ye,{children:"Connect your ElevenLabs account to manage WhatsApp agents"})]}),s.jsx(Y,{children:B.length===0&&!q?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No ElevenLabs account connected. Add your API key to get started with WhatsApp agents."}),s.jsxs(Z,{onClick:()=>te(!0),children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]}):s.jsxs("div",{className:"space-y-6",children:[B.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{children:"Connected Accounts"}),s.jsx(Js,{className:B.length>3?"h-[200px]":"",children:s.jsx("div",{className:"space-y-3 pr-4",children:B.map(ce=>s.jsx("div",{className:"p-4 border rounded-lg border-border hover:border-primary/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:ce.org_name||"Unnamed Connection"}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Ge(ce.id),className:"text-destructive hover:text-destructive",children:s.jsx(hn,{className:"w-4 h-4"})})]})},ce.id))})})]}),q&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{className:"text-base font-medium",children:"Add ElevenLabs Connection"}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{te(!1),W(""),A("")},children:"Cancel"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-elevenlabs-org-name",children:"Connection Name"}),s.jsx(le,{id:"new-elevenlabs-org-name",type:"text",placeholder:"e.g., My ElevenLabs Account",value:w,onChange:ce=>A(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A friendly name to identify this connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-elevenlabs-api-key",children:"API Key"}),s.jsx(le,{id:"new-elevenlabs-api-key",type:"password",placeholder:"Enter your ElevenLabs API key",value:G,onChange:ce=>W(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your API key at elevenlabs.io/settings/api-keys"})]}),s.jsx(Z,{onClick:sn,disabled:P||!G.trim()||!w.trim(),className:"w-full",children:P?"Validating...":"Connect Account"})]}),B.length>0&&!q&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"View your WhatsApp agents on the WhatsApp Agents page."})]})})]}),s.jsxs(H,{className:"md:col-span-2",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"OpenAI Connection"})]}),X.length>0&&!Le&&s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>Je(!0),children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add Connection"]})]}),s.jsx(ye,{children:"Connect your OpenAI API key to power chatbot conversations and AI-powered features"})]}),s.jsx(Y,{children:X.length===0&&!Le?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No OpenAI account connected. Add your API key to enable chatbot creation and AI-powered features."}),s.jsxs(Z,{onClick:()=>Je(!0),children:[s.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Add OpenAI API Key"]})]}):s.jsxs("div",{className:"space-y-4",children:[X.map(ce=>s.jsx(H,{children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:ce.org_name}),ce.is_active&&s.jsx("span",{className:"px-2 py-0.5 text-xs bg-primary/10 text-primary rounded",children:"Active"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["API Key: ",ce.api_key.substring(0,7),"...",ce.api_key.substring(ce.api_key.length-4)]})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Tt(ce.id),children:s.jsx(hn,{className:"w-4 h-4 text-destructive"})})]})})},ce.id)),Le&&s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{className:"text-base",children:"Add OpenAI Connection"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-openai-org-name",children:"Organization Name"}),s.jsx(le,{id:"new-openai-org-name",type:"text",placeholder:"e.g., Main Account, Production, Testing",value:ge,onChange:ce=>Se(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A friendly name to identify this connection"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-openai-api-key",children:"API Key"}),s.jsx(le,{id:"new-openai-api-key",type:"password",placeholder:"sk-proj-...",value:se,onChange:ce=>ee(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find your API key at platform.openai.com/api-keys"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>{Je(!1),ee(""),Se("")},className:"flex-1",children:"Cancel"}),s.jsx(Z,{onClick:rt,disabled:ze||!se.trim()||!ge.trim(),className:"flex-1",children:ze?"Connecting...":"Connect OpenAI"})]})]})]}),X.length>0&&!Le&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"This API key will be used for chatbot conversations, website crawling, and AI-powered features."})]})})]})]})]}):s.jsx("div",{children:"Please log in to view settings."})},VUe=()=>{const{user:e}=Ht();return e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Billing & Subscription"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription and billing information"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hre,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Current Plan"})]}),s.jsx(Pe,{variant:"default",children:"Free Tier"})]}),s.jsx(ye,{children:"You are currently on the free tier"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Monthly message limit"}),s.jsx("span",{className:"font-medium",children:"1,000 messages"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Chatbots"}),s.jsx("span",{className:"font-medium",children:"Up to 3"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Analytics"}),s.jsx("span",{className:"font-medium",children:"Basic"})]}),s.jsxs(Z,{className:"w-full",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K8,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Payment Method"})]}),s.jsx(ye,{children:"Manage your payment methods"})]}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment method on file"}),s.jsx(Z,{variant:"outline",className:"w-full mt-4",children:"Add Payment Method"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xre,{className:"w-5 h-5 text-primary"}),s.jsx(re,{children:"Billing History"})]}),s.jsx(ye,{children:"View your past invoices and receipts"})]}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"No billing history available"})})]})]})]})]}):s.jsx("div",{children:"Please log in to view billing information."})};function WUe({chatbotId:e}){const[t,n]=v.useState([]),[r,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(!1),[h,f]=v.useState(""),[m,g]=v.useState(""),[p,x]=v.useState(""),[y,b]=v.useState(""),[j,_]=v.useState("Thank you for submitting the form!"),[S,N]=v.useState(!1),[C,k]=v.useState(""),[D,I]=v.useState("New Form Submission"),[E,L]=v.useState(!1),[U,F]=v.useState(""),[$,M]=v.useState(""),[O,R]=v.useState(!1),[B,T]=v.useState([]);v.useEffect(()=>{e&&G()},[e]);const G=async()=>{try{const{data:V,error:se}=await J.from("chatbot_forms").select("*").eq("chatbot_id",e).order("created_at",{ascending:!1});if(se)throw se;n((V||[]).map(ee=>({...ee,fields:Array.isArray(ee.fields)?ee.fields:[]})))}catch(V){console.error("Error fetching forms:",V),_e.error("Failed to load forms")}finally{a(!1)}},W=()=>{f(""),g(""),x(""),b(""),_("Thank you for submitting the form!"),N(!1),k(""),I("New Form Submission"),L(!1),F(""),M(""),R(!1),T([]),c(null),d(!1)},w=V=>{c(V),f(V.form_name),g(V.form_title),x(V.form_description||""),b(V.trigger_keywords.join(", ")),_(V.success_message),N(V.notify_email||!1),k(V.notification_email||""),I(V.email_subject||"New Form Submission"),L(V.webhook_enabled||!1),F(V.webhook_url||""),M(V.terms_and_conditions||""),R(V.require_terms_acceptance||!1),T(V.fields),d(!0)},A=()=>{const V={id:`field_${Date.now()}`,type:"text",label:"New Field",required:!1};T(se=>[...se,V])},P=(V,se)=>{T(ee=>ee.map((ge,Se)=>Se===V?{...ge,...se}:ge))},z=V=>{T(se=>se.filter((ee,ge)=>ge!==V))},q=async()=>{if(!h.trim()||!m.trim()||B.length===0){_e.error("Please fill in all required fields and add at least one form field");return}if(S&&!C.trim()){_e.error("Please enter a notification email address");return}if(E&&!U.trim()){_e.error("Please enter a webhook URL");return}if(O&&!$.trim()){_e.error("Please enter terms and conditions text");return}o(!0);try{const V={chatbot_id:e,form_name:h.trim(),form_title:m.trim(),form_description:p.trim()||null,fields:B,trigger_keywords:y.split(",").map(ee=>ee.trim()).filter(ee=>ee),success_message:j.trim(),notify_email:S,notification_email:S&&C.trim()||null,email_subject:D.trim(),webhook_enabled:E,webhook_url:E&&U.trim()||null,terms_and_conditions:$.trim()||null,require_terms_acceptance:O};let se;if(l?se=await J.from("chatbot_forms").update(V).eq("id",l.id).select():se=await J.from("chatbot_forms").insert(V).select(),se.error)throw se.error;_e.success(l?"Form updated successfully!":"Form created successfully!"),W(),G()}catch(V){console.error("Error saving form:",V),_e.error("Failed to save form")}finally{o(!1)}},te=async(V,se)=>{try{const{error:ee}=await J.from("chatbot_forms").update({is_active:!se}).eq("id",V);if(ee)throw ee;_e.success(`Form ${se?"deactivated":"activated"} successfully`),G()}catch(ee){console.error("Error updating form status:",ee),_e.error("Failed to update form status")}},X=async V=>{if(confirm("Are you sure you want to delete this form? This action cannot be undone."))try{const{error:se}=await J.from("chatbot_forms").delete().eq("id",V);if(se)throw se;_e.success("Form deleted successfully"),G()}catch(se){console.error("Error deleting form:",se),_e.error("Failed to delete form")}};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Chatbot Forms"}),s.jsx("p",{className:"text-muted-foreground",children:"Create forms that your chatbot can send to users"})]}),s.jsxs(or,{open:u,onOpenChange:V=>{V||W(),d(V)},children:[s.jsx(Ff,{asChild:!0,children:s.jsxs(Z,{children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Form"]})}),s.jsxs(Kn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:l?"Edit Form":"Create New Form"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"form-name",children:"Form Name *"}),s.jsx(le,{id:"form-name",placeholder:"Contact Form",value:h,onChange:V=>f(V.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"form-title",children:"Form Title *"}),s.jsx(le,{id:"form-title",placeholder:"Get in Touch",value:m,onChange:V=>g(V.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"form-description",children:"Form Description"}),s.jsx(bt,{id:"form-description",placeholder:"Please fill out this form so we can help you better.",value:p,onChange:V=>x(V.target.value),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"trigger-keywords",children:"Trigger Keywords"}),s.jsx(le,{id:"trigger-keywords",placeholder:"contact, form, get in touch",value:y,onChange:V=>b(V.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated keywords that trigger this form"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"success-message",children:"Success Message"}),s.jsx(le,{id:"success-message",value:j,onChange:V=>_(V.target.value)})]})]}),s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"notify-email",checked:S,onCheckedChange:N}),s.jsx(Q,{htmlFor:"notify-email",children:"Send email notification when form is submitted"})]}),S&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"notification-email",children:"Notification Email *"}),s.jsx(le,{id:"notification-email",type:"email",placeholder:"notifications@example.com",value:C,onChange:V=>k(V.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email address to receive form submissions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email-subject",children:"Email Subject"}),s.jsx(le,{id:"email-subject",placeholder:"New Form Submission",value:D,onChange:V=>I(V.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"webhook-enabled",checked:E,onCheckedChange:L}),s.jsx(Q,{htmlFor:"webhook-enabled",children:"Send webhook when form is submitted"})]}),E&&s.jsx("div",{className:"pl-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"webhook-url",children:"Webhook URL *"}),s.jsx(le,{id:"webhook-url",type:"url",placeholder:"https://your-webhook-endpoint.com/webhook",value:U,onChange:V=>F(V.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"URL where form data will be sent as POST request with JSON payload"})]})})]})]}),s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Terms and Conditions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"require-terms",checked:O,onCheckedChange:R}),s.jsx(Q,{htmlFor:"require-terms",children:"Require users to accept terms and conditions"})]}),O&&s.jsxs("div",{className:"pl-6 space-y-2",children:[s.jsx(Q,{htmlFor:"terms-text",children:"Terms and Conditions Text *"}),s.jsx(bt,{id:"terms-text",placeholder:"By submitting this form, you agree to our privacy policy and terms of service...",value:$,onChange:V=>M(V.target.value),rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This text will be displayed to users who must accept it before submitting the form"})]})]})]}),s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Form Fields"}),s.jsxs(Z,{onClick:A,variant:"outline",size:"sm",children:[s.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Add Field"]})]}),B.map((V,se)=>s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end",children:[s.jsxs("div",{className:"col-span-3",children:[s.jsx(Q,{children:"Field Type"}),s.jsxs(qe,{value:V.type,onValueChange:ee=>P(se,{type:ee}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"text",children:"Text"}),s.jsx(oe,{value:"email",children:"Email"}),s.jsx(oe,{value:"phone",children:"Phone"}),s.jsx(oe,{value:"number",children:"Number"}),s.jsx(oe,{value:"date",children:"Date"}),s.jsx(oe,{value:"textarea",children:"Textarea"}),s.jsx(oe,{value:"select",children:"Select"}),s.jsx(oe,{value:"radio",children:"Radio"}),s.jsx(oe,{value:"checkbox",children:"Checkbox"})]})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(Q,{children:"Label"}),s.jsx(le,{value:V.label,onChange:ee=>P(se,{label:ee.target.value}),placeholder:"Field label"})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(Q,{children:"Placeholder"}),s.jsx(le,{value:V.placeholder||"",onChange:ee=>P(se,{placeholder:ee.target.value}),placeholder:"Placeholder text"})]}),(V.type==="select"||V.type==="radio"||V.type==="checkbox")&&s.jsxs("div",{className:"col-span-2",children:[s.jsx(Q,{children:"Options"}),s.jsx(le,{value:(V.options||[]).join(", "),onChange:ee=>P(se,{options:ee.target.value.split(",").map(ge=>ge.trim()).filter(ge=>ge)}),placeholder:"Option 1, Option 2"})]}),s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{checked:V.required||!1,onCheckedChange:ee=>P(se,{required:ee})}),s.jsx(Q,{className:"text-xs",children:"Required"})]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Z,{onClick:()=>z(se),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:s.jsx(hn,{className:"h-4 w-4"})})})]})},V.id)),B.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(In,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:'No fields added yet. Click "Add Field" to get started.'})]})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsx(Z,{onClick:q,disabled:i,children:i?"Saving...":l?"Update Form":"Create Form"})})]})]})]})]}),t.length===0?s.jsx(H,{className:"text-center py-12",children:s.jsxs(Y,{children:[s.jsx(In,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No forms created yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first form to collect information from chat users"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(V=>s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),V.form_title,V.is_active?s.jsx(Pe,{variant:"default",children:"Active"}):s.jsx(Pe,{variant:"secondary",children:"Inactive"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:V.form_description||"No description provided"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Z,{onClick:()=>te(V.id,V.is_active),variant:"outline",size:"sm",children:[s.jsx(gs,{className:"h-4 w-4 mr-1"}),V.is_active?"Deactivate":"Activate"]}),s.jsxs(Z,{onClick:()=>w(V),variant:"outline",size:"sm",children:[s.jsx(mre,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(Z,{onClick:()=>X(V.id),variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:[s.jsx(hn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fields:"}),s.jsx("span",{className:"font-medium",children:V.fields.length})]}),V.trigger_keywords.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggers:"}),s.jsx("div",{className:"flex gap-1",children:V.trigger_keywords.map(se=>s.jsx(Pe,{variant:"outline",className:"text-xs",children:se},se))})]}),V.notify_email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email notifications:"}),s.jsx(Pe,{variant:"secondary",className:"text-xs",children:V.notification_email})]})]})})]},V.id))})]})}function HUe({chatbotId:e}){const[t,n]=v.useState([]),[r,a]=v.useState(!0),[i,o]=v.useState(null);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:h,error:f}=await J.from("chatbot_forms").select("id").eq("chatbot_id",e);if(f||!h||h.length===0){n([]);return}const m=h.map(x=>x.id),{data:g,error:p}=await J.from("form_submissions").select(`
          *,
          chatbot_forms(form_name, form_title, form_description, fields)
        `).in("form_id",m).order("submitted_at",{ascending:!1});if(p)throw p;n((g||[]).map(x=>({...x,submitted_data:typeof x.submitted_data=="object"?x.submitted_data:{},chatbot_forms:x.chatbot_forms&&typeof x.chatbot_forms=="object"?x.chatbot_forms:{form_name:"Unknown Form",form_title:"Unknown Form",fields:[]}})))}catch(h){console.error("Error fetching form submissions:",h),_e.error("Failed to load form submissions")}finally{a(!1)}},c=()=>{if(t.length===0)return;const h=t.map(y=>{const b={"Form Name":y.chatbot_forms.form_name,"Submitted At":pt(new Date(y.submitted_at),"yyyy-MM-dd HH:mm:ss"),"Visitor ID":y.visitor_id||"Anonymous",Status:y.status};return Object.entries(y.submitted_data).forEach(([j,_])=>{b[j]=Array.isArray(_)?_.join(", "):_}),b}),f=Object.keys(h[0]),m=[f.join(","),...h.map(y=>f.map(b=>`"${y[b]||""}"`).join(","))].join(`
`),g=new Blob([m],{type:"text/csv"}),p=window.URL.createObjectURL(g),x=document.createElement("a");x.href=p,x.download=`form-submissions-${pt(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(p),_e.success("Form submissions exported successfully")},u=(h,f)=>Array.isArray(f)?f.join(", "):h.type==="date"&&f?pt(new Date(f),"PPP"):(f==null?void 0:f.toString())||"Not provided",d=(h,f)=>{const m=f.find(g=>g.id===h);return(m==null?void 0:m.label)||h};return r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Form Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbot"})]}),t.length>0&&s.jsxs(Z,{onClick:c,variant:"outline",children:[s.jsx(nre,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),t.length===0?s.jsx(H,{className:"text-center py-12",children:s.jsxs(Y,{children:[s.jsx(In,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No form submissions yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Form submissions from your chatbot will appear here"})]})}):s.jsx("div",{className:"grid gap-4",children:t.map(h=>s.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(In,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(re,{className:"text-lg",children:h.chatbot_forms.form_title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dr,{className:"h-4 w-4"}),pt(new Date(h.submitted_at),"PPP p")]}),h.visitor_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Gs,{className:"h-4 w-4"}),h.visitor_id]}),h.conversation_id&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Conversation"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:h.status==="submitted"?"default":"secondary",children:h.status}),s.jsxs(or,{children:[s.jsx(Ff,{asChild:!0,children:s.jsxs(Z,{onClick:()=>o(h),variant:"outline",size:"sm",children:[s.jsx(Sa,{className:"h-4 w-4 mr-1"}),"View Details"]})}),s.jsxs(Kn,{className:"max-w-2xl",children:[s.jsx(Yn,{children:s.jsxs(Jn,{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),h.chatbot_forms.form_title]})}),s.jsx(Js,{className:"max-h-[60vh]",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Submission Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Submitted:"}),s.jsx("p",{className:"font-medium",children:pt(new Date(h.submitted_at),"PPP p")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("p",{className:"font-medium capitalize",children:h.status})]}),h.visitor_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Visitor ID:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.visitor_id})]}),h.conversation_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversation:"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:h.conversation_id})]})]})]}),s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Form Responses"}),Object.entries(h.submitted_data).map(([f,m])=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:d(f,h.chatbot_forms.fields)}),s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm text-foreground",children:u(h.chatbot_forms.fields.find(g=>g.id===f),m)})})]},f))]})]})})]})]})]})]})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:h.chatbot_forms.form_description||"No description provided"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(h.submitted_data).slice(0,3).map(([f,m])=>s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs",children:[s.jsxs("span",{className:"font-medium",children:[d(f,h.chatbot_forms.fields),":"]}),s.jsx("span",{className:"ml-1",children:Array.isArray(m)?m.slice(0,2).join(", ")+(m.length>2?"...":""):((m==null?void 0:m.toString().slice(0,30))||"N/A")+((m==null?void 0:m.toString().length)>30?"...":"")})]},f)),Object.keys(h.submitted_data).length>3&&s.jsxs("div",{className:"bg-muted/50 px-2 py-1 rounded text-xs text-muted-foreground",children:["+",Object.keys(h.submitted_data).length-3," more"]})]})]})})]},h.id))})]})}function GUe(){const{user:e}=Ht(),[t,n]=v.useState([]),[r,a]=v.useState(""),[i,o]=v.useState(!0);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{data:c,error:u}=await J.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(u)throw u;n(c||[]),a("")}catch(c){console.error("Error fetching chatbots:",c),_e.error("Failed to load chatbots")}finally{o(!1)}};return e?i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Loading..."})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage forms and view submissions for your chatbots"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(qe,{value:r,onValueChange:a,children:[s.jsx(Be,{className:"w-64",children:s.jsx(Ve,{placeholder:"Select a chatbot"})}),s.jsx(Ue,{children:t.map(c=>s.jsx(oe,{value:c.id,children:c.name},c.id))})]})})]}),s.jsx(Xr,{}),r?s.jsxs($f,{defaultValue:"forms",className:"space-y-6",children:[s.jsxs(Mu,{children:[s.jsx(Jt,{value:"forms",children:"Forms"}),s.jsx(Jt,{value:"submissions",children:"Submissions"})]}),s.jsx(Xt,{value:"forms",children:s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{children:"Manage Forms"})}),s.jsx(Y,{children:s.jsx(WUe,{chatbotId:r})})]})}),s.jsx(Xt,{value:"submissions",children:s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{children:"Form Submissions"})}),s.jsx(Y,{children:s.jsx(HUe,{chatbotId:r})})]})})]}):s.jsx(H,{children:s.jsx(Y,{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-muted-foreground mb-4",children:t.length===0?"No chatbots found. Create a chatbot first to manage forms.":"Select a chatbot to manage its forms and view submissions."})})})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("p",{children:"Please log in to access this page."})})}function KUe({chatbotId:e,chatbotName:t,onBack:n}){const{toast:r}=wn(),a=v.useRef(null),[i,o]=v.useState("Untitled Flow"),[l,c]=v.useState(""),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[m,g]=v.useState([{id:"start",type:"start",content:"Start",position:{x:0,y:0}}]),[p,x]=v.useState([]),[y,b]=v.useState(1),[j,_]=v.useState(null),[S,N]=v.useState({x:0,y:0}),[C,k]=v.useState(!1),[D,I]=v.useState({x:0,y:0}),[E,L]=v.useState(null),[U,F]=v.useState({x:0,y:0}),[$,M]=v.useState(!1),[O,R]=v.useState(null),[B,T]=v.useState({x:0,y:0}),G=m.filter(he=>he.type==="trigger").length,W=m.filter(he=>he.type==="action").length,w=()=>{r({title:"Flow saved",description:`"${i}" has been saved successfully.`})},A=he=>{const pe={id:`node-${Date.now()}`,type:he,content:he.charAt(0).toUpperCase()+he.slice(1),position:{x:(Math.random()-.5)*300,y:(Math.random()-.5)*300},...he==="trigger"&&{triggerType:"time-on-page",triggerValue:"5s"},...he==="action"&&{actionType:"show-message",actionValue:" Hi there! How can I help you today?",actionDelay:0}};g([...m,pe]),r({title:`${he.charAt(0).toUpperCase()+he.slice(1)} added`,description:"Node has been added to your flow"})},P=(he,pe)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,triggerType:pe}:Ne))},z=(he,pe)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,actionType:pe}:Ne))},q=(he,pe)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,actionValue:pe}:Ne))},te=(he,pe)=>{g(ae=>ae.map(Ne=>Ne.id===he?{...Ne,actionDelay:pe}:Ne))},X=he=>{he!=="start"&&(g(pe=>pe.filter(ae=>ae.id!==he)),r({title:"Node deleted",description:"Node has been removed from your flow"}))},V=()=>{b(he=>Math.min(he+.1,2))},se=()=>{b(he=>Math.max(he-.1,.5))},ee=()=>{b(1),N({x:0,y:0})},ge=he=>{he.button===0&&!E&&(k(!0),I({x:he.clientX-S.x,y:he.clientY-S.y}),a.current&&(a.current.style.cursor="grabbing"))},Se=he=>{if(C&&!E&&!$)N({x:he.clientX-D.x,y:he.clientY-D.y});else if(E)Le(he);else if($&&a.current){const pe=a.current.getBoundingClientRect();T({x:he.clientX-pe.left,y:he.clientY-pe.top})}},ze=()=>{k(!1),L(null),M(!1),R(null),a.current&&(a.current.style.cursor="grab")},We=(he,pe)=>{var Fe;he.stopPropagation();const ae=m.find(nt=>nt.id===pe);if(!ae)return;L(pe);const Ne=(Fe=a.current)==null?void 0:Fe.getBoundingClientRect();if(!Ne)return;const tt=Ne.width/2,ue=Ne.height/2,ve=tt+ae.position.x*y+S.x,Oe=ue+ae.position.y*y+S.y;F({x:he.clientX-ve,y:he.clientY-Oe})},Le=he=>{if(!E||!a.current)return;const pe=a.current.getBoundingClientRect(),ae=pe.width/2,Ne=pe.height/2,tt=he.clientX-U.x,ue=he.clientY-U.y,ve=(tt-ae-S.x)/y,Oe=(ue-Ne-S.y)/y;g(Fe=>Fe.map(nt=>nt.id===E?{...nt,position:{x:ve,y:Oe}}:nt))},Je=(he,pe,ae)=>{if(he.stopPropagation(),M(!0),R({nodeId:pe,point:ae}),a.current){const Ne=a.current.getBoundingClientRect();T({x:he.clientX-Ne.left,y:he.clientY-Ne.top})}},Ye=(he,pe,ae)=>{if(he.stopPropagation(),$&&O&&O.nodeId!==pe){const Ne={id:`conn-${Date.now()}`,sourceId:O.nodeId,targetId:pe,sourcePoint:O.point,targetPoint:ae};x(tt=>[...tt,Ne]),r({title:"Nodes connected",description:"Connection has been created"})}M(!1),R(null)},ct=he=>{const pe=m.find(ue=>ue.id===he);if(!pe||!a.current)return{x:0,y:0};const ae=a.current.getBoundingClientRect(),Ne=ae.width/2,tt=ae.height/2;return{x:Ne+pe.position.x*y+S.x,y:tt+pe.position.y*y+S.y}};return v.useEffect(()=>{const he=()=>{k(!1),L(null),M(!1),R(null)};return window.addEventListener("mouseup",he),()=>window.removeEventListener("mouseup",he)},[]),s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"border-b bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex-1",children:[u?s.jsx(le,{value:i,onChange:he=>o(he.target.value),onBlur:()=>d(!1),autoFocus:!0,className:"text-lg font-semibold max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto"}):s.jsx("h1",{className:"text-lg font-semibold cursor-pointer hover:text-muted-foreground transition-colors",onClick:()=>d(!0),children:i}),h?s.jsx(le,{value:l,onChange:he=>c(he.target.value),onBlur:()=>f(!1),placeholder:"Add a description...",autoFocus:!0,className:"text-sm text-muted-foreground max-w-md bg-transparent border-none focus-visible:ring-0 p-0 h-auto mt-1"}):s.jsx("p",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground transition-colors",onClick:()=>f(!0),children:l||"Add a description..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Pe,{variant:"secondary",className:"gap-1.5",children:[s.jsx(are,{className:"h-3 w-3"}),G," Triggers"]}),s.jsxs(Pe,{variant:"secondary",className:"gap-1.5",children:[s.jsx(Ul,{className:"h-3 w-3"}),W," Actions"]}),s.jsx(Z,{variant:"outline",size:"sm",children:"Templates"}),s.jsx(Z,{variant:"ghost",size:"icon",children:s.jsx(gs,{className:"h-4 w-4"})}),s.jsx(Z,{onClick:w,size:"sm",children:"Save Flow"}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(ku,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 pb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Add Node:"}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>A("trigger"),children:[s.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Trigger"]}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>A("action"),children:[s.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Action"]})]})]}),s.jsxs("div",{ref:a,className:"flex-1 relative overflow-hidden bg-muted/20",style:{cursor:C?"grabbing":$?"crosshair":"grab"},onMouseDown:ge,onMouseMove:Se,onMouseUp:ze,onMouseLeave:ze,children:[s.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[p.map(he=>{const pe=m.find(nt=>nt.id===he.sourceId),ae=m.find(nt=>nt.id===he.targetId);if(!pe||!ae||!a.current)return null;const Ne=a.current.getBoundingClientRect(),tt=Ne.width/2,ue=Ne.height/2,ve={x:tt+pe.position.x*y+S.x,y:ue+pe.position.y*y+S.y+(he.sourcePoint==="bottom"?24:-24)},Oe={x:tt+ae.position.x*y+S.x,y:ue+ae.position.y*y+S.y+(he.targetPoint==="top"?-24:24)},Fe=(ve.y+Oe.y)/2;return s.jsx("path",{d:`M ${ve.x} ${ve.y} L ${ve.x} ${Fe} L ${Oe.x} ${Fe} L ${Oe.x} ${Oe.y}`,stroke:"hsl(var(--muted-foreground))",strokeWidth:"2",fill:"none",strokeDasharray:"6,6",className:"opacity-60",style:{animation:"flowLine 1s linear infinite"}},he.id)}),$&&O&&a.current&&(()=>{const he=ct(O.nodeId),pe=he.y+(O.point==="bottom"?24:-24),ae=Math.abs(pe-B.y)/4;return s.jsx("path",{d:`M ${he.x} ${pe} C ${he.x} ${pe+ae}, ${B.x} ${B.y-ae}, ${B.x} ${B.y}`,stroke:"hsl(var(--primary))",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",className:"opacity-60"})})()]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transform:`translate(${S.x}px, ${S.y}px) scale(${y})`,transformOrigin:"center center",transition:C?"none":"transform 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:s.jsx("div",{className:"relative w-full h-full",children:m.map(he=>s.jsxs("div",{className:"absolute select-none",style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${he.position.x}px), calc(-50% + ${he.position.y}px))`,pointerEvents:"auto"},children:[he.type!=="start"&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:pe=>Je(pe,he.id,"top"),onMouseUp:pe=>Ye(pe,he.id,"top")}),s.jsx("div",{className:"relative",onMouseDown:pe=>We(pe,he.id),children:he.type==="start"?s.jsxs(Z,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg cursor-grab",size:"lg",children:[s.jsx(gre,{className:"h-4 w-4 mr-2 fill-current"}),he.content]}):he.type==="trigger"?s.jsx("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg p-3 min-w-[240px] cursor-grab",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(It,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs(qe,{value:he.triggerType,onValueChange:pe=>P(he.id,pe),children:[s.jsx(Be,{className:"border-none bg-transparent p-0 h-auto font-medium focus:ring-0",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"time-on-page",children:"Time on Page"}),s.jsx(oe,{value:"click",children:"Click Event"}),s.jsx(oe,{value:"scroll",children:"Scroll Depth"}),s.jsx(oe,{value:"message",children:"Message Received"})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:he.triggerValue||"5s"})]}),s.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:pe=>{pe.stopPropagation(),X(he.id)},onMouseDown:pe=>pe.stopPropagation(),children:s.jsx(hn,{className:"h-4 w-4"})})]})}):he.type==="action"?s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-lg shadow-lg min-w-[240px]",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-grab",onClick:pe=>{(pe.target===pe.currentTarget||pe.target.closest(".node-header"))&&_(j===he.id?null:he.id)},children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center node-header",children:s.jsx(Sn,{className:"h-5 w-5 text-primary"})}),s.jsx("div",{className:"flex-1 min-w-0 node-header",children:s.jsx("div",{className:"font-medium",children:"Show Message"})}),s.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:pe=>{pe.stopPropagation(),X(he.id)},onMouseDown:pe=>pe.stopPropagation(),children:s.jsx(hn,{className:"h-4 w-4"})}),s.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 node-header",onClick:pe=>{pe.stopPropagation(),_(j===he.id?null:he.id)},onMouseDown:pe=>pe.stopPropagation(),children:j===he.id?s.jsx(H8,{className:"h-4 w-4"}):s.jsx(Kg,{className:"h-4 w-4"})})]}),j===he.id&&s.jsxs("div",{className:"px-3 pb-3 space-y-3 border-t border-border/50 pt-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsxs(qe,{value:he.actionType,onValueChange:pe=>z(he.id,pe),children:[s.jsx(Be,{className:"w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation(),children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"show-message",children:"Show Message"}),s.jsx(oe,{value:"send-email",children:"Send Email"}),s.jsx(oe,{value:"webhook",children:"Call Webhook"}),s.jsx(oe,{value:"redirect",children:"Redirect"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Message"}),s.jsx(bt,{value:he.actionValue||"",onChange:pe=>q(he.id,pe.target.value),placeholder:" Hi there! How can I help you today?",className:"min-h-[80px] resize-none",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delay (ms)"}),s.jsx(le,{type:"number",value:he.actionDelay||0,onChange:pe=>te(he.id,parseInt(pe.target.value)||0),placeholder:"0",className:"w-full",onClick:pe=>pe.stopPropagation(),onMouseDown:pe=>pe.stopPropagation()})]})]})]}):s.jsx(Z,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg cursor-grab",size:"lg",children:he.content})}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-muted-foreground/50 border-2 border-background hover:bg-primary hover:scale-110 transition-all cursor-crosshair z-10",onMouseDown:pe=>Je(pe,he.id,"bottom"),onMouseUp:pe=>Ye(pe,he.id,"bottom")})]},he.id))})}),s.jsxs("div",{className:"absolute bottom-6 left-6 flex flex-col bg-card border rounded-lg shadow-lg overflow-hidden",children:[s.jsx(Z,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:V,children:s.jsx(_re,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(Z,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:se,children:s.jsx(Nre,{className:"h-4 w-4"})}),s.jsx("div",{className:"border-t"}),s.jsx(Z,{variant:"ghost",size:"icon",className:"rounded-none hover:bg-accent",onClick:ee,children:s.jsx(bP,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"absolute bottom-6 left-24 bg-card border rounded-lg shadow-lg px-3 py-2 text-sm text-muted-foreground",children:[Math.round(y*100),"%"]})]})]})}function YUe(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),{toast:a}=wn(),{data:i,isLoading:o}=Vie({queryKey:["chatbots"],queryFn:async()=>{const{data:{user:u}}=await J.auth.getUser();if(!u)throw new Error("Not authenticated");const{data:d,error:h}=await J.from("chatbots").select("id, name").eq("user_id",u.id).order("created_at",{ascending:!1});if(h)throw h;return d}}),l=i==null?void 0:i.find(u=>u.id===e),c=()=>{if(!e){a({title:"Select a chatbot",description:"Please select a chatbot first to create a flow.",variant:"destructive"});return}r(!0)};return n&&l?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(KUe,{chatbotId:l.id,chatbotName:l.name,onBack:()=>r(!1)})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Conversation Flows"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Create custom conversation flows for your chatbots"})]}),s.jsxs(Z,{onClick:c,disabled:!e,children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Create Flow"]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-5 w-5"}),"Select Chatbot"]}),s.jsx(ye,{children:"Choose a chatbot to manage its conversation flows"})]}),s.jsx(Y,{children:s.jsxs(qe,{value:e,onValueChange:t,children:[s.jsx(Be,{className:"w-full",children:s.jsx(Ve,{placeholder:"Select a chatbot..."})}),s.jsx(Ue,{children:o?s.jsx(oe,{value:"loading",disabled:!0,children:"Loading chatbots..."}):i&&i.length>0?i.map(u=>s.jsx(oe,{value:u.id,children:u.name},u.id)):s.jsx(oe,{value:"none",disabled:!0,children:"No chatbots available"})})]})})]}),l&&s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(zS,{className:"h-5 w-5"}),"Flows for ",l.name]}),s.jsx(ye,{children:"Manage conversation flows for this chatbot"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(zS,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No flows yet"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Create your first conversation flow to guide users through custom interactions"}),s.jsxs(Z,{onClick:c,children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Create Your First Flow"]})]})})]})]})}function JUe(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[a,i]=v.useState(!1),{signIn:o,signInWithGoogle:l}=Ns(),c=ts(),{resolvedTheme:u}=dw(),d=async f=>{f.preventDefault(),i(!0);try{const{error:m}=await o(e,n);m?_e.error(m.message||"Failed to sign in"):(_e.success("Signed in successfully"),c("/customer-dashboard"))}catch{_e.error("An unexpected error occurred")}finally{i(!1)}},h=async()=>{const{error:f}=await l();f&&_e.error(f.message||"Failed to sign in with Google")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:u==="dark"?ar:Wc,alt:"Voxtro",className:"h-32"})})}),s.jsxs(H,{className:"border-0 shadow-lg",children:[s.jsxs(ne,{className:"text-center",children:[s.jsxs(re,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(hi,{className:"h-5 w-5 text-primary"}),"Customer Portal"]}),s.jsx(ye,{children:"Sign in to access your AI agent analytics"})]}),s.jsxs(Y,{children:[s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email"}),s.jsx(le,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:f=>t(f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"password",children:"Password"}),s.jsx(le,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),required:!0})]}),s.jsx(Z,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsxs(Z,{type:"button",variant:"outline",onClick:h,className:"w-full",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Contact your AI agent provider for access credentials"})})]})]})]})})}const XUe=[{title:"Dashboard",url:"/customer-dashboard",icon:X8},{title:"Chatbots",url:"/customer-dashboard/conversations",icon:yt},{title:"Voice Assistants",url:"/customer-dashboard/voice-assistants",icon:Ot},{title:"WhatsApp Agents",url:"/customer-dashboard/whatsapp-agents",icon:Ut},{title:"Leads",url:"/customer-dashboard/leads",icon:Gn},{title:"Support Tickets",url:"/customer-dashboard/support-tickets",icon:ma},{title:"Forms",url:"/customer-dashboard/forms",icon:In},{title:"Analytics",url:"/customer-dashboard/analytics",icon:po},{title:"Settings",url:"/customer-dashboard/settings",icon:gs}];function QUe({customLogo:e}){const{state:t}=vf(),n=fi(),{customer:r,signOut:a}=Ns(),{theme:i}=fv(),o=n.pathname,l=t==="collapsed",c=m=>m==="/customer-dashboard"?o===m:o.startsWith(m),u=m=>c(m)?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/50",d=async()=>{await a(),_e.success("Signed out successfully")},f=e||(i==="dark"?"https://ik.imagekit.io/wrewtbha2/Voxtro%20(1920%20x%201080%20px)%20(2).svg?updatedAt=1758764294633":Wc);return s.jsxs(ZP,{className:l?"w-14":"w-64",collapsible:"icon",children:[s.jsx(mq,{className:"border-b p-4 bg-white dark:bg-sidebar",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:f,alt:"Company Logo",className:"h-8 w-auto max-w-full object-contain"})})}),s.jsxs(eA,{children:[s.jsxs(qp,{children:[s.jsx(yb,{children:"Navigation"}),s.jsx(Vp,{children:s.jsx(Dd,{children:XUe.map(m=>s.jsx(Id,{children:s.jsx($d,{asChild:!0,children:s.jsxs(fC,{to:m.url,end:m.url==="/customer-dashboard",className:u(m.url),children:[s.jsx(m.icon,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:m.title})]})})},m.title))})})]}),s.jsx(qp,{className:"mt-auto",children:s.jsx(Vp,{children:s.jsx(Dd,{children:s.jsx(Id,{children:s.jsx($d,{asChild:!0,children:s.jsxs(Z,{variant:"ghost",onClick:d,className:"w-full justify-start",children:[s.jsx(Q8,{className:"h-4 w-4"}),!l&&s.jsx("span",{children:"Sign Out"})]})})})})})})]})]})}const _m={logo_url:null,primary_color:"#f97316",secondary_color:"#ea580c"},kK=v.createContext({branding:null,loading:!0});function ZUe({children:e}){const[t,n]=v.useState(null),[r,a]=v.useState(!0);v.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{user:o}}=await J.auth.getUser();if(!(o!=null&&o.email)){n(_m),a(!1);return}const{data:l}=await J.from("customers").select("id").eq("email",o.email).maybeSingle();if(l){const{data:c}=await J.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",l.id).limit(1).maybeSingle();if(c){const{data:u}=await J.from("chatbots").select("user_id").eq("id",c.chatbot_id).single();if(u){const{data:d}=await J.from("branding_settings").select("logo_url, primary_color, secondary_color").eq("user_id",u.user_id).maybeSingle();if(d){n({logo_url:d.logo_url,primary_color:d.primary_color||_m.primary_color,secondary_color:d.secondary_color||_m.secondary_color}),a(!1);return}}}}n(_m)}catch(o){console.error("Error fetching branding:",o),n(_m)}finally{a(!1)}};return s.jsx(kK.Provider,{value:{branding:t,loading:r},children:e})}function eze(){const e=v.useContext(kK);if(e===void 0)throw new Error("useBranding must be used within a BrandingProvider");return e}function E3(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,a=Math.max(t,n,r),i=Math.min(t,n,r);let o=0,l=0;const c=(a+i)/2;if(a!==i){const u=a-i;switch(l=c>.5?u/(2-a-i):u/(a+i),a){case t:o=((n-r)/u+(n<r?6:0))/6;break;case n:o=((r-t)/u+2)/6;break;case r:o=((t-n)/u+4)/6;break}}return`${Math.round(o*360)} ${Math.round(l*100)}% ${Math.round(c*100)}%`}function tze(){const{customer:e,loading:t}=Ns(),{branding:n,loading:r}=eze();return v.useEffect(()=>{const a="https://voxtro-backend.onrender.com",i=document.createElement("script");return i.src=`${a}/api/widget/90e3f339-4025-4f62-bb91-03366abcfa40/script.js?v=`+Date.now(),i.async=!0,document.head.appendChild(i),()=>{i.parentNode&&i.parentNode.removeChild(i);const o=document.getElementById("voxtro-widget");o&&o.remove()}},[]),v.useEffect(()=>{if(n){const a=document.documentElement,i=E3(n.primary_color);return E3(n.secondary_color),a.style.setProperty("--primary",i),a.style.setProperty("--sidebar-primary",i),a.style.setProperty("--sidebar-accent",i),()=>{a.style.removeProperty("--primary"),a.style.removeProperty("--sidebar-primary"),a.style.removeProperty("--sidebar-accent")}}},[n]),t||r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?s.jsx(QP,{children:s.jsxs("div",{className:"min-h-screen flex w-full bg-muted/10",children:[s.jsx(QUe,{customLogo:n==null?void 0:n.logo_url}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex items-center px-6 sticky top-0 z-50 shadow-sm",children:[s.jsx($w,{className:"hover:bg-muted/50 transition-colors"}),s.jsx("div",{className:"ml-4 flex-1",children:s.jsxs("h1",{className:"font-semibold text-lg bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:["Welcome back, ",s.jsx("span",{className:"text-primary",children:e.full_name})]})})]}),s.jsx("main",{className:"flex-1 p-8",children:s.jsx(Ooe,{})})]})]})}):s.jsx(Ks,{to:"/customer-login",replace:!0})}function nze(){return s.jsx(ZUe,{children:s.jsx(tze,{})})}function kE({customerId:e,customerName:t,customerEmail:n,onTicketCreated:r,trigger:a}){const[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,f]=v.useState("medium"),[m,g]=v.useState(!1),p=async x=>{if(x.preventDefault(),!l.trim()||!u.trim()){_e.error("Please fill in all required fields");return}g(!0);try{await u5e({subject:l.trim(),description:u.trim(),priority:h}),_e.success("Support ticket created successfully"),c(""),d(""),f("medium"),o(!1),r==null||r()}catch(y){console.error("Error creating ticket:",y),_e.error("Failed to create support ticket")}finally{g(!1)}};return s.jsxs(or,{open:i,onOpenChange:o,children:[s.jsx(Ff,{asChild:!0,children:a||s.jsxs(Z,{children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Ticket"]})}),s.jsxs(Kn,{className:"sm:max-w-[500px]",children:[s.jsxs(Yn,{children:[s.jsx(Jn,{children:"Create Support Ticket"}),s.jsx(Ro,{children:"Describe your issue and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"subject",children:["Subject ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(le,{id:"subject",placeholder:"Brief summary of your issue",value:l,onChange:x=>c(x.target.value),disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"priority",children:"Priority"}),s.jsxs(qe,{value:h,onValueChange:f,disabled:m,children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select priority"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"low",children:"Low"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"description",children:["Description ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(bt,{id:"description",placeholder:"Please describe your issue in detail...",value:u,onChange:x=>d(x.target.value),rows:5,disabled:m})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(Z,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:m,children:"Cancel"}),s.jsxs(Z,{type:"submit",disabled:m||!l.trim()||!u.trim(),children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),m?"Creating...":"Create Ticket"]})]})]})]})]})}const rze={voice:{icon:Ot,iconColor:"text-chart-5",bgGradient:"from-chart-5/20 via-chart-5/5 to-transparent",title:"Voice Assistants",subtitle:"Transform Your Customer Calls",description:"AI-powered voice assistants that handle calls 24/7, qualify leads, and schedule appointments with natural conversations.",features:[{icon:J8,title:"24/7 Availability",description:"Never miss a call. Your AI assistant is always ready to help customers."},{icon:Ul,title:"Instant Response",description:"Zero wait times. Customers get immediate, accurate answers."},{icon:po,title:"Call Analytics",description:"Full transcripts, recordings, and insights from every conversation."},{icon:vh,title:"Multi-Language",description:"Support customers in multiple languages automatically."}],stats:[{value:"90%",label:"Call Resolution Rate"},{value:"24/7",label:"Availability"},{value:"< 1s",label:"Response Time"}]},whatsapp:{icon:Ut,iconColor:"text-green-500",bgGradient:"from-green-500/20 via-green-500/5 to-transparent",title:"WhatsApp Agents",subtitle:"Meet Customers Where They Are",description:"Engage billions of WhatsApp users with AI agents that handle inquiries, process orders, and provide supportall within the world's most popular messaging app.",features:[{icon:Gn,title:"Massive Reach",description:"Connect with 2+ billion active WhatsApp users worldwide."},{icon:It,title:"Instant Replies",description:"Respond to messages instantly, any time of day or night."},{icon:Bl,title:"Secure & Private",description:"End-to-end encryption keeps conversations safe."},{icon:So,title:"Conversion Boost",description:"Higher engagement rates than email or traditional channels."}],stats:[{value:"98%",label:"Open Rate"},{value:"45%",label:"Higher Engagement"},{value:"3x",label:"Faster Resolution"}]},chatbot:{icon:yt,iconColor:"text-primary",bgGradient:"from-primary/20 via-primary/5 to-transparent",title:"AI Chatbots",subtitle:"Supercharge Your Website",description:"Intelligent chatbots that engage visitors, answer questions, capture leads, and provide personalized supportturning your website into a 24/7 sales and support machine.",features:[{icon:hi,title:"Smart Conversations",description:"AI that understands context and provides relevant answers."},{icon:So,title:"Lead Capture",description:"Automatically qualify and capture leads from website visitors."},{icon:It,title:"Reduce Wait Times",description:"Instant answers mean happier customers and less support load."},{icon:po,title:"Deep Insights",description:"Understand what your customers are asking and improve over time."}],stats:[{value:"67%",label:"Support Deflection"},{value:"40%",label:"Lead Increase"},{value:"24/7",label:"Availability"}]}};function qd({type:e,compact:t=!1}){const n=rze[e],r=n.icon,a=()=>{window.location.href="mailto:info@voxtro.io?subject=Interested in "+n.title};return t?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx("div",{className:`p-4 rounded-full w-fit mx-auto mb-4 bg-gradient-to-br ${n.bgGradient}`,children:s.jsx(r,{className:`h-10 w-10 ${n.iconColor}`})}),s.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["No ",n.title.toLowerCase()," assigned"]}),s.jsxs("p",{className:"text-muted-foreground text-sm max-w-md mx-auto mb-4",children:[n.description.substring(0,120),"..."]}),s.jsxs(Z,{onClick:a,size:"sm",children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Contact Sales"]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:`relative overflow-hidden rounded-2xl bg-gradient-to-br ${n.bgGradient} border`,children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),s.jsxs("div",{className:"relative p-8 md:p-12",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[s.jsx("div",{className:`p-5 rounded-2xl bg-gradient-to-br ${n.bgGradient} border shadow-lg`,children:s.jsx(r,{className:`h-12 w-12 ${n.iconColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Pe,{variant:"secondary",className:"mb-3",children:[s.jsx(hi,{className:"h-3 w-3 mr-1"}),"Available for Your Account"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.subtitle}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:n.description})]})]}),s.jsx("div",{className:"flex flex-wrap gap-6 mt-8 pt-8 border-t border-border/50",children:n.stats.map((i,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-3xl font-bold ${n.iconColor}`,children:i.value}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.label})]},o))})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.features.map((i,o)=>{const l=i.icon;return s.jsx(H,{className:"group hover:shadow-md transition-all duration-300 hover:border-primary/30",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${n.bgGradient} group-hover:scale-110 transition-transform`,children:s.jsx(l,{className:`h-5 w-5 ${n.iconColor}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:i.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})})},o)})}),s.jsx(H,{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",children:s.jsx(Y,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ready to Get Started?"}),s.jsxs("p",{className:"text-muted-foreground",children:["Contact our sales team to add ",n.title.toLowerCase()," to your account and start seeing results immediately."]})]}),s.jsxs(Z,{onClick:a,size:"lg",className:"shrink-0 gap-2",children:[s.jsx(si,{className:"h-5 w-5"}),"Contact Sales",s.jsx(Gne,{className:"h-4 w-4"})]})]})})})]})}function sze(){const{customer:e}=Ns(),t=ts(),[n,r]=v.useState([]),[a,i]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(null),[g,p]=v.useState([]),[x,y]=v.useState([]),[b,j]=v.useState(null),[_,S]=v.useState(!0);v.useEffect(()=>{e&&N()},[e]);const N=async()=>{if(e)try{const{data:I,error:E}=await J.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name,
            description,
            theme_color
          )
        `).eq("customer_id",e.id);if(E)throw E;const L=(I==null?void 0:I.map(Ge=>Ge.chatbot_id))||[],{data:U,error:F}=await J.from("conversations").select("chatbot_id").in("chatbot_id",L),{data:$,error:M}=await J.from("messages").select("conversation_id, conversations!inner(chatbot_id)").in("conversations.chatbot_id",L);if(F||M)throw F||M;const O=(I==null?void 0:I.map(Ge=>{const rt=Ge.chatbots,Tt=(U==null?void 0:U.filter(ce=>ce.chatbot_id===rt.id).length)||0,Zt=($==null?void 0:$.filter(ce=>{var Ee;return((Ee=ce.conversations)==null?void 0:Ee.chatbot_id)===rt.id}).length)||0;return{id:rt.id,name:rt.name,description:rt.description,theme_color:rt.theme_color,conversation_count:Tt,message_count:Zt,last_activity:null}}))||[];r(O);const R=(U==null?void 0:U.length)||0,B=($==null?void 0:$.length)||0;u({total_conversations:R,total_messages:B,avg_conversation_length:R>0?Math.round(B/R):0});const{data:T,error:G}=await J.from("customer_assistant_assignments").select(`
          id,
          assistant_id,
          voice_assistants (
            id,
            name,
            first_message,
            voice_provider,
            phone_number
          )
        `).eq("customer_id",e.id);if(G)throw G;const W=(T==null?void 0:T.map(Ge=>Ge.assistant_id).filter(Boolean))||[];let w=[],A=null;if(W.length>0){const{data:Ge,error:rt}=await J.from("voice_assistant_calls").select("assistant_id, phone_number, duration_seconds, ended_at, status").in("assistant_id",W);w=Ge||[],A=rt}if(A)throw A;const P=(T==null?void 0:T.map(Ge=>{const rt=Ge.voice_assistants,Tt=(w==null?void 0:w.filter(Ee=>Ee.assistant_id===Ge.assistant_id||rt.phone_number&&Ee.phone_number===rt.phone_number))||[],ce=Tt.filter(Ee=>Ee.duration_seconds!=null&&Ee.duration_seconds>0).reduce((Ee,be)=>Ee+(be.duration_seconds||0),0);return{...Ge,call_count:Tt.length,total_duration:ce}}))||[];i(P);const z=(w==null?void 0:w.length)||0,q=(w==null?void 0:w.filter(Ge=>Ge.duration_seconds!=null&&Ge.duration_seconds>0))||[],te=q.reduce((Ge,rt)=>Ge+(rt.duration_seconds||0),0),X=q.length,V=z>0?Math.round(X/z*100):0;h({total_calls:z,total_duration:te,avg_duration:q.length>0?Math.round(te/q.length):0,success_rate:V});const{data:se,error:ee}=await J.from("customer_whatsapp_agent_assignments").select(`
          id,
          agent_id,
          whatsapp_agents (
            id,
            name,
            phone_number,
            status
          )
        `).eq("customer_id",e.id);if(ee)throw ee;const ge=(se==null?void 0:se.map(Ge=>Ge.agent_id).filter(Boolean))||[];let Se=[],ze=0;if(ge.length>0){const{data:Ge,error:rt}=await J.from("whatsapp_conversations").select("id, agent_id").in("agent_id",ge);if(rt)throw rt;Se=Ge||[];const Tt=Se.map(Zt=>Zt.id);if(Tt.length>0){const{count:Zt,error:ce}=await J.from("whatsapp_messages").select("*",{count:"exact",head:!0}).in("conversation_id",Tt);if(ce)throw ce;ze=Zt||0}}const We=(se==null?void 0:se.map(Ge=>{const rt=Ge.whatsapp_agents,Tt=Se.filter(Zt=>Zt.agent_id===Ge.agent_id);return{...Ge,conversation_count:Tt.length,message_count:0}}))||[];l(We);const Le=Se.length;m({total_conversations:Le,total_messages:ze,avg_messages_per_conversation:Le>0?Math.round(ze/Le):0});const{data:Je,error:Ye}=await J.from("support_tickets").select("id, subject, status, priority, created_at, updated_at").eq("customer_id",e.id).order("updated_at",{ascending:!1}).limit(5);if(Ye)throw Ye;const ct=(Je==null?void 0:Je.map(Ge=>Ge.id))||[];let he=[];if(ct.length>0){const{data:Ge,error:rt}=await J.from("support_ticket_messages").select("ticket_id, sender_type, created_at").in("ticket_id",ct).eq("sender_type","admin").order("created_at",{ascending:!1});rt?he=(Je==null?void 0:Je.map(Tt=>({...Tt,has_unread_replies:!1})))||[]:he=(Je==null?void 0:Je.map(Tt=>({...Tt,has_unread_replies:(Ge==null?void 0:Ge.some(Zt=>Zt.ticket_id===Tt.id&&new Date(Zt.created_at)>new Date(Tt.updated_at)))||!1})))||[]}else he=[];p(he);let pe=[],ae=0,Ne=0,tt=0;if(L.length>0){const{count:Ge}=await J.from("leads").select("*",{count:"exact",head:!0}).eq("source_type","chatbot").in("source_id",L);ae=Ge||0;const{data:rt,error:Tt}=await J.from("leads").select("id, name, email, phone_number, source_type, source_name, extracted_at").eq("source_type","chatbot").in("source_id",L).order("extracted_at",{ascending:!1}).limit(10);!Tt&&rt&&(pe=[...pe,...rt])}if(W.length>0){const{count:Ge}=await J.from("leads").select("*",{count:"exact",head:!0}).eq("source_type","voice").in("source_id",W);Ne=Ge||0;const{data:rt,error:Tt}=await J.from("leads").select("id, name, email, phone_number, source_type, source_name, extracted_at").eq("source_type","voice").in("source_id",W).order("extracted_at",{ascending:!1}).limit(10);!Tt&&rt&&(pe=[...pe,...rt])}if(ge.length>0){const{count:Ge}=await J.from("leads").select("*",{count:"exact",head:!0}).eq("source_type","whatsapp").in("source_id",ge);tt=Ge||0;const{data:rt,error:Tt}=await J.from("leads").select("id, name, email, phone_number, source_type, source_name, extracted_at").eq("source_type","whatsapp").in("source_id",ge).order("extracted_at",{ascending:!1}).limit(10);!Tt&&rt&&(pe=[...pe,...rt])}pe.sort((Ge,rt)=>new Date(rt.extracted_at).getTime()-new Date(Ge.extracted_at).getTime()),y(pe.slice(0,5));const ue=R>0?Math.round(ae/R*100):0,ve=((w==null?void 0:w.length)||0)>0?Math.round(Ne/w.length*100):0,Oe=Le>0?Math.round(tt/Le*100):0,Fe=R+((w==null?void 0:w.length)||0)+Le,nt=ae+Ne+tt,sn=Fe>0?Math.round(nt/Fe*100):0;j({chatbot:ue,voice:ve,whatsapp:Oe,overall:sn})}catch(I){console.error("Error fetching customer data:",I),_e.error("Failed to load dashboard data")}finally{S(!1)}},C=I=>{const E=Math.floor(I/60),L=I%60;return`${E}m ${L}s`},k=I=>{switch(I.toLowerCase()){case"open":return"bg-yellow-500/10 text-yellow-600 border-yellow-500/20";case"in_progress":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"resolved":return"bg-green-500/10 text-green-600 border-green-500/20";case"closed":return"bg-muted text-muted-foreground border-muted";default:return"bg-muted text-muted-foreground border-muted"}};if(_)return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[...Array(4)].map((I,E)=>s.jsx("div",{className:"h-20 bg-muted rounded-lg animate-pulse"},E))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((I,E)=>s.jsx("div",{className:"h-48 bg-muted rounded-lg animate-pulse"},E))})]});const D=g.filter(I=>I.status==="open"||I.status==="in_progress");return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Overview of your AI agents and support activity"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(yt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbots"}),s.jsx("p",{className:"text-xl font-bold",children:n.length})]})]})}),s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-chart-5/10 rounded-lg",children:s.jsx(Ot,{className:"h-4 w-4 text-chart-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice Assistants"}),s.jsx("p",{className:"text-xl font-bold",children:a.length})]})]})}),s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Ut,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-xl font-bold",children:o.length})]})]})}),s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg",children:s.jsx(ma,{className:"h-4 w-4 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Open Tickets"}),s.jsx("p",{className:"text-xl font-bold",children:D.length})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(H,{className:"lg:col-span-2",children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4 text-primary"}),s.jsx(re,{className:"text-base",children:"Chatbot Analytics"})]})}),s.jsx(Y,{children:n.length===0?s.jsx(qd,{type:"chatbot",compact:!0}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:(c==null?void 0:c.total_conversations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:(c==null?void 0:c.total_messages)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold",children:(c==null?void 0:c.avg_conversation_length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg/Conv"})]})]}),s.jsx("div",{className:"space-y-2",children:n.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:I.theme_color||"hsl(var(--primary))"}}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:I.name}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:I.description||"No description"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:I.conversation_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"convos"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:I.message_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"msgs"})]})]})]},I.id))})]})})]}),s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4 text-yellow-500"}),s.jsx(re,{className:"text-base",children:"Support Tickets"})]}),D.length>0&&s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:[D.length," open"]})]})}),s.jsx(Y,{children:g.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(ma,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm mb-3",children:"No support tickets yet"}),s.jsx(kE,{customerId:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.full_name)||"",customerEmail:(e==null?void 0:e.email)||"",onTicketCreated:N,trigger:s.jsxs(Z,{size:"sm",variant:"outline",children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})})]}):s.jsx("div",{className:"space-y-2",children:g.map(I=>s.jsx("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[I.has_unread_replies&&s.jsx(Qne,{className:"h-3 w-3 text-primary flex-shrink-0"}),s.jsx("p",{className:"text-sm font-medium truncate",children:I.subject})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:bI(new Date(I.updated_at),{addSuffix:!0})})]}),s.jsx(Pe,{variant:"outline",className:`text-xs flex-shrink-0 ${k(I.status)}`,children:I.status.replace("_"," ")})]})},I.id))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(H,{className:"lg:col-span-2",children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"h-4 w-4 text-chart-2"}),s.jsx(re,{className:"text-base",children:"Recent Leads"})]}),x.length>0&&s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>t("/customer/leads"),className:"text-xs",children:"View All"})]})}),s.jsx(Y,{children:x.length===0?s.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[s.jsx(Gn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No leads captured yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Leads are automatically extracted from your conversations"})]}):s.jsx("div",{className:"space-y-2",children:x.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"p-2 bg-chart-2/10 rounded-full flex-shrink-0",children:s.jsx(Gn,{className:"h-3 w-3 text-chart-2"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:I.name||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:I.phone_number||I.email||"No contact info"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Pe,{variant:"outline",className:`text-xs ${I.source_type==="chatbot"?"bg-primary/10 text-primary border-primary/20":I.source_type==="voice"?"bg-chart-5/10 text-chart-5 border-chart-5/20":"bg-green-500/10 text-green-600 border-green-500/20"}`,children:I.source_type==="chatbot"?"Chat":I.source_type==="voice"?"Voice":"WhatsApp"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:bI(new Date(I.extracted_at),{addSuffix:!0})})]})]},I.id))})})]}),s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uw,{className:"h-4 w-4 text-chart-1"}),s.jsx(re,{className:"text-base",children:"Conversion Rates"})]})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center p-4 bg-chart-1/10 rounded-lg",children:[s.jsxs("p",{className:"text-3xl font-bold text-chart-1",children:[(b==null?void 0:b.overall)||0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Overall Conversion Rate"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm",children:"Chatbot"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${Math.min((b==null?void 0:b.chatbot)||0,100)}%`}})}),s.jsxs("span",{className:"text-sm font-medium w-10 text-right",children:[(b==null?void 0:b.chatbot)||0,"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-chart-5"}),s.jsx("span",{className:"text-sm",children:"Voice"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-chart-5 rounded-full transition-all",style:{width:`${Math.min((b==null?void 0:b.voice)||0,100)}%`}})}),s.jsxs("span",{className:"text-sm font-medium w-10 text-right",children:[(b==null?void 0:b.voice)||0,"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"WhatsApp"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all",style:{width:`${Math.min((b==null?void 0:b.whatsapp)||0,100)}%`}})}),s.jsxs("span",{className:"text-sm font-medium w-10 text-right",children:[(b==null?void 0:b.whatsapp)||0,"%"]})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Based on leads captured vs total interactions"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-chart-5"}),s.jsx(re,{className:"text-base",children:"Voice Assistants"})]})}),s.jsx(Y,{children:a.length===0?s.jsx(qd,{type:"voice",compact:!0}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:(d==null?void 0:d.total_calls)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:C((d==null?void 0:d.avg_duration)||0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"})]})]}),s.jsx("div",{className:"space-y-2",children:a.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:I.voice_assistants.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.call_count||0," calls  ",C(I.total_duration||0)]})]}),s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Voice Assistant"})]},I.id))})]})})]}),s.jsxs(H,{children:[s.jsx(ne,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4 text-green-500"}),s.jsx(re,{className:"text-base",children:"WhatsApp Agents"})]})}),s.jsx(Y,{children:o.length===0?s.jsx(qd,{type:"whatsapp",compact:!0}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:(f==null?void 0:f.total_conversations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xl font-bold",children:(f==null?void 0:f.total_messages)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages"})]})]}),s.jsx("div",{className:"space-y-2",children:o.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:I.whatsapp_agents.name||"Unnamed Agent"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.whatsapp_agents.phone_number||"No phone","  ",I.conversation_count||0," convos"]})]}),s.jsx(Pe,{variant:"secondary",className:`text-xs capitalize ${I.whatsapp_agents.status==="active"?"bg-green-500/10 text-green-600":""}`,children:I.whatsapp_agents.status||"Unknown"})]},I.id))})]})})]})]})]})}const aze=({onConversationSelect:e})=>{const{customer:t}=Ns(),[n,r]=v.useState([]),[a,i]=v.useState([]),[o,l]=v.useState("all"),[c,u]=v.useState(""),[d,h]=v.useState(!0),f=async()=>{if(!t)return;const{data:x,error:y}=await J.from("customer_chatbot_assignments").select(`
        chatbot_id,
        chatbots (
          id,
          name
        )
      `).eq("customer_id",t.id);if(y){_e.error("Failed to fetch chatbots");return}const b=(x==null?void 0:x.map(j=>({id:j.chatbots.id,name:j.chatbots.name})))||[];i(b)},m=async()=>{if(!t)return;h(!0);const{data:x}=await J.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",t.id),y=(x==null?void 0:x.map(C=>C.chatbot_id))||[];if(y.length===0){r([]),h(!1);return}let b=J.from("messages").select(`
        conversation_id,
        content,
        role,
        created_at,
        conversations!inner(
          id,
          chatbot_id,
          chatbots!inner(
            id,
            name
          )
        )
      `).in("conversations.chatbot_id",y).order("created_at",{ascending:!1});o!=="all"&&(b=b.eq("conversations.chatbot_id",o));const{data:j,error:_}=await b;if(_){console.error("Error fetching conversations:",_),_e.error("Failed to fetch conversations"),h(!1);return}const S=new Map;j==null||j.forEach(C=>{const k=C.conversation_id;S.has(k)||S.set(k,{messages:[],chatbot_name:C.conversations.chatbots.name,chatbot_id:C.conversations.chatbot_id}),S.get(k).messages.push(C)});const N=[];S.forEach((C,k)=>{const D=C.messages.sort((I,E)=>new Date(E.created_at).getTime()-new Date(I.created_at).getTime());if(D.length>0){const I=D[0],E={id:k,chatbot_name:C.chatbot_name,chatbot_id:C.chatbot_id,last_message:I.content,last_message_time:I.created_at,message_count:D.length,last_sender:I.role};(!c||E.last_message.toLowerCase().includes(c.toLowerCase())||E.chatbot_name.toLowerCase().includes(c.toLowerCase()))&&N.push(E)}}),N.sort((C,k)=>new Date(k.last_message_time).getTime()-new Date(C.last_message_time).getTime()),r(N),h(!1)};v.useEffect(()=>{f()},[t]),v.useEffect(()=>{m()},[t,o,c]);const g=x=>{const y=new Date(x),j=new Date().getTime()-y.getTime(),_=Math.floor(j/(1e3*60*60*24));return _===0?y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):_===1?"Yesterday":_<7?y.toLocaleDateString([],{weekday:"short"}):y.toLocaleDateString([],{month:"short",day:"numeric"})},p=(x,y=60)=>x.length>y?x.substring(0,y)+"...":x;return s.jsx("div",{className:"space-y-4",children:t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs(qe,{value:o,onValueChange:l,children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Filter by chatbot"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Chatbots"}),a.map(x=>s.jsx(oe,{value:x.id,children:x.name},x.id))]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search conversations...",value:c,onChange:x=>u(x.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto px-4",children:d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading conversations..."})}):n.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})}):s.jsx("div",{className:"space-y-3",children:n.map(x=>s.jsx(H,{className:"cursor-pointer hover:bg-accent/50 transition-colors border-l-4 border-l-primary",onClick:()=>e(x.id),children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("h4",{className:"font-semibold text-sm truncate",children:x.chatbot_name})]}),s.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2",children:[x.last_sender==="user"?" ":" ",p(x.last_message,100)]})]}),s.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:g(x.last_message_time)})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-primary/10 text-primary text-xs font-medium",children:[s.jsx(Sn,{className:"h-3 w-3"}),x.message_count]})})]})})},x.id))})})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Please log in to view conversations."})})})},ize=({conversationId:e,onBack:t})=>{const{customer:n}=Ns(),[r,a]=v.useState([]),[i,o]=v.useState(null),[l,c]=v.useState(!0),u=v.useRef(null),d=()=>{var g;(g=u.current)==null||g.scrollIntoView({behavior:"smooth"})},h=async()=>{if(!n||!e)return;c(!0);const{data:g}=await J.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",n.id),p=(g==null?void 0:g.map(_=>_.chatbot_id))||[];if(p.length===0){c(!1);return}const{data:x,error:y}=await J.from("conversations").select(`
        id,
        created_at,
        chatbot_id,
        summary,
        key_points,
        action_items,
        sentiment,
        sentiment_notes,
        conversation_outcome,
        topics_discussed,
        lead_info,
        chatbots!inner(
          name
        )
      `).eq("id",e).in("chatbot_id",p).single();if(y||!x){console.error("Error fetching conversation:",y),_e.error("Failed to fetch conversation"),c(!1);return}const{data:b,error:j}=await J.from("messages").select(`
        id,
        content,
        role,
        created_at
      `).eq("conversation_id",e).order("created_at",{ascending:!0});if(j){console.error("Error fetching messages:",j),_e.error("Failed to fetch messages"),c(!1);return}b&&b.length>0&&a(b.map(_=>({id:_.id,content:_.content,role:_.role,created_at:_.created_at}))),o({id:e,chatbot_name:x.chatbots.name,created_at:x.created_at,summary:x.summary,key_points:x.key_points,action_items:x.action_items,sentiment:x.sentiment,sentiment_notes:x.sentiment_notes,conversation_outcome:x.conversation_outcome,topics_discussed:x.topics_discussed,lead_info:x.lead_info}),c(!1)};v.useEffect(()=>{h()},[e,n]),v.useEffect(()=>{d()},[r]);const f=g=>new Date(g).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=g=>new Date(g).toLocaleDateString([],{weekday:"long",year:"numeric",month:"long",day:"numeric"});return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i?s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Sn,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:i.chatbot_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m(i.created_at),"  ",r.length," messages"]})]})]})}),i.summary&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm",children:i.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.sentiment&&s.jsxs(Pe,{variant:i.sentiment==="positive"?"default":i.sentiment==="negative"?"destructive":"secondary",children:[i.sentiment==="positive"&&s.jsx(Vr,{className:"h-3 w-3 mr-1"}),i.sentiment==="negative"&&s.jsx(ei,{className:"h-3 w-3 mr-1"}),i.sentiment.charAt(0).toUpperCase()+i.sentiment.slice(1)," Sentiment"]}),i.conversation_outcome&&s.jsxs(Pe,{variant:"outline",children:[s.jsx(uw,{className:"h-3 w-3 mr-1"}),i.conversation_outcome.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase())]})]}),i.sentiment_notes&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:i.sentiment_notes}),i.key_points&&i.key_points.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Sn,{className:"h-3 w-3"}),"Key Points"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:i.key_points.map((g,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1",children:""}),s.jsx("span",{children:g})]},p))})]}),i.action_items&&i.action_items.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Vr,{className:"h-3 w-3"}),"Action Items"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:i.action_items.map((g,p)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:""}),s.jsx("span",{children:g})]},p))})]}),i.topics_discussed&&i.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Topics Discussed"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.topics_discussed.map((g,p)=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:g},p))})]}),i.lead_info&&(i.lead_info.name||i.lead_info.email||i.lead_info.phone)&&s.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",i.lead_info.name]}),i.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",i.lead_info.email]}),i.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",i.lead_info.phone]}),i.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",i.lead_info.company]}),i.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(Pe,{variant:"outline",className:"text-xs",children:i.lead_info.interest_level})]})]}),i.lead_info.notes&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:i.lead_info.notes})]})]}),s.jsxs("div",{className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:[r.map(g=>s.jsxs("div",{className:`flex gap-3 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(yt,{className:"h-4 w-4 text-primary"})})}),s.jsxs("div",{className:`max-w-[75%] rounded-lg p-3 ${g.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:g.content}),s.jsx("p",{className:`text-xs mt-1 ${g.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:f(g.created_at)})]}),g.role==="user"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:s.jsx(Gs,{className:"h-4 w-4 text-primary-foreground"})})})]},g.id)),s.jsx("div",{ref:u})]})]}):s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-muted-foreground",children:"Conversation not found"})})};function oze(){const{customer:e}=Ns(),[t,n]=v.useState(null),[r,a]=v.useState([]),[i,o]=v.useState(!0);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:d,error:h}=await J.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name
          )
        `).eq("customer_id",e.id);if(h)throw h;if(((d==null?void 0:d.map(p=>p.chatbot_id))||[]).length===0){o(!1);return}const m=d.map(async p=>{const x=p.chatbot_id,y=p.chatbots.name,{data:b}=await J.from("conversations").select("id").eq("chatbot_id",x),j=(b==null?void 0:b.length)||0,{data:_}=await J.from("messages").select("id, conversation_id").in("conversation_id",(b==null?void 0:b.map(N=>N.id))||[]),S=(_==null?void 0:_.length)||0;return{id:x,name:y,totalConversations:j,totalMessages:S,avgMessagesPerConversation:j>0?Math.round(S/j):0}}),g=await Promise.all(m);a(g)}catch(d){console.error("Error fetching chatbot stats:",d),_e.error("Failed to load chatbot analytics")}finally{o(!1)}},c=d=>{n(d)},u=()=>{n(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Conversations"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all conversations from your chatbots"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i?s.jsx(H,{className:"col-span-full",children:s.jsx(Y,{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading analytics..."})})}):r.length===0?s.jsx("div",{className:"col-span-full",children:s.jsx(qd,{type:"chatbot"})}):r.map(d=>s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:d.name}),s.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Conversations"]}),s.jsx("div",{className:"text-2xl font-bold",children:d.totalConversations})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(gh,{className:"h-4 w-4"}),"Total Messages"]}),s.jsx("div",{className:"text-lg font-semibold",children:d.totalMessages})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(So,{className:"h-4 w-4"}),"Avg per Conv."]}),s.jsx("div",{className:"text-lg font-semibold",children:d.avgMessagesPerConversation})]})]})})]},d.id))}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Recent Conversations"}),s.jsx(ye,{children:"Click on a conversation to view details"})]}),s.jsx(Y,{className:"p-0",children:s.jsx(aze,{onConversationSelect:c})})]}),s.jsx(cv,{open:!!t,onOpenChange:u,children:s.jsxs(gf,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(uv,{children:[s.jsx(dv,{children:"Conversation Details"}),s.jsx(hv,{children:"View the complete conversation history"})]}),t&&s.jsx(ize,{conversationId:t,onBack:u})]})})]})}function lze(){const{customer:e}=Ns(),{toast:t}=wn(),[n,r]=v.useState(!0),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,u]=v.useState([]),[d,h]=v.useState([]),[f,m]=v.useState(!1),[g,p]=v.useState(!1),[x,y]=v.useState(null),[b,j]=v.useState("");v.useEffect(()=>{e&&_()},[e]),v.useEffect(()=>{if(!e)return;const C=J.channel("voice-calls-changes").on("postgres_changes",{event:"*",schema:"public",table:"voice_assistant_calls",filter:`customer_id=eq.${e.id}`},D=>{console.log("Call log changed:",D),_()}).subscribe(),k=J.channel("voice-transcripts-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"voice_assistant_transcripts"},D=>{console.log("New transcript:",D),x&&D.new.call_id===x.id&&S(x.id)}).subscribe();return()=>{J.removeChannel(C),J.removeChannel(k)}},[e,x]);const _=async()=>{if(!a)try{i(!0);const{data:C,error:k}=await J.from("customer_assistant_assignments").select("assistant_id").eq("customer_id",e.id);if(k)throw k;if(!C||C.length===0){r(!1);return}const D=C.map(T=>T.assistant_id),{data:I,error:E}=await J.from("voice_assistants").select("*").in("id",D);if(E)throw E;const{data:L,error:U}=await J.from("voice_assistant_calls").select("*, summary, key_points, action_items, sentiment, sentiment_notes, call_outcome, topics_discussed, lead_info").in("assistant_id",D).order("started_at",{ascending:!1});if(U)throw U;const F=L||[],$=F.map(T=>T.id),{data:M}=await J.from("voice_assistant_recordings").select("call_id, recording_url").in("call_id",$),O=new Map((M==null?void 0:M.map(T=>[T.call_id,T.recording_url]))||[]),R=I.map(T=>{const G=F.filter(P=>P.assistant_id===T.id),W=G.filter(P=>P.duration_seconds!=null&&P.duration_seconds>0),w=W.reduce((P,z)=>P+(z.duration_seconds||0),0),A=G.filter(P=>P.status==="completed"||P.ended_at!=null).length;return{id:T.id,name:T.name||"Unnamed Assistant",first_message:T.first_message||"",totalCalls:G.length,completedCalls:A,totalDuration:w,avgDuration:W.length>0?Math.round(w/W.length):0}});l(R);const B=F.map(T=>{const G=I.find(W=>W.id===T.assistant_id);return{...T,assistant_name:(G==null?void 0:G.name)||"Unknown",assistant_id:T.assistant_id,recording_url:O.get(T.id),summary:T.summary,key_points:T.key_points,action_items:T.action_items,sentiment:T.sentiment,sentiment_notes:T.sentiment_notes,call_outcome:T.call_outcome,topics_discussed:T.topics_discussed,lead_info:T.lead_info}});u(B)}catch(C){console.error("Error fetching data:",C),t({title:"Error",description:"Failed to load voice assistant data",variant:"destructive"})}finally{r(!1),i(!1)}},S=async C=>{m(!0);try{const{data:k,error:D}=await J.from("voice_assistant_transcripts").select("*").eq("call_id",C).order("timestamp",{ascending:!0});if(D)throw D;h(k||[])}catch(k){console.error("Error loading transcript:",k),t({title:"Error",description:"Failed to load transcript",variant:"destructive"})}finally{m(!1)}},N=C=>{const k=Math.floor(C/60),D=C%60;return`${k}m ${D}s`};return n?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.length===0?s.jsx(qd,{type:"voice"}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Voice Assistants"}),s.jsx("p",{className:"text-muted-foreground",children:"View analytics, call history, and transcripts for your voice assistants"})]}),a&&s.jsx(Pe,{variant:"secondary",className:"animate-pulse",children:"Updating..."})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Calls"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((C,k)=>C+k.totalCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all assistants"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Completed Calls"}),s.jsx(Ot,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.reduce((C,k)=>C+k.completedCalls,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully completed"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Duration"}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N(o.reduce((C,k)=>C+k.totalDuration,0))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined talk time"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Avg Call Duration"}),s.jsx(So,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(()=>{const C=o.reduce((D,I)=>D+I.totalDuration,0),k=o.reduce((D,I)=>D+I.completedCalls,0);return k>0?N(Math.round(C/k)):"0m 0s"})()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per completed call"})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Your Voice Assistants"}),s.jsx(ye,{children:"Overview of your assigned assistants and their performance"})]}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-4",children:o.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:C.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:C.first_message})]}),s.jsxs("div",{className:"flex gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:C.totalCalls}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Calls"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:N(C.totalDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Duration"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:N(C.avgDuration)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Duration"})]})]})]},C.id))})})]}),s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(re,{children:"Call History"}),s.jsx(ye,{children:"Complete history of all voice assistant calls"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search by phone number...",value:b,onChange:C=>j(C.target.value),className:"pl-9"})]})]})}),s.jsx(Y,{children:(()=>{const C=c.filter(k=>!b||k.phone_number&&k.phone_number.toLowerCase().includes(b.toLowerCase()));return C.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:b?"No calls match your search":"No calls recorded yet"}):s.jsx(Js,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:C.map(k=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{y(k),S(k.id),p(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:k.assistant_name}),s.jsx(Pe,{variant:k.status==="completed"?"default":"secondary",children:k.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(k.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),pt(new Date(k.started_at),"h:mm a")]}),s.jsxs("span",{children:["Duration: ",k.duration_seconds!=null&&k.ended_at?N(k.duration_seconds):"N/A"]}),k.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),k.phone_number]})]})]})},k.id))})})})()})]}),s.jsx(cv,{open:g,onOpenChange:p,children:s.jsxs(gf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(uv,{children:[s.jsx(dv,{children:"Call Details"}),s.jsx(hv,{children:x&&s.jsxs("div",{className:"text-sm space-y-1 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(x.started_at),"MMM d, yyyy")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-3 w-3"}),pt(new Date(x.started_at),"h:mm a")]}),x.phone_number&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-3 w-3"}),x.phone_number]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-3 w-3"}),"Duration: ",x.duration_seconds!=null&&x.ended_at?N(x.duration_seconds):"N/A"]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(x==null?void 0:x.summary)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Analysis"})]}),s.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm",children:x.summary})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.sentiment&&s.jsxs(Pe,{variant:x.sentiment==="positive"?"default":x.sentiment==="negative"?"destructive":"secondary",children:[x.sentiment==="positive"&&s.jsx(Vr,{className:"h-3 w-3 mr-1"}),x.sentiment==="negative"&&s.jsx(ei,{className:"h-3 w-3 mr-1"}),x.sentiment.charAt(0).toUpperCase()+x.sentiment.slice(1)," Sentiment"]}),x.call_outcome&&s.jsxs(Pe,{variant:"outline",children:[s.jsx(uw,{className:"h-3 w-3 mr-1"}),x.call_outcome.replace(/_/g," ").replace(/\b\w/g,C=>C.toUpperCase())]})]}),x.sentiment_notes&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:x.sentiment_notes}),x.key_points&&x.key_points.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Sn,{className:"h-3 w-3"}),"Key Points"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:x.key_points.map((C,k)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1",children:""}),s.jsx("span",{children:C})]},k))})]}),x.action_items&&x.action_items.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Vr,{className:"h-3 w-3"}),"Action Items"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:x.action_items.map((C,k)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:""}),s.jsx("span",{children:C})]},k))})]}),x.topics_discussed&&x.topics_discussed.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Topics Discussed"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:x.topics_discussed.map((C,k)=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:C},k))})]}),x.lead_info&&(x.lead_info.name||x.lead_info.email||x.lead_info.phone)&&s.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Lead Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[x.lead_info.name&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",x.lead_info.name]}),x.lead_info.email&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",x.lead_info.email]}),x.lead_info.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",x.lead_info.phone]}),x.lead_info.company&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",x.lead_info.company]}),x.lead_info.interest_level&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Interest:"})," ",s.jsx(Pe,{variant:"outline",className:"text-xs",children:x.lead_info.interest_level})]})]}),x.lead_info.notes&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:x.lead_info.notes})]})]}),(x==null?void 0:x.recording_url)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(J8,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Recording"})]}),s.jsxs("audio",{controls:!0,className:"w-full",autoPlay:!0,children:[s.jsx("source",{src:x.recording_url,type:"audio/wav"}),"Your browser does not support the audio element."]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),f?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this call"}):s.jsx("div",{className:"space-y-4",children:d.map(C=>s.jsx("div",{className:`flex gap-3 ${C.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${C.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:C.role==="assistant"?"Assistant":"User"}),s.jsx("p",{className:"text-sm",children:C.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:pt(new Date(C.timestamp),"h:mm:ss a")})]})},C.id))})]})]})]})})]})}function cze(){var S;const{customer:e}=Ns(),{toast:t}=wn(),[n,r]=v.useState(!0),[a,i]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(null),[f,m]=v.useState(null),[g,p]=v.useState(!1),[x,y]=v.useState("");v.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:N,error:C}=await J.from("customer_whatsapp_agent_assignments").select("agent_id").eq("customer_id",e==null?void 0:e.id);if(C)throw C;if(!N||N.length===0){r(!1);return}const k=N.map($=>$.agent_id),{data:D,error:I}=await J.from("whatsapp_agents").select("*").in("id",k);if(I)throw I;const{data:E,error:L}=await J.from("whatsapp_conversations").select("*").in("agent_id",k).order("started_at",{ascending:!1});if(L)throw L;const U=(D||[]).map($=>{const M=(E||[]).filter(O=>O.agent_id===$.id);return{id:$.id,name:$.name||"Unnamed Agent",phone_number:$.phone_number,totalConversations:M.length}});i(U);const F=(E||[]).map($=>{const M=D==null?void 0:D.find(O=>O.id===$.agent_id);return{conversation_id:$.id,agent_id:$.agent_id,agent_name:(M==null?void 0:M.name)||"Unknown",status:$.status||"unknown",start_time:new Date($.started_at).getTime()/1e3,end_time:$.ended_at?new Date($.ended_at).getTime()/1e3:void 0,duration_seconds:$.ended_at?Math.floor((new Date($.ended_at).getTime()-new Date($.started_at).getTime())/1e3):void 0,summary:$.summary,sentiment:$.sentiment,phone_number:$.phone_number}});l(F)}catch(N){console.error("Error fetching data:",N),t({title:"Error",description:"Failed to load WhatsApp agent data",variant:"destructive"})}finally{r(!1)}},j=async N=>{p(!0);try{const{data:C,error:k}=await J.from("whatsapp_messages").select("*").eq("conversation_id",N).order("timestamp",{ascending:!0});if(k)throw k;m({messages:C||[]})}catch(C){console.error("Error loading conversation details:",C),t({title:"Error",description:"Failed to load conversation details",variant:"destructive"})}finally{p(!1)}},_=N=>{const C=Math.floor(N/60),k=N%60;return`${C}m ${k}s`};return n?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ls,{className:"h-10 w-64"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(Ls,{className:"h-32"}),s.jsx(Ls,{className:"h-32"}),s.jsx(Ls,{className:"h-32"})]}),s.jsx(Ls,{className:"h-96"})]}):a.length===0?s.jsx(qd,{type:"whatsapp"}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"View conversations and transcripts from your WhatsApp agents"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Conversations"}),s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.reduce((N,C)=>N+C.totalConversations,0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all agents"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(So,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assigned to you"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Recent Activity"}),s.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.filter(N=>{const C=Date.now()/1e3-86400;return N.start_time>C}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations in last 24h"})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Your WhatsApp Agents"}),s.jsx(ye,{children:"Overview of your assigned agents"})]}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-4",children:a.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-500/10",children:s.jsx(Ut,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:N.name}),N.phone_number&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),N.phone_number]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:N.totalConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations"})]})]},N.id))})})]}),s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(re,{children:"Conversation History"}),s.jsx(ye,{children:"Complete history of all WhatsApp conversations"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search by phone number...",value:x,onChange:N=>y(N.target.value),className:"pl-9"})]})]})}),s.jsx(Y,{children:(()=>{const N=o.filter(C=>!x||C.phone_number&&C.phone_number.toLowerCase().includes(x.toLowerCase()));return N.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:x?"No conversations match your search":"No conversations yet"}):s.jsx(Js,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:N.map(C=>s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{h(C),j(C.conversation_id),u(!0)},children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:C.agent_name}),s.jsx(Pe,{variant:C.status==="done"||C.status==="completed"?"default":"secondary",children:C.status}),C.sentiment&&s.jsx(Pe,{variant:"outline",children:C.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[C.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),C.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(C.start_time*1e3),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),pt(new Date(C.start_time*1e3),"h:mm a")]}),C.duration_seconds&&s.jsxs("span",{children:["Duration: ",_(C.duration_seconds)]})]}),C.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:C.summary})]})},C.conversation_id))})})})()})]}),s.jsx(cv,{open:c,onOpenChange:u,children:s.jsxs(gf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(uv,{children:[s.jsx(dv,{children:"Conversation Details"}),s.jsx(hv,{children:d&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[d.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium",children:["+",d.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-3 w-3"}),d.agent_name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(d.start_time*1e3),"MMM d, yyyy h:mm a")]}),d.duration_seconds&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-3 w-3"}),"Duration: ",_(d.duration_seconds)]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(d==null?void 0:d.summary)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold",children:"Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.summary})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),g?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(S=f==null?void 0:f.messages)!=null&&S.length?s.jsx("div",{className:"space-y-4",children:f.messages.map((N,C)=>s.jsx("div",{className:`flex gap-3 ${N.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${N.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:N.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:N.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:pt(new Date(N.timestamp),"h:mm:ss a")})]})},C))}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"})]})]})]})})]})}const Uj=v.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",e),...t})}));Uj.displayName="Table";const zj=v.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:me("[&_tr]:border-b",e),...t}));zj.displayName="TableHeader";const qj=v.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",e),...t}));qj.displayName="TableBody";const uze=v.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));uze.displayName="TableFooter";const gu=v.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gu.displayName="TableRow";const Hr=v.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Hr.displayName="TableHead";const Gr=v.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Gr.displayName="TableCell";const dze=v.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",e),...t}));dze.displayName="TableCaption";function hze(){const{customer:e}=Ns(),[t,n]=v.useState([]),[r,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(null);v.useEffect(()=>{e&&u()},[e]);const u=async()=>{if(e)try{console.log("Fetching customer forms for customer:",e.id);const{data:g,error:p}=await J.from("chatbot_forms").select(`
          id,
          form_name,
          form_title,
          form_description,
          fields,
          terms_and_conditions,
          require_terms_acceptance,
          chatbots!inner (
            id,
            name,
            customer_chatbot_assignments!inner (
              customer_id
            )
          )
        `).eq("chatbots.customer_chatbot_assignments.customer_id",e.id).eq("is_active",!0);if(console.log("Forms data:",g,p),p)throw p;const x=await Promise.all((g||[]).map(async y=>{const{count:b}=await J.from("form_submissions").select("*",{count:"exact",head:!0}).eq("form_id",y.id);return{id:y.id,form_name:y.form_name,form_title:y.form_title,form_description:y.form_description,fields:y.fields,terms_and_conditions:y.terms_and_conditions,require_terms_acceptance:y.require_terms_acceptance||!1,chatbot_name:y.chatbots.name,submission_count:b||0}}));n(x)}catch(g){console.error("Error fetching customer forms:",g)}finally{o(!1)}},d=async g=>{try{const{data:p,error:x}=await J.from("form_submissions").select("*").eq("form_id",g).order("submitted_at",{ascending:!1});if(x)throw x;a(p||[])}catch(p){console.error("Error fetching form submissions:",p)}},h=g=>{c(g),d(g.id)},f=(g,p)=>{const y=(Array.isArray(p.fields)?p.fields:[]).find(b=>b.id===g);return(y==null?void 0:y.label)||g},m=(g,p)=>p?p.toString():"N/A";return i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading forms..."})]}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(In,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Forms Found"}),s.jsx("p",{className:"text-muted-foreground",children:"No forms have been created for your assigned chatbots yet."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Forms & Submissions"}),s.jsx("p",{className:"text-muted-foreground",children:"View forms from your assigned chatbots and their submissions"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>s.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(re,{className:"text-lg",children:g.form_title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",g.chatbot_name]})]}),s.jsxs(Pe,{variant:"secondary",children:[g.submission_count," submissions"]})]})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.form_description||"No description provided"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsxs("span",{children:[Array.isArray(g.fields)?g.fields.length:0," fields"]})]}),g.require_terms_acceptance&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:"Terms Required"})]}),g.require_terms_acceptance&&g.terms_and_conditions&&s.jsxs("div",{className:"p-2 bg-muted rounded text-xs",children:[s.jsx("strong",{children:"Terms:"})," ",g.terms_and_conditions.slice(0,100),g.terms_and_conditions.length>100&&"..."]}),s.jsxs(or,{children:[s.jsx(Ff,{asChild:!0,children:s.jsxs(Z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>h(g),children:[s.jsx(Sa,{className:"h-4 w-4 mr-2"}),"View Submissions"]})}),s.jsxs(Kn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Yn,{children:s.jsxs(Jn,{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-5 w-5"}),g.form_title," - Submissions"]})}),r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(In,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No submissions yet"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total submissions: ",r.length]}),s.jsxs(Uj,{children:[s.jsx(zj,{children:s.jsxs(gu,{children:[s.jsx(Hr,{children:"Submitted At"}),s.jsx(Hr,{children:"Visitor ID"}),s.jsx(Hr,{children:"Status"}),s.jsx(Hr,{children:"Data"})]})}),s.jsx(qj,{children:r.map(p=>{var x;return s.jsxs(gu,{children:[s.jsx(Gr,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"}),pt(new Date(p.submitted_at),"MMM dd, yyyy HH:mm")]})}),s.jsx(Gr,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"}),((x=p.visitor_id)==null?void 0:x.slice(0,8))||"Anonymous"]})}),s.jsx(Gr,{children:s.jsx(Pe,{variant:p.status==="submitted"?"default":"secondary",children:p.status})}),s.jsx(Gr,{children:s.jsx("div",{className:"space-y-1 max-w-md",children:p.submitted_data&&typeof p.submitted_data=="object"&&Object.entries(p.submitted_data).map(([y,b])=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[l?f(y,l):y,":"]}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:m(null,b)})]},y))})})]},p.id)})})]})]})]})]})]})})]},g.id))})]})}function fze(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(In,{className:"h-8 w-8"}),"Forms & Submissions"]}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage form submissions from your chatbots"})]}),s.jsx(hze,{})]})}function mze(){const{customer:e}=Ns(),[t,n]=v.useState(null),[r,a]=v.useState(!0),[i,o]=v.useState("overview");v.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const{data:u,error:d}=await J.from("customer_chatbot_assignments").select(`
          chatbot_id,
          chatbots (
            id,
            name,
            theme_color
          )
        `).eq("customer_id",e.id);if(d)throw d;const h=(u==null?void 0:u.map(O=>O.chatbot_id))||[];let f=[],m=[];if(h.length>0){const{data:O,error:R}=await J.from("conversations").select("id, chatbot_id, created_at").in("chatbot_id",h);if(R)throw R;f=O||[];const{data:B,error:T}=await J.from("messages").select(`
            id, 
            conversation_id, 
            created_at,
            conversations!inner(chatbot_id)
          `).in("conversations.chatbot_id",h);if(T)throw T;m=B||[]}const g=(u==null?void 0:u.map(O=>{const R=O.chatbots,B=f.filter(G=>G.chatbot_id===R.id).length,T=m.filter(G=>{var W;return((W=G.conversations)==null?void 0:W.chatbot_id)===R.id}).length;return{id:R.id,name:R.name,conversations:B,messages:T,theme_color:R.theme_color}}))||[],{data:p,error:x}=await J.from("customer_assistant_assignments").select(`
          assistant_id,
          voice_assistants (
            id,
            name,
            phone_number
          )
        `).eq("customer_id",e.id);if(x)throw x;const y=(p==null?void 0:p.map(O=>O.assistant_id).filter(Boolean))||[];let b=[];if(y.length>0){const{data:O,error:R}=await J.from("voice_assistant_calls").select("id, assistant_id, duration_seconds, status, started_at").in("assistant_id",y);if(R)throw R;b=O||[]}const j=(p==null?void 0:p.map(O=>{const R=O.voice_assistants,B=b.filter(W=>W.assistant_id===O.assistant_id),G=B.filter(W=>W.duration_seconds!=null&&W.duration_seconds>0).reduce((W,w)=>W+(w.duration_seconds||0),0);return{id:R.id,name:R.name||"Unnamed Assistant",total_calls:B.length,total_duration:G,phone_number:R.phone_number}}))||[],{data:_,error:S}=await J.from("customer_whatsapp_agent_assignments").select(`
          agent_id,
          whatsapp_agents (
            id,
            name,
            phone_number
          )
        `).eq("customer_id",e.id);if(S)throw S;const N=(_==null?void 0:_.map(O=>O.agent_id))||[];let C=[],k=[];if(N.length>0){const{data:O,error:R}=await J.from("whatsapp_conversations").select("id, agent_id, started_at").in("agent_id",N);if(R)throw R;C=O||[];const B=C.map(T=>T.id);if(B.length>0){const{data:T,error:G}=await J.from("whatsapp_messages").select("id, conversation_id").in("conversation_id",B);if(G)throw G;k=T||[]}}const D=(_==null?void 0:_.map(O=>{const R=O.whatsapp_agents,B=C.filter(W=>W.agent_id===O.agent_id),T=B.map(W=>W.id),G=k.filter(W=>T.includes(W.conversation_id));return{id:R.id,name:R.name||"Unnamed Agent",conversations:B.length,messages:G.length,phone_number:R.phone_number}}))||[],I=f.length,E=m.length,L=b.length,F=b.filter(O=>O.duration_seconds!=null&&O.duration_seconds>0).reduce((O,R)=>O+(R.duration_seconds||0),0),$=C.length,M=k.length;n({total_chatbot_conversations:I,total_chatbot_messages:E,avg_chatbot_conversation_length:I>0?Math.round(E/I):0,chatbot_performance:g,total_voice_calls:L,total_voice_duration:F,voice_assistant_performance:j,total_whatsapp_conversations:$,total_whatsapp_messages:M,whatsapp_agent_performance:D,total_conversations:I+$,total_messages:E+M,total_interactions:I+L+$})}catch(u){console.error("Error fetching analytics:",u),_e.error("Failed to load analytics data")}finally{a(!1)}},c=u=>{const d=Math.floor(u/3600),h=Math.floor(u%3600/60);return d>0?`${d}h ${h}m`:`${h}m`};return r?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((u,d)=>s.jsxs(H,{children:[s.jsx(ne,{className:"pb-2",children:s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"})}),s.jsx(Y,{children:s.jsx("div",{className:"h-8 bg-muted rounded animate-pulse"})})]},d))}),s.jsx("div",{className:"h-64 bg-muted rounded animate-pulse"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(po,{className:"h-8 w-8"}),"Analytics"]}),s.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights across all your connected agents"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Interactions"}),s.jsx(gh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_interactions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Conversations + Calls across all agents"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Messages"}),s.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_messages}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chatbot + WhatsApp messages"})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Voice Calls"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_voice_calls}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c(t.total_voice_duration)," total duration"]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Active Agents"}),s.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.chatbot_performance.length+t.voice_assistant_performance.length+t.whatsapp_agent_performance.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected agents"})]})]})]}),s.jsxs($f,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsxs(Mu,{className:"grid w-full grid-cols-4",children:[s.jsxs(Jt,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(po,{className:"h-4 w-4"}),"Overview"]}),s.jsxs(Jt,{value:"chatbots",className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Chatbots"]}),s.jsxs(Jt,{value:"voice",className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Voice"]}),s.jsxs(Jt,{value:"whatsapp",className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4"}),"WhatsApp"]})]}),s.jsxs(Xt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs(re,{className:"flex items-center gap-2 text-lg",children:[s.jsx(yt,{className:"h-5 w-5"}),"Chatbots"]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agents"}),s.jsx("span",{className:"font-medium",children:t.chatbot_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{className:"font-medium",children:t.total_chatbot_conversations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{className:"font-medium",children:t.total_chatbot_messages})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Length"}),s.jsxs("span",{className:"font-medium",children:[t.avg_chatbot_conversation_length," msgs"]})]})]})]}),s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs(re,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Voice Assistants"]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assistants"}),s.jsx("span",{className:"font-medium",children:t.voice_assistant_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Calls"}),s.jsx("span",{className:"font-medium",children:t.total_voice_calls})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Duration"}),s.jsx("span",{className:"font-medium",children:c(t.total_voice_duration)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Call"}),s.jsx("span",{className:"font-medium",children:t.total_voice_calls>0?c(Math.round(t.total_voice_duration/t.total_voice_calls)):"0m"})]})]})]}),s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs(re,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Ut,{className:"h-5 w-5"}),"WhatsApp Agents"]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Agents"}),s.jsx("span",{className:"font-medium",children:t.whatsapp_agent_performance.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Conversations"}),s.jsx("span",{className:"font-medium",children:t.total_whatsapp_conversations})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Messages"}),s.jsx("span",{className:"font-medium",children:t.total_whatsapp_messages})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Avg Length"}),s.jsxs("span",{className:"font-medium",children:[t.total_whatsapp_conversations>0?Math.round(t.total_whatsapp_messages/t.total_whatsapp_conversations):0," msgs"]})]})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(So,{className:"h-5 w-5"}),"Top Performers"]}),s.jsx(ye,{children:"Most active agents across all channels"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[t.chatbot_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.chatbot_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active Chatbot"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.chatbot_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).conversations}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"conversations"})]})]}),t.voice_assistant_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ot,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.voice_assistant_performance.reduce((u,d)=>d.total_calls>u.total_calls?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active Voice Assistant"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.voice_assistant_performance.reduce((u,d)=>d.total_calls>u.total_calls?d:u).total_calls}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"calls"})]})]}),t.whatsapp_agent_performance.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ut,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.whatsapp_agent_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Most Active WhatsApp Agent"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:t.whatsapp_agent_performance.reduce((u,d)=>d.conversations>u.conversations?d:u).conversations}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"conversations"})]})]}),t.chatbot_performance.length===0&&t.voice_assistant_performance.length===0&&t.whatsapp_agent_performance.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(po,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No agents connected yet"})]})]})})]})]}),s.jsx(Xt,{value:"chatbots",className:"space-y-6",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Chatbot Performance"]}),s.jsx(ye,{children:"Detailed breakdown by individual chatbot"})]}),s.jsx(Y,{children:t.chatbot_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No chatbots connected"})]}):s.jsx("div",{className:"space-y-4",children:t.chatbot_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.theme_color||"#3b82f6"}}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.conversations," conversations  ",u.messages," messages"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.conversations>0?Math.round(u.messages/u.conversations):0," avg msgs"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"per conversation"})]})]},u.id))})})]})}),s.jsx(Xt,{value:"voice",className:"space-y-6",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-5 w-5"}),"Voice Assistant Performance"]}),s.jsx(ye,{children:"Call statistics by voice assistant"})]}),s.jsx(Y,{children:t.voice_assistant_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No voice assistants connected"})]}):s.jsx("div",{className:"space-y-4",children:t.voice_assistant_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ot,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone_number||"No phone number"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.total_calls," calls"]}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),c(u.total_duration)]})]})]},u.id))})})]})}),s.jsx(Xt,{value:"whatsapp",className:"space-y-6",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-5 w-5"}),"WhatsApp Agent Performance"]}),s.jsx(ye,{children:"Conversation statistics by WhatsApp agent"})]}),s.jsx(Y,{children:t.whatsapp_agent_performance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ut,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No WhatsApp agents connected"})]}):s.jsx("div",{className:"space-y-4",children:t.whatsapp_agent_performance.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:s.jsx(Ut,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.phone_number||"No phone number"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[u.conversations," conversations"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[u.messages," messages"]})]})]},u.id))})})]})})]})]})]})}function pze(){const{customer:e,updateProfile:t}=Ns(),{theme:n,setTheme:r}=fv(),[a,i]=v.useState(!1),[o,l]=v.useState({full_name:(e==null?void 0:e.full_name)||"",company_name:(e==null?void 0:e.company_name)||""}),[c,u]=v.useState(!1),[d,h]=v.useState({newPassword:"",confirmPassword:""}),[f,m]=v.useState(!1),[g,p]=v.useState(!1),[x,y]=v.useState(!1),b=async()=>{if(d.newPassword.length<6){_e.error("Password must be at least 6 characters long");return}if(d.newPassword!==d.confirmPassword){_e.error("Passwords do not match");return}y(!0);try{const{error:N}=await J.auth.updateUser({password:d.newPassword});N?_e.error(N.message||"Failed to update password"):(_e.success("Password updated successfully"),u(!1),h({newPassword:"",confirmPassword:""}))}catch{_e.error("An unexpected error occurred")}finally{y(!1)}},j=()=>{u(!1),h({newPassword:"",confirmPassword:""}),m(!1),p(!1)},_=async N=>{i(!0);try{const{error:C}=await t({weekly_summary_enabled:N});C?_e.error("Failed to update notification settings"):_e.success("Notification settings updated successfully")}finally{i(!1)}},S=async()=>{i(!0);try{const{error:N}=await t(o);N?_e.error("Failed to update profile"):_e.success("Profile updated successfully")}finally{i(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(gs,{className:"h-8 w-8"}),"Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and notification settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Gs,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(ye,{children:"Update your personal information and company details"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"full_name",children:"Full Name"}),s.jsx(le,{id:"full_name",value:o.full_name,onChange:N=>l(C=>({...C,full_name:N.target.value})),placeholder:"Enter your full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"company_name",children:"Company Name"}),s.jsx(le,{id:"company_name",value:o.company_name,onChange:N=>l(C=>({...C,company_name:N.target.value})),placeholder:"Enter your company name"})]}),s.jsxs(Z,{onClick:S,disabled:a,className:"w-full",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Profile"]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Z8,{className:"h-5 w-5"}),"Appearance"]}),s.jsx(ye,{children:"Customize how the portal looks"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Select your preferred theme"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{variant:n==="light"?"default":"outline",size:"sm",onClick:()=>r("light"),className:"flex items-center gap-2",children:[s.jsx(jP,{className:"h-4 w-4"}),"Light"]}),s.jsxs(Z,{variant:n==="dark"?"default":"outline",size:"sm",onClick:()=>r("dark"),className:"flex items-center gap-2",children:[s.jsx(wP,{className:"h-4 w-4"}),"Dark"]})]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(vP,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(ye,{children:"Configure how you want to receive updates and alerts"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(Q,{htmlFor:"weekly-summary",children:"Weekly Email Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly performance summaries via email"})]}),s.jsx(Lt,{id:"weekly-summary",checked:(e==null?void 0:e.weekly_summary_enabled)||!1,onCheckedChange:_,disabled:a})]}),s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Email Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{children:"New Form Submissions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when forms are submitted"})]}),s.jsx(Lt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Q,{children:"System Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system announcements"})]}),s.jsx(Lt,{defaultChecked:!0})]})]})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Bl,{className:"h-5 w-5"}),"Account Information"]}),s.jsx(ye,{children:"View your account details and access information"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(si,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Email Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Yne,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Company"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.company_name)||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Account Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Account"})]})]})]})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"flex items-center gap-2",children:[s.jsx(Bl,{className:"h-5 w-5"}),"Security"]}),s.jsx(ye,{children:"Manage your account security and access"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FS,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Secure your account with a strong password"})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>u(!0),children:"Change Password"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx(Z,{variant:"outline",size:"sm",disabled:!0,children:"Coming Soon"})]})]})})]})]}),s.jsx(or,{open:c,onOpenChange:j,children:s.jsxs(Kn,{className:"sm:max-w-md",children:[s.jsxs(Yn,{children:[s.jsxs(Jn,{className:"flex items-center gap-2",children:[s.jsx(FS,{className:"h-5 w-5"}),"Change Password"]}),s.jsx(Ro,{children:"Enter your new password below. Make sure it's at least 6 characters long."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"new-password",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"new-password",type:f?"text":"password",value:d.newPassword,onChange:N=>h(C=>({...C,newPassword:N.target.value})),placeholder:"Enter new password",className:"pr-10"}),s.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!f),children:f?s.jsx(Mp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirm-password",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(le,{id:"confirm-password",type:g?"text":"password",value:d.confirmPassword,onChange:N=>h(C=>({...C,confirmPassword:N.target.value})),placeholder:"Confirm new password",className:"pr-10"}),s.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!g),children:g?s.jsx(Mp,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Sa,{className:"h-4 w-4 text-muted-foreground"})})]})]}),d.newPassword&&d.confirmPassword&&d.newPassword!==d.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Z,{variant:"outline",onClick:j,children:"Cancel"}),s.jsx(Z,{onClick:b,disabled:x||!d.newPassword||!d.confirmPassword,children:x?"Updating...":"Update Password"})]})]})})]})}function gze(){const{user:e}=Ht(),[t,n]=v.useState([]),[r,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]});v.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const{data:p,error:x}=await J.from("chatbots").select("id, name, description").eq("user_id",e==null?void 0:e.id);if(x)throw x;a(p||[]);const{data:y,error:b}=await J.from("customers").select(`
          *,
          customer_chatbot_assignments (
            chatbot_id
          )
        `).eq("created_by_user_id",e==null?void 0:e.id);if(b)throw b;const j=(p==null?void 0:p.map(S=>S.id))||[],_=(y==null?void 0:y.map(S=>({...S,assigned_chatbots:S.customer_chatbot_assignments.filter(N=>j.includes(N.chatbot_id)).map(N=>N.chatbot_id)})))||[];n(_)}catch(p){console.error("Error fetching data:",p),_e.error("Failed to load customer data")}finally{o(!1)}},f=async()=>{if(!u.email||!u.full_name||!u.password){_e.error("Please fill in all required fields including password");return}if(u.password.length<6){_e.error("Password must be at least 6 characters long");return}if(u.assigned_chatbots.length===0){_e.error("Please assign at least one chatbot to the customer");return}try{const p=await l5e({email:u.email,full_name:u.full_name,company_name:u.company_name||void 0,password:u.password,chatbot_id:u.assigned_chatbots[0]||void 0}),x=p==null?void 0:p.customer_id;if(x&&u.assigned_chatbots.length>0)for(const b of u.assigned_chatbots)await J.from("customer_chatbot_assignments").insert({customer_id:x,chatbot_id:b,assigned_by:e==null?void 0:e.id}).onConflict("customer_id,chatbot_id").ignore();const y=p!=null&&p.auth_created?"Customer created successfully with login credentials":"Customer created successfully (login credentials may need manual setup)";_e.success(y),c(!1),d({email:"",full_name:"",company_name:"",password:"",assigned_chatbots:[]}),h()}catch(p){console.error("Error creating customer:",p),_e.error("Failed to create customer")}},m=async p=>{if(confirm("Are you sure you want to delete this customer? This will also remove all their chatbot assignments."))try{const{error:x}=await J.from("customers").delete().eq("id",p);if(x)throw x;_e.success("Customer deleted successfully"),h()}catch(x){console.error("Error deleting customer:",x),_e.error("Failed to delete customer")}},g=async p=>{try{await c5e({email:p.email,full_name:p.full_name}),_e.success("Login link sent successfully")}catch(x){console.error("Error sending login link:",x),_e.error("Failed to send login link")}};return i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6 pr-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer access to your chatbots"})]}),s.jsxs(or,{open:l,onOpenChange:c,children:[s.jsx(Ff,{asChild:!0,children:s.jsxs(Z,{children:[s.jsx(Dp,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),s.jsxs(Kn,{className:"sm:max-w-md",children:[s.jsxs(Yn,{children:[s.jsx(Jn,{children:"Add New Customer"}),s.jsx(Ro,{children:"Create a new customer account and assign chatbots"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email *"}),s.jsx(le,{id:"email",type:"email",value:u.email,onChange:p=>d({...u,email:p.target.value}),placeholder:"customer@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(le,{id:"full_name",value:u.full_name,onChange:p=>d({...u,full_name:p.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"company_name",children:"Company Name"}),s.jsx(le,{id:"company_name",value:u.company_name,onChange:p=>d({...u,company_name:p.target.value}),placeholder:"Acme Corp"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"password",children:"Password *"}),s.jsx(le,{id:"password",type:"password",value:u.password,onChange:p=>d({...u,password:p.target.value}),placeholder:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Assign Chatbots *"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-2",children:r.map(p=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kh,{id:p.id,checked:u.assigned_chatbots.includes(p.id),onCheckedChange:x=>{d(x?{...u,assigned_chatbots:[...u.assigned_chatbots,p.id]}:{...u,assigned_chatbots:u.assigned_chatbots.filter(y=>y!==p.id)})}}),s.jsx(Q,{htmlFor:p.id,className:"text-sm",children:p.name})]},p.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Z,{onClick:f,children:"Create Customer"})]})]})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Customers"}),s.jsx(ye,{children:"Manage customer accounts and their chatbot access"})]}),s.jsx(Y,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No customers found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first customer to get started."})]}):s.jsxs(Uj,{children:[s.jsx(zj,{children:s.jsxs(gu,{children:[s.jsx(Hr,{children:"Customer"}),s.jsx(Hr,{children:"Company"}),s.jsx(Hr,{children:"Assigned Chatbots"}),s.jsx(Hr,{children:"Last Login"}),s.jsx(Hr,{children:"Actions"})]})}),s.jsx(qj,{children:t.map(p=>s.jsxs(gu,{children:[s.jsx(Gr,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:p.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.email})]})}),s.jsx(Gr,{children:p.company_name||"-"}),s.jsx(Gr,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:p.assigned_chatbots.map(x=>{const y=r.find(b=>b.id===x);return s.jsx(Pe,{variant:"secondary",className:"text-xs",children:(y==null?void 0:y.name)||"Unknown"},x)})})}),s.jsx(Gr,{children:p.last_login?new Date(p.last_login).toLocaleDateString():"Never"}),s.jsx(Gr,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>g(p),children:s.jsx(si,{className:"w-4 h-4"})}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>m(p.id),children:s.jsx(hn,{className:"w-4 h-4"})})]})})]},p.id))})]})})]})]})}var EE=["Enter"," "],vze=["ArrowDown","PageUp","Home"],EK=["ArrowUp","PageDown","End"],xze=[...vze,...EK],yze={ltr:[...EE,"ArrowRight"],rtl:[...EE,"ArrowLeft"]},bze={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ov="Menu",[Eg,wze,jze]=Wg(Ov),[Iu,PK]=Ir(Ov,[jze,Zl,If]),Vj=Zl(),AK=If(),[_ze,$u]=Iu(Ov),[Nze,Mv]=Iu(Ov),TK=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Vj(t),[c,u]=v.useState(null),d=v.useRef(!1),h=_n(i),f=Ou(a);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(pw,{...l,children:s.jsx(_ze,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(Nze,{scope:t,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};TK.displayName=Ov;var Sze="MenuAnchor",YT=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Vj(n);return s.jsx(Xg,{...a,...r,ref:t})});YT.displayName=Sze;var JT="MenuPortal",[Cze,OK]=Iu(JT,{forceMount:void 0}),MK=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=$u(JT,t);return s.jsx(Cze,{scope:t,forceMount:n,children:s.jsx(Un,{present:n||i.open,children:s.jsx(of,{asChild:!0,container:a,children:r})})})};MK.displayName=JT;var wa="MenuContent",[kze,XT]=Iu(wa),DK=v.forwardRef((e,t)=>{const n=OK(wa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=$u(wa,e.__scopeMenu),o=Mv(wa,e.__scopeMenu);return s.jsx(Eg.Provider,{scope:e.__scopeMenu,children:s.jsx(Un,{present:r||i.open,children:s.jsx(Eg.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Eze,{...a,ref:t}):s.jsx(Pze,{...a,ref:t})})})})}),Eze=v.forwardRef((e,t)=>{const n=$u(wa,e.__scopeMenu),r=v.useRef(null),a=Xe(t,r);return v.useEffect(()=>{const i=r.current;if(i)return sv(i)},[]),s.jsx(QT,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Pze=v.forwardRef((e,t)=>{const n=$u(wa,e.__scopeMenu);return s.jsx(QT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),QT=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...p}=e,x=$u(wa,n),y=Mv(wa,n),b=Vj(n),j=AK(n),_=wze(n),[S,N]=v.useState(null),C=v.useRef(null),k=Xe(t,C,x.onContentChange),D=v.useRef(0),I=v.useRef(""),E=v.useRef(0),L=v.useRef(null),U=v.useRef("right"),F=v.useRef(0),$=g?rv:v.Fragment,M=g?{as:ws,allowPinchZoom:!0}:void 0,O=B=>{var q,te;const T=I.current+B,G=_().filter(X=>!X.disabled),W=document.activeElement,w=(q=G.find(X=>X.ref.current===W))==null?void 0:q.textValue,A=G.map(X=>X.textValue),P=Uze(A,T,w),z=(te=G.find(X=>X.textValue===P))==null?void 0:te.ref.current;(function X(V){I.current=V,window.clearTimeout(D.current),V!==""&&(D.current=window.setTimeout(()=>X(""),1e3))})(T),z&&setTimeout(()=>z.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),Mw();const R=v.useCallback(B=>{var G,W;return U.current===((G=L.current)==null?void 0:G.side)&&qze(B,(W=L.current)==null?void 0:W.area)},[]);return s.jsx(kze,{scope:n,searchRef:I,onItemEnter:v.useCallback(B=>{R(B)&&B.preventDefault()},[R]),onItemLeave:v.useCallback(B=>{var T;R(B)||((T=C.current)==null||T.focus(),N(null))},[R]),onTriggerLeave:v.useCallback(B=>{R(B)&&B.preventDefault()},[R]),pointerGraceTimerRef:E,onPointerGraceIntentChange:v.useCallback(B=>{L.current=B},[]),children:s.jsx($,{...M,children:s.jsx(nv,{asChild:!0,trapped:a,onMountAutoFocus:je(i,B=>{var T;B.preventDefault(),(T=C.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:s.jsx(vT,{asChild:!0,...j,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:je(c,B=>{y.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(gw,{role:"menu","aria-orientation":"vertical","data-state":JK(x.open),"data-radix-menu-content":"",dir:y.dir,...b,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:je(p.onKeyDown,B=>{const G=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,w=B.key.length===1;G&&(B.key==="Tab"&&B.preventDefault(),!W&&w&&O(B.key));const A=C.current;if(B.target!==A||!xze.includes(B.key))return;B.preventDefault();const z=_().filter(q=>!q.disabled).map(q=>q.ref.current);EK.includes(B.key)&&z.reverse(),Fze(z)}),onBlur:je(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(D.current),I.current="")}),onPointerMove:je(e.onPointerMove,Pg(B=>{const T=B.target,G=F.current!==B.clientX;if(B.currentTarget.contains(T)&&G){const W=B.clientX>F.current?"right":"left";U.current=W,F.current=B.clientX}}))})})})})})})});DK.displayName=wa;var Aze="MenuGroup",ZT=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{role:"group",...r,ref:t})});ZT.displayName=Aze;var Tze="MenuLabel",IK=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});IK.displayName=Tze;var C0="MenuItem",P3="menu.itemSelect",Wj=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=v.useRef(null),o=Mv(C0,e.__scopeMenu),l=XT(C0,e.__scopeMenu),c=Xe(t,i),u=v.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(P3,{bubbles:!0,cancelable:!0});h.addEventListener(P3,m=>r==null?void 0:r(m),{once:!0}),fP(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx($K,{...a,ref:c,disabled:n,onClick:je(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:je(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:je(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||EE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Wj.displayName=C0;var $K=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=XT(C0,n),l=AK(n),c=v.useRef(null),u=Xe(t,c),[d,h]=v.useState(!1),[f,m]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(Eg.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(xT,{asChild:!0,...l,focusable:!r,children:s.jsx(De.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:je(e.onPointerMove,Pg(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,Pg(g=>o.onItemLeave(g))),onFocus:je(e.onFocus,()=>h(!0)),onBlur:je(e.onBlur,()=>h(!1))})})})}),Oze="MenuCheckboxItem",RK=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(zK,{scope:e.__scopeMenu,checked:n,children:s.jsx(Wj,{role:"menuitemcheckbox","aria-checked":k0(n)?"mixed":n,...a,ref:t,"data-state":tO(n),onSelect:je(a.onSelect,()=>r==null?void 0:r(k0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RK.displayName=Oze;var LK="MenuRadioGroup",[Mze,Dze]=Iu(LK,{value:void 0,onValueChange:()=>{}}),FK=v.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=_n(r);return s.jsx(Mze,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(ZT,{...a,ref:t})})});FK.displayName=LK;var BK="MenuRadioItem",UK=v.forwardRef((e,t)=>{const{value:n,...r}=e,a=Dze(BK,e.__scopeMenu),i=n===a.value;return s.jsx(zK,{scope:e.__scopeMenu,checked:i,children:s.jsx(Wj,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":tO(i),onSelect:je(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});UK.displayName=BK;var eO="MenuItemIndicator",[zK,Ize]=Iu(eO,{checked:!1}),qK=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=Ize(eO,n);return s.jsx(Un,{present:r||k0(i.checked)||i.checked===!0,children:s.jsx(De.span,{...a,ref:t,"data-state":tO(i.checked)})})});qK.displayName=eO;var $ze="MenuSeparator",VK=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});VK.displayName=$ze;var Rze="MenuArrow",WK=v.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Vj(n);return s.jsx(vw,{...a,...r,ref:t})});WK.displayName=Rze;var Lze="MenuSub",[KJe,HK]=Iu(Lze),$m="MenuSubTrigger",GK=v.forwardRef((e,t)=>{const n=$u($m,e.__scopeMenu),r=Mv($m,e.__scopeMenu),a=HK($m,e.__scopeMenu),i=XT($m,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(YT,{asChild:!0,...u,children:s.jsx($K,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":JK(n.open),...e,ref:ow(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,Pg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:je(e.onPointerLeave,Pg(h=>{var m,g;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const p=(g=n.content)==null?void 0:g.dataset.side,x=p==="right",y=x?-5:5,b=f[x?"left":"right"],j=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:b,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,h=>{var m;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||yze[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});GK.displayName=$m;var KK="MenuSubContent",YK=v.forwardRef((e,t)=>{const n=OK(wa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=$u(wa,e.__scopeMenu),o=Mv(wa,e.__scopeMenu),l=HK(KK,e.__scopeMenu),c=v.useRef(null),u=Xe(t,c);return s.jsx(Eg.Provider,{scope:e.__scopeMenu,children:s.jsx(Un,{present:r||i.open,children:s.jsx(Eg.Slot,{scope:e.__scopeMenu,children:s.jsx(QT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:je(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:je(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=bze[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});YK.displayName=KK;function JK(e){return e?"open":"closed"}function k0(e){return e==="indeterminate"}function tO(e){return k0(e)?"indeterminate":e?"checked":"unchecked"}function Fze(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Bze(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Uze(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Bze(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function zze(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function qze(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zze(n,t)}function Pg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Vze=TK,Wze=YT,Hze=MK,Gze=DK,Kze=ZT,Yze=IK,Jze=Wj,Xze=RK,Qze=FK,Zze=UK,eqe=qK,tqe=VK,nqe=WK,rqe=GK,sqe=YK,nO="DropdownMenu",[aqe,YJe]=Ir(nO,[PK]),ns=PK(),[iqe,XK]=aqe(nO),QK=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ns(t),u=v.useRef(null),[d=!1,h]=js({prop:a,defaultProp:i,onChange:o});return s.jsx(iqe,{scope:t,triggerId:Vs(),triggerRef:u,contentId:Vs(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(Vze,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};QK.displayName=nO;var ZK="DropdownMenuTrigger",eY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=XK(ZK,n),o=ns(n);return s.jsx(Wze,{asChild:!0,...o,children:s.jsx(De.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:ow(t,i.triggerRef),onPointerDown:je(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:je(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});eY.displayName=ZK;var oqe="DropdownMenuPortal",tY=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ns(t);return s.jsx(Hze,{...r,...n})};tY.displayName=oqe;var nY="DropdownMenuContent",rY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=XK(nY,n),i=ns(n),o=v.useRef(!1);return s.jsx(Gze,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rY.displayName=nY;var lqe="DropdownMenuGroup",cqe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(Kze,{...a,...r,ref:t})});cqe.displayName=lqe;var uqe="DropdownMenuLabel",sY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(Yze,{...a,...r,ref:t})});sY.displayName=uqe;var dqe="DropdownMenuItem",aY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(Jze,{...a,...r,ref:t})});aY.displayName=dqe;var hqe="DropdownMenuCheckboxItem",iY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(Xze,{...a,...r,ref:t})});iY.displayName=hqe;var fqe="DropdownMenuRadioGroup",mqe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(Qze,{...a,...r,ref:t})});mqe.displayName=fqe;var pqe="DropdownMenuRadioItem",oY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(Zze,{...a,...r,ref:t})});oY.displayName=pqe;var gqe="DropdownMenuItemIndicator",lY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(eqe,{...a,...r,ref:t})});lY.displayName=gqe;var vqe="DropdownMenuSeparator",cY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(tqe,{...a,...r,ref:t})});cY.displayName=vqe;var xqe="DropdownMenuArrow",yqe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(nqe,{...a,...r,ref:t})});yqe.displayName=xqe;var bqe="DropdownMenuSubTrigger",uY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(rqe,{...a,...r,ref:t})});uY.displayName=bqe;var wqe="DropdownMenuSubContent",dY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ns(n);return s.jsx(sqe,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dY.displayName=wqe;var jqe=QK,_qe=eY,Nqe=tY,hY=rY,fY=sY,mY=aY,pY=iY,gY=oY,vY=lY,xY=cY,yY=uY,bY=dY;const rO=jqe,sO=_qe,Sqe=v.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(yY,{ref:a,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(Ja,{className:"ml-auto h-4 w-4"})]}));Sqe.displayName=yY.displayName;const Cqe=v.forwardRef(({className:e,...t},n)=>s.jsx(bY,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Cqe.displayName=bY.displayName;const Hj=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Nqe,{children:s.jsx(hY,{ref:r,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Hj.displayName=hY.displayName;const Nl=v.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(mY,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Nl.displayName=mY.displayName;const kqe=v.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(pY,{ref:a,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vY,{children:s.jsx(Gg,{className:"h-4 w-4"})})}),t]}));kqe.displayName=pY.displayName;const Eqe=v.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(gY,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vY,{children:s.jsx(G8,{className:"h-2 w-2 fill-current"})})}),t]}));Eqe.displayName=gY.displayName;const wY=v.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(fY,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));wY.displayName=fY.displayName;const aO=v.forwardRef(({className:e,...t},n)=>s.jsx(xY,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));aO.displayName=xY.displayName;function jY({onSwitch:e,compact:t=!1}){const{user:n}=Ht(),[r,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(!1),u=async()=>{try{o(!0);const{data:f,error:m}=await J.from("voice_connections").select("id, org_name, org_id, is_active").eq("user_id",n==null?void 0:n.id).order("created_at",{ascending:!0});if(m)throw m;console.log("OrganizationSwitcher: Fetched connections:",f),a(f||[])}catch(f){console.error("Error fetching connections:",f)}finally{o(!1)}};v.useEffect(()=>{n&&u()},[n]),v.useEffect(()=>(window.__refreshOrgSwitcher=u,()=>{delete window.__refreshOrgSwitcher}),[n]);const d=async f=>{if(l)return;const m=r.find(g=>g.id===f);if(!(!m||m.is_active)){c(!0);try{const{error:g}=await J.from("voice_connections").update({is_active:!1}).eq("user_id",n==null?void 0:n.id);if(g)throw g;const{error:p}=await J.from("voice_connections").update({is_active:!0}).eq("id",f);if(p)throw p;_e.success(`Switched to "${m.org_name||"Organization"}"`),await u(),e==null||e()}catch(g){console.error("Error switching organization:",g),_e.error("Failed to switch organization")}finally{c(!1)}}},h=r.find(f=>f.is_active);return i||r.length<=1?null:s.jsxs(rO,{children:[s.jsx(sO,{asChild:!0,children:s.jsxs(Z,{variant:"outline",size:t?"sm":"default",className:"gap-2",disabled:l,children:[s.jsx(Kne,{className:t?"h-3.5 w-3.5":"h-4 w-4"}),s.jsx("span",{className:t?"text-xs max-w-[100px] truncate":"max-w-[150px] truncate",children:(h==null?void 0:h.org_name)||"Select Org"}),s.jsx(Kg,{className:t?"h-3 w-3":"h-3.5 w-3.5"})]})}),s.jsxs(Hj,{align:"end",className:"w-56",children:[s.jsx(wY,{className:"text-xs text-muted-foreground",children:"Vapi Organizations"}),s.jsx(aO,{}),r.map(f=>s.jsxs(Nl,{onClick:()=>d(f.id),className:"flex items-center justify-between cursor-pointer",disabled:f.is_active,children:[s.jsx("span",{className:f.is_active?"font-medium":"",children:f.org_name||"Unnamed Organization"}),f.is_active&&s.jsx(Gg,{className:"h-4 w-4 text-primary"})]},f.id))]})]})}const _Y=({assistantId:e,assistantName:t,orgId:n,onTaskCreated:r,placeholder:a="Add a task and press Enter..."})=>{const{user:i}=Ht(),[o,l]=v.useState(""),[c,u]=v.useState(!1),d=async f=>{if(f==null||f.preventDefault(),!(!o.trim()||!i)){u(!0);try{const[m,g]=await Promise.all([J.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:e,org_id:n,title:o.trim(),priority:"medium",status:"pending"}).select().single(),J.from("changelog_entries").insert({user_id:i.id,entity_type:"voice_assistant",entity_id:e,change_type:"task",title:o.trim(),status:"pending",source:"manual"})]);if(m.error)throw m.error;if(g.error)throw g.error;r==null||r(m.data),l(""),_e.success(`Task added for ${t}`)}catch(m){console.error("Error creating task:",m),_e.error("Failed to create task")}finally{u(!1)}}},h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),d())};return s.jsxs("form",{onSubmit:d,className:"flex items-center gap-2",children:[s.jsx(le,{value:o,onChange:f=>l(f.target.value),onKeyDown:h,placeholder:a,disabled:c,className:"flex-1"}),s.jsx(Z,{type:"submit",size:"sm",disabled:c||!o.trim(),className:"shrink-0",children:c?s.jsx(ps,{className:"h-4 w-4 animate-spin"}):s.jsx(Yt,{className:"h-4 w-4"})})]})};function Pqe(){const{user:e}=Ht(),t=ts(),[n,r]=v.useState([]),[a,i]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(!0),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(null),[x,y]=v.useState(""),[b,j]=v.useState(""),[_,S]=v.useState(null),N=async()=>{if(!d){h(!0);try{const $=await Cy();console.log(`Auto-synced ${($==null?void 0:$.count)||0} voice assistants`)}catch($){console.error("Auto-sync error:",$)}finally{h(!1)}}};v.useEffect(()=>{e&&C()},[e]),v.useEffect(()=>{if(e&&_!==null){N().then(()=>D());const $=setInterval(()=>{N().then(()=>D())},12e4);return()=>clearInterval($)}},[e,_]);const C=async()=>{try{const{data:$,error:M}=await J.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(M)throw M;S(($==null?void 0:$.org_id)||"")}catch($){console.error("Error fetching active connection:",$),S("")}},k=async()=>{p(null),await C(),h(!0);try{const $=await Cy();_e.success(`Synced ${$.count} assistants`)}catch($){console.error("Error syncing assistants:",$),_e.error("Failed to sync assistants")}finally{h(!1)}};v.useEffect(()=>{n.length>0&&!g&&p(n[0].id)},[n,g]);const D=async()=>{try{u(!0);let $=J.from("voice_assistants").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});_&&($=$.eq("org_id",_));const{data:M,error:O}=await $;if(O)throw O;r(M||[]);const{data:R}=await J.from("chatbots").select("id").eq("user_id",e==null?void 0:e.id),B=(R==null?void 0:R.map(w=>w.id))||[];if(B.length>0){const{data:w,error:A}=await J.from("customers").select(`
            *,
            customer_chatbot_assignments!inner (
              chatbot_id
            )
          `).in("customer_chatbot_assignments.chatbot_id",B);if(A)throw A;const P=Array.from(new Map(w==null?void 0:w.map(z=>[z.id,z])).values());i(P)}const{data:T,error:G}=await J.from("customer_assistant_assignments").select(`
          id,
          assistant_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e==null?void 0:e.id);if(G)throw G;const W=(T==null?void 0:T.map(w=>({id:w.id,assistant_id:w.assistant_id,customer:w.customers})))||[];l(W)}catch($){console.error("Error fetching data:",$),_e.error("Failed to load data")}finally{u(!1)}},I=async()=>{h(!0);try{const $=await Cy();_e.success(`Synced ${$.count} assistants`),await D()}catch($){console.error("Error syncing assistants:",$),_e.error("Failed to sync assistants")}finally{h(!1)}},E=async()=>{if(!g||!x){_e.error("Please select a customer");return}try{const{error:$}=await J.from("customer_assistant_assignments").insert({customer_id:x,assistant_id:g,assigned_by:e==null?void 0:e.id});if($){if($.code==="23505")_e.error("This customer is already assigned to this assistant");else throw $;return}_e.success("Assistant assigned successfully"),m(!1),y(""),await D()}catch($){console.error("Error assigning assistant:",$),_e.error("Failed to assign assistant")}},L=async $=>{try{const{error:M}=await J.from("customer_assistant_assignments").delete().eq("id",$);if(M)throw M;_e.success("Assignment removed"),await D()}catch(M){console.error("Error removing assignment:",M),_e.error("Failed to remove assignment")}},U=n.find($=>$.id===g),F=o.filter($=>$.assistant_id===g);return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Xm,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Voice Assistants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jY,{onSwitch:k,compact:!0}),s.jsxs(Z,{onClick:I,disabled:d,size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(xa,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing":"Sync"]})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(Ea,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:"Search assistants...",value:b,onChange:$=>j($.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Js,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const $=n.filter(M=>{var O;return(O=M.name)==null?void 0:O.toLowerCase().includes(b.toLowerCase())});return $.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(yt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b?"No matching assistants":"No assistants found"}),!b&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your assistants"})]}):$.map(M=>{const O=o.filter(B=>B.assistant_id===M.id).length,R=g===M.id;return s.jsx("button",{onClick:()=>p(M.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${R?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${R?"text-primary":""}`,children:M.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[M.model_provider&&s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:M.model_provider}),O>0&&s.jsxs(Pe,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[O," assigned"]})]})]}),R&&s.jsx(Ja,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},M.id)})})()})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," assistants"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:U?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:s.jsx(yt,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:U.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Created ",new Date(U.created_at).toLocaleDateString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(`/voice-assistants/${U.id}/edit`),className:"gap-1.5",children:[s.jsx(yre,{className:"h-4 w-4"}),"Edit"]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Quick Add Task"}),s.jsx(_Y,{assistantId:U.id,assistantName:U.name,orgId:_,placeholder:"Add a task and press Enter..."})]}),U.first_message&&s.jsx(H,{className:"mb-6",children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ut,{className:"h-4 w-4 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"First Message"}),s.jsxs("p",{className:"text-sm italic",children:['"',U.first_message,'"']})]})]})})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.voice_provider&&s.jsx(H,{children:s.jsx(Y,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice"}),s.jsx("p",{className:"text-sm font-medium",children:U.voice_provider})]})]})})}),U.model_provider&&s.jsx(H,{children:s.jsx(Y,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Model"}),s.jsxs("p",{className:"text-sm font-medium",children:[U.model_provider,U.model&&`  ${U.model}`]})]})]})})}),U.transcriber_provider&&s.jsx(H,{children:s.jsx(Y,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transcriber"}),s.jsx("p",{className:"text-sm font-medium",children:U.transcriber_provider})]})]})})}),U.phone_number&&s.jsx(H,{children:s.jsx(Y,{className:"pt-4 pb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"text-sm font-medium font-mono",children:U.phone_number})]})]})})})]})]}),s.jsx(Xr,{className:"my-6"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pd,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"text-sm font-semibold",children:"Assigned Customers"}),s.jsx(Pe,{variant:"secondary",className:"text-xs",children:F.length})]}),s.jsxs(Z,{size:"sm",onClick:()=>m(!0),className:"gap-1.5",children:[s.jsx(Dp,{className:"h-3.5 w-3.5"}),"Assign"]})]}),F.length===0?s.jsx(H,{className:"border-dashed",children:s.jsxs(Y,{className:"py-8 text-center",children:[s.jsx(Pd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No customers assigned yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assign customers to give them access to this assistant"})]})}):s.jsx("div",{className:"space-y-2",children:F.map($=>s.jsx(H,{children:s.jsx(Y,{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-primary",children:$.customer.full_name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:$.customer.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:$.customer.email})]})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>L($.id),className:"hover:bg-destructive/10 hover:text-destructive h-8 w-8 p-0",children:s.jsx(hn,{className:"h-4 w-4"})})]})})},$.id))})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an assistant to view details"})]})})}),s.jsx(or,{open:f,onOpenChange:m,children:s.jsxs(Kn,{className:"sm:max-w-md",children:[s.jsxs(Yn,{children:[s.jsxs(Jn,{className:"flex items-center gap-2",children:[s.jsx(Dp,{className:"h-5 w-5 text-primary"}),"Assign Customer"]}),s.jsxs(Ro,{children:["Select a customer to give them access to ",U==null?void 0:U.name]})]}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs(qe,{value:x,onValueChange:y,children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select a customer..."})}),s.jsx(Ue,{children:a.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No customers available"}):a.map($=>s.jsx(oe,{value:$.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:$.full_name}),s.jsxs("span",{className:"text-muted-foreground",children:["(",$.email,")"]})]})},$.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Cancel"}),s.jsx(Z,{onClick:E,disabled:!x,className:"flex-1",children:"Assign"})]})]})]})})]})}var NY={};function A3(e,t){if(e==null)return{};var n,r,a=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e){return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}function SY(e){var t=function(n,r){if(Mt(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,r||"default");if(Mt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Mt(t)=="symbol"?t:t+""}function T3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SY(r.key),r)}}function ea(e,t,n){return t&&T3(e.prototype,t),n&&T3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gj(e,t){if(t&&(Mt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function li(e){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},li(e)}function Ag(e,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ag(e,t)}function Kj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ag(e,t)}function Ai(e,t,n){return(t=SY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O3(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,a)}function at(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(c){O3(i,r,a,o,l,"next",c)}function l(c){O3(i,r,a,o,l,"throw",c)}o(void 0)})}}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Or(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,o,l,c,u=[],d=!0,h=!1;try{if(l=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return M3(n,r);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M3(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Aqe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D3,qx={exports:{}},PE=function(){if(D3)return qx.exports;D3=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,x,y){return Function.prototype.apply.call(p,x,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function a(){a.init.call(this)}qx.exports=a,qx.exports.once=function(p,x){return new Promise(function(y,b){function j(S){p.removeListener(x,_),b(S)}function _(){typeof p.removeListener=="function"&&p.removeListener("error",j),y([].slice.call(arguments))}g(p,x,_,{once:!0}),x!=="error"&&function(S,N,C){typeof S.on=="function"&&g(S,"error",N,C)}(p,j,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function l(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}function c(p,x,y,b){var j,_,S,N;if(o(y),(_=p._events)===void 0?(_=p._events=Object.create(null),p._eventsCount=0):(_.newListener!==void 0&&(p.emit("newListener",x,y.listener?y.listener:y),_=p._events),S=_[x]),S===void 0)S=_[x]=y,++p._eventsCount;else if(typeof S=="function"?S=_[x]=b?[y,S]:[S,y]:b?S.unshift(y):S.push(y),(j=l(p))>0&&S.length>j&&!S.warned){S.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=p,C.type=x,C.count=S.length,N=C,console&&console.warn&&console.warn(N)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,x,y){var b={fired:!1,wrapFn:void 0,target:p,type:x,listener:y},j=u.bind(b);return j.listener=y,b.wrapFn=j,j}function h(p,x,y){var b=p._events;if(b===void 0)return[];var j=b[x];return j===void 0?[]:typeof j=="function"?y?[j.listener||j]:[j]:y?function(_){for(var S=new Array(_.length),N=0;N<S.length;++N)S[N]=_[N].listener||_[N];return S}(j):m(j,j.length)}function f(p){var x=this._events;if(x!==void 0){var y=x[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,x){for(var y=new Array(x),b=0;b<x;++b)y[b]=p[b];return y}function g(p,x,y,b){if(typeof p.on=="function")b.once?p.once(x,y):p.on(x,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(x,function j(_){b.once&&p.removeEventListener(x,j),y(_)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(p){for(var x=[],y=1;y<arguments.length;y++)x.push(arguments[y]);var b=p==="error",j=this._events;if(j!==void 0)b=b&&j.error===void 0;else if(!b)return!1;if(b){var _;if(x.length>0&&(_=x[0]),_ instanceof Error)throw _;var S=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw S.context=_,S}var N=j[p];if(N===void 0)return!1;if(typeof N=="function")n(N,this,x);else{var C=N.length,k=m(N,C);for(y=0;y<C;++y)n(k[y],this,x)}return!0},a.prototype.addListener=function(p,x){return c(this,p,x,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(p,x){return c(this,p,x,!0)},a.prototype.once=function(p,x){return o(x),this.on(p,d(this,p,x)),this},a.prototype.prependOnceListener=function(p,x){return o(x),this.prependListener(p,d(this,p,x)),this},a.prototype.removeListener=function(p,x){var y,b,j,_,S;if(o(x),(b=this._events)===void 0)return this;if((y=b[p])===void 0)return this;if(y===x||y.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete b[p],b.removeListener&&this.emit("removeListener",p,y.listener||x));else if(typeof y!="function"){for(j=-1,_=y.length-1;_>=0;_--)if(y[_]===x||y[_].listener===x){S=y[_].listener,j=_;break}if(j<0)return this;j===0?y.shift():function(N,C){for(;C+1<N.length;C++)N[C]=N[C+1];N.pop()}(y,j),y.length===1&&(b[p]=y[0]),b.removeListener!==void 0&&this.emit("removeListener",p,S||x)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(p){var x,y,b;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var j,_=Object.keys(y);for(b=0;b<_.length;++b)(j=_[b])!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=y[p])=="function")this.removeListener(p,x);else if(x!==void 0)for(b=x.length-1;b>=0;b--)this.removeListener(p,x[b]);return this},a.prototype.listeners=function(p){return h(this,p,!0)},a.prototype.rawListeners=function(p){return h(this,p,!1)},a.listenerCount=function(p,x){return typeof p.listenerCount=="function"?p.listenerCount(x):f.call(p,x)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},qx.exports}(),Vx=Aqe(PE),I3=Object.prototype.hasOwnProperty;function $3(e,t,n){for(n of e.keys())if(Wr(n,t))return n}function Wr(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Wr(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((a=r)&&typeof a=="object"&&!(a=$3(t,a))||!t.has(a))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((a=r[0])&&typeof a=="object"&&!(a=$3(t,a))||!Wr(r[1],t.get(a)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(I3.call(e,n)&&++r&&!I3.call(t,n)||!(n in t)||!Wr(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const Tqe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},CY={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},On={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Br={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Zo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class xe{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const a=xe.getVersionPrecision(t),i=xe.getVersionPrecision(n);let o=Math.max(a,i),l=0;const c=xe.map([t,n],u=>{const d=o-xe.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return xe.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(l=o-Math.min(a,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(a=0;a<t.length;a+=1)r.push(n(t[a]));return r}static find(t,n){let r,a;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,a=t.length;r<a;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let a,i;if(Object.assign)return Object.assign(t,...n);for(a=0,i=n.length;a<i;a+=1){const o=n[a];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return t}static getBrowserAlias(t){return Tqe[t]}static getBrowserTypeByAlias(t){return CY[t]||""}}const tn=/version\/(\d+(\.?_?\d+)+)/i,Oqe=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=xe.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=xe.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=xe.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=xe.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=xe.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=xe.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=xe.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=xe.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=xe.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=xe.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=xe.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=xe.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=xe.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=xe.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=xe.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=xe.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=xe.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=xe.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=xe.getFirstMatch(tn,e)||xe.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=xe.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=xe.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=xe.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=xe.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=xe.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=xe.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=xe.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=xe.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=xe.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=xe.getFirstMatch(tn,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:xe.getFirstMatch(t,e),version:xe.getSecondMatch(t,e)}}}];var Mqe=[{test:[/Roku\/DVP/],describe(e){const t=xe.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Br.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=xe.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Br.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=xe.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=xe.getWindowsVersionName(t);return{name:Br.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Br.iOS},n=xe.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=xe.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=xe.getMacOSVersionName(t),r={name:Br.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=xe.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Br.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=xe.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=xe.getAndroidVersionName(t),r={name:Br.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=xe.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Br.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=xe.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||xe.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||xe.getFirstMatch(/\bbb(\d+)/i,e);return{name:Br.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=xe.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Br.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=xe.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Br.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Br.Linux})},{test:[/CrOS/],describe:()=>({name:Br.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=xe.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Br.PlayStation4,version:t}}}],Dqe=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=xe.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:On.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:On.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:On.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:On.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:On.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:On.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:On.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=xe.getFirstMatch(/(ipod|iphone)/i,e);return{type:On.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:On.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:On.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:On.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:On.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:On.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:On.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:On.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:On.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:On.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:On.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:On.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:On.tv})}],Iqe=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Zo.Blink};const t=xe.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Zo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Zo.Trident},n=xe.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Zo.Presto},n=xe.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Zo.Gecko},n=xe.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Zo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Zo.WebKit},n=xe.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class R3{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=xe.find(Oqe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=xe.find(Mqe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=xe.find(Dqe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=xe.find(Iqe,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return xe.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const a={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(a[o]=l,i+=1):typeof l=="object"&&(n[o]=l,r+=1)}),r>0){const o=Object.keys(n),l=xe.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=xe.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(a),l=xe.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=xe.getBrowserTypeByAlias(a);return n&&i&&(a=i.toLowerCase()),a===r}compareVersion(t){let n=[0],r=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(a=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(a=!0,r=t.substr(1)),n.indexOf(xe.compareVersions(i,r,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let $qe=class{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new R3(t,n)}static parse(t){return new R3(t).getResult()}static get BROWSER_MAP(){return CY}static get ENGINE_MAP(){return Zo}static get OS_MAP(){return Br}static get PLATFORMS_MAP(){return On}};function Yj(){return Date.now()+Math.random().toString()}function Nm(){throw new Error("Method must be implemented in subclass")}function kY(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function E0(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:kY("https://c.daily.co/call-machine/versioned/".concat("0.84.0","/static/call-machine-object-bundle.js"),e)}function P0(e){try{new URL(e)}catch{return!1}return!0}const ln=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Yc="8.55.0",Bt=globalThis;function A0(e,t,n){const r=Bt,a=r.__SENTRY__=r.__SENTRY__||{},i=a[Yc]=a[Yc]||{};return i[e]||(i[e]=t())}const Ru=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,AE=["debug","info","warn","error","log","assert","trace"],T0={};function Dv(e){if(!("console"in Bt))return e();const t=Bt.console,n={},r=Object.keys(T0);r.forEach(a=>{const i=T0[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}const dt=A0("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Ru?AE.forEach(n=>{t[n]=(...r)=>{e&&Dv(()=>{Bt.console[n](`Sentry Logger [${n}]:`,...r)})}}):AE.forEach(n=>{t[n]=()=>{}}),t}),Ic="?",L3=/\(error: (.*)\)/,F3=/captureMessage|captureException/;function Wx(e){return e[e.length-1]||{}}const B3="<anonymous>";function Gl(e){try{return e&&typeof e=="function"&&e.name||B3}catch{return B3}}function U3(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Py={},z3={};function Jc(e,t){Py[e]=Py[e]||[],Py[e].push(t)}function Xc(e,t){if(!z3[e]){z3[e]=!0;try{t()}catch(n){Ru&&dt.error(`Error while instrumenting ${e}`,n)}}}function ni(e,t){const n=e&&Py[e];if(n)for(const r of n)try{r(t)}catch(a){Ru&&dt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Gl(r)}
Error:`,a)}}let aN=null;function Rqe(){aN=Bt.onerror,Bt.onerror=function(e,t,n,r,a){return ni("error",{column:r,error:a,line:n,msg:e,url:t}),!!aN&&aN.apply(this,arguments)},Bt.onerror.__SENTRY_INSTRUMENTED__=!0}let iN=null;function Lqe(){iN=Bt.onunhandledrejection,Bt.onunhandledrejection=function(e){return ni("unhandledrejection",e),!iN||iN.apply(this,arguments)},Bt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Jj(){return iO(Bt),Bt}function iO(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Yc,t[Yc]=t[Yc]||{}}const EY=Object.prototype.toString;function oO(e){switch(EY.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return vu(e,Error)}}function zf(e,t){return EY.call(e)===`[object ${t}]`}function PY(e){return zf(e,"ErrorEvent")}function q3(e){return zf(e,"DOMError")}function ho(e){return zf(e,"String")}function lO(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function TE(e){return e===null||lO(e)||typeof e!="object"&&typeof e!="function"}function Xh(e){return zf(e,"Object")}function Xj(e){return typeof Event<"u"&&vu(e,Event)}function Qj(e){return!!(e&&e.then&&typeof e.then=="function")}function vu(e,t){try{return e instanceof t}catch{return!1}}function AY(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const cO=Bt;function TY(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=Fqe(n,d),!(u==="html"||i>1&&o+a.length*c+u.length>=h));)a.push(u),o+=u.length,n=n.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function Fqe(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(cO.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const a=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(a&&a.length)a.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ho(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Vd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function V3(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const a=e[r];try{AY(a)?n.push("[VueViewModel]"):n.push(String(a))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Bqe(e,t,n=!1){return!!ho(e)&&(zf(t,"RegExp")?t.test(e):!!ho(t)&&(n?e===t:e.includes(t)))}function Hx(e,t=[],n=!1){return t.some(r=>Bqe(e,r,n))}function zs(e,t,n){if(!(t in e))return;const r=e[t],a=n(r);typeof a=="function"&&OY(a,r);try{e[t]=a}catch{Ru&&dt.log(`Failed to replace method "${t}" in object`,e)}}function xu(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Ru&&dt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function OY(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,xu(e,"__sentry_original__",t)}catch{}}function uO(e){return e.__sentry_original__}function MY(e){if(oO(e))return{message:e.message,name:e.name,stack:e.stack,...H3(e)};if(Xj(e)){const t={type:e.type,target:W3(e.target),currentTarget:W3(e.currentTarget),...H3(e)};return typeof CustomEvent<"u"&&vu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function W3(e){try{return t=e,typeof Element<"u"&&vu(t,Element)?TY(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function H3(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ga(e){return OE(e,new Map)}function OE(e,t){if(function(n){if(!Xh(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(r[a]=OE(e[a],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(a=>{r.push(OE(a,t))}),r}return e}function Iv(){return Date.now()/1e3}const bo=function(){const{performance:e}=Bt;if(!e||!e.now)return Iv;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ja(){const e=Bt,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function DY(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function il(e){const{message:t,event_id:n}=e;if(t)return t;const r=DY(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ME(e,t,n){const r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Qh(e,t){const n=DY(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const a={...r&&r.data,...t.data};n.mechanism.data=a}}function G3(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{xu(e,"__sentry_captured__",!0)}catch{}return!1}var ro;function yu(e){return new ha(t=>{t(e)})}function O0(e){return new ha((t,n)=>{n(e)})}(()=>{const{performance:e}=Bt;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t;(i||l<t)&&a<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ro||(ro={}));class ha{constructor(t){ha.prototype.__init.call(this),ha.prototype.__init2.call(this),ha.prototype.__init3.call(this),ha.prototype.__init4.call(this),this._state=ro.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new ha((r,a)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){a(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){a(o)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ha((n,r)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{i?r(a):n(a)})})}__init(){this._resolve=t=>{this._setResult(ro.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ro.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===ro.PENDING&&(Qj(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ro.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ro.RESOLVED&&n[1](this._value),this._state===ro.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Uqe(e){const t=bo(),n={sid:ja(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return ga({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&Zh(n,e),n}function Zh(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||bo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ja()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function K3(){return ja()}function DE(){return ja().substring(16)}function Zj(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=Zj(r[a],t[a],n-1));return r}const IE="_sentrySpan";function Y3(e,t){t?xu(e,IE,t):delete e[IE]}function J3(e){return e[IE]}class dO{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:K3(),spanId:DE()}}clone(){const t=new dO;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Y3(t,J3(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Zh(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,a]=n instanceof Kl?[n.getScopeData(),n.getRequestSession()]:Xh(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Y3(this,void 0),this._attachments=[],this.setPropagationContext({traceId:K3()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const a={timestamp:Iv(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:J3(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Zj(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:DE(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ja();if(!this._client)return dt.warn("No client configured on scope - will not capture exception!"),r;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...n,event_id:r},this),r}captureMessage(t,n,r){const a=r&&r.event_id?r.event_id:ja();if(!this._client)return dt.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:a},this),a}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ja();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(dt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Kl=dO;class zqe{constructor(t,n){let r,a;r=t||new Kl,a=n||new Kl,this._stack=[{scope:r}],this._isolationScope=a}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(a){throw this._popScope(),a}return Qj(r)?r.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ef(){const e=iO(Jj());return e.stack=e.stack||new zqe(A0("defaultCurrentScope",()=>new Kl),A0("defaultIsolationScope",()=>new Kl))}function qqe(e){return ef().withScope(e)}function Vqe(e,t){const n=ef();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function X3(e){return ef().withScope(()=>e(ef().getIsolationScope()))}function hO(e){const t=iO(e);return t.acs?t.acs:{withIsolationScope:X3,withScope:qqe,withSetScope:Vqe,withSetIsolationScope:(n,r)=>X3(r),getCurrentScope:()=>ef().getScope(),getIsolationScope:()=>ef().getIsolationScope()}}function Lu(){return hO(Jj()).getCurrentScope()}function $v(){return hO(Jj()).getIsolationScope()}function Er(){return Lu().getClient()}function Wqe(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:a}=t;return ga({trace_id:n,span_id:r,parent_span_id:a})}function Hqe(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,a]]of t)(n[r]||(n[r]=[])).push(ga(a));return n}const Gqe=/^sentry-/;function Kqe(e){const t=function(r){if(!(!r||!ho(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((a,i)=>{const o=Q3(i);return Object.entries(o).forEach(([l,c])=>{a[l]=c}),a},{}):Q3(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[a,i])=>(a.match(Gqe)&&(r[a.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function Q3(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let Z3=!1;function Yqe(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return ga({parent_span_id:r?t:fO(e).parent_span_id,span_id:r?DE():t,trace_id:n})}function e5(e){return typeof e=="number"?t5(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?t5(e.getTime()):bo()}function t5(e){return e>9999999999?e/1e3:e}function fO(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const a=r;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:r,startTime:a,name:i,endTime:o,parentSpanId:l,status:c}=e;return ga({span_id:t,trace_id:n,data:r,description:i,parent_span_id:l,start_timestamp:e5(a),timestamp:e5(o)||void 0,status:Jqe(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:Hqe(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Jqe(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function IY(e){return e._sentryRootSpan||e}function Xqe(){Z3||(Dv(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Z3=!0)}const mO="production";function $Y(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},a=ga({environment:n.environment||mO,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",a),a}function Qqe(e){const t=Er();if(!t)return{};const n=IY(e),r=n._frozenDsc;if(r)return r;const a=n.spanContext().traceState,i=a&&a.get("sentry.dsc"),o=i&&Kqe(i);if(o)return o;const l=$Y(e.spanContext().traceId,t),c=fO(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(l.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=Er(),p=g&&g.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(l.sampled=String(function(m){const{traceFlags:g}=m.spanContext();return g===1}(n))),t.emit("createDsc",l,n),l}const Zqe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function M0(e,t=!1){const{host:n,path:r,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function n5(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function eVe(e){const t=typeof e=="string"?function(n){const r=Zqe.exec(n);if(!r)return void Dv(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[a,i,o="",l="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return n5({host:l,pass:o,path:d,projectId:h,port:c,protocol:a,publicKey:i})}(e):n5(e);if(t&&function(n){if(!Ru)return!0;const{port:r,projectId:a,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(dt.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(a.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(dt.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(dt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(dt.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function so(e,t=100,n=1/0){try{return $E("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function RY(e,t=3,n=102400){const r=so(e,t);return a=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>n?RY(e,t-1,n):r;var a}function $E(e,t,n=1/0,r=1/0,a=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(m,g){try{if(m==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(AY(g))return"[VueViewModel]";if(Xh(p=g)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${Gl(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const x=function(y){const b=Object.getPrototypeOf(y);return b?b.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var p}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return $E("",u.toJSON(),c-1,r,a)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=MY(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const g=f[m];d[m]=$E(m,g,c-1,r,a),h++}return o(t),d}function Tg(e,t=[]){return[e,t]}function tVe(e,t){const[n,r]=e;return[n,[...r,t]]}function r5(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function RE(e){return Bt.__SENTRY__&&Bt.__SENTRY__.encodePolyfill?Bt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function nVe(e){const[t,n]=e;let r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[RE(r),i]:r.push(typeof i=="string"?RE(i):i)}for(const i of n){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(so(l))}a(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(r)}function rVe(e){const t=typeof e.data=="string"?RE(e.data):e.data;return[ga({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const sVe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function s5(e){return sVe[e]}function LY(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function aVe(e,t,n,r){const a=LY(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:M0(d)},...h&&{trace:ga({...h})}}}(e,a,r,t);return delete e.sdkProcessingMetadata,Tg(o,[[{type:i},e]])}function LE(e,t,n,r=0){return new ha((a,i)=>{const o=e[r];if(t===null||typeof o!="function")a(t);else{const l=o({...t},n);ln&&o.id&&l===null&&dt.log(`Event processor "${o.id}" dropped event`),Qj(l)?l.then(c=>LE(e,c,n,r+1).then(a)).then(null,i):LE(e,l,n,r+1).then(a).then(null,i)}})}let Gx,a5,oN;function iVe(e,t){const{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:m}=l,g=ga(c);g&&Object.keys(g).length&&(o.extra={...g,...o.extra});const p=ga(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const x=ga(d);x&&Object.keys(x).length&&(o.user={...x,...o.user});const y=ga(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,l){o.contexts={trace:Yqe(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:Qqe(l),...o.sdkProcessingMetadata};const c=IY(l),u=fO(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,a),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function i5(e,t){const{extra:n,tags:r,user:a,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:g}=t;Kx(e,"extra",n),Kx(e,"tags",r),Kx(e,"user",a),Kx(e,"contexts",i),e.sdkProcessingMetadata=Zj(e.sdkProcessingMetadata,l,2),o&&(e.level=o),m&&(e.transactionName=m),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Kx(e,t,n){e[t]=Zj(e[t],n,1)}function oVe(e,t,n,r,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ja(),timestamp:t.timestamp||Iv()},u=n.integrations||e.integrations.map(g=>g.name);(function(g,p){const{environment:x,release:y,dist:b,maxValueLength:j=250}=p;g.environment=g.environment||x||mO,!g.release&&y&&(g.release=y),!g.dist&&b&&(g.dist=b),g.message&&(g.message=Vd(g.message,j));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=Vd(_.value,j));const S=g.request;S&&S.url&&(S.url=Vd(S.url,j))})(c,e),function(g,p){p.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...p])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(g,p){const x=function(y){const b=Bt._sentryDebugIds;if(!b)return{};const j=Object.keys(b);return oN&&j.length===a5||(a5=j.length,oN=j.reduce((_,S)=>{Gx||(Gx={});const N=Gx[S];if(N)_[N[0]]=N[1];else{const C=y(S);for(let k=C.length-1;k>=0;k--){const D=C[k],I=D&&D.filename,E=b[S];if(I&&E){_[I]=E,Gx[S]=[I,E];break}}}return _},{})),oN}(p);try{g.exception.values.forEach(y=>{y.stacktrace.frames.forEach(b=>{x&&b.filename&&(b.debug_id=x[b.filename])})})}catch{}}(c,e.stackParser);const d=function(g,p){if(!p)return g;const x=g?g.clone():new Kl;return x.update(p),x}(r,n.captureContext);n.mechanism&&Qh(c,n.mechanism);const h=a?a.getEventProcessors():[],f=A0("globalScope",()=>new Kl).getScopeData();i&&i5(f,i.getScopeData()),d&&i5(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),iVe(c,f),LE([...h,...f.eventProcessors],c,n).then(g=>(g&&function(p){const x={};try{p.exception.values.forEach(b=>{b.stacktrace.frames.forEach(j=>{j.debug_id&&(j.abs_path?x[j.abs_path]=j.debug_id:j.filename&&(x[j.filename]=j.debug_id),delete j.debug_id)})})}catch{}if(Object.keys(x).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(x).forEach(([b,j])=>{y.push({type:"sourcemap",code_file:b,debug_id:j})})}(g),typeof o=="number"&&o>0?function(p,x,y){if(!p)return null;const b={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(j=>({...j,...j.data&&{data:so(j.data,x,y)}}))},...p.user&&{user:so(p.user,x,y)},...p.contexts&&{contexts:so(p.contexts,x,y)},...p.extra&&{extra:so(p.extra,x,y)}};return p.contexts&&p.contexts.trace&&b.contexts&&(b.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(b.contexts.trace.data=so(p.contexts.trace.data,x,y))),p.spans&&(b.spans=p.spans.map(j=>({...j,...j.data&&{data:so(j.data,x,y)}}))),p.contexts&&p.contexts.flags&&b.contexts&&(b.contexts.flags=so(p.contexts.flags,3,y)),b}(g,o,l):g))}function o5(e,t){return Lu().captureEvent(e,t)}function l5(e){const t=Er(),n=$v(),r=Lu(),{release:a,environment:i=mO}=t&&t.getOptions()||{},{userAgent:o}=Bt.navigator||{},l=Uqe({release:a,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&Zh(c,{status:"exited"}),FY(),n.setSession(l),r.setSession(l),l}function FY(){const e=$v(),t=Lu(),n=t.getSession()||e.getSession();n&&function(r,a){let i={};r.status==="ok"&&(i={status:"exited"}),Zh(r,i)}(n),BY(),e.setSession(),t.setSession()}function BY(){const e=$v(),t=Lu(),n=Er(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function c5(e=!1){e?FY():BY()}function lVe(e,t,n){return t||`${function(r){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",o=a.port?`:${a.port}`:"";return`${i}//${a.host}${o}${a.path?`/${a.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,a){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,n)}`}const u5=[];function d5(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function h5(e,t,n){if(n[t.name])ln&&dt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,u5.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),u5.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),a=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(a)}ln&&dt.log(`Integration installed: ${t.name}`)}}class La extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const f5="Not capturing exception because it's already been captured.";class cVe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=eVe(t.dsn):ln&&dt.warn("No DSN provided, client will not send events."),this._dsn){const r=lVe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&Dv(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const a=ja();if(G3(t))return ln&&dt.log(f5),a;const i={event_id:a,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,a){const i={event_id:ja(),...r},o=lO(t)?t:String(t),l=TE(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,n,r){const a=ja();if(n&&n.originalException&&G3(n.originalException))return ln&&dt.log(f5),a;const i={event_id:a,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?ln&&dt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Zh(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(a=>r&&a))):yu(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];h5(this,t,this._integrations),n||d5(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=aVe(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=tVe(r,rVe(i));const a=this.sendEnvelope(r);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,a,i,o){const l=LY(i);return Tg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&a&&{dsn:M0(a)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const a=typeof r=="number"?r:1,i=`${t}:${n}`;ln&&dt.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const a=r.indexOf(n);a>-1&&r.splice(a,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(a=>a(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(ln&&dt.error("Error while sending envelope:",n),n)):(ln&&dt.error("Transport disabled"),yu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const a={};return r.forEach(i=>{i&&h5(n,i,a)}),a}(this,t),d5(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Zh(t,{...r&&{status:"crashed"},errors:t.errors||Number(a||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ha(n=>{let r=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(r+=1,t&&r>=t&&(clearInterval(a),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Lu(),a=$v()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||a.setLastEventId(t.event_id||n.event_id),oVe(i,t,n,r,this,a).then(l=>{if(l===null)return l;l.contexts={trace:Wqe(r),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||$Y(h.traceId,u)}(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(a=>a.event_id,a=>{ln&&(a instanceof La&&a.logLevel==="log"?dt.log(a.message):dt.warn(a))})}_processEvent(t,n,r){const a=this.getOptions(),{sampleRate:i}=a,o=p5(t),l=m5(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const g=typeof m=="string"?parseFloat(m):m;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;ln&&dt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),O0(new La(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new La("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const g=function(p,x,y,b){const{beforeSend:j,beforeSendTransaction:_,beforeSendSpan:S}=x;if(m5(y)&&j)return j(y,b);if(p5(y)){if(y.spans&&S){const N=[];for(const C of y.spans){const k=S(C);k?N.push(k):(Xqe(),p.recordDroppedEvent("before_send","span"))}y.spans=N}if(_){if(y.spans){const N=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return _(y,b)}}return y}(this,a,m,n);return function(p,x){const y=`${x} must return \`null\` or a valid event.`;if(Qj(p))return p.then(b=>{if(!Xh(b)&&b!==null)throw new La(y);return b},b=>{throw new La(`${x} rejected with ${b}`)});if(!Xh(p)&&p!==null)throw new La(y);return p}(g,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new La(`${u} returned \`null\`, will not send event.`,"log")}const g=r&&r.getSession();if(!o&&g&&this._updateSessionFromEvent(g,m),o){const x=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const x="custom";m.transaction_info={...p,source:x}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof La?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new La(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[a,i]=n.split(":");return{reason:a,category:i,quantity:r}})}_flushOutcomes(){ln&&dt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(ln&&dt.log("No outcomes to send"));if(!this._dsn)return void(ln&&dt.log("No dsn provided, will not send outcomes"));ln&&dt.log("Sending outcomes:",t);const n=(r=t,Tg((a=this._options.tunnel&&M0(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||Iv(),discarded_events:r}]]));var r,a,i;this.sendEnvelope(n)}}function m5(e){return e.type===void 0}function p5(e){return e.type==="transaction"}function uVe(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return O0(new La("Not adding Promise because buffer limit was reached."));const a=r();return t.indexOf(a)===-1&&t.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a},drain:function(r){return new ha((a,i)=>{let o=t.length;if(!o)return a(!0);const l=setTimeout(()=>{r&&r>0&&a(!1)},r);t.forEach(c=>{yu(c).then(()=>{--o||(clearTimeout(l),a(!0))},i)})})}}}function dVe(e,{statusCode:t,headers:n},r=Date.now()){const a={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[m]=r+f);else a.all=r+f}else o?a.all=r+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(a.all=r+6e4);return a}function hVe(e,t,n=uVe(e.bufferSize||64)){let r={};return{send:function(a){const i=[];if(r5(a,(c,u)=>{const d=s5(u);if(function(h,f,m=Date.now()){return function(g,p){return g[p]||g.all||0}(h,f)>m}(r,d)){const h=g5(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return yu({});const o=Tg(a[0],i),l=c=>{r5(o,(u,d)=>{const h=g5(u,d);e.recordDroppedEvent(c,s5(d),h)})};return n.add(()=>t({body:nVe(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&ln&&dt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=dVe(r,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof La)return ln&&dt.error("Skipped sending event because buffer is full."),l("queue_overflow"),yu({});throw c})},flush:a=>n.drain(a)}}function g5(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const fVe=100;function fc(e,t){const n=Er(),r=$v();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=fVe}=n.getOptions();if(i<=0)return;const o={timestamp:Iv(),...e},l=a?Dv(()=>a(o,t)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let v5;const x5=new WeakMap,mVe=()=>({name:"FunctionToString",setupOnce(){v5=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=uO(this),n=x5.has(Er())&&t!==void 0?t:this;return v5.apply(n,e)}}catch{}},setup(e){x5.set(e,!0)}}),pVe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],gVe=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const a=r.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:pVe],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,a);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(ln&&dt.warn(`Event dropped due to being internal Sentry Error.
Event: ${il(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>Hx(d,u))}(o,l.ignoreErrors)?(ln&&dt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${il(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(ln&&dt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${il(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Hx(d,u)}(o,l.ignoreTransactions)?(ln&&dt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${il(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Yx(c);return!!d&&Hx(d,u)}(o,l.denyUrls)?(ln&&dt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${il(o)}.
Url: ${Yx(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Yx(c);return!d||Hx(d,u)}(o,l.allowUrls)?!1:(ln&&dt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${il(o)}.
Url: ${Yx(o)}`),!0)}(t,i)?null:t}});function Yx(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const a=n[r];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return ln&&dt.error(`Cannot extract url for event ${il(e)}`),null}}function vVe(e,t,n=250,r,a,i,o){if(!(i.exception&&i.exception.values&&o&&vu(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=FE(e,t,a,o.originalException,r,i.exception.values,l,0),u=n,c.map(d=>(d.value&&(d.value=Vd(d.value,u)),d))))}function FE(e,t,n,r,a,i,o,l){if(i.length>=n+1)return i;let c=[...i];if(vu(r[a],Error)){y5(o,l);const u=e(t,r[a]),d=c.length;b5(u,a,d,l),c=FE(e,t,n,r[a],a,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(vu(u,Error)){y5(o,l);const h=e(t,u),f=c.length;b5(h,`errors[${d}]`,f,l),c=FE(e,t,n,u,a,[h,...c],h,f)}}),c}function y5(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function b5(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function lN(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function xVe(){"console"in Bt&&AE.forEach(function(e){e in Bt.console&&zs(Bt.console,e,function(t){return T0[e]=t,function(...n){ni("console",{args:n,level:e});const r=T0[e];r&&r.apply(Bt.console,n)}})})}function yVe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const bVe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(a,i){const o=a.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!j5(a,i)||!w5(a,i))}(n,r)||function(a,i){const o=_5(i),l=_5(a);return!(!o||!l||o.type!==l.type||o.value!==l.value||!j5(a,i)||!w5(a,i))}(n,r)):!1}(t,e))return ln&&dt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function w5(e,t){let n=U3(e),r=U3(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let a=0;a<r.length;a++){const i=r[a],o=n[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function j5(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function _5(e){return e.exception&&e.exception.values&&e.exception.values[0]}function N5(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const cN=Bt;function BE(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function wVe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in cN))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(BE(cN.fetch))return!0;let e=!1;const t=cN.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=BE(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Ru&&dt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function jVe(e,t){const n="fetch";Jc(n,e),Xc(n,()=>function(r,a=!1){a&&!wVe()||zs(Bt,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,g]=h;return{url:S5(m),method:UE(g,"method")?String(g.method).toUpperCase():"GET"}}const f=h[0];return{url:S5(f),method:UE(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*bo(),virtualError:l};return r||ni("fetch",{...d}),i.apply(Bt,o).then(async h=>(r?r(h):ni("fetch",{...d,endTimestamp:1e3*bo(),response:h}),h),h=>{throw ni("fetch",{...d,endTimestamp:1e3*bo(),error:h}),oO(h)&&h.stack===void 0&&(h.stack=l.stack,xu(h,"framesToPop",1)),h})}})}(void 0,t))}function UE(e,t){return!!e&&typeof e=="object"&&!!e[t]}function S5(e){return typeof e=="string"?e:e?UE(e,"url")?e.url:e.toString?e.toString():"":""}const Jx=Bt,rr=Bt;let zE=0;function C5(){return zE>0}function tf(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(uO(e))return e}catch{return e}const n=function(...r){try{const a=r.map(i=>tf(i,t));return e.apply(this,a)}catch(a){throw zE++,setTimeout(()=>{zE--}),function(...i){const o=hO(Jj());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(ME(l,void 0),Qh(l,t.mechanism)),l.extra={...l.extra,arguments:r},l)),o=a,Lu().captureException(o,void 0)}),a}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}OY(n,e),xu(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const e_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function pO(e,t){const n=gO(e,t),r={type:SVe(t),value:CVe(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _Ve(e,t,n,r){const a=Er(),i=a&&a.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:RY(t,i)};if(o)return{exception:{values:[pO(e,o)]},extra:l};const c={exception:{values:[{type:Xj(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:kVe(t,{isUnhandledRejection:r})}]},extra:l};if(n){const u=gO(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function uN(e,t){return{exception:{values:[pO(e,t)]}}}function gO(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&NVe.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,a)}catch{}return[]}const NVe=/Minified React error #\d+;/i;function UY(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function SVe(e){const t=e&&e.name;return!t&&UY(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function CVe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:UY(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function qE(e,t,n,r,a){let i;if(PY(t)&&t.error)return uN(e,t.error);if(q3(t)||zf(t,"DOMException")){const o=t;if("stack"in t)i=uN(e,t);else{const l=o.name||(q3(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=VE(e,c,n,r),ME(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return oO(t)?uN(e,t):Xh(t)||Xj(t)?(i=_Ve(e,t,n,a),Qh(i,{synthetic:!0}),i):(i=VE(e,t,n,r),ME(i,`${t}`),Qh(i,{synthetic:!0}),i)}function VE(e,t,n,r){const a={};if(r&&n){const i=gO(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),Qh(a,{synthetic:!0})}if(lO(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function kVe(e,{isUnhandledRejection:t}){const n=function(a,i=40){const o=Object.keys(MY(a));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return Vd(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Vd(u,i)}return""}(e),r=t?"promise rejection":"exception";return PY(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Xj(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class EVe extends cVe{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,a,i=[a],o="npm"){const l=r._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:Yc})),version:Yc}),r._metadata=l})(n,"browser",["browser"],rr.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&rr.document&&rr.document.addEventListener("visibilitychange",()=>{rr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,a,i,o){const l=qE(r,a,i&&i.syntheticException||void 0,o);return Qh(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),yu(l)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(a,i,o="info",l,c){const u=VE(a,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),yu(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(e_&&dt.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:a,tunnel:i,dsn:o}){const l={event_id:r.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!o&&{dsn:M0(o)}};return Tg(l,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const PVe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kr=Bt;let k5,dN,hN,Xx;function AVe(){if(!Kr.document)return;const e=ni.bind(null,"dom"),t=E5(e,!0);Kr.document.addEventListener("click",t,!1),Kr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Kr[n],a=r&&r.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(zs(a,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=E5(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),zs(a,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function E5(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;xu(n,"_sentryCaptured",!0),r&&!r._sentryId&&xu(r,"_sentryId",ja());const a=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==dN)return!1;try{if(!i.target||i.target._sentryId!==hN)return!1}catch{}return!0})(n)||(e({event:n,name:a,global:t}),dN=n.type,hN=r?r._sentryId:void 0),clearTimeout(k5),k5=Kr.setTimeout(()=>{hN=void 0,dN=void 0},1e3)}}function zY(e){const t="history";Jc(t,e),Xc(t,TVe)}function TVe(){if(!function(){const n=Jx.chrome,r=n&&n.app&&n.app.runtime,a="history"in Jx&&!!Jx.history.pushState&&!!Jx.history.replaceState;return!r&&a}())return;const e=Kr.onpopstate;function t(n){return function(...r){const a=r.length>2?r[2]:void 0;if(a){const i=Xx,o=String(a);Xx=o,ni("history",{from:i,to:o})}return n.apply(this,r)}}Kr.onpopstate=function(...n){const r=Kr.location.href,a=Xx;if(Xx=r,ni("history",{from:a,to:r}),e)try{return e.apply(this,n)}catch{}},zs(Kr.history,"pushState",t),zs(Kr.history,"replaceState",t)}const Ay={};function P5(e){Ay[e]=void 0}const Rm="__sentry_xhr_v3__";function OVe(){if(!Kr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const a=new Error,i=1e3*bo(),o=ho(r[0])?r[0].toUpperCase():void 0,l=function(u){if(ho(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!l)return t.apply(n,r);n[Rm]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Rm];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}ni("xhr",{endTimestamp:1e3*bo(),startTimestamp:i,xhr:n,virtualError:a})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,m]=h,g=d[Rm];return g&&ho(f)&&ho(m)&&(g.request_headers[f.toLowerCase()]=m),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const a=n[Rm];return a?(r[0]!==void 0&&(a.body=r[0]),ni("xhr",{startTimestamp:1e3*bo(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function MVe(e,t=function(n){const r=Ay[n];if(r)return r;let a=Kr[n];if(BE(a))return Ay[n]=a.bind(Kr);const i=Kr.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(a=l[n]),i.head.removeChild(o)}catch(o){PVe&&dt.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return a&&(Ay[n]=a.bind(Kr))}("fetch")){let n=0,r=0;return hVe(e,function(a){const i=a.body.length;n+=i,r++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return P5("fetch"),O0("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return P5("fetch"),n-=i,r--,O0(l)}})}function fN(e,t,n,r){const a={filename:e,function:t==="<anonymous>"?Ic:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const DVe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,IVe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$Ve=/\((\S*)(?::(\d+))(?::(\d+))\)/,RVe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,LVe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,FVe=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=L3.test(c)?c.replace(L3,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(Wx(c).function||"")&&c.pop(),c.reverse(),F3.test(Wx(c).function||"")&&(c.pop(),F3.test(Wx(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||Wx(c).filename,function:u.function||Ic}))}(i.slice(a))}}([30,e=>{const t=DVe.exec(e);if(t){const[,r,a,i]=t;return fN(r,Ic,+a,+i)}const n=IVe.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=$Ve.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,a]=A5(n[1]||Ic,n[2]);return fN(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=RVe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=LVe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||Ic;return[r,n]=A5(r,n),fN(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),A5=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Ic,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},T5=1024,BVe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(a){const i="console";Jc(i,a),Xc(i,xVe)}(function(a){return function(i){if(Er()!==a)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:yVe(i.level),message:V3(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${V3(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}fc(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(a,i){return function(o){if(Er()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>T5&&(e_&&dt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=T5),typeof u=="string"&&(u=[u]);try{const f=o.event,m=function(g){return!!g&&!!g.target}(f)?f.target:f;l=TY(m,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!cO.HTMLElement)return null;let p=g;for(let x=0;x<5;x++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${o.name}`,message:l};c&&(h.data={"ui.component_name":c}),fc(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Jc("dom",r),Xc("dom",AVe)),t.xhr&&function(a){Jc("xhr",a),Xc("xhr",OVe)}(function(a){return function(i){if(Er()!==a)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[Rm];if(!o||!l||!c)return;const{method:u,url:d,status_code:h,body:f}=c,m={method:u,url:d,status_code:h},g={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:l};fc({category:"xhr",data:m,type:"http",level:N5(h)},g)}}(n)),t.fetch&&jVe(function(a){return function(i){if(Er()!==a)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)fc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};fc({category:"fetch",data:u,type:"http",level:N5(u.status_code)},d)}}}(n)),t.history&&zY(function(a){return function(i){if(Er()!==a)return;let o=i.from,l=i.to;const c=lN(rr.location.href);let u=o?lN(o):void 0;const d=lN(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),fc({category:"navigation",data:{from:o,to:l}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(a){return function(i){Er()===a&&fc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:il(i)},{event:i})}}(n))}}},UVe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],zVe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&zs(rr,"setTimeout",O5),t.setInterval&&zs(rr,"setInterval",O5),t.requestAnimationFrame&&zs(rr,"requestAnimationFrame",qVe),t.XMLHttpRequest&&"XMLHttpRequest"in rr&&zs(XMLHttpRequest.prototype,"send",VVe);const n=t.eventTarget;n&&(Array.isArray(n)?n:UVe).forEach(WVe)}}};function O5(e){return function(...t){const n=t[0];return t[0]=tf(n,{mechanism:{data:{function:Gl(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function qVe(e){return function(t){return e.apply(this,[tf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Gl(e)},handled:!1,type:"instrument"}})])}}function VVe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&zs(n,r,function(a){const i={mechanism:{data:{function:r,handler:Gl(a)},handled:!1,type:"instrument"}},o=uO(a);return o&&(i.mechanism.data.handler=Gl(o)),tf(a,i)})}),e.apply(this,t)}}function WVe(e){const t=rr[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(zs(n,"addEventListener",function(r){return function(a,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=tf(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Gl(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[a,tf(i,{mechanism:{data:{function:"addEventListener",handler:Gl(i),target:e},handled:!1,type:"instrument"}}),o])}}),zs(n,"removeEventListener",function(r){return function(a,i,o){try{const l=i.__sentry_wrapped__;l&&r.call(this,a,l,o)}catch{}return r.call(this,a,i,o)}}))}const HVe=()=>({name:"BrowserSession",setupOnce(){rr.document!==void 0?(l5({ignoreDuration:!0}),c5(),zY(({from:e,to:t})=>{e!==void 0&&e!==t&&(l5({ignoreDuration:!0}),c5())})):e_&&dt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),GVe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(a){const i="error";Jc(i,a),Xc(i,Rqe)})(a=>{const{stackParser:i,attachStacktrace:o}=D5();if(Er()!==r||C5())return;const{msg:l,url:c,line:u,column:d,error:h}=a,f=function(m,g,p,x){const y=m.exception=m.exception||{},b=y.values=y.values||[],j=b[0]=b[0]||{},_=j.stacktrace=j.stacktrace||{},S=_.frames=_.frames||[],N=x,C=p,k=ho(g)&&g.length>0?g:function(){try{return cO.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:N,filename:k,function:Ic,in_app:!0,lineno:C}),m}(qE(i,h||l,void 0,o,!1),c,u,d);f.level="error",o5(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),M5("onerror")),t.onunhandledrejection&&(function(r){(function(a){const i="unhandledrejection";Jc(i,a),Xc(i,Lqe)})(a=>{const{stackParser:i,attachStacktrace:o}=D5();if(Er()!==r||C5())return;const l=function(u){if(TE(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=TE(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:qE(i,l,void 0,o,!0);c.level="error",o5(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),M5("onunhandledrejection"))}}};function M5(e){e_&&dt.log(`Global Handler attached: ${e}`)}function D5(){const e=Er();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const KVe=()=>({name:"HttpContext",preprocessEvent(e){if(!rr.navigator&&!rr.location&&!rr.document)return;const t=e.request&&e.request.url||rr.location&&rr.location.href,{referrer:n}=rr.document||{},{userAgent:r}=rr.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),YVe=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,a,i){const o=i.getOptions();vVe(pO,o.stackParser,o.maxValueLength,n,t,r,a)}}};var WE="new",I5="loading",$5="loaded",D0="joining-meeting",hl="joined-meeting",el="left-meeting",eo="error",JVe="blocked",XVe="off",QVe="sendable",ZVe="loading",eWe="interrupted",qY="playable",Ty="unknown",VY="full",tWe="lobby",nWe="none",WY="base",rWe="*",sWe="ejected",aWe="nbf-room",iWe="nbf-token",oWe="exp-room",lWe="exp-token",HE="no-room",cWe="meeting-full",HY="end-of-life",uWe="not-allowed",GY="connection-error",dWe="cam-in-use",hWe="mic-in-use",fWe="cam-mic-in-use",mWe="permissions",pWe="undefined-mediadevices",gWe="not-found",vWe="constraints",xWe="unknown",KY="iframe-ready-for-launch-config",YY="iframe-launch-config",JY="theme-updated",XY="loading",QY="load-attempt-failed",GE="loaded",ZY="started-camera",eJ="camera-error",tJ="joining-meeting",nJ="joined-meeting",rJ="left-meeting",sJ="participant-joined",aJ="participant-updated",iJ="participant-left",oJ="participant-counts-updated",lJ="access-state-updated",cJ="meeting-session-summary-updated",uJ="meeting-session-state-updated",yWe="meeting-session-data-error",dJ="waiting-participant-added",hJ="waiting-participant-updated",fJ="waiting-participant-removed",mJ="track-started",pJ="track-stopped",gJ="transcription-started",vJ="transcription-stopped",xJ="transcription-error",KE="recording-started",YE="recording-stopped",yJ="recording-stats",bJ="recording-error",wJ="recording-upload-completed",jJ="recording-data",_J="app-message",NJ="transcription-message",SJ="remote-media-player-started",CJ="remote-media-player-updated",kJ="remote-media-player-stopped",EJ="local-screen-share-started",PJ="local-screen-share-stopped",AJ="local-screen-share-canceled",TJ="active-speaker-change",OJ="active-speaker-mode-change",MJ="network-quality-change",DJ="network-connection",IJ="cpu-load-change",$J="face-counts-updated",Lm="fullscreen",Fm="exited-fullscreen",RJ="live-streaming-started",LJ="live-streaming-updated",FJ="live-streaming-stopped",BJ="live-streaming-error",UJ="lang-updated",zJ="receive-settings-updated",JE="input-settings-updated",XE="nonfatal-error",QE="error",mN=4096,R5=102400,pN="iframe-call-message",L5="local-screen-start",F5="daily-method-update-live-streaming-endpoints",Qx="transmit-log",fo="daily-custom-track",Oy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},qJ={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},ZE={PLAY:"play",PAUSE:"pause"},gN=["jpg","png","jpeg"],bWe="add-endpoints",wWe="remove-endpoints",B5="sip-call-transfer";function ka(){return!Et()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Et(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function VJ(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function jWe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(bu(),I0())||Et())}function U5(){if(Et()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var e2="none",_We="software",NWe="hardware",SWe=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?_We:NWe:e2}catch{return e2}}();function WJ(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Et()&&SWe!==e2&&(e?function(){return z5()?!1:["Chrome","Firefox"].includes(bu())}():function(){if(z5())return!1;var t=bu();if(t==="Safari"){var n=xO();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?vO().major>=77:t==="Firefox"?yO().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function HJ(){if(Et()||GJ()||typeof AudioWorkletNode>"u")return!1;switch(bu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=I0();return e.major>17||e.major===17&&e.minor>=4}return!1}function vN(){return VJ()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=bu();if(!ka())return!0;switch(t){case"Chrome":return(e=vO()).major&&e.major>0&&e.major<75;case"Firefox":return(e=yO()).major<91;case"Safari":return(e=xO()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function GJ(){return ka().match(/Linux; Android/)}function z5(){var e,t=ka(),n=t.match(/Mac/)&&(!Et()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!ka().match(/DailyAnd\//)||void 0}function bu(){if(typeof window<"u"){var e=ka();return KJ()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||YJ()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function I0(){switch(bu()){case"Chrome":return vO();case"Safari":return xO();case"Firefox":return yO();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=ka().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function vO(){var e=0,t=0,n=0,r=0,a=!1;if(typeof window<"u"){var i=ka(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:a}}function KJ(){return!!ka().match(/iPad|iPhone|iPod/i)&&VJ()}function YJ(){return ka().indexOf("AppleWebKit/605.1.15")>-1}function xO(){var e=0,t=0,n=0;if(typeof window<"u"){var r=ka().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(KJ()||YJ())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function yO(){var e=0,t=0;if(typeof window<"u"){var n=ka().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var JJ=function(){return ea(function e(){Zs(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){Nm()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){Nm()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){Nm()}},{key:"sendMessageToDailyJs",value:function(e,t){Nm()}},{key:"removeListener",value:function(e){Nm()}}])}();function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){Ai(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XJ=function(){return!!e})()}var CWe=function(){function e(){var t,n,r,a;return Zs(this,e),n=this,r=li(r=e),(t=Gj(n,XJ()?Reflect.construct(r,[],li(n).constructor):r.apply(n,a)))._wrappedListeners={},t._messageCallbacks={},t}return Kj(e,JJ),ea(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var a=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=xN({},o.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(r,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(r,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var a=function(i){var o;if(!(!i.data||i.data.what!==pN||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(r,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,n,r,a){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=xN({},t);if(i.what=pN,i.from="module",i.callClientId=r,n){var o=Yj();this._messageCallbacks[o]=n,i.callbackStamp=o}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=pN,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var a=xN({},t);a.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(a,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===n)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function V5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function QJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QJ=function(){return!!e})()}var kWe=function(){function e(){var t,n,r,a;return Zs(this,e),n=this,r=li(r=e),t=Gj(n,QJ()?Reflect.construct(r,[],li(n).constructor):r.apply(n,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new PE.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new PE.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Kj(e,JJ),ea(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,a,i){var o=this,l=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(a,c),delete o._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(t,n,r,a,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?V5(Object(d),!0).forEach(function(h){Ai(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):V5(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,a){var l=Yj();this._messageCallbacks[l]=a,o.callbackStamp=l}n.emit("message",o)}}])}(),t2="replace",n2="shallow-merge",W5=[t2,n2],EWe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,a=r===void 0?t2:r;Zs(this,e),e._validateMergeStrategy(a),e._validateData(n,a),this.mergeStrategy=a,this.data=n}return ea(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===n2}},{key:"_validateMergeStrategy",value:function(t){if(!W5.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(W5,"]"))}},{key:"_validateData",value:function(t,n){if(!function(l){if(l==null||Mt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===t2){var a=JSON.parse(r);Wr(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(n===n2){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Wr(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(r.length>R5)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(R5,"."))}}])}();function ZJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZJ=function(){return!!e})()}function r2(e){var t=typeof Map=="function"?new Map:void 0;return r2=function(n){if(n===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(a,i,o){if(ZJ())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return o&&Ag(c,o.prototype),c}(n,arguments,li(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ag(r,n)},r2(e)}function eX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eX=function(){return!!e})()}function H5(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var PWe=function(){return ea(function e(t){Zs(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new AWe(n,function(){r(!1)},function(i,o){o||H5(t._callClientId),a(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),H5(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),AWe=function(){return ea(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Zs(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new G5(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new G5(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),yN=function(){function e(){return Zs(this,e),t=this,r=arguments,n=li(n=e),Gj(t,eX()?Reflect.construct(n,r||[],li(t).constructor):n.apply(t,r));var t,n,r}return Kj(e,r2(Error)),ea(e)}(),$0=2e4,G5=function(){return ea(function t(n,r,a){Zs(this,t),this._loadAttemptImpl=Et()||!n.avoidEval?new TWe(n,r,a):new OWe(n,r,a)},[{key:"start",value:(e=at(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),TWe=function(){return ea(function a(i,o,l){Zs(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(r=at(function*(){var a=E0(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=at(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=at(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat($0," ms) when loading call object bundle ").concat(a),type:"timeout"})},$0);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new yN;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new yN;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof yN||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=at(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),OWe=function(){return ea(function e(t,n,r){Zs(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Yj(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=E0(this._dailyConfig);(typeof document>"u"?"undefined":Mt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat($0," ms) when loading call object bundle ").concat(e),type:"timeout"})},$0);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Zx=function(e,t,n){return DWe(e.local,t,n)===!0},MWe=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},jd=function(e,t,n,r){var a=IWe(e,t,n,r);return a&&a.pendingTrack},DWe=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?r(a[t].custom):r(a[t].custom[n]):r(a[t][n]):!a||r(a.ALL)},IWe=function(e,t,n,r){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return a&&a[0]},$We=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function K5(e,t){for(var n=t.getState(),r=0,a=["cam","screen"];r<a.length;r++)for(var i=a[r],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?MWe(n,i,c):jd(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function Y5(e,t){try{var n=t.getState();for(var r in e.tracks)if(!RWe(r)){var a=e.tracks[r].kind;if(a){var i=e.tracks[r];if(i){var o=e.local?$We(n,r):jd(n,e.session_id,r,a);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function RWe(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function J5(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Zx(r,e.session_id,"cam-audio")){var o=jd(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Zx(r,e.session_id,"cam-video")){var l=jd(r,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&Zx(r,e.session_id,"screen-audio")){var c=jd(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Zx(r,e.session_id,"screen-video")){var u=jd(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function LWe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return X5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?X5(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function X5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ni=new Map,Wd=null;function FWe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return Q5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Q5(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function Q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Si=new Map,dp=null;function BWe(e){tX()?function(t){Ni.has(t)||(Ni.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ni.has(t)&&(Ni.get(t).lastDevicesString=JSON.stringify(n),Wd||(Wd=function(){var r=at(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),o=LWe(Ni.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value,c=JSON.stringify(i);c!==Ni.get(l).lastDevicesString&&(Ni.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Wd)))}).catch(function(){}))}(e):function(t){Si.has(t)||(Si.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Si.has(t)&&(Si.get(t).lastDevicesString=JSON.stringify(n),dp||(dp=setInterval(at(function*(){var r,a=yield navigator.mediaDevices.enumerateDevices(),i=FWe(Si.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,l=JSON.stringify(a);l!==Si.get(o).lastDevicesString&&(Si.get(o).lastDevicesString=l,o(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function UWe(e){tX()?function(t){Ni.has(t)&&(Ni.delete(t),Ni.size===0&&Wd&&(navigator.mediaDevices.removeEventListener("devicechange",Wd),Wd=null))}(e):function(t){Si.has(t)&&(Si.delete(t),Si.size===0&&dp&&(clearInterval(dp),dp=null))}(e)}function tX(){var e;return Et()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var zWe=new Set;function qWe(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!zWe.has(n.id)}(e)}function Z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(n),!0).forEach(function(r){Ai(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Bm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),VWe=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),hp=Object.values(Bm),eF=["v","a","sv","sa","cv","ca"];Object.freeze(hp.reduce(function(e,t,n){return e[t]=eF[n],e},{})),Object.freeze(eF.reduce(function(e,t,n){return e[t]=hp[n],e},{}));var WWe=[Bm.VIDEO,Bm.AUDIO,Bm.SCREEN_VIDEO,Bm.SCREEN_AUDIO],tF=Object.values(VWe),nF=["p","s","t"];Object.freeze(tF.reduce(function(e,t,n){return e[t]=nF[n],e},{})),Object.freeze(nF.reduce(function(e,t,n){return e[t]=tF[n],e},{}));var nX=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,a=t.byParticipantId;Zs(this,e),this.base=n,this.byUserId=r,this.byParticipantId=a}return ea(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof dr?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof dr?r.clone():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof dr?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof dr&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof dr?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof dr?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof dr&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Or(t,2),r=n[0],a=n[1];return[r,a instanceof dr?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Or(t,2),r=n[0],a=n[1];return[r,a instanceof dr?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,a;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:dr.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:dr.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:dr.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,a;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:dr.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:dr.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:dr.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(Mt(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Or(dr.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(Mt(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Or(dr.validateJSONObject(h),2),m=f[0],g=f[1];if(!m)return[!1,g]}}}return[!0]}}])}(),dr=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,a=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;Zs(this,e),this.video=n,this.audio=r,this.screenVideo=a,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return ea(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Yo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Yo({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Yo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Yo({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Yo({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Yo({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Yo({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Yo({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Mt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),a=0,i=r;a<i.length;a++){var o=i[a];if(!hp.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(WWe.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Mt(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==hp.length?[!1,'canReceive "base" permission must specify all media types: '.concat(hp.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),HWe=["result"],GWe=["preserveIframe"];function rF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(n),!0).forEach(function(r){Ai(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rX=function(){return!!e})()}function sF(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return aF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?aF(c,u):void 0}}(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mc={},iF="video",KWe="voice",oF=Et()?{data:{}}:{data:{},topology:"none"},lF={present:0,hidden:0},sX={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},bN=Object.keys(sX),cF=["state","volume","simulcastEncodings"],uF={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},R0={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},s2={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},pc={customIntegrations:{validate:hX,help:uX()},customTrayButtons:{validate:dX,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(R0))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return fX(e,uF)},help:"reactNativeConfig should look like ".concat(JSON.stringify(uF),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return aX(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:fo};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:fo};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Mt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return iX(e,{allowAllParticipantsKey:!1})},help:cX({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!oX(e)&&(t._inputSettings||(t._inputSettings={}),lX(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:a2()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},ey={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Et()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!n.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!o&&!r.includes(l),u=!n.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Et()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Or(n[t],2),a=r[0],i=r[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=sF(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(y){c.e(y)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Or(nX.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,g=["participants","streaming","transcription"],p=sF(i);try{for(p.s();!(m=p.n()).done;){var x=m.value;if(!g.includes(x))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=at(function*(t){return new Promise(function(n,r){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){a.push(o),a.length===t.length&&r(a)})})})});return function(t){return e.apply(this,arguments)}}());var YWe=function(){function e(w){var A,P,z,q,te,X,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Zs(this,e),z=this,q=li(q=e),Ai(P=Gj(z,rX()?Reflect.construct(q,[],li(z).constructor):q.apply(z,te)),"startListeningForDeviceChanges",function(){BWe(P.handleDeviceChange)}),Ai(P,"stopListeningForDeviceChanges",function(){UWe(P.handleDeviceChange)}),Ai(P,"handleDeviceChange",function(ee){ee=ee.map(function(ge){return JSON.parse(JSON.stringify(ge))}),P.emitDailyJSEvent({action:"available-devices-updated",availableDevices:ee})}),Ai(P,"handleNativeAppStateChange",function(){var ee=at(function*(ge){if(ge==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield P.destroy());var Se=ge==="active";P.disableReactNativeAutoDeviceManagement("video")||(Se?P.camUnmutedBeforeLosingNativeActiveState&&P.setLocalVideo(!0):(P.camUnmutedBeforeLosingNativeActiveState=P.localVideo(),P.camUnmutedBeforeLosingNativeActiveState&&P.setLocalVideo(!1)))});return function(ge){return ee.apply(this,arguments)}}()),Ai(P,"handleNativeAudioFocusChange",function(ee){P.disableReactNativeAutoDeviceManagement("audio")||(P._hasNativeAudioFocus=ee,P.toggleParticipantAudioBasedOnNativeAudioFocus(),P._hasNativeAudioFocus?P.micUnmutedBeforeLosingNativeAudioFocus&&P.setLocalAudio(!0):(P.micUnmutedBeforeLosingNativeAudioFocus=P.localAudio(),P.setLocalAudio(!1)))}),Ai(P,"handleNativeSystemScreenCaptureStop",function(){P.stopScreenShare()}),!vN()&&!Et())throw new Error("WebRTC not supported or suppressed");if(P.strictMode=V.strictMode===void 0||V.strictMode,P.allowMultipleCallInstances=(A=V.allowMultipleCallInstances)!==null&&A!==void 0&&A,Object.keys(mc).length&&(P._logDuplicateInstanceAttempt(),!P.allowMultipleCallInstances)){if(P.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),P.callClientId=Yj(),mc[(X=P).callClientId]=X,window._daily.instances[P.callClientId]={},P._sharedTracks={},window._daily.instances[P.callClientId].tracks=P._sharedTracks,V.dailyJsVersion=e.version(),P._iframe=w,P._callObjectMode=V.layout==="none"&&!P._iframe,P._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?P._callObjectMode?console.error("showLocalVideo is not available in call object mode"):P._showLocalVideo=!!V.showLocalVideo:P._showLocalVideo=!0,V.showParticipantsBar!==void 0?P._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):P._showParticipantsBar=!!V.showParticipantsBar:P._showParticipantsBar=!0,V.customIntegrations!==void 0?P._callObjectMode?console.error("customIntegrations is not available in call object mode"):P._customIntegrations=V.customIntegrations:P._customIntegrations={},V.customTrayButtons!==void 0?P._callObjectMode?console.error("customTrayButtons is not available in call object mode"):P._customTrayButtons=V.customTrayButtons:P._customTrayButtons={},V.activeSpeakerMode!==void 0?P._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):P._activeSpeakerMode=!!V.activeSpeakerMode:P._activeSpeakerMode=!1,V.receiveSettings?P._callObjectMode?P._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):P._receiveSettings={},P.validateProperties(V),P.properties=He({},V),P._inputSettings||(P._inputSettings={}),P._callObjectLoader=P._callObjectMode?new PWe(P.callClientId):null,P._callState=WE,P._isPreparingToJoin=!1,P._accessState={access:Ty},P._meetingSessionSummary={},P._finalSummaryOfPrevSession={},P._meetingSessionState=_N(oF,P._callObjectMode),P._nativeInCallAudioMode=iF,P._participants={},P._isScreenSharing=!1,P._participantCounts=lF,P._rmpPlayerState={},P._waitingParticipants={},P._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},P._activeSpeaker={},P._localAudioLevel=0,P._isLocalAudioLevelObserverRunning=!1,P._remoteParticipantsAudioLevel={},P._isRemoteParticipantsAudioLevelObserverRunning=!1,P._maxAppMessageSize=mN,P._messageChannel=Et()?new kWe:new CWe,P._iframe&&(P._iframe.requestFullscreen?P._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===P._iframe?(P.emitDailyJSEvent({action:Lm}),P.sendMessageToCallMachine({action:Lm})):(P.emitDailyJSEvent({action:Fm}),P.sendMessageToCallMachine({action:Fm}))}):P._iframe.webkitRequestFullscreen&&P._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===P._iframe?(P.emitDailyJSEvent({action:Lm}),P.sendMessageToCallMachine({action:Lm})):(P.emitDailyJSEvent({action:Fm}),P.sendMessageToCallMachine({action:Fm}))})),Et()){var se=P.nativeUtils();se.addAudioFocusChangeListener&&se.removeAudioFocusChangeListener&&se.addAppStateChangeListener&&se.removeAppStateChangeListener&&se.addSystemScreenCaptureStopListener&&se.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),P._hasNativeAudioFocus=!0,se.addAudioFocusChangeListener(P.handleNativeAudioFocusChange),se.addAppStateChangeListener(P.handleNativeAppStateChange),se.addSystemScreenCaptureStopListener(P.handleNativeSystemScreenCaptureStop)}return P._callObjectMode&&P.startListeningForDeviceChanges(),P._messageChannel.addListenerForMessagesFromCallMachine(P.handleMessageFromCallMachine,P.callClientId,P),P}return Kj(e,Vx),ea(e,[{key:"destroy",value:(W=at(function*(){var w;try{yield this.leave()}catch{}var A=this._iframe;if(A){var P=A.parentElement;P&&P.removeChild(A)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Et()){var z=this.nativeUtils();z.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),z.removeAppStateChangeListener(this.handleNativeAppStateChange),z.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete mc[this.callClientId],!((w=window)===null||w===void 0||(w=w._daily)===null||w===void 0)&&w.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return W.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(w){var A=w.bodyClass,P=w.cssFile,z=w.cssText;return Ct(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(P),bodyClass:A,cssText:z}),this}},{key:"iframe",value:function(){return Ct(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ia(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ia(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(w,A){for(var P in A){if(!ey[P])throw new Error("unrecognized updateParticipant property ".concat(P));if(ey[P].validate&&!ey[P].validate(A[P],this,this._participants[w]))throw new Error(ey[P].help)}}},{key:"updateParticipant",value:function(w,A){return this._participants.local&&this._participants.local.session_id===w&&(w="local"),w&&A&&(this.validateParticipantProperties(w,A),this.sendMessageToCallMachine({action:"update-participant",id:w,properties:A})),this}},{key:"updateParticipants",value:function(w){var A=this._participants.local&&this._participants.local.session_id;for(var P in w)P===A&&(P="local"),P&&w[P]&&this.validateParticipantProperties(P,w[P]);return this.sendMessageToCallMachine({action:"update-participants",participants:w}),this}},{key:"updateWaitingParticipant",value:(G=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ia(this._callObjectMode,"updateWaitingParticipant()"),nn(this._callState,"updateWaitingParticipant()"),typeof A!="string"||Mt(P)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(z,q){w.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:A,updates:P},function(te){te.error&&q(te.error),te.id||q(new Error("unknown error in updateWaitingParticipant()")),z({id:te.id})})})}),function(){return G.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(T=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ia(this._callObjectMode,"updateWaitingParticipants()"),nn(this._callState,"updateWaitingParticipants()"),Mt(A)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(P,z){w.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:A},function(q){q.error&&z(q.error),q.ids||z(new Error("unknown error in updateWaitingParticipants()")),P({ids:q.ids})})})}),function(){return T.apply(this,arguments)})},{key:"requestAccess",value:(B=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=A.access,z=P===void 0?{level:VY}:P,q=A.name,te=q===void 0?"":q;return Ia(this._callObjectMode,"requestAccess()"),nn(this._callState,"requestAccess()"),new Promise(function(X,V){w.sendMessageToCallMachine({action:"daily-method-request-access",access:z,name:te},function(se){se.error&&V(se.error),se.access||V(new Error("unknown error in requestAccess()")),X({access:se.access,granted:se.granted})})})}),function(){return B.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in A&&(Et()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),A={}):w&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),A={})),this.sendMessageToCallMachine({action:"local-audio",state:w,options:A}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(w){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:w}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(w){return this.sendMessageToCallMachine({action:"local-video",state:w}),this}},{key:"_setAllowLocalAudio",value:function(w){if(this._preloadCache.allowLocalAudio=w,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:w}),this}},{key:"_setAllowLocalVideo",value:function(w){if(this._preloadCache.allowLocalVideo=w,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:w}),this}},{key:"getReceiveSettings",value:(R=at(function*(w){var A=this,P=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,z=P!==void 0&&P;if(Ia(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Mt(w)){case"string":return new Promise(function(q){A.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:w,showInheritedValues:z},function(te){q(te.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(w){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:(O=at(function*(w){var A=this;if(Ia(this._callObjectMode,"updateReceiveSettings()"),!iX(w,{allowAllParticipantsKey:!0}))throw new Error(cX({allowAllParticipantsKey:!0}));return nn(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(P){A.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:w},function(z){P({receiveSettings:z.receiveSettings})})})}),function(w){return O.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(w,A){if(w){var P={};if(w.audio){var z,q,te;w.audio.settings&&(!Object.keys(w.audio.settings).length&&A||(P.audio={settings:He({},w.audio.settings)})),A&&(z=P.audio)!==null&&z!==void 0&&(z=z.settings)!==null&&z!==void 0&&z.customTrack&&(P.audio.settings={customTrack:this._sharedTracks.audioTrack});var X=((q=w.audio.processor)===null||q===void 0?void 0:q.type)==="none"&&((te=w.audio.processor)===null||te===void 0?void 0:te._isDefaultWhenNone);if(w.audio.processor&&!X){var V=He({},w.audio.processor);delete V._isDefaultWhenNone,P.audio=He(He({},P.audio),{},{processor:V})}}if(w.video){var se,ee,ge;w.video.settings&&(!Object.keys(w.video.settings).length&&A||(P.video={settings:He({},w.video.settings)})),A&&(se=P.video)!==null&&se!==void 0&&(se=se.settings)!==null&&se!==void 0&&se.customTrack&&(P.video.settings={customTrack:this._sharedTracks.videoTrack});var Se=((ee=w.video.processor)===null||ee===void 0?void 0:ee.type)==="none"&&((ge=w.video.processor)===null||ge===void 0?void 0:ge._isDefaultWhenNone);if(w.video.processor&&!Se){var ze=He({},w.video.processor);delete ze._isDefaultWhenNone,P.video=He(He({},P.video),{},{processor:ze})}}return P}}},{key:"getInputSettings",value:function(){var w=this;return Ct(),new Promise(function(A){A(w._getInputSettings())})}},{key:"_getInputSettings",value:function(){var w,A,P,z,q,te,X={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(w=((P=this._inputSettings)===null||P===void 0?void 0:P.video)||X,A=((z=this._inputSettings)===null||z===void 0?void 0:z.audio)||X):(w=((q=this._preloadCache)===null||q===void 0||(q=q.inputSettings)===null||q===void 0?void 0:q.video)||X,A=((te=this._preloadCache)===null||te===void 0||(te=te.inputSettings)===null||te===void 0?void 0:te.audio)||X);var V={audio:A,video:w};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(w,A){var P=this._inputSettings||{},z={};if(w.video){var q,te,X;z.video={},w.video.settings?(z.video.settings={},A||w.video.settings.customTrack||(X=P.video)===null||X===void 0||!X.settings?z.video.settings=w.video.settings:z.video.settings=He(He({},P.video.settings),w.video.settings),Object.keys(z.video.settings).length||delete z.video.settings):(q=P.video)!==null&&q!==void 0&&q.settings&&(z.video.settings=P.video.settings),w.video.processor?z.video.processor=w.video.processor:(te=P.video)!==null&&te!==void 0&&te.processor&&(z.video.processor=P.video.processor)}else P.video&&(z.video=P.video);if(w.audio){var V,se,ee;z.audio={},w.audio.settings?(z.audio.settings={},A||w.audio.settings.customTrack||(ee=P.audio)===null||ee===void 0||!ee.settings?z.audio.settings=w.audio.settings:z.audio.settings=He(He({},P.audio.settings),w.audio.settings),Object.keys(z.audio.settings).length||delete z.audio.settings):(V=P.audio)!==null&&V!==void 0&&V.settings&&(z.audio.settings=P.audio.settings),w.audio.processor?z.audio.processor=w.audio.processor:(se=P.audio)!==null&&se!==void 0&&se.processor&&(z.audio.processor=P.audio.processor)}else P.audio&&(z.audio=P.audio);this._maybeUpdateInputSettings(z)}},{key:"_devicesFromInputSettings",value:function(w){var A,P,z=(w==null||(A=w.video)===null||A===void 0||(A=A.settings)===null||A===void 0?void 0:A.deviceId)||null,q=(w==null||(P=w.audio)===null||P===void 0||(P=P.settings)===null||P===void 0?void 0:P.deviceId)||null,te=this._preloadCache.outputDeviceId||null;return{camera:z?{deviceId:z}:{},mic:q?{deviceId:q}:{},speaker:te?{deviceId:te}:{}}}},{key:"updateInputSettings",value:(M=at(function*(w){var A=this;return Ct(),oX(w)?w.video||w.audio?(lX(w,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(w,!0),this._getInputSettings()):new Promise(function(P,z){A.sendMessageToCallMachine({action:"update-input-settings",inputSettings:w},function(q){if(q.error)z(q.error);else{if(q.returnPreloadCache)return A._updatePreloadCacheInputSettings(w,!0),void P(A._getInputSettings());A._maybeUpdateInputSettings(q.inputSettings),P(A._prepInputSettingsForSharing(q.inputSettings,!0))}})})):this._getInputSettings():(console.error(a2()),Promise.reject(a2()))}),function(w){return M.apply(this,arguments)})},{key:"setBandwidth",value:function(w){var A=w.kbs,P=w.trackConstraints;if(Ct(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:A,trackConstraints:P}),this}},{key:"getDailyLang",value:function(){var w=this;if(Ct(),this._callMachineInitialized)return new Promise(function(A){w.sendMessageToCallMachine({action:"get-daily-lang"},function(P){delete P.action,delete P.callbackStamp,A(P)})})}},{key:"setDailyLang",value:function(w){return Ct(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:w}),this}},{key:"setProxyUrl",value:function(w){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:w}),this}},{key:"setIceConfig",value:function(w){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:w}),this}},{key:"meetingSessionSummary",value:function(){return[el,eo].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:($=at(function*(){var w=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),nn(this._callState,"getMeetingSession()"),new Promise(function(A){w.sendMessageToCallMachine({action:"get-meeting-session"},function(P){delete P.action,delete P.callbackStamp,A(P)})})}),function(){return $.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return nn(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ia(this._callObjectMode,"setMeetingSessionData()"),nn(this._callState,"setMeetingSessionData");try{(function(P,z){new EWe({data:P,mergeStrategy:z})})(w,A)}catch(P){throw console.error(P),P}try{this.sendMessageToCallMachine({action:"set-session-data",data:w,mergeStrategy:A})}catch(P){throw new Error("Error setting meeting session data: ".concat(P))}}},{key:"setUserName",value:function(w,A){var P=this;return this.properties.userName=w,new Promise(function(z){P.sendMessageToCallMachine({action:"set-user-name",name:w??"",thisMeetingOnly:Et()||!!A&&!!A.thisMeetingOnly},function(q){delete q.action,delete q.callbackStamp,z(q)})})}},{key:"setUserData",value:(F=at(function*(w){var A=this;try{aX(w)}catch(P){throw console.error(P),P}if(this.properties.userData=w,this._callMachineInitialized)return new Promise(function(P){try{A.sendMessageToCallMachine({action:"set-user-data",userData:w},function(z){delete z.action,delete z.callbackStamp,P(z)})}catch(z){throw new Error("Error setting user data: ".concat(z))}})}),function(w){return F.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(w){if(w&&(w<100||typeof w!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(w){var A=this;if(typeof AudioWorkletNode>"u"&&!Et())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(w),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(P,z){A.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:w},function(q){A._isLocalAudioLevelObserverRunning=!q.error,q.error?z({error:q.error}):P()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:w}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(w){var A=this;if(this.validateAudioLevelInterval(w),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(P,z){A.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:w},function(q){A._isRemoteParticipantsAudioLevelObserverRunning=!q.error,q.error?z({error:q.error}):P()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:w}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(U=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ia(this._callObjectMode,"startCamera()"),wN(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(A)}catch(P){return Promise.reject(P)}else{if(this._didPreAuth){if(A.url&&A.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(A.token&&A.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(A),this.properties=He(He({},this.properties),A)}return new Promise(function(P){w._preloadCache.inputSettings=w._prepInputSettingsForSharing(w._inputSettings,!1),w.sendMessageToCallMachine({action:"start-camera",properties:nd(w.properties,w.callClientId),preloadCache:nd(w._preloadCache,w.callClientId)},function(z){P({camera:z.camera,mic:z.mic,speaker:z.speaker})})})}),function(){return U.apply(this,arguments)})},{key:"validateCustomTrack",value:function(w,A,P){if(P&&P.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(A&&A!=="music"&&A!=="speech"&&!(A instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(P&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(P))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(w instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Ct(),nn(this._callState,"startCustomTrack()"),this.validateCustomTrack(A.track,A.mode,A.trackName),new Promise(function(P,z){w._sharedTracks.customTrack=A.track,A.track=fo,w.sendMessageToCallMachine({action:"start-custom-track",properties:A},function(q){q.error?z({error:q.error}):P(q.mediaTag)})})}},{key:"stopCustomTrack",value:function(w){var A=this;return Ct(),nn(this._callState,"stopCustomTrack()"),new Promise(function(P){A.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:w},function(z){P(z.mediaTag)})})}},{key:"setCamera",value:function(w){var A=this;return Sm(),ty(this._callMachineInitialized,"setCamera()"),new Promise(function(P){A.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:w},function(z){P({device:z.device})})})}},{key:"setAudioDevice",value:(L=at(function*(w){return Sm(),this.nativeUtils().setAudioDevice(w),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(w){return L.apply(this,arguments)})},{key:"cycleCamera",value:function(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(P){w.sendMessageToCallMachine({action:"cycle-camera",properties:A},function(z){P({device:z.device})})})}},{key:"cycleMic",value:function(){var w=this;return Ct(),new Promise(function(A){w.sendMessageToCallMachine({action:"cycle-mic"},function(P){A({device:P.device})})})}},{key:"getCameraFacingMode",value:function(){var w=this;return Sm(),new Promise(function(A){w.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(P){A(P.facingMode)})})}},{key:"setInputDevicesAsync",value:(E=at(function*(w){var A=this,P=w.audioDeviceId,z=w.videoDeviceId,q=w.audioSource,te=w.videoSource;if(Ct(),q!==void 0&&(P=q),te!==void 0&&(z=te),typeof P=="boolean"&&(this._setAllowLocalAudio(P),P=void 0),typeof z=="boolean"&&(this._setAllowLocalVideo(z),z=void 0),!P&&!z)return yield this.getInputDevices();var X={};return P&&(P instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=P,P=fo,X.audio={settings:{customTrack:P}}):(delete this._sharedTracks.audioTrack,X.audio={settings:{deviceId:P}})),z&&(z instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=z,z=fo,X.video={settings:{customTrack:z}}):(delete this._sharedTracks.videoTrack,X.video={settings:{deviceId:z}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(X,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){A.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:P,videoDeviceId:z},function(se){if(delete se.action,delete se.callbackStamp,se.returnPreloadCache)return A._updatePreloadCacheInputSettings(X,!1),void V(A._devicesFromInputSettings(A._inputSettings));V(se)})})}),function(w){return E.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(I=at(function*(w){var A=this,P=w.outputDeviceId;if(Ct(),!P||typeof P!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=P,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(z,q){A.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:P},function(te){if(delete te.action,delete te.callbackStamp,te.error){var X=new Error(te.error.message);return X.type=te.error.type,void q(X)}te.returnPreloadCache?z(A._devicesFromInputSettings(A._inputSettings)):z(te)})})}),function(w){return I.apply(this,arguments)})},{key:"getInputDevices",value:(D=at(function*(){var w=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(A){w.sendMessageToCallMachine({action:"get-input-devices"},function(P){P.returnPreloadCache?A(w._devicesFromInputSettings(w._inputSettings)):A({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return D.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Sm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(w){if(Sm(),[iF,KWe].includes(w)){if(w!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=w,!this.disableReactNativeAutoDeviceManagement("audio")&&My(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",w)}},{key:"preAuth",value:(k=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ia(this._callObjectMode,"preAuth()"),wN(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(A)),!A.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(A),this.properties=He(He({},this.properties),A),new Promise(function(P,z){w._preloadCache.inputSettings=w._prepInputSettingsForSharing(w._inputSettings,!1),w.sendMessageToCallMachine({action:"daily-method-preauth",properties:nd(w.properties,w.callClientId),preloadCache:nd(w._preloadCache,w.callClientId)},function(q){return q.error?z(q.error):q.access?(w._didPreAuth=!0,void P({access:q.access})):z(new Error("unknown error in preAuth()"))})})}),function(){return k.apply(this,arguments)})},{key:"load",value:(C=at(function*(w){var A=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(w&&(this.validateProperties(w),this.properties=He(He({},this.properties),w)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(I5),this.emitDailyJSEvent({action:XY}),this._callObjectMode?new Promise(function(P,z){A._callObjectLoader.cancel();var q=Date.now();A._callObjectLoader.load(A.properties.dailyConfig,function(te){A._bundleLoadTime=te?"no-op":Date.now()-q,A._updateCallState($5),te&&A.emitDailyJSEvent({action:GE}),P()},function(te,X){if(A.emitDailyJSEvent({action:QY}),!X){A._updateCallState(eo),A.resetMeetingDependentVars();var V={action:QE,errorMsg:te.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:te,bundleUrl:E0(A.properties.dailyConfig)}}};A._maybeSendToSentry(V),A.emitDailyJSEvent(V),z(te.msg)}})}):(this._iframe.src=kY(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(P,z){A._loadedCallback=function(q){A._callState!==eo?(A._updateCallState($5),(A.properties.cssFile||A.properties.cssText)&&A.loadCss(A.properties),P()):z(q)}}))}}),function(w){return C.apply(this,arguments)})},{key:"join",value:(N=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var P=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(A)}catch(z){return this.updateIsPreparingToJoin(!1),Promise.reject(z)}}else{if(P=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(A.url&&A.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(A.token&&A.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(A.url&&!this._callObjectMode&&A.url&&A.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(A.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(A),this.properties=He(He({},this.properties),A)}return A.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!A.showLocalVideo),A.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!A.showParticipantsBar),this._callState===hl||this._callState===D0?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(D0,!1),this.emitDailyJSEvent({action:tJ}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:nd(this.properties,this.callClientId),preloadCache:nd(this._preloadCache,this.callClientId)}),new Promise(function(z,q){w._joinedCallback=function(te,X){if(w._callState!==eo){if(w._updateCallState(hl),te)for(var V in te){if(w._callObjectMode){var se=w._callMachine().store;K5(te[V],se),Y5(te[V],se),J5(te[V],w._participants[V],se)}w._participants[V]=He({},te[V]),w.toggleParticipantAudioBasedOnNativeAudioFocus()}P&&w.loadCss(w.properties),z(te)}else q(X)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(S=at(function*(){var w=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(A){w._callState===el||w._callState===eo?A():w._callObjectLoader&&!w._callObjectLoader.loaded?(w._callObjectLoader.cancel(),w._updateCallState(el),w.resetMeetingDependentVars(),w.emitDailyJSEvent({action:el}),A()):(w._resolveLeave=A,w.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(_=at(function*(){var w=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ty(this._callMachineInitialized,"startScreenShare()"),A.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",A.screenVideoSendSettings),A.mediaStream&&(this._sharedTracks.screenMediaStream=A.mediaStream,A.mediaStream=fo),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var P=this.nativeUtils();if(yield P.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:XE,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});P.setSystemScreenCaptureStartCallback(function(){P.setSystemScreenCaptureStartCallback(null),w.sendMessageToCallMachine({action:L5,captureOptions:A})}),P.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:L5,captureOptions:A})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){ty(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=w.type;if(A&&A!=="cloud"&&A!=="raw-tracks"&&A!=="local")throw new Error("invalid type: ".concat(A,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(He({action:"local-recording-start"},w))}},{key:"updateRecording",value:function(w){var A=w.layout,P=A===void 0?{preset:"default"}:A,z=w.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:P,instanceId:z})}},{key:"stopRecording",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(He({action:"local-recording-stop"},w))}},{key:"startLiveStreaming",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(He({action:"daily-method-start-live-streaming"},w))}},{key:"updateLiveStreaming",value:function(w){var A=w.layout,P=A===void 0?{preset:"default"}:A,z=w.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:P,instanceId:z})}},{key:"addLiveStreamingEndpoints",value:function(w){var A=w.endpoints,P=w.instanceId;this.sendMessageToCallMachine({action:F5,endpointsOp:bWe,endpoints:A,instanceId:P})}},{key:"removeLiveStreamingEndpoints",value:function(w){var A=w.endpoints,P=w.instanceId;this.sendMessageToCallMachine({action:F5,endpointsOp:wWe,endpoints:A,instanceId:P})}},{key:"stopLiveStreaming",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(He({action:"daily-method-stop-live-streaming"},w))}},{key:"validateDailyConfig",value:function(w){w.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(w.camSimulcastEncodings)),w.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),GJ()&&w.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(w){if(!(w instanceof Array||Array.isArray(w)))throw new Error("encodings must be an Array");if(!pF(w.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var z=0;z<w.length;z++){var q=w[z];for(var te in this._validateEncodingLayerHasValidProperties(q),q)if(bN.includes(te)){if(typeof q[te]!="number")throw new Error("".concat(te," must be a number"));if(A){var X=A[te],V=X.min,se=X.max;if(!pF(q[te],V,se))throw new Error("".concat(te," value not in range. valid range: ").concat(V," to ").concat(se))}}else if(!["active","scalabilityMode"].includes(te))throw new Error("Invalid key ".concat(te,", valid keys are:")+Object.values(bN));if(P&&!q.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(j=at(function*(w){var A=this,P=w.url,z=w.settings,q=z===void 0?{state:ZE.PLAY}:z;try{(function(te){if(typeof te!="string")throw new Error('url parameter must be "string" type')})(P),mF(q),function(te){for(var X in te)if(!cF.includes(X))throw new Error("Invalid key ".concat(X,", valid keys are: ").concat(cF));te.simulcastEncodings&&this.validateSimulcastEncodings(te.simulcastEncodings,sX,!0)}(q)}catch(te){throw console.error("invalid argument Error: ".concat(te)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),te}return new Promise(function(te,X){A.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:P,settings:q},function(V){V.error?X({error:V.error,errorMsg:V.errorMsg}):te({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(w){return j.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(b=at(function*(w){var A=this;if(typeof w!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(P,z){A.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:w},function(q){q.error?z({error:q.error,errorMsg:q.errorMsg}):P()})})}),function(w){return b.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=at(function*(w){var A=this,P=w.session_id,z=w.settings;try{mF(z)}catch(q){throw console.error("invalid argument Error: ".concat(q)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),q}return new Promise(function(q,te){A.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:P,settings:z},function(X){X.error?te({error:X.error,errorMsg:X.errorMsg}):q({session_id:X.session_id,remoteMediaPlayerState:{state:X.state,settings:X.settings}})})})}),function(w){return y.apply(this,arguments)})},{key:"startTranscription",value:function(w){nn(this._callState,"startTranscription()"),this.sendMessageToCallMachine(He({action:"daily-method-start-transcription"},w))}},{key:"updateTranscription",value:function(w){if(nn(this._callState,"updateTranscription()"),!w)throw new Error("updateTranscription Error: options is mandatory");if(Mt(w)!=="object")throw new Error("updateTranscription Error: options must be object type");if(w.participants&&!Array.isArray(w.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(He({action:"daily-method-update-transcription"},w))}},{key:"stopTranscription",value:function(w){if(nn(this._callState,"stopTranscription()"),w&&Mt(w)!=="object")throw new Error("stopTranscription Error: options must be object type");if(w&&!w.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(He({action:"daily-method-stop-transcription"},w))}},{key:"startDialOut",value:(x=at(function*(w){var A=this;nn(this._callState,"startDialOut()");var P=function(X){if(X){if(!Array.isArray(X))throw new Error("Error starting dial out: audio codec must be an array");if(X.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");X.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!w.sipUri&&!w.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(w.sipUri&&w.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(w.sipUri){if(typeof w.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!w.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(w.video&&typeof w.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(X){if(X&&(P(X.audio),X.video)){if(!Array.isArray(X.video))throw new Error("Error starting dial out: video codec must be an array");if(X.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");X.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(w.codecs)}if(w.phoneNumber){if(typeof w.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(w.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");w.codecs&&P(w.codecs.audio)}if(w.callerId){if(typeof w.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(w.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(w.displayName){if(typeof w.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(w.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(w.userId){if(typeof w.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(w.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(dF(w),w.permissions&&w.permissions.canReceive){var z=Or(nX.validateJSONObject(w.permissions.canReceive),2),q=z[0],te=z[1];if(!q)throw new Error(te)}return new Promise(function(X,V){A.sendMessageToCallMachine(He({action:"dialout-start"},w),function(se){se.error?V(se.error):X(se)})})}),function(w){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(w){var A=this;return nn(this._callState,"stopDialOut()"),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:"dialout-stop"},w),function(q){q.error?z(q.error):P(q)})})}},{key:"sipCallTransfer",value:(p=at(function*(w){var A=this;if(nn(this._callState,"sipCallTransfer()"),!w)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return w.useSipRefer=!1,fF(w,"sipCallTransfer"),dF(w),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:B5},w),function(q){q.error?z(q.error):P(q)})})}),function(w){return p.apply(this,arguments)})},{key:"sipRefer",value:(g=at(function*(w){var A=this;if(nn(this._callState,"sipRefer()"),!w)throw new Error("sessionId and toEndPoint are mandatory parameter");return w.useSipRefer=!0,fF(w,"sipRefer"),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:B5},w),function(q){q.error?z(q.error):P(q)})})}),function(w){return g.apply(this,arguments)})},{key:"sendDTMF",value:(m=at(function*(w){var A=this;return nn(this._callState,"sendDTMF()"),function(P){var z=P.sessionId,q=P.tones;if(!z||!q)throw new Error("sessionId and tones are mandatory parameter");if(typeof z!="string"||typeof q!="string")throw new Error("sessionId and tones should be of string type");if(q.length>20)throw new Error("tones string must be upto 20 characters");var te=/[^0-9A-D*#]/g,X=q.match(te);if(X&&X[0])throw new Error("".concat(X[0]," is not valid DTMF tone"))}(w),new Promise(function(P,z){A.sendMessageToCallMachine(He({action:"send-dtmf"},w),function(q){q.error?z(q.error):P(q)})})}),function(w){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var w=this;return this._callState!==hl?Promise.resolve(He({stats:{latest:{}}},this._network)):new Promise(function(A){w.sendMessageToCallMachine({action:"get-calc-stats"},function(P){A(He(He({},w._network),{},{stats:P.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=at(function*(){var w=this;if(jN(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}return new Promise(function(A,P){w.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(z){z.error?P(z.error):A(z.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(w){return w?w instanceof MediaStreamTrack?!!qWe(w)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=at(function*(){var w=this;Ct(),Ia(this._callObjectMode,"testCallQuality()"),ty(this._callMachineInitialized,"testCallQuality()",null,!0),wN(this._callState,this._isPreparingToJoin,"testCallQuality()");var A=this._testCallAlreadyInProgress,P=function(q){A||(w._testCallInProgress=q)};if(P(!0),this.needsLoad())try{var z=this._callState;yield this.load(),this._callState=z}catch(q){return P(!1),Promise.reject(q)}return new Promise(function(q){w.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:w.properties.dailyJsVersion},function(te){var X=te.results,V=X.result,se=A3(X,HWe);if(V==="failed"){var ee,ge=He({},se);(ee=se.error)!==null&&ee!==void 0&&ee.details?(se.error.details=JSON.parse(se.error.details),ge.error=He(He({},ge.error),{},{details:He({},ge.error.details)}),ge.error.details.duringTest="testCallQuality"):(ge.error=ge.error?He({},ge.error):{},ge.error.details={duringTest:"testCallQuality"}),w._maybeSendToSentry(ge)}P(!1),q(He({result:V},se))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=at(function*(w){var A;Et()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),A=yield this.testPeerToPeerCallQuality(w)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),A=yield this.testCallQuality());var P={result:A.result,secondsElapsed:A.secondsElapsed};return A.data&&(P.data={maxRTT:A.data.maxRoundTripTime,packetLoss:A.data.avgRecvPacketLoss}),P}),function(w){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=at(function*(w){var A=this;if(jN(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(q){return Promise.reject(q)}var P=w.videoTrack,z=w.duration;if(!this._validateVideoTrackForNetworkTests(P))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=P,new Promise(function(q,te){A.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:z},function(X){X.error?te(X.error):q(X.results)})})}),function(w){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Et()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=at(function*(w){var A=this;if(jN(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}if(!this._validateVideoTrackForNetworkTests(w))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=w,new Promise(function(P,z){A.sendMessageToCallMachine({action:"test-network-connectivity"},function(q){q.error?z(q.error):P(q.results)})})}),function(w){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var w=this;return new Promise(function(A){w._callState===hl?w.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(P){A(P.cpuStats)}):A({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(w){var A;if(!(((A=Object.keys(w))===null||A===void 0?void 0:A.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(bN))}},{key:"_validateVideoSendSettings",value:function(w,A){var P=w==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],z="Video send settings should be either an object or one of the supported presets: ".concat(P.join());if(typeof A=="string"){if(!P.includes(A))throw new Error(z)}else{if(Mt(A)!=="object")throw new Error(z);if(!A.maxQuality&&!A.encodings&&A.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(A.maxQuality&&["low","medium","high"].indexOf(A.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(A.encodings){var q=!1;switch(Object.keys(A.encodings).length){case 1:q=!A.encodings.low;break;case 2:q=!A.encodings.low||!A.encodings.medium;break;case 3:q=!A.encodings.low||!A.encodings.medium||!A.encodings.high;break;default:q=!0}if(q)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");A.encodings.low&&this._validateEncodingLayerHasValidProperties(A.encodings.low),A.encodings.medium&&this._validateEncodingLayerHasValidProperties(A.encodings.medium),A.encodings.high&&this._validateEncodingLayerHasValidProperties(A.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(w){var A=this;if(!w||Object.keys(w).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(w).forEach(function(P){var z=Or(P,2),q=z[0],te=z[1];A._validateVideoSendSettings(q,te)})}},{key:"updateSendSettings",value:function(w){var A=this;return this.validateUpdateSendSettings(w),this.needsLoad()?(this._preloadCache.sendSettings=w,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(P,z){A.sendMessageToCallMachine({action:"update-send-settings",sendSettings:w},function(q){q.error?z(q.error):P(q.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Ct(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(w){return Ct(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:w}),this}},{key:"activeSpeakerMode",value:function(){return Ct(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(w){return nn(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=w,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:w}),this}},{key:"enumerateDevices",value:(l=at(function*(){var w=this;if(this._callObjectMode){var A=yield navigator.mediaDevices.enumerateDevices();return bu()==="Firefox"&&I0().major>115&&I0().major<123&&(A=A.filter(function(P){return P.kind!=="audiooutput"})),{devices:A.map(function(P){var z=JSON.parse(JSON.stringify(P));if(!Et()&&P.kind==="videoinput"&&P.getCapabilities){var q,te=P.getCapabilities();z.facing=(te==null||(q=te.facingMode)===null||q===void 0?void 0:q.length)>=1?te.facingMode[0]:void 0}return z})}}return new Promise(function(P){w.sendMessageToCallMachine({action:"enumerate-devices"},function(z){P({devices:z.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(nn(this._callState,"sendAppMessage()"),JSON.stringify(w).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:w,to:A}),this}},{key:"addFakeParticipant",value:function(w){return Ct(),nn(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(He({action:"add-fake-participant"},w)),this}},{key:"setShowNamesMode",value:function(w){return Ps(this._callObjectMode,"setShowNamesMode()"),Ct(),w&&w!=="always"&&w!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:w}),this)}},{key:"setShowLocalVideo",value:function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ps(this._callObjectMode,"setShowLocalVideo()"),Ct(),nn(this._callState,"setShowLocalVideo()"),typeof w!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:w}),this._showLocalVideo=w,this)}},{key:"showLocalVideo",value:function(){return Ps(this._callObjectMode,"showLocalVideo()"),Ct(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ps(this._callObjectMode,"setShowParticipantsBar()"),Ct(),nn(this._callState,"setShowParticipantsBar()"),typeof w!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:w}),this._showParticipantsBar=w,this)}},{key:"showParticipantsBar",value:function(){return Ps(this._callObjectMode,"showParticipantsBar()"),Ct(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Ct(),Ps(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(w){return Ct(),Ps(this._callObjectMode,"setCustomIntegrations()"),nn(this._callState,"setCustomIntegrations()"),hX(w)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:w}),this._customIntegrations=w,this):this}},{key:"startCustomIntegrations",value:function(w){var A=this;if(Ct(),Ps(this._callObjectMode,"startCustomIntegrations()"),nn(this._callState,"startCustomIntegrations()"),Array.isArray(w)&&w.some(function(q){return typeof q!="string"})||!Array.isArray(w)&&typeof w!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var P=typeof w=="string"?[w]:w,z=P.filter(function(q){return!(q in A._customIntegrations)});return z.length?(console.error(`Can't find custom integration(s): "`.concat(z.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:P}),this)}},{key:"stopCustomIntegrations",value:function(w){var A=this;if(Ct(),Ps(this._callObjectMode,"stopCustomIntegrations()"),nn(this._callState,"stopCustomIntegrations()"),Array.isArray(w)&&w.some(function(q){return typeof q!="string"})||!Array.isArray(w)&&typeof w!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var P=typeof w=="string"?[w]:w,z=P.filter(function(q){return!(q in A._customIntegrations)});return z.length?(console.error(`Can't find custom integration(s): "`.concat(z.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:P}),this)}},{key:"customTrayButtons",value:function(){return Ps(this._callObjectMode,"customTrayButtons()"),Ct(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(w){return Ps(this._callObjectMode,"updateCustomTrayButtons()"),Ct(),nn(this._callState,"updateCustomTrayButtons()"),dX(w)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:w}),this._customTrayButtons=w,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(R0))),this)}},{key:"theme",value:function(){return Ps(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(w){var A=this;return Ps(this._callObjectMode,"setTheme()"),new Promise(function(P,z){try{A.validateProperties({theme:w}),A.properties.theme=He({},w),A.sendMessageToCallMachine({action:"set-theme",theme:A.properties.theme});try{A.emitDailyJSEvent({action:JY,theme:A.properties.theme})}catch(q){console.log("could not emit 'theme-updated'",q)}P(A.properties.theme)}catch(q){z(q)}})}},{key:"requestFullscreen",value:(o=at(function*(){if(Ct(),this._iframe&&!document.fullscreenElement&&U5())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(w){console.log("could not make video call fullscreen",w)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Ct(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=at(function*(){var w=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(A){w.sendMessageToCallMachine({action:"get-sidebar-view"},function(P){A(P.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(w){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:w}),this)}},{key:"room",value:(a=at(function*(){var w=this,A=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,P=A===void 0||A;return this._accessState.access===Ty||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(z){w.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:P},function(q){delete q.action,delete q.callbackStamp,z(q)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(r=at(function*(){try{var w=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield w.json()).geo}}catch(A){return console.error("geo lookup failed",A),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=at(function*(w){var A=this;return Ct(),nn(this._callState,"setNetworkTopology()"),new Promise(function(P,z){A.sendMessageToCallMachine({action:"set-network-topology",opts:w},function(q){q.error?z({error:q.error}):P({workerId:q.workerId})})})}),function(w){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=at(function*(){var w=this;return new Promise(function(A,P){w.needsLoad()&&A({topology:"none"}),w.sendMessageToCallMachine({action:"get-network-topology"},function(z){z.error?P({error:z.error}):A({topology:z.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(w){if(Ct(),typeof w!="number"&&w!==!0&&w!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(w));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:w})}},{key:"on",value:function(w,A){return Vx.prototype.on.call(this,w,A)}},{key:"once",value:function(w,A){return Vx.prototype.once.call(this,w,A)}},{key:"off",value:function(w,A){return Vx.prototype.off.call(this,w,A)}},{key:"validateProperties",value:function(w){var A,P;if(w!=null&&(A=w.dailyConfig)!==null&&A!==void 0&&A.userMediaAudioConstraints){var z,q;Et()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var te=w.inputSettings||{};te.audio=((z=w.inputSettings)===null||z===void 0?void 0:z.audio)||{},te.audio.settings=((q=w.inputSettings)===null||q===void 0||(q=q.audio)===null||q===void 0?void 0:q.settings)||{},te.audio.settings=He(He({},te.audio.settings),w.dailyConfig.userMediaAudioConstraints),w.inputSettings=te,delete w.dailyConfig.userMediaAudioConstraints}if(w!=null&&(P=w.dailyConfig)!==null&&P!==void 0&&P.userMediaVideoConstraints){var X,V;Et()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var se=w.inputSettings||{};se.video=((X=w.inputSettings)===null||X===void 0?void 0:X.video)||{},se.video.settings=((V=w.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},se.video.settings=He(He({},se.video.settings),w.dailyConfig.userMediaVideoConstraints),w.inputSettings=se,delete w.dailyConfig.userMediaVideoConstraints}for(var ee in w)if(pc[ee]){if(pc[ee].validate&&!pc[ee].validate(w[ee],this))throw new Error("property '".concat(ee,"': ").concat(pc[ee].help))}else console.warn("Ignoring unrecognized property '".concat(ee,"'")),delete w[ee]}},{key:"assembleMeetingUrl",value:function(){var w,A,P=He(He({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(w=this.properties.dailyConfig)!==null&&w!==void 0&&w.proxyUrl?encodeURIComponent((A=this.properties.dailyConfig)===null||A===void 0?void 0:A.proxyUrl):void 0}),z=P.url.match(/\?/)?"&":"?";return P.url+z+Object.keys(pc).filter(function(q){return pc[q].queryString&&P[q]!==void 0}).map(function(q){return"".concat(pc[q].queryString,"=").concat(P[q])}).join("&")}},{key:"needsLoad",value:function(){return[WE,I5,el,eo].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(w,A){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(w,A,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(w){this._messageChannel.forwardPackagedMessageToCallMachine(w,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(w){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(w,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(w){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(w)}},{key:"handleMessageFromCallMachine",value:function(w){switch(w.action){case KY:this.sendMessageToCallMachine(He({action:YY},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var A={action:Qx,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:E0(this.properties.dailyConfig)}};this.sendMessageToCallMachine(A),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case GE:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(w);break;case nJ:var P,z=He({},w);delete z.internal,this._maxAppMessageSize=((P=w.internal)===null||P===void 0?void 0:P._maxAppMessageSize)||mN,this._joinedCallback&&(this._joinedCallback(w.participants),this._joinedCallback=null),this.emitDailyJSEvent(z);break;case sJ:case aJ:if(this._callState===el)return;if(w.participant&&w.participant.session_id){var q=w.participant.local?"local":w.participant.session_id;if(this._callObjectMode){var te=this._callMachine().store;K5(w.participant,te),Y5(w.participant,te),J5(w.participant,this._participants[q],te)}try{this.maybeParticipantTracksStopped(this._participants[q],w.participant),this.maybeParticipantTracksStarted(this._participants[q],w.participant),this.maybeEventRecordingStopped(this._participants[q],w.participant),this.maybeEventRecordingStarted(this._participants[q],w.participant)}catch(ue){console.error("track events error",ue)}this.compareEqualForParticipantUpdateEvent(w.participant,this._participants[q])||(this._participants[q]=He({},w.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(w))}break;case iJ:if(w.participant&&w.participant.session_id){var X=this._participants[w.participant.session_id];X&&this.maybeParticipantTracksStopped(X,null),delete this._participants[w.participant.session_id],this.emitDailyJSEvent(w)}break;case oJ:Wr(this._participantCounts,w.participantCounts)||(this._participantCounts=w.participantCounts,this.emitDailyJSEvent(w));break;case lJ:var V={access:w.access};w.awaitingAccess&&(V.awaitingAccess=w.awaitingAccess),Wr(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(w));break;case cJ:if(w.meetingSession){this._meetingSessionSummary=w.meetingSession,this.emitDailyJSEvent(w);var se=He(He({},w),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(se)}break;case QE:var ee;this._iframe&&!w.preserveIframe&&(this._iframe.src=""),this._updateCallState(eo),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(w.errorMsg),this._loadedCallback=null),w.preserveIframe;var ge=A3(w,GWe);ge!=null&&(ee=ge.error)!==null&&ee!==void 0&&ee.details&&(ge.error.details=JSON.parse(ge.error.details)),this._maybeSendToSentry(w),this._joinedCallback&&(this._joinedCallback(null,ge),this._joinedCallback=null),this.emitDailyJSEvent(ge);break;case rJ:this._callState!==eo&&this._updateCallState(el),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(w);break;case"selected-devices-updated":w.devices&&this.emitDailyJSEvent(w);break;case MJ:var Se=w.state,ze=w.threshold,We=w.quality,Le=Se.state,Je=Se.reasons;Le===this._network.networkState&&Wr(Je,this._network.networkStateReasons)&&ze===this._network.threshold&&We===this._network.quality||(this._network.networkState=Le,this._network.networkStateReasons=Je,this._network.quality=We,this._network.threshold=ze,w.networkState=Le,Je.length&&(w.networkStateReasons=Je),delete w.state,this.emitDailyJSEvent(w));break;case IJ:w&&w.cpuLoadState&&this.emitDailyJSEvent(w);break;case $J:w&&w.faceCounts!==void 0&&this.emitDailyJSEvent(w);break;case TJ:var Ye=w.activeSpeaker;this._activeSpeaker.peerId!==Ye.peerId&&(this._activeSpeaker.peerId=Ye.peerId,this.emitDailyJSEvent({action:w.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ct=w.show;this._showLocalVideo=ct,this.emitDailyJSEvent({action:w.action,show:ct});break;case OJ:var he=w.enabled;this._activeSpeakerMode!==he&&(this._activeSpeakerMode=he,this.emitDailyJSEvent({action:w.action,enabled:this._activeSpeakerMode}));break;case dJ:case hJ:case fJ:this._waitingParticipants=w.allWaitingParticipants,this.emitDailyJSEvent({action:w.action,participant:w.participant});break;case zJ:Wr(this._receiveSettings,w.receiveSettings)||(this._receiveSettings=w.receiveSettings,this.emitDailyJSEvent({action:w.action,receiveSettings:w.receiveSettings}));break;case JE:this._maybeUpdateInputSettings(w.inputSettings);break;case"send-settings-updated":Wr(this._sendSettings,w.sendSettings)||(this._sendSettings=w.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:w.action,sendSettings:w.sendSettings}));break;case"local-audio-level":this._localAudioLevel=w.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(w);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=w.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(w);break;case SJ:var pe=w.session_id;this._rmpPlayerState[pe]=w.playerState,this.emitDailyJSEvent(w);break;case kJ:delete this._rmpPlayerState[w.session_id],this.emitDailyJSEvent(w);break;case CJ:var ae=w.session_id,Ne=this._rmpPlayerState[ae];Ne&&this.compareEqualForRMPUpdateEvent(Ne,w.remoteMediaPlayerState)||(this._rmpPlayerState[ae]=w.remoteMediaPlayerState,this.emitDailyJSEvent(w));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(w);break;case uJ:var tt=this._meetingSessionState.topology!==(w.meetingSessionState&&w.meetingSessionState.topology);this._meetingSessionState=_N(w.meetingSessionState,this._callObjectMode),(this._callObjectMode||tt)&&this.emitDailyJSEvent(w);break;case EJ:this._isScreenSharing=!0,this.emitDailyJSEvent(w);break;case PJ:case AJ:this._isScreenSharing=!1,this.emitDailyJSEvent(w);break;case KE:case YE:case yJ:case bJ:case wJ:case gJ:case vJ:case xJ:case ZY:case eJ:case _J:case NJ:case"test-completed":case DJ:case jJ:case RJ:case LJ:case FJ:case BJ:case XE:case UJ:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(w);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(w,A){var P="record";w&&(A.local||A[P]!==!1||w[P]===A[P]||this.emitDailyJSEvent({action:YE}))}},{key:"maybeEventRecordingStarted",value:function(w,A){var P="record";w&&(A.local||A[P]!==!0||w[P]===A[P]||this.emitDailyJSEvent({action:KE}))}},{key:"_trackStatePlayable",value:function(w){return!(!w||w.state!==qY)}},{key:"_trackChanged",value:function(w,A){return(w==null?void 0:w.id)!==(A==null?void 0:A.id)}},{key:"maybeEventTrackStopped",value:function(w,A,P){var z,q,te=(z=A==null?void 0:A.tracks[w])!==null&&z!==void 0?z:null,X=(q=P==null?void 0:P.tracks[w])!==null&&q!==void 0?q:null,V=te==null?void 0:te.track;if(V){var se=this._trackStatePlayable(te),ee=this._trackStatePlayable(X),ge=this._trackChanged(V,X==null?void 0:X.track);se&&(ee&&!ge||this.emitDailyJSEvent({action:pJ,track:V,participant:P??A,type:w}))}}},{key:"maybeEventTrackStarted",value:function(w,A,P){var z,q,te=(z=A==null?void 0:A.tracks[w])!==null&&z!==void 0?z:null,X=(q=P==null?void 0:P.tracks[w])!==null&&q!==void 0?q:null,V=X==null?void 0:X.track;if(V){var se=this._trackStatePlayable(te),ee=this._trackStatePlayable(X),ge=this._trackChanged(te==null?void 0:te.track,V);ee&&(se&&!ge||this.emitDailyJSEvent({action:mJ,track:V,participant:P,type:w}))}}},{key:"maybeParticipantTracksStopped",value:function(w,A){if(w)for(var P in w.tracks)this.maybeEventTrackStopped(P,w,A)}},{key:"maybeParticipantTracksStarted",value:function(w,A){if(A)for(var P in A.tracks)this.maybeEventTrackStarted(P,w,A)}},{key:"compareEqualForRMPUpdateEvent",value:function(w,A){var P,z;return w.state===A.state&&((P=w.settings)===null||P===void 0?void 0:P.volume)===((z=A.settings)===null||z===void 0?void 0:z.volume)}},{key:"emitDailyJSEvent",value:function(w){try{w.callClientId=this.callClientId,this.emit(w.action,w)}catch(A){console.log("could not emit",w,A)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(w,A){return!!Wr(w,A)&&(!w.videoTrack||!A.videoTrack||w.videoTrack.id===A.videoTrack.id&&w.videoTrack.muted===A.videoTrack.muted&&w.videoTrack.enabled===A.videoTrack.enabled)&&(!w.audioTrack||!A.audioTrack||w.audioTrack.id===A.audioTrack.id&&w.audioTrack.muted===A.audioTrack.muted&&w.audioTrack.enabled===A.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Et()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(w){this._updateCallState(this._callState,w)}},{key:"_updateCallState",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(w!==this._callState||A!==this._isPreparingToJoin){var P=this._callState,z=this._isPreparingToJoin;this._callState=w,this._isPreparingToJoin=A;var q=this._callState===hl;this.updateShowAndroidOngoingMeetingNotification(q);var te=My(P,z),X=My(this._callState,this._isPreparingToJoin);te!==X&&(this.updateKeepDeviceAwake(X),this.updateDeviceAudioMode(X),this.updateNoOpRecordingEnsuringBackgroundContinuity(X))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=lF,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Ty},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=_N(oF,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=mN,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(w){Et()&&this.nativeUtils().setKeepDeviceAwake(w,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(w){if(Et()&&!this.disableReactNativeAutoDeviceManagement("audio")){var A=w?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(A)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(w){if(Et()&&this.nativeUtils().setShowOngoingMeetingNotification){var A,P,z,q;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var te=this.properties.reactNativeConfig.androidInCallNotification;A=te.title,P=te.subtitle,z=te.iconName,q=te.disableForCustomOverride}q&&(w=!1),this.nativeUtils().setShowOngoingMeetingNotification(w,A,P,z,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(w){Et()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(w)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var w;if(Et()){var A=(w=this._callMachine())===null||w===void 0||(w=w.store)===null||w===void 0?void 0:w.getState();for(var P in A==null?void 0:A.streams){var z=A.streams[P];z&&z.pendingTrack&&z.pendingTrack.kind==="audio"&&(z.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(w){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[w]}},{key:"absoluteUrl",value:function(w){if(w!==void 0){var A=document.createElement("a");return A.href=w,A.href}}},{key:"sayHello",value:function(){var w="hello, world.";return console.log(w),w}},{key:"_logUseAfterDestroy",value:function(){var w=Object.values(mc)[0];if(this.needsLoad())if(w&&!w.needsLoad()){var A={action:Qx,level:"error",code:this.strictMode?9995:9997};w.sendMessageToCallMachine(A)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var P={action:Qx,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(P,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var w=0,A=Object.values(mc);w<A.length;w++){var P=A[w];P._callMachineInitialized?(P.sendMessageToCallMachine({action:Qx,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),P._delayDuplicateInstanceLog=!1):P._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(w){var A,P,z,q;if(!((A=w.error)!==null&&A!==void 0&&A.type&&(![GY,HY,HE].includes(w.error.type)||w.error.type===HE&&w.error.msg.includes("deleted")))){var te=(P=this.properties)!==null&&P!==void 0&&P.url?new URL(this.properties.url):void 0,X="production";te&&te.host.includes(".staging.daily")&&(X="staging");var V,se,ee,ge,Se,ze=function(pe){const ae=[gVe(),mVe(),zVe(),BVe(),GVe(),YVe(),bVe(),KVe()];return pe.autoSessionTracking!==!1&&ae.push(HVe()),ae}({}).filter(function(pe){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(pe.name)}),We=new EVe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:MVe,stackParser:FVe,integrations:ze,environment:X}),Le=new Kl;if(Le.setClient(We),We.init(),this.session_id&&Le.setExtra("sessionId",this.session_id),this.properties){var Je=He({},this.properties);Je.userName=Je.userName?"[Filtered]":void 0,Je.userData=Je.userData?"[Filtered]":void 0,Je.token=Je.token?"[Filtered]":void 0,Le.setExtra("properties",Je)}if(te){var Ye=te.searchParams.get("domain");if(!Ye){var ct=te.host.match(/(.*?)\./);Ye=ct&&ct[1]||""}Ye&&Le.setTag("domain",Ye)}w.error&&(Le.setTag("fatalErrorType",w.error.type),Le.setExtra("errorDetails",w.error.details),!((V=w.error.details)===null||V===void 0)&&V.uri&&Le.setTag("serverAddress",w.error.details.uri),!((se=w.error.details)===null||se===void 0)&&se.workerGroup&&Le.setTag("workerGroup",w.error.details.workerGroup),!((ee=w.error.details)===null||ee===void 0)&&ee.geoGroup&&Le.setTag("geoGroup",w.error.details.geoGroup),!((ge=w.error.details)===null||ge===void 0)&&ge.on&&Le.setTag("connectionAttempt",w.error.details.on),(Se=w.error.details)!==null&&Se!==void 0&&Se.bundleUrl&&(Le.setTag("bundleUrl",w.error.details.bundleUrl),Le.setTag("bundleError",w.error.details.sourceError.type))),Le.setTags({callMode:this._callObjectMode?Et()?"reactNative":(z=this.properties)!==null&&z!==void 0&&(z=z.dailyConfig)!==null&&z!==void 0&&(z=z.callMode)!==null&&z!==void 0&&z.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var he=((q=w.error)===null||q===void 0?void 0:q.msg)||w.errorMsg;Le.captureException(new Error(he))}}},{key:"_callMachine",value:function(){var w;return(w=window._daily)===null||w===void 0||(w=w.instances)===null||w===void 0||(w=w[this.callClientId])===null||w===void 0?void 0:w.callMachine}},{key:"_maybeUpdateInputSettings",value:function(w){if(!Wr(this._inputSettings,w)){var A=this._getInputSettings();this._inputSettings=w;var P=this._getInputSettings();Wr(A,P)||this.emitDailyJSEvent({action:JE,inputSettings:P})}}}],[{key:"supportedBrowser",value:function(){if(Et())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var w=$qe.getParser(ka());return{supported:!!vN(),mobile:w.getPlatformType()==="mobile",name:w.getBrowserName(),version:w.getBrowserVersion(),supportsFullscreen:!!U5(),supportsScreenShare:!!jWe(),supportsSfu:!!vN(),supportsVideoProcessing:WJ(),supportsAudioProcessing:HJ()}}},{key:"version",value:function(){return"0.84.0"}},{key:"createCallObject",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return w.layout="none",new e(null,w)}},{key:"wrap",value:function(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ct(),!w||!w.contentWindow||typeof w.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return A.layout||(A.customLayout?A.layout="custom-v1":A.layout="browser"),new e(w,A)}},{key:"createFrame",value:function(w,A){var P,z;Ct(),w&&A?(P=w,z=A):w&&w.append?(P=w,z={}):(P=document.body,z=w||{});var q=z.iframeStyle;q||(q=P===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var te=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?te.allow="microphone, camera":te.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",te.style.visibility="hidden",P.appendChild(te),te.style.visibility=null,Object.keys(q).forEach(function(X){return te.style[X]=q[X]}),z.layout||(z.customLayout?z.layout="custom-v1":z.layout="browser");try{return new e(te,z)}catch(X){throw P.removeChild(te),X}}},{key:"createTransparentFrame",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ct();var A=document.createElement("iframe");return A.allow="microphone; camera; autoplay",A.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(A),w.layout||(w.layout="custom-v1"),e.wrap(A,w)}},{key:"getCallInstance",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return w?mc[w]:Object.values(mc)[0]}}]);var t,n,r,a,i,o,l,c,u,d,h,f,m,g,p,x,y,b,j,_,S,N,C,k,D,I,E,L,U,F,$,M,O,R,B,T,G,W}();function dF(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function nd(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=fo;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function nn(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==hl){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function My(e,t){return[D0,hl].includes(e)||t}function wN(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(My(e,t)){var a="".concat(n," not supported after joining a meeting.");throw r&&(a+=" ".concat(r)),console.error(a),new Error(a)}}function ty(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function jN(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Ia(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function Ps(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Ct(){if(Et())throw new Error("This daily-js method is not currently supported in React Native")}function Sm(){if(!Et())throw new Error("This daily-js method is only supported in React Native")}function aX(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Wr(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function iX(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},a=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!a(h.video))&&!(h.screenVideo&&!a(h.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=Or(l[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function oX(e){if(Mt(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Or(n[t],2),a=r[0],i=r[1];switch(a){case"video":if(Mt(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=Or(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!XWe(d))return!1;break;case"settings":if(!hF(d))return!1;break;default:return!1}}break;case"audio":if(Mt(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Or(f[h],2),g=m[0],p=m[1];switch(g){case"processor":if(!JWe(p))return!1;break;case"settings":if(!hF(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function lX(e,t,n){var r,a=[];e.video&&e.video.processor&&(WJ((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(HJ()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:fo}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:fo}):delete n.videoTrack)}function JWe(e){if(Et())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Mt(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(qJ).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function XWe(e){if(Et())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Mt(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Oy).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Mt(e.config)!=="object"||!function(n,r){var a=Object.keys(r);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Oy.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Oy.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(P0(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return gN.includes(f)}catch(g){return console.error("failed to deduce blob content type",g),!1}var m=h.split(".").at(-1).toLowerCase().trim();return gN.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(gN.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function hF(e){return Mt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function a2(){var e=Object.values(Oy).join(" | "),t=Object.values(qJ).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function cX(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(WY).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function uX(){return"customIntegrations should be an object of type ".concat(JSON.stringify(s2),".")}function dX(e){if(e&&Mt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(R0),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Or(n[t],1)[0],a=0,i=Object.entries(e[r]);a<i.length;a++){var o=Or(i[a],2),l=o[0],c=o[1],u=R0.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!P0(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Mt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function hX(e){if(!e||e&&Mt(e)!=="object"||Array.isArray(e))return console.error(uX()),!1;for(var t=function(h){return"".concat(h," should be ").concat(s2.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,a=Object.entries(e);r<a.length;r++){var i=Or(a[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=Or(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!P0(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!P0(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!s2.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function fX(e,t){if(t===void 0)return!1;switch(Mt(t)){case"string":return Mt(e)===t;case"object":if(Mt(e)!=="object")return!1;for(var n in e)if(!fX(e[n],t[n]))return!1;return!0;default:return!1}}function fF(e,t){var n=e.sessionId,r=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function mF(e){if(Mt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(ZE).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(ZE));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function pF(e,t,n){return!(typeof e!="number"||e<t||e>n)}function _N(e,t){return e&&!t&&delete e.data,e}const QWe=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:VY,DAILY_ACCESS_LEVEL_LOBBY:tWe,DAILY_ACCESS_LEVEL_NONE:nWe,DAILY_ACCESS_UNKNOWN:Ty,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:fWe,DAILY_CAMERA_ERROR_CAM_IN_USE:dWe,DAILY_CAMERA_ERROR_CONSTRAINTS:vWe,DAILY_CAMERA_ERROR_MIC_IN_USE:hWe,DAILY_CAMERA_ERROR_NOT_FOUND:gWe,DAILY_CAMERA_ERROR_PERMISSIONS:mWe,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:pWe,DAILY_CAMERA_ERROR_UNKNOWN:xWe,DAILY_EVENT_ACCESS_STATE_UPDATED:lJ,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:TJ,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:OJ,DAILY_EVENT_APP_MSG:_J,DAILY_EVENT_CAMERA_ERROR:eJ,DAILY_EVENT_CPU_LOAD_CHANGE:IJ,DAILY_EVENT_ERROR:QE,DAILY_EVENT_EXIT_FULLSCREEN:Fm,DAILY_EVENT_FACE_COUNTS_UPDATED:$J,DAILY_EVENT_FULLSCREEN:Lm,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:YY,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:KY,DAILY_EVENT_INPUT_SETTINGS_UPDATED:JE,DAILY_EVENT_JOINED_MEETING:nJ,DAILY_EVENT_JOINING_MEETING:tJ,DAILY_EVENT_LANG_UPDATED:UJ,DAILY_EVENT_LEFT_MEETING:rJ,DAILY_EVENT_LIVE_STREAMING_ERROR:BJ,DAILY_EVENT_LIVE_STREAMING_STARTED:RJ,DAILY_EVENT_LIVE_STREAMING_STOPPED:FJ,DAILY_EVENT_LIVE_STREAMING_UPDATED:LJ,DAILY_EVENT_LOADED:GE,DAILY_EVENT_LOADING:XY,DAILY_EVENT_LOAD_ATTEMPT_FAILED:QY,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:AJ,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:EJ,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:PJ,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:yWe,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:uJ,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:cJ,DAILY_EVENT_NETWORK_CONNECTION:DJ,DAILY_EVENT_NETWORK_QUALITY_CHANGE:MJ,DAILY_EVENT_NONFATAL_ERROR:XE,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:oJ,DAILY_EVENT_PARTICIPANT_JOINED:sJ,DAILY_EVENT_PARTICIPANT_LEFT:iJ,DAILY_EVENT_PARTICIPANT_UPDATED:aJ,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:zJ,DAILY_EVENT_RECORDING_DATA:jJ,DAILY_EVENT_RECORDING_ERROR:bJ,DAILY_EVENT_RECORDING_STARTED:KE,DAILY_EVENT_RECORDING_STATS:yJ,DAILY_EVENT_RECORDING_STOPPED:YE,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:wJ,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:SJ,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:kJ,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:CJ,DAILY_EVENT_STARTED_CAMERA:ZY,DAILY_EVENT_THEME_UPDATED:JY,DAILY_EVENT_TRACK_STARTED:mJ,DAILY_EVENT_TRACK_STOPPED:pJ,DAILY_EVENT_TRANSCRIPTION_ERROR:xJ,DAILY_EVENT_TRANSCRIPTION_MSG:NJ,DAILY_EVENT_TRANSCRIPTION_STARTED:gJ,DAILY_EVENT_TRANSCRIPTION_STOPPED:vJ,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:dJ,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:fJ,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:hJ,DAILY_FATAL_ERROR_CONNECTION:GY,DAILY_FATAL_ERROR_EJECTED:sWe,DAILY_FATAL_ERROR_EOL:HY,DAILY_FATAL_ERROR_EXP_ROOM:oWe,DAILY_FATAL_ERROR_EXP_TOKEN:lWe,DAILY_FATAL_ERROR_MEETING_FULL:cWe,DAILY_FATAL_ERROR_NBF_ROOM:aWe,DAILY_FATAL_ERROR_NBF_TOKEN:iWe,DAILY_FATAL_ERROR_NOT_ALLOWED:uWe,DAILY_FATAL_ERROR_NO_ROOM:HE,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:rWe,DAILY_RECEIVE_SETTINGS_BASE_KEY:WY,DAILY_STATE_ERROR:eo,DAILY_STATE_JOINED:hl,DAILY_STATE_JOINING:D0,DAILY_STATE_LEFT:el,DAILY_STATE_NEW:WE,DAILY_TRACK_STATE_BLOCKED:JVe,DAILY_TRACK_STATE_INTERRUPTED:eWe,DAILY_TRACK_STATE_LOADING:ZVe,DAILY_TRACK_STATE_OFF:XVe,DAILY_TRACK_STATE_PLAYABLE:qY,DAILY_TRACK_STATE_SENDABLE:QVe,default:YWe},Symbol.toStringTag,{value:"Module"})),ZWe=o6(QWe);var bO={exports:{}},Hd=typeof Reflect=="object"?Reflect:null,gF=Hd&&typeof Hd.apply=="function"?Hd.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Dy;Hd&&typeof Hd.ownKeys=="function"?Dy=Hd.ownKeys:Object.getOwnPropertySymbols?Dy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Dy=function(t){return Object.getOwnPropertyNames(t)};function e7e(e){console&&console.warn&&console.warn(e)}var mX=Number.isNaN||function(t){return t!==t};function Qt(){Qt.init.call(this)}bO.exports=Qt;bO.exports.once=s7e;Qt.EventEmitter=Qt;Qt.prototype._events=void 0;Qt.prototype._eventsCount=0;Qt.prototype._maxListeners=void 0;var vF=10;function t_(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return vF},set:function(e){if(typeof e!="number"||e<0||mX(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");vF=e}});Qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||mX(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function pX(e){return e._maxListeners===void 0?Qt.defaultMaxListeners:e._maxListeners}Qt.prototype.getMaxListeners=function(){return pX(this)};Qt.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a=t==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")gF(c,this,n);else for(var u=c.length,d=bX(c,u),r=0;r<u;++r)gF(d[r],this,n);return!0};function gX(e,t,n,r){var a,i,o;if(t_(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),a=pX(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,e7e(l)}return e}Qt.prototype.addListener=function(t,n){return gX(this,t,n,!1)};Qt.prototype.on=Qt.prototype.addListener;Qt.prototype.prependListener=function(t,n){return gX(this,t,n,!0)};function t7e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function vX(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=t7e.bind(r);return a.listener=n,r.wrapFn=a,a}Qt.prototype.once=function(t,n){return t_(n),this.on(t,vX(this,t,n)),this};Qt.prototype.prependOnceListener=function(t,n){return t_(n),this.prependListener(t,vX(this,t,n)),this};Qt.prototype.removeListener=function(t,n){var r,a,i,o,l;if(t_(n),a=this._events,a===void 0)return this;if(r=a[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete a[t],a.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():n7e(r,i),r.length===1&&(a[t]=r[0]),a.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};Qt.prototype.off=Qt.prototype.removeListener;Qt.prototype.removeAllListeners=function(t){var n,r,a;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(a=0;a<i.length;++a)o=i[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this};function xX(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?r7e(a):bX(a,a.length)}Qt.prototype.listeners=function(t){return xX(this,t,!0)};Qt.prototype.rawListeners=function(t){return xX(this,t,!1)};Qt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):yX.call(e,t)};Qt.prototype.listenerCount=yX;function yX(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qt.prototype.eventNames=function(){return this._eventsCount>0?Dy(this._events):[]};function bX(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function n7e(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function r7e(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function s7e(e,t){return new Promise(function(n,r){function a(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),n([].slice.call(arguments))}wX(e,t,i,{once:!0}),t!=="error"&&a7e(e,a,{once:!0})})}function a7e(e,t,n){typeof e.on=="function"&&wX(e,"error",t,n)}function wX(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(i){r.once&&e.removeEventListener(t,a),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var i7e=bO.exports,n_={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.Api=Rl.HttpClient=Rl.ContentType=void 0;var Me;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Me||(Rl.ContentType=Me={}));class jX{constructor(t={}){ht(this,"baseUrl","https://api.vapi.ai");ht(this,"securityData",null);ht(this,"securityWorker");ht(this,"abortControllers",new Map);ht(this,"customFetch",(...t)=>fetch(...t));ht(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ht(this,"setSecurityData",t=>{this.securityData=t});ht(this,"contentFormatters",{[Me.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Me.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Me.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Me.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const a=t[r];return n.append(r,a instanceof Blob?a:typeof a=="object"&&a!==null?JSON.stringify(a):`${a}`),n},new FormData),[Me.UrlEncoded]:t=>this.toQueryString(t)});ht(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});ht(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});ht(this,"request",async({body:t,secure:n,path:r,type:a,query:i,format:o,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),m=this.contentFormatters[a||Me.Json],g=o||h.format;return this.customFetch(`${l||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...a&&a!==Me.FormData?{"Content-Type":a}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const x=p;x.data=null,x.error=null;const y=g?p.clone():p,b=g?await y[g]().then(j=>(x.ok?x.data=j:x.error=j,x)).catch(j=>(x.error=j,x)):x;if(c&&this.abortControllers.delete(c),!p.ok)throw b;return b})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(a=>this.encodeQueryParam(n,a)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(a=>typeof n[a]<"u").map(a=>Array.isArray(n[a])?this.addArrayQueryParam(n,a):this.addQueryParam(n,a)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}Rl.HttpClient=jX;class o7e extends jX{constructor(){super(...arguments);ht(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),assistantControllerReplace:(n,r,a={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Me.Json,format:"json",...a}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,a={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...a})});ht(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});ht(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,a={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,a={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a})});ht(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,a={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),callControllerDeleteCallData:(n,r={})=>this.request({path:`/call/${n}`,method:"DELETE",secure:!0,format:"json",...r}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r})});ht(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r})});ht(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,a={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,a={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,a={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,a={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Me.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Me.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,a={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,a={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,a,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:a,secure:!0,type:Me.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,a={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteTestControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Me.Json,format:"json",...a}),testSuiteTestControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteTestControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:a,secure:!0,type:Me.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...a}),testSuiteRunControllerFindAllPaginated:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...a}),testSuiteRunControllerCreate:(n,r,a={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Me.Json,format:"json",...a}),testSuiteRunControllerFindOne:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...a}),testSuiteRunControllerUpdate:(n,r,a,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:a,secure:!0,type:Me.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,a={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...a})});ht(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,a={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Me.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});ht(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,a={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,a={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...a}),orgControllerUsersInvite:(n,r,a={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Me.Json,...a}),orgControllerUserUpdate:(n,r,a={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Me.Json,...a}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});ht(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,a={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,a={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r}),credentialControllerGenerateSession:(n,r={})=>this.request({path:"/credential/session",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),credentialControllerHandleWebhook:(n,r={})=>this.request({path:"/credential/webhook",method:"POST",body:n,type:Me.Json,...r}),credentialControllerTriggerCredentialAction:(n,r={})=>this.request({path:"/credential/trigger",method:"POST",body:n,secure:!0,type:Me.Json,...r})});ht(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,a={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Me.Json,format:"json",...a}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ht(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,a={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Me.Json,...r})});ht(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,a={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...a}),providerResourceControllerGetProviderResourcesPaginated:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:a,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,a,i={})=>this.request({path:`/provider/${n}/${r}/${a}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,a={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...a}),providerControllerGetWorkflowTriggerHook:(n,r,a={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...a}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,a={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerSearchVoice:(n,r,a={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...a}),voiceProviderControllerAddVoices:(n,r,a={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Me.Json,format:"json",...a}),voiceProviderControllerAddVoice:(n,r,a={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Me.Json,format:"json",...a})});ht(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Me.FormData,...r})});ht(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Me.Json,format:"json",...r})})}}Rl.Api=o7e;Object.defineProperty(n_,"__esModule",{value:!0});n_.client=void 0;const l7e=Rl,c7e=new l7e.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});n_.client=c7e;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.createSafeDailyConfig=u7e;qf.safeSetLocalAudio=d7e;qf.safeSetInputDevicesAsync=h7e;qf.createSafeDailyFactoryOptions=f7e;function u7e(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function d7e(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function h7e(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function f7e(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var _X=Tn&&Tn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NY,"__esModule",{value:!0});const xF=_X(ZWe),m7e=_X(i7e),NN=n_,gc=qf;async function p7e(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function yF(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await p7e(n,e),n}function bF(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function wF(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class g7e extends m7e.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class v7e extends g7e{constructor(n,r,a,i){super();ht(this,"started",!1);ht(this,"call",null);ht(this,"speakingTimeout",null);ht(this,"dailyCallConfig",{});ht(this,"dailyCallObject",{});ht(this,"hasEmittedCallEndedStatus",!1);NN.client.baseUrl=r??"https://api.vapi.ai",NN.client.setSecurityData(n),this.dailyCallConfig=(0,gc.createSafeDailyConfig)(a),this.dailyCallObject=(0,gc.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,a,i,o,l){var u,d,h,f,m,g,p;const c=Date.now();if(!n&&!a&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",message:x.message,timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),y=(await NN.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof a=="string"?void 0:a,squadId:typeof a=="string"?a:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,b=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:b,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((u=y==null?void 0:y.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const j=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,_=((g=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:g.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??j,isVideoRecordingEnabled:j,isVideoEnabled:_}});const S=Date.now();try{this.call=xF.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??j,dailyConfig:this.dailyCallConfig});const E=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const L=Date.now()-S;throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:E,timestamp:new Date().toISOString()}),E}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var E;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),j&&((E=this.call)==null||E.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",E=>{var L;this.emit("error",E),j&&((L=this.call)==null||L.stopRecording())}),this.call.on("camera-error",E=>{this.emit("camera-error",E)}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{var L,U,F;!E||!E.participant||(L=E.participant)!=null&&L.local||((U=E.participant)==null?void 0:U.user_name)==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await yF(E.track,E.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||wF(E,this.call,j,_)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&bF(E.participant.session_id)});const N=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:N}}),N){const E=Date.now();await this.sleep(1e3);const L=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:L,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const E=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const L=Date.now()-C;throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:E,duration:L,timestamp:new Date().toISOString()}),E}if(j){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const E=new Date().getTime(),L=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const U=Date.now()-L;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:U,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-E)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(U){const F=Date.now()-L;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:U==null?void 0:U.toString()}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:U,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const E=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const L=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:E,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{var L;(E==null?void 0:E.type)==="audio-processor-error"&&((L=this.call)==null||L.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,gc.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const E=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const L=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:E,timestamp:new Date().toISOString()})}const I=Date.now()-c;return this.emit("call-start-success",{totalDuration:I,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(x){const y=Date.now()-c;return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:(x==null?void 0:x.toString())||"Unknown error occurred",errorStack:x instanceof Error?x.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:x,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!a,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,gc.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,a,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:a??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,gc.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new AudioContext,i=a.createMediaStreamSource(r),o=a.createGain();o.gain.value=n,i.connect(o);const l=a.createMediaStreamDestination();o.connect(l);const[c]=l.stream.getAudioTracks();await(0,gc.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var a;(a=this.call)==null||a.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var a,i,o,l,c,u,d,h,f,m,g,p,x;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((a=n==null?void 0:n.artifactPlan)!=null&&a.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((l=n==null?void 0:n.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,b=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:b}});const j=Date.now();this.call=xF.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const _=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:_,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var E;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((E=this.call)==null||E.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",E=>{var L;this.emit("error",E),y&&((L=this.call)==null||L.stopRecording())}),this.call.on("camera-error",E=>{this.emit("camera-error",E)}),this.call.on("network-quality-change",E=>{this.emit("network-quality-change",E)}),this.call.on("network-connection",E=>{this.emit("network-connection",E)}),this.call.on("track-started",async E=>{var L,U,F;!E||!E.participant||(L=E.participant)!=null&&L.local||((U=E.participant)==null?void 0:U.user_name)==="Vapi Speaker"&&(E.track.kind==="video"&&this.emit("video",E.track),E.track.kind==="audio"&&await yF(E.track,E.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",E=>{!E||!this.call||wF(E,this.call,y,b)}),this.call.on("participant-updated",E=>{E&&this.emit("daily-participant-updated",E.participant)}),this.call.on("participant-left",E=>{E&&bF(E.participant.session_id)}),this.call.on("remote-participants-audio-level",E=>{E&&this.handleRemoteParticipantsAudioLevel(E)}),this.call.on("app-message",E=>this.onAppMessage(E)),this.call.on("nonfatal-error",E=>{var L;(E==null?void 0:E.type)==="audio-processor-error"&&((L=this.call)==null||L.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,gc.safeSetLocalAudio)(this.call,!0)}))});const S=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:S}}),S){const E=Date.now();await this.sleep(1e3);const L=Date.now()-E;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:L,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const N=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const C=Date.now()-N;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:C,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const E=Date.now(),L=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const U=Date.now()-E;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:U,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-L)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(U){const F=Date.now()-E;this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:U==null?void 0:U.toString()}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const k=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const E=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const L=Date.now()-k;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const D=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const E=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:E,timestamp:new Date().toISOString()})}catch(E){const L=Date.now()-D;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:E==null?void 0:E.toString()}})}const I=Date.now()-r;this.emit("call-start-success",{totalDuration:I,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const b=Date.now()-r;throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:b,error:(y==null?void 0:y.toString())||"Unknown error occurred",errorStack:y instanceof Error?y.stack:"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:y,totalDuration:b,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((g=n==null?void 0:n.artifactPlan)!=null&&g.videoRecordingEnabled),voiceProvider:((x=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}}var x7e=NY.default=v7e;function y7e(){const{assistantId:e}=Nw(),t=ts(),{toast:n}=wn(),{user:r}=Ht(),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,m]=v.useState(!1),[g,p]=v.useState(null),x=v.useRef(null),[y,b]=v.useState({name:"",firstMessage:"",firstMessageMode:"assistant-speaks-first",voiceProvider:"11labs",voiceId:"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:"openai",model:"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"});v.useEffect(()=>{j()},[e]);const j=async()=>{try{const{data:N,error:C}=await J.from("voice_assistants").select("*").eq("id",e).single();if(C)throw C;p(N),b({name:N.name||"",firstMessage:N.first_message||"",firstMessageMode:"assistant-speaks-first",voiceProvider:N.voice_provider||"11labs",voiceId:N.voice_id||"",voiceStability:.5,voiceSimilarityBoost:.75,voiceSpeed:1,modelProvider:N.model_provider||"openai",model:N.model||"gpt-4",temperature:.7,maxTokens:250,emotionRecognitionEnabled:!1,transcriberProvider:N.transcriber_provider||"deepgram",transcriberModel:"nova-2",transcriberLanguage:"en",silenceTimeoutSeconds:30,responseDelaySeconds:.4,llmRequestDelaySeconds:.1,numWordsToInterruptAssistant:3,maxDurationSeconds:600,endCallMessage:"Thank you for calling. Goodbye!",endCallPhrases:[],recordingEnabled:!1,hipaaEnabled:!1,backchannelingEnabled:!1,backgroundDenoisingEnabled:!1,modelOutputInMessagesEnabled:!1,voicemailDetectionEnabled:!1,voicemailMessage:"",backgroundSound:"off"})}catch(N){n({title:"Error",description:N.message,variant:"destructive"})}finally{i(!1)}},_=async()=>{l(!0);try{const N={name:"name",firstMessage:"first_message",voiceProvider:"voice_provider",voiceId:"voice_id",modelProvider:"model_provider",model:"model"},C={},k={};if(g)for(const[I,E]of Object.entries(N)){const L=g[E],U=y[I];L!==U&&(C[E]=L,k[E]=U)}const D={name:y.name,firstMessage:y.firstMessage,firstMessageMode:y.firstMessageMode,voice:{provider:y.voiceProvider,voiceId:y.voiceId},model:{provider:y.modelProvider,model:y.model,temperature:y.temperature,maxTokens:y.maxTokens,emotionRecognitionEnabled:y.emotionRecognitionEnabled},transcriber:{provider:y.transcriberProvider,model:y.transcriberModel,language:y.transcriberLanguage},silenceTimeoutSeconds:y.silenceTimeoutSeconds,responseDelaySeconds:y.responseDelaySeconds,llmRequestDelaySeconds:y.llmRequestDelaySeconds,numWordsToInterruptAssistant:y.numWordsToInterruptAssistant,maxDurationSeconds:y.maxDurationSeconds,endCallMessage:y.endCallMessage,endCallPhrases:y.endCallPhrases,recordingEnabled:y.recordingEnabled,hipaaEnabled:y.hipaaEnabled,backchannelingEnabled:y.backchannelingEnabled,backgroundDenoisingEnabled:y.backgroundDenoisingEnabled,modelOutputInMessagesEnabled:y.modelOutputInMessagesEnabled,backgroundSound:y.backgroundSound};if(y.voiceProvider==="11labs"&&(D.voice.stability=y.voiceStability,D.voice.similarityBoost=y.voiceSimilarityBoost),(y.voiceProvider==="playht"||y.voiceProvider==="rime-ai")&&(D.voice.speed=y.voiceSpeed),y.voicemailDetectionEnabled&&(D.voicemailDetection={enabled:!0,provider:"twilio"},D.voicemailMessage=y.voicemailMessage),await Z3e(e,D),Object.keys(k).length>0&&e&&r){const I=Object.keys(k).join(", ");await J.from("changelog_entries").insert({user_id:r.id,entity_type:"voice_assistant",entity_id:e,change_type:"update",title:`Configuration updated: ${I}`,description:`Updated settings for assistant "${y.name}"`,previous_values:C,new_values:k,status:null,source:"auto"})}n({title:"Success",description:"Voice assistant updated successfully"}),t("/voice-assistants")}catch(N){n({title:"Error",description:N.message,variant:"destructive"})}finally{l(!1)}},S=async()=>{if(d&&x.current){x.current.stop(),h(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"});return}u(!0);try{await navigator.mediaDevices.getUserMedia({audio:!0});const N=await t5e();if(!(N!=null&&N.publicKey))throw new Error("No Vapi public key available. Please reconnect your Vapi account.");x.current||(x.current=new x7e(N.publicKey)),x.current.on("call-start",()=>{console.log("Call started"),h(!0),n({title:"Call Started",description:"You're now connected to the voice assistant. Speak to test it!"})}),x.current.on("call-end",()=>{console.log("Call ended"),h(!1),m(!1),u(!1),n({title:"Call Ended",description:"Voice assistant test completed"})}),x.current.on("speech-start",()=>{console.log("Assistant started speaking"),m(!0)}),x.current.on("speech-end",()=>{console.log("Assistant stopped speaking"),m(!1)}),x.current.on("error",C=>{console.error("Vapi error:",C),h(!1),u(!1),n({title:"Call Error",description:C.message||"An error occurred during the call",variant:"destructive"})}),x.current.on("message",C=>{console.log("Vapi message:",C)}),await x.current.start(e)}catch(N){console.error("Test error:",N),h(!1),u(!1),N.name==="NotAllowedError"?n({title:"Microphone Access Denied",description:"Please allow microphone access to test the voice assistant",variant:"destructive"}):n({title:"Error",description:N.message||"Failed to start test call. Make sure you have an active Vapi connection.",variant:"destructive"})}finally{d||u(!1)}};return v.useEffect(()=>()=>{x.current&&d&&x.current.stop()},[d]),a?s.jsx(wr,{children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx(ps,{className:"h-8 w-8 animate-spin"})})}):s.jsx(wr,{children:s.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/voice-assistants"),children:s.jsx($r,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Voice Assistant"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your Vapi assistant settings"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{variant:d?"destructive":"outline",onClick:S,disabled:c&&!d,children:[c&&!d?s.jsx(ps,{className:"h-4 w-4 animate-spin mr-2"}):d?s.jsx(pre,{className:"h-4 w-4 mr-2"}):s.jsx(Ot,{className:"h-4 w-4 mr-2"}),d?"End Call":"Test Assistant"]}),s.jsxs(Z,{onClick:_,disabled:o,children:[o?s.jsx(ps,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),d&&s.jsx(H,{className:"mb-6 border-primary bg-primary/5",children:s.jsx(Y,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(dre,{className:`h-5 w-5 ${f?"text-muted-foreground":"text-primary"}`}),!f&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f?"Assistant is speaking...":"Listening..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"The assistant is responding to you":"Speak now to interact with the assistant"})]})]})})}),s.jsxs($f,{defaultValue:"basic",className:"space-y-6",children:[s.jsxs(Mu,{className:"grid w-full grid-cols-6",children:[s.jsx(Jt,{value:"basic",children:"Basic"}),s.jsx(Jt,{value:"voice",children:"Voice"}),s.jsx(Jt,{value:"model",children:"Model"}),s.jsx(Jt,{value:"transcriber",children:"Transcriber"}),s.jsx(Jt,{value:"call",children:"Call Settings"}),s.jsx(Jt,{value:"features",children:"Features"})]}),s.jsx(Xt,{value:"basic",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Basic Information"}),s.jsx(ye,{children:"Configure the basic settings for your assistant"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",children:"Assistant Name"}),s.jsx(le,{id:"name",value:y.name,onChange:N=>b({...y,name:N.target.value}),placeholder:"My Assistant"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firstMessage",children:"First Message"}),s.jsx(bt,{id:"firstMessage",value:y.firstMessage,onChange:N=>b({...y,firstMessage:N.target.value}),placeholder:"Hello! How can I help you today?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firstMessageMode",children:"First Message Mode"}),s.jsxs(qe,{value:y.firstMessageMode,onValueChange:N=>b({...y,firstMessageMode:N}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"assistant-speaks-first",children:"Assistant Speaks First"}),s.jsx(oe,{value:"assistant-waits",children:"Assistant Waits"}),s.jsx(oe,{value:"assistant-speaks-first-with-model-generated-message",children:"AI Generated First Message"})]})]})]})]})]})}),s.jsx(Xt,{value:"voice",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Voice Configuration"}),s.jsx(ye,{children:"Configure the voice settings for your assistant"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"voiceProvider",children:"Voice Provider"}),s.jsxs(qe,{value:y.voiceProvider,onValueChange:N=>b({...y,voiceProvider:N}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"11labs",children:"ElevenLabs"}),s.jsx(oe,{value:"playht",children:"PlayHT"}),s.jsx(oe,{value:"rime-ai",children:"Rime AI"}),s.jsx(oe,{value:"deepgram",children:"Deepgram"}),s.jsx(oe,{value:"openai",children:"OpenAI"}),s.jsx(oe,{value:"azure",children:"Azure"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"voiceId",children:"Voice ID"}),s.jsx(le,{id:"voiceId",value:y.voiceId,onChange:N=>b({...y,voiceId:N.target.value}),placeholder:"Enter voice ID"})]}),y.voiceProvider==="11labs"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"voiceStability",children:["Voice Stability: ",y.voiceStability]}),s.jsx(le,{id:"voiceStability",type:"range",min:"0",max:"1",step:"0.01",value:y.voiceStability,onChange:N=>b({...y,voiceStability:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"voiceSimilarityBoost",children:["Similarity Boost: ",y.voiceSimilarityBoost]}),s.jsx(le,{id:"voiceSimilarityBoost",type:"range",min:"0",max:"1",step:"0.01",value:y.voiceSimilarityBoost,onChange:N=>b({...y,voiceSimilarityBoost:parseFloat(N.target.value)})})]})]}),(y.voiceProvider==="playht"||y.voiceProvider==="rime-ai")&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"voiceSpeed",children:["Voice Speed: ",y.voiceSpeed]}),s.jsx(le,{id:"voiceSpeed",type:"range",min:"0.5",max:"2",step:"0.1",value:y.voiceSpeed,onChange:N=>b({...y,voiceSpeed:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"backgroundSound",children:"Background Sound"}),s.jsxs(qe,{value:y.backgroundSound,onValueChange:N=>b({...y,backgroundSound:N}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"off",children:"Off"}),s.jsx(oe,{value:"office",children:"Office"}),s.jsx(oe,{value:"cafe",children:"Cafe"}),s.jsx(oe,{value:"nature",children:"Nature"})]})]})]})]})]})}),s.jsx(Xt,{value:"model",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"AI Model Configuration"}),s.jsx(ye,{children:"Configure the language model settings"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"modelProvider",children:"Model Provider"}),s.jsxs(qe,{value:y.modelProvider,onValueChange:N=>b({...y,modelProvider:N}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"openai",children:"OpenAI"}),s.jsx(oe,{value:"anthropic",children:"Anthropic"}),s.jsx(oe,{value:"together-ai",children:"Together AI"}),s.jsx(oe,{value:"groq",children:"Groq"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"model",children:"Model"}),s.jsx(le,{id:"model",value:y.model,onChange:N=>b({...y,model:N.target.value}),placeholder:"gpt-4"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"temperature",children:["Temperature: ",y.temperature]}),s.jsx(le,{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:y.temperature,onChange:N=>b({...y,temperature:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"maxTokens",children:"Max Tokens"}),s.jsx(le,{id:"maxTokens",type:"number",value:y.maxTokens,onChange:N=>b({...y,maxTokens:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Lt,{id:"emotionRecognition",checked:y.emotionRecognitionEnabled,onCheckedChange:N=>b({...y,emotionRecognitionEnabled:N})}),s.jsx(Q,{htmlFor:"emotionRecognition",children:"Enable Emotion Recognition"})]})]})]})}),s.jsx(Xt,{value:"transcriber",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Transcriber Configuration"}),s.jsx(ye,{children:"Configure speech-to-text settings"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"transcriberProvider",children:"Transcriber Provider"}),s.jsxs(qe,{value:y.transcriberProvider,onValueChange:N=>b({...y,transcriberProvider:N}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"deepgram",children:"Deepgram"}),s.jsx(oe,{value:"gladia",children:"Gladia"}),s.jsx(oe,{value:"talkscriber",children:"Talkscriber"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"transcriberModel",children:"Model"}),s.jsx(le,{id:"transcriberModel",value:y.transcriberModel,onChange:N=>b({...y,transcriberModel:N.target.value}),placeholder:"nova-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"transcriberLanguage",children:"Language"}),s.jsx(le,{id:"transcriberLanguage",value:y.transcriberLanguage,onChange:N=>b({...y,transcriberLanguage:N.target.value}),placeholder:"en"})]})]})]})}),s.jsx(Xt,{value:"call",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Call Settings"}),s.jsx(ye,{children:"Configure call behavior and timing"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"silenceTimeout",children:"Silence Timeout (seconds)"}),s.jsx(le,{id:"silenceTimeout",type:"number",value:y.silenceTimeoutSeconds,onChange:N=>b({...y,silenceTimeoutSeconds:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"responseDelay",children:"Response Delay (seconds)"}),s.jsx(le,{id:"responseDelay",type:"number",step:"0.1",value:y.responseDelaySeconds,onChange:N=>b({...y,responseDelaySeconds:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"llmRequestDelay",children:"LLM Request Delay (seconds)"}),s.jsx(le,{id:"llmRequestDelay",type:"number",step:"0.1",value:y.llmRequestDelaySeconds,onChange:N=>b({...y,llmRequestDelaySeconds:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"numWordsInterrupt",children:"Words to Interrupt"}),s.jsx(le,{id:"numWordsInterrupt",type:"number",value:y.numWordsToInterruptAssistant,onChange:N=>b({...y,numWordsToInterruptAssistant:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"maxDuration",children:"Max Call Duration (seconds)"}),s.jsx(le,{id:"maxDuration",type:"number",value:y.maxDurationSeconds,onChange:N=>b({...y,maxDurationSeconds:parseInt(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"endCallMessage",children:"End Call Message"}),s.jsx(bt,{id:"endCallMessage",value:y.endCallMessage,onChange:N=>b({...y,endCallMessage:N.target.value}),rows:2})]})]})]})}),s.jsx(Xt,{value:"features",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Advanced Features"}),s.jsx(ye,{children:"Enable or disable advanced features"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"recording",children:"Call Recording"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record all calls for quality assurance"})]}),s.jsx(Lt,{id:"recording",checked:y.recordingEnabled,onCheckedChange:N=>b({...y,recordingEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"hipaa",children:"HIPAA Compliance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable HIPAA-compliant mode"})]}),s.jsx(Lt,{id:"hipaa",checked:y.hipaaEnabled,onCheckedChange:N=>b({...y,hipaaEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"backchanneling",children:"Backchanneling"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow verbal acknowledgments during speech"})]}),s.jsx(Lt,{id:"backchanneling",checked:y.backchannelingEnabled,onCheckedChange:N=>b({...y,backchannelingEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"denoising",children:"Background Denoising"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce background noise"})]}),s.jsx(Lt,{id:"denoising",checked:y.backgroundDenoisingEnabled,onCheckedChange:N=>b({...y,backgroundDenoisingEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"modelOutput",children:"Model Output in Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Include model output in message logs"})]}),s.jsx(Lt,{id:"modelOutput",checked:y.modelOutputInMessagesEnabled,onCheckedChange:N=>b({...y,modelOutputInMessagesEnabled:N})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"voicemail",children:"Voicemail Detection"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detect and handle voicemail"})]}),s.jsx(Lt,{id:"voicemail",checked:y.voicemailDetectionEnabled,onCheckedChange:N=>b({...y,voicemailDetectionEnabled:N})})]}),y.voicemailDetectionEnabled&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"voicemailMessage",children:"Voicemail Message"}),s.jsx(bt,{id:"voicemailMessage",value:y.voicemailMessage,onChange:N=>b({...y,voicemailMessage:N.target.value}),placeholder:"Please leave a message after the beep.",rows:2})]})]})]})})]})]})})}const b7e=()=>{var pe;const{user:e}=Ht(),t=ts(),[n,r]=v.useState([]),[a,i]=v.useState([]),[o,l]=v.useState([]),[c,u]=v.useState(!0),[d,h]=v.useState(!1),[f,m]=v.useState(null),[g,p]=v.useState(null),[x,y]=v.useState(""),[b,j]=v.useState(null),[_,S]=v.useState([]),[N,C]=v.useState(!1),[k,D]=v.useState(!1),[I,E]=v.useState({}),[L,U]=v.useState(!1),[F,$]=v.useState(""),[M,O]=v.useState(!1),[R,B]=v.useState(null),[T,G]=v.useState([]),[W,w]=v.useState(!1),[A,P]=v.useState([]),z=async()=>{if(e)try{const{data:ae,error:Ne}=await J.from("elevenlabs_connections").select("id").eq("user_id",e.id).eq("is_active",!0).maybeSingle();if(Ne)throw Ne;m(!!ae)}catch(ae){console.error("Error checking connection:",ae),m(!1)}},q=async()=>{if(e)try{const{data:ae,error:Ne}=await J.from("whatsapp_agents").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(Ne)throw Ne;r(ae||[])}catch(ae){console.error("Error fetching agents:",ae),Te({title:"Error",description:"Failed to load WhatsApp agents",variant:"destructive"})}finally{u(!1)}},te=async()=>{if(e)try{const{data:ae}=await J.from("chatbots").select("id").eq("user_id",e.id),Ne=(ae==null?void 0:ae.map(tt=>tt.id))||[];if(Ne.length>0){const{data:tt,error:ue}=await J.from("customers").select(`
            *,
            customer_chatbot_assignments!inner (
              chatbot_id
            )
          `).in("customer_chatbot_assignments.chatbot_id",Ne);if(ue)throw ue;const ve=Array.from(new Map(tt==null?void 0:tt.map(Oe=>[Oe.id,Oe])).values());i(ve)}}catch(ae){console.error("Error fetching customers:",ae)}},X=async()=>{if(e)try{const{data:ae,error:Ne}=await J.from("customer_whatsapp_agent_assignments").select(`
          id,
          agent_id,
          customers (
            id,
            email,
            full_name,
            company_name
          )
        `).eq("assigned_by",e.id);if(Ne)throw Ne;const tt=(ae==null?void 0:ae.map(ue=>({id:ue.id,agent_id:ue.agent_id,customer:ue.customers})))||[];l(tt)}catch(ae){console.error("Error fetching assignments:",ae)}},V=v.useCallback(async ae=>{C(!0);try{const Ne=await s5e(ae);Ne.agent&&(j(Ne.agent),E(Ne.agent)),Ne.conversations&&S(Ne.conversations);const{data:tt,error:ue}=await J.from("whatsapp_conversations").select("*").eq("agent_id",ae).order("started_at",{ascending:!1});!ue&&tt&&P(tt)}catch(Ne){console.error("Error fetching agent config:",Ne),Te({title:"Error",description:Ne.message||"Failed to load agent configuration",variant:"destructive"})}finally{C(!1)}},[]),se=async ae=>{w(!0);try{const{data:Ne,error:tt}=await J.from("whatsapp_messages").select("*").eq("conversation_id",ae).order("timestamp",{ascending:!0});if(tt)throw tt;G(Ne||[])}catch(Ne){console.error("Error loading conversation messages:",Ne),Te({title:"Error",description:"Failed to load conversation messages",variant:"destructive"})}finally{w(!1)}},ee=ae=>{B(ae),se(ae.conversation_id),O(!0)},ge=ae=>{const Ne=Math.floor(ae/60),tt=ae%60;return`${Ne}m ${tt}s`},Se=async()=>{h(!0);try{const ae=await OL();if(ae.needsConnection){m(!1),Te({title:"Connection Required",description:"Please connect your ElevenLabs account in Settings first.",variant:"destructive"});return}Te({title:"Success",description:`Synced ${ae.count} agents from ElevenLabs`}),await q()}catch(ae){console.error("Error syncing agents:",ae),Te({title:"Error",description:ae.message||"Failed to sync agents",variant:"destructive"})}finally{h(!1)}},ze=async()=>{if(!(!g||!I)){D(!0);try{const ae={};if(I.name!==(b==null?void 0:b.name)&&(ae.name=I.name),I.system_prompt!==(b==null?void 0:b.system_prompt)&&(ae.system_prompt=I.system_prompt),I.first_message!==(b==null?void 0:b.first_message)&&(ae.first_message=I.first_message),I.language!==(b==null?void 0:b.language)&&(ae.language=I.language),I.voice_id!==(b==null?void 0:b.voice_id)&&(ae.voice_id=I.voice_id),I.llm_model!==(b==null?void 0:b.llm_model)&&(ae.llm_model=I.llm_model),I.temperature!==(b==null?void 0:b.temperature)&&(ae.temperature=I.temperature),I.max_duration_seconds!==(b==null?void 0:b.max_duration_seconds)&&(ae.max_duration_seconds=I.max_duration_seconds),Object.keys(ae).length===0){Te({title:"No changes",description:"No changes to save"});return}await r5e(g,ae),Te({title:"Success",description:"Agent updated successfully"}),await V(g),await q()}catch(ae){console.error("Error saving agent:",ae),Te({title:"Error",description:ae.message||"Failed to save agent",variant:"destructive"})}finally{D(!1)}}},We=async()=>{if(!g||!F){Te({title:"Error",description:"Please select a customer",variant:"destructive"});return}try{const{error:ae}=await J.from("customer_whatsapp_agent_assignments").insert({customer_id:F,agent_id:g,assigned_by:e==null?void 0:e.id});if(ae){if(ae.code==="23505")Te({title:"Error",description:"This customer is already assigned to this agent",variant:"destructive"});else throw ae;return}Te({title:"Success",description:"Agent assigned to customer successfully"}),U(!1),$(""),await X()}catch(ae){console.error("Error assigning agent:",ae),Te({title:"Error",description:"Failed to assign agent",variant:"destructive"})}},Le=async ae=>{try{const{error:Ne}=await J.from("customer_whatsapp_agent_assignments").delete().eq("id",ae);if(Ne)throw Ne;Te({title:"Success",description:"Assignment removed"}),await X()}catch(Ne){console.error("Error removing assignment:",Ne),Te({title:"Error",description:"Failed to remove assignment",variant:"destructive"})}},Je=v.useCallback(async()=>{if(!d){h(!0);try{const ae=await OL();if(ae!=null&&ae.needsConnection){m(!1);return}console.log(`Auto-synced ${(ae==null?void 0:ae.count)||0} WhatsApp agents`)}catch(ae){console.error("Auto-sync error:",ae)}finally{h(!1)}}},[d]);v.useEffect(()=>{if(e){z(),Je().then(()=>{q(),te(),X()});const ae=setInterval(()=>{Je().then(()=>q())},12e4);return()=>clearInterval(ae)}else u(!1)},[e]),v.useEffect(()=>{n.length>0&&!g&&p(n[0].id)},[n,g]),v.useEffect(()=>{g&&V(g)},[g,V]);const Ye=n.find(ae=>ae.id===g),ct=o.filter(ae=>ae.agent_id===g),he=n.filter(ae=>{var Ne;return(Ne=ae.name)==null?void 0:Ne.toLowerCase().includes(x.toLowerCase())});return e?f===!1?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"WhatsApp Agents"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your ElevenLabs WhatsApp agents"})]}),s.jsxs(H,{className:"max-w-md",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"w-5 h-5 text-warning"}),s.jsx(re,{children:"Connection Required"})]}),s.jsx(ye,{children:"Connect your ElevenLabs account to view and manage your WhatsApp agents."})]}),s.jsx(Y,{children:s.jsxs(Z,{onClick:()=>t("/settings"),children:[s.jsx(gs,{className:"w-4 h-4 mr-2"}),"Go to Settings"]})})]})]}):c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ut,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"WhatsApp Agents"})]}),s.jsxs(Z,{onClick:Se,disabled:d,size:"sm",variant:"outline",className:"w-full gap-1.5",children:[s.jsx(xa,{className:`h-3.5 w-3.5 ${d?"animate-spin":""}`}),d?"Syncing...":"Sync Agents"]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(Ea,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:"Search agents...",value:x,onChange:ae=>y(ae.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Js,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:he.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[s.jsx(yt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x?"No matching agents":"No agents found"}),!x&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click Sync to fetch your agents"})]}):he.map(ae=>{const Ne=o.filter(ue=>ue.agent_id===ae.id).length,tt=g===ae.id;return s.jsx("button",{onClick:()=>p(ae.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${tt?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium text-sm truncate ${tt?"text-primary":""}`,children:ae.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[ae.phone_number&&s.jsxs("span",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),ae.phone_number]}),Ne>0&&s.jsxs(Pe,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:[Ne," assigned"]})]})]}),tt&&s.jsx(Ja,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},ae.id)})})}),n.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[n.length," agents"]}),s.jsxs("span",{children:[o.length," assignments"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:Ye?s.jsxs("div",{className:"p-6 max-w-4xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-green-500/20 to-green-500/5 border border-green-500/20",children:s.jsx(Ut,{className:"h-6 w-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:Ye.name||"Unnamed Agent"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Ye.phone_number&&s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),Ye.phone_number]}),s.jsx(Pe,{variant:Ye.status==="active"?"default":"secondary",children:Ye.status})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>U(!0),className:"gap-1.5",children:[s.jsx(Dp,{className:"h-4 w-4"}),"Assign"]}),s.jsxs(Z,{size:"sm",onClick:ze,disabled:k,className:"gap-1.5",children:[k?s.jsx(ps,{className:"h-4 w-4 animate-spin"}):s.jsx(Ri,{className:"h-4 w-4"}),"Save"]})]})]}),N?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ls,{className:"h-10 w-full"}),s.jsx(Ls,{className:"h-32 w-full"}),s.jsx(Ls,{className:"h-32 w-full"})]}):b?s.jsxs($f,{defaultValue:"config",className:"space-y-4",children:[s.jsxs(Mu,{children:[s.jsx(Jt,{value:"config",children:"Configuration"}),s.jsx(Jt,{value:"voice",children:"Voice & Model"}),s.jsxs(Jt,{value:"conversations",children:["Conversations (",_.length,")"]}),s.jsxs(Jt,{value:"customers",children:["Customers (",ct.length,")"]})]}),s.jsxs(Xt,{value:"config",className:"space-y-4",children:[s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{className:"text-lg",children:"Basic Settings"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"name",children:"Agent Name"}),s.jsx(le,{id:"name",value:I.name||"",onChange:ae=>E({...I,name:ae.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"first_message",children:"First Message"}),s.jsx(bt,{id:"first_message",value:I.first_message||"",onChange:ae=>E({...I,first_message:ae.target.value}),placeholder:"The first message the agent will say...",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"language",children:"Language"}),s.jsxs(qe,{value:I.language||"en",onValueChange:ae=>E({...I,language:ae}),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"en",children:"English"}),s.jsx(oe,{value:"es",children:"Spanish"}),s.jsx(oe,{value:"fr",children:"French"}),s.jsx(oe,{value:"de",children:"German"}),s.jsx(oe,{value:"it",children:"Italian"}),s.jsx(oe,{value:"pt",children:"Portuguese"}),s.jsx(oe,{value:"nl",children:"Dutch"}),s.jsx(oe,{value:"pl",children:"Polish"}),s.jsx(oe,{value:"ja",children:"Japanese"}),s.jsx(oe,{value:"zh",children:"Chinese"}),s.jsx(oe,{value:"ko",children:"Korean"})]})]})]})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"System Prompt"}),s.jsx(ye,{children:"Define how the agent should behave and respond"})]}),s.jsx(Y,{children:s.jsx(bt,{value:I.system_prompt||"",onChange:ae=>E({...I,system_prompt:ae.target.value}),placeholder:"You are a helpful assistant...",rows:10,className:"font-mono text-sm"})})]}),b.tools&&b.tools.length>0&&s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Connected Tools"}),s.jsx(ye,{children:"Tools and functions available to this agent"})]}),s.jsx(Y,{children:s.jsx("div",{className:"space-y-2",children:b.tools.map((ae,Ne)=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("p",{className:"font-medium",children:ae.name||`Tool ${Ne+1}`}),ae.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:ae.description})]},Ne))})})]})]}),s.jsxs(Xt,{value:"voice",className:"space-y-4",children:[s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{className:"text-lg",children:"Voice Settings"})}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"voice_id",children:"Voice ID"}),s.jsx(le,{id:"voice_id",value:I.voice_id||"",onChange:ae=>E({...I,voice_id:ae.target.value}),placeholder:"ElevenLabs Voice ID"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The ElevenLabs voice ID to use for text-to-speech"})]})})]}),s.jsxs(H,{children:[s.jsx(ne,{children:s.jsx(re,{className:"text-lg",children:"LLM Settings"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"llm_model",children:"Model"}),s.jsx(le,{id:"llm_model",value:I.llm_model||"",onChange:ae=>E({...I,llm_model:ae.target.value}),placeholder:"gpt-4o-mini"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{children:["Temperature: ",((pe=I.temperature)==null?void 0:pe.toFixed(2))||"0.70"]}),s.jsx(Gh,{value:[I.temperature||.7],onValueChange:([ae])=>E({...I,temperature:ae}),min:0,max:1,step:.01}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness. Lower is more focused, higher is more creative."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"max_duration",children:"Max Call Duration (seconds)"}),s.jsx(le,{id:"max_duration",type:"number",value:I.max_duration_seconds||"",onChange:ae=>E({...I,max_duration_seconds:parseInt(ae.target.value)||void 0}),placeholder:"No limit"})]})]})]})]}),s.jsx(Xt,{value:"conversations",className:"space-y-4",children:s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-lg",children:"Recent Conversations"}),s.jsx(ye,{children:"Click on a conversation to view the transcript and AI summary"})]}),s.jsx(Y,{children:A.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No conversations yet. Sync conversations to see them here."}):s.jsx(Js,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-3",children:A.map(ae=>{const Ne=ae.ended_at?Math.floor((new Date(ae.ended_at).getTime()-new Date(ae.started_at).getTime())/1e3):void 0,tt={conversation_id:ae.id,status:ae.status||"unknown",start_time_unix_secs:new Date(ae.started_at).getTime()/1e3,end_time_unix_secs:ae.ended_at?new Date(ae.ended_at).getTime()/1e3:void 0,call_duration_secs:Ne,summary:ae.summary||void 0,sentiment:ae.sentiment||void 0,phone_number:ae.phone_number||void 0};return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ee(tt),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Pe,{variant:ae.status==="done"||ae.status==="completed"?"default":"secondary",children:ae.status}),ae.sentiment&&s.jsx(Pe,{variant:"outline",children:ae.sentiment})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[ae.phone_number&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"h-3 w-3"}),"+",ae.phone_number]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(ae.started_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),pt(new Date(ae.started_at),"h:mm a")]}),Ne&&s.jsxs("span",{children:["Duration: ",ge(Ne)]})]}),ae.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:ae.summary})]}),s.jsx(Ja,{className:"h-4 w-4 text-muted-foreground"})]},ae.id)})})})})]})}),s.jsx(Xt,{value:"customers",className:"space-y-4",children:s.jsxs(H,{children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{className:"text-lg",children:"Assigned Customers"}),s.jsx(ye,{children:"Customers who can view this agent's conversations"})]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>U(!0),className:"gap-1.5",children:[s.jsx(Dp,{className:"h-4 w-4"}),"Assign Customer"]})]})}),s.jsx(Y,{children:ct.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No customers assigned to this agent"}):s.jsx("div",{className:"space-y-3",children:ct.map(ae=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:s.jsx(Pd,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ae.customer.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ae.customer.email}),ae.customer.company_name&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.customer.company_name})]})]}),s.jsx(Z,{size:"icon",variant:"ghost",onClick:()=>Le(ae.id),children:s.jsx(hn,{className:"h-4 w-4 text-destructive"})})]},ae.id))})})]})})]}):s.jsx(H,{children:s.jsx(Y,{className:"py-8",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load agent configuration"})})})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ut,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an agent to view details"})]})})}),s.jsx(or,{open:L,onOpenChange:U,children:s.jsxs(Kn,{children:[s.jsxs(Yn,{children:[s.jsx(Jn,{children:"Assign Customer"}),s.jsx(Ro,{children:"Select a customer to give them access to this agent's conversations."})]}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs(qe,{value:F,onValueChange:$,children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select a customer"})}),s.jsx(Ue,{children:a.filter(ae=>!ct.some(Ne=>Ne.customer.id===ae.id)).map(ae=>s.jsx(oe,{value:ae.id,children:s.jsxs("div",{children:[s.jsx("p",{children:ae.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.email})]})},ae.id))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),s.jsx(Z,{onClick:We,disabled:!F,children:"Assign"})]})]})]})}),s.jsx(cv,{open:M,onOpenChange:O,children:s.jsxs(gf,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsxs(uv,{children:[s.jsx(dv,{children:"Conversation Details"}),s.jsx(hv,{children:R&&s.jsxs("div",{className:"text-sm space-y-2 mt-2",children:[R.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-md px-3 py-2",children:[s.jsx(Ot,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground block",children:"WhatsApp Sender"}),s.jsxs("span",{className:"font-medium text-foreground",children:["+",R.phone_number]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(R.start_time_unix_secs*1e3),"MMM d, yyyy h:mm a")]}),R.call_duration_secs&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-3 w-3"}),"Duration: ",ge(R.call_duration_secs)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:R.status==="done"||R.status==="completed"?"default":"secondary",children:R.status}),R.sentiment&&s.jsx(Pe,{variant:"outline",children:R.sentiment})]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[(R==null?void 0:R.summary)&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hi,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"font-semibold",children:"AI Summary"})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm",children:R.summary})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("h3",{className:"font-semibold",children:"Transcript"})]}),W?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):T.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transcript available for this conversation"}):s.jsx("div",{className:"space-y-4",children:T.map((ae,Ne)=>s.jsx("div",{className:`flex gap-3 ${ae.role==="assistant"?"justify-start":"justify-end"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${ae.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:ae.role==="assistant"?"Agent":"User"}),s.jsx("p",{className:"text-sm",children:ae.content}),s.jsx("p",{className:"text-xs opacity-50 mt-1",children:pt(new Date(ae.timestamp),"h:mm:ss a")})]})},Ne))})]})]})]})})]}):s.jsx("div",{className:"p-6",children:"Please log in to view WhatsApp agents."})};function w7e(){const{theme:e,setTheme:t}=fv();return s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>t(e==="light"?"dark":"light"),className:"h-9 w-9 px-0",children:[s.jsx(jP,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(wP,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const vi=()=>s.jsx("footer",{className:"border-t border-gray-700 bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 w-auto"})}),s.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed",children:"The complete platform for building & deploying AI support agents for your business."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/auth",className:"text-gray-400 hover:text-white transition-colors",children:"Get Started"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Resources"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/docs",className:"text-gray-400 hover:text-white transition-colors",children:"Documentation"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/api",className:"text-gray-400 hover:text-white transition-colors",children:"API Reference"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/guides",className:"text-gray-400 hover:text-white transition-colors",children:"Guides"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/support",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ke,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Ke,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",new Date().getFullYear()," Voxtro. All rights reserved."]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(w7e,{}),s.jsx(Ke,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy"}),s.jsx(Ke,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms"})]})]})})]})}),j7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Documentation"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need to know about building and deploying AI agents with Voxtro."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Quick Start"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-6 w-6 text-pink-400"}),s.jsx(re,{className:"text-white",children:"1. Create Your Agent"})]}),s.jsx(ye,{className:"text-gray-400",children:"Set up your first AI agent in minutes with our intuitive interface."})]}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Choose your AI model"}),s.jsx("li",{children:" Configure personality and tone"}),s.jsx("li",{children:" Add knowledge sources"}),s.jsx("li",{children:" Set up basic responses"})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-6 w-6 text-blue-400"}),s.jsx(re,{className:"text-white",children:"2. Configure Integrations"})]}),s.jsx(ye,{className:"text-gray-400",children:"Connect your systems and data sources for real-time information."})]}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Connect CRM systems"}),s.jsx("li",{children:" Add API endpoints"}),s.jsx("li",{children:" Set up webhooks"}),s.jsx("li",{children:" Configure actions"})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"h-6 w-6 text-green-400"}),s.jsx(re,{className:"text-white",children:"3. Deploy & Monitor"})]}),s.jsx(ye,{className:"text-gray-400",children:"Launch your agent and track performance with detailed analytics."})]}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Embed on website"}),s.jsx("li",{children:" Monitor conversations"}),s.jsx("li",{children:" Track metrics"}),s.jsx("li",{children:" Optimize performance"})]})})]})]})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Core Features"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(W8,{className:"h-5 w-5 text-pink-400"}),"Agent Configuration"]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to configure your AI agent's personality, knowledge base, and response patterns."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Personality customization"}),s.jsx("li",{children:" Knowledge base management"}),s.jsx("li",{children:" Response templates"}),s.jsx("li",{children:" Conversation flows"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(xP,{className:"h-5 w-5 text-blue-400"}),"API Integration"]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Connect external services and databases to enhance your agent's capabilities."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" REST API connections"}),s.jsx("li",{children:" Database integrations"}),s.jsx("li",{children:" Third-party services"}),s.jsx("li",{children:" Custom webhooks"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Topics"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Bl,{className:"h-5 w-5 text-green-400"}),"Security & Compliance"]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Understand how Voxtro protects your data and ensures compliance."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Data encryption"}),s.jsx("li",{children:" Access controls"}),s.jsx("li",{children:" GDPR compliance"}),s.jsx("li",{children:" SOC 2 certification"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Ul,{className:"h-5 w-5 text-purple-400"}),"Performance Optimization"]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Best practices for optimizing your agent's performance and response quality."}),s.jsxs("ul",{className:"text-gray-400 space-y-1 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning"}),s.jsx("li",{children:" Conversation analytics"}),s.jsx("li",{children:" A/B testing"})]})]})]})]})]})]}),s.jsx("section",{className:"mt-16 text-center",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Need Help?"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Can't find what you're looking for? Our support team is here to help."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/support",children:"Contact Support"})}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsx(Ke,{to:"/api",children:"API Reference"})})]})]})})]}),s.jsx(vi,{})]}),_7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"API Reference"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Complete reference for the Voxtro API. Build integrations and automate your AI agents programmatically."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(lre,{className:"h-6 w-6 text-pink-400"}),"Authentication"]}),s.jsx(ye,{className:"text-gray-400",children:"All API requests require authentication using your API key."})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:s.jsx("code",{className:"text-green-400 text-sm",children:"Authorization: Bearer YOUR_API_KEY"})}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You can find your API key in your dashboard settings. Keep it secure and never expose it in client-side code."})]})]})}),s.jsxs("section",{className:"space-y-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Endpoints"}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Sn,{className:"h-6 w-6 text-blue-400"}),"Agents"]}),s.jsx(ye,{className:"text-gray-400",children:"Manage your AI agents programmatically."})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pe,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve all your AI agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "agents": [
    {
      "id": "agent_123",
      "name": "Support Bot",
      "status": "active",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pe,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/agents"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Create a new AI agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "name": "Customer Support Bot",
  "personality": "helpful and professional",
  "model": "gpt-4",
  "knowledge_base": ["doc1", "doc2"]
}`})})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(yP,{className:"h-6 w-6 text-purple-400"}),"Conversations"]}),s.jsx(ye,{className:"text-gray-400",children:"Access and manage conversations between users and your agents."})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pe,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsx("code",{className:"text-gray-300",children:"/api/v1/conversations"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Retrieve conversations for your agents."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "conversations": [
    {
      "id": "conv_123",
      "agent_id": "agent_123",
      "user_id": "user_456",
      "messages": 5,
      "status": "resolved",
      "created_at": "2024-01-01T00:00:00Z"
    }
  ]
}`})})]}),s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pe,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"POST"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/conversations/","{conversation_id}","/messages"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Send a message in a conversation."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "message": "Hello, I need help with my order",
  "user_id": "user_456"
}`})})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(xP,{className:"h-6 w-6 text-orange-400"}),"Analytics"]}),s.jsx(ye,{className:"text-gray-400",children:"Get insights and analytics about your agent performance."})]}),s.jsx(Y,{className:"space-y-6",children:s.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pe,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500",children:"GET"}),s.jsxs("code",{className:"text-gray-300",children:["/api/v1/analytics/agents/","{agent_id}"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get analytics for a specific agent."}),s.jsx("div",{className:"bg-gray-900 rounded-lg p-4",children:s.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:`{
  "total_conversations": 1250,
  "resolution_rate": 0.89,
  "avg_response_time": 1.2,
  "satisfaction_score": 4.6,
  "period": "last_30_days"
}`})})]})})]})]})]}),s.jsx(vi,{})]}),N7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Guides & Tutorials"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Step-by-step guides to help you get the most out of your Voxtro AI agents."})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Getting Started"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-6 w-6 text-pink-400"}),s.jsx(re,{className:"text-white",children:"Your First AI Agent"})]}),s.jsx(ye,{className:"text-gray-400",children:"Learn how to create and configure your first AI agent from scratch."})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Sign up and access your dashboard"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Choose your AI model and configure personality"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Add knowledge sources and train your agent"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test and deploy to your website"})]})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-6 w-6 text-blue-400"}),s.jsx(re,{className:"text-white",children:"Setting Up Integrations"})]}),s.jsx(ye,{className:"text-gray-400",children:"Connect your existing tools and systems to enhance your agent's capabilities."})]}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"1"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Connect your CRM or helpdesk"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"2"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Set up API endpoints for real-time data"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"3"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Configure webhooks and notifications"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-bold",children:"4"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Test integrations and monitor performance"})]})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Advanced Guides"}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"h-6 w-6 text-yellow-400"}),s.jsx(re,{className:"text-white",children:"Performance Optimization"})]}),s.jsx(ye,{className:"text-gray-400",children:"Optimize your agent for faster responses and better accuracy."})]}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Response time optimization"}),s.jsx("li",{children:" Model fine-tuning techniques"}),s.jsx("li",{children:" Caching strategies"}),s.jsx("li",{children:" Load balancing"})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"h-6 w-6 text-green-400"}),s.jsx(re,{className:"text-white",children:"Multi-Agent Systems"})]}),s.jsx(ye,{className:"text-gray-400",children:"Build complex workflows with multiple specialized agents."})]}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Agent orchestration"}),s.jsx("li",{children:" Handoff strategies"}),s.jsx("li",{children:" Specialized agent roles"}),s.jsx("li",{children:" Workflow management"})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(So,{className:"h-6 w-6 text-purple-400"}),s.jsx(re,{className:"text-white",children:"Analytics & Insights"})]}),s.jsx(ye,{className:"text-gray-400",children:"Extract valuable insights from your agent interactions."})]}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Conversation analysis"}),s.jsx("li",{children:" Performance metrics"}),s.jsx("li",{children:" Customer satisfaction tracking"}),s.jsx("li",{children:" Business intelligence"})]})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Use Cases & Examples"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"E-commerce Support Agent"}),s.jsx(ye,{className:"text-gray-400",children:"Build an AI agent that handles order inquiries, returns, and product recommendations."})]}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Learn how to create a comprehensive e-commerce support agent that can handle order tracking, process returns, and make personalized product recommendations."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"SaaS Onboarding Assistant"}),s.jsx(ye,{className:"text-gray-400",children:"Create an agent that guides new users through your product features and setup."})]}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 mb-4",children:"Build an intelligent onboarding assistant that helps new users understand your product, complete setup tasks, and discover key features."})})]})]})]})]}),s.jsx(vi,{})]}),S7e=()=>{const[e,t]=v.useState({firstName:"",lastName:"",email:"",subject:"",message:""}),[n,r]=v.useState(!1),a=async i=>{i.preventDefault(),r(!0);try{await a5e({name:`${e.firstName} ${e.lastName}`.trim(),email:e.email,subject:e.subject,message:e.message}),_e.success("Message sent successfully! We'll get back to you soon."),t({firstName:"",lastName:"",email:"",subject:"",message:""})}catch(o){console.error("Error sending message:",o),_e.error("Failed to send message. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Support Center"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get help when you need it. Our support team is here to ensure your success with Voxtro."})]}),s.jsx("section",{className:"mb-16",children:s.jsx("div",{className:"grid lg:grid-cols-1 gap-8 max-w-md mx-auto",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W8,{className:"h-8 w-8 text-pink-400"}),s.jsx(re,{className:"text-white",children:"Documentation"})]}),s.jsx(ye,{className:"text-gray-400",children:"Find answers in our comprehensive documentation and guides."})]}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Browse through detailed documentation, API references, and step-by-step tutorials."}),s.jsx(Z,{className:"w-full",asChild:!0,children:s.jsx(Ke,{to:"/docs",children:"View Documentation"})})]})]})})}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Get in Touch"}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"Send us a message"}),s.jsx(ye,{className:"text-gray-400",children:"We'll get back to you within 24 hours."})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),s.jsx(le,{id:"firstName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"John",value:e.firstName,onChange:i=>t({...e,firstName:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),s.jsx(le,{id:"lastName",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe",value:e.lastName,onChange:i=>t({...e,lastName:i.target.value}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email",className:"text-gray-300",children:"Email"}),s.jsx(le,{id:"email",type:"email",className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@example.com",value:e.email,onChange:i=>t({...e,email:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),s.jsx(le,{id:"subject",className:"bg-gray-800 border-gray-700 text-white",placeholder:"How can we help?",value:e.subject,onChange:i=>t({...e,subject:i.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"message",className:"text-gray-300",children:"Message"}),s.jsx(bt,{id:"message",className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your issue or question...",value:e.message,onChange:i=>t({...e,message:i.target.value}),required:!0})]}),s.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?"Sending...":"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-6",children:s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(si,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:"Email Support"}),s.jsx("p",{className:"text-gray-400",children:"info@voxtro.io"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"We respond within 24 hours"})]})]})})})})]})]})}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Tm,{className:"h-5 w-5 text-pink-400"}),"How do I get started?"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Simply sign up for an account, create your first AI agent, and follow our quick start guide to configure and deploy your agent in minutes."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Tm,{className:"h-5 w-5 text-pink-400"}),"What integrations are supported?"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We support popular tools like Slack, Zendesk, Salesforce, Stripe, and many more. You can also connect custom APIs and webhooks."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Tm,{className:"h-5 w-5 text-pink-400"}),"Is my data secure?"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Yes, we are SOC 2 Type II and GDPR compliant. All data is encrypted at rest and in transit, and we never use your data to train our models."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Tm,{className:"h-5 w-5 text-pink-400"}),"Can I customize the agent's behavior?"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! You can customize your agent's personality, knowledge base, response patterns, and configure when to escalate to human agents."})})]})]})]})]}),s.jsx(vi,{})]})},C7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"System Status"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-time status of Voxtro services and infrastructure."})]}),s.jsx("section",{className:"mb-16",children:s.jsx(H,{className:"bg-background shadow-lg shadow-green-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(Vr,{className:"h-12 w-12 text-green-400 mr-4"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"All Systems Operational"}),s.jsx("p",{className:"text-gray-400",children:"All services are running normally"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:"99.98% Uptime (Last 90 days)"})})]})})}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Service Status"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Core Services"}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gh,{className:"h-6 w-6 text-pink-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"AI Agent API"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Core agent processing and responses"})]})]}),s.jsxs(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yP,{className:"h-6 w-6 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Database"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Data storage and retrieval"})]})]}),s.jsxs(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vh,{className:"h-6 w-6 text-green-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Chat Widget"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Website embedding and chat interface"})]})]}),s.jsxs(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Infrastructure"}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ul,{className:"h-6 w-6 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"User login and security"})]})]}),s.jsxs(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gh,{className:"h-6 w-6 text-purple-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"Analytics"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Usage tracking and insights"})]})]}),s.jsxs(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vh,{className:"h-6 w-6 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:"CDN"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Content delivery network"})]})]}),s.jsxs(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:[s.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Operational"]})]})})})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Recent Incidents"}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vr,{className:"h-16 w-16 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Incidents"}),s.jsx("p",{className:"text-gray-400",children:"All services have been running smoothly. No incidents to report in the last 30 days."})]})})})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Performance Metrics"}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"99.98%"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Uptime"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 90 days"})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"0.8s"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Response Time"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Average API response"})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"2.1M"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Requests"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Last 24 hours"})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:"5"}),s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Regions"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Global coverage"})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Stay Updated"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Subscribe to status updates and get notified about any service disruptions."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(Z,{children:"Subscribe to Updates"}),s.jsx(Z,{variant:"outline",children:"RSS Feed"})]})]})})]}),s.jsx(vi,{})]}),k7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("section",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"About Voxtro"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed",children:"We're on a mission to revolutionize customer support through intelligent AI agents that understand, engage, and solve problems just like the best human agentsbut available 24/7."})]}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16 mb-20",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx(uw,{className:"h-8 w-8 text-pink-400"}),"Our Mission"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"To empower businesses of all sizes with AI-powered customer support that's indistinguishable from human interaction. We believe every customer deserves instant, accurate, and empathetic support, regardless of the time of day or complexity of their inquiry."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2 text-2xl",children:[s.jsx(Ul,{className:"h-8 w-8 text-blue-400"}),"Our Vision"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"A world where exceptional customer support is accessible to every business, where AI agents seamlessly integrate with existing workflows, and where customers receive instant, personalized assistance that exceeds their expectations."})})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Story"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Founded in 2024, Voxtro emerged from a simple observation: great customer support shouldn't be a luxury reserved for enterprise companies."})]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-12",children:s.jsxs("div",{className:"prose prose-lg prose-invert max-w-none",children:[s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"Our founders, experienced engineers and customer success leaders, witnessed firsthand how small and medium-sized businesses struggled to provide consistent, high-quality customer support due to resource constraints and the complexity of existing solutions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"We set out to build something differenta platform that could democratize access to intelligent customer support. By leveraging the latest advances in AI and natural language processing, we created agents that don't just answer questions, but understand context, access real-time data, and take meaningful actions."}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Today, Voxtro powers customer support for thousands of businesses worldwide, from startups to enterprise companies, helping them deliver exceptional customer experiences while reducing operational overhead and improving team productivity."})]})})})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Values"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"The principles that guide everything we do at Voxtro."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white text-xl",children:"Customer-Centric"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Every decision we make starts with our customers. We build features that solve real problems and create genuine value for businesses and their customers."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white text-xl",children:"Innovation"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We push the boundaries of what's possible with AI, constantly exploring new ways to make customer support more intelligent, efficient, and human-like."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white text-xl",children:"Transparency"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We believe in open communication, clear pricing, and honest relationships with our customers, partners, and team members."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white text-xl",children:"Quality"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We're committed to delivering exceptional quality in our product, our service, and our customer relationships. Excellence is not negotiable."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white text-xl",children:"Accessibility"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Advanced AI should be accessible to businesses of all sizes. We work to make our platform easy to use, affordable, and scalable."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white text-xl",children:"Security"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We take data security and privacy seriously, implementing industry-leading practices to protect our customers' information and maintain their trust."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Leadership Team"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Meet the leaders driving Voxtro's mission forward."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"AS"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Alex Smith"}),s.jsx("p",{className:"text-pink-400 mb-4",children:"CEO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Former VP of Engineering at a leading customer support platform. Passionate about making AI accessible to every business."})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"MJ"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Maria Johnson"}),s.jsx("p",{className:"text-blue-400 mb-4",children:"CTO & Co-Founder"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI researcher with 15+ years in machine learning and natural language processing. Former principal scientist at a major tech company."})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"DL"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"David Lee"}),s.jsx("p",{className:"text-green-400 mb-4",children:"VP of Customer Success"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Customer success leader who has helped scale support operations for multiple high-growth SaaS companies."})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx(Gn,{className:"h-16 w-16 text-pink-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Join Our Mission"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always looking for talented individuals who share our passion for innovation and customer success. Come help us build the future of customer support."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(Z,{size:"lg",asChild:!0,children:s.jsx(Ke,{to:"/careers",children:"View Open Positions"})}),s.jsx(Z,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Ke,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(vi,{})]}),E7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Join Our Team"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Help us build the future of AI-powered customer support. We're looking for passionate individuals who want to make a real impact on how businesses interact with their customers."})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Why Work at Voxtro?"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Join a team that's passionate about innovation, growth, and making a difference."})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(oD,{className:"h-6 w-6 text-pink-400"}),"Cutting-Edge Technology"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Work with the latest AI technologies and help shape the future of conversational AI. From large language models to advanced NLP techniques, you'll be at the forefront of innovation."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Gn,{className:"h-6 w-6 text-blue-400"}),"Collaborative Culture"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Join a diverse, inclusive team where every voice matters. We believe the best ideas come from collaboration and different perspectives working together."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(dD,{className:"h-6 w-6 text-red-400"}),"Impact & Purpose"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Your work directly impacts thousands of businesses and millions of their customers. See the real-world effects of your contributions every day."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(lD,{className:"h-6 w-6 text-green-400"}),"Growth Opportunities"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Fast-growing company means fast-growing careers. We invest in our people with learning budgets, mentorship programs, and clear paths for advancement."})})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Open Positions"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Find your next career opportunity with us."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(xP,{className:"h-6 w-6 text-pink-400"}),"Engineering"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{className:"text-white",children:"Senior Full-Stack Engineer"}),s.jsx(ye,{className:"text-gray-400",children:"Build and scale our core platform architecture"})]}),s.jsx(Pe,{className:"bg-green-500/20 text-green-400 border-green-500",children:"New"})]})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / San Francisco"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"We're looking for an experienced engineer to help build scalable systems that power AI agents for thousands of customers worldwide."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(re,{className:"text-white",children:"AI/ML Engineer"}),s.jsx(ye,{className:"text-gray-400",children:"Develop next-generation AI conversation models"})]}),s.jsx(Pe,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Featured"})]})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / New York"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Join our AI team to research and implement cutting-edge machine learning techniques for conversational AI and natural language understanding."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"Frontend Engineer"}),s.jsx(ye,{className:"text-gray-400",children:"Create beautiful, intuitive user experiences"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / London"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build responsive, accessible web applications using React, TypeScript, and modern frontend technologies to power our customer dashboard."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"DevOps Engineer"}),s.jsx(ye,{className:"text-gray-400",children:"Scale infrastructure for global AI workloads"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / Austin"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Build and maintain cloud infrastructure, CI/CD pipelines, and monitoring systems that support millions of AI interactions daily."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(lD,{className:"h-6 w-6 text-blue-400"}),"Product & Design"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"Senior Product Manager"}),s.jsx(ye,{className:"text-gray-400",children:"Drive product strategy and roadmap"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / Seattle"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Lead product development for our AI agent platform, working closely with engineering, design, and customers to deliver impactful features."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"UX/UI Designer"}),s.jsx(ye,{className:"text-gray-400",children:"Design intuitive interfaces for complex AI systems"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / Los Angeles"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Create user-centered designs that make complex AI functionality accessible to users of all technical backgrounds."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(Gn,{className:"h-6 w-6 text-green-400"}),"Business"]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"Customer Success Manager"}),s.jsx(ye,{className:"text-gray-400",children:"Help customers achieve success with AI agents"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / Chicago"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Work directly with our customers to ensure they're getting maximum value from their AI agents and achieving their support goals."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"Sales Development Representative"}),s.jsx(ye,{className:"text-gray-400",children:"Generate and qualify leads for our sales team"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-4 w-4"}),"Remote / Miami"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(It,{className:"h-4 w-4"}),"Full-time"]})]}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Help businesses discover how AI can transform their customer support. Perfect for someone passionate about AI and customer success."}),s.jsx(Z,{className:"w-full",children:"Apply Now"})]})]})]})]})]})]}),s.jsxs("section",{className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Benefits & Perks"}),s.jsx("p",{className:"text-xl text-gray-400",children:"We take care of our team so they can do their best work."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(dD,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Health & Wellness"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Comprehensive health insurance"}),s.jsx("li",{children:" Dental and vision coverage"}),s.jsx("li",{children:" Mental health support"}),s.jsx("li",{children:" Fitness stipend"})]})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center",children:s.jsx(It,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Work-Life Balance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Flexible working hours"}),s.jsx("li",{children:" Remote-first culture"}),s.jsx("li",{children:" Unlimited PTO policy"}),s.jsx("li",{children:" Quarterly company retreats"})]})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(oD,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Growth & Learning"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" $2,000 annual learning budget"}),s.jsx("li",{children:" Conference attendance"}),s.jsx("li",{children:" Internal mentorship program"}),s.jsx("li",{children:" Equity participation"})]})]})})]})]}),s.jsx("section",{className:"text-center",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20 p-12",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Don't See a Perfect Fit?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"We're always interested in hearing from talented individuals. Send us your resume and tell us how you'd like to contribute to our mission."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(Z,{size:"lg",children:"Send General Application"}),s.jsx(Z,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(Ke,{to:"/contact",children:"Get in Touch"})})]})]})})]}),s.jsx(vi,{})]}),P7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Contact Us"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Have questions about Voxtro? Want to see a demo? Looking to partner with us? We'd love to hear from you."})]}),s.jsx("section",{className:"mb-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx(Sn,{className:"h-12 w-12 text-pink-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Sales Inquiries"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Interested in Voxtro for your business?"}),s.jsx(Z,{className:"w-full",children:"Talk to Sales"})]})}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8 text-center",children:[s.jsx(Tm,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Support"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Need help with your account or product?"}),s.jsx(Z,{className:"w-full",asChild:!0,children:s.jsx(Ke,{to:"/support",children:"Get Support"})})]})})]})}),s.jsxs("section",{className:"grid lg:grid-cols-2 gap-16",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Send us a message"}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsxs(ne,{children:[s.jsx(re,{className:"text-white",children:"Get in Touch"}),s.jsx(ye,{className:"text-gray-400",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),s.jsx(Y,{children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"firstName",className:"text-gray-300",children:"First Name *"}),s.jsx(le,{id:"firstName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name *"}),s.jsx(le,{id:"lastName",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"Doe"})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"email",className:"text-gray-300",children:"Work Email *"}),s.jsx(le,{id:"email",type:"email",required:!0,className:"bg-gray-800 border-gray-700 text-white",placeholder:"john@company.com"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"company",className:"text-gray-300",children:"Company"}),s.jsx(le,{id:"company",className:"bg-gray-800 border-gray-700 text-white",placeholder:"Acme Inc."})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),s.jsx(le,{id:"phone",type:"tel",className:"bg-gray-800 border-gray-700 text-white",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"inquiry",className:"text-gray-300",children:"Inquiry Type *"}),s.jsxs(qe,{required:!0,children:[s.jsx(Be,{className:"bg-gray-800 border-gray-700 text-white",children:s.jsx(Ve,{placeholder:"Select inquiry type"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"sales",children:"Sales & Pricing"}),s.jsx(oe,{value:"demo",children:"Request a Demo"}),s.jsx(oe,{value:"support",children:"Technical Support"}),s.jsx(oe,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"message",className:"text-gray-300",children:"Message *"}),s.jsx(bt,{id:"message",required:!0,className:"bg-gray-800 border-gray-700 text-white min-h-[120px]",placeholder:"Tell us about your needs, questions, or how we can help..."})]}),s.jsx("div",{className:"text-xs text-gray-400",children:"* Required fields"}),s.jsx(Z,{className:"w-full",size:"lg",children:"Send Message"})]})})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Contact Information"}),s.jsx("div",{className:"space-y-8",children:s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(si,{className:"h-8 w-8 text-pink-400 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Email Us"}),s.jsx("div",{className:"text-gray-300",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"General inquiries:"})," info@voxtro.io"]})})]})]})})})})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400",children:"Quick answers to common questions"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"How quickly can I get started?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"You can create and deploy your first AI agent in under 30 minutes. Sign up, configure your agent, and embed it on your website with just a few clicks."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Do you offer custom integrations?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Yes! We can build custom integrations for Enterprise customers. Contact our sales team to discuss your specific requirements."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"What's your uptime guarantee?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We maintain 99.9% uptime SLA for all paid plans, with 99.99% uptime SLA available for Enterprise customers."})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Can I try Voxtro before purchasing?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"Absolutely! We offer a free trial with no credit card required. You can also schedule a personalized demo with our team."})})]})]})]})]}),s.jsx(vi,{})]}),A7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Privacy Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we collect, use, and protect your information"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Bl,{className:"h-6 w-6 text-pink-400"}),"Our Commitment to Privacy"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"At Voxtro, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our AI agent platform and services. We are committed to protecting your personal information and your right to privacy."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(yP,{className:"h-8 w-8 text-blue-400"}),"Information We Collect"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Personal Information"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We collect personal information that you voluntarily provide to us when you:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Register for an account"}),s.jsx("li",{children:" Use our services"}),s.jsx("li",{children:" Contact us for support"}),s.jsx("li",{children:" Subscribe to our newsletter"}),s.jsx("li",{children:" Participate in surveys or promotions"})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"This may include: name, email address, phone number, company information, payment details, and any other information you choose to provide."})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Usage Information"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We automatically collect certain information when you use our services:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Device information (IP address, browser type, operating system)"}),s.jsx("li",{children:" Usage patterns and preferences"}),s.jsx("li",{children:" Log files and analytics data"}),s.jsx("li",{children:" Cookies and similar tracking technologies"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"AI Training Data"})}),s.jsx(Y,{children:s.jsxs("p",{className:"text-gray-300",children:[s.jsx("strong",{children:"Important:"})," We do not use your conversations, documents, or any customer data to train our AI models. Your data remains private and is only used to provide services to you and your organization."]})})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Sa,{className:"h-8 w-8 text-green-400"}),"How We Use Your Information"]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use the information we collect for the following purposes:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Service Delivery"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Provide and maintain our services"}),s.jsx("li",{children:" Process transactions and payments"}),s.jsx("li",{children:" Provide customer support"}),s.jsx("li",{children:" Send service-related communications"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Improvement & Analytics"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Analyze usage patterns and trends"}),s.jsx("li",{children:" Improve our services and develop new features"}),s.jsx("li",{children:" Conduct research and analytics"}),s.jsx("li",{children:" Ensure security and prevent fraud"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Send important updates and notifications"}),s.jsx("li",{children:" Respond to inquiries and support requests"}),s.jsx("li",{children:" Send marketing communications (with consent)"}),s.jsx("li",{children:" Conduct surveys and gather feedback"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Legal Compliance"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Comply with legal obligations"}),s.jsx("li",{children:" Enforce our terms of service"}),s.jsx("li",{children:" Protect rights and prevent misuse"}),s.jsx("li",{children:" Resolve disputes and legal claims"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Gn,{className:"h-8 w-8 text-purple-400"}),"Information Sharing"]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We do not sell, trade, or rent your personal information. We may share your information in the following limited circumstances:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Service Providers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with trusted third-party service providers who assist us in operating our business (hosting, payment processing, analytics, customer support)."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Legal Requirements"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may disclose information when required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Business Transfers"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the transaction."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"With Your Consent"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may share information with your explicit consent or at your direction."})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(FS,{className:"h-8 w-8 text-red-400"}),"Data Security"]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We implement appropriate technical and organizational security measures to protect your personal information:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Technical Safeguards"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" AES-256 encryption for data at rest"}),s.jsx("li",{children:" TLS 1.3 encryption for data in transit"}),s.jsx("li",{children:" Regular security audits and penetration testing"}),s.jsx("li",{children:" Secure cloud infrastructure"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Organizational Measures"}),s.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[s.jsx("li",{children:" Access controls and authentication"}),s.jsx("li",{children:" Employee security training"}),s.jsx("li",{children:" Data processing agreements"}),s.jsx("li",{children:" Incident response procedures"})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:s.jsxs("p",{className:"text-yellow-300 text-sm",children:[s.jsx("strong",{children:"Note:"})," While we use industry-standard security measures, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security but are committed to protecting your information."]})})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(In,{className:"h-8 w-8 text-orange-400"}),"Your Rights"]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"Depending on your location, you may have certain rights regarding your personal information:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Access & Portability"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request a copy of your personal information and receive it in a portable format."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Correction"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Update or correct inaccurate or incomplete personal information."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Deletion"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Request deletion of your personal information, subject to certain exceptions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Opt-out"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Opt-out of marketing communications and certain data processing activities."})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("p",{className:"text-gray-300 text-sm",children:"To exercise these rights, please contact us at privacy@voxtro.com. We will respond to your request within 30 days."})})]})]})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Cookies and Tracking Technologies"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"We use cookies and similar technologies to enhance your experience, analyze usage, and provide personalized content. You can control cookie settings through your browser."}),s.jsxs("p",{className:"text-gray-300",children:["For detailed information about our cookie usage, please see our",s.jsx(Ke,{to:"/cookies",className:"text-pink-400 hover:text-pink-300 ml-1",children:"Cookie Policy"}),"."]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Contact Us"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about this Privacy Policy or our data practices, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})}),s.jsx("section",{children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Policy Updates"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the new policy.'})})]})})]}),s.jsx(vi,{})]}),T7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Terms of Service"}),s.jsx("p",{className:"text-xl text-gray-300",children:"The terms and conditions for using Voxtro services"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(In,{className:"h-6 w-6 text-pink-400"}),"Agreement to Terms"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:'These Terms of Service ("Terms") govern your use of the Voxtro platform and services. By accessing or using our services, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access our services.'})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Bl,{className:"h-8 w-8 text-blue-400"}),"Service Description"]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Voxtro provides an AI-powered customer support platform that enables businesses to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 mb-6",children:[s.jsx("li",{children:" Create and deploy AI agents for customer interactions"}),s.jsx("li",{children:" Integrate with existing business systems and workflows"}),s.jsx("li",{children:" Access analytics and insights about customer interactions"}),s.jsx("li",{children:" Manage and monitor AI agent performance"})]}),s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify, suspend, or discontinue any part of our services at any time with or without notice. We will not be liable to you or any third party for any modification, price change, suspension, or discontinuance of the services."})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(Gn,{className:"h-8 w-8 text-green-400"}),"User Accounts and Responsibilities"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Account Creation"})}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" You must provide accurate and complete information when creating an account"}),s.jsx("li",{children:" You are responsible for maintaining the confidentiality of your account credentials"}),s.jsx("li",{children:" You must be at least 18 years old to create an account"}),s.jsx("li",{children:" One person or legal entity may not maintain more than one account"})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Acceptable Use"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You agree not to use our services to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Violate any applicable laws or regulations"}),s.jsx("li",{children:" Infringe on intellectual property rights"}),s.jsx("li",{children:" Transmit harmful, offensive, or inappropriate content"}),s.jsx("li",{children:" Attempt to gain unauthorized access to our systems"}),s.jsx("li",{children:" Use our services for any illegal or fraudulent activities"}),s.jsx("li",{children:" Reverse engineer, decompile, or disassemble our software"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(K8,{className:"h-8 w-8 text-purple-400"}),"Payment Terms"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Billing and Payments"})}),s.jsx(Y,{children:s.jsxs("ul",{className:"text-gray-300 space-y-2",children:[s.jsx("li",{children:" Subscription fees are billed in advance on a monthly or annual basis"}),s.jsx("li",{children:" All fees are non-refundable except as required by law"}),s.jsx("li",{children:" We may change our pricing with 30 days' notice"}),s.jsx("li",{children:" Late payments may result in service suspension"}),s.jsx("li",{children:" You are responsible for all applicable taxes"})]})})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Refunds and Cancellations"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You may cancel your subscription at any time. Cancellations take effect at the end of your current billing period. We do not provide refunds for partial months of service."}),s.jsx("p",{className:"text-gray-300",children:"For annual subscriptions, you may request a pro-rated refund within 30 days of your initial purchase if you have not used more than 20% of your included usage limits."})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Intellectual Property"})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Our Rights"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"All rights, title, and interest in the Voxtro platform, including all intellectual property rights, remain our exclusive property. You may not copy, modify, distribute, sell, or lease any part of our services."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Your Content"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You retain ownership of any content you provide to our services. By using our services, you grant us a license to use your content solely for the purpose of providing services to you."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Training Data"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We do not use your data, conversations, or content to train our AI models or improve our services for other customers. Your data remains private and confidential."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Privacy and Data Protection"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Your privacy is important to us. Our collection and use of personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference."}),s.jsx("p",{className:"text-gray-300 mb-4",children:"We implement appropriate technical and organizational measures to ensure a level of security appropriate to the risk, including encryption, access controls, and regular security audits."}),s.jsx("p",{className:"text-gray-300",children:"You are responsible for ensuring that any personal data you provide or process through our services complies with applicable privacy laws and regulations."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Service Level Agreement"})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Uptime Commitment"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We strive to maintain 99.9% uptime for our services. In the event of service interruptions, we will work to restore service as quickly as possible."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Support Response Times"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We aim to respond to support requests within 24 hours for standard plans and 4 hours for enterprise plans during business hours."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Maintenance"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may perform scheduled maintenance with advance notice. Emergency maintenance may be performed without notice when necessary to protect service security or integrity."})]})]})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-8 flex items-center gap-2",children:[s.jsx(nU,{className:"h-8 w-8 text-red-400"}),"Limitation of Liability"]}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsx(Y,{className:"p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Disclaimer of Warranties"}),s.jsx("p",{className:"text-gray-300 text-sm",children:'Our services are provided "as is" and "as available" without warranties of any kind, either express or implied, including but not limited to implied warranties of merchantability, fitness for a particular purpose, or non-infringement.'})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Limitation of Damages"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"To the maximum extent permitted by law, our total liability for any claims arising out of or relating to these Terms or our services shall not exceed the amount you paid us in the 12 months preceding the claim."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"AI Service Limitations"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI-generated responses may not always be accurate, appropriate, or complete. You are responsible for reviewing and monitoring AI interactions with your customers."})]})]})})})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Termination"})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by You"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"You may terminate your account at any time by contacting us or using the account settings in your dashboard. Termination will be effective at the end of your current billing period."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Termination by Us"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"We may suspend or terminate your account immediately if you violate these Terms, fail to pay fees when due, or if we reasonably believe such action is necessary to protect our services or other users."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Effect of Termination"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Upon termination, your right to use our services will cease immediately. We may delete your data after a reasonable grace period, but are not obligated to do so."})]})]})})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Governing Law and Disputes"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These Terms are governed by the laws of the State of California, without regard to conflict of law principles. Any disputes arising from these Terms or our services will be resolved through binding arbitration in San Francisco, California."}),s.jsx("p",{className:"text-gray-300",children:"You agree to resolve any disputes individually and waive any right to participate in class action lawsuits or class-wide arbitration."})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Changes to Terms"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:"We reserve the right to modify these Terms at any time. We will notify you of material changes by email or through our services at least 30 days before they take effect. Your continued use of our services after the changes take effect constitutes acceptance of the new Terms."})})]})}),s.jsx("section",{children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Contact Information"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," legal@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Legal Team, 123 Innovation Drive, San Francisco, CA 94105"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-4567"]})]})]})]})})]}),s.jsx(vi,{})]}),O7e=()=>s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#1c191b"},children:[s.jsx("header",{className:"w-full border-b border-gray-700",style:{backgroundColor:"rgba(28, 25, 27, 0.8)",backdropFilter:"blur(8px)"},children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Ke,{to:"/",className:"flex items-center",children:s.jsx("img",{src:ar,alt:"Voxtro",className:"h-8 md:h-12 w-auto"})})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Z,{variant:"ghost",className:"text-white",asChild:!0,children:s.jsxs(Ke,{to:"/",children:[s.jsx($r,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx(Z,{asChild:!0,children:s.jsx(Ke,{to:"/auth",children:"Get Started"})})]})]})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-16",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-6 font-montserrat",children:"Cookie Policy"}),s.jsx("p",{className:"text-xl text-gray-300",children:"How we use cookies and similar technologies"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Last updated: January 15, 2024"})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(tre,{className:"h-6 w-6 text-pink-400"}),"What are Cookies?"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Cookies are small text files that are stored on your device when you visit a website. They help websites remember your preferences, improve your experience, and provide analytics about how the site is used. We use cookies and similar technologies to enhance your experience with Voxtro."})})]})}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Types of Cookies We Use"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(Bl,{className:"h-6 w-6 text-green-400"}),"Essential Cookies"]}),s.jsx(Pe,{className:"bg-red-500/20 text-red-400 border-red-500",children:"Required"})]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are necessary for the website to function properly. They cannot be disabled as they are essential for core functionality."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Authentication and session management"}),s.jsx("li",{children:" Security and fraud prevention"}),s.jsx("li",{children:" Load balancing and performance optimization"}),s.jsx("li",{children:" Remember your privacy preferences"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(gs,{className:"h-6 w-6 text-blue-400"}),"Functional Cookies"]}),s.jsx(Pe,{className:"bg-blue-500/20 text-blue-400 border-blue-500",children:"Optional"})]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies enable enhanced functionality and personalization, but the site can function without them."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Remember your language and region preferences"}),s.jsx("li",{children:" Customize the user interface based on your settings"}),s.jsx("li",{children:" Remember form data and user inputs"}),s.jsx("li",{children:" Provide personalized content and recommendations"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(po,{className:"h-6 w-6 text-purple-400"}),"Analytics Cookies"]}),s.jsx(Pe,{className:"bg-purple-500/20 text-purple-400 border-purple-500",children:"Optional"})]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Track page visits and user behavior patterns"}),s.jsx("li",{children:" Measure website performance and loading times"}),s.jsx("li",{children:" Understand which features are most popular"}),s.jsx("li",{children:" Identify and fix technical issues"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{className:"text-white flex items-center gap-2",children:[s.jsx(vh,{className:"h-6 w-6 text-orange-400"}),"Marketing Cookies"]}),s.jsx(Pe,{className:"bg-orange-500/20 text-orange-400 border-orange-500",children:"Optional"})]})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"These cookies are used to deliver personalized advertisements and measure the effectiveness of marketing campaigns."}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Show relevant ads based on your interests"}),s.jsx("li",{children:" Prevent the same ad from being shown repeatedly"}),s.jsx("li",{children:" Measure advertising campaign effectiveness"}),s.jsx("li",{children:" Enable social media sharing features"})]})]})]})]})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Third-Party Services"}),s.jsx(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:s.jsxs(Y,{className:"p-8",children:[s.jsx("p",{className:"text-gray-300 mb-6",children:"We use trusted third-party services that may set their own cookies. These services help us provide better functionality and insights:"}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Analytics & Performance"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Google Analytics - Website usage analytics"}),s.jsx("li",{children:" Mixpanel - Product analytics and insights"}),s.jsx("li",{children:" Sentry - Error tracking and monitoring"}),s.jsx("li",{children:" Cloudflare - CDN and security services"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Marketing & Communication"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" Intercom - Customer messaging and support"}),s.jsx("li",{children:" Mailchimp - Email marketing campaigns"}),s.jsx("li",{children:" LinkedIn Insights - Professional targeting"}),s.jsx("li",{children:" Google Ads - Advertising and retargeting"})]})]})]})]})})]}),s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Managing Your Cookie Preferences"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Cookie Settings"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:'You can manage your cookie preferences through our cookie banner when you first visit our site, or by clicking the "Cookie Settings" link in our footer.'}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(Z,{children:"Manage Cookie Preferences"}),s.jsx(Z,{variant:"outline",children:"Accept All Cookies"})]})]})]}),s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Browser Settings"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"You can also control cookies through your browser settings. Most browsers allow you to:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm mb-4",children:[s.jsx("li",{children:" View cookies that have been set and delete them individually"}),s.jsx("li",{children:" Block third-party cookies"}),s.jsx("li",{children:" Block all cookies from specific sites"}),s.jsx("li",{children:" Block all cookies from being set"}),s.jsx("li",{children:" Delete all cookies when you close your browser"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Desktop Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome: Settings  Privacy and security  Cookies"}),s.jsx("li",{children:" Firefox: Preferences  Privacy & Security"}),s.jsx("li",{children:" Safari: Preferences  Privacy"}),s.jsx("li",{children:" Edge: Settings  Cookies and site permissions"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:"Mobile Browsers"}),s.jsxs("ul",{className:"text-gray-300 space-y-1",children:[s.jsx("li",{children:" Chrome Mobile: Settings  Site settings  Cookies"}),s.jsx("li",{children:" Safari iOS: Settings  Safari  Privacy & Security"}),s.jsx("li",{children:" Samsung Internet: Settings  Sites and downloads"})]})]})]})]})]})]})]}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Cookie Retention"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Different types of cookies are retained for different periods:"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Session Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Temporary cookies that are deleted when you close your browser. Used for essential functionality like maintaining your login session."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Persistent Cookies"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Stored on your device for a specific period or until manually deleted. Retention periods range from 30 days to 2 years depending on the cookie's purpose."})]})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Impact of Disabling Cookies"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"While you can use our website with cookies disabled, some functionality may be limited:"}),s.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[s.jsx("li",{children:" You may need to log in repeatedly"}),s.jsx("li",{children:" Your preferences and settings may not be saved"}),s.jsx("li",{children:" Some features may not work as expected"}),s.jsx("li",{children:" You may see less relevant content and advertisements"}),s.jsx("li",{children:" We may not be able to provide personalized experiences"})]})]})]})}),s.jsx("section",{className:"mb-12",children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Updates to This Policy"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-gray-300",children:'We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by updating the "Last updated" date at the top of this policy.'})})]})}),s.jsx("section",{children:s.jsxs(H,{className:"bg-background shadow-lg shadow-pink-500/20",children:[s.jsx(ne,{children:s.jsx(re,{className:"text-white",children:"Questions About Cookies?"})}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"If you have questions about our use of cookies or this policy, please contact us:"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," privacy@voxtro.com"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mail:"})," Voxtro Privacy Team, 123 Innovation Drive, San Francisco, CA 94105"]})]})]})]})})]}),s.jsx(vi,{})]}),M7e=()=>{const e=fi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var wO="Collapsible",[D7e,XJe]=Ir(wO),[I7e,jO]=D7e(wO),NX=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,u]=js({prop:r,defaultProp:a,onChange:o});return s.jsx(I7e,{scope:n,disabled:i,contentId:Vs(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:s.jsx(De.div,{"data-state":NO(c),"data-disabled":i?"":void 0,...l,ref:t})})});NX.displayName=wO;var SX="CollapsibleTrigger",CX=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=jO(SX,n);return s.jsx(De.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":NO(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:je(e.onClick,a.onOpenToggle)})});CX.displayName=SX;var _O="CollapsibleContent",kX=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=jO(_O,e.__scopeCollapsible);return s.jsx(Un,{present:n||a.open,children:({present:i})=>s.jsx($7e,{...r,ref:t,present:i})})});kX.displayName=_O;var $7e=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=jO(_O,n),[l,c]=v.useState(r),u=v.useRef(null),d=Xe(t,u),h=v.useRef(0),f=h.current,m=v.useRef(0),g=m.current,p=o.open||l,x=v.useRef(p),y=v.useRef();return v.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),ir(()=>{const b=u.current;if(b){y.current=y.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const j=b.getBoundingClientRect();h.current=j.height,m.current=j.width,x.current||(b.style.transitionDuration=y.current.transitionDuration,b.style.animationName=y.current.animationName),c(r)}},[o.open,r]),s.jsx(De.div,{"data-state":NO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function NO(e){return e?"open":"closed"}var R7e=NX;const L7e=R7e,F7e=CX,B7e=kX;function U7e({entry:e,entityName:t,onStatusChange:n,onDelete:r}){const{user:a}=Ht(),{toast:i}=wn(),[o,l]=v.useState(!1),[c,u]=v.useState([]),[d,h]=v.useState(!1),[f,m]=v.useState(""),[g,p]=v.useState(!1),x={update:{icon:xa,color:"bg-blue-500/10 text-blue-500"},create:{icon:Yt,color:"bg-green-500/10 text-green-500"},delete:{icon:hn,color:"bg-red-500/10 text-red-500"},note:{icon:In,color:"bg-yellow-500/10 text-yellow-500"},task:{icon:ti,color:"bg-purple-500/10 text-purple-500"}},y={pending:{icon:It,color:"text-yellow-500",label:"Pending"},in_progress:{icon:cD,color:"text-blue-500",label:"In Progress"},completed:{icon:ti,color:"text-green-500",label:"Completed"}},b=x[e.change_type],j=b.icon,_=async()=>{if(d||c.length>0)return;h(!0);const{data:k}=await J.from("changelog_notes").select("*").eq("changelog_entry_id",e.id).order("created_at",{ascending:!0});u(k||[]),h(!1)},S=async()=>{if(!f.trim()||!a)return;p(!0);const{data:k,error:D}=await J.from("changelog_notes").insert({changelog_entry_id:e.id,user_id:a.id,note:f.trim()}).select().single();D?i({title:"Failed to add note",variant:"destructive"}):(u(I=>[...I,k]),m(""),i({title:"Note added"})),p(!1)},N=Object.keys(e.previous_values||{}).length>0||Object.keys(e.new_values||{}).length>0,C=k=>{switch(k){case"vapi_sync":return"Vapi";case"auto":return"Auto";default:return"Manual"}};return s.jsx(H,{className:"p-4",children:s.jsxs(L7e,{open:o,onOpenChange:k=>{l(k),k&&_()},children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg shrink-0 ${b.color}`,children:s.jsx(j,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:pt(EC(e.created_at),"MMM d, yyyy  h:mm a")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t}),s.jsx(Pe,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:C(e.source)}),e.status&&e.source==="manual"&&s.jsx(Pe,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${y[e.status].color}`,children:y[e.status].label})]})]}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(F7e,{asChild:!0,children:s.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Kg,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})}),s.jsxs(rO,{children:[s.jsx(sO,{asChild:!0,children:s.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Y8,{className:"h-4 w-4"})})}),s.jsxs(Hj,{align:"end",children:[(e.change_type==="task"||e.change_type==="update")&&e.source==="manual"&&s.jsxs(s.Fragment,{children:[s.jsxs(Nl,{onClick:()=>n(e.id,"pending"),children:[s.jsx(It,{className:"h-4 w-4 mr-2"})," Mark Pending"]}),s.jsxs(Nl,{onClick:()=>n(e.id,"in_progress"),children:[s.jsx(cD,{className:"h-4 w-4 mr-2"})," Mark In Progress"]}),s.jsxs(Nl,{onClick:()=>n(e.id,"completed"),children:[s.jsx(ti,{className:"h-4 w-4 mr-2"})," Mark Complete"]})]}),s.jsxs(Nl,{onClick:()=>r(e.id),className:"text-destructive",children:[s.jsx(hn,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]})]})})]}),s.jsxs(B7e,{className:"mt-4 ml-11 space-y-4",children:[e.description&&s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:e.description}),N&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Changes"}),s.jsx("div",{className:"bg-muted/50 rounded-md p-3 space-y-1.5 text-xs font-mono",children:Object.keys(e.new_values||{}).map(k=>{var D;return s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs("span",{className:"text-muted-foreground",children:[k,":"]}),((D=e.previous_values)==null?void 0:D[k])!==void 0&&s.jsx("span",{className:"text-red-400 line-through",children:JSON.stringify(e.previous_values[k])}),s.jsx("span",{className:"text-green-400",children:JSON.stringify(e.new_values[k])})]},k)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-1.5",children:[s.jsx(Sn,{className:"h-3 w-3"}),"Notes (",c.length,")"]}),c.map(k=>s.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.note}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:pt(EC(k.created_at),"MMM d, yyyy  h:mm a")})]},k.id)),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(bt,{placeholder:"Add a note...",value:f,onChange:k=>m(k.target.value),className:"min-h-[60px] text-sm"}),s.jsx(Z,{onClick:S,disabled:g||!f.trim(),size:"icon",className:"shrink-0",children:s.jsx(ru,{className:"h-4 w-4"})})]})]})]})]})})}function z7e({entries:e,loading:t,entities:n,onStatusChange:r,onDelete:a}){if(t)return s.jsx("div",{className:"space-y-3",children:[1,2,3].map(o=>s.jsx(H,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ls,{className:"h-10 w-10 rounded-lg shrink-0"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ls,{className:"h-4 w-2/3"}),s.jsx(Ls,{className:"h-3 w-1/3"})]})]})},o))});if(e.length===0)return s.jsxs(H,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No changelog entries found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add notes, track changes, or create tasks to get started."})]});const i=o=>{const l=n.find(c=>c.id===o);return(l==null?void 0:l.name)||"Unknown"};return s.jsx("div",{className:"space-y-3",children:e.map(o=>s.jsx(U7e,{entry:o,entityName:i(o.entity_id),onStatusChange:r,onDelete:a},o.id))})}function q7e({open:e,onOpenChange:t,entityType:n,entities:r,onEntryAdded:a,preSelectedEntityId:i}){const{user:o}=Ht(),{toast:l}=wn(),[c,u]=v.useState(!1),[d,h]=v.useState({entity_id:"",change_type:"note",title:"",description:"",status:"pending"});v.useEffect(()=>{e&&i&&h(g=>({...g,entity_id:i}))},[e,i]),v.useEffect(()=>{e||h({entity_id:"",change_type:"note",title:"",description:"",status:"pending"})},[e]);const f=r.find(g=>g.id===d.entity_id),m=async g=>{if(g.preventDefault(),!o||!d.entity_id||!d.title)return;u(!0);const{error:p}=await J.from("changelog_entries").insert({user_id:o.id,entity_type:n,entity_id:d.entity_id,change_type:d.change_type,title:d.title,description:d.description||null,status:d.change_type==="update"?d.status:null,source:"manual"});p?l({title:"Failed to add entry",description:p.message,variant:"destructive"}):(l({title:"Entry added successfully"}),t(!1),a()),u(!1)};return s.jsx(or,{open:e,onOpenChange:t,children:s.jsxs(Kn,{className:"sm:max-w-[500px]",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Add Changelog Entry"})}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&f?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsx("div",{className:"px-3 py-2 bg-muted rounded-md text-sm font-medium",children:f.name})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:n==="chatbot"?"Chatbot":"Voice Assistant"}),s.jsxs(qe,{value:d.entity_id,onValueChange:g=>h(p=>({...p,entity_id:g})),children:[s.jsx(Be,{children:s.jsx(Ve,{placeholder:"Select..."})}),s.jsx(Ue,{children:r.map(g=>s.jsx(oe,{value:g.id,children:g.name},g.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Entry Type"}),s.jsxs(qe,{value:d.change_type,onValueChange:g=>h(p=>({...p,change_type:g})),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"note",children:"Note"}),s.jsx(oe,{value:"update",children:"Update"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Title"}),s.jsx(le,{value:d.title,onChange:g=>h(p=>({...p,title:g.target.value})),placeholder:"Brief title for this entry",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Description (Optional)"}),s.jsx(bt,{value:d.description,onChange:g=>h(p=>({...p,description:g.target.value})),placeholder:"Add more details...",rows:4})]}),d.change_type==="update"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Status"}),s.jsxs(qe,{value:d.status,onValueChange:g=>h(p=>({...p,status:g})),children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"})]})]})]}),s.jsxs(lG,{children:[s.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(Z,{type:"submit",disabled:c||!d.entity_id||!d.title,children:c?"Adding...":"Add Entry"})]})]})]})})}const V7e=({entityType:e,entityId:t,entityName:n,orgId:r,onEntryAdded:a})=>{const{user:i}=Ht(),{toast:o}=wn(),[l,c]=v.useState(""),[u,d]=v.useState(!1),h=async m=>{if(m==null||m.preventDefault(),!(!l.trim()||!i)){d(!0);try{if(e==="voice_assistant"){const[g,p]=await Promise.all([J.from("voice_assistant_tasks").insert({user_id:i.id,assistant_id:t,org_id:r||null,title:l.trim(),priority:"medium",status:"pending"}),J.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"})]);if(g.error)throw g.error;if(p.error)throw p.error}else{const{error:g}=await J.from("changelog_entries").insert({user_id:i.id,entity_type:e,entity_id:t,change_type:"update",title:l.trim(),status:"pending",source:"manual"});if(g)throw g}c(""),o({title:`Task added for ${n}`}),a()}catch(g){console.error("Error creating entry:",g),o({title:"Failed to create task",variant:"destructive"})}finally{d(!1)}}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h())};return s.jsxs("form",{onSubmit:h,className:"flex items-center gap-2 mb-6 p-3 bg-muted/50 rounded-lg border border-border",children:[s.jsx(le,{value:l,onChange:m=>c(m.target.value),onKeyDown:f,placeholder:"Add a task and press Enter...",disabled:u,className:"flex-1 bg-background"}),s.jsx(Z,{type:"submit",size:"sm",disabled:u||!l.trim(),children:u?s.jsx(ps,{className:"h-4 w-4 animate-spin"}):s.jsx(Yt,{className:"h-4 w-4"})})]})};function W7e(){const{user:e}=Ht(),{toast:t}=wn(),[n,r]=v.useState("chatbot"),[a,i]=v.useState(null),[o,l]=v.useState("all"),[c,u]=v.useState([]),[d,h]=v.useState([]),[f,m]=v.useState([]),[g,p]=v.useState(!0),[x,y]=v.useState(!1),[b,j]=v.useState(null),[_,S]=v.useState(!1),[N,C]=v.useState("");v.useEffect(()=>{e&&(k(),D())},[e]),v.useEffect(()=>{e&&b!==null&&n==="voice_assistant"&&I()},[e,b,n]);const k=async()=>{try{const{data:B,error:T}=await J.from("voice_connections").select("org_id").eq("user_id",e==null?void 0:e.id).eq("is_active",!0).maybeSingle();if(T)throw T;j((B==null?void 0:B.org_id)||"")}catch(B){console.error("Error fetching active connection:",B),j("")}},D=async()=>{const{data:B}=await J.from("chatbots").select("id, name").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});B&&h(B)},I=async()=>{let B=J.from("voice_assistants").select("id, name, org_id, created_at").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});b&&(B=B.eq("org_id",b));const{data:T}=await B;T&&m(T.map(G=>({id:G.id,name:G.name||"Unnamed Assistant",org_id:G.org_id})))},E=async()=>{i(null),await k(),S(!0);try{const B=await Cy();t({title:`Synced ${B.count} assistants`})}catch(B){console.error("Error syncing assistants:",B),t({title:"Failed to sync assistants",variant:"destructive"})}finally{S(!1)}};v.useEffect(()=>{const B=n==="chatbot"?d:f;B.length>0&&!a&&i(B[0].id)},[d,f,n,a]),v.useEffect(()=>{if(!e||!a)return;(async()=>{p(!0);let T=J.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(T=T.eq("change_type",o));const{data:G,error:W}=await T;W?t({title:"Error fetching changelog",description:W.message,variant:"destructive"}):u(G||[]),p(!1)})()},[e,n,a,o]);const L=n==="chatbot"?d:f,U=L.find(B=>B.id===a),F=async()=>{if(!e||!a)return;let B=J.from("changelog_entries").select("*").eq("user_id",e.id).eq("entity_type",n).eq("entity_id",a).order("created_at",{ascending:!1});o!=="all"&&(B=B.eq("change_type",o));const{data:T}=await B;T&&u(T)},$=async(B,T)=>{const{error:G}=await J.from("changelog_entries").update({status:T}).eq("id",B);G?t({title:"Error updating status",variant:"destructive"}):(u(W=>W.map(w=>w.id===B?{...w,status:T}:w)),t({title:"Status updated"}))},M=async B=>{const{error:T}=await J.from("changelog_entries").delete().eq("id",B);T?t({title:"Error deleting entry",variant:"destructive"}):(u(G=>G.filter(W=>W.id!==B)),t({title:"Entry deleted"}))},O=B=>{r(B),i(null),B==="voice_assistant"&&I()},R=[{value:"all",label:"All",icon:q_},{value:"update",label:"Updates",icon:hi},{value:"note",label:"Notes",icon:In}];return s.jsx(wr,{children:s.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"w-72 border-r border-border bg-muted/30 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(q_,{className:"h-5 w-5 text-primary"}),s.jsx("h1",{className:"font-semibold",children:"Changelog"})]}),s.jsxs("div",{className:"flex rounded-lg border border-border overflow-hidden mb-3",children:[s.jsxs("button",{onClick:()=>O("chatbot"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="chatbot"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(yt,{className:"h-3.5 w-3.5"}),"Chatbots"]}),s.jsxs("button",{onClick:()=>O("voice_assistant"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium transition-colors ${n==="voice_assistant"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,children:[s.jsx(Xm,{className:"h-3.5 w-3.5"}),"Voice"]})]}),n==="voice_assistant"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jY,{onSwitch:E,compact:!0}),_&&s.jsx(xa,{className:"h-3.5 w-3.5 animate-spin text-muted-foreground"})]}),s.jsxs("div",{className:"relative mt-3",children:[s.jsx(Ea,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(le,{placeholder:`Search ${n==="chatbot"?"chatbots":"assistants"}...`,value:N,onChange:B=>C(B.target.value),className:"pl-8 h-8 text-sm"})]})]}),s.jsx(Js,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:(()=>{const B=L.filter(T=>{var G;return(G=T.name)==null?void 0:G.toLowerCase().includes(N.toLowerCase())});return B.length===0?s.jsxs("div",{className:"text-center py-8 px-4",children:[n==="chatbot"?s.jsx(yt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}):s.jsx(Xm,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N?"No matching results":`No ${n==="chatbot"?"chatbots":"assistants"} found`})]}):B.map(T=>{const G=a===T.id;return s.jsx("button",{onClick:()=>i(T.id),className:`w-full text-left p-3 rounded-lg mb-1 transition-all ${G?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`font-medium text-sm truncate ${G?"text-primary":""}`,children:T.name})}),G&&s.jsx(Ja,{className:"h-4 w-4 text-primary flex-shrink-0"})]})},T.id)})})()})}),L.length>0&&s.jsx("div",{className:"p-3 border-t border-border bg-background/50",children:s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[L.length," ",n==="chatbot"?"chatbots":"assistants"]}),s.jsxs("span",{children:[c.length," entries"]})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:U?s.jsxs("div",{className:"p-6 max-w-3xl",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20",children:n==="chatbot"?s.jsx(yt,{className:"h-6 w-6 text-primary"}):s.jsx(Xm,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:U.name}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.length," changelog ",c.length===1?"entry":"entries"]})]})]}),s.jsxs(Z,{onClick:()=>y(!0),size:"sm",variant:"outline",className:"gap-1.5",children:[s.jsx(Yt,{className:"h-4 w-4"}),"More Options"]})]}),s.jsx(V7e,{entityType:n,entityId:a,entityName:U.name,orgId:U.org_id,onEntryAdded:F}),s.jsx("div",{className:"flex items-center gap-2 mb-6",children:R.map(B=>s.jsx("button",{onClick:()=>l(B.value),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${o===B.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:B.label},B.value))}),s.jsx(Xr,{className:"mb-6"}),s.jsx(z7e,{entries:c,loading:g,entities:L,onStatusChange:$,onDelete:M})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(q_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Select an item to view its changelog"})]})})}),s.jsx(q7e,{open:x,onOpenChange:y,entityType:n,entities:L,onEntryAdded:F,preSelectedEntityId:a})]})})}var SO="Popover",[EX,QJe]=Ir(SO,[Zl]),Rv=Zl(),[H7e,cc]=EX(SO),PX=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Rv(t),c=v.useRef(null),[u,d]=v.useState(!1),[h=!1,f]=js({prop:r,defaultProp:a,onChange:i});return s.jsx(pw,{...l,children:s.jsx(H7e,{scope:t,contentId:Vs(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:o,children:n})})};PX.displayName=SO;var AX="PopoverAnchor",G7e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=cc(AX,n),i=Rv(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Xg,{...i,...r,ref:t})});G7e.displayName=AX;var TX="PopoverTrigger",OX=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=cc(TX,n),i=Rv(n),o=Xe(t,a.triggerRef),l=s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":RX(a.open),...r,ref:o,onClick:je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Xg,{asChild:!0,...i,children:l})});OX.displayName=TX;var CO="PopoverPortal",[K7e,Y7e]=EX(CO,{forceMount:void 0}),MX=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=cc(CO,t);return s.jsx(K7e,{scope:t,forceMount:n,children:s.jsx(Un,{present:n||i.open,children:s.jsx(of,{asChild:!0,container:a,children:r})})})};MX.displayName=CO;var nf="PopoverContent",DX=v.forwardRef((e,t)=>{const n=Y7e(nf,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=cc(nf,e.__scopePopover);return s.jsx(Un,{present:r||i.open,children:i.modal?s.jsx(J7e,{...a,ref:t}):s.jsx(X7e,{...a,ref:t})})});DX.displayName=nf;var J7e=v.forwardRef((e,t)=>{const n=cc(nf,e.__scopePopover),r=v.useRef(null),a=Xe(t,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return sv(o)},[]),s.jsx(rv,{as:ws,allowPinchZoom:!0,children:s.jsx(IX,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),X7e=v.forwardRef((e,t)=>{const n=cc(nf,e.__scopePopover),r=v.useRef(!1),a=v.useRef(!1);return s.jsx(IX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),IX=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=cc(nf,n),m=Rv(n);return Mw(),s.jsx(nv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Cu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(gw,{"data-state":RX(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$X="PopoverClose",Q7e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=cc($X,n);return s.jsx(De.button,{type:"button",...r,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});Q7e.displayName=$X;var Z7e="PopoverArrow",e9e=v.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Rv(n);return s.jsx(vw,{...a,...r,ref:t})});e9e.displayName=Z7e;function RX(e){return e?"open":"closed"}var t9e=PX,n9e=OX,r9e=MX,LX=DX;const FX=t9e,BX=n9e,kO=v.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(r9e,{children:s.jsx(LX,{ref:a,align:t,sideOffset:n,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));kO.displayName=LX.displayName;var jF=1,s9e=.9,a9e=.8,i9e=.17,SN=.1,CN=.999,o9e=.9999,l9e=.99,c9e=/[\\\/_+.#"@\[\(\{&]/,u9e=/[\\\/_+.#"@\[\(\{&]/g,d9e=/[\s-]/,UX=/[\s-]/g;function i2(e,t,n,r,a,i,o){if(i===t.length)return a===e.length?jF:l9e;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(i),u=n.indexOf(c,a),d=0,h,f,m,g;u>=0;)h=i2(e,t,n,r,u+1,i+1,o),h>d&&(u===a?h*=jF:c9e.test(e.charAt(u-1))?(h*=a9e,m=e.slice(a,u-1).match(u9e),m&&a>0&&(h*=Math.pow(CN,m.length))):d9e.test(e.charAt(u-1))?(h*=s9e,g=e.slice(a,u-1).match(UX),g&&a>0&&(h*=Math.pow(CN,g.length))):(h*=i9e,a>0&&(h*=Math.pow(CN,u-a))),e.charAt(u)!==t.charAt(i)&&(h*=o9e)),(h<SN&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(f=i2(e,t,n,r,u+1,i+2,o),f*SN>h&&(h=f*SN)),h>d&&(d=h),u=n.indexOf(c,u+1);return o[l]=d,d}function _F(e){return e.toLowerCase().replace(UX," ")}function h9e(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,i2(e,t,_F(e),_F(t),0,0,{})}function Gd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function f9e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function zX(...e){return t=>e.forEach(n=>f9e(n,t))}function Lv(...e){return v.useCallback(zX(...e),e)}function m9e(e,t=[]){let n=[];function r(i,o){const l=v.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:m,...g}=h,p=(f==null?void 0:f[e][c])||l,x=v.useMemo(()=>g,Object.values(g));return v.createElement(p.Provider,{value:x},m)}function d(h,f){const m=(f==null?void 0:f[e][c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,p9e(a,...t)]}function p9e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}const o2=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},g9e=b2.useId||(()=>{});let v9e=0;function kN(e){const[t,n]=v.useState(g9e());return o2(()=>{e||n(r=>r??String(v9e++))},[e]),e||(t?`radix-${t}`:"")}function wu(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function x9e({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=y9e({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=wu(n),c=v.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function y9e({defaultProp:e,onChange:t}){const n=v.useState(e),[r]=n,a=v.useRef(r),i=wu(t);return v.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}const EO=v.forwardRef((e,t)=>{const{children:n,...r}=e,a=v.Children.toArray(n),i=a.find(w9e);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(l2,Qr({},r,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(l2,Qr({},r,{ref:t}),n)});EO.displayName="Slot";const l2=v.forwardRef((e,t)=>{const{children:n,...r}=e;return v.isValidElement(n)?v.cloneElement(n,{...j9e(r,n.props),ref:t?zX(t,n.ref):n.ref}):v.Children.count(n)>1?v.Children.only(null):null});l2.displayName="SlotClone";const b9e=({children:e})=>v.createElement(v.Fragment,null,e);function w9e(e){return v.isValidElement(e)&&e.type===b9e}function j9e(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}const _9e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oa=_9e.reduce((e,t)=>{const n=v.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?EO:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,Qr({},o,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function N9e(e,t){e&&us.flushSync(()=>e.dispatchEvent(t))}function S9e(e,t=globalThis==null?void 0:globalThis.document){const n=wu(e);v.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const c2="dismissableLayer.update",C9e="dismissableLayer.pointerDownOutside",k9e="dismissableLayer.focusOutside";let NF;const E9e=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),P9e=v.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,d=v.useContext(E9e),[h,f]=v.useState(null),m=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=v.useState({}),p=Lv(t,k=>f(k)),x=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(y),j=h?x.indexOf(h):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,S=j>=b,N=A9e(k=>{const D=k.target,I=[...d.branches].some(E=>E.contains(D));!S||I||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},m),C=T9e(k=>{const D=k.target;[...d.branches].some(E=>E.contains(D))||(o==null||o(k),l==null||l(k),k.defaultPrevented||c==null||c())},m);return S9e(k=>{j===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),v.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(NF=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),SF(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=NF)}},[h,m,r,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),SF())},[h,d]),v.useEffect(()=>{const k=()=>g({});return document.addEventListener(c2,k),()=>document.removeEventListener(c2,k)},[]),v.createElement(Oa.div,Qr({},u,{ref:p,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:Gd(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Gd(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Gd(e.onPointerDownCapture,N.onPointerDownCapture)}))});function A9e(e,t=globalThis==null?void 0:globalThis.document){const n=wu(e),r=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){qX(C9e,n,u,{discrete:!0})};var c=d;const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function T9e(e,t=globalThis==null?void 0:globalThis.document){const n=wu(e),r=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!r.current&&qX(k9e,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SF(){const e=new CustomEvent(c2);document.dispatchEvent(e)}function qX(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?N9e(a,i):a.dispatchEvent(i)}const EN="focusScope.autoFocusOnMount",PN="focusScope.autoFocusOnUnmount",CF={bubbles:!1,cancelable:!0},O9e=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=wu(a),d=wu(i),h=v.useRef(null),f=Lv(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let b=function(N){if(m.paused||!l)return;const C=N.target;l.contains(C)?h.current=C:tl(h.current,{select:!0})},j=function(N){if(m.paused||!l)return;const C=N.relatedTarget;C!==null&&(l.contains(C)||tl(h.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const k of N)k.removedNodes.length>0&&tl(l)};var p=b,x=j,y=_;document.addEventListener("focusin",b),document.addEventListener("focusout",j);const S=new MutationObserver(_);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),S.disconnect()}}},[r,l,m.paused]),v.useEffect(()=>{if(l){EF.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(EN,CF);l.addEventListener(EN,u),l.dispatchEvent(y),y.defaultPrevented||(M9e(L9e(VX(l)),{select:!0}),document.activeElement===p&&tl(l))}return()=>{l.removeEventListener(EN,u),setTimeout(()=>{const y=new CustomEvent(PN,CF);l.addEventListener(PN,d),l.dispatchEvent(y),y.defaultPrevented||tl(p??document.body,{select:!0}),l.removeEventListener(PN,d),EF.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const b=p.currentTarget,[j,_]=D9e(b);j&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&tl(j,{select:!0})):p.shiftKey&&y===j&&(p.preventDefault(),n&&tl(_,{select:!0})):y===b&&p.preventDefault()}},[n,r,m.paused]);return v.createElement(Oa.div,Qr({tabIndex:-1},o,{ref:f,onKeyDown:g}))});function M9e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(tl(r,{select:t}),document.activeElement!==n)return}function D9e(e){const t=VX(e),n=kF(t,e),r=kF(t.reverse(),e);return[n,r]}function VX(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kF(e,t){for(const n of e)if(!I9e(n,{upTo:t}))return n}function I9e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $9e(e){return e instanceof HTMLInputElement&&"select"in e}function tl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$9e(e)&&t&&e.select()}}const EF=R9e();function R9e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=PF(e,t),e.unshift(t)},remove(t){var n;e=PF(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function PF(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function L9e(e){return e.filter(t=>t.tagName!=="A")}const F9e=v.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return r?dP.createPortal(v.createElement(Oa.div,Qr({},a,{ref:t})),r):null});function B9e(e,t){return v.useReducer((n,r)=>{const a=t[n][r];return a??n},e)}const r_=e=>{const{present:t,children:n}=e,r=U9e(t),a=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Lv(r.ref,a.ref);return typeof n=="function"||r.isPresent?v.cloneElement(a,{ref:i}):null};r_.displayName="Presence";function U9e(e){const[t,n]=v.useState(),r=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=B9e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=ny(r.current);i.current=l==="mounted"?u:"none"},[l]),o2(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,m=ny(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),o2(()=>{if(t){const u=h=>{const m=ny(r.current).includes(h.animationName);h.target===t&&m&&us.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===t&&(i.current=ny(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ny(e){return(e==null?void 0:e.animationName)||"none"}let AN=0;function z9e(){v.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:AF()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:AF()),AN++,()=>{AN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),AN--}},[])}function AF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var WX=Fz(),TN=function(){},s_=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:TN,onWheelCapture:TN,onTouchMoveCapture:TN}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,b=VP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=f,_=Lz([n,t]),S=Pr(Pr({},b),a);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:WX,removeScrollBar:u,shards:h,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n}),o?v.cloneElement(v.Children.only(l),Pr(Pr({},S),{ref:_})):v.createElement(y,Pr({},S,{className:c,ref:_}),l))});s_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};s_.classNames={fullWidth:tp,zeroRight:ep};var u2=!1;if(typeof window<"u")try{var ry=Object.defineProperty({},"passive",{get:function(){return u2=!0,!0}});window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{u2=!1}var rd=u2?{passive:!1}:!1,q9e=function(e){return e.tagName==="TEXTAREA"},HX=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q9e(e)&&n[t]==="visible")},V9e=function(e){return HX(e,"overflowY")},W9e=function(e){return HX(e,"overflowX")},TF=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=GX(e,n);if(r){var a=KX(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},H9e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},G9e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},GX=function(e,t){return e==="v"?V9e(t):W9e(t)},KX=function(e,t){return e==="v"?H9e(t):G9e(t)},K9e=function(e,t){return e==="h"&&t==="rtl"?-1:1},Y9e=function(e,t,n,r,a){var i=K9e(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var m=KX(e,l),g=m[0],p=m[1],x=m[2],y=p-x-i*g;(g||y)&&GX(e,l)&&(h+=y,f+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(h===0||!a)||!d&&(f===0||!a))&&(u=!0),u},sy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},OF=function(e){return[e.deltaX,e.deltaY]},MF=function(e){return e&&"current"in e?e.current:e},J9e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},X9e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Q9e=0,sd=[];function Z9e(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),a=v.useState(Q9e++)[0],i=v.useState(function(){return WP()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Rz([e.lockRef.current],(e.shards||[]).map(MF),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var y=sy(p),b=n.current,j="deltaX"in p?p.deltaX:b[0]-y[0],_="deltaY"in p?p.deltaY:b[1]-y[1],S,N=p.target,C=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var k=TF(C,N);if(!k)return!0;if(k?S=C:(S=C==="v"?"h":"v",k=TF(C,N)),!k)return!1;if(!r.current&&"changedTouches"in p&&(j||_)&&(r.current=S),!S)return!0;var D=r.current||S;return Y9e(D,x,p,D==="h"?j:_,!0)},[]),c=v.useCallback(function(p){var x=p;if(!(!sd.length||sd[sd.length-1]!==i)){var y="deltaY"in x?OF(x):sy(x),b=t.current.filter(function(S){return S.name===x.type&&S.target===x.target&&J9e(S.delta,y)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var j=(o.current.shards||[]).map(MF).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=j.length>0?l(x,j[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,y,b){var j={name:p,delta:x,target:y,should:b};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(_){return _!==j})},1)},[]),d=v.useCallback(function(p){n.current=sy(p),r.current=void 0},[]),h=v.useCallback(function(p){u(p.type,OF(p),p.target,l(p,e.lockRef.current))},[]),f=v.useCallback(function(p){u(p.type,sy(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return sd.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,rd),document.addEventListener("touchmove",c,rd),document.addEventListener("touchstart",d,rd),function(){sd=sd.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,rd),document.removeEventListener("touchmove",c,rd),document.removeEventListener("touchstart",d,rd)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:X9e(a)}):null,m?v.createElement(qz,{gapMode:"margin"}):null)}const eHe=Uz(WX,Z9e);var YX=v.forwardRef(function(e,t){return v.createElement(s_,Pr({},e,{ref:t,sideCar:eHe}))});YX.classNames=s_.classNames;const JX="Dialog",[XX,ZJe]=m9e(JX),[tHe,Fu]=XX(JX),nHe=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=x9e({prop:r,defaultProp:a,onChange:i});return v.createElement(tHe,{scope:t,triggerRef:l,contentRef:c,contentId:kN(),titleId:kN(),descriptionId:kN(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o},n)},QX="DialogPortal",[rHe,ZX]=XX(QX,{forceMount:void 0}),sHe=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=Fu(QX,t);return v.createElement(rHe,{scope:t,forceMount:n},v.Children.map(r,o=>v.createElement(r_,{present:n||i.open},v.createElement(F9e,{asChild:!0,container:a},o))))},d2="DialogOverlay",aHe=v.forwardRef((e,t)=>{const n=ZX(d2,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Fu(d2,e.__scopeDialog);return i.modal?v.createElement(r_,{present:r||i.open},v.createElement(iHe,Qr({},a,{ref:t}))):null}),iHe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Fu(d2,n);return v.createElement(YX,{as:EO,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(Oa.div,Qr({"data-state":tQ(a.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Og="DialogContent",oHe=v.forwardRef((e,t)=>{const n=ZX(Og,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Fu(Og,e.__scopeDialog);return v.createElement(r_,{present:r||i.open},i.modal?v.createElement(lHe,Qr({},a,{ref:t})):v.createElement(cHe,Qr({},a,{ref:t})))}),lHe=v.forwardRef((e,t)=>{const n=Fu(Og,e.__scopeDialog),r=v.useRef(null),a=Lv(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return sv(i)},[]),v.createElement(eQ,Qr({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gd(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:Gd(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Gd(e.onFocusOutside,i=>i.preventDefault())}))}),cHe=v.forwardRef((e,t)=>{const n=Fu(Og,e.__scopeDialog),r=v.useRef(!1),a=v.useRef(!1);return v.createElement(eQ,Qr({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}r.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),eQ=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Fu(Og,n),c=v.useRef(null),u=Lv(t,c);return z9e(),v.createElement(v.Fragment,null,v.createElement(O9e,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement(P9e,Qr({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tQ(l.open)},o,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function tQ(e){return e?"open":"closed"}const uHe=nHe,dHe=sHe,hHe=aHe,fHe=oHe;var Cm='[cmdk-group=""]',ON='[cmdk-group-items=""]',mHe='[cmdk-group-heading=""]',PO='[cmdk-item=""]',DF=`${PO}:not([aria-disabled="true"])`,h2="cmdk-item-select",Cc="data-value",pHe=(e,t,n)=>h9e(e,t,n),nQ=v.createContext(void 0),Fv=()=>v.useContext(nQ),rQ=v.createContext(void 0),AO=()=>v.useContext(rQ),sQ=v.createContext(void 0),aQ=v.forwardRef((e,t)=>{let n=od(()=>{var W,w;return{search:"",value:(w=(W=e.value)!=null?W:e.defaultValue)!=null?w:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=od(()=>new Set),a=od(()=>new Map),i=od(()=>new Map),o=od(()=>new Set),l=iQ(e),{label:c,children:u,value:d,onValueChange:h,filter:f,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:x=!0,...y}=e,b=v.useId(),j=v.useId(),_=v.useId(),S=v.useRef(null),N=CHe();ju(()=>{if(d!==void 0){let W=d.trim();n.current.value=W,C.emit()}},[d]),ju(()=>{N(6,U)},[]);let C=v.useMemo(()=>({subscribe:W=>(o.current.add(W),()=>o.current.delete(W)),snapshot:()=>n.current,setState:(W,w,A)=>{var P,z,q;if(!Object.is(n.current[W],w)){if(n.current[W]=w,W==="search")L(),I(),N(1,E);else if(W==="value"&&(A||N(5,U),((P=l.current)==null?void 0:P.value)!==void 0)){let te=w??"";(q=(z=l.current).onValueChange)==null||q.call(z,te);return}C.emit()}},emit:()=>{o.current.forEach(W=>W())}}),[]),k=v.useMemo(()=>({value:(W,w,A)=>{var P;w!==((P=i.current.get(W))==null?void 0:P.value)&&(i.current.set(W,{value:w,keywords:A}),n.current.filtered.items.set(W,D(w,A)),N(2,()=>{I(),C.emit()}))},item:(W,w)=>(r.current.add(W),w&&(a.current.has(w)?a.current.get(w).add(W):a.current.set(w,new Set([W]))),N(3,()=>{L(),I(),n.current.value||E(),C.emit()}),()=>{i.current.delete(W),r.current.delete(W),n.current.filtered.items.delete(W);let A=F();N(4,()=>{L(),(A==null?void 0:A.getAttribute("id"))===W&&E(),C.emit()})}),group:W=>(a.current.has(W)||a.current.set(W,new Set),()=>{i.current.delete(W),a.current.delete(W)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:b,inputId:_,labelId:j,listInnerRef:S}),[]);function D(W,w){var A,P;let z=(P=(A=l.current)==null?void 0:A.filter)!=null?P:pHe;return W?z(W,n.current.search,w):0}function I(){if(!n.current.search||l.current.shouldFilter===!1)return;let W=n.current.filtered.items,w=[];n.current.filtered.groups.forEach(P=>{let z=a.current.get(P),q=0;z.forEach(te=>{let X=W.get(te);q=Math.max(X,q)}),w.push([P,q])});let A=S.current;$().sort((P,z)=>{var q,te;let X=P.getAttribute("id"),V=z.getAttribute("id");return((q=W.get(V))!=null?q:0)-((te=W.get(X))!=null?te:0)}).forEach(P=>{let z=P.closest(ON);z?z.appendChild(P.parentElement===z?P:P.closest(`${ON} > *`)):A.appendChild(P.parentElement===A?P:P.closest(`${ON} > *`))}),w.sort((P,z)=>z[1]-P[1]).forEach(P=>{let z=S.current.querySelector(`${Cm}[${Cc}="${encodeURIComponent(P[0])}"]`);z==null||z.parentElement.appendChild(z)})}function E(){let W=$().find(A=>A.getAttribute("aria-disabled")!=="true"),w=W==null?void 0:W.getAttribute(Cc);C.setState("value",w||void 0)}function L(){var W,w,A,P;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let z=0;for(let q of r.current){let te=(w=(W=i.current.get(q))==null?void 0:W.value)!=null?w:"",X=(P=(A=i.current.get(q))==null?void 0:A.keywords)!=null?P:[],V=D(te,X);n.current.filtered.items.set(q,V),V>0&&z++}for(let[q,te]of a.current)for(let X of te)if(n.current.filtered.items.get(X)>0){n.current.filtered.groups.add(q);break}n.current.filtered.count=z}function U(){var W,w,A;let P=F();P&&(((W=P.parentElement)==null?void 0:W.firstChild)===P&&((A=(w=P.closest(Cm))==null?void 0:w.querySelector(mHe))==null||A.scrollIntoView({block:"nearest"})),P.scrollIntoView({block:"nearest"}))}function F(){var W;return(W=S.current)==null?void 0:W.querySelector(`${PO}[aria-selected="true"]`)}function $(){var W;return Array.from((W=S.current)==null?void 0:W.querySelectorAll(DF))}function M(W){let w=$()[W];w&&C.setState("value",w.getAttribute(Cc))}function O(W){var w;let A=F(),P=$(),z=P.findIndex(te=>te===A),q=P[z+W];(w=l.current)!=null&&w.loop&&(q=z+W<0?P[P.length-1]:z+W===P.length?P[0]:P[z+W]),q&&C.setState("value",q.getAttribute(Cc))}function R(W){let w=F(),A=w==null?void 0:w.closest(Cm),P;for(;A&&!P;)A=W>0?NHe(A,Cm):SHe(A,Cm),P=A==null?void 0:A.querySelector(DF);P?C.setState("value",P.getAttribute(Cc)):O(W)}let B=()=>M($().length-1),T=W=>{W.preventDefault(),W.metaKey?B():W.altKey?R(1):O(1)},G=W=>{W.preventDefault(),W.metaKey?M(0):W.altKey?R(-1):O(-1)};return v.createElement(Oa.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:W=>{var w;if((w=y.onKeyDown)==null||w.call(y,W),!W.defaultPrevented)switch(W.key){case"n":case"j":{x&&W.ctrlKey&&T(W);break}case"ArrowDown":{T(W);break}case"p":case"k":{x&&W.ctrlKey&&G(W);break}case"ArrowUp":{G(W);break}case"Home":{W.preventDefault(),M(0);break}case"End":{W.preventDefault(),B();break}case"Enter":if(!W.nativeEvent.isComposing&&W.keyCode!==229){W.preventDefault();let A=F();if(A){let P=new Event(h2);A.dispatchEvent(P)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:EHe},c),a_(e,W=>v.createElement(rQ.Provider,{value:C},v.createElement(nQ.Provider,{value:k},W))))}),gHe=v.forwardRef((e,t)=>{var n,r;let a=v.useId(),i=v.useRef(null),o=v.useContext(sQ),l=Fv(),c=iQ(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;ju(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=oQ(a,i,[e.value,e.children,i],e.keywords),h=AO(),f=_u(N=>N.value&&N.value===d.current),m=_u(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);v.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(h2,g),()=>N.removeEventListener(h2,g)},[m,e.onSelect,e.disabled]);function g(){var N,C;p(),(C=(N=c.current).onSelect)==null||C.call(N,d.current)}function p(){h.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:y,onSelect:b,forceMount:j,keywords:_,...S}=e;return v.createElement(Oa.div,{ref:Mg([i,t]),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!f,"data-disabled":!!x,"data-selected":!!f,onPointerMove:x||l.disablePointerSelection?void 0:p,onClick:x?void 0:g},e.children)}),vHe=v.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),u=v.useId(),d=Fv(),h=_u(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);ju(()=>d.group(o),[]),oQ(o,l,[e.value,e.heading,c]);let f=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(Oa.div,{ref:Mg([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),a_(e,m=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},v.createElement(sQ.Provider,{value:f},m))))}),xHe=v.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=v.useRef(null),i=_u(o=>!o.search);return!n&&!i?null:v.createElement(Oa.div,{ref:Mg([a,t]),...r,"cmdk-separator":"",role:"separator"})}),yHe=v.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,i=AO(),o=_u(d=>d.search),l=_u(d=>d.value),c=Fv(),u=v.useMemo(()=>{var d;let h=(d=c.listInnerRef.current)==null?void 0:d.querySelector(`${PO}[${Cc}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Oa.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),bHe=v.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=Fv();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,u=i.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),v.createElement(Oa.div,{ref:Mg([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},a_(e,c=>v.createElement("div",{ref:Mg([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),wHe=v.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(uHe,{open:n,onOpenChange:r},v.createElement(dHe,{container:o},v.createElement(hHe,{"cmdk-overlay":"",className:a}),v.createElement(fHe,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(aQ,{ref:t,...l}))))}),jHe=v.forwardRef((e,t)=>_u(n=>n.filtered.count===0)?v.createElement(Oa.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),_He=v.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...i}=e;return v.createElement(Oa.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},a_(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),ks=Object.assign(aQ,{List:bHe,Item:gHe,Input:yHe,Group:vHe,Separator:xHe,Dialog:wHe,Empty:jHe,Loading:_He});function NHe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function SHe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function iQ(e){let t=v.useRef(e);return ju(()=>{t.current=e}),t}var ju=typeof window>"u"?v.useEffect:v.useLayoutEffect;function od(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function Mg(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function _u(e){let t=AO(),n=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,n,n)}function oQ(e,t,n,r=[]){let a=v.useRef(),i=Fv();return ju(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=r.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Cc,l),a.current=l}),a}var CHe=()=>{let[e,t]=v.useState(),n=od(()=>new Map);return ju(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function kHe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function a_({asChild:e,children:t},n){return e&&v.isValidElement(t)?v.cloneElement(kHe(t),{ref:t.ref},n(t.props.children)):n(t)}var EHe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const lQ=v.forwardRef(({className:e,...t},n)=>s.jsx(ks,{ref:n,className:me("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));lQ.displayName=ks.displayName;const cQ=v.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ea,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ks.Input,{ref:n,className:me("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));cQ.displayName=ks.Input.displayName;const uQ=v.forwardRef(({className:e,...t},n)=>s.jsx(ks.List,{ref:n,className:me("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));uQ.displayName=ks.List.displayName;const dQ=v.forwardRef((e,t)=>s.jsx(ks.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));dQ.displayName=ks.Empty.displayName;const hQ=v.forwardRef(({className:e,...t},n)=>s.jsx(ks.Group,{ref:n,className:me("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hQ.displayName=ks.Group.displayName;const PHe=v.forwardRef(({className:e,...t},n)=>s.jsx(ks.Separator,{ref:n,className:me("-mx-1 h-px bg-border",e),...t}));PHe.displayName=ks.Separator.displayName;const fQ=v.forwardRef(({className:e,...t},n)=>s.jsx(ks.Item,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));fQ.displayName=ks.Item.displayName;var mQ="AlertDialog",[AHe,eXe]=Ir(mQ,[Yz]),Lo=Yz(),pQ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Lo(t);return s.jsx(JP,{...r,...n,modal:!0})};pQ.displayName=mQ;var THe="AlertDialogTrigger",OHe=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Lo(n);return s.jsx(dq,{...a,...r,ref:t})});OHe.displayName=THe;var MHe="AlertDialogPortal",gQ=e=>{const{__scopeAlertDialog:t,...n}=e,r=Lo(t);return s.jsx(XP,{...r,...n})};gQ.displayName=MHe;var DHe="AlertDialogOverlay",vQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Lo(n);return s.jsx(av,{...a,...r,ref:t})});vQ.displayName=DHe;var Kd="AlertDialogContent",[IHe,$He]=AHe(Kd),xQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Lo(n),o=v.useRef(null),l=Xe(t,o),c=v.useRef(null);return s.jsx(cde,{contentName:Kd,titleName:yQ,docsSlug:"alert-dialog",children:s.jsx(IHe,{scope:n,cancelRef:c,children:s.jsxs(iv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:je(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(hP,{children:r}),s.jsx(LHe,{contentRef:o})]})})})});xQ.displayName=Kd;var yQ="AlertDialogTitle",bQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Lo(n);return s.jsx(ov,{...a,...r,ref:t})});bQ.displayName=yQ;var wQ="AlertDialogDescription",jQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Lo(n);return s.jsx(lv,{...a,...r,ref:t})});jQ.displayName=wQ;var RHe="AlertDialogAction",_Q=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Lo(n);return s.jsx(Iw,{...a,...r,ref:t})});_Q.displayName=RHe;var NQ="AlertDialogCancel",SQ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=$He(NQ,n),i=Lo(n),o=Xe(t,a);return s.jsx(Iw,{...i,...r,ref:o})});SQ.displayName=NQ;var LHe=({contentRef:e})=>{const t=`\`${Kd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kd}\` by passing a \`${wQ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},FHe=pQ,BHe=gQ,CQ=vQ,kQ=xQ,EQ=_Q,PQ=SQ,AQ=bQ,TQ=jQ;const UHe=FHe,zHe=BHe,OQ=v.forwardRef(({className:e,...t},n)=>s.jsx(CQ,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));OQ.displayName=CQ.displayName;const MQ=v.forwardRef(({className:e,...t},n)=>s.jsxs(zHe,{children:[s.jsx(OQ,{}),s.jsx(kQ,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));MQ.displayName=kQ.displayName;const DQ=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});DQ.displayName="AlertDialogHeader";const IQ=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});IQ.displayName="AlertDialogFooter";const $Q=v.forwardRef(({className:e,...t},n)=>s.jsx(AQ,{ref:n,className:me("text-lg font-semibold",e),...t}));$Q.displayName=AQ.displayName;const RQ=v.forwardRef(({className:e,...t},n)=>s.jsx(TQ,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));RQ.displayName=TQ.displayName;const LQ=v.forwardRef(({className:e,...t},n)=>s.jsx(EQ,{ref:n,className:me(zp(),e),...t}));LQ.displayName=EQ.displayName;const FQ=v.forwardRef(({className:e,...t},n)=>s.jsx(PQ,{ref:n,className:me(zp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));FQ.displayName=PQ.displayName;var et=function(){return et=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},et.apply(this,arguments)};function qHe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function BQ(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Bv(e){return e.mode==="multiple"}function Uv(e){return e.mode==="range"}function i_(e){return e.mode==="single"}var VHe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function WHe(e,t){return pt(e,"LLLL y",t)}function HHe(e,t){return pt(e,"d",t)}function GHe(e,t){return pt(e,"LLLL",t)}function KHe(e){return"".concat(e)}function YHe(e,t){return pt(e,"cccccc",t)}function JHe(e,t){return pt(e,"yyyy",t)}var XHe=Object.freeze({__proto__:null,formatCaption:WHe,formatDay:HHe,formatMonthCaption:GHe,formatWeekNumber:KHe,formatWeekdayName:YHe,formatYearCaption:JHe}),QHe=function(e,t,n){return pt(e,"do MMMM (EEEE)",n)},ZHe=function(){return"Month: "},eGe=function(){return"Go to next month"},tGe=function(){return"Go to previous month"},nGe=function(e,t){return pt(e,"cccc",t)},rGe=function(e){return"Week n. ".concat(e)},sGe=function(){return"Year: "},aGe=Object.freeze({__proto__:null,labelDay:QHe,labelMonthDropdown:ZHe,labelNext:eGe,labelPrevious:tGe,labelWeekNumber:rGe,labelWeekday:nGe,labelYearDropdown:sGe});function iGe(){var e="buttons",t=VHe,n=aA,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:XHe,labels:aGe,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function oGe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=vs(r):t&&(i=new Date(t,0,1)),a?o=Rw(a):n&&(o=new Date(n,11,31)),{fromDate:i?jh(i):void 0,toDate:o?jh(o):void 0}}var UQ=v.createContext(void 0);function lGe(e){var t,n=e.initialProps,r=iGe(),a=oGe(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(i_(n)||Bv(n)||Uv(n))&&(c=n.onSelect);var u=et(et(et({},r),n),{captionLayout:l,classNames:et(et({},r.classNames),n.classNames),components:et({},n.components),formatters:et(et({},r.formatters),n.formatters),fromDate:i,labels:et(et({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:et(et({},r.modifiers),n.modifiers),modifiersClassNames:et(et({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:et(et({},r.styles),n.styles),toDate:o});return s.jsx(UQ.Provider,{value:u,children:e.children})}function fn(){var e=v.useContext(UQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function zQ(e){var t=fn(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function cGe(e){return s.jsx("svg",et({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qQ(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=fn(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:cGe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function uGe(e){var t,n=fn(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(ofe(r,a))for(var f=vs(r),m=r.getMonth();m<=a.getMonth();m++)h.push(f1(f,m));else for(var f=vs(new Date),m=0;m<=11;m++)h.push(f1(f,m));var g=function(x){var y=Number(x.target.value),b=f1(vs(e.displayMonth),y);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:qQ;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function dGe(e){var t,n=e.displayMonth,r=fn(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)f.push(wI(jq(new Date),p));var x=function(b){var j=wI(vs(n),Number(b.target.value));e.onChange(j)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:qQ;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(b){return s.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function hGe(e,t){var n=v.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function fGe(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Nh(i,a)<0){var u=-1*(c-1);a=oi(i,u)}return o&&Nh(a,o)<0&&(a=o),vs(a)}function mGe(){var e=fn(),t=fGe(e),n=hGe(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=vs(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function pGe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=vs(e),i=vs(oi(a,r)),o=Nh(i,a),l=[],c=0;c<o;c++){var u=oi(a,c);l.push(u)}return n&&(l=l.reverse()),l}function gGe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=vs(e);if(!n)return oi(l,o);var c=Nh(n,e);if(!(c<i))return oi(l,o)}}function vGe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=vs(e);if(!n)return oi(l,-o);var c=Nh(l,n);if(!(c<=0))return oi(l,-o)}}var VQ=v.createContext(void 0);function xGe(e){var t=fn(),n=mGe(),r=n[0],a=n[1],i=pGe(r,t),o=gGe(r,t),l=vGe(r,t),c=function(h){return i.some(function(f){return iA(h,f)})},u=function(h,f){c(h)||(f&&Eq(h,f)?a(oi(h,1+t.numberOfMonths*-1)):a(h))},d={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(VQ.Provider,{value:d,children:e.children})}function zv(){var e=v.useContext(VQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function IF(e){var t,n=fn(),r=n.classNames,a=n.styles,i=n.components,o=zv().goToMonth,l=function(d){o(oi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:zQ,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(uGe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(dGe,{onChange:l,displayMonth:e.displayMonth})]})}function yGe(e){return s.jsx("svg",et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bGe(e){return s.jsx("svg",et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var L0=v.forwardRef(function(e,t){var n=fn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=et(et({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",et({},e,{ref:t,type:"button",className:o,style:l}))});function wGe(e){var t,n,r=fn(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:bGe,y=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:yGe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(L0,{name:"previous-month","aria-label":f,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(L0,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function $F(e){var t=fn().numberOfMonths,n=zv(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(g){return iA(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&i(r)},m=function(){a&&i(a)};return s.jsx(wGe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:m})}function jGe(e){var t,n=fn(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:zQ,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(IF,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(IF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx($F,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx($F,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:u})}function _Ge(e){var t=fn(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function NGe(e,t,n){for(var r=n?ou(new Date):Ui(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Nr(r,i);a.push(o)}return a}function SGe(){var e=fn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=NGe(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},h)})]})}function CGe(){var e,t=fn(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:SGe;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function kGe(e){var t=fn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var TO=v.createContext(void 0);function EGe(e){if(!Bv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(TO.Provider,{value:t,children:e.children})}return s.jsx(PGe,{initialProps:e.initialProps,children:e.children})}function PGe(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(u,d,h){var f,m;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var g=!!(d.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var p=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var x=r?BQ([],r):[];if(d.selected){var y=x.findIndex(function(b){return Tr(u,b)});x.splice(y,1)}else x.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,x,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return Tr(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(TO.Provider,{value:c,children:n})}function OO(){var e=v.useContext(TO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function AGe(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Tr(a,e)&&Tr(r,e)?void 0:Tr(a,e)?{from:a,to:void 0}:Tr(r,e)?void 0:CC(r,e)?{from:e,to:a}:{from:r,to:e}:a?CC(e,a)?{from:a,to:e}:{from:e,to:a}:r?Eq(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var MO=v.createContext(void 0);function TGe(e){if(!Uv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(MO.Provider,{value:t,children:e.children})}return s.jsx(OGe,{initialProps:e.initialProps,children:e.children})}function OGe(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,m,g,p);var b=AGe(m,r);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Tr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:d1(i,l-1),before:Nr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Nr(i,l-1)}),!i&&o&&d.disabled.push({after:d1(o,l-1),before:Nr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Nr(i,-c+1)}),d.disabled.push({after:Nr(i,c-1)})),i&&o){var h=Mi(o,i)+1,f=c-h;d.disabled.push({before:d1(i,f)}),d.disabled.push({after:Nr(o,f)})}!i&&o&&(d.disabled.push({before:Nr(o,-c+1)}),d.disabled.push({after:Nr(o,c-1)}))}return s.jsx(MO.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function DO(){var e=v.useContext(MO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Iy(e){return Array.isArray(e)?BQ([],e):e!==void 0?[e]:[]}function MGe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=Iy(a)}),t}var ci;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ci||(ci={}));var DGe=ci.Selected,Xi=ci.Disabled,IGe=ci.Hidden,$Ge=ci.Today,MN=ci.RangeEnd,DN=ci.RangeMiddle,IN=ci.RangeStart,RGe=ci.Outside;function LGe(e,t,n){var r,a=(r={},r[DGe]=Iy(e.selected),r[Xi]=Iy(e.disabled),r[IGe]=Iy(e.hidden),r[$Ge]=[e.today],r[MN]=[],r[DN]=[],r[IN]=[],r[RGe]=[],r);return e.fromDate&&a[Xi].push({before:e.fromDate}),e.toDate&&a[Xi].push({after:e.toDate}),Bv(e)?a[Xi]=a[Xi].concat(t.modifiers[Xi]):Uv(e)&&(a[Xi]=a[Xi].concat(n.modifiers[Xi]),a[IN]=n.modifiers[IN],a[DN]=n.modifiers[DN],a[MN]=n.modifiers[MN]),a}var WQ=v.createContext(void 0);function FGe(e){var t=fn(),n=OO(),r=DO(),a=LGe(t,n,r),i=MGe(t.modifiers),o=et(et({},a),i);return s.jsx(WQ.Provider,{value:o,children:e.children})}function HQ(){var e=v.useContext(WQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function BGe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function UGe(e){return!!(e&&typeof e=="object"&&"from"in e)}function zGe(e){return!!(e&&typeof e=="object"&&"after"in e)}function qGe(e){return!!(e&&typeof e=="object"&&"before"in e)}function VGe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function WGe(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Mi(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Mi(e,r)>=0&&Mi(a,e)>=0;return o}return a?Tr(a,e):r?Tr(r,e):!1}function HGe(e){return rA(e)}function GGe(e){return Array.isArray(e)&&e.every(rA)}function KGe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(HGe(n))return Tr(e,n);if(GGe(n))return n.includes(e);if(UGe(n))return WGe(e,n);if(VGe(n))return n.dayOfWeek.includes(e.getDay());if(BGe(n)){var r=Mi(n.before,e),a=Mi(n.after,e),i=r>0,o=a<0,l=CC(n.before,n.after);return l?o&&i:i||o}return zGe(n)?Mi(e,n.after)>0:qGe(n)?Mi(n.before,e)>0:typeof n=="function"?n(e):!1})}function IO(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return KGe(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!iA(e,n)&&(a.outside=!0),a}function YGe(e,t){for(var n=vs(e[0]),r=Rw(e[e.length-1]),a,i,o=n;o<=r;){var l=IO(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Nr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Nr(o,1)}return i||a}var JGe=365;function GQ(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,h=a.locale,f={day:Nr,week:SC,month:oi,year:Jde,startOfWeek:function(x){return a.ISOWeek?ou(x):Ui(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?_q(x):sA(x,{locale:h,weekStartsOn:c})}},m=f[n](e,r==="after"?1:-1);r==="before"&&u?m=Xde([u,m]):r==="after"&&d&&(m=Qde([d,m]));var g=!0;if(i){var p=IO(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>JGe?l.lastFocused:GQ(m,{moveBy:n,direction:r,context:a,modifiers:i,retry:et(et({},l),{count:l.count+1})})}var KQ=v.createContext(void 0);function XGe(e){var t=zv(),n=HQ(),r=v.useState(),a=r[0],i=r[1],o=v.useState(),l=o[0],c=o[1],u=YGe(t.displayMonths,n),d=a??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(a),i(void 0)},f=function(x){i(x)},m=fn(),g=function(x,y){if(a){var b=GQ(a,{moveBy:x,direction:y,context:m,modifiers:n});Tr(a,b)||(t.goToDate(b,a),f(b))}},p={focusedDay:a,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(KQ.Provider,{value:p,children:e.children})}function $O(){var e=v.useContext(KQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function QGe(e,t){var n=HQ(),r=IO(e,n,t);return r}var RO=v.createContext(void 0);function ZGe(e){if(!i_(e.initialProps)){var t={selected:void 0};return s.jsx(RO.Provider,{value:t,children:e.children})}return s.jsx(eKe,{initialProps:e.initialProps,children:e.children})}function eKe(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(RO.Provider,{value:a,children:n})}function YQ(){var e=v.useContext(RO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function tKe(e,t){var n=fn(),r=YQ(),a=OO(),i=DO(),o=$O(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,x=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,j=function(O){var R,B,T,G;i_(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,O):Bv(n)?(B=a.onDayClick)===null||B===void 0||B.call(a,e,t,O):Uv(n)?(T=i.onDayClick)===null||T===void 0||T.call(i,e,t,O):(G=n.onDayClick)===null||G===void 0||G.call(n,e,t,O)},_=function(O){var R;f(e),(R=n.onDayFocus)===null||R===void 0||R.call(n,e,t,O)},S=function(O){var R;h(),(R=n.onDayBlur)===null||R===void 0||R.call(n,e,t,O)},N=function(O){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,e,t,O)},C=function(O){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,e,t,O)},k=function(O){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,e,t,O)},D=function(O){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,e,t,O)},I=function(O){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,e,t,O)},E=function(O){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,e,t,O)},L=function(O){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,e,t,O)},U=function(O){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,e,t,O)},F=function(O){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,e,t,O)},$=function(O){var R;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),u();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),d();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?p():m();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?x():g();break;case"Home":O.preventDefault(),O.stopPropagation(),y();break;case"End":O.preventDefault(),O.stopPropagation(),b();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,e,t,O)},M={onClick:j,onFocus:_,onBlur:S,onKeyDown:$,onKeyUp:F,onMouseEnter:N,onMouseLeave:C,onPointerEnter:k,onPointerLeave:D,onTouchCancel:I,onTouchEnd:E,onTouchMove:L,onTouchStart:U};return M}function nKe(){var e=fn(),t=YQ(),n=OO(),r=DO(),a=i_(e)?t.selected:Bv(e)?n.selected:Uv(e)?r.selected:void 0;return a}function rKe(e){return Object.values(ci).includes(e)}function sKe(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(rKe(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function aKe(e,t){var n=et({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=et(et({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function iKe(e,t,n){var r,a,i,o=fn(),l=$O(),c=QGe(e,t),u=tKe(e,c),d=nKe(),h=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var N;c.outside||l.focusedDay&&h&&Tr(l.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[l.focusedDay,e,n,h,c.outside]);var f=sKe(o,c).join(" "),m=aKe(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:kGe,x=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:f,children:x,role:"gridcell"},b=l.focusTarget&&Tr(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&Tr(l.focusedDay,e),_=et(et(et({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||b?0:-1,r)),u),S={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return S}function oKe(e){var t=v.useRef(null),n=iKe(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(L0,et({name:"day",ref:t},n.buttonProps)):s.jsx("div",et({},n.divProps))}function lKe(e){var t=e.number,n=e.dates,r=fn(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(m){a(t,n,m)};return s.jsx(L0,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function cKe(e){var t,n,r=fn(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:oKe,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:lKe,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},sfe(h))})]})}function RF(e,t,n){for(var r=n!=null&&n.ISOWeek?_q(t):sA(t,n),a=n!=null&&n.ISOWeek?ou(e):Ui(e,n),i=Mi(r,a),o=[],l=0;l<=i;l++)o.push(Nr(a,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?Nq(d):Cq(d,n),f=u.find(function(m){return m.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function uKe(e,t){var n=RF(vs(e),Rw(e),t);if(t!=null&&t.useFixedWeeks){var r=ife(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=SC(i,6-r),l=RF(SC(i,1),o,t);n.push.apply(n,l)}}return n}function dKe(e){var t,n,r,a=fn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,m=a.ISOWeek,g=uKe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:CGe,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:cKe,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:_Ge;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(b){return s.jsx(x,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function hKe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fKe=hKe()?v.useLayoutEffect:v.useEffect,$N=!1,mKe=0;function LF(){return"react-day-picker-".concat(++mKe)}function pKe(e){var t,n=e??($N?LF():null),r=v.useState(n),a=r[0],i=r[1];return fKe(function(){a===null&&i(LF())},[]),v.useEffect(function(){$N===!1&&($N=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function gKe(e){var t,n,r=fn(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=zv().displayMonths,u=pKe(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(h.push(i.caption_start),f=et(et({},f),o.caption_start)),g&&(h.push(i.caption_end),f=et(et({},f),o.caption_end)),p&&(h.push(i.caption_between),f=et(et({},f),o.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:jGe;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(dKe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function vKe(e){var t=fn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function xKe(e){var t,n,r=e.initialProps,a=fn(),i=$O(),o=zv(),l=v.useState(!1),c=l[0],u=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var h=et(et({},a.styles.root),a.style),f=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var x;return et(et({},g),(x={},x[p]=r[p],x))},{}),m=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:vKe;return s.jsx("div",et({className:d.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(gKe,{displayIndex:p,displayMonth:g},p)})})}))}function yKe(e){var t=e.children,n=qHe(e,["children"]);return s.jsx(lGe,{initialProps:n,children:s.jsx(xGe,{children:s.jsx(ZGe,{initialProps:n,children:s.jsx(EGe,{initialProps:n,children:s.jsx(TGe,{initialProps:n,children:s.jsx(FGe,{children:s.jsx(XGe,{children:t})})})})})})})}function bKe(e){return s.jsx(yKe,et({},e,{children:s.jsx(xKe,{initialProps:e})}))}function JQ({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(bKe,{showOutsideDays:n,className:me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:me(zp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:me(zp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Jne,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Ja,{className:"h-4 w-4"})},...r})}JQ.displayName="Calendar";const wKe=({open:e,onOpenChange:t,task:n,onUpdate:r})=>{const[a,i]=v.useState(!1),[o,l]=v.useState(n.title),[c,u]=v.useState(n.description||""),[d,h]=v.useState(n.priority),[f,m]=v.useState(n.status),[g,p]=v.useState(n.due_date?new Date(n.due_date):void 0);v.useEffect(()=>{e&&(l(n.title),u(n.description||""),h(n.priority),m(n.status),p(n.due_date?new Date(n.due_date):void 0))},[e,n]);const x=async b=>{if(b.preventDefault(),!o.trim()){_e.error("Title is required");return}i(!0);try{const{data:j,error:_}=await J.from("voice_assistant_tasks").update({title:o.trim(),description:c.trim()||null,priority:d,status:f,due_date:(g==null?void 0:g.toISOString())||null}).eq("id",n.id).select().single();if(_)throw _;r(j),_e.success("Task updated successfully"),t(!1)}catch(j){console.error("Error updating task:",j),_e.error("Failed to update task")}finally{i(!1)}},y=()=>{p(void 0)};return s.jsx(or,{open:e,onOpenChange:t,children:s.jsxs(Kn,{className:"sm:max-w-[500px]",children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Edit Task"})}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-title",children:"Title *"}),s.jsx(le,{id:"edit-title",value:o,onChange:b=>l(b.target.value),placeholder:"Enter task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-description",children:"Description"}),s.jsx(bt,{id:"edit-description",value:c,onChange:b=>u(b.target.value),placeholder:"Enter task description (optional)",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-priority",children:"Priority"}),s.jsxs(qe,{value:d,onValueChange:h,children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"low",children:"Low"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"edit-status",children:"Status"}),s.jsxs(qe,{value:f,onValueChange:m,children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"}),s.jsx(oe,{value:"cancelled",children:"Cancelled"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Due Date"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(FX,{children:[s.jsx(BX,{asChild:!0,children:s.jsxs(Z,{variant:"outline",className:me("flex-1 justify-start text-left font-normal",!g&&"text-muted-foreground"),children:[s.jsx(Dr,{className:"mr-2 h-4 w-4"}),g?pt(g,"PPP"):"Pick a due date"]})}),s.jsx(kO,{className:"w-auto p-0",align:"start",children:s.jsx(JQ,{mode:"single",selected:g,onSelect:p,initialFocus:!0})})]}),g&&s.jsx(Z,{type:"button",variant:"outline",onClick:y,children:"Clear"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(Z,{type:"submit",disabled:a,children:[a&&s.jsx(ps,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})})},jKe={low:"bg-slate-500/20 text-slate-400 border-slate-500/30",medium:"bg-blue-500/20 text-blue-400 border-blue-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",urgent:"bg-red-500/20 text-red-400 border-red-500/30"},_Ke={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",in_progress:"bg-blue-500/20 text-blue-400 border-blue-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30",cancelled:"bg-slate-500/20 text-slate-400 border-slate-500/30"},NKe=({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a})=>{const[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),h=e.due_date&&Pq(new Date(e.due_date))&&e.status!=="completed",f=e.due_date&&kC(new Date(e.due_date)),m=async p=>{d(!0);try{const{data:x,error:y}=await J.from("voice_assistant_tasks").update({status:p}).eq("id",e.id).select().single();if(y)throw y;p==="completed"?await J.from("changelog_entries").update({change_type:"update",status:"completed"}).eq("entity_id",e.assistant_id).eq("title",e.title).eq("change_type","task"):await J.from("changelog_entries").update({status:p}).eq("entity_id",e.assistant_id).eq("title",e.title).eq("change_type","task"),r(x),_e.success("Status updated")}catch(x){console.error("Error updating status:",x),_e.error("Failed to update status")}finally{d(!1)}},g=async()=>{try{const{error:p}=await J.from("voice_assistant_tasks").delete().eq("id",e.id);if(p)throw p;a(e.id),_e.success("Task deleted")}catch(p){console.error("Error deleting task:",p),_e.error("Failed to delete task")}};return s.jsxs(s.Fragment,{children:[s.jsx(H,{className:`transition-all ${h?"border-red-500/50":""}`,children:s.jsx(Y,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-base",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:e.description})]}),s.jsxs(rO,{children:[s.jsx(sO,{asChild:!0,children:s.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:s.jsx(Y8,{className:"h-4 w-4"})})}),s.jsxs(Hj,{align:"end",children:[s.jsxs(Nl,{onClick:()=>o(!0),children:[s.jsx(BS,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(aO,{}),s.jsxs(Nl,{onClick:()=>c(!0),className:"text-destructive",children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Pe,{variant:"outline",className:"text-xs",children:t}),s.jsx(Pe,{variant:"outline",className:"text-xs bg-muted/50",children:n}),s.jsx(Pe,{className:`text-xs ${jKe[e.priority]}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),e.due_date&&s.jsxs(Pe,{variant:"outline",className:`text-xs flex items-center gap-1 ${h?"bg-red-500/20 text-red-400 border-red-500/30":f?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":""}`,children:[h?s.jsx(nU,{className:"h-3 w-3"}):s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(e.due_date),"MMM d, yyyy")]}),s.jsxs(Pe,{variant:"outline",className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(It,{className:"h-3 w-3"}),pt(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")]})]})]}),s.jsx("div",{className:"flex items-center gap-2 shrink-0",children:s.jsxs(qe,{value:e.status,onValueChange:m,disabled:u,children:[s.jsx(Be,{className:`w-[130px] h-8 text-xs ${_Ke[e.status]}`,children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"}),s.jsx(oe,{value:"cancelled",children:"Cancelled"})]})]})})]})})}),s.jsx(wKe,{open:i,onOpenChange:o,task:e,onUpdate:r}),s.jsx(UHe,{open:l,onOpenChange:c,children:s.jsxs(MQ,{children:[s.jsxs(DQ,{children:[s.jsx($Q,{children:"Delete Task"}),s.jsxs(RQ,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone.']})]}),s.jsxs(IQ,{children:[s.jsx(FQ,{children:"Cancel"}),s.jsx(LQ,{onClick:g,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})},SKe=({searchQuery:e,onSearchChange:t,assistants:n,connections:r,onAssistantSelect:a})=>{const[i,o]=v.useState(!1),[l,c]=v.useState(!1),u=v.useRef(null),d=g=>{if(!g)return"No Organization";const p=r.find(x=>x.org_id===g);return(p==null?void 0:p.org_name)||g},h=e.trim()?n.filter(g=>(g.name||"").toLowerCase().includes(e.toLowerCase())):[];v.useEffect(()=>{const g=p=>{u.current&&!u.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),v.useEffect(()=>{e.trim()&&h.length>0&&l?o(!0):o(!1)},[e,h.length,l]);const f=g=>{t(g.name||""),o(!1),a&&a(g)},m=()=>{t(""),o(!1)};return s.jsxs("div",{ref:u,className:"relative flex-1",children:[s.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search tasks or assistants...",value:e,onChange:g=>t(g.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),150),className:"pl-10 pr-10"}),e&&s.jsx("button",{onClick:m,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(ku,{className:"h-4 w-4"})}),i&&h.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border rounded-md shadow-lg z-50 max-h-[300px] overflow-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground px-2 py-1",children:"Matching Voice Assistants"}),h.map(g=>s.jsxs("button",{onClick:()=>f(g),className:me("w-full flex items-center gap-3 p-2 rounded-md hover:bg-accent text-left transition-colors"),children:[s.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:s.jsx(yt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:g.name||"Unnamed Assistant"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:d(g.org_id)})]}),s.jsx(Pe,{variant:"outline",className:"text-xs shrink-0",children:"Assistant"})]},g.id))]})})]})};function CKe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const o_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function LO(e){return"nodeType"in e}function rs(e){var t,n;return e?Vf(e)?e:LO(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function FO(e){const{Document:t}=rs(e);return e instanceof t}function qv(e){return Vf(e)?!1:e instanceof rs(e).HTMLElement}function XQ(e){return e instanceof rs(e).SVGElement}function Wf(e){return e?Vf(e)?e.document:LO(e)?FO(e)?e:qv(e)||XQ(e)?e.ownerDocument:document:document:document}const ui=o_?v.useLayoutEffect:v.useEffect;function l_(e){const t=v.useRef(e);return ui(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function kKe(){const e=v.useRef(null),t=v.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Dg(e,t){t===void 0&&(t=[e]);const n=v.useRef(e);return ui(()=>{n.current!==e&&(n.current=e)},t),n}function Vv(e,t){const n=v.useRef();return v.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function F0(e){const t=l_(e),n=v.useRef(null),r=v.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function B0(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let RN={};function Wv(e,t){return v.useMemo(()=>{if(t)return t;const n=RN[e]==null?0:RN[e]+1;return RN[e]=n,e+"-"+n},[e,t])}function QQ(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Yd=QQ(1),U0=QQ(-1);function EKe(e){return"clientX"in e&&"clientY"in e}function c_(e){if(!e)return!1;const{KeyboardEvent:t}=rs(e.target);return t&&e instanceof t}function PKe(e){if(!e)return!1;const{TouchEvent:t}=rs(e.target);return t&&e instanceof t}function z0(e){if(PKe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return EKe(e)?{x:e.clientX,y:e.clientY}:null}const Yl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Yl.Translate.toString(e),Yl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),FF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function AKe(e){return e.matches(FF)?e:e.querySelector(FF)}const TKe={display:"none"};function OKe(e){let{id:t,value:n}=e;return K.createElement("div",{id:t,style:TKe},n)}function MKe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return K.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function DKe(){const[e,t]=v.useState("");return{announce:v.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const ZQ=v.createContext(null);function IKe(e){const t=v.useContext(ZQ);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function $Ke(){const[e]=v.useState(()=>new Set),t=v.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[v.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const RKe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},LKe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function FKe(e){let{announcements:t=LKe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=RKe}=e;const{announce:i,announcement:o}=DKe(),l=Wv("DndLiveRegion"),[c,u]=v.useState(!1);if(v.useEffect(()=>{u(!0)},[]),IKe(v.useMemo(()=>({onDragStart(h){let{active:f}=h;i(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:m}=h;t.onDragMove&&i(t.onDragMove({active:f,over:m}))},onDragOver(h){let{active:f,over:m}=h;i(t.onDragOver({active:f,over:m}))},onDragEnd(h){let{active:f,over:m}=h;i(t.onDragEnd({active:f,over:m}))},onDragCancel(h){let{active:f,over:m}=h;i(t.onDragCancel({active:f,over:m}))}}),[i,t])),!c)return null;const d=K.createElement(K.Fragment,null,K.createElement(OKe,{id:r,value:a.draggable}),K.createElement(MKe,{id:l,announcement:o}));return n?us.createPortal(d,n):d}var Vn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Vn||(Vn={}));function q0(){}function BKe(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function UKe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const di=Object.freeze({x:0,y:0});function zKe(e,t){const n=z0(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function qKe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function VKe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function WKe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const HKe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=WKe(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(qKe)};function GKe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function eZ(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:di}function KKe(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const YKe=KKe(1);function tZ(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function JKe(e,t,n){const r=tZ(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const XKe={ignoreTransform:!1};function Hf(e,t){t===void 0&&(t=XKe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=rs(e).getComputedStyle(e);u&&(n=JKe(n,u,d))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function BF(e){return Hf(e,{ignoreTransform:!0})}function QKe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function ZKe(e,t){return t===void 0&&(t=rs(e).getComputedStyle(e)),t.position==="fixed"}function eYe(e,t){t===void 0&&(t=rs(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function BO(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(FO(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!qv(a)||XQ(a)||n.includes(a))return n;const i=rs(e).getComputedStyle(a);return a!==e&&eYe(a,i)&&n.push(a),ZKe(a,i)?n:r(a.parentNode)}return e?r(e):n}function nZ(e){const[t]=BO(e,1);return t??null}function LN(e){return!o_||!e?null:Vf(e)?e:LO(e)?FO(e)||e===Wf(e).scrollingElement?window:qv(e)?e:null:null}function rZ(e){return Vf(e)?e.scrollX:e.scrollLeft}function sZ(e){return Vf(e)?e.scrollY:e.scrollTop}function f2(e){return{x:rZ(e),y:sZ(e)}}var nr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(nr||(nr={}));function aZ(e){return!o_||!e?!1:e===document.scrollingElement}function iZ(e){const t={x:0,y:0},n=aZ(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const tYe={x:.2,y:.2};function nYe(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=tYe);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=iZ(e),m={x:0,y:0},g={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+p.height?(m.y=nr.Backward,g.y=r*Math.abs((t.top+p.height-i)/p.height)):!d&&c>=t.bottom-p.height&&(m.y=nr.Forward,g.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!f&&l>=t.right-p.width?(m.x=nr.Forward,g.x=r*Math.abs((t.right-p.width-l)/p.width)):!h&&o<=t.left+p.width&&(m.x=nr.Backward,g.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:m,speed:g}}function rYe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function oZ(e){return e.reduce((t,n)=>Yd(t,f2(n)),di)}function sYe(e){return e.reduce((t,n)=>t+rZ(n),0)}function aYe(e){return e.reduce((t,n)=>t+sZ(n),0)}function lZ(e,t){if(t===void 0&&(t=Hf),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);nZ(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const iYe=[["x",["left","right"],sYe],["y",["top","bottom"],aYe]];class UO{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=BO(n),a=oZ(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of iYe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fp{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function oYe(e){const{EventTarget:t}=rs(e);return e instanceof t?e:Wf(e)}function FN(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var la;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(la||(la={}));function UF(e){e.preventDefault()}function lYe(e){e.stopPropagation()}var Rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Rt||(Rt={}));const cZ={start:[Rt.Space,Rt.Enter],cancel:[Rt.Esc],end:[Rt.Space,Rt.Enter,Rt.Tab]},cYe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Rt.Right:return{...n,x:n.x+25};case Rt.Left:return{...n,x:n.x-25};case Rt.Down:return{...n,y:n.y+25};case Rt.Up:return{...n,y:n.y-25}}};class uZ{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new fp(Wf(n)),this.windowListeners=new fp(rs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(la.Resize,this.handleCancel),this.windowListeners.add(la.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(la.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&lZ(r),n(di)}handleKeyDown(t){if(c_(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=cZ,coordinateGetter:o=cYe,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:di;this.referenceCoordinates||(this.referenceCoordinates=d);const h=o(t,{active:n,context:r.current,currentCoordinates:d});if(h){const f=U0(h,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const p of g){const x=t.code,{isTop:y,isRight:b,isLeft:j,isBottom:_,maxScroll:S,minScroll:N}=iZ(p),C=rYe(p),k={x:Math.min(x===Rt.Right?C.right-C.width/2:C.right,Math.max(x===Rt.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(x===Rt.Down?C.bottom-C.height/2:C.bottom,Math.max(x===Rt.Down?C.top:C.top+C.height/2,h.y))},D=x===Rt.Right&&!b||x===Rt.Left&&!j,I=x===Rt.Down&&!_||x===Rt.Up&&!y;if(D&&k.x!==h.x){const E=p.scrollLeft+f.x,L=x===Rt.Right&&E<=S.x||x===Rt.Left&&E>=N.x;if(L&&!f.y){p.scrollTo({left:E,behavior:l});return}L?m.x=p.scrollLeft-E:m.x=x===Rt.Right?p.scrollLeft-S.x:p.scrollLeft-N.x,m.x&&p.scrollBy({left:-m.x,behavior:l});break}else if(I&&k.y!==h.y){const E=p.scrollTop+f.y,L=x===Rt.Down&&E<=S.y||x===Rt.Up&&E>=N.y;if(L&&!f.x){p.scrollTo({top:E,behavior:l});return}L?m.y=p.scrollTop-E:m.y=x===Rt.Down?p.scrollTop-S.y:p.scrollTop-N.y,m.y&&p.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,Yd(U0(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uZ.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=cZ,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function zF(e){return!!(e&&"distance"in e)}function qF(e){return!!(e&&"delay"in e)}class zO{constructor(t,n,r){var a;r===void 0&&(r=oYe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=Wf(o),this.documentListeners=new fp(this.document),this.listeners=new fp(r),this.windowListeners=new fp(rs(o)),this.initialCoordinates=(a=z0(i))!=null?a:di,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(la.Resize,this.handleCancel),this.windowListeners.add(la.DragStart,UF),this.windowListeners.add(la.VisibilityChange,this.handleCancel),this.windowListeners.add(la.ContextMenu,UF),this.documentListeners.add(la.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qF(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(zF(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(la.Click,lYe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(la.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=z0(t))!=null?n:di,u=U0(a,c);if(!r&&l){if(zF(l)){if(l.tolerance!=null&&FN(u,l.tolerance))return this.handleCancel();if(FN(u,l.distance))return this.handleStart()}if(qF(l)&&FN(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Rt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const uYe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qO extends zO{constructor(t){const{event:n}=t,r=Wf(n.target);super(t,uYe,r)}}qO.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const dYe={move:{name:"mousemove"},end:{name:"mouseup"}};var m2;(function(e){e[e.RightClick=2]="RightClick"})(m2||(m2={}));class hYe extends zO{constructor(t){super(t,dYe,Wf(t.event.target))}}hYe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===m2.RightClick?!1:(r==null||r({event:n}),!0)}}];const BN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class fYe extends zO{constructor(t){super(t,BN)}static setup(){return window.addEventListener(BN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(BN.move.name,t)};function t(){}}}fYe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var mp;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(mp||(mp={}));var V0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(V0||(V0={}));function mYe(e){let{acceleration:t,activator:n=mp.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=V0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const m=gYe({delta:h,disabled:!i}),[g,p]=kKe(),x=v.useRef({x:0,y:0}),y=v.useRef({x:0,y:0}),b=v.useMemo(()=>{switch(n){case mp.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case mp.DraggableRect:return a}},[n,a,c]),j=v.useRef(null),_=v.useCallback(()=>{const N=j.current;if(!N)return;const C=x.current.x*y.current.x,k=x.current.y*y.current.y;N.scrollBy(C,k)},[]),S=v.useMemo(()=>l===V0.TreeOrder?[...u].reverse():u,[l,u]);v.useEffect(()=>{if(!i||!u.length||!b){p();return}for(const N of S){if((r==null?void 0:r(N))===!1)continue;const C=u.indexOf(N),k=d[C];if(!k)continue;const{direction:D,speed:I}=nYe(N,k,b,t,f);for(const E of["x","y"])m[E][D[E]]||(I[E]=0,D[E]=0);if(I.x>0||I.y>0){p(),j.current=N,g(_,o),x.current=I,y.current=D;return}}x.current={x:0,y:0},y.current={x:0,y:0},p()},[t,_,r,p,i,o,JSON.stringify(b),JSON.stringify(m),g,u,S,d,JSON.stringify(f)])}const pYe={x:{[nr.Backward]:!1,[nr.Forward]:!1},y:{[nr.Backward]:!1,[nr.Forward]:!1}};function gYe(e){let{delta:t,disabled:n}=e;const r=B0(t);return Vv(a=>{if(n||!r||!a)return pYe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[nr.Backward]:a.x[nr.Backward]||i.x===-1,[nr.Forward]:a.x[nr.Forward]||i.x===1},y:{[nr.Backward]:a.y[nr.Backward]||i.y===-1,[nr.Forward]:a.y[nr.Forward]||i.y===1}}},[n,t,r])}function vYe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Vv(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function xYe(e,t){return v.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var Ig;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ig||(Ig={}));var p2;(function(e){e.Optimized="optimized"})(p2||(p2={}));const VF=new Map;function yYe(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=v.useState(null),{frequency:l,measure:c,strategy:u}=a,d=v.useRef(e),h=x(),f=Dg(h),m=v.useCallback(function(y){y===void 0&&(y=[]),!f.current&&o(b=>b===null?y:b.concat(y.filter(j=>!b.includes(j))))},[f]),g=v.useRef(null),p=Vv(y=>{if(h&&!n)return VF;if(!y||y===VF||d.current!==e||i!=null){const b=new Map;for(let j of e){if(!j)continue;if(i&&i.length>0&&!i.includes(j.id)&&j.rect.current){b.set(j.id,j.rect.current);continue}const _=j.node.current,S=_?new UO(c(_),_):null;j.rect.current=S,S&&b.set(j.id,S)}return b}return y},[e,i,n,h,c]);return v.useEffect(()=>{d.current=e},[e]),v.useEffect(()=>{h||m()},[n,h]),v.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),v.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},l))},[l,h,m,...r]),{droppableRects:p,measureDroppableContainers:m,measuringScheduled:i!=null};function x(){switch(u){case Ig.Always:return!1;case Ig.BeforeDragging:return n;default:return!n}}}function VO(e,t){return Vv(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function bYe(e,t){return VO(e,t)}function wYe(e){let{callback:t,disabled:n}=e;const r=l_(t),a=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return v.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function u_(e){let{callback:t,disabled:n}=e;const r=l_(t),a=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return v.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function jYe(e){return new UO(Hf(e),e)}function WF(e,t,n){t===void 0&&(t=jYe);const[r,a]=v.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=wYe({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=u_({callback:i});return ui(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function _Ye(e){const t=VO(e);return eZ(e,t)}const HF=[];function NYe(e){const t=v.useRef(e),n=Vv(r=>e?r&&r!==HF&&e&&t.current&&e.parentNode===t.current.parentNode?r:BO(e):HF,[e]);return v.useEffect(()=>{t.current=e},[e]),n}function SYe(e){const[t,n]=v.useState(null),r=v.useRef(e),a=v.useCallback(i=>{const o=LN(i.target);o&&n(l=>l?(l.set(o,f2(o)),new Map(l)):null)},[]);return v.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const u=LN(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,f2(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=LN(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Yd(i,o),di):oZ(e):di,[e,t])}function GF(e,t){t===void 0&&(t=[]);const n=v.useRef(null);return v.useEffect(()=>{n.current=null},t),v.useEffect(()=>{const r=e!==di;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?U0(e,n.current):di}function CYe(e){v.useEffect(()=>{if(!o_)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function kYe(e,t){return v.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function dZ(e){return v.useMemo(()=>e?QKe(e):null,[e])}const KF=[];function EYe(e,t){t===void 0&&(t=Hf);const[n]=e,r=dZ(n?rs(n):null),[a,i]=v.useState(KF);function o(){i(()=>e.length?e.map(c=>aZ(c)?r:new UO(t(c),c)):KF)}const l=u_({callback:o});return ui(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function hZ(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qv(t)?t:e}function PYe(e){let{measure:t}=e;const[n,r]=v.useState(null),a=v.useCallback(u=>{for(const{target:d}of u)if(qv(d)){r(h=>{const f=t(d);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),i=u_({callback:a}),o=v.useCallback(u=>{const d=hZ(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[l,c]=F0(o);return v.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const AYe=[{sensor:qO,options:{}},{sensor:uZ,options:{}}],TYe={current:{}},$y={draggable:{measure:BF},droppable:{measure:BF,strategy:Ig.WhileDragging,frequency:p2.Optimized},dragOverlay:{measure:Hf}};class pp extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const OYe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:q0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$y,measureDroppableContainers:q0,windowRect:null,measuringScheduled:!1},fZ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:q0,draggableNodes:new Map,over:null,measureDroppableContainers:q0},Hv=v.createContext(fZ),mZ=v.createContext(OYe);function MYe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pp}}}function DYe(e,t){switch(t.type){case Vn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Vn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Vn.DragEnd:case Vn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vn.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new pp(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case Vn.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new pp(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Vn.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new pp(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function IYe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=v.useContext(Hv),i=B0(r),o=B0(n==null?void 0:n.id);return v.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!c_(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=AKe(d);if(h){h.focus();break}}})}},[r,t,a,o,i]),null}function pZ(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function $Ye(e){return v.useMemo(()=>({draggable:{...$y.draggable,...e==null?void 0:e.draggable},droppable:{...$y.droppable,...e==null?void 0:e.droppable},dragOverlay:{...$y.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function RYe(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=v.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;ui(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=eZ(d,r);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=nZ(u);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,l,r,n])}const d_=v.createContext({...di,scaleX:1,scaleY:1});var ol;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ol||(ol={}));const LYe=v.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=AYe,collisionDetection:h=HKe,measuring:f,modifiers:m,...g}=t;const p=v.useReducer(DYe,void 0,MYe),[x,y]=p,[b,j]=$Ke(),[_,S]=v.useState(ol.Uninitialized),N=_===ol.Initialized,{draggable:{active:C,nodes:k,translate:D},droppable:{containers:I}}=x,E=C!=null?k.get(C):null,L=v.useRef({initial:null,translated:null}),U=v.useMemo(()=>{var en;return C!=null?{id:C,data:(en=E==null?void 0:E.data)!=null?en:TYe,rect:L}:null},[C,E]),F=v.useRef(null),[$,M]=v.useState(null),[O,R]=v.useState(null),B=Dg(g,Object.values(g)),T=Wv("DndDescribedBy",o),G=v.useMemo(()=>I.getEnabled(),[I]),W=$Ye(f),{droppableRects:w,measureDroppableContainers:A,measuringScheduled:P}=yYe(G,{dragging:N,dependencies:[D.x,D.y],config:W.droppable}),z=vYe(k,C),q=v.useMemo(()=>O?z0(O):null,[O]),te=ta(),X=bYe(z,W.draggable.measure);RYe({activeNode:C!=null?k.get(C):null,config:te.layoutShiftCompensation,initialRect:X,measure:W.draggable.measure});const V=WF(z,W.draggable.measure,X),se=WF(z?z.parentElement:null),ee=v.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:w,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ge=I.getNodeFor((n=ee.current.over)==null?void 0:n.id),Se=PYe({measure:W.dragOverlay.measure}),ze=(r=Se.nodeRef.current)!=null?r:z,We=N?(a=Se.rect)!=null?a:V:null,Le=!!(Se.nodeRef.current&&Se.rect),Je=_Ye(Le?null:V),Ye=dZ(ze?rs(ze):null),ct=NYe(N?ge??z:null),he=EYe(ct),pe=pZ(m,{transform:{x:D.x-Je.x,y:D.y-Je.y,scaleX:1,scaleY:1},activatorEvent:O,active:U,activeNodeRect:V,containerNodeRect:se,draggingNodeRect:We,over:ee.current.over,overlayNodeRect:Se.rect,scrollableAncestors:ct,scrollableAncestorRects:he,windowRect:Ye}),ae=q?Yd(q,D):null,Ne=SYe(ct),tt=GF(Ne),ue=GF(Ne,[V]),ve=Yd(pe,tt),Oe=We?YKe(We,pe):null,Fe=U&&Oe?h({active:U,collisionRect:Oe,droppableRects:w,droppableContainers:G,pointerCoordinates:ae}):null,nt=VKe(Fe,"id"),[sn,Ge]=v.useState(null),rt=Le?pe:Yd(pe,ue),Tt=GKe(rt,(i=sn==null?void 0:sn.rect)!=null?i:null,V),Zt=v.useRef(null),ce=v.useCallback((en,Qn)=>{let{sensor:Lr,options:Fo}=Qn;if(F.current==null)return;const na=k.get(F.current);if(!na)return;const Es=en.nativeEvent,xi=new Lr({active:F.current,activeNode:na,event:Es,options:Fo,context:ee,onAbort(ur){if(!k.get(ur))return;const{onDragAbort:yi}=B.current,Ki={id:ur};yi==null||yi(Ki),b({type:"onDragAbort",event:Ki})},onPending(ur,Bo,yi,Ki){if(!k.get(ur))return;const{onDragPending:Kf}=B.current,Uo={id:ur,constraint:Bo,initialCoordinates:yi,offset:Ki};Kf==null||Kf(Uo),b({type:"onDragPending",event:Uo})},onStart(ur){const Bo=F.current;if(Bo==null)return;const yi=k.get(Bo);if(!yi)return;const{onDragStart:Ki}=B.current,Gf={activatorEvent:Es,active:{id:Bo,data:yi.data,rect:L}};us.unstable_batchedUpdates(()=>{Ki==null||Ki(Gf),S(ol.Initializing),y({type:Vn.DragStart,initialCoordinates:ur,active:Bo}),b({type:"onDragStart",event:Gf}),M(Zt.current),R(Es)})},onMove(ur){y({type:Vn.DragMove,coordinates:ur})},onEnd:Bu(Vn.DragEnd),onCancel:Bu(Vn.DragCancel)});Zt.current=xi;function Bu(ur){return async function(){const{active:yi,collisions:Ki,over:Gf,scrollAdjustedTranslate:Kf}=ee.current;let Uo=null;if(yi&&Kf){const{cancelDrop:Yf}=B.current;Uo={activatorEvent:Es,active:yi,collisions:Ki,delta:Kf,over:Gf},ur===Vn.DragEnd&&typeof Yf=="function"&&await Promise.resolve(Yf(Uo))&&(ur=Vn.DragCancel)}F.current=null,us.unstable_batchedUpdates(()=>{y({type:ur}),S(ol.Uninitialized),Ge(null),M(null),R(null),Zt.current=null;const Yf=ur===Vn.DragEnd?"onDragEnd":"onDragCancel";if(Uo){const h_=B.current[Yf];h_==null||h_(Uo),b({type:Yf,event:Uo})}})}}},[k]),Ee=v.useCallback((en,Qn)=>(Lr,Fo)=>{const na=Lr.nativeEvent,Es=k.get(Fo);if(F.current!==null||!Es||na.dndKit||na.defaultPrevented)return;const xi={active:Es};en(Lr,Qn.options,xi)===!0&&(na.dndKit={capturedBy:Qn.sensor},F.current=Fo,ce(Lr,Qn))},[k,ce]),be=xYe(d,Ee);CYe(d),ui(()=>{V&&_===ol.Initializing&&S(ol.Initialized)},[V,_]),v.useEffect(()=>{const{onDragMove:en}=B.current,{active:Qn,activatorEvent:Lr,collisions:Fo,over:na}=ee.current;if(!Qn||!Lr)return;const Es={active:Qn,activatorEvent:Lr,collisions:Fo,delta:{x:ve.x,y:ve.y},over:na};us.unstable_batchedUpdates(()=>{en==null||en(Es),b({type:"onDragMove",event:Es})})},[ve.x,ve.y]),v.useEffect(()=>{const{active:en,activatorEvent:Qn,collisions:Lr,droppableContainers:Fo,scrollAdjustedTranslate:na}=ee.current;if(!en||F.current==null||!Qn||!na)return;const{onDragOver:Es}=B.current,xi=Fo.get(nt),Bu=xi&&xi.rect.current?{id:xi.id,rect:xi.rect.current,data:xi.data,disabled:xi.disabled}:null,ur={active:en,activatorEvent:Qn,collisions:Lr,delta:{x:na.x,y:na.y},over:Bu};us.unstable_batchedUpdates(()=>{Ge(Bu),Es==null||Es(ur),b({type:"onDragOver",event:ur})})},[nt]),ui(()=>{ee.current={activatorEvent:O,active:U,activeNode:z,collisionRect:Oe,collisions:Fe,droppableRects:w,draggableNodes:k,draggingNode:ze,draggingNodeRect:We,droppableContainers:I,over:sn,scrollableAncestors:ct,scrollAdjustedTranslate:ve},L.current={initial:We,translated:Oe}},[U,z,Fe,Oe,k,ze,We,w,I,sn,ct,ve]),mYe({...te,delta:D,draggingRect:Oe,pointerCoordinates:ae,scrollableAncestors:ct,scrollableAncestorRects:he});const Qe=v.useMemo(()=>({active:U,activeNode:z,activeNodeRect:V,activatorEvent:O,collisions:Fe,containerNodeRect:se,dragOverlay:Se,draggableNodes:k,droppableContainers:I,droppableRects:w,over:sn,measureDroppableContainers:A,scrollableAncestors:ct,scrollableAncestorRects:he,measuringConfiguration:W,measuringScheduled:P,windowRect:Ye}),[U,z,V,O,Fe,se,Se,k,I,w,sn,A,ct,he,W,P,Ye]),ut=v.useMemo(()=>({activatorEvent:O,activators:be,active:U,activeNodeRect:V,ariaDescribedById:{draggable:T},dispatch:y,draggableNodes:k,over:sn,measureDroppableContainers:A}),[O,be,U,V,y,T,k,sn,A]);return K.createElement(ZQ.Provider,{value:j},K.createElement(Hv.Provider,{value:ut},K.createElement(mZ.Provider,{value:Qe},K.createElement(d_.Provider,{value:Tt},u)),K.createElement(IYe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),K.createElement(FKe,{...l,hiddenTextDescribedById:T}));function ta(){const en=($==null?void 0:$.autoScrollEnabled)===!1,Qn=typeof c=="object"?c.enabled===!1:c===!1,Lr=N&&!en&&!Qn;return typeof c=="object"?{...c,enabled:Lr}:{enabled:Lr}}}),FYe=v.createContext(null),YF="button",BYe="Draggable";function UYe(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=Wv(BYe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=v.useContext(Hv),{role:m=YF,roleDescription:g="draggable",tabIndex:p=0}=a??{},x=(c==null?void 0:c.id)===t,y=v.useContext(x?d_:FYe),[b,j]=F0(),[_,S]=F0(),N=kYe(o,t),C=Dg(n);ui(()=>(h.set(t,{id:t,key:i,node:b,activatorNode:_,data:C}),()=>{const D=h.get(t);D&&D.key===i&&h.delete(t)}),[h,t]);const k=v.useMemo(()=>({role:m,tabIndex:p,"aria-disabled":r,"aria-pressed":x&&m===YF?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,p,x,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:k,isDragging:x,listeners:r?void 0:N,node:b,over:f,setNodeRef:j,setActivatorNodeRef:S,transform:y}}function gZ(){return v.useContext(mZ)}const zYe="Droppable",qYe={timeout:25};function vZ(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=Wv(zYe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=v.useContext(Hv),d=v.useRef({disabled:n}),h=v.useRef(!1),f=v.useRef(null),m=v.useRef(null),{disabled:g,updateMeasurementsFor:p,timeout:x}={...qYe,...a},y=Dg(p??r),b=v.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),m.current=null},x)},[x]),j=u_({callback:b,disabled:g||!o}),_=v.useCallback((k,D)=>{j&&(D&&(j.unobserve(D),h.current=!1),k&&j.observe(k))},[j]),[S,N]=F0(_),C=Dg(t);return v.useEffect(()=>{!j||!S.current||(j.disconnect(),h.current=!1,j.observe(S.current))},[S,j]),v.useEffect(()=>(l({type:Vn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:S,rect:f,data:C}}),()=>l({type:Vn.UnregisterDroppable,key:i,id:r})),[r]),v.useEffect(()=>{n!==d.current.disabled&&(l({type:Vn.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===r,node:S,over:c,setNodeRef:N}}function VYe(e){let{animation:t,children:n}=e;const[r,a]=v.useState(null),[i,o]=v.useState(null),l=B0(n);return!n&&!r&&l&&a(l),ui(()=>{if(!i)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,r,i]),K.createElement(K.Fragment,null,n,r?v.cloneElement(r,{ref:o}):null)}const WYe={x:0,y:0,scaleX:1,scaleY:1};function HYe(e){let{children:t}=e;return K.createElement(Hv.Provider,{value:fZ},K.createElement(d_.Provider,{value:WYe},t))}const GYe={position:"fixed",touchAction:"none"},KYe=e=>c_(e)?"transform 250ms ease":void 0,YYe=v.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:d=KYe}=e;if(!l)return null;const h=a?u:{...u,scaleX:1,scaleY:1},f={...GYe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Yl.Transform.toString(h),transformOrigin:a&&r?zKe(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return K.createElement(n,{className:o,style:f,ref:t},i)}),JYe=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},XYe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Yl.Transform.toString(t)},{transform:Yl.Transform.toString(n)}]},QYe={duration:250,easing:"ease",keyframes:XYe,sideEffects:JYe({styles:{active:{opacity:"0"}}})};function ZYe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return l_((i,o)=>{if(t===null)return;const l=n.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=hZ(o);if(!u)return;const{transform:d}=rs(o).getComputedStyle(o),h=tZ(d);if(!h)return;const f=typeof t=="function"?t:eJe(t);return lZ(c,a.draggable.measure),f({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:a,transform:h})})}function eJe(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...QYe,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},f={x:c.x-d.x,y:c.y-d.y,...h},m=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:f}}),[g]=m,p=m[m.length-1];if(JSON.stringify(g)===JSON.stringify(p))return;const x=r==null?void 0:r({active:o,dragOverlay:l,...u}),y=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(b=>{y.onfinish=()=>{x==null||x(),b()}})}}let JF=0;function tJe(e){return v.useMemo(()=>{if(e!=null)return JF++,JF},[e])}const nJe=K.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggableNodes:g,droppableContainers:p,dragOverlay:x,over:y,measuringConfiguration:b,scrollableAncestors:j,scrollableAncestorRects:_,windowRect:S}=gZ(),N=v.useContext(d_),C=tJe(h==null?void 0:h.id),k=pZ(o,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:x.rect,over:y,overlayNodeRect:x.rect,scrollableAncestors:j,scrollableAncestorRects:_,transform:N,windowRect:S}),D=VO(f),I=ZYe({config:r,draggableNodes:g,droppableContainers:p,measuringConfiguration:b}),E=D?x.setRef:void 0;return K.createElement(HYe,null,K.createElement(VYe,{animation:I},h&&C?K.createElement(YYe,{key:C,id:h.id,ref:E,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:D,style:{zIndex:u,...a},transform:k},n):null))});function xZ(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function rJe(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function ay(e){return e!==null&&e>=0}function sJe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function aJe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const yZ=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=xZ(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},iy={scaleX:1,scaleY:1},iJe=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const u=i[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...iy}:null}const c=oJe(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...iy}:a<n&&a>=o?{x:0,y:l.height+c,...iy}:{x:0,y:0,...iy}};function oJe(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const bZ="Sortable",wZ=K.createContext({activeIndex:-1,containerId:bZ,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yZ,disabled:{draggable:!1,droppable:!1}});function lJe(e){let{children:t,id:n,items:r,strategy:a=yZ,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=gZ(),h=Wv(bZ,n),f=l.rect!==null,m=v.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),g=o!=null,p=o?m.indexOf(o.id):-1,x=u?m.indexOf(u.id):-1,y=v.useRef(m),b=!sJe(m,y.current),j=x!==-1&&p===-1||b,_=aJe(i);ui(()=>{b&&g&&d(m)},[b,m,g,d]),v.useEffect(()=>{y.current=m},[m]);const S=v.useMemo(()=>({activeIndex:p,containerId:h,disabled:_,disableTransforms:j,items:m,overIndex:x,useDragOverlay:f,sortedRects:rJe(m,c),strategy:a}),[p,h,_.draggable,_.droppable,j,m,x,c,f,a]);return K.createElement(wZ.Provider,{value:S},t)}const cJe=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return xZ(n,r,a).indexOf(t)},uJe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},dJe={duration:200,easing:"ease"},jZ="transform",hJe=Yl.Transition.toString({property:jZ,duration:0,easing:"linear"}),fJe={roleDescription:"sortable"};function mJe(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=v.useState(null),l=v.useRef(n);return ui(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const u=Hf(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,r,a]),v.useEffect(()=>{i&&o(null)},[i]),i}function pJe(e){let{animateLayoutChanges:t=uJe,attributes:n,disabled:r,data:a,getNewIndex:i=cJe,id:o,strategy:l,resizeObserverConfig:c,transition:u=dJe}=e;const{items:d,containerId:h,activeIndex:f,disabled:m,disableTransforms:g,sortedRects:p,overIndex:x,useDragOverlay:y,strategy:b}=v.useContext(wZ),j=gJe(r,m),_=d.indexOf(o),S=v.useMemo(()=>({sortable:{containerId:h,index:_,items:d},...a}),[h,a,_,d]),N=v.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:k,isOver:D,setNodeRef:I}=vZ({id:o,data:S,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:E,activatorEvent:L,activeNodeRect:U,attributes:F,setNodeRef:$,listeners:M,isDragging:O,over:R,setActivatorNodeRef:B,transform:T}=UYe({id:o,data:S,attributes:{...fJe,...n},disabled:j.draggable}),G=CKe(I,$),W=!!E,w=W&&!g&&ay(f)&&ay(x),A=!y&&O,P=A&&w?T:null,q=w?P??(l??b)({rects:p,activeNodeRect:U,activeIndex:f,overIndex:x,index:_}):null,te=ay(f)&&ay(x)?i({id:o,items:d,activeIndex:f,overIndex:x}):_,X=E==null?void 0:E.id,V=v.useRef({activeId:X,items:d,newIndex:te,containerId:h}),se=d!==V.current.items,ee=t({active:E,containerId:h,isDragging:O,isSorting:W,id:o,index:_,items:d,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:u,wasDragging:V.current.activeId!=null}),ge=mJe({disabled:!ee,index:_,node:k,rect:C});return v.useEffect(()=>{W&&V.current.newIndex!==te&&(V.current.newIndex=te),h!==V.current.containerId&&(V.current.containerId=h),d!==V.current.items&&(V.current.items=d)},[W,te,h,d]),v.useEffect(()=>{if(X===V.current.activeId)return;if(X!=null&&V.current.activeId==null){V.current.activeId=X;return}const ze=setTimeout(()=>{V.current.activeId=X},50);return()=>clearTimeout(ze)},[X]),{active:E,activeIndex:f,attributes:F,data:S,rect:C,index:_,newIndex:te,items:d,isOver:D,isSorting:W,isDragging:O,listeners:M,node:k,overIndex:x,over:R,setNodeRef:G,setActivatorNodeRef:B,setDroppableNodeRef:I,setDraggableNodeRef:$,transform:ge??q,transition:Se()};function Se(){if(ge||se&&V.current.newIndex===_)return hJe;if(!(A&&!c_(L)||!u)&&(W||ee))return Yl.Transition.toString({...u,property:jZ})}}function gJe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Rt.Down,Rt.Right,Rt.Up,Rt.Left;const vJe={urgent:"bg-red-500",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-green-500"};function XF({task:e,assistantName:t,orgName:n,onUpdate:r,onDelete:a,isDragging:i=!1}){const[o,l]=v.useState(!1),[c,u]=v.useState(e.title),[d,h]=v.useState(e.description||""),[f,m]=v.useState(e.priority),[g,p]=v.useState(e.due_date||""),[x,y]=v.useState(!1),{attributes:b,listeners:j,setNodeRef:_,transform:S,transition:N,isDragging:C}=pJe({id:e.id}),k={transform:Yl.Transform.toString(S),transition:N},D=async()=>{y(!0);try{const{error:E}=await J.from("voice_assistant_tasks").update({title:c,description:d,priority:f,due_date:g||null}).eq("id",e.id);if(E)throw E;r({...e,title:c,description:d,priority:f,due_date:g||null}),_e.success("Task updated"),l(!1)}catch(E){console.error("Error updating task:",E),_e.error("Failed to update task")}finally{y(!1)}},I=async()=>{if(confirm("Are you sure you want to delete this task?"))try{const{error:E}=await J.from("voice_assistant_tasks").delete().eq("id",e.id);if(E)throw E;a(e.id),_e.success("Task deleted")}catch(E){console.error("Error deleting task:",E),_e.error("Failed to delete task")}};return s.jsxs(s.Fragment,{children:[s.jsx(H,{ref:_,style:k,className:me("cursor-grab active:cursor-grabbing transition-all hover:shadow-md",(i||C)&&"opacity-50 shadow-lg"),children:s.jsxs(Y,{className:"p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{...b,...j,className:"mt-1 cursor-grab active:cursor-grabbing",children:s.jsx(ire,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:e.title}),e.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>l(!0),children:s.jsx(tU,{className:"h-3 w-3"})}),s.jsx(Z,{size:"icon",variant:"ghost",className:"h-6 w-6 text-destructive",onClick:I,children:s.jsx(hn,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:me("w-2 h-2 rounded-full",vJe[e.priority])}),s.jsx("span",{className:"text-xs capitalize",children:e.priority})]}),e.due_date&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(e.due_date),"MMM d")]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:t}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:n})]})]})}),s.jsx(or,{open:o,onOpenChange:l,children:s.jsxs(Kn,{children:[s.jsx(Yn,{children:s.jsx(Jn,{children:"Edit Task"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Title"}),s.jsx(le,{value:c,onChange:E=>u(E.target.value),placeholder:"Task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Description"}),s.jsx(bt,{value:d,onChange:E=>h(E.target.value),placeholder:"Task description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Priority"}),s.jsxs(qe,{value:f,onValueChange:m,children:[s.jsx(Be,{children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"low",children:"Low"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Due Date"}),s.jsx(le,{type:"date",value:g,onChange:E=>p(E.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Z,{onClick:D,disabled:x,children:x?"Saving...":"Save Changes"})]})]})]})})]})}function xJe({id:e,title:t,color:n,count:r,children:a,isDragging:i}){const{setNodeRef:o,isOver:l}=vZ({id:e});return s.jsxs("div",{ref:o,className:me("flex flex-col rounded-lg border-2 border-dashed transition-all",n,l&&"ring-2 ring-primary ring-offset-2",i&&"bg-muted/50"),children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:t}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground bg-background px-2 py-1 rounded-full",children:r})]})}),s.jsxs("div",{className:"flex-1 p-2 space-y-2 min-h-[400px] overflow-y-auto",children:[a,r===0&&s.jsx("div",{className:"flex items-center justify-center h-32 text-sm text-muted-foreground",children:"No tasks"})]})]})}const UN=[{id:"pending",title:"Pending",color:"bg-yellow-500/10 border-yellow-500/20"},{id:"in_progress",title:"In Progress",color:"bg-blue-500/10 border-blue-500/20"},{id:"completed",title:"Completed",color:"bg-green-500/10 border-green-500/20"},{id:"cancelled",title:"Cancelled",color:"bg-gray-500/10 border-gray-500/20"}];function yJe({tasks:e,getAssistantName:t,getOrgName:n,onTaskUpdated:r,onTaskDeleted:a}){const[i,o]=v.useState(null),[l,c]=v.useState(!1),u=UKe(BKe(qO,{activationConstraint:{distance:8}})),d=UN.reduce((m,g)=>(m[g.id]=e.filter(p=>p.status===g.id),m),{}),h=m=>{const g=e.find(p=>p.id===m.active.id);g&&(o(g),c(!0))},f=async m=>{const{active:g,over:p}=m;if(o(null),c(!1),!p)return;const x=g.id,y=p.id;if(!UN.find(_=>_.id===y))return;const b=e.find(_=>_.id===x);if(!b||b.status===y)return;const j={...b,status:y};r(j);try{const{error:_}=await J.from("voice_assistant_tasks").update({status:y}).eq("id",x);_?(_e.error("Failed to update task status"),r(b)):_e.success("Task status updated")}catch(_){console.error("Error updating task:",_),_e.error("Failed to update task status"),r(b)}};return s.jsxs(LYe,{sensors:u,onDragStart:h,onDragEnd:f,children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:UN.map(m=>{var g,p,x;return s.jsx(xJe,{id:m.id,title:m.title,color:m.color,count:((g=d[m.id])==null?void 0:g.length)||0,isDragging:l,children:s.jsx(lJe,{items:((p=d[m.id])==null?void 0:p.map(y=>y.id))||[],strategy:iJe,children:(x=d[m.id])==null?void 0:x.map(y=>s.jsx(XF,{task:y,assistantName:t(y.assistant_id),orgName:n(y.org_id),onUpdate:r,onDelete:a},y.id))})},m.id)})}),s.jsx(nJe,{children:i?s.jsx("div",{className:"opacity-50",children:s.jsx(XF,{task:i,assistantName:t(i.assistant_id),orgName:n(i.org_id),onUpdate:r,onDelete:a,isDragging:!0})}):null})]})}const bJe=()=>{var R;const{user:e}=Ht(),[t,n]=v.useState([]),[r,a]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(""),[h,f]=v.useState("all"),[m,g]=v.useState("all"),[p,x]=v.useState("all"),[y,b]=v.useState("created_at"),[j,_]=v.useState(""),[S,N]=v.useState(!1),[C,k]=v.useState("kanban");v.useEffect(()=>{e&&D()},[e]);const D=async()=>{c(!0);try{const{data:B}=await J.from("voice_connections").select("*").eq("user_id",e==null?void 0:e.id);o(B||[]);const{data:T}=await J.from("voice_assistants").select("id, name, org_id").eq("user_id",e==null?void 0:e.id);a(T||[]),T&&T.length>0&&!j&&_(T[0].id);const{data:G,error:W}=await J.from("voice_assistant_tasks").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(W)throw W;n(G||[])}catch(B){console.error("Error fetching data:",B),_e.error("Failed to load tasks")}finally{c(!1)}},I=B=>{n(T=>[B,...T])},E=B=>{n(T=>T.map(G=>G.id===B.id?B:G))},L=B=>{n(T=>T.filter(G=>G.id!==B))},U=B=>{const T=r.find(G=>G.id===B);return(T==null?void 0:T.name)||"Unknown Assistant"},F=B=>{if(!B)return"No Organization";const T=i.find(G=>G.org_id===B);return(T==null?void 0:T.org_name)||B},$=r.find(B=>B.id===j),M=t.filter(B=>{var z;const T=U(B.assistant_id).toLowerCase(),G=u.toLowerCase(),W=B.title.toLowerCase().includes(G)||(((z=B.description)==null?void 0:z.toLowerCase().includes(G))??!1)||T.includes(G),w=h==="all"||B.status===h,A=m==="all"||B.priority===m,P=p==="all"||B.org_id===p;return W&&w&&A&&P}).sort((B,T)=>{switch(y){case"due_date":return!B.due_date&&!T.due_date?0:B.due_date?T.due_date?new Date(B.due_date).getTime()-new Date(T.due_date).getTime():-1:1;case"priority":const G={urgent:0,high:1,medium:2,low:3};return(G[B.priority]||2)-(G[T.priority]||2);case"created_at":default:return new Date(T.created_at).getTime()-new Date(B.created_at).getTime()}}),O={total:t.length,pending:t.filter(B=>B.status==="pending").length,inProgress:t.filter(B=>B.status==="in_progress").length,completed:t.filter(B=>B.status==="completed").length,overdue:t.filter(B=>B.due_date&&new Date(B.due_date)<new Date&&B.status!=="completed").length};return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(ps,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Task Manager"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage tasks for your voice assistants across all organizations"})]}),s.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",children:[s.jsxs(Z,{variant:C==="kanban"?"default":"ghost",size:"sm",onClick:()=>k("kanban"),className:"gap-2",children:[s.jsx(cre,{className:"h-4 w-4"}),"Board"]}),s.jsxs(Z,{variant:C==="list"?"default":"ghost",size:"sm",onClick:()=>k("list"),className:"gap-2",children:[s.jsx(ure,{className:"h-4 w-4"}),"List"]})]})]}),s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(FX,{open:S,onOpenChange:N,children:[s.jsx(BX,{asChild:!0,children:s.jsxs(Z,{variant:"outline",role:"combobox","aria-expanded":S,className:"w-[250px] justify-between",children:[s.jsx("span",{className:"truncate",children:j?((R=r.find(B=>B.id===j))==null?void 0:R.name)||"Unnamed Assistant":"Select assistant..."}),s.jsx(Xne,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(kO,{className:"w-[250px] p-0 bg-popover z-50",align:"start",children:s.jsxs(lQ,{children:[s.jsx(cQ,{placeholder:"Search assistant..."}),s.jsxs(uQ,{children:[s.jsx(dQ,{children:"No assistant found."}),s.jsx(hQ,{children:r.map(B=>s.jsxs(fQ,{value:B.name||"Unnamed Assistant",onSelect:()=>{_(B.id),N(!1)},className:"flex items-center gap-2",children:[s.jsx(Gg,{className:me("h-4 w-4 shrink-0",j===B.id?"opacity-100":"opacity-0")}),s.jsx("span",{className:"truncate",children:B.name||"Unnamed Assistant"})]},B.id))})]})]})})]}),s.jsx("div",{className:"flex-1",children:s.jsx(_Y,{assistantId:j,assistantName:($==null?void 0:$.name)||"Assistant",orgId:$==null?void 0:$.org_id,onTaskCreated:I,placeholder:"Type a task and press Enter..."})})]})})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(US,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:O.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Tasks"})]})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-4 w-4 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:O.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ps,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:O.inProgress}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:O.completed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ei,{className:"h-4 w-4 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:O.overdue}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overdue"})]})]})})})]}),C==="list"&&s.jsx(H,{children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx(SKe,{searchQuery:u,onSearchChange:d,assistants:r,connections:i}),s.jsxs(qe,{value:h,onValueChange:f,children:[s.jsx(Be,{className:"w-full md:w-[150px]",children:s.jsx(Ve,{placeholder:"Status"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Status"}),s.jsx(oe,{value:"pending",children:"Pending"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"completed",children:"Completed"}),s.jsx(oe,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(qe,{value:m,onValueChange:g,children:[s.jsx(Be,{className:"w-full md:w-[150px]",children:s.jsx(Ve,{placeholder:"Priority"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Priority"}),s.jsx(oe,{value:"urgent",children:"Urgent"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"low",children:"Low"})]})]}),s.jsxs(qe,{value:p,onValueChange:x,children:[s.jsx(Be,{className:"w-full md:w-[180px]",children:s.jsx(Ve,{placeholder:"Organization"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Organizations"}),i.filter(B=>B.org_id).map(B=>s.jsx(oe,{value:B.org_id,children:B.org_name||B.org_id||"Unknown"},B.id))]})]}),s.jsxs(qe,{value:y,onValueChange:b,children:[s.jsx(Be,{className:"w-full md:w-[150px]",children:s.jsx(Ve,{placeholder:"Sort by"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"created_at",children:"Newest First"}),s.jsx(oe,{value:"due_date",children:"Due Date"}),s.jsx(oe,{value:"priority",children:"Priority"})]})]})]})})}),C==="kanban"?s.jsx(yJe,{tasks:M,getAssistantName:U,getOrgName:F,onTaskUpdated:E,onTaskDeleted:L}):s.jsx("div",{className:"space-y-4",children:M.length===0?s.jsx(H,{children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(US,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tasks found"}),s.jsx("p",{className:"text-muted-foreground text-center",children:t.length===0?"Use the quick add above to create your first task":"No tasks match your current filters"})]})}):M.map(B=>s.jsx(NKe,{task:B,assistantName:U(B.assistant_id),orgName:F(B.org_id),onUpdate:E,onDelete:L},B.id))})]})};function wJe(){const{user:e,loading:t}=Ht(),[n,r]=v.useState([]),[a,i]=v.useState(!0),[o,l]=v.useState(""),[c,u]=v.useState("all"),[d,h]=v.useState("all"),[f,m]=v.useState(null),[g,p]=v.useState(""),[x,y]=v.useState(!1),b=async()=>{if(e)try{i(!0);const{data:E,error:L}=await J.from("support_tickets").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(L){console.error("Error fetching tickets:",L),_e.error("Failed to load support tickets");return}const U=await Promise.all((E||[]).map(async F=>{const{data:$}=await J.from("support_ticket_messages").select("*").eq("ticket_id",F.id).order("created_at",{ascending:!0});return{...F,messages:($||[]).map(M=>({id:M.id,content:M.content,sender_type:M.sender_type,sender_name:M.sender_name,created_at:M.created_at}))}}));r(U),console.log("Fetched tickets:",U)}catch(E){console.error("Error:",E),_e.error("Failed to load support tickets")}finally{i(!1)}};if(v.useEffect(()=>{if(e){b();const E=J.channel("support-tickets-changes").on("postgres_changes",{event:"*",schema:"public",table:"support_tickets",filter:`user_id=eq.${e.id}`},()=>{b()}).subscribe();return()=>{J.removeChannel(E)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(xa,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(Ks,{to:"/auth",replace:!0});const j=E=>{switch(E){case"open":return s.jsx(ei,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(It,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(ti,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(ti,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(ei,{className:"h-4 w-4"})}},_=E=>{const L={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(Pe,{variant:L[E]||"default",className:"capitalize",children:E.replace("_"," ")})},S=E=>{const L={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(Pe,{className:`${L[E]||""} capitalize`,variant:"outline",children:E})},N=n.filter(E=>{const L=E.subject.toLowerCase().includes(o.toLowerCase())||E.customer_name.toLowerCase().includes(o.toLowerCase())||E.customer_email.toLowerCase().includes(o.toLowerCase()),U=c==="all"||E.status===c,F=d==="all"||E.priority===d;return L&&U&&F}),C=async(E,L)=>{const{error:U}=await J.from("support_tickets").update({status:L}).eq("id",E);if(U){_e.error("Failed to update status");return}r(F=>F.map($=>$.id===E?{...$,status:L,updated_at:new Date().toISOString()}:$)),(f==null?void 0:f.id)===E&&m(F=>F?{...F,status:L}:null),_e.success("Ticket status updated")},k=async()=>{if(!(!g.trim()||!f)){y(!0);try{const{data:E,error:L}=await J.from("support_ticket_messages").insert({ticket_id:f.id,content:g,sender_type:"agent",sender_name:"Support Team"}).select().single();if(L){_e.error("Failed to send reply");return}const U={id:E.id,content:E.content,sender_type:E.sender_type,sender_name:E.sender_name,created_at:E.created_at};r(F=>F.map($=>$.id===f.id?{...$,messages:[...$.messages,U],updated_at:new Date().toISOString()}:$)),m(F=>F?{...F,messages:[...F.messages,U]}:null),p(""),_e.success("Reply sent successfully");try{await i5e({ticket_id:f.id,ticket_subject:f.subject,customer_email:f.customer_email,customer_name:f.customer_name,reply_content:g,agent_name:"Support Team"}),console.log("Email notification sent to customer")}catch(F){console.error("Failed to send email notification:",F)}}finally{y(!1)}}},D=n.filter(E=>E.status==="open").length,I=n.filter(E=>E.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage support requests from the customer portal"})]}),s.jsxs(Z,{variant:"outline",onClick:b,disabled:a,children:[s.jsx(xa,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(ma,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D})]}),s.jsx(ei,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I})]}),s.jsx(It,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(E=>E.status==="resolved"||E.status==="closed").length})]}),s.jsx(ti,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search tickets...",value:o,onChange:E=>l(E.target.value),className:"pl-10"})]}),s.jsxs(qe,{value:c,onValueChange:u,children:[s.jsx(Be,{className:"w-full md:w-40",children:s.jsx(Ve,{placeholder:"Status"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Status"}),s.jsx(oe,{value:"open",children:"Open"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"resolved",children:"Resolved"}),s.jsx(oe,{value:"closed",children:"Closed"})]})]}),s.jsxs(qe,{value:d,onValueChange:h,children:[s.jsx(Be,{className:"w-full md:w-40",children:s.jsx(Ve,{placeholder:"Priority"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Priority"}),s.jsx(oe,{value:"urgent",children:"Urgent"}),s.jsx(oe,{value:"high",children:"High"}),s.jsx(oe,{value:"medium",children:"Medium"}),s.jsx(oe,{value:"low",children:"Low"})]})]})]})})}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsxs(re,{children:["Tickets (",N.length,")"]}),s.jsx(ye,{children:"Click on a ticket to view details and respond"})]}),s.jsx(Y,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(xa,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):N.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ma,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets found"}),s.jsx("p",{className:"text-muted-foreground",children:o||c!=="all"||d!=="all"?"Try adjusting your filters":"Support tickets from customers will appear here"})]}):s.jsx("div",{className:"space-y-3",children:N.map(E=>s.jsx("div",{onClick:()=>m(E),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j(E.status),s.jsx("h4",{className:"font-medium truncate",children:E.subject})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:E.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Gs,{className:"h-3 w-3"}),E.customer_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(E.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sn,{className:"h-3 w-3"}),E.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[_(E.status),S(E.priority)]})]})},E.id))})})]}),s.jsx(or,{open:!!f,onOpenChange:E=>!E&&m(null),children:s.jsx(Kn,{className:"max-w-2xl max-h-[90vh]",children:f&&s.jsxs(s.Fragment,{children:[s.jsx(Yn,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Jn,{children:f.subject}),s.jsxs(Ro,{className:"mt-1",children:["From ",f.customer_name," (",f.customer_email,")"]})]}),s.jsxs("div",{className:"flex gap-2",children:[_(f.status),S(f.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(qe,{value:f.status,onValueChange:E=>C(f.id,E),children:[s.jsx(Be,{className:"w-40",children:s.jsx(Ve,{})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"open",children:"Open"}),s.jsx(oe,{value:"in_progress",children:"In Progress"}),s.jsx(oe,{value:"resolved",children:"Resolved"}),s.jsx(oe,{value:"closed",children:"Closed"})]})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created ",pt(new Date(f.created_at),"MMM d, yyyy 'at' h:mm a")]})]}),s.jsx(Xr,{}),s.jsx(Js,{className:"h-64",children:s.jsxs("div",{className:"space-y-4 pr-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:f.customer_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:pt(new Date(f.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:f.description})]}),f.messages.map(E=>s.jsxs("div",{className:`p-3 rounded-lg ${E.sender_type==="customer"?"bg-muted":"bg-primary/10 ml-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:E.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:pt(new Date(E.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm",children:E.content})]},E.id))]})}),s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(bt,{placeholder:"Type your reply...",value:g,onChange:E=>p(E.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Z,{onClick:k,disabled:!g.trim()||x,children:x?"Sending...":"Send Reply"})})]})]})]})})})]})}function jJe(){const{customer:e,loading:t}=Ns(),[n,r]=v.useState([]),[a,i]=v.useState(!0),[o,l]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState(!1),f=async()=>{if(e)try{i(!0);const{data:b,error:j}=await J.from("support_tickets").select("*").eq("customer_id",e.id).order("created_at",{ascending:!1});if(j){console.error("Error fetching tickets:",j),_e.error("Failed to load support tickets");return}const _=await Promise.all((b||[]).map(async S=>{const{data:N}=await J.from("support_ticket_messages").select("*").eq("ticket_id",S.id).order("created_at",{ascending:!0});return{...S,messages:(N||[]).map(C=>({id:C.id,content:C.content,sender_type:C.sender_type,sender_name:C.sender_name,created_at:C.created_at}))}}));r(_)}catch(b){console.error("Error:",b),_e.error("Failed to load support tickets")}finally{i(!1)}};if(v.useEffect(()=>{if(e){f();const b=J.channel("customer-ticket-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_ticket_messages"},()=>{f()}).subscribe();return()=>{J.removeChannel(b)}}},[e]),t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(xa,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return s.jsx(Ks,{to:"/customer-login",replace:!0});const m=b=>{switch(b){case"open":return s.jsx(ei,{className:"h-4 w-4 text-yellow-500"});case"in_progress":return s.jsx(It,{className:"h-4 w-4 text-blue-500"});case"resolved":return s.jsx(ti,{className:"h-4 w-4 text-green-500"});case"closed":return s.jsx(ti,{className:"h-4 w-4 text-muted-foreground"});default:return s.jsx(ei,{className:"h-4 w-4"})}},g=b=>{const j={open:"destructive",in_progress:"default",resolved:"secondary",closed:"outline"};return s.jsx(Pe,{variant:j[b]||"default",className:"capitalize",children:b.replace("_"," ")})},p=b=>{const j={low:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",medium:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",high:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",urgent:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return s.jsx(Pe,{className:`${j[b]||""} capitalize`,variant:"outline",children:b})},x=async()=>{if(!(!c.trim()||!o)){h(!0);try{const{data:b,error:j}=await J.from("support_ticket_messages").insert({ticket_id:o.id,content:c,sender_type:"customer",sender_name:e.full_name}).select().single();if(j){_e.error("Failed to send reply");return}const _={id:b.id,content:b.content,sender_type:b.sender_type,sender_name:b.sender_name,created_at:b.created_at};r(S=>S.map(N=>N.id===o.id?{...N,messages:[...N.messages,_],updated_at:new Date().toISOString()}:N)),l(S=>S?{...S,messages:[...S.messages,_]}:null),u(""),_e.success("Reply sent successfully");try{const{data:S}=await J.from("profiles").select("email").eq("user_id",o.user_id).single();S!=null&&S.email&&await o5e({ticket_id:o.id,ticket_subject:o.subject,customer_email:e.email,customer_name:e.full_name,message_content:c,admin_email:S.email})}catch(S){console.error("Failed to send admin notification:",S)}}finally{h(!1)}}},y=n.filter(b=>b.status==="open"||b.status==="in_progress").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Support Tickets"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and respond to your support requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"outline",onClick:f,disabled:a,children:[s.jsx(xa,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),s.jsx(kE,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(ma,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y})]}),s.jsx(It,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(b=>b.status==="resolved"||b.status==="closed").length})]}),s.jsx(ti,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"Your Tickets"}),s.jsx(ye,{children:"Click on a ticket to view details and respond"})]}),s.jsx(Y,{children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(xa,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ma,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No tickets yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Need help? Create a support ticket and we'll get back to you."}),s.jsx(kE,{customerId:e.id,customerName:e.full_name,customerEmail:e.email,onTicketCreated:f,trigger:s.jsxs(Z,{children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Create Your First Ticket"]})})]}):s.jsx("div",{className:"space-y-3",children:n.map(b=>s.jsx("div",{onClick:()=>l(b),className:"p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m(b.status),s.jsx("h4",{className:"font-medium truncate",children:b.subject})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-2",children:b.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(b.created_at),"MMM d, h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sn,{className:"h-3 w-3"}),b.messages.length," messages"]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[g(b.status),p(b.priority)]})]})},b.id))})})]}),s.jsx(or,{open:!!o,onOpenChange:b=>!b&&l(null),children:s.jsx(Kn,{className:"max-w-2xl max-h-[90vh]",children:o&&s.jsxs(s.Fragment,{children:[s.jsx(Yn,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Jn,{children:o.subject}),s.jsxs(Ro,{className:"mt-1",children:["Created on ",pt(new Date(o.created_at),"MMMM d, yyyy 'at' h:mm a")]})]}),s.jsxs("div",{className:"flex gap-2",children:[g(o.status),p(o.priority)]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xr,{}),s.jsx(Js,{className:"h-[300px] pr-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 ml-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:"You"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:pt(new Date(o.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o.description})]}),o.messages.map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${b.sender_type==="customer"?"bg-primary/10 ml-8":"bg-muted mr-8"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:b.sender_type==="customer"?"You":b.sender_name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:pt(new Date(b.created_at),"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content})]},b.id))]})}),o.status!=="closed"&&s.jsxs(s.Fragment,{children:[s.jsx(Xr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(bt,{placeholder:"Type your reply...",value:c,onChange:b=>u(b.target.value),rows:3}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Z,{onClick:x,disabled:d||!c.trim(),children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Reply"]})})]})]}),o.status==="closed"&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:"This ticket is closed. Please create a new ticket if you need further assistance."})]})]})})})]})}function _Je(){const{customer:e}=Ns(),[t,n]=v.useState([]),[r,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(""),[u,d]=v.useState("all");v.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e)try{a(!0);const y=[],{data:b}=await J.from("customer_chatbot_assignments").select("chatbot_id").eq("customer_id",e.id);if(b&&b.length>0){const S=b.map(C=>C.chatbot_id),{data:N}=await J.from("leads").select("*").eq("source_type","chatbot").in("source_id",S).order("extracted_at",{ascending:!1});N&&y.push(...N.map(C=>({...C,additional_data:C.additional_data||{}})))}const{data:j}=await J.from("customer_assistant_assignments").select("assistant_id").eq("customer_id",e.id);if(j&&j.length>0){const S=j.map(C=>C.assistant_id),{data:N}=await J.from("leads").select("*").eq("source_type","voice").in("source_id",S).order("extracted_at",{ascending:!1});N&&y.push(...N.map(C=>({...C,additional_data:C.additional_data||{}})))}const{data:_}=await J.from("customer_whatsapp_agent_assignments").select("agent_id").eq("customer_id",e.id);if(_&&_.length>0){const S=_.map(C=>C.agent_id),{data:N}=await J.from("leads").select("*").eq("source_type","whatsapp").in("source_id",S).order("extracted_at",{ascending:!1});N&&y.push(...N.map(C=>({...C,additional_data:C.additional_data||{}})))}y.sort((S,N)=>new Date(N.extracted_at).getTime()-new Date(S.extracted_at).getTime()),n(y)}catch(y){console.error("Error fetching leads:",y),_e.error("Failed to load leads")}finally{a(!1)}},f=async()=>{if(e){o(!0);try{const y=await d5e({customerId:e.id});_e.success(y.message||"Leads extracted successfully"),await h()}catch(y){console.error("Error extracting leads:",y),_e.error("Failed to extract leads")}finally{o(!1)}}},m=t.filter(y=>{var S,N,C,k;const b=u==="all"||y.source_type===u,j=l.toLowerCase(),_=l===""||((S=y.name)==null?void 0:S.toLowerCase().includes(j))||((N=y.email)==null?void 0:N.toLowerCase().includes(j))||((C=y.phone_number)==null?void 0:C.includes(l))||((k=y.source_name)==null?void 0:k.toLowerCase().includes(j));return b&&_}),g=y=>{switch(y){case"chatbot":return s.jsx(yt,{className:"h-4 w-4"});case"voice":return s.jsx(Ot,{className:"h-4 w-4"});case"whatsapp":return s.jsx(Ut,{className:"h-4 w-4"});default:return s.jsx(Gn,{className:"h-4 w-4"})}},p=y=>{switch(y){case"chatbot":return"default";case"voice":return"secondary";case"whatsapp":return"outline";default:return"default"}},x={total:t.length,chatbot:t.filter(y=>y.source_type==="chatbot").length,voice:t.filter(y=>y.source_type==="voice").length,whatsapp:t.filter(y=>y.source_type==="whatsapp").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leads"}),s.jsx("p",{className:"text-muted-foreground",children:"View extracted lead data from your agents"})]}),s.jsxs(Z,{onClick:f,disabled:i,children:[s.jsx(xa,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),i?"Extracting...":"Extract Leads"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"Total Leads"}),s.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.total})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"From Chatbots"}),s.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.chatbot})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"From Voice"}),s.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.voice})})]}),s.jsxs(H,{children:[s.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(re,{className:"text-sm font-medium",children:"From WhatsApp"}),s.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Y,{children:s.jsx("div",{className:"text-2xl font-bold",children:x.whatsapp})})]})]}),s.jsxs(H,{children:[s.jsxs(ne,{children:[s.jsx(re,{children:"All Leads"}),s.jsx(ye,{children:"Browse and search through all extracted lead information"})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(le,{placeholder:"Search by name, email, phone...",value:l,onChange:y=>c(y.target.value),className:"pl-10"})]}),s.jsxs(qe,{value:u,onValueChange:d,children:[s.jsx(Be,{className:"w-full sm:w-[180px]",children:s.jsx(Ve,{placeholder:"Filter by source"})}),s.jsxs(Ue,{children:[s.jsx(oe,{value:"all",children:"All Sources"}),s.jsx(oe,{value:"chatbot",children:"Chatbots"}),s.jsx(oe,{value:"voice",children:"Voice Assistants"}),s.jsx(oe,{value:"whatsapp",children:"WhatsApp Agents"})]})]})]}),r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading leads..."})}):m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Gn,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No leads found"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:t.length===0?"Leads will appear here as your agents collect contact information.":"Try adjusting your search or filter criteria."})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Uj,{children:[s.jsx(zj,{children:s.jsxs(gu,{children:[s.jsx(Hr,{children:"Source"}),s.jsx(Hr,{children:"Agent"}),s.jsx(Hr,{children:"Name"}),s.jsx(Hr,{children:"Contact"}),s.jsx(Hr,{children:"Date"})]})}),s.jsx(qj,{children:m.map(y=>s.jsxs(gu,{children:[s.jsx(Gr,{children:s.jsxs(Pe,{variant:p(y.source_type),className:"gap-1",children:[g(y.source_type),s.jsx("span",{className:"capitalize",children:y.source_type})]})}),s.jsx(Gr,{className:"font-medium",children:y.source_name||"Unknown"}),s.jsx(Gr,{children:y.name?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gs,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:y.name})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Gr,{children:s.jsxs("div",{className:"space-y-1",children:[y.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(si,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"truncate max-w-[200px]",children:y.email})]}),y.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ot,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:y.phone_number})]}),!y.email&&!y.phone_number&&s.jsx("span",{className:"text-muted-foreground",children:"-"})]})}),s.jsx(Gr,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Dr,{className:"h-3 w-3"}),pt(new Date(y.extracted_at),"MMM d, yyyy")]})})]},y.id))})]})})]})]})]})}const NJe=new Sie,SJe=()=>s.jsx(Aie,{client:NJe,children:s.jsx(due,{children:s.jsx(hue,{children:s.jsxs(FU,{children:[s.jsx(ise,{}),s.jsx(Dse,{}),s.jsx(qoe,{children:s.jsx(Fde,{children:s.jsxs(Doe,{children:[s.jsx(st,{path:"/",element:s.jsx(Bde,{})}),s.jsx(st,{path:"/auth",element:s.jsx(qde,{})}),s.jsx(st,{path:"/auth/confirm",element:s.jsx(Wde,{})}),s.jsx(st,{path:"/dashboard",element:s.jsx(wr,{children:s.jsx(Nfe,{})})}),s.jsx(st,{path:"/chatbots",element:s.jsx(wr,{children:s.jsx(M5e,{})})}),s.jsx(st,{path:"/conversations",element:s.jsx(wr,{children:s.jsx(BUe,{})})}),s.jsx(st,{path:"/forms",element:s.jsx(wr,{children:s.jsx(GUe,{})})}),s.jsx(st,{path:"/flows",element:s.jsx(wr,{children:s.jsx(YUe,{})})}),s.jsx(st,{path:"/customers",element:s.jsx(wr,{children:s.jsx(gze,{})})}),s.jsx(st,{path:"/voice-assistants",element:s.jsx(wr,{children:s.jsx(Pqe,{})})}),s.jsx(st,{path:"/voice-assistants/:assistantId/edit",element:s.jsx(y7e,{})}),s.jsx(st,{path:"/voice-tasks",element:s.jsx(wr,{children:s.jsx(bJe,{})})}),s.jsx(st,{path:"/whatsapp-agents",element:s.jsx(wr,{children:s.jsx(b7e,{})})}),s.jsx(st,{path:"/usage",element:s.jsx(wr,{children:s.jsx(UUe,{})})}),s.jsx(st,{path:"/support-tickets",element:s.jsx(wr,{children:s.jsx(wJe,{})})}),s.jsx(st,{path:"/settings",element:s.jsx(wr,{children:s.jsx(qUe,{})})}),s.jsx(st,{path:"/billing",element:s.jsx(wr,{children:s.jsx(VUe,{})})}),s.jsx(st,{path:"/changelog",element:s.jsx(W7e,{})}),s.jsx(st,{path:"/create-chatbot",element:s.jsx($5e,{})}),s.jsx(st,{path:"/edit-chatbot/:chatbotId",element:s.jsx(L5e,{})}),s.jsx(st,{path:"/embed/:chatbotId",element:s.jsx(B5e,{})}),s.jsx(st,{path:"/messenger/:chatbotId",element:s.jsx(LUe,{})}),s.jsx(st,{path:"/widget-test",element:s.jsx(FUe,{})}),s.jsx(st,{path:"/customer-login",element:s.jsx(JUe,{})}),s.jsxs(st,{path:"/customer-dashboard",element:s.jsx(nze,{}),children:[s.jsx(st,{index:!0,element:s.jsx(sze,{})}),s.jsx(st,{path:"conversations",element:s.jsx(oze,{})}),s.jsx(st,{path:"voice-assistants",element:s.jsx(lze,{})}),s.jsx(st,{path:"whatsapp-agents",element:s.jsx(cze,{})}),s.jsx(st,{path:"leads",element:s.jsx(_Je,{})}),s.jsx(st,{path:"support-tickets",element:s.jsx(jJe,{})}),s.jsx(st,{path:"forms",element:s.jsx(fze,{})}),s.jsx(st,{path:"analytics",element:s.jsx(mze,{})}),s.jsx(st,{path:"settings",element:s.jsx(pze,{})})]}),s.jsx(st,{path:"/docs",element:s.jsx(j7e,{})}),s.jsx(st,{path:"/api",element:s.jsx(_7e,{})}),s.jsx(st,{path:"/guides",element:s.jsx(N7e,{})}),s.jsx(st,{path:"/support",element:s.jsx(S7e,{})}),s.jsx(st,{path:"/status",element:s.jsx(C7e,{})}),s.jsx(st,{path:"/about",element:s.jsx(k7e,{})}),s.jsx(st,{path:"/careers",element:s.jsx(E7e,{})}),s.jsx(st,{path:"/contact",element:s.jsx(P7e,{})}),s.jsx(st,{path:"/privacy",element:s.jsx(A7e,{})}),s.jsx(st,{path:"/terms",element:s.jsx(T7e,{})}),s.jsx(st,{path:"/cookies",element:s.jsx(O7e,{})}),s.jsx(st,{path:"*",element:s.jsx(M7e,{})})]})})})]})})})});b8(document.getElementById("root")).render(s.jsx(SJe,{}));
